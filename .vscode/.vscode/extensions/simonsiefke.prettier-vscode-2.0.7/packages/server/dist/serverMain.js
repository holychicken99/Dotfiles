!function(e,t){for(var r in t)e[r]=t[r];t.__esModule&&Object.defineProperty(e,"__esModule",{value:!0})}(exports,(()=>{"use strict";var e={18:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleRequest=t.enableBetterErrorHandlingAndLogging=t.handleError=void 0;const o=r(208),a=r(747),s=r(748);t.handleError=e=>{var t,r;console.error(e.stack);let s=((null===(t=e.stack)||void 0===t?void 0:t.split("\n"))||[])[1];if(s){let e=s.match(/\((.*):(\d+):(\d+)\)$/);if(e||(e=s.match(/at (.*):(\d+):(\d+)$/)),e){const[t,r,s,n]=e,i=a.readFileSync(r,"utf-8"),c={start:{line:parseInt(s),column:parseInt(n)}},l=o.codeFrameColumns(i,c);console.log("\n"+l+"\n")}}let n=null===(r=e.stack)||void 0===r?void 0:r.split("\n").slice(1).join("\n");(null==n?void 0:n.includes("at CallbackList.invoke"))&&(n=n.slice(0,n.indexOf("at CallbackList.invoke"))),console.log(n)};t.enableBetterErrorHandlingAndLogging=e=>{s.install();const r=((e,{trace:t=!1}={})=>r=>(...o)=>{if(t){let t=((new Error).stack||"").split("\n")[2];t=t.slice(t.indexOf("at")+"at".length,-1);const o=t.match(/(.*):(\d+):(\d+)$/);if(o){const[t,a,s,n]=o;e.console[r]("at "+a+":"+s)}}e.console[r](o.map(e=>e&&e.toString?"[object Promise]"===e.toString()||"[object Object]"===e.toString()?JSON.stringify(e):e:JSON.stringify(e)).join(""))})(e,{trace:!1});console.log=r("log"),console.info=r("info"),console.error=r("error"),process.on("uncaughtException",t.handleError),process.on("unhandledRejection",t.handleError)},t.handleRequest=e=>async(...r)=>{try{return await e(...r)}catch(e){throw t.handleError(e),e}}},926:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(648),a=r(99),s=r(755),n=r(18),i=r(189),c=new o.TextDocuments(a.TextDocument),l=o.createConnection();n.enableBetterErrorHandlingAndLogging(l);const u={capabilities:{textDocumentSync:o.TextDocumentSyncKind.Incremental,documentFormattingProvider:!0}};l.onInitialize(()=>u),l.onDocumentFormatting(n.handleRequest(async(e,t)=>{const o=c.get(e.textDocument.uri);if(!o)return;const a=o.getText(),{format:n}=await Promise.resolve().then(()=>r(189)),i=s.URI.parse(o.uri).fsPath,l=await n(a,i,o.languageId,t);switch(l.status){case"success":return console.log("success"),l.textEdits;case"error":console.log("an error occurred");break;case"ignored":console.log("file ignored");break;case"cancelled":console.log("cancelled")}})),l.onRequest(new o.RequestType("$/clearCache"),i.clearCache),c.listen(l),l.listen()},35:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatDocument=t.preloadFormatter=void 0;const o=r(392),a=r(99),s={htmlWhitespaceSensitivity:"ignore",semi:!1,trailingComma:"all",singleQuote:!0};let n=Object.create(null);const i=async e=>{if(!(e in n)){let t=await o.resolveConfig(e)||s;t={...t,filepath:e},n[e]=t}return n[e]};let c=Object.create(null);const l=async e=>{if(!(e in c)){const t=await o.getFileInfo(e,{withNodeModules:!0});c[e]=t.ignored}return c[e]},u={async csharp(){const{formatCsharp:e}=await Promise.resolve().then(()=>r(101));return e},async css(){const{formatCss:e}=await Promise.resolve().then(()=>r(151));return e},async elm(){const{formatElm:e}=await Promise.resolve().then(()=>r(910));return e},async flow(){const{formatFlow:e}=await Promise.resolve().then(()=>r(8));return e},async graphql(){const{formatGraphql:e}=await Promise.resolve().then(()=>r(269));return e},async handlebars(){const{formatHandlebars:e}=await Promise.resolve().then(()=>r(307));return e},async html(){const{formatHtml:e}=await Promise.resolve().then(()=>r(413));return e},async java(){const{formatJava:e}=await Promise.resolve().then(()=>r(365));return e},async javascript(){const{formatJavascript:e}=await Promise.resolve().then(()=>r(267));return e},async javascriptreact(){const{formatJavascriptReact:e}=await Promise.resolve().then(()=>r(253));return e},async json(){const{formatJson:e}=await Promise.resolve().then(()=>r(113));return e},async jsonc(){const{formatJsonc:e}=await Promise.resolve().then(()=>r(607));return e},async less(){const{formatLess:e}=await Promise.resolve().then(()=>r(933));return e},async markdown(){const{formatMarkdown:e}=await Promise.resolve().then(()=>r(611));return e},async mdx(){const{formatMdx:e}=await Promise.resolve().then(()=>r(873));return e},async php(){const{formatPhp:e}=await Promise.resolve().then(()=>r(373));return e},async postcss(){const{formatPostcss:e}=await Promise.resolve().then(()=>r(434));return e},async scss(){const{formatScss:e}=await Promise.resolve().then(()=>r(466));return e},async svelte(){const{formatSvelte:e}=await Promise.resolve().then(()=>r(223));return e},async typescript(){const{formatTypescript:e}=await Promise.resolve().then(()=>r(714));return e},async typescriptreact(){const{formatTypescriptreact:e}=await Promise.resolve().then(()=>r(733));return e},async twig(){const{formatTwig:e}=await Promise.resolve().then(()=>r(558));return e},async vue(){const{formatVue:e}=await Promise.resolve().then(()=>r(283));return e},async xml(){const{formatXml:e}=await Promise.resolve().then(()=>r(958));return e},async yaml(){const{formatYaml:e}=await Promise.resolve().then(()=>r(214));return e}};let d=Object.create(null);const m=async e=>(e in d||(d[e]=e in u?await u[e]():void 0),d[e]),f=(e,t)=>e.endsWith(".svg")?e+".xml":e.endsWith(".map")||e.endsWith(".code-workspace")?e+".json":"json"!==t||e.endsWith(".json")?e:e+".json";let p=new Set;t.preloadFormatter=async(e,t)=>{if(e=f(e,t),p.has(e))return;p.add(e);const r=await m(t),a=await l(e),s=await i(e);r&&!a&&r(o.format)("",s)};t.formatDocument=async(e,t,r,s)=>{t=f(t,r);const n=l(t),c=m(r),u=i(t),[d,p,v]=await Promise.all([n,c,u]);if(!p||d)return{status:"ignored"};let y;try{y=p(o.format)(e,v)}catch(e){return{status:"error"}}if(void 0===y)return{status:"error"};return{status:"success",textEdits:[((e,{startOffset:t,endOffset:r,insertedText:o})=>{const s=a.TextDocument.create("","",-1,e);return{range:{start:s.positionAt(t),end:s.positionAt(r)},newText:o}})(e,((e,t)=>{const r=Math.min(e.length,t.length);let o=0;for(;o<r&&e[o]===t[o];)o++;let a=1;for(;a<r-o&&e[e.length-a]===t[t.length-a];)a++;a--;return{startOffset:o,endOffset:e.length-a,insertedText:t.slice(o,t.length-a)}})(e,y))]}}},101:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatCsharp=void 0;const o=r(975);t.formatCsharp=e=>(t,r)=>e(t,{...r,plugins:[o]})},151:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatCss=void 0,t.formatCss=e=>(t,r)=>e(t,r)},910:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatElm=void 0;const o=r(813);t.formatElm=e=>(t,r)=>e(t,{...r,plugins:[o]})},8:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatFlow=void 0,t.formatFlow=e=>(t,r)=>e(t,r)},269:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatGraphql=void 0,t.formatGraphql=e=>(t,r)=>e(t,r)},307:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatHandlebars=void 0,t.formatHandlebars=e=>(t,r)=>e(t,{...r,parser:"glimmer"})},413:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatHtml=void 0,t.formatHtml=e=>(t,r)=>e(t,r)},365:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatJava=void 0;const o=r(622);t.formatJava=e=>(t,r)=>e(t,{...r,plugins:[o]})},267:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatJavascript=void 0,t.formatJavascript=e=>(t,r)=>e(t,r)},253:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatJavascriptReact=void 0,t.formatJavascriptReact=e=>(t,r)=>e(t,r)},113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatJson=void 0,t.formatJson=e=>(t,r)=>e(t,r)},607:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatJsonc=void 0,t.formatJsonc=e=>(t,r)=>e(t,r)},933:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatLess=void 0,t.formatLess=e=>(t,r)=>e(t,r)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatMarkdown=void 0,t.formatMarkdown=e=>(t,r)=>e(t,r)},873:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatMdx=void 0,t.formatMdx=e=>(t,r)=>e(t,r)},373:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatPhp=void 0;const o=r(367);t.formatPhp=e=>(t,r)=>e(t,{...r,plugins:[o]})},434:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatPostcss=void 0,t.formatPostcss=e=>(t,r)=>e(t,r)},466:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatScss=void 0,t.formatScss=e=>(t,r)=>e(t,r)},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatSvelte=void 0;const o=r(511);t.formatSvelte=e=>(t,r)=>e(t,{...r,plugins:[o]})},558:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatTwig=void 0;const o=r(291);t.formatTwig=e=>(t,r)=>e(t,{...r,plugins:[o]})},714:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatTypescript=void 0,t.formatTypescript=e=>(t,r)=>e(t,r)},733:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatTypescriptreact=void 0,t.formatTypescriptreact=e=>(t,r)=>e(t,r)},283:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatVue=void 0,t.formatVue=e=>(t,r)=>e(t,r)},958:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatXml=void 0;const o=r(976);t.formatXml=e=>(t,r)=>e(t,{...r,plugins:[o]})},214:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatYaml=void 0,t.formatYaml=e=>(t,r)=>e(t,r)},189:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCache=void 0;var o=r(35);Object.defineProperty(t,"format",{enumerable:!0,get:function(){return o.formatDocument}}),t.clearCache=()=>{}},208:e=>{e.exports=require("@babel/code-frame")},367:e=>{e.exports=require("@prettier/plugin-php")},976:e=>{e.exports=require("@prettier/plugin-xml")},747:e=>{e.exports=require("fs")},392:e=>{e.exports=require("prettier")},975:e=>{e.exports=require("prettier-plugin-csharp")},813:e=>{e.exports=require("prettier-plugin-elm")},622:e=>{e.exports=require("prettier-plugin-java")},511:e=>{e.exports=require("prettier-plugin-svelte")},291:e=>{e.exports=require("prettier-plugin-twig-melody")},748:e=>{e.exports=require("source-map-support")},648:e=>{e.exports=require("vscode-languageserver")},99:e=>{e.exports=require("vscode-languageserver-textdocument")},755:e=>{e.exports=require("vscode-uri")}},t={};return function r(o){if(t[o])return t[o].exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}(926)})());
//# sourceMappingURL=serverMain.js.map