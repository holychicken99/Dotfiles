(()=>{var e={6281:(e,t,r)=>{"use strict";var n=r(7396),o=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(r(4309).wp(e&&t,this._client),r(5823).wp(e,this._client),r(454).wp(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=o},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5282),o=r(7396),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,o,s){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:o,tracestate:s},customProperties:new i(n)}:null},e.runWithContext=function(t,r){return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r();var n},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=r(9562):this.cls=r(3057)),e.session=this.cls.createNamespace("AI-CLS-Session"),o.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=s;var i=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(t,r){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(r))n.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+r);else{for(var o=0;o<this.props.length;++o){var s=this.props[o];if(s.key===t)return void(s.value=r)}this.props.push({key:t,value:r})}},e.bannedCharacters=/[,=]/,e}()},6639:e=>{"use strict";var t=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||13===parseInt(r[0])&&parseInt(r[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(t,n,o){void 0===o&&(o=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:o}),r._client.flush({isAppCrashing:!0}),t&&n&&1===process.listeners(n).length&&(console.error(o),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=t},8723:(e,t,r)=>{"use strict";var n=r(8605),o=r(7211),s=r(5282),i=r(5740),a=r(9036),c=r(8339),u=r(894),l=r(9962),p=r(8090),d=r(7396),h=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(r(7886).wp(e,this._client),r(4777).wp(e,this._client),r(5071).wp(e,this._client),r(1227).wp(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0,n.get;var r=n.request,s=o.request,i=function(r,n){var o=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];r[e.alreadyAutoCollectedFlag]=!0,r&&n&&o&&(u.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};n.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var s=r.call.apply(r,[n,e].concat(t));return i(s,e),s},o.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=s.call.apply(s,[o,e].concat(t));return i(n,e),n},n.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o,s=(o=n.request).call.apply(o,[n,e].concat(t));return s.end(),s},o.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,s=(n=o.request).call.apply(n,[o,e].concat(t));return s.end(),s}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,o,d=new c(r.options,r.request),h=u.CorrelationContextManager.getCurrentContext();if(h&&h.operation&&h.operation.traceparent&&p.isValidTraceId(h.operation.traceparent.traceId)?(h.operation.traceparent.updateSpanId(),n=h.operation.traceparent.getBackCompatRequestId()):l.w3cEnabled?(o=(m=new p).toString(),n=m.getBackCompatRequestId()):n=h&&h.operation&&h.operation.parentId+e.requestNumber+++".",i.canIncludeCorrelationHeader(t,d.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var f=r.request.getHeader(a.requestContextHeader);try{i.safeIncludeCorrelationHeader(t,r.request,f)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(h&&h.operation)try{if(r.request.setHeader(a.requestIdHeader,n),r.request.setHeader(a.parentIdHeader,h.operation.id),r.request.setHeader(a.rootIdHeader,n),o||h.operation.traceparent)r.request.setHeader(a.traceparentHeader,o||h.operation.traceparent.toString());else if(l.w3cEnabled){var m=(new p).toString();r.request.setHeader(a.traceparentHeader,m)}if(h.operation.tracestate){var v=h.operation.tracestate.toString();v&&r.request.setHeader(a.traceStateHeader,v)}var g=h.customProperties.serializeToHeader();g&&r.request.setHeader(a.correlationContextHeader,g)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){d.onResponse(e);var o=d.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects["http.ClientResponse"]=e,t.trackDependency(o)})),r.request.on("error",(function(e){d.onError(e);var o=d.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects.Error=e,t.trackDependency(o)})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=h},8339:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=r(8835),i=r(5290),a=r(5740),c=r(9036),u=r(3054),l=r(9962),p=function(e){function t(r,n){var o=e.call(this)||this;return n&&n.method&&r&&(o.method=n.method,o.url=t._getUrlFromRequestOptions(r,n),o.startTime=+new Date),o}return o(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=s.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,o=i.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;this.correlationId?(o=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a=r.hostname+" | "+this.correlationId)):o=i.RemoteDependencyDataConstants.TYPE_HTTP,r.port&&(a+=":"+r.port);var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:a};if(e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=s.parse(e);else{var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var n=s.parse(e.path);e.pathname=n.pathname,e.search=n.search}return e.host&&e.port&&!s.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",s.format(e)},t}(u);e.exports=p},6694:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=r(8835),i=r(5290),a=r(5740),c=r(9036),u=r(3054),l=r(9962),p=r(6333),d=r(8090),h=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return o(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+s.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+s.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=s.parse(e.url),n=r.pathname,o=r.search;return s.format({protocol:t?"https":"http",host:e.headers.host,pathname:n,search:o})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader],n=e.headers[c.traceparentHeader],o=e.headers[c.requestIdHeader],s=e.headers[c.parentIdHeader],i=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],l.w3cEnabled&&(n||r)?(this.traceparent=new d(n),this.tracestate=n&&r&&new p(r),this.setBackCompatFromThisTraceContext()):o?l.w3cEnabled?(this.traceparent=new d(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=s,this.traceparent.legacyRootId=i||s,this.setBackCompatFromThisTraceContext()):(this.parentId=s,this.requestId=l.generateRequestId(i||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new i.ContextTagKeys,t}(u);e.exports=h},731:(e,t,r)=>{"use strict";var n=r(8605),o=r(7211),s=r(5282),i=r(5740),a=r(9036),c=r(6694),u=r(894),l=r(4350),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,o){u.CorrelationContextManager.wrapEmitter(n),u.CorrelationContextManager.wrapEmitter(o);var s=n&&!n[e.alreadyAutoCollectedFlag];if(n&&s){var i=new c(n),a=t._generateCorrelationContext(i);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:o},i)),"function"==typeof r&&r(n,o)}))}else"function"==typeof r&&r(n,o)}}},s=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},i=n.createServer;n.createServer=function(e){var t=i(r(e));return s(t),t};var a=o.createServer;o.createServer=function(e,t){var n=a(e,r(t));return s(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=u.CorrelationContextManager.getCurrentContext(),o=new c(r.request,n&&n.operation.parentId);n&&(n.operation.id=o.getOperationId(t.context.tags)||n.operation.id,n.operation.name=o.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=o.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(o.getCorrelationContextHeader())),e.endRequest(t,o,r,r.duration,r.error)}else s.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var o=u.CorrelationContextManager.getCurrentContext(),a=n||new c(r.request,o&&o.operation.parentId);i.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),o&&!n&&(o.operation.id=a.getOperationId(t.context.tags)||o.operation.id,o.operation.name=a.getOperationName(t.context.tags)||o.operation.name,o.operation.parentId=a.getOperationParentId(t.context.tags)||o.operation.parentId,o.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,a,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,a,r,null,n)}))}else s.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(a.requestContextHeader);i.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,o){o?t.onError(o,n):t.onResponse(r.response,n);var s=t.getRequestTelemetry(r);if(s.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var i in r.tagOverrides)s.tagOverrides[i]=r.tagOverrides[i];var a=t.getLegacyRootId();a&&(s.properties.ai_legacyRootId=a),s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=r.request,s.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(s)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},1629:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(9253),s=r(4470),i=r(5282),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,o){var s=this;if(void 0===n&&(n={}),void 0===o&&(o=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=r(6591);e._emitter=new a,e._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,o),this._handle=setInterval((function(){return s._trackNativeMetrics()}),o),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[o.ENV_nativeMetricsDisableAll],r=process.env[o.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(r){var s=r.split(","),i={};if(s.length>0)for(var a=0,c=s;a<c.length;a++)i[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:n({},e,i)}:{isEnabled:e,disabledMetrics:i}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,r=e._emitter.getGCData();for(var n in r){var o=r[n].metrics,i=n+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:i,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var r,n=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:n,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,r)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,r,n=process.memoryUsage(),o=n.heapUsed,i=n.heapTotal,a=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:i,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-i,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,r)})}},e}();t.AutoCollectNativePerformance=a},4350:(e,t,r)=>{"use strict";var n=r(2087),o=r(3580),s=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var o=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return o.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,s=0,i=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],p=(u.model,u.speed,u.times),d=l.times;t+=p.user-d.user||0,r+=p.sys-d.sys||0,s+=p.nice-d.nice||0,i+=p.idle-d.idle||0,a+=p.irq-d.irq||0}var h=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),m=process.hrtime(),v=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&&2===this._lastHrtime.length&&(h=100*v/((1e6*(m[0]-this._lastHrtime[0])+(m[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=m}var g=t+r+s+i+a||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(g-i)/g*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:h||t/g*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,s=r.totalFailedRequestCount-t.totalFailedRequestCount||0,i=r.time-t.time,a=i/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,i>0){var u=n/a,l=s/a;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,s=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,i=r.time-t.time,a=i/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,i>0){var u=n/a,l=s/a;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,s=r.time-t.time;if(s>0){var i=n/(s/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:i})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=s},3054:e=>{"use strict";var t=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var o in t)n[o]=t[o]&&t[o].toString&&t[o].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=t},5823:(e,t,r)=>{"use strict";var n=r(5290),o=r(4953),s=[],i={10:n.SeverityLevel.Verbose,20:n.SeverityLevel.Verbose,30:n.SeverityLevel.Information,40:n.SeverityLevel.Warning,50:n.SeverityLevel.Error,60:n.SeverityLevel.Critical},a=function(e){var t=e.data.result;s.forEach((function(r){var n=i[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};t.wp=function(e,t){e?(0===s.length&&o.channel.subscribe("bunyan",a),s.push(t)):0===(s=s.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("bunyan",a)}},4309:(e,t,r)=>{"use strict";var n=r(5290),o=r(4953),s=[],i=function(e){var t=e.data.message;s.forEach((function(r){t instanceof Error?r.trackException({exception:t}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),r.trackTrace({message:t,severity:e.data.stderr?n.SeverityLevel.Warning:n.SeverityLevel.Information}))}))};t.wp=function(e,t){e?(0===s.length&&o.channel.subscribe("console",i),s.push(t)):0===(s=s.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("console",i)}},7396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5282);t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var o="DiagnosticChannel";if(t.IsInitialized){var s=r(4106),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:s.bunyan,console:s.console,mongodb:s.mongodb,mongodbCore:s.mongodbCore,mysql:s.mysql,redis:s.redis,pg:s.pg,pgPool:s.pgPool,winston:s.winston};for(var c in a)-1===i.indexOf(c)&&(a[c].enable(),n.info(o,"Subscribed to "+c+" events"));i.length>0&&n.info(o,"Some modules will not be patched",i)}else n.info(o,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&r(4953).channel.addContextPreservation(e)}},7886:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){e.data.event.commandName,o.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("mongodb",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mongodb",t.qP)}},4777:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){o.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",o=!e.data.err,s=(r._connection||{}).config||{},i=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;t.trackDependency({target:i,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"mysql"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("mysql",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mysql",t.qP)}},1227:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){o.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",o=!e.data.error,s=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"postgres"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("postgres",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("postgres",t.qP)}},5071:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){o.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("redis",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("redis",t.qP)}},454:(e,t,r)=>{"use strict";var n=r(5290),o=r(4953),s=[],i={syslog:function(e){var t={emerg:n.SeverityLevel.Critical,alert:n.SeverityLevel.Critical,crit:n.SeverityLevel.Critical,error:n.SeverityLevel.Error,warning:n.SeverityLevel.Warning,notice:n.SeverityLevel.Information,info:n.SeverityLevel.Information,debug:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},npm:function(e){var t={error:n.SeverityLevel.Error,warn:n.SeverityLevel.Warning,info:n.SeverityLevel.Information,verbose:n.SeverityLevel.Verbose,debug:n.SeverityLevel.Verbose,silly:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},unknown:function(e){return n.SeverityLevel.Information}},a=function(e){var t=e.data.message;s.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=i[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};t.wp=function(e,t){e?(0===s.length&&o.channel.subscribe("winston",a),s.push(t)):0===(s=s.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("winston",a)}},3580:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(r=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(n=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((o={})[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,o[n.REQUEST_RATE]=r.REQUEST_RATE,o[n.REQUEST_DURATION]=r.REQUEST_DURATION,o[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,o[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,o[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,o[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,o[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,o[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,o),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability}},9382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9958),o=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=o,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof n.EventData||e instanceof n.ExceptionData||e instanceof n.MessageData||e instanceof n.MetricData||e instanceof n.PageViewData||e instanceof n.RemoteDependencyData||e instanceof n.RequestData}},7220:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=s},4101:e=>{"use strict";e.exports=function(){}},9871:e=>{"use strict";e.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}},320:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){return e.call(this)||this}return o(t,e),t}(r(4101));e.exports=s},8602:(e,t,r)=>{"use strict";var n=r(495);e.exports=function(){this.kind=n.Measurement}},495:e=>{"use strict";var t;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(t||(t={})),e.exports=t},8934:e=>{"use strict";e.exports=function(){}},7300:e=>{"use strict";e.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}},4526:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=s},935:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=s},8082:e=>{"use strict";e.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}},901:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return o(t,e),t}(r(8934));e.exports=s},3092:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return o(t,e),t}(r(8934));e.exports=s},6279:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(4526));e.exports=s},6290:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=s},7339:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=s},9697:e=>{"use strict";var t;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(t||(t={})),e.exports=t},6376:e=>{"use strict";e.exports=function(){}},9958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=r(7220),t.Base=r(4101),t.ContextTagKeys=r(9871),t.Data=r(320),t.DataPoint=r(8602),t.DataPointType=r(495),t.Domain=r(8934),t.Envelope=r(7300),t.EventData=r(4526),t.ExceptionData=r(935),t.ExceptionDetails=r(8082),t.MessageData=r(901),t.MetricData=r(3092),t.PageViewData=r(6279),t.RemoteDependencyData=r(6290),t.RequestData=r(7339),t.SeverityLevel=r(9697),t.StackFrame=r(6376)},5481:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData";case r.Availability:return"AvailabilityData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency;case"AvailabilityData":return r.Availability}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability"}(r=t.TelemetryType||(t.TelemetryType={}))},2626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(5481))},5290:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(9382)),n(r(9958)),n(r(2626))},3504:(e,t,r)=>{"use strict";var n=r(5282),o=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var r=this._stringify(e);"string"==typeof r&&(this._buffer.push(r),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else n.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;if(!r){var n=this._buffer.join("\n");e?(this._sender.saveOnCrash(n),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(n):new Buffer(n),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){n.warn("Failed to serialize payload",t,e)}},e}();e.exports=o},9253:(e,t,r)=>{"use strict";var n=r(9962),o=r(5158),s=r(3580),i=r(8835),a=function(){function e(t){var r=this;this.endpointBase=s.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],a=o.parse(t),c=o.parse(n),u=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||s.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=i.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=a},5158:(e,t,r)=>{"use strict";var n=r(3580),o=function(){function e(){}return e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var o=n[0].toLowerCase(),s=n[1];t[o]=s}return t}),{});if(Object.keys(r).length>0){if(r.endpointsuffix){var o=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+o+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+o+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=o},4470:(e,t,r)=>{"use strict";var n=r(2087),o=r(5747),s=r(5622),i=r(5290),a=r(5282),c=function(){function e(e){this.keys=new i.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||s.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=s.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},9962:(e,t,r)=>{"use strict";var n=r(5740),o=r(5282),s=function(){function e(){}return e.queryCorrelationId=function(t,r){var s=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(s))r(e.completedLookups[s]);else if(e.pendingLookups[s])e.pendingLookups[s].push(r);else{e.pendingLookups[s]=[r];var i=function(){if(e.pendingLookups[s]){var r={method:"GET",disableAppInsightsAutoCollection:!0};o.info(e.TAG,r);var a=n.makeRequest(t,s,r,(function(r){if(200===r.statusCode){var n="";r.setEncoding("utf-8"),r.on("data",(function(e){n+=e})),r.on("end",(function(){o.info(e.TAG,n);var t=e.correlationIdPrefix+n;e.completedLookups[s]=t,e.pendingLookups[s]&&e.pendingLookups[s].forEach((function(e){return e(t)})),delete e.pendingLookups[s]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[s]=void 0,delete e.pendingLookups[s]):setTimeout(i,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){o.warn(e.TAG,t)})),a.end())}};setTimeout(i,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",o=e.pendingLookups[n];o&&(e.pendingLookups[n]=o.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,o){if(t.length+r.length<e.requestIdMaxLength)return t+r+o;var s=e.requestIdMaxLength-9;if(t.length>s)for(;s>1;--s){var i=t[s-1];if("."===i||"_"===i)break}if(s<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,s)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();e.exports=s},9813:(e,t,r)=>{"use strict";var n=r(5290),o=r(5740),s=r(894),i=function(){function e(){}return e.createEnvelope=function(t,r,s,i,a){var c=null;switch(r){case n.TelemetryType.Trace:c=e.createTraceData(t);break;case n.TelemetryType.Dependency:c=e.createDependencyData(t);break;case n.TelemetryType.Event:c=e.createEventData(t);break;case n.TelemetryType.Exception:c=e.createExceptionData(t);break;case n.TelemetryType.Request:c=e.createRequestData(t);break;case n.TelemetryType.Metric:c=e.createMetricData(t);break;case n.TelemetryType.Availability:c=e.createAvailabilityData(t)}if(s&&n.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in s)c.baseData.properties[u]||(c.baseData.properties[u]=s[u]);else c.baseData.properties=s;c.baseData.properties=o.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",p=new n.Envelope;return p.data=c,p.iKey=l,p.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(i,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=a?a.samplingPercentage:100,r===n.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=o.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=o.w3cTraceId();var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),r.baseData=t,r},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var r=e.exception.stack,s=new n.ExceptionDetails;s.message=e.exception.message,s.typeName=e.exception.name,s.parsedStack=this.parseStack(r),s.hasFullStack=o.isArray(s.parsedStack)&&s.parsedStack.length>0,t.exceptions.push(s);var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),i.baseData=t,i},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=o.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=o.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),r.baseData=t,r},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),o.baseData=t,o},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=o.w3cTraceId(),t.name=e.name,t.duration=o.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),r.baseData=t,r},e.getTags=function(e,t){var r=s.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var o in e.tags)n[o]=e.tags[o];if(t)for(var o in t)n[o]=t[o];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,o=0,s=0;s<=r.length;s++){var i=r[s];if(a.regex.test(i)){var c=new a(r[s],n++);o+=c.sizeInBytes,t.push(c)}}if(o>32768)for(var u=0,l=t.length-1,p=0,d=u,h=l;u<l;){if((p+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var f=h-d+1;t.splice(d,f);break}d=u,h=l,u++,l--}}return t},e}(),a=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=o.trim(t);var n=t.match(e.regex);n&&n.length>=5&&(this.method=o.trim(n[2])||this.method,this.fileName=o.trim(n[4])||"<no_filename>",this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=i},5282:e=>{"use strict";var t=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();e.exports=t},1259:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=r(7625),i=r(731),a=r(8723),c=r(5282),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?i.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?i.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(s);e.exports=u},7148:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=r(2087),s=r(5290),i=r(3580),a=r(5740),c=r(5282),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var s=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",i=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||s;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:u,MachineName:s,Instance:i}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case s.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case s.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case s.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case s.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case s.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.name;return n({},r,{Name:o})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.severityLevel||0;return n({},r,{Message:t.data.baseData.message,SeverityLevel:s.SeverityLevel[o]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.exceptions,s="",i="",a="";return o&&o.length>0&&(o[0].parsedStack&&o[0].parsedStack.length>0?o[0].parsedStack.forEach((function(e){s+=e.assembly+"\n"})):o[0].stack&&o[0].stack.length>0&&(s=o[0].stack),i=o[0].message,a=o[0].typeName),n({},r,{Exception:s,ExceptionMessage:i,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n({},r,{Name:o.name,Success:o.success,Duration:o.duration,ResponseCode:o.responseCode,OperationName:o.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n({},r,{Name:o.name,Target:o.target,Success:o.success,Duration:o.duration,ResultCode:o.resultCode,CommandName:o.data,OperationName:r.OperationId,DependencyTypeName:o.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=i.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=i.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var o={key:n,value:r[n]};t.push(o)}var s=e.data.baseData.properties||{};for(var n in s)s.hasOwnProperty(n)&&(o={key:n,value:s[n]},t.push(o));return t},e.keys=new s.ContextTagKeys,e}();e.exports=l},9184:(e,t,r)=>{"use strict";var n=r(7211),o=r(8723),s=r(5282),i=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,r,i){var a,c,u=this,l=JSON.stringify(t),p=((a={})[o.disableCollectionRequestOption]=!0,a.host=this._config.quickPulseHost,a.method="POST",a.path="/QuickPulseService.svc/"+i+"?ikey="+this._config.instrumentationKey,a.headers=((c={Expect:"100-continue"})["x-ms-qps-transmission-time"]=1e4*Date.now(),c["Content-Type"]="application/json",c["Content-Length"]=Buffer.byteLength(l),c),a),d=n.request(p,(function(e){var t="true"===e.headers["x-ms-qps-subscribed"];u._consecutiveErrors=0,r(t,e)}));d.on("error",(function(t){u._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";u._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+u._consecutiveErrors+" consecutive times. Most recent error:",s.warn(e.TAG,n,t)):s.info(e.TAG,n,t),r()})),d.write(l),d.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=i},3668:(e,t,r)=>{"use strict";var n=r(5282),o=r(9253),s=r(7148),i=r(9184),a=r(3580),c=r(4470),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new o(e),this.context=t||new c,this._sender=new i(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=s.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=s.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,r=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),n=s.createQuickPulseEnvelope(r,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(n):this._ping(n);var o=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,o=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(o=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),o),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(n.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},9036:e=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},2588:(e,t,r)=>{"use strict";var n=r(5747),o=r(2087),s=r(5622),i=r(8761),a=r(3129),c=r(5282),u=r(8723),l=r(5740),p=function(){function e(t,r,o){if(this._config=t,this._onSuccess=r,this._onError=o,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=n.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,r){var n=this,o=this._config.endpointUrl,s={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};i.gzip(t,(function(i,a){var p=a;i?(c.warn(i),p=t,s.headers["Content-Length"]=t.length.toString()):(s.headers["Content-Encoding"]="gzip",s.headers["Content-Length"]=a.length),c.info(e.TAG,s),s[u.disableCollectionRequestOption]=!0;var d=l.makeRequest(n._config,o,s,(function(o){o.setEncoding("utf-8");var s="";o.on("data",(function(e){s+=e})),o.on("end",(function(){n._numConsecutiveFailures=0,c.info(e.TAG,s),"function"==typeof n._onSuccess&&n._onSuccess(s),"function"==typeof r&&r(s),n._enableDiskRetryMode&&(200===o.statusCode?setTimeout((function(){return n._sendFirstFileOnDisk()}),n._resendInterval).unref():408!==o.statusCode&&429!==o.statusCode&&439!==o.statusCode&&500!==o.statusCode&&503!==o.statusCode||n._storeToDisk(t))}))}));d.on("error",(function(o){if(n._numConsecutiveFailures++,!n._enableDiskRetryMode||n._numConsecutiveFailures>0&&n._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var s="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";n._enableDiskRetryMode&&(s="Ingestion endpoint could not be reached "+n._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,s,o)}else s="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",c.info(e.TAG,s,o);if(n._onErrorHelper(o),"function"==typeof r){var i="error sending telemetry";o&&"function"==typeof o.toString&&(i=o.toString()),r(i)}n._enableDiskRetryMode&&n._storeToDisk(t)})),d.write(p),d.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,r){var n=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,o){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(o,s){if(o)return e.ACLED_DIRECTORIES[t]=!1,r(o);n._runICACLS(n._getACLArguments(t,s),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;n.lstat(e,(function(o,s){o&&"ENOENT"===o.code?n.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!o&&s.isDirectory()?r._applyACLRules(e,t):t(o||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){n.readdir(e,(function(r,o){if(r)return t(r,-1);var i=null,a=0,c=0;if(0!==o.length)for(var u=0;u<o.length;u++)n.stat(s.join(e,o[u]),(function(e,r){c++,e?i=e:r.isFile()&&(a+=r.size),c===o.length&&t(i,i?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=n.readdirSync(e),r=0,o=0;o<t.length;o++)r+=n.statSync(s.join(e,t[o])).size;return r},e.prototype._storeToDisk=function(t){var r=this,i=s.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+i),this._confirmDirExists(i,(function(o){if(o)return c.warn(e.TAG,"Error while checking/creating directory: "+(o&&o.message)),void r._onErrorHelper(o);r._getShallowDirectorySize(i,(function(o,a){if(o||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(o&&o.message)),void r._onErrorHelper(o);if(a>r._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var u=(new Date).getTime()+".ai.json",l=s.join(i,u);c.info(e.TAG,"saving data to disk at: "+l),n.writeFile(l,t,{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var r=s.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+r),n.existsSync(r)||n.mkdirSync(r),this._applyACLRulesSync(r);var i=this._getShallowDirectorySizeSync(r);if(i>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+i);var a=(new Date).getTime()+".ai.json",u=s.join(r,a);c.info(e.TAG,"saving data before crash to disk at: "+u),n.writeFileSync(u,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,r=s.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);n.exists(r,(function(e){e&&n.readdir(r,(function(e,o){if(e)t._onErrorHelper(e);else if((o=o.filter((function(e){return s.basename(e).indexOf(".ai.json")>-1}))).length>0){var i=o[0],a=s.join(r,i);n.readFile(a,(function(e,r){e?t._onErrorHelper(e):n.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(r)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===o.type(),e}();e.exports=p},7625:(e,t,r)=>{"use strict";var n=r(8835),o=r(9253),s=r(4470),i=r(5290),a=r(3504),c=r(9428),u=r(894),l=r(2588),p=r(5740),d=r(5282),h=r(9813),f=function(){function e(e){this._telemetryProcessors=[];var t=new o(e);this.config=t,this.context=new s,this.commonProperties={};var r=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,i.TelemetryType.Availability)},e.prototype.trackTrace=function(e){this.track(e,i.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,i.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,i.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,i.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,i.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,i.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&i.telemetryTypeToBaseType(t)){var r=h.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString());var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&c.samplingTelemetryProcessor(r,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),n&&this.channel.send(r)}else d.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var o=0;o<n;++o)try{var s=this._telemetryProcessors[o];if(s&&!1===s.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r},e}();e.exports=f},8090:(e,t,r)=>{"use strict";var n=r(5740),o=r(9962),s=function(){function e(t,r){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var s=t.trim().split("-"),i=s.length;i>=4?(this.version=s[0],this.traceId=s[1],this.spanId=s[2],this.traceFlag=s[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==i&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var a=o.getRootId(r);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==r.indexOf("|")&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=a,this.spanId=r}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=s},6333:e=>{"use strict";var t=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),s=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&s}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},o=t.split(",");if(o.length>32)return null;for(var s=0,i=o;s<i.length;s++){var a=i[s].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(n[c[0]])return null;n[c[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();e.exports=t},5740:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=r(8605),s=r(7211),i=r(8835),a=r(7619),c=r(5282),u=r(9036),l=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var o=t+"=",s=r.split(";"),i=0;i<s.length;i++)if(r=s[i],(r=e.trim(r))&&0===r.indexOf(o)){n=r.substring(o.length,s[i].length);break}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",o=0;o<4;o++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var s=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+s+n.substr(16,3)+n.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var o="",s=t[n],i=typeof s;if(e.isPrimitive(s))o=s.toString();else if(null===s||"undefined"===i)o="";else{if("function"===i){c.info("key: "+n+" was function; will not serialize");continue}var a=e.isArray(s)?s:e.extractObject(s);try{o=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){o=s.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+n+", could not be serialized")}}r[n]=o.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++)if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(i.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[u.requestContextHeader];if(r)for(var n=r.split(","),o=0;o<n.length;++o){var s=n[o].split("=");if(2==s.length&&s[0]==t)return s[1]}},e.makeRequest=function(t,r,a,u){r&&0===r.indexOf("//")&&(r="https:"+r);var l=i.parse(r),p=n({},a,{host:l.hostname,port:l.port,path:l.pathname}),d=void 0;if("https:"===l.protocol&&(d=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(d=t.proxyHttpUrl||void 0),d){0===d.indexOf("//")&&(d="http:"+d);var h=i.parse(d);"https:"===h.protocol?(c.info("Proxies that use HTTPS are not supported"),d=void 0):p=n({},p,{host:h.hostname,port:h.port||"80",path:r,headers:n({},p.headers,{Host:l.hostname})})}var f="https:"===l.protocol&&!d;return f&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,f?s.request(p,u):o.request(p,u)},e.safeIncludeCorrelationHeader=function(t,r,n){var o;if("string"==typeof n)o=n;else if(n instanceof Array)o=n.join(",");else if(n&&"function"==typeof n.toString)try{o=n.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}o?e.addCorrelationIdHeaderFromString(t,r,o):r.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),o=u.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,o.length)===o}))||t.setHeader(u.requestContextHeader,r+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new s.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=l},4127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4350),o=r(5290);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case o.TelemetryTypeString.Exception:n.countException();break;case o.TelemetryTypeString.Request:var r=e.data.baseData;n.countRequest(r.duration,r.success);break;case o.TelemetryTypeString.Dependency:var s=e.data.baseData;n.countDependency(s.duration,s.success)}return!0}},2037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5290);function o(e){var t=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)r=((r<<5)+r|0)+e.charCodeAt(n)|0;return(r=r<=-2147483648?t:Math.abs(r))/t*100}t.samplingTelemetryProcessor=function(e,t){var r=e.sampleRate;return null==r||r>=100||!(!e.data||n.TelemetryType.Metric!==n.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?o(t.correlationContext.operation.id)<r:100*Math.random()<r)},t.getSamplingHashCode=o},9428:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2037)),n(r(4127))},9574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(894),s=r(6281),i=r(6639),a=r(4350),c=r(8723),u=r(731),l=r(9962),p=r(5282),d=r(3668),h=r(1629);t.TelemetryClient=r(1259),t.Contracts=r(5290),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(n=t.DistributedTracingModes||(t.DistributedTracingModes={}));var f,m,v,g,y,_,w,E,b,C=!0,T=!1,x=!0,I=!0,S=!0,k=!0,R=!0,P=!0,A=!1,D=!0,O=void 0,N=void 0,L=!1;function M(){return t.defaultClient?(L=!0,v.enable(C,T),g.enable(x),y.enable(I),_.enable(D,m),w.useAutoCorrelation(P,f),w.enable(S),E.enable(k),t.liveMetricsClient&&A&&t.liveMetricsClient.enable(A)):p.warn("Start cannot be called before setup"),q}t.setup=function(e){return t.defaultClient?p.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),v=new s(t.defaultClient),g=new i(t.defaultClient),y=new a(t.defaultClient),w=new u(t.defaultClient),E=new c(t.defaultClient),_||(_=new h.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(R,O,N),q},t.start=M,t.getCorrelationContext=function(){return P?o.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return o.CorrelationContextManager.wrapCallback(e)};var q=function(){function e(){}return e.setDistributedTracingMode=function(t){return l.w3cEnabled=t===n.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,r){return void 0===r&&(r=!1),C=t,T=r,L&&v.enable(t,r),e},e.setAutoCollectExceptions=function(t){return x=t,L&&g.enable(t),e},e.setAutoCollectPerformance=function(t,r){void 0===r&&(r=!0),I=t;var n=h.AutoCollectNativePerformance.parseEnabled(r);return D=n.isEnabled,m=n.disabledMetrics,L&&(y.enable(t),_.enable(n.isEnabled,n.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return S=t,L&&w.enable(t),e},e.setAutoCollectDependencies=function(t){return k=t,L&&E.enable(t),e},e.setAutoDependencyCorrelation=function(t,r){return P=t,f=r,L&&w.useAutoCorrelation(t,r),e},e.setUseDiskRetryCaching=function(r,n,o){return R=r,O=n,N=o,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(r,n,o),e},e.setInternalLogging=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=!0),p.enableDebug=t,p.disableWarnings=!r,e},e.setSendLiveMetrics=function(r){return void 0===r&&(r=!1),t.defaultClient?(!t.liveMetricsClient&&r?(t.liveMetricsClient=new d(t.defaultClient.config.instrumentationKey),b=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(b),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(r),A=r,e):(p.warn("Live metrics client cannot be setup without the default client"),e)},e.start=M,e}();t.Configuration=q,t.dispose=function(){t.defaultClient=null,L=!1,v&&v.dispose(),g&&g.dispose(),y&&y.dispose(),_&&_.dispose(),w&&w.dispose(),E&&E.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),A=!1,t.liveMetricsClient=void 0)}},9822:(e,t,r)=>{"use strict";const n=process.binding("async_wrap"),o=n.Providers.TIMERWRAP,s={nextTick:r(3269),promise:r(9565),timers:r(7190)},i=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],n=this.destroyFns=[];this.init=function(t,r,n,s){if(r!==o)for(const o of e)o(t,this,r,n,s);else i.add(t)},this.pre=function(e){if(!i.has(e))for(const r of t)r(e,this)},this.post=function(e,t){if(!i.has(e))for(const n of r)n(e,this,t)},this.destroy=function(e){if(i.has(e))i.delete(e);else for(const t of n)t(e)}}function u(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}function l(){this._state=new a,this._hooks=new c,this.version=r(1910).i8,this.providers=n.Providers;for(const e of Object.keys(s))s[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&u(this.initFns,e.init),e.pre&&u(this.preFns,e.pre),e.post&&u(this.postFns,e.post),e.destroy&&u(this.destroyFns,e.destroy)},e.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,n.enable()},l.prototype.disable=function(){this._state.enabled=!1,n.disable()}},3223:(e,t,r)=>{"use strict";const n=r(9822);if(global._asyncHook){if(global._asyncHook.version!==r(1910).i8)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else r(2512).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new n},1910:e=>{"use strict";e.exports={i8:"1.7.6"}},3269:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,r=this._state,n=process.nextTick;process.nextTick=function(){if(!r.enabled)return n.apply(process,arguments);const o=new Array(arguments.length);for(let e=0;e<arguments.length;e++)o[e]=arguments[e];const s=o[0];if("function"!=typeof s)throw new TypeError("callback is not a function");const i=new t,a=--r.counter;return e.init.call(i,a,0,null,null),o[0]=function(){e.pre.call(i,a);let t=!0;try{s.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(i,a,!0),e.destroy.call(null,a)}))}e.post.call(i,a,!1),e.destroy.call(null,a)},n.apply(process,o)}}},9565:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,r=this._state,n=global.Promise,o=n.prototype.then;function s(t,r,n,o){return"function"!=typeof t?o?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}n.prototype.then=function(n,i){if(!r.enabled)return o.call(this,n,i);const a=new t,c=--r.counter;return e.init.call(a,c,0,null,null),o.call(this,s(n,a,c,!0),s(i,a,c,!1))}}},7190:(e,t,r)=>{"use strict";const n=r(8213);function o(){}function s(){}function i(){}const a=new Map,c=new Map,u=new Map;let l=null,p=!1;function d(e,t,r,o,s,i,a){const c=n[r],u=n[o];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);const r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];const o=r[0];if("function"!=typeof o)throw new TypeError('"callback" argument must be a function');const u=new s,d=--t.counter;let h;return e.init.call(u,d,0,null,null),r[0]=function(){l=h,e.pre.call(u,d);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(u,d,!0),i.delete(h),e.destroy.call(null,d)}))}e.post.call(u,d,!1),l=null,(a||p)&&(p=!1,i.delete(h),e.destroy.call(null,d))},h=c.apply(n,r),i.set(h,d),h},n[o]=function(t){if(l===t&&null!==t)p=!0;else if(i.has(t)){const r=i.get(t);i.delete(t),e.destroy.call(null,r)}u.apply(n,arguments)}}e.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",o,a,!0),d(this._hooks,this._state,"setInterval","clearInterval",s,c,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",i,u,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}},8286:e=>{"use strict";e.exports=(e,t)=>class extends e{constructor(e){var r,n;super((function(e,s){r=this,n=[function(r){return t(o,!1),e(r)},function(e){return t(o,!1),s(e)}]}));var o=this;try{e.apply(r,n)}catch(e){n[1](e)}return o}}},9090:(e,t,r)=>{var n,o,s=r(6372).wrap,i=[],a=0,c=!1,u=[];function l(e,t){var r=e.length,n=t.length,o=[];if(0===r&&0===n)return o;for(var s=0;s<r;s++)o[s]=e[s];if(0===n)return o;for(var i=0;i<n;i++){var a=!0;for(s=0;s<r;s++)if(e[s].uid===t[i].uid){a=!1;break}a&&o.push(t[i])}return o}if(process._fatalException){var p,d=!1;n=function(e){var t=i.length;if(d||0===t)return!1;var r=!1;d=!0;for(var n=0;n<t;++n){var o=i[n];if(0!=(8&o.flags)){var s=p&&p[o.uid];r=o.error(s,e)||r}}return d=!1,u.length>0&&(i=u.pop()),p=void 0,r&&!c},o=function(e,t,r){var n=[];c=!0;for(var o=0;o<r;++o){var s=t[o];if(n[s.uid]=s.data,0!=(1&s.flags)){var a=s.create(s.data);void 0!==a&&(n[s.uid]=a)}}return c=!1,function(){p=n,u.push(i),i=l(t,i),c=!0;for(var o=0;o<r;++o)(2&t[o].flags)>0&&t[o].before(this,n[t[o].uid]);c=!1;var s=e.apply(this,arguments);for(c=!0,o=0;o<r;++o)(4&t[o].flags)>0&&t[o].after(this,n[t[o].uid]);return c=!1,i=u.pop(),p=void 0,s}},s(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))}else{var h=!1;n=function(e){if(h)throw e;for(var t=!1,r=i.length,n=0;n<r;++n){var o=i[n];0!=(8&o.flags)&&(t=o.error(null,e)||t)}if(!t&&c)throw e},o=function(e,t,r){var o=[];c=!0;for(var s=0;s<r;++s){var a=t[s];if(o[a.uid]=a.data,0!=(1&a.flags)){var p=a.create(a.data);void 0!==p&&(o[a.uid]=p)}}return c=!1,function(){var s,a=!1,p=!1;u.push(i),i=l(t,i),c=!0;for(var d=0;d<r;++d)(2&t[d].flags)>0&&t[d].before(this,o[t[d].uid]);c=!1;try{s=e.apply(this,arguments)}catch(e){for(a=!0,d=0;d<r;++d)if(0!=(8&i[d].flags))try{p=i[d].error(o[t[d].uid],e)||p}catch(e){throw h=!0,e}if(!p)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!a||p){for(c=!0,d=0;d<r;++d)(4&t[d].flags)>0&&t[d].after(this,o[t[d].uid]);c=!1}i=u.pop()}return s}},process.addListener("uncaughtException",n)}function f(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++a,this.data=void 0===t?null:t}function m(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof f?e:new f(e,t)}f.prototype.create=void 0,f.prototype.before=void 0,f.prototype.after=void 0,f.prototype.error=void 0,f.prototype.data=void 0,f.prototype.uid=0,f.prototype.flags=0,process.createAsyncListener=m,process.addAsyncListener=function(e,t){var r;r=e instanceof f?e:m(e,t);for(var n=!1,o=0;o<i.length;o++)if(r===i[o]){n=!0;break}return n||i.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<i.length;t++)if(e===i[t]){i.splice(t,1);break}},e.exports=function(e){var t=i.length;if(0===t)return e;for(var r=i.slice(),n=0;n<t;++n)if(r[n].flags>0)return o(e,r,t);return function(e,t,r){c=!0;for(var n=0;n<r;++n){var o=t[n];o.create&&o.create(o.data)}return c=!1,function(){u.push(i),i=l(t,i);var r=e.apply(this,arguments);return i=u.pop(),r}}(e,r,t)}},7645:(e,t,r)=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var n=r(6372),o=r(6625),s=n.wrap,i=n.massWrap,a=r(9090),c=r(1669),u=o.gte(process.version,"6.0.0"),l=o.gte(process.version,"7.0.0"),p=o.gte(process.version,"8.0.0"),d=o.gte(process.version,"11.0.0"),h=r(1631);function f(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function m(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}l&&!h._normalizeArgs?h._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,r,n=e[0],o={};"object"==typeof n&&null!==n?o=n:"string"==typeof(t=n)&&!1===(r=t,(r=Number(r))>=0&&r)?o.path=n:(o.port=n,e.length>1&&"string"==typeof e[1]&&(o.host=e[1]));var s=e[e.length-1];return"function"!=typeof s?[o,null]:[o,s]}:l||h._normalizeConnectArgs||(h._normalizeConnectArgs=function(e){var t,r={};"object"==typeof e[0]&&null!==e[0]?r=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?r.path=e[0]:(r.port=e[0],"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"==typeof n?[r,n]:[r]}),"_setUpListenHandle"in h.Server.prototype?s(h.Server.prototype,"_setUpListenHandle",f):s(h.Server.prototype,"_listen2",f),s(h.Socket.prototype,"connect",(function(e){return function(){var t;(t=p&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?h._normalizeArgs(arguments):h._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var r=e.apply(this,t);return m(this),r}}));var v=r(8605);s(v.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=a((function(e){return m(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var g=r(3129);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),s(e._handle,"close",D))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}g.ChildProcess?s(g.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return y(this),t}})):i(g,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return y(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var _=[];process._nextDomainTick&&_.push("_nextDomainTick"),process._tickDomainCallback&&_.push("_tickDomainCallback"),i(process,_,A),s(process,"nextTick",D);var w=["setTimeout","setInterval"];global.setImmediate&&w.push("setImmediate");var E=r(8213),b=global.setTimeout===E.setTimeout;i(E,w,D),b&&i(global,w,D);var C=r(881);i(C,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],A),C.resolveNaptr&&s(C,"resolveNaptr",A);var T,x,I=r(5747);i(I,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],A),I.lchown&&s(I,"lchown",A),I.lchmod&&s(I,"lchmod",A),I.ftruncate&&s(I,"ftruncate",A);try{T=r(8761)}catch(e){}if(T&&T.Deflate&&T.Deflate.prototype){var S=Object.getPrototypeOf(T.Deflate.prototype);S._transform?s(S,"_transform",A):S.write&&S.flush&&S.end&&i(S,["write","flush","end"],A)}try{x=r(6417)}catch(e){}if(x){var k=["pbkdf2","randomBytes"];d||k.push("pseudoRandomBytes"),i(x,k,A)}var R=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(R){var P=process.addAsyncListener({create:function(){R=!1}});global.Promise.resolve(!0).then((function(){R=!1})),process.removeAsyncListener(P)}function A(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=a(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,r,n,o))};case 4:return function(r,n,o,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,r,n,o,s))};case 5:return function(r,n,o,s,i){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,r,n,o,s,i))};case 6:return function(r,n,o,s,i,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,r,n,o,s,i,c))};default:return t}}function D(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o))};case 4:return function(r,n,o,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,s))};case 5:return function(r,n,o,s,i){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,s,i))};case 6:return function(r,n,o,s,i,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,s,i,c))};default:return t}}R&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var o,s,i=new e((function(e,t){o=this,s=[function(t){return n(i,!1),e(t)},function(e){return n(i,!1),t(e)}]}));i.__proto__=t.prototype;try{r.apply(o,s)}catch(e){s[1](e)}return i}function n(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(o))}function o(t,r,s,i){var a;try{return{returnVal:a=r.call(t,s),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?i.__asl_wrapper=function(){return(a.__asl_wrapper||o).apply(this,arguments)}:n(i,!0)}}function i(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,s,i){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,s,i)):o(e,n,s,i)},r;function n(e){return"function"!=typeof e?e:a((function(n){var s=(t.__asl_wrapper||o)(this,e,n,r);if(s.error)throw s.errorVal;return s.returnVal}))}}}c.inherits(t,e),s(e.prototype,"then",i),e.prototype.chain&&s(e.prototype,"chain",i),u?global.Promise=r(8286)(e,n):(["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t)}()},9669:(e,t,r)=>{e.exports=r(1518)},7970:(e,t,r)=>{"use strict";var n=r(4867),o=r(6026),s=r(4097),i=r(5327),a=r(8605),c=r(7211),u=r(938).http,l=r(938).https,p=r(8835),d=r(8761),h=r(696),f=r(5061),m=r(481),v=/https:?/;function g(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(e){e.headers.host=e.host,g(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,r){var y=function(e){t(e)},_=function(e){r(e)},w=e.data,E=e.headers;if(E["User-Agent"]||E["user-agent"]||(E["User-Agent"]="axios/"+h.version),w&&!n.isStream(w)){if(Buffer.isBuffer(w));else if(n.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!n.isString(w))return _(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));w=Buffer.from(w,"utf-8")}E["Content-Length"]=w.length}var b=void 0;e.auth&&(b=(e.auth.username||"")+":"+(e.auth.password||""));var C=s(e.baseURL,e.url),T=p.parse(C),x=T.protocol||"http:";if(!b&&T.auth){var I=T.auth.split(":");b=(I[0]||"")+":"+(I[1]||"")}b&&delete E.Authorization;var S=v.test(x),k=S?e.httpsAgent:e.httpAgent,R={path:i(T.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:E,agent:k,agents:{http:e.httpAgent,https:e.httpsAgent},auth:b};e.socketPath?R.socketPath=e.socketPath:(R.hostname=T.hostname,R.port=T.port);var P,A=e.proxy;if(!A&&!1!==A){var D=x.slice(0,-1)+"_proxy",O=process.env[D]||process.env[D.toUpperCase()];if(O){var N=p.parse(O),L=process.env.no_proxy||process.env.NO_PROXY,M=!0;if(L&&(M=!L.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&T.hostname.substr(T.hostname.length-e.length)===e||T.hostname===e)}))),M&&(A={host:N.hostname,port:N.port,protocol:N.protocol},N.auth)){var q=N.auth.split(":");A.auth={username:q[0],password:q[1]}}}}A&&(R.headers.host=T.hostname+(T.port?":"+T.port:""),g(R,A,x+"//"+T.hostname+(T.port?":"+T.port:"")+R.path));var F=S&&(!A||v.test(A.protocol));e.transport?P=e.transport:0===e.maxRedirects?P=F?c:a:(e.maxRedirects&&(R.maxRedirects=e.maxRedirects),P=F?l:u),e.maxBodyLength>-1&&(R.maxBodyLength=e.maxBodyLength);var j=P.request(R,(function(t){if(!j.aborted){var r=t,s=t.req||j;if(204!==t.statusCode&&"HEAD"!==s.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(d.createUnzip()),delete t.headers["content-encoding"]}var i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:s};if("stream"===e.responseType)i.data=r,o(y,_,i);else{var a=[];r.on("data",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(r.destroy(),_(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,s)))})),r.on("error",(function(t){j.aborted||_(m(t,e,null,s))})),r.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),i.data=t,o(y,_,i)}))}}}));j.on("error",(function(t){j.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||_(m(t,e,null,j))})),e.timeout&&j.setTimeout(e.timeout,(function(){j.abort(),_(f("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",j))})),e.cancelToken&&e.cancelToken.promise.then((function(e){j.aborted||(j.abort(),_(e))})),n.isStream(w)?w.on("error",(function(t){_(m(t,e,null,j))})).pipe(j):j.end(w)}))}},5448:(e,t,r)=>{"use strict";var n=r(4867),o=r(6026),s=r(4372),i=r(5327),a=r(4097),c=r(4109),u=r(7985),l=r(5061);e.exports=function(e){return new Promise((function(t,r){var p=e.data,d=e.headers;n.isFormData(p)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(f+":"+m)}var v=a(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),i(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,r,s),h=null}},h.onabort=function(){h&&(r(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var g=(e.withCredentials||u(v))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&n.forEach(d,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),p||(p=null),h.send(p)}))}},1518:(e,t,r)=>{"use strict";var n=r(4867),o=r(1849),s=r(321),i=r(7185);function a(e){var t=new s(e),r=o(s.prototype.request,t);return n.extend(r,s.prototype,t),n.extend(r,t),r}var c=a(r(5655));c.Axios=s,c.create=function(e){return a(i(c.defaults,e))},c.Cancel=r(5263),c.CancelToken=r(4972),c.isCancel=r(6502),c.all=function(e){return Promise.all(e)},c.spread=r(8713),c.isAxiosError=r(6268),e.exports=c,e.exports.default=c},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,r)=>{"use strict";var n=r(5263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(4867),o=r(5327),s=r(782),i=r(3572),a=r(7185);function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=c},782:(e,t,r)=>{"use strict";var n=r(4867);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4097:(e,t,r)=>{"use strict";var n=r(1793),o=r(9002);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},5061:(e,t,r)=>{"use strict";var n=r(481);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},3572:(e,t,r)=>{"use strict";var n=r(4867),o=r(8527),s=r(6502),i=r(5655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],s=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(s,u),n.forEach(i,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(void 0,t[o])})),n.forEach(a,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var l=o.concat(s).concat(i).concat(a),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(p,u),r}},6026:(e,t,r)=>{"use strict";var n=r(5061);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},5655:(e,t,r)=>{"use strict";var n=r(4867),o=r(6016),s={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=r(5448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=r(7970)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(s)})),e.exports=c},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var n=r(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},9002:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},4109:(e,t,r)=>{"use strict";var n=r(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,r)=>{"use strict";var n=r(1849),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function i(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},696:e=>{"use strict";e.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.1","_inBundle":false,"_integrity":"sha512-dKQiRHxGD9PPRIUNIWvZhPTPpl1rf/OxTYKsqKUDjBwYylTvV7SjSHJb9ratfyzM6wCdLCOYLzs73qpg5c4iGA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/tas-client"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.1.tgz","_shasum":"22563481962f4d6bde9a76d516ef0e5d3c09b2b8","_spec":"axios@^0.21.1","_where":"C:\\\\Users\\\\martinae\\\\workspaces\\\\vscode-remote-wsl\\\\node_modules\\\\tas-client","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.10.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.1"}')},4046:(e,t,r)=>{"use strict";const n=r(1669),o=r(2357),s=r(9867),i=r(3223),a="error@context",c=[];for(let e in i.providers)c[i.providers[e]]=e;const u=process.env.DEBUG_CLS_HOOKED;let l=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function d(e){return process.namespaces[e]}function h(e){let t=d(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function f(e){process.env.DEBUG&&process._rawDebug(e)}function m(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:d,createNamespace:function(e){o.ok(e,"namespace must be given a name."),u&&f("CREATING NAMESPACE "+e);let t=new p(e);return t.id=l,i.addHooks({init(r,o,s,i,a){l=r,i?(t._contexts.set(r,t._contexts.get(i)),u&&f("PARENTID: "+e+" uid:"+r+" parent:"+i+" provider:"+s)):t._contexts.set(l,t.active),u&&f("INIT "+e+" uid:"+r+" parent:"+i+" provider:"+c[s]+" active:"+n.inspect(t.active,!0))},pre(r,o){l=r;let s=t._contexts.get(r);s?(u&&f(" PRE "+e+" uid:"+r+" handle:"+m(o)+" context:"+n.inspect(s)),t.enter(s)):u&&f(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+m(o))},post(r,o){l=r;let s=t._contexts.get(r);s?(u&&f(" POST "+e+" uid:"+r+" handle:"+m(o)+" context:"+n.inspect(s)),t.exit(s)):u&&f(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+m(o))},destroy(r){l=r,u&&f("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(l))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:a},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&f("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},p.prototype.get=function(e){if(this.active)return u&&f("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0)),this.active[e];u&&f("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0))},p.prototype.createContext=function(){u&&f("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=l,u&&f("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},p.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return u&&f(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e[a]=t),e}finally{u&&f(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},p.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},p.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return u&&f(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(u&&f(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[a]=t,u&&f(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{r.exit(t)}}},p.prototype.enter=function(e){o.ok(e,"context must be provided for entering"),u&&f("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),u&&f("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&f("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},p.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;s(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},p.prototype.fromException=function(e){return e[a]},process.namespaces={},i._state&&!i._state.enabled&&i.enable(),u){var v=r(2512);for(var g in v.filter._modifiers)v.filter.deattach(g)}},3964:(e,t,r)=>{"use strict";const n=r(1669),o=r(2357),s=r(9867),i=r(7303),a="error@context",c=process.env.DEBUG_CLS_HOOKED;let u=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function d(e){let t=p(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function h(...e){c&&process._rawDebug(`${n.format(...e)}`)}e.exports={getNamespace:p,createNamespace:function(e){o.ok(e,"namespace must be given a name."),c&&h(`NS-CREATING NAMESPACE (${e})`);let t=new l(e);return t.id=u,i.createHook({init(r,o,s,a){if(u=i.executionAsyncId(),t.active){if(t._contexts.set(r,t.active),c){h(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(0===u){const s=i.triggerAsyncId(),l=t._contexts.get(s);if(l){if(t._contexts.set(r,l),c){h(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(c){h(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}if(c&&"PROMISE"===o){h(n.inspect(a,{showHidden:!0}));const i=a.parentId;h(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${o}] (${e}) parentId:${i} asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(r){let o;if(u=i.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(c){const s=i.triggerAsyncId();h(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`),t._indent+=2}t.enter(o)}else if(c){const o=i.triggerAsyncId();h(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${n.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){let o;if(u=i.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(c){const s=i.triggerAsyncId();t._indent-=2;h(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}t.exit(o)}else if(c){const s=i.triggerAsyncId();t._indent-=2;h(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${s} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}},destroy(r){if(u=i.executionAsyncId(),c){const o=i.triggerAsyncId();h(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${r} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(t._contexts.get(u))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){d(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:a},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,c&&h(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},l.prototype.get=function(e){if(this.active){if(c){const t=i.executionAsyncId(),r=i.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);h(o+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),h(`${o}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(c){const t=i.currentId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},l.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,c){const t=i.executionAsyncId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(c){const e=i.triggerAsyncId(),r=i.executionAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[a]=t),e}finally{if(c){const e=i.triggerAsyncId(),r=i.executionAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},l.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return c&&h("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(c&&h("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[a]=t,c&&h("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{r.exit(t)}}},l.prototype.enter=function(e){if(o.ok(e,"context must be provided for entering"),c){const t=i.executionAsyncId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),c){const t=i.executionAsyncId(),r=i.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&h("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;s(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},l.prototype.fromException=function(e){return e[a]},process.namespaces={}},9562:(e,t,r)=>{"use strict";const n=r(6625);process&&n.gte(process.versions.node,"8.0.0")?e.exports=r(3964):e.exports=r(4046)},3057:(e,t,r)=>{"use strict";var n=r(2357),o=r(9867),s="error@context";function i(e){this.name=e,this.active=null,this._set=[],this.id=null}function a(e){return process.namespaces[e]}function c(e){var t=a(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){c(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||r(7645),i.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},i.prototype.get=function(e){if(this.active)return this.active[e]},i.prototype.createContext=function(){return Object.create(this.active)},i.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},i.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},i.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{r.exit(t)}}},i.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},i.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},i.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;var t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},i.prototype.fromException=function(e){return e[s]},process.namespaces||u(),e.exports={getNamespace:a,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new i(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:c,reset:u}},1758:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,r)=>{e.exports=function(e){function t(e){let r,o=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const s=t.formatters[o];if("function"==typeof s){const t=e[a];r=s.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},8104:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(1758):e.exports=r(39)},39:(e,t,r)=>{const n=r(3867),o=r(1669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(2447)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},8604:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4953);t.AzureMonitorSymbol="Azure_Monitor_Tracer";var s=function(){function e(){}return e.prototype.onStart=function(e){},e.prototype.onEnd=function(e){o.channel.publish("azure-coretracing",e)},e.prototype.shutdown=function(){},e}();t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){try{var i=new(0,r(8921).BasicTracer)(o.channel.spanContextPropagator?{scopeManager:o.channel.spanContextPropagator}:void 0),a=i.startSpan;i.startSpan=function(e,t){if(!t||!t.parent){var r=i.getCurrentSpan();r&&r.operation&&r.operation.traceparent&&(t=n({},t,{parent:{traceId:r.operation.traceparent.traceId,spanId:r.operation.traceparent.spanId}}))}var o=a.call(this,e,t);return o.addEvent("Application Insights Integration enabled"),o},i.addSpanProcessor(new s),i[t.AzureMonitorSymbol]=!0,e.setTracer(i)}catch(e){}return e}},t.enable=function(){o.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}},8859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,r){var o=t.apply(this,arguments);if(!r){var s=o;s||(s=t.call(this,e,!0)),n.channel.publish("bunyan",{level:e.level,result:s})}return o},e}},t.enable=function(){n.channel.registerMonkeyPatch("bunyan",t.bunyan)}},2495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953),o=r(2413);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new o.Writable,r=new o.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return n.channel.publish("console",{message:t}),!0},r.write=function(e){if(!e)return!0;var t=e.toString();return n.channel.publish("console",{message:t,stderr:!0}),!0};for(var s=new e.Console(t,r),i=function(t){var r=e[t];r&&(e[t]=function(){if(s[t])try{s[t].apply(s,arguments)}catch(e){}return r.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)i(c[a]);return e}},t.enable=function(){n.channel.registerMonkeyPatch("console",t.console),r(7082)}},4106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8604);t.azuresdk=n;var o=r(8859);t.bunyan=o;var s=r(2495);t.console=s;var i=r(2028);t.mongodbCore=i;var a=r(8436);t.mongodb=a;var c=r(8002);t.mysql=c;var u=r(9024);t.pgPool=u;var l=r(8060);t.pg=l;var p=r(4487);t.redis=p;var d=r(6661);t.tedious=d;var h=r(4650);t.winston=h,t.enable=function(){o.enable(),s.enable(),i.enable(),a.enable(),c.enable(),l.enable(),u.enable(),p.enable(),h.enable(),n.enable(),d.enable()}},2028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e},e}},t.enable=function(){n.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},8436:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4953);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return o.channel.bindToContext((function(e){return e()}))}}}),r={};return t.on("started",(function(e){r[e.requestId]||(r[e.requestId]=n({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),r={},s={};return t.on("started",(function(e){r[e.requestId]||(s[e.requestId]=o.channel.bindToContext((function(e){return e()})),r[e.requestId]=n({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof s[e.requestId]&&(s[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete s[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof s[e.requestId]&&(s[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete s[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=o.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var n=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=o.channel.bindToContext(arguments[1])),n.apply(this,arguments)},e}}(e);var t=e.instrument(),r={},n={};return t.on("started",(function(e){r[e.requestId]||(n[e.requestId]=o.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof n[e.requestId]&&(n[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete n[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof n[e.requestId]&&(n[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete n[e.requestId])})),e}},t.enable=function(){o.channel.registerMonkeyPatch("mongodb",t.mongo2),o.channel.registerMonkeyPatch("mongodb",t.mongo3),o.channel.registerMonkeyPatch("mongodb",t.mongo330)}},8002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953),o=r(5622);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var s=function(e,t){return function(t,r){var o=e[t];o&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var s=arguments[e],i={result:null,startTime:null,startDate:null};"function"==typeof s&&(r?(i.startTime=process.hrtime(),i.startDate=new Date,arguments[e]=n.channel.bindToContext(r(i,s))):arguments[e]=n.channel.bindToContext(s));var a=o.apply(this,arguments);return i.result=a,a})}},i=function(e,t){return s(e.prototype)},a=r(4694)(o.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return i(a)(e)})),s(a)("createQuery",(function(e,t){return function(r){var o=process.hrtime(e.startTime),s=1e3*o[0]+o[1]/1e6|0;n.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:r,duration:s,time:e.startDate}),t.apply(this,arguments)}}));var c=r(420)(o.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return i(c)(e)})),e}},t.enable=function(){n.channel.registerMonkeyPatch("mysql",t.mysql)}},9024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=n.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){n.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},8060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953),o=r(8614);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var r=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,i){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function l(e){e&&e[s]&&(e=e[s]);var t=n.channel.bindToContext((function(t,r){var s=process.hrtime(u);if(c.result=r&&{rowCount:r.rowCount,command:r.command},c.error=t,c.duration=Math.ceil(1e3*s[0]+s[1]/1e6),n.channel.publish("postgres",c),t){if(e)return e.apply(this,arguments);a&&a instanceof o.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(c.query.preparable={text:e,args:t},i=l(i)):(c.query.text=e,i?i=l(i):t=l(t)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,i?i=l(i):t?t=l(t):e.callback=l(e.callback))}catch(e){return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=i,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments)},e}},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,t){var r=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,i){var a,c=this,u=!!i,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},p=process.hrtime();function d(e){e&&e[s]&&(e=e[s]);var t=n.channel.bindToContext((function(t,r){var s=process.hrtime(p);if(l.result=r&&{rowCount:r.rowCount,command:r.command},l.error=t,l.duration=Math.ceil(1e3*s[0]+s[1]/1e6),n.channel.publish("postgres",l),t){if(e)return e.apply(this,arguments);a&&a instanceof o.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},i=(u="function"==typeof i)?d(i):i):(l.query.text=e,i?i=(u="function"==typeof i)?d(i):i:t=(u="function"==typeof t)?d(t):t):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,i?(u="function"==typeof i,i=d(i)):t?t=(u="function"==typeof t)?d(t):t:(u="function"==typeof e.callback,e.callback=u?d(e.callback):e.callback))}catch(e){return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=i,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments),u?a:a.then((function(e){return d()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return d()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},t.enable=function(){n.channel.registerMonkeyPatch("pg",t.postgres6),n.channel.registerMonkeyPatch("pg",t.postgres7)}},4487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var r=e.callback;if(!r||!r.pubsubBound){var o=this.address,s=process.hrtime(),i=new Date;e.callback=n.channel.bindToContext((function(t,a){var c=process.hrtime(s),u=1e3*c[0]+c[1]/1e6|0;n.channel.publish("redis",{duration:u,address:o,commandObj:e,err:t,result:a,time:i}),"function"==typeof r&&r.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){n.channel.registerMonkeyPatch("redis",t.redis)}},6661:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4953);t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var t=process.hrtime(),r={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return o.channel.bindToContext((function(s,i,a){var c=process.hrtime(t);r=n({},r,{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!s&&{rowCount:i,rows:a},query:{text:this.parametersByName.statement.value},error:s,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),o.channel.publish("tedious",r),e.call(this,s,i,a)}))}var r=arguments[0];arguments[0].callback=e(r.callback),t.apply(this,arguments)},e}},t.enable=function(){o.channel.registerMonkeyPatch("tedious",t.tedious)}},4650:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=r(4953);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return o(t,e),t.prototype.log=function(e,t){var r=e.message,n=e.level,o=e.meta,a=s(e,["message","level","meta"]);n="function"==typeof Symbol.for?e[Symbol.for("level")]:n,r=e instanceof Error?e:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,n);for(var u in o=o||{},a)a.hasOwnProperty(u)&&(o[u]=a[u]);i.channel.publish("winston",{message:r,level:n,levelKind:c,meta:o}),t()},t}(e.Transport);function r(){var r,n=arguments[0].levels||e.config.npm.levels;for(var o in n)n.hasOwnProperty(o)&&(r=void 0===r||n[o]>n[r]?o:r);this.add(new t(e,{level:r}))}var n=e.createLogger;e.createLogger=function(){var o,s=arguments[0].levels||e.config.npm.levels;for(var i in s)s.hasOwnProperty(i)&&(o=void 0===o||s[i]>s[o]?i:o);var a=n.apply(this,arguments);a.add(new t(e,{level:o}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),r.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),r.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,o){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",i.channel.publish("winston",{level:r,message:n,meta:o,levelKind:s}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},t.enable=function(){i.channel.registerMonkeyPatch("winston",t.winston2),i.channel.registerMonkeyPatch("winston",t.winston3)}},4694:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4694,e.exports=t},420:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=420,e.exports=t},4953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7424),o=r(7424);t.makePatchingRequire=o.makePatchingRequire;var s=function(e){return!0},i=function(){function e(){this.version=r(5236).i8,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=s),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=s);var n=this.subscribers[e];if(n)for(var o=0;o<n.length;++o)if(n[o].listener===t&&n[o].filter===r)return n.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new i,r(2282).prototype.require=n.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),t.channel=global.diagnosticsSource},7424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5622),o=r(6625),s=r(2282),i=Object.keys(process.binding("natives")),a=s.prototype.require;t.makePatchingRequire=function(e){var t={};return function(r){var c=a.apply(this,arguments);if(e[r]){var u=s._resolveFilename(r,this);if(t.hasOwnProperty(u))return t[u];var l=void 0;if(i.indexOf(r)<0)try{l=a.call(this,n.join(r,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var p=l.indexOf("-");p>=0&&(l=l.substring(0,p));for(var d=c,h=0,f=e[r];h<f.length;h++){var m=f[h];o.satisfies(l,m.versionSpecifier)&&(d=m.patch(d,u))}return t[u]=d}return c}}},5236:e=>{"use strict";e.exports={i8:"0.2.0"}},9867:(e,t,r)=>{"use strict";var n=r(6372),o=n.wrap,s=n.unwrap,i="wrap@before";function a(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function c(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function u(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}e.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function n(e){return function(t,r){var s=c(this,t).slice();try{var a=e.call(this,t,r);return function(e,t,r){var n=c(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var o=t[n],s=e[i];if("function"==typeof s)s(o);else if(Array.isArray(s))for(var a=s.length,c=0;c<a;c++)s[c](o)}}(e,n)}(this,t,s),a}finally{this.on.__wrapped||o(this,"on",n),this.addListener.__wrapped||o(this,"addListener",n)}}}e[i]?"function"==typeof e[i]?a(e,i,[e[i],t]):Array.isArray(e[i])&&e[i].push(t):a(e,i,t),e.__wrapped||(o(e,"addListener",n),o(e,"on",n),o(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var n=this._events[t];function i(e){return function(){this._events[t]=n;try{return e.apply(this,arguments)}finally{n=this._events[t],this._events[t]=u(n,r)}}}o(this,"removeListener",i);try{return this._events[t]=u(n,r),e.apply(this,arguments)}finally{s(this,"removeListener"),this._events[t]=n}}})),a(e,"__unwrap",(function(){s(e,"addListener"),s(e,"on"),s(e,"emit"),delete e[i],delete e.__wrapped})),a(e,"__wrapped",!0))}},2261:(e,t,r)=>{var n;e.exports=function(){if(!n)try{n=r(8104)("follow-redirects")}catch(e){n=function(){}}n.apply(null,arguments)}},938:(e,t,r)=>{var n=r(8835),o=n.URL,s=r(8605),i=r(7211),a=r(2413).Writable,c=r(2357),u=r(2261),l=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);l.forEach((function(e){p[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var d=E("ERR_FR_REDIRECTION_FAILURE",""),h=E("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),f=E("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m=E("ERR_STREAM_WRITE_AFTER_END","write after end");function v(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function g(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(s){var i=s+":",a=r[i]=e[s],l=t[s]=Object.create(a);Object.defineProperties(l,{request:{value:function(e,s,a){if("string"==typeof e){var l=e;try{e=_(new o(l))}catch(t){e=n.parse(l)}}else o&&e instanceof o?e=_(e):(a=s,s=e,e={protocol:i});return"function"==typeof s&&(a=s,s=null),(s=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,s)).nativeProtocols=r,c.equal(s.protocol,i,"protocol mismatch"),u("options",s),new v(s,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=l.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function y(){}function _(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function E(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function b(e){for(var t=0;t<l.length;t++)e.removeListener(l[t],p[l[t]]);e.on("error",y),e.abort()}v.prototype=Object.create(a.prototype),v.prototype.abort=function(){b(this._currentRequest),this.emit("abort")},v.prototype.write=function(e,t,r){if(this._ending)throw new m;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new f),this.abort()):r&&r()},v.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},v.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},v.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},v.prototype.setTimeout=function(e,t){var r=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),s()}),e),n(t)}function s(){clearTimeout(this._timeout),t&&r.removeListener("timeout",t),this.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.once("response",s),this.once("error",s),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){v.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(v.prototype,e,{get:function(){return this._currentRequest[e]}})})),v.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},v.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=n.format(this._options),o._redirectable=this;for(var s=0;s<l.length;s++)o.on(l[s],p[l[s]]);if(this._isRedirect){var i=0,a=this,c=this._requestBodyBuffers;!function e(t){if(o===a._currentRequest)if(t)a.emit("error",t);else if(i<c.length){var r=c[i++];o.finished||o.write(r.data,r.encoding,e)}else a._ended&&o.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},v.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(b(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var o=w(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,s=n.resolve(this._currentUrl,r);u("redirecting to",s),this._isRedirect=!0;var i=n.parse(s);if(Object.assign(this._options,i),i.hostname!==o&&w(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var c=new d("Redirected request failed: "+e.message);c.cause=e,this.emit("error",c)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=g({http:s,https:i}),e.exports.wrap=g},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},7824:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,i){i=i||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return i.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=n?s(a,c,n,"hour"):c>=r?s(a,c,r,"minute"):c>=t?s(a,c,t,"second"):a+" ms"):function(e){var s=Math.abs(e);return s>=o?Math.round(e/o)+"d":s>=n?Math.round(e/n)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6625:(e,t)=>{var r;t=e.exports=z,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],i=0,a=i++;s[a]="0|[1-9]\\d*";var c=i++;s[c]="[0-9]+";var u=i++;s[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=i++;s[l]="("+s[a]+")\\.("+s[a]+")\\.("+s[a]+")";var p=i++;s[p]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var d=i++;s[d]="(?:"+s[a]+"|"+s[u]+")";var h=i++;s[h]="(?:"+s[c]+"|"+s[u]+")";var f=i++;s[f]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var m=i++;s[m]="(?:-?("+s[h]+"(?:\\."+s[h]+")*))";var v=i++;s[v]="[0-9A-Za-z-]+";var g=i++;s[g]="(?:\\+("+s[v]+"(?:\\."+s[v]+")*))";var y=i++,_="v?"+s[l]+s[f]+"?"+s[g]+"?";s[y]="^"+_+"$";var w="[v=\\s]*"+s[p]+s[m]+"?"+s[g]+"?",E=i++;s[E]="^"+w+"$";var b=i++;s[b]="((?:<|>)?=?)";var C=i++;s[C]=s[c]+"|x|X|\\*";var T=i++;s[T]=s[a]+"|x|X|\\*";var x=i++;s[x]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[f]+")?"+s[g]+"?)?)?";var I=i++;s[I]="[v=\\s]*("+s[C]+")(?:\\.("+s[C]+")(?:\\.("+s[C]+")(?:"+s[m]+")?"+s[g]+"?)?)?";var S=i++;s[S]="^"+s[b]+"\\s*"+s[x]+"$";var k=i++;s[k]="^"+s[b]+"\\s*"+s[I]+"$";var R=i++;s[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=i++;s[P]="(?:~>?)";var A=i++;s[A]="(\\s*)"+s[P]+"\\s+",o[A]=new RegExp(s[A],"g");var D=i++;s[D]="^"+s[P]+s[x]+"$";var O=i++;s[O]="^"+s[P]+s[I]+"$";var N=i++;s[N]="(?:\\^)";var L=i++;s[L]="(\\s*)"+s[N]+"\\s+",o[L]=new RegExp(s[L],"g");var M=i++;s[M]="^"+s[N]+s[x]+"$";var q=i++;s[q]="^"+s[N]+s[I]+"$";var F=i++;s[F]="^"+s[b]+"\\s*("+w+")$|^$";var j=i++;s[j]="^"+s[b]+"\\s*("+_+")$|^$";var W=i++;s[W]="(\\s*)"+s[b]+"\\s*("+w+"|"+s[x]+")",o[W]=new RegExp(s[W],"g");var $=i++;s[$]="^\\s*("+s[x]+")\\s+-\\s+("+s[x]+")\\s*$";var H=i++;s[H]="^\\s*("+s[I]+")\\s+-\\s+("+s[I]+")\\s*$";var U=i++;s[U]="(<|>)?=?\\s*\\*";for(var V=0;V<35;V++)r(V,s[V]),o[V]||(o[V]=new RegExp(s[V]));function B(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[E]:o[y]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[E]:o[y]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=B,t.valid=function(e,t){var r=B(e,t);return r?r.version:null},t.clean=function(e,t){var r=B(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),Q(this.major,e.major)||Q(this.minor,e.minor)||Q(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Q(n,o)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=B(e),n=B(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var s="prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return o+i;return s},t.compareIdentifiers=Q;var G=/^[0-9]+$/;function Q(e,t){var r=G.test(e),n=G.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function K(e,t,r){return new z(e,r).compare(new z(t,r))}function Y(e,t,r){return K(e,t,r)>0}function X(e,t,r){return K(e,t,r)<0}function J(e,t,r){return 0===K(e,t,r)}function Z(e,t,r){return 0!==K(e,t,r)}function ee(e,t,r){return K(e,t,r)>=0}function te(e,t,r){return K(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return Y(e,r,n);case">=":return ee(e,r,n);case"<":return X(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return Q(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=K,t.compareLoose=function(e,t){return K(e,t,!0)},t.rcompare=function(e,t,r){return K(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=Y,t.lt=X,t.eq=J,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ne)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ie(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,s,i,a,c,u,l,p,d){return((t=ie(r)?"":ie(n)?">="+r+".0.0":ie(o)?">="+r+"."+n+".0":">="+t)+" "+(a=ie(c)?"":ie(u)?"<"+(+c+1)+".0.0":ie(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var s=e[o].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var o,s,i,a,c;switch(e=new z(e,n),t=new se(t,n),r){case">":o=Y,s=te,i=X,a=">",c=">=";break;case"<":o=X,s=ee,i=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,d=null;if(l.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,d=d||e,o(e.semver,p.semver,n)?p=e:i(e.semver,d.semver,n)&&(d=e)})),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&s(e,d.semver))return!1;if(d.operator===c&&i(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[F]:o[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||s&&i||a||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[H]:o[$];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[W],"$1$2$3"),r("comparator trim",e,o[W]),e=(e=(e=e.replace(o[A],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var s=t?o[F]:o[j],i=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[q]:o[M];return e.replace(n,(function(t,n,o,s,i){var a;return r("caret",e,t,n,o,s,i),ie(n)?a="":ie(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ie(s)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(r("replaceCaret pr",i),a="0"===n?"0"===o?">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+"-"+i+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+s+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[O]:o[D];return e.replace(n,(function(t,n,o,s,i){var a;return r("tilde",e,t,n,o,s,i),ie(n)?a="":ie(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ie(s)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(r("replaceTilde pr",i),a=">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[k]:o[S];return e.replace(n,(function(t,n,o,s,i,a){r("xRange",e,t,n,o,s,i,a);var c=ie(o),u=c||ie(s),l=u||ie(i);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),t=n+o+"."+s+"."+i):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[U],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(s)}))),i.map((function(e){return new ne(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var s=new se(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(n&&-1!==o.compare(e)||(o=new z(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var s=new se(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(n&&1!==o.compare(e)||(o=new z(n=e,r)))})),n},t.minVersion=function(e,t){e=new se(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!Y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=B(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(o[R]);return null==t?null:B(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},6372:e=>{"use strict";function t(e){return"function"==typeof e}var r=console.error.bind(console);function n(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&&e.logger&&(t(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function s(e,o,s){if(e&&e[o]){if(!s)return r("no wrapper function"),void r((new Error).stack);if(t(e[o])&&t(s)){var i=e[o],a=s(i,o);return n(a,"__original",i),n(a,"__unwrap",(function(){e[o]===a&&n(e,o,i)})),n(a,"__wrapped",!0),n(e,o,a),a}r("original object and wrapper must be functions")}else r("no original function "+o+" to wrap")}function i(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=i,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t)}))})):r("must provide one or more functions to unwrap on modules")},e.exports=o},465:e=>{e.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var n=0;n<t.length;n++){var o,s=t[n];try{o=s.toString()}catch(e){try{o="<error: "+e+">"}catch(e){o="<error>"}}r.push("    at "+o)}return r.join("\n")}},2512:(e,t,r)=>{if(global._stackChain){if(global._stackChain.version!==r(9414).i8)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=r(7898)},9414:e=>{"use strict";e.exports={i8:"1.3.7"}},7898:(e,t,r)=>{var n=r(465);function o(){this.extend=new a,this.filter=new a,this.format=new c,this.version=r(9414).i8}var s=!1;o.prototype.callSite=function e(t){t||(t={}),s=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return s=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var i=new o;function a(){this._modifiers=[]}function c(){this._formater=n,this._previous=void 0}a.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=n,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&i.format.replace(Error.prepareStackTrace);var u=!1;function l(e,t){if(s)return t;if(u)return n(e,t);var r=t.concat();r=i.extend._modify(e,r),r=(r=i.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),u=!0;var o=i.format._formater(e,r);return u=!1,o}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?i.format._roolback():(i.format._backup(),i.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=i},2130:(e,t,r)=>{"use strict";const n=r(2087),o=r(3867),s=r(6560),{env:i}=process;let a;function c(e,t={}){return 0!==(r=function(e,{streamIsTTY:t,sniffFlags:r=!0}={}){const o=function(){if("FORCE_COLOR"in i)return"true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(Number.parseInt(i.FORCE_COLOR,10),3)}();void 0!==o&&(a=o);const c=r?a:o;if(0===c)return 0;if(r){if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2}if(e&&!t&&void 0===c)return 0;const u=c||0;if("dumb"===i.TERM)return u;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:u;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=Number.parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:u}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3};var r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?a=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(a=1),e.exports={supportsColor:c,stdout:c({isTTY:o.isatty(1)}),stderr:c({isTTY:o.isatty(2)})}},4802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6363);t.ExperimentationService=n.ExperimentationService},6363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4067),o=r(4234),s=r(5975);class i extends s.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new n.TasApiFeatureProvider(new o.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=i,i.REFRESH_RATE_IN_MINUTES=30},5975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3663),o=r(3334);class s extends n.ExperimentationServiceBase{constructor(e,t,r,n,s,i,a,c){if(super(e,n,s,i,a,c),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=r,this.featuresTelemetryPropertyName=n,this.assignmentContextTelemetryPropertyName=s,this.telemetryEventName=i,this.storageKey=a,this.storage=c,r<1e3&&0!==r)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new o.PollingService(r),this.pollingService.OnPollTick((async()=>{await super.getFeaturesAsync()})))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=s},3663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7002);t.ExperimentationServiceBase=class{constructor(e,t,r,o,s,i){this.telemetry=e,this.featuresTelemetryPropertyName=t,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=o,this.storageKey=s,this.storage=i,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(i=new n.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise(((e,t)=>{this.resolveInitialFetchPromise=e}))}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise){try{await this.fetchPromise}catch(e){}return this.features}if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map((async e=>await e.getFeatures())));try{const t=await this.fetchPromise;this.updateFeatures(t,e)}catch(e){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let r={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)r.features.includes(e)||r.features.push(e);for(let e of t.configs){const t=r.configs.find((t=>t.Id===e.Id));t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):r.configs.push(e)}r.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){var r;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`),null===(r=this.features.configs.find((t=>t.Id===e)))||void 0===r?void 0:r.Parameters[t]}async getTreatmentVariableAsync(e,t,r){if(r){const r=this.featuresConsumed,n=this.getTreatmentVariable(e,t);if(void 0!==n)return n;this.featuresConsumed=r}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},69:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},4e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(69);class o extends n.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let r=t.getFilters();for(let t of r.keys()){let n=r.get(t);e.set(t,n)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=o},4067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4e3);class o extends n.FilteredFeatureProvider{constructor(e,t,r){super(t,r),this.httpClient=e,this.telemetry=t,this.filterProviders=r}async fetch(){let e=this.getFilters(),t={};for(let r of e.keys()){const n=e.get(r);t[r]=n}let r=await this.httpClient.get({headers:t});e.keys.length>0&&this.PostEventToTelemetry(t);let n=r.data,o=n.Configs,s=[];for(let e of o)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const r=t+(e.Parameters[t]?"":"cf");s.includes(r)||s.push(r)}return{features:s,assignmentContext:n.AssignmentContext,configs:o}}}t.TasApiFeatureProvider=o},4234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9669);t.AxiosHttpClient=class{constructor(e){this.endpoint=e}get(e){return n.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}}},7002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},3334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then((()=>{})).catch((()=>{})),this.intervalHandle=setInterval((async()=>{await this.onTick()}),this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},4398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var n=r(5747),o=r(2087),s=r(5622),i=r(7549),a=r(9574),c=function(){function e(e,t,r,o){var a=this;this.extensionId=e,this.extensionVersion=t,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!o;var c=process.env.VSCODE_LOGS||"";c&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(c=s.join(c,e+".txt"),this.logStream=n.createWriteStream(c,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(r),void 0!==i.env.onDidChangeTelemetryEnabled?this.optOutListener=i.env.onDidChangeTelemetryEnabled((function(){return a.updateUserOptIn(r)})):this.optOutListener=i.workspace.onDidChangeConfiguration((function(){return a.updateUserOptIn(r)}))}return e.prototype.updateUserOptIn=function(t){var r=i.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID),n=void 0===i.env.isTelemetryEnabled?r.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0):i.env.isTelemetryEnabled;this.userOptIn!==n&&(this.userOptIn=n,this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),i&&i.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=i.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=i.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},e.prototype.getCommonProperties=function(){var e=Object.create(null);if(e["common.os"]=o.platform(),e["common.platformversion"]=(o.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,i&&i.env){switch(e["common.vscodemachineid"]=i.env.machineId,e["common.vscodesessionid"]=i.env.sessionId,e["common.vscodeversion"]=i.version,e["common.isnewappinstall"]=i.env.isNewAppInstall,i.env.uiKind){case i.UIKind.Web:e["common.uikind"]="web";break;case i.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(i.env.remoteName)}return e},e.prototype.cleanRemoteName=function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(r){0===e.indexOf(r+"+")&&(t=r)})),t},e.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||"other"!==this.cleanRemoteName(i.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==i.ExtensionKind.Workspace&&i.env.uiKind!==i.UIKind.Web},Object.defineProperty(e.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=i.extensions.getExtension(this.extensionId)),this._extension},enumerable:!1,configurable:!0}),e.prototype.cloneAndChange=function(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;var r={};for(var n in e)r[n]=t(n,e[n]);return r},e.prototype.anonymizeFilePaths=function(e,t){if(null==e)return"";var r=[new RegExp(i.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var n=e;if(t){for(var o=[],s=0,a=r;s<a.length;s++)for(var c=a[s];;){var u=c.exec(e);if(!u)break;o.push([u.index,c.lastIndex])}var l=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,p=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,d=0;n="";for(var h=function(){var t=p.exec(e);if(!t)return"break";!l.test(t[0])&&o.every((function(e){var r=e[0],n=e[1];return t.index<r||t.index>=n}))&&(n+=e.substring(d,t.index)+"<REDACTED: user-file-path>",d=p.lastIndex)};"break"!==h(););d<e.length&&(n+=e.substr(d))}for(var f=0,m=r;f<m.length;f++)c=m[f],n=n.replace(c,"");return n},e.prototype.sendTelemetryEvent=function(e,t,r){var n=this;if(this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e,t){return n.anonymizeFilePaths(t,n.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.sendTelemetryErrorEvent=function(e,t,r,n){var o=this;if(this.userOptIn&&e&&this.appInsightsClient){var s=this.cloneAndChange(t,(function(e,t){return o.shouldSendErrorTelemetry()?o.anonymizeFilePaths(t,o.firstParty):void 0===n||-1!==n.indexOf(e)?"REDACTED":o.anonymizeFilePaths(t,o.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:s,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.sendTelemetryException=function(e,t,r){var n=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e,t){return n.anonymizeFilePaths(t,n.firstParty)}));this.appInsightsClient.trackException({exception:e,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.dispose=function(){var e=this;this.optOutListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),r=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([r,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=c},3126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3680),o=r(2593);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None}),e.is=function(t){let r=t;return r&&(r===e.None||r===e.Cancelled||o.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const i=Object.freeze((function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=s.None}}},3680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var r=!1,n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),n=this._contexts.slice(0),o=0,s=r.length;o<s;o++)try{t.push(r[o].apply(n[o],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class n{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,o)=>{let s;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),s={dispose:()=>{this._callbacks.remove(e,t),s.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(o)&&o.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=n,n._noop=function(){}},2593:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every((e=>r(e)))}},397:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let o=this._map.get(e);if(o)o.value=t,n!==r.None&&this.touch(o,n);else{switch(o={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(o);break;case r.First:this.addItemFirst(o);break;case r.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},8231:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const o=r(2593),s=r(3234);t.RequestType=s.RequestType,t.RequestType0=s.RequestType0,t.RequestType1=s.RequestType1,t.RequestType2=s.RequestType2,t.RequestType3=s.RequestType3,t.RequestType4=s.RequestType4,t.RequestType5=s.RequestType5,t.RequestType6=s.RequestType6,t.RequestType7=s.RequestType7,t.RequestType8=s.RequestType8,t.RequestType9=s.RequestType9,t.ResponseError=s.ResponseError,t.ErrorCodes=s.ErrorCodes,t.NotificationType=s.NotificationType,t.NotificationType0=s.NotificationType0,t.NotificationType1=s.NotificationType1,t.NotificationType2=s.NotificationType2,t.NotificationType3=s.NotificationType3,t.NotificationType4=s.NotificationType4,t.NotificationType5=s.NotificationType5,t.NotificationType6=s.NotificationType6,t.NotificationType7=s.NotificationType7,t.NotificationType8=s.NotificationType8,t.NotificationType9=s.NotificationType9;const i=r(6386);t.MessageReader=i.MessageReader,t.StreamMessageReader=i.StreamMessageReader,t.IPCMessageReader=i.IPCMessageReader,t.SocketMessageReader=i.SocketMessageReader;const a=r(9725);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=r(3680);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const u=r(3126);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const l=r(397);var p,d,h,f,m,v,g,y;n(r(3377)),n(r(1609)),function(e){e.type=new s.NotificationType("$/cancelRequest")}(p||(p={})),function(e){e.type=new s.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new s.NotificationType("$/setTraceNotification")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new s.NotificationType("$/logTraceNotification")}(v=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class _ extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,_.prototype)}}function w(e,t,r,n){let i=0,a=0,w=0;const E="2.0";let b,C,T,x,I=Object.create(null),S=Object.create(null),k=new Map,R=new l.LinkedMap,P=Object.create(null),A=Object.create(null),D=h.Off,O=f.Text,N=y.New,L=new c.Emitter,M=new c.Emitter,q=new c.Emitter,F=new c.Emitter,j=new c.Emitter;function W(e){return"req-"+e.toString()}function $(e){}function H(){return N===y.Listening}function U(){return N===y.Closed}function V(){return N===y.Disposed}function B(){N!==y.New&&N!==y.Listening||(N=y.Closed,M.fire(void 0))}function z(){T||0===R.size||(T=setImmediate((()=>{T=void 0,function(){if(0===R.size)return;let e=R.shift();try{s.isRequestMessage(e)?function(e){if(V())return;function r(r,n,o){let i={jsonrpc:E,id:e.id};r instanceof s.ResponseError?i.error=r.toJson():i.result=void 0===r?null:r,Q(i,n,o),t.write(i)}function n(r,n,o){let s={jsonrpc:E,id:e.id,error:r.toJson()};Q(s,n,o),t.write(s)}!function(e){if(D!==h.Off&&x)if(O===f.Text){let t;D===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Received request '${e.method} - (${e.id})'.`,t)}else K("receive-request",e)}(e);let i,a,c=I[e.method];c&&(i=c.type,a=c.handler);let l=Date.now();if(a||b){let c=new u.CancellationTokenSource,p=String(e.id);A[p]=c;try{let u;u=void 0===e.params||void 0!==i&&0===i.numberOfParams?a?a(c.token):b(e.method,c.token):o.array(e.params)&&(void 0===i||i.numberOfParams>1)?a?a(...e.params,c.token):b(e.method,...e.params,c.token):a?a(e.params,c.token):b(e.method,e.params,c.token);let d=u;u?d.then?d.then((t=>{delete A[p],r(t,e.method,l)}),(t=>{delete A[p],t instanceof s.ResponseError?n(t,e.method,l):t&&o.string(t.message)?n(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):n(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)})):(delete A[p],r(u,e.method,l)):(delete A[p],function(r,n,o){void 0===r&&(r=null);let s={jsonrpc:E,id:e.id,result:r};Q(s,n,o),t.write(s)}(u,e.method,l))}catch(t){delete A[p],t instanceof s.ResponseError?r(t,e.method,l):t&&o.string(t.message)?n(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):n(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else n(new s.ResponseError(s.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):s.isNotificationMessage(e)?function(e){if(V())return;let t,n;if(e.method===p.type.method)n=e=>{let t=e.id,r=A[String(t)];r&&r.cancel()};else{let r=S[e.method];r&&(n=r.handler,t=r.type)}if(n||C)try{!function(e){if(D!==h.Off&&x&&e.method!==v.type.method)if(O===f.Text){let t;D===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Received notification '${e.method}'.`,t)}else K("receive-notification",e)}(e),void 0===e.params||void 0!==t&&0===t.numberOfParams?n?n():C(e.method):o.array(e.params)&&(void 0===t||t.numberOfParams>1)?n?n(...e.params):C(e.method,...e.params):n?n(e.params):C(e.method,e.params)}catch(t){t.message?r.error(`Notification handler '${e.method}' failed with message: ${t.message}`):r.error(`Notification handler '${e.method}' failed unexpectedly.`)}else q.fire(e)}(e):s.isResponseMessage(e)?function(e){if(!V())if(null===e.id)e.error?r.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let t=String(e.id),n=P[t];if(function(e,t){if(D!==h.Off&&x)if(O===f.Text){let r;if(D===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){let n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";x.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else x.log(`Received response ${e.id} without active response promise.`,r)}else K("receive-response",e)}(e,n),n){delete P[t];try{if(e.error){let t=e.error;n.reject(new s.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?r.error(`Response handler '${n.method}' failed with message: ${e.message}`):r.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(o.string(t.id)||o.number(t.id)){let e=String(t.id),r=P[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{z()}}()})))}e.onClose(B),e.onError((function(e){L.fire([e,void 0,void 0])})),t.onClose(B),t.onError((function(e){L.fire(e)}));let G=e=>{try{if(s.isNotificationMessage(e)&&e.method===p.type.method){let r=W(e.params.id),o=R.get(r);if(s.isRequestMessage(o)){let s=n&&n.cancelUndispatched?n.cancelUndispatched(o,$):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return R.delete(r),s.id=o.id,Q(s,e.method,Date.now()),void t.write(s)}}!function(e,t){var r;s.isRequestMessage(t)?e.set(W(t.id),t):s.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++w).toString():"res-"+r.toString(),t):e.set("not-"+(++a).toString(),t)}(R,e)}finally{z()}};function Q(e,t,r){if(D!==h.Off&&x)if(O===f.Text){let n;D===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),x.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else K("send-response",e)}function K(e,t){if(!x||D===h.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};x.log(r)}function Y(){if(U())throw new _(g.Closed,"Connection is closed.");if(V())throw new _(g.Disposed,"Connection is disposed.")}function X(e){return void 0===e?null:e}function J(e,t){let r,n=e.numberOfParams;switch(n){case 0:r=null;break;case 1:r=X(t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(X(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}let Z={sendNotification:(e,...r)=>{let n,s;if(Y(),o.string(e))switch(n=e,r.length){case 0:s=null;break;case 1:s=r[0];break;default:s=r}else n=e.method,s=J(e,r);let i={jsonrpc:E,method:n,params:s};!function(e){if(D!==h.Off&&x)if(O===f.Text){let t;D===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Sending notification '${e.method}'.`,t)}else K("send-notification",e)}(i),t.write(i)},onNotification:(e,t)=>{Y(),o.func(e)?C=e:t&&(o.string(e)?S[e]={type:void 0,handler:t}:S[e.method]={type:e,handler:t})},onProgress:(e,t,r)=>{if(k.has(t))throw new Error(`Progress handler for token ${t} already registered`);return k.set(t,r),{dispose:()=>{k.delete(t)}}},sendProgress:(e,t,r)=>{Z.sendNotification(d.type,{token:t,value:r})},onUnhandledProgress:F.event,sendRequest:(e,...r)=>{let n,a,c;if(Y(),function(){if(!H())throw new Error("Call listen() first.")}(),o.string(e))switch(n=e,r.length){case 0:a=null;break;case 1:u.CancellationToken.is(r[0])?(a=null,c=r[0]):a=X(r[0]);break;default:const e=r.length-1;u.CancellationToken.is(r[e])?(c=r[e],a=2===r.length?X(r[0]):r.slice(0,e).map((e=>X(e)))):a=r.map((e=>X(e)))}else{n=e.method,a=J(e,r);let t=e.numberOfParams;c=u.CancellationToken.is(r[t])?r[t]:void 0}let l=i++,d=new Promise(((e,r)=>{let o={jsonrpc:E,id:l,method:n,params:a},i={method:n,timerStart:Date.now(),resolve:e,reject:r};!function(e){if(D!==h.Off&&x)if(O===f.Text){let t;D===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Sending request '${e.method} - (${e.id})'.`,t)}else K("send-request",e)}(o);try{t.write(o)}catch(e){i.reject(new s.ResponseError(s.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),i=null}i&&(P[String(l)]=i)}));return c&&c.onCancellationRequested((()=>{Z.sendNotification(p.type,{id:l})})),d},onRequest:(e,t)=>{Y(),o.func(e)?b=e:t&&(o.string(e)?I[e]={type:void 0,handler:t}:I[e.method]={type:e,handler:t})},trace:(e,t,r)=>{let n=!1,s=f.Text;void 0!==r&&(o.boolean(r)?n=r:(n=r.sendNotification||!1,s=r.traceFormat||f.Text)),D=e,O=s,x=D===h.Off?void 0:t,!n||U()||V()||Z.sendNotification(m.type,{value:h.toString(e)})},onError:L.event,onClose:M.event,onUnhandledNotification:q.event,onDispose:j.event,dispose:()=>{if(V())return;N=y.Disposed,j.fire(void 0);let r=new Error("Connection got disposed.");Object.keys(P).forEach((e=>{P[e].reject(r)})),P=Object.create(null),A=Object.create(null),R=new l.LinkedMap,o.func(t.dispose)&&t.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{Y(),function(){if(H())throw new _(g.AlreadyListening,"Connection is already listening")}(),N=y.Listening,e.listen(G)},inspect:()=>{console.log("inspect")}};return Z.onNotification(v.type,(e=>{D!==h.Off&&x&&x.log(e.message,D===h.Verbose?e.verbose:void 0)})),Z.onNotification(d.type,(e=>{const t=k.get(e.token);t?t(e.value):F.fire(e)})),Z}t.ConnectionError=_,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){let t=e;return t&&o.func(t.cancelUndispatched)},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,r,n,o){var s;return n||(n=t.NullLogger),w(void 0!==(s=e).listen&&void 0===s.read?e:new i.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(r)?r:new a.StreamMessageWriter(r),n,o)}},6386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3680),o=r(2593);let s=8192,i=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class c{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(s)}append(e){var t=e;if("string"==typeof e){var r=e,n=Buffer.byteLength(r,this.encoding);(t=Buffer.allocUnsafe(n)).write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var o=(Math.ceil((this.index+t.length)/s)+1)*s;0===this.index?(this.buffer=Buffer.allocUnsafe(o),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],o)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==i||this.buffer[t+1]!==a||this.buffer[t+2]!==i||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");let n=t.substr(0,r),o=t.substr(r+1).trim();e[n]=o}));let r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)};class u{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=u;class l extends u{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=l,t.IPCMessageReader=class extends u{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends l{constructor(e,t="utf-8"){super(e,t)}}},9725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3680),o=r(2593);let s="Content-Length: ",i="\r\n";(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)};class a{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a,t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[s,r.toString(),i,i];try{this.writable.write(n.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[s,r.toString(),i,i];try{this.sending=!0,this.socket.write(n.join(""),"ascii",(r=>{r&&this.handleError(r,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.handleError(r,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},3234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2593);var o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(o=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,r){super(t),this.code=n.number(e)?e:o.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,s.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=s;class i{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=i,t.RequestType0=class extends i{constructor(e){super(e,0)}},t.RequestType=class extends i{constructor(e){super(e,1)}},t.RequestType1=class extends i{constructor(e){super(e,1)}},t.RequestType2=class extends i{constructor(e){super(e,2)}},t.RequestType3=class extends i{constructor(e){super(e,3)}},t.RequestType4=class extends i{constructor(e){super(e,4)}},t.RequestType5=class extends i{constructor(e){super(e,5)}},t.RequestType6=class extends i{constructor(e){super(e,6)}},t.RequestType7=class extends i{constructor(e){super(e,7)}},t.RequestType8=class extends i{constructor(e){super(e,8)}},t.RequestType9=class extends i{constructor(e){super(e,9)}},t.NotificationType=class extends i{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends i{constructor(e){super(e,0)}},t.NotificationType1=class extends i{constructor(e){super(e,1)}},t.NotificationType2=class extends i{constructor(e){super(e,2)}},t.NotificationType3=class extends i{constructor(e){super(e,3)}},t.NotificationType4=class extends i{constructor(e){super(e,4)}},t.NotificationType5=class extends i{constructor(e){super(e,5)}},t.NotificationType6=class extends i{constructor(e){super(e,6)}},t.NotificationType7=class extends i{constructor(e){super(e,7)}},t.NotificationType8=class extends i{constructor(e){super(e,8)}},t.NotificationType9=class extends i{constructor(e){super(e,9)}},t.isRequestMessage=function(e){let t=e;return t&&n.string(t.method)&&(n.string(t.id)||n.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&n.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(n.string(t.id)||n.number(t.id)||null===t.id)}},3377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5622),o=r(2087),s=r(6417),i=r(1631),a=r(6386),c=r(9725);t.generateRandomPipeName=function(){const e=s.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:n.join(o.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let r,n=new Promise(((e,t)=>{r=e}));return new Promise(((o,s)=>{let u=i.createServer((e=>{u.close(),r([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])}));u.on("error",s),u.listen(e,(()=>{u.removeListener("error",s),o({onConnected:()=>n})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const r=i.createConnection(e);return[new a.SocketMessageReader(r,t),new c.SocketMessageWriter(r,t)]}},1609:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1631),o=r(6386),s=r(9725);t.createClientSocketTransport=function(e,t="utf-8"){let r,i=new Promise(((e,t)=>{r=e}));return new Promise(((a,c)=>{let u=n.createServer((e=>{u.close(),r([new o.SocketMessageReader(e,t),new s.SocketMessageWriter(e,t)])}));u.on("error",c),u.listen(e,"127.0.0.1",(()=>{u.removeListener("error",c),a({onConnected:()=>i})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const r=n.createConnection(e,"127.0.0.1");return[new o.SocketMessageReader(r,t),new s.SocketMessageWriter(r,t)]}},4406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCommands=void 0;const n=r(7549),o=r(3129),s=r(7248),i=r(4314),a=r(5622),c=r(4079);function u(){const e=n.workspace.workspaceFolders;return n.workspace.workspaceFile||e&&e.length&&e[0].uri}t.addCommands=function(e,t,r){const l=e.subscriptions,{checkIfWSLInstalled:p,showNoDistroDialog:d,showDistroStore:h}=c.getDialogs(r);async function f(e=!1){const t=(await s.fetchAndRegisterDistros()).filter(((e,t)=>0===t||!i.isDockerDesktopDistro(e)));if(0!==t.length){if(1===t.length&&e)return{distro:t[0],default:t[0]};{const e={label:"$(plus) Install New...",description:void 0};let r=t.map(((e,t)=>({label:e,description:0===t?"(default distro)":void 0})));r=[r[0],...r.slice(1).sort(((e,t)=>e.label.localeCompare(t.label)))],r.push(e);const o=await n.window.showQuickPick(r,{placeHolder:"Select WSL distro"});return o===e?void await h():o?{distro:o.label,default:t[0]}:void 0}}n.window.showInformationMessage(c.noDistrosInstalledMessage)}l.push(n.commands.registerCommand("remote-wsl.newWindow",(async()=>{const e=t();if(e)return void s.openWSLWindow(e);if(!await p())return;const r=await s.fetchAndRegisterDistros();0===r.length?await d():s.openWSLWindow(i.getAuthorityFromDistro(r[0]))}))),l.push(n.commands.registerCommand("remote-wsl.newWindowForDistro",(()=>async function(){if(!await p())return;const e=await f();e&&s.openWSLWindow(i.getAuthorityFromDistro(e.distro))}()))),l.push(n.commands.registerCommand("remote-wsl.openFolder",(()=>async function(e){const o=await p(),c=t();if(r.reportOpen("other",o,c),!o)return;if(c)return n.commands.executeCommand("workbench.action.files.openFolder");if(!i.isWSLInExplorerAvailable())return n.window.showInformationMessage(`Remote-WSL requires a more recent version of WSL (${i.WIN10_1903.label}) to browse a WSL folder in the Windows file dialog. use 'Remote-WSL: New Window' instead.`,"Ok");const u=await s.fetchAndRegisterDistros();if(0===u.length)return d();const l=u[0];let h=n.Uri.file(`\\\\wsl$\\${l}`);const f=await async function(e){const t=i.getAuthorityFromDistro(e),r=await n.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces)for(const e of r.workspaces)if(e&&(e.folderUri||e.workspace)){const r=e.folderUri?e.folderUri:e.workspace.configPath;if("vscode-remote"===r.scheme&&i.compareCaseInsensitive(r.authority,t)&&!r.path.startsWith("/mnt/"))return e.folderUri?r:r.with({path:a.posix.dirname(r.path)})}}(l);f&&(h=h.with({path:a.posix.join(h.path,f.path)}));const m=await n.window.showOpenDialog({canSelectFolders:!0,defaultUri:h});if(!m||"file"!==m[0].scheme)return;const v=m[0];if("wsl$"===v.authority){const e=v.path.match(/^\/?([^/]+)\/(.*)$/);if(e){const t=n.Uri.parse(`vscode-remote://wsl+${e[1]}/${e[2]}`);return n.commands.executeCommand("vscode.openFolder",t,s.getReuseWindowOption())}}else if(!v.authority){const e=v.fsPath;try{const t=i.executeWslPath(e,!0,l),r=i.getAuthorityFromDistro(l);n.commands.executeCommand("vscode.openFolder",v.with({scheme:"vscode-remote",authority:r,path:t}),s.getReuseWindowOption())}catch(t){n.window.showInformationMessage(`Unable to open ${e} in WSL (${l||"default distro"}). See [WSL log](command:remote-wsl.showLog) for details.`),s.writeLineToOutput(t.toString()),s.showLog()}}}()))),l.push(n.commands.registerCommand("remote-wsl.showLog",(()=>{s.showLog()}))),l.push(n.commands.registerCommand("remote-wsl.getHelp",(async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl"))))),l.push(n.commands.registerCommand("remote-wsl.getStarted",(async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl/getting-started"))))),l.push(n.commands.registerCommand("remote-wsl.provideFeedback",(async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl/provide-feedback"))))),l.push(n.commands.registerCommand("remote-wsl.reportIssue",(async()=>n.commands.executeCommand("vscode.openIssueReporter","ms-vscode-remote.remote-wsl")))),l.push(n.commands.registerCommand("remote-wsl.reopenInWSL",(async()=>{if(!await p())return;if(!s.checkWSLPathSupport())return;let e=u();if(!e)return void n.window.showInformationMessage("A workspace file or a folder needs be open in the current window.");if("file"!==e.scheme&&("vscode-remote"!==e.scheme||"wsl"!==n.env.remoteName))return void n.window.showInformationMessage("A local or a WSL window is required for this command.");const t=await f(!0);if(!t)return;const r=t.distro,o=i.getAuthorityFromDistro(r);if("wsl"!==n.env.remoteName){if(!i.isExecAndDistroArgumentSupported()&&!i.compareCaseInsensitive(r,t.default)&&!await s.ensureDefault(r,t.default))return;const a=e.fsPath;try{const t=i.executeWslPath(a,!0,r);n.commands.executeCommand("vscode.openFolder",e.with({scheme:"vscode-remote",authority:o,path:t}),{forceReuseWindow:!0})}catch(e){n.window.showInformationMessage(`Unable to open ${a} in WSL (${r||"default distro"}). See [WSL log](command:remote-wsl.showLog) for details.`),s.writeLineToOutput(e.toString()),s.showLog()}}else n.commands.executeCommand("vscode.openFolder",e.with({authority:o}),{forceReuseWindow:!0})}))),l.push(n.commands.registerCommand("remote-wsl.reopenInWindows",(async()=>{if(!await p())return;if(!s.checkWSLPathSupport())return;let e=u();const r=t(),o=r&&i.getDistroFromAuthority(r);if(e&&"vscode-remote"===e.scheme&&o)try{const t=i.executeWslPath(e.path,!1,o);n.commands.executeCommand("vscode.openFolder",n.Uri.file(t),{forceReuseWindow:!0})}catch(t){n.window.showInformationMessage(`Unable to open ${e.path} in Windows. See [WSL log](command:remote-wsl.showLog) in terminal for details.`),s.writeLineToOutput(t.toString()),s.showLog()}else n.window.showInformationMessage("The current window must be opened on a workspace file or a folder in WSL.")}))),l.push(n.commands.registerCommand("remote-wsl.revealInExplorer",(async e=>{var r;const a=t(),c=a&&i.getDistroFromAuthority(a);if(a&&c){if(!e){const t=n.window.activeTextEditor;t?e=t.document.uri:(n.workspace.workspaceFolders&&(e=null===(r=n.workspace.workspaceFolders[0])||void 0===r?void 0:r.uri),e||(e=n.Uri.parse(`vscode-remote://${a}/home`)))}try{let t;if("vscode-remote"===e.scheme)t=i.executeWslPath(e.path,!1,c);else{if("file"!==e.scheme)return void n.window.showInformationMessage(`Unable to open ${e.path} in the Windows explorer.`);t=e.fsPath}try{o.execSync(`explorer.exe /select,"${t}"`)}catch(e){}}catch(t){n.window.showInformationMessage(`Unable to open ${e.path} in the Windows explorer. See [WSL log](command:remote-wsl.showLog) in terminal for details.`),s.writeLineToOutput(t.toString()),s.showLog()}}else n.window.showInformationMessage("The current window must be opened on a workspace file or a folder in WSL.")})))}},4079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDialogs=t.noDistrosInstalledMessage=void 0;const n=r(7549),o=r(4314),s=r(3129),i=r(7248);t.noDistrosInstalledMessage="No WSL distros found. New distros can be installed from the Microsoft Store.",t.getDialogs=function(e){async function r(){return n.env.openExternal(n.Uri.parse("https://www.microsoft.com/en-gb/search/shop/apps?q=wsl&devicetype=pc&category=Developer+tools&Price=0"))}let a;return{checkIfWSLInstalled:async function(){if(void 0===a){const e=await o.isWSLInstalled();!0!==e?(i.writeLineToOutput(`WSL not installed: ${e}`),a=!1):a=!0}if(!a){e.reportDialog("wslNotInstalled","show");const t="Documentation",r="Install Now",i=o.getWindowsBuildNumber()>=20262?[r,t]:[t],a=await n.window.showErrorMessage("Windows Subsystem for Linux not detected. The Remote WSL extension requires Windows 10 with the Windows Subsystem for Linux feature installed.",...i);a===t?(e.reportDialog("wslNotInstalled","open"),n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl/install-wsl"))):a===r?(e.reportDialog("wslNotInstalled","install"),function(){const e=[];e.push("powershell.exe"),e.push("Start-Process"),e.push("-FilePath","cmd"),e.push("-ArgumentList",`'/c "${o.getWSLExecutablePath()} --install & pause"'`),e.push("-Verb","RunAs"),s.exec(e.join(" "),{encoding:"utf-8"},((e,t,r)=>{e&&console.log(e),console.log(t),console.error(r)}))}()):e.reportDialog("wslNotInstalled","close")}return a},showNoDistroDialog:async function(){const e="Add Distro",o=await n.window.showInformationMessage(t.noDistrosInstalledMessage,e);return o===e&&await r(),o},showDistroStore:r}}},8338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetsTree=t.ExplorerItem=t.activate=void 0;const n=r(7549),o=r(5622),s=r(7248),i=r(4314);var a;t.activate=function(e,t,r){const o=new p(e,t),a=n.window.createTreeView("targetsWsl",{treeDataProvider:o});o.setMessage=e=>a.message=e,e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.openFolder",(async e=>{c.isFolderItem(e)&&n.commands.executeCommand("vscode.openFolder",e.folder,s.getReuseWindowOption())}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.removeFolder",(async e=>{c.isFolderItem(e)&&(await n.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),o.refresh())}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.openDistro",(async e=>{if(!c.isDistroItem(e))return;const t=i.getAuthorityFromDistro(e.distro);s.openWSLWindow(t)}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.setDefaultDistro",(async e=>{c.isDistroItem(e)&&(s.makeDefault(e.distro),o.refresh())}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.refresh",(async()=>{o.refresh()}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.addDistro",(async()=>{r.showDistroStore()})))},function(e){e.Distro="Distro",e.Folder="Folder"}(a||(a={}));class c{static isDistroItem(e){return!!e&&e.type===a.Distro}static isFolderItem(e){return!!e&&e.type===a.Folder}}t.ExplorerItem=c;class u extends c{constructor(e,t,r=!1){super(),this.distro=e,this.folders=t,this.isDefault=r,this.type=a.Distro}async asTreeItem(e,t){const r=new n.TreeItem(this.distro,this.folders.length>0?n.TreeItemCollapsibleState.Expanded:n.TreeItemCollapsibleState.None);return t&&this.distro.toLowerCase()===t.toLowerCase()||!i.isDistroEnvVarAvailable()&&void 0===t&&this.isDefault?(r.iconPath=v(e,d),r.contextValue="activeDistro",r.tooltip=`${r.label} Status Connected`):(r.iconPath=v(e,h),r.contextValue="inactiveDistro",r.tooltip=`${r.label} Status Not-Connected`),this.isDefault&&(r.description="default distro"),r}}class l extends c{constructor(e,t){super(),this.distro=e,this.folder=t,this.type=a.Folder}async asTreeItem(e,t,r){let s=new n.TreeItem(o.basename(this.folder.path),n.TreeItemCollapsibleState.None);return s.description=this.folder.path,t&&this.distro.toLowerCase()===t.toLowerCase()&&r===this.folder.path?(s.iconPath=v(e,f),s.tooltip=`Active Folder ${s.label}`):(s.iconPath=v(e,m),s.contextValue="folder"),s}}class p{constructor(e,t){this.context=e,this.getOpenedAuthority=t,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.setTreeMessage=()=>{},this.currentDistro=null,this.recentEntries=new Map,this.needsWslInstallContext=void 0,this.hasDistrosContext=void 0,this.setCurrents()}setCurrents(){const e=this.getOpenedAuthority();e&&i.isAuthorityWsl(e)&&(this.currentDistro=i.getDistroFromAuthority(e),n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length>0&&(this.currentFolder=n.workspace.workspaceFolders[0].uri.path))}set setMessage(e){this.setTreeMessage=e}getTreeItem(e){return e.asTreeItem(this.context,this.currentDistro,this.currentFolder)}async setNeedsWslInstallContext(e){void 0!==this.needsWslInstallContext&&this.needsWslInstallContext===e||(this.needsWslInstallContext=e,this.needsWslInstallContext&&!1===this.hasDistrosContext&&this.setHasDistrosContext(!0),await n.commands.executeCommand("setContext","remote-wsl:needsInstall",this.needsWslInstallContext))}async setHasDistrosContext(e){void 0!==this.hasDistrosContext&&this.hasDistrosContext===e||(this.hasDistrosContext=e,await n.commands.executeCommand("setContext","remote-wsl:noDistros",!this.hasDistrosContext))}async getChildren(e){if(void 0===e&&!0!==await i.isWSLInstalled())return this.setNeedsWslInstallContext(!0),[];this.setNeedsWslInstallContext(!1);let t=[];try{t=await i.getDistros()}catch(e){}return void 0===e&&0===t.length?(this.setHasDistrosContext(!1),[]):(this.setHasDistrosContext(!0),void 0===e?(this.setTreeMessage(void 0),this.setCurrents(),await this.setRecentEntries(t[0].toLowerCase()),t.filter(((e,t)=>0===t||!i.isDockerDesktopDistro(e))).map(((e,t)=>{const r=this.recentEntries.has(e.toLowerCase())?this.recentEntries.get(e.toLowerCase()).map((t=>new l(e,t))):[];return new u(e,r,0===t)})).sort(((e,t)=>e.isDefault?-1:e.distro.localeCompare(t.distro)))):c.isDistroItem(e)?e.folders:[])}async setRecentEntries(e){this.recentEntries.clear();const t=await n.commands.executeCommand("_workbench.getRecentlyOpened");if(t&&t.workspaces)for(const r of t.workspaces)if(r&&(r.folderUri||r.workspace)){const t=r.folderUri?r.folderUri:r.workspace.configPath;if(!i.isAuthorityWsl(t.authority))continue;let n=i.getDistroFromAuthority(t.authority);n?(n=n.toLowerCase(),this.recentEntries.has(n)?this.recentEntries.get(n).push(t):this.recentEntries.set(n,[t])):this.recentEntries.has(e)?this.recentEntries.get(e).push(t):this.recentEntries.set(e,[t])}}refresh(e){this._onDidChangeTreeData.fire(e)}}t.TargetsTree=p;const d="vm-active",h="vm-default",f="folder-active",m="folder";function v(e,t){const r=`${t}.svg`;return{light:n.Uri.file(e.asAbsolutePath(o.join("resources","light",r))),dark:n.Uri.file(e.asAbsolutePath(o.join("resources","dark",r))),highContrast:n.Uri.file(e.asAbsolutePath(o.join("resources","highContrast",r)))}}},7248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReuseWindowOption=t.checkWSLPathSupport=t.makeDefault=t.ensureDefault=t.writeLineToOutput=t.showLog=t.fetchAndRegisterDistros=t.openWSLWindow=t.activate=void 0;const n=r(7549),o=r(3129),s=r(5622),i=r(6417),a=r(8231),c=r(2087),u=r(8605),l=r(4314),p=r(9763),d=r(8338),h=r(7631),f=r(4406),m=r(1918),v=r(4079),g=!!process.env.VSCODE_DEV,y=process.env.VSCODE_WSL_AGENT_DEBUG_PORT||(g?String(l.randomPort()):""),_=s.join(__dirname,"wslDaemon.js");let w,E,b=[];const C=Object.create(null),T=new Set(["SHELL","PWD","USER","OLDPWD"]);var x;async function I(){try{const e=await l.getDistros();for(const t of e)C[t]||(C[t]=!0,n.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:l.getAuthorityFromDistro(t),formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:`WSL: ${t}`}}));return e}catch(e){return P(e.toString()),[]}}!function(e){e.connectThroughLocalhost="remote.WSL.server.connectThroughLocalhost",e.fileWatcher="remote.WSL.fileWatcher",e.debug="remote.WSL.debug",e.useShellEnvironment="remote.WSL.useShellEnvironment"}(x||(x={})),t.activate=function(e){if("win32"!==process.platform)return;n.commands.executeCommand("setContext","remote.wsl.available",!0);const t=e.subscriptions,r=p.setupTelemetry(e),o=v.getDialogs(r);n.commands.executeCommand("setContext","remote.wsl.noWSLPath",!l.isWSLPathAvailable()),n.commands.executeCommand("setContext","remote.wsl.noWSLInExplorer",!l.isWSLInExplorerAvailable());const s=new D(e.extensionPath,o);s.onDidResolve((({outcome:e,wslVersion:t,reason:n})=>r.reportResolver(e,t,n))),t.push(n.workspace.registerRemoteAuthorityResolver("wsl",s));const i=()=>s.openedAuthority;f.addCommands(e,i,r),d.activate(e,i,o),m.setupRecommender(e,r,s.onDidResolve)},t.openWSLWindow=async function(e){n.commands.executeCommand("vscode.newWindow",{remoteAuthority:e})},t.fetchAndRegisterDistros=I;class S{constructor(){this.writeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event}open(){const e=b;b=[],e.forEach((e=>this.writeEmitter.fire(e))),w=this}close(){this.writeEmitter.dispose(),E=void 0,w=void 0}write(e){this.writeEmitter.fire(e)}}function k(){E||(E=n.window.createTerminal({name:"WSL",pty:new S})),E.show()}function R(e,t=!1){const r=e.split(/\r?\n/);for(let e=0;e<r.length;e++){const n=r[e].replace(/[\b]/g,"");(n.length||e<r.length-1)&&P(n,t)}}function P(e,t=!1){const r=`[[32m${(new Date).toISOString().replace(/[TZ]/g," ").trim()}[0m] ${t?"[31m":""}${e}\r\n`;w?w.write(r):b.push(r)}t.showLog=k,t.writeLineToOutput=P;class A{constructor(e,t){this.remoteAddress=e,this._onDidDispose=new n.EventEmitter,this.onDidDispose=this._onDidDispose.event,this.localAddress=t,"127.0.0.1"!==t.host&&"localhost"!==t.host&&(this.localAddress.host="localhost")}dispose(){this._onDidDispose.fire()}}class D{constructor(e,t){this._onResolveEmmiter=new n.EventEmitter,this._extensionLocation=e,this._dialogs=t}get onDidResolve(){return this._onResolveEmmiter.event}get openedAuthority(){return this._openedAuthority}getPipeName(e){var t;const{commit:r,quality:o}=l.getProductConfiguration(n.env.appRoot);return`\\\\.\\pipe\\vscode-wsl-${i.createHash("sha1").update(r||"dev").update(o||"insider").update(e.toLowerCase()).update((null===(t=c.userInfo())||void 0===t?void 0:t.username)||"").digest("hex")}-sock`}async resolve(e,t){if(P(`Resolving ${e}, resolveAttempt: ${t.resolveAttempt}`),this._resolvePromise)return P("Returning resolved promise."),this._resolvePromise;if("win32"!==process.platform)return this.handleInputError("WSL is only supported on Windows");if(!l.isAuthorityWsl(e))return this.handleInputError("Remote name must start with wsl+");if(!await this._dialogs.checkIfWSLInstalled())return Promise.reject(n.RemoteAuthorityResolverError.NotAvailable("WSL not installed",!0));const r=await I();if(0===r.length)return await this._dialogs.showNoDistroDialog(),Promise.reject(n.RemoteAuthorityResolverError.NotAvailable("No distros installed.",!0));let o=l.getDistroFromAuthority(e)||r[0];const s=l.indexOfDistro(r,o);return-1===s?this.handleInputError(`Unknown distro: ${o}`):(o=r[s],this._openedAuthority=l.getAuthorityFromDistro(o),this._resolvePromise=n.window.withProgress({location:n.ProgressLocation.Notification,title:`[Starting VS Code in WSL (${o})](command:remote-wsl.showLog)`,cancellable:!1},(e=>this._resolve(o,r[0],e))),this._resolvePromise)}async tunnelFactory(e){const t={host:e.remoteAddress.host,port:void 0!==e.localAddressPort?e.localAddressPort:e.remoteAddress.port};return new A(e.remoteAddress,t)}handleInputError(e){return n.window.showErrorMessage(e),Promise.reject(n.RemoteAuthorityResolverError.NotAvailable(e,!0))}getResolvedOptions(e){if(!1===n.workspace.getConfiguration().get(x.useShellEnvironment))return P("Using shell environment is disabled."),Promise.resolve({});const t=process.env.VSCODE_CLI_REMOTE_ENV;if(t){const r=l.executeCommand(`[ -f '${t}' ] && cat '${t}' || echo ''`,{},e);if(r){const e={},n=r.split(/(?:\r\n|\r|\n)/g);for(let t of n){const r=t.indexOf("=");if(r>0){const n=t.substr(0,r);n.startsWith("VSCODE")||T.has(n)||(e[n]=t.substr(r+1))}}return P(`Using shell environment from invoking shell: ${t}`),Promise.resolve({extensionHostEnv:e})}}return P("No shell environment set or found for current distro."),Promise.resolve({})}_resolve(e,t,r){return new Promise(((s,i)=>{P(`Starting VS Code Server inside WSL (${e})`),P(`Extension version: ${function(){const e=n.extensions.getExtension("ms-vscode-remote.remote-wsl");return e&&e.packageJSON.version||0}()}, Windows build: ${l.getWindowsBuildNumber()}. Multi distro support: ${l.isDistroEnvVarAvailable()?"available":"not available"}. WSL path support: ${l.isWSLPathAvailable()?"enabled":"disabled"}`),r.report({message:"Starting Linux Subsystem"});const u=this.getResolvedOptions(e);let d=!1,f=async(e,t,r=!1,o=!0)=>{if(P(e,!0),!d){if(d=!0,!r){P("For help with startup problems, go to"),P("https://code.visualstudio.com/docs/remote/troubleshooting#_wsl-tips"),k(),t&&(e+="\r\nCheck WSL terminal for more details.");const r=await n.window.showErrorMessage(e,{modal:o},...function(){const e=[],t=n.workspace.textDocuments.some((e=>e.isDirty))||n.workspace.workspaceFile&&"untitled"===n.workspace.workspaceFile.scheme;return e.push({title:"Retry",execute:async()=>{await n.commands.executeCommand("workbench.action.reloadWindow")}}),t||e.push({title:"Close Remote",execute:async()=>{await n.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}}),e.push({title:"Ignore",isCloseAffordance:!0,execute:async()=>{n.commands.executeCommand("remote-wsl.showLog")}}),e}());r&&await r.execute()}i(n.RemoteAuthorityResolverError.NotAvailable(e,!0))}this._resolvePromise=void 0};try{const i={};Object.keys(process.env).forEach((e=>{i[e]=process.env[e]}));let m=0,v=n.workspace.getConfiguration(x.fileWatcher);if(!0===v.get("polling")){const e=v.get("pollingInterval");m="number"==typeof e?Math.ceil(Math.max(500,e)):5e3}i.VSCODE_WSL_AGENT_DEBUG_PORT=y,i.VSCODE_WSL_PIPE_NAME=this.getPipeName(e),i.VSCODE_WSL_EXT_HOST_PID=process.pid,i.VSCODE_WSL_EXT_LOCATION=this._extensionLocation,i.VSCODE_WSL_APP_ROOT=n.env.appRoot,i.VSCODE_FILE_WATCHER_POLLING=m,i.VSCODE_WSL_DISTRO=e,i.VSCODE_WSL_DEFAULT_DISTRO=t,M()&&(i.VSCODE_WSL_DEBUG_INFO=!0,k()),p.enableTelemetry()&&(i.VSCODE_WSL_ENABLE_TELEMETRY=!0);const g={stdio:["pipe","pipe","pipe","ipc"],detached:!0,env:i,execArgv:[],cwd:process.cwd()},w=o.fork(_,[],g);let E=a.createMessageConnection(new a.StreamMessageReader(w.stdout),new a.StreamMessageWriter(w.stdin));E.listen(),E.onNotification(h.Progress,(e=>r.report({increment:e.increment,message:e.message}))),E.onNotification(h.Stdout,(e=>R(e))),E.onNotification(h.Stderr,(e=>R(e,!0))),E.onNotification(h.PortResolved,(async e=>{if(!d){d=!0;const t=await async function(e,t,r){if(l.isWSL1(r))return"127.0.0.1";if(n.workspace.getConfiguration().get(x.connectThroughLocalhost))return P(`Using localhost as configured by setting '${x.connectThroughLocalhost}'`),"::1";if(e.length){const r=c.networkInterfaces(),n={};for(let e in r)for(let t of r[e])n[t.address]=!0;for(let r of e)if(!n[r]){if(P(`Pinging ${r}:${t}...`),await L(r,t))return P(`${r}:${t} responded`),r;P(`${r}:${t} no response`)}}return"::1"}(e.hostNames,e.port,e.wslVersion);P(`WSL resolver response: ${t}:${e.port}`),P(`To debug connection issues, open a local browser on http://${t.indexOf(":")>=0?`[${t}]`:t}:${e.port}/version`);const r=(await u).extensionHostEnv;M()&&R(r?"Extension host environment: "+JSON.stringify(r,null,"  "):"No extension host environment set"),s({host:t,port:e.port,extensionHostEnv:r,connectionToken:void 0}),this._onResolveEmmiter.fire({outcome:"success",wslVersion:e.wslVersion})}})),E.onNotification(h.FatalErrorOccured,(async e=>{f(e.message,e.checkLog,e.handled,e.modal),this._onResolveEmmiter.fire({outcome:"failure",wslVersion:e.wslVersion,reason:e.reason})})),E.onRequest(h.DownloadRequest,(e=>l.donwloadBuild(e.url,e.target,(t=>E.sendProgress(h.DownloadProgress,e.progressToken,t)),(t=>E.sendProgress(h.DownloadLog,e.logToken,t))))),E.onRequest(h.MakeDefaultRequest,(e=>O(e.distro,e.current))),w.on("error",(e=>{f(String(e),!0)})),w.on("close",(e=>{f(`WSL Daemon exited with code ${e}`,!0)}))}catch(e){f("Problems starting WSL Daemon: "+(e&&e.message||""),!1)}}))}}async function O(e,t){const r="Change Default",o=`With WSL builds older than ${l.WIN10_1903.label}, Remote-WSL can only open distros that are configured as the default distro.\n\nDo you want to make ${e} the new default distro? The current default distro is ${t}.`;return await n.window.showWarningMessage(o,{modal:!0},r)===r&&(N(e),!0)}function N(e){try{const t=l.getWSLConfigExecutablePath();return o.execSync(`${t} /setdefault ${e}`),!0}catch(t){return n.window.showInformationMessage(`Unable to set ${e} as the default distro. See [WSL log](command:remote-wsl.showLog) in terminal for details.`),P(t.toString()),k(),!1}}function L(e,t){return new Promise(((r,n)=>{u.get({hostname:e,port:t,path:"/version",timeout:1e3},(e=>{200===e.statusCode?r(!0):r(!1)})).on("error",(()=>r(!1)))}))}function M(){return!!n.workspace.getConfiguration().get(x.debug)}t.ensureDefault=O,t.makeDefault=N,t.checkWSLPathSupport=function(){return!!l.isWSLPathAvailable()||(n.window.showInformationMessage(`Remote-WSL requires a recent version of WSL (${l.WIN10_1803.label}) to support reopening in Windows or WSL.`,"Ok"),!1)},t.getReuseWindowOption=function(){return"on"===n.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)?{forceNewWindow:!0}:{forceReuseWindow:!0}}},7631:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FailureReason=t.DownloadLog=t.DownloadProgress=t.MakeDefaultRequest=t.DownloadRequest=t.FatalErrorOccured=t.PortResolved=t.Stderr=t.Stdout=t.Progress=void 0;const n=r(8231);var o;t.Progress=new n.NotificationType("progressNotification"),t.Stdout=new n.NotificationType("stdoutNotification"),t.Stderr=new n.NotificationType("stderrNotification"),t.PortResolved=new n.NotificationType("portResolvedNotification"),t.FatalErrorOccured=new n.NotificationType("fatalErrorOccuredNotification"),t.DownloadRequest=new n.RequestType("downloadRequest"),t.MakeDefaultRequest=new n.RequestType("makeDefault"),t.DownloadProgress=new n.ProgressType,t.DownloadLog=new n.ProgressType,(o=t.FailureReason||(t.FailureReason={})).ServerScriptError="servererror",o.ServerCloseError="serverclose",o.Timeout="timeout",o.WSLNotFound="wslnotfound",o.WSLUpdateRequired="wslupdaterequired",o.Undefined="undefined"},1918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupRecommender=void 0;const n=r(7549),o=r(4314),s=r(3022);var i,a,c;!function(e){e.welcome="welcome"}(i||(i={})),function(e){e.unusedExtension="unusedExtension",e.useWSL2="useWSL2",e.useWSL2FileSystem="useWSL2FileSystem"}(a||(a={})),function(e){e.hide_extensionUsed="extensionUsed",e.hide_useWSL2="useWSL2",e.hide_useWSL2FileSystem="useWSL2FileSystem",e.extensionInstallDate="extensionInstallDate"}(c||(c={})),t.setupRecommender=async function(e,t,r){function u(t){return e.globalState.get(t)}function l(t,r){e.globalState.update(t,r)}if(n.env.remoteName)"wsl"===n.env.remoteName&&(l(c.hide_extensionUsed,!0),o.getWindowsBuildNumber()>=o.WIN10_1903.build&&r((async e=>{if("success"!==e.outcome||!e.wslVersion)return;const r=o.isWSL1(e.wslVersion),s=null===(i=n.workspace.workspaceFolders)||void 0===i?void 0:i.some((e=>{const t=e.uri;return"vscode-remote"===t.scheme&&o.isAuthorityWsl(t.authority)&&t.path.match(/^\/mnt\//)}));var i;if(r&&!s)if(u(c.hide_useWSL2))t.reportRecommendation(a.useWSL2,"hidden");else{t.reportRecommendation(a.useWSL2,"show");const e="Don't Show Again",r="Read More",o=await n.window.showInformationMessage("You're currently using WSL 1. We strongly recommend upgrading to WSL 2 for improved performance.",r,e);o===e?(t.reportRecommendation(a.useWSL2,"hide"),l(c.hide_useWSL2,!0)):o===r?(t.reportRecommendation(a.useWSL2,"open"),n.env.openExternal(n.Uri.parse("https://docs.microsoft.com/en-us/windows/wsl/compare-versions"))):t.reportRecommendation(a.useWSL2,"close")}else if(!r&&s)if(u(c.hide_useWSL2FileSystem))t.reportRecommendation(a.useWSL2FileSystem,"hidden");else{t.reportRecommendation(a.useWSL2FileSystem,"show");const e="Don't Show Again",r="Read More",o=await n.window.showInformationMessage("This workspace is on the Windows file system (/mnt/). For best performance, we recommend moving the workspace to the Linux file system (~/home).",r,e);o===e?(t.reportRecommendation(a.useWSL2FileSystem,"hide"),l(c.hide_useWSL2FileSystem,!0)):o===r?(t.reportRecommendation(a.useWSL2FileSystem,"open"),n.env.openExternal(n.Uri.parse("https://docs.microsoft.com/en-us/windows/wsl/compare-versions#performance-across-os-file-systems"))):t.reportRecommendation(a.useWSL2FileSystem,"close")}})),!n.workspace.workspaceFolders&&await t.isExperimentEnabled(i.welcome)&&r((async r=>{"success"===r.outcome&&s.showWelcome(e,t)})));else if(!u(c.hide_extensionUsed)){const r=u(c.extensionInstallDate);if("number"!=typeof r)l(c.extensionInstallDate,(new Date).getTime());else if((new Date).getTime()-r>2592e5){e.subscriptions.push(n.commands.registerCommand("remote-wsl.newWindowFromRecommendation",(()=>(t.reportRecommendation(a.unusedExtension,"open"),n.commands.executeCommand("remote-wsl.newWindowForDistro"))))),t.reportRecommendation(a.unusedExtension,"show");const r="Don't Show Again";await n.window.showInformationMessage("You have installed the Remote-WSL extension but have not used it yet. To start, open a [New WSL window](command:remote-wsl.newWindowFromRecommendation).",r)===r?t.reportRecommendation(a.unusedExtension,"hide"):t.reportRecommendation(a.unusedExtension,"close"),l(c.hide_extensionUsed,!0)}}}},9763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupTelemetry=t.enableTelemetry=t.enableExperiments=t.enableAllExperiments=void 0;const n=r(4398),o=r(7549),s=r(4314),i=r(9035);var a;!function(e){e.enableTelementry="telemetry.enableTelemetry",e.enableExperiments="workbench.enableExperiments",e.enableAllExperiments="remote.WSL.allExperiments"}(a||(a={}));const c="ms-vscode-remote.remote-wsl";function u(){return!0===o.workspace.getConfiguration().get(a.enableAllExperiments)}function l(){return!1!==o.workspace.getConfiguration().get(a.enableExperiments)}function p(){return!1!==o.workspace.getConfiguration().get(a.enableTelementry)}t.enableAllExperiments=u,t.enableExperiments=l,t.enableTelemetry=p,t.setupTelemetry=function(e){const t=o.extensions.getExtension(c);if(!t)throw new Error(`${c} not found in extensions.`);const r=t.packageJSON,{name:h,publisher:f,version:m,aiKey:v}=r,g=new n.default(`${f}.${h}`,m,v);e.subscriptions.push(g);const y=new d(g),_=function(){const{quality:e}=s.getProductConfiguration(o.env.appRoot);switch(e){case"stable":return i.TargetPopulation.Public;case"insider":return i.TargetPopulation.Insiders;case"exploration":return i.TargetPopulation.Internal;case void 0:return i.TargetPopulation.Team;default:return i.TargetPopulation.Public}}();let w;const E=()=>{w=l()&&!u()?i.getExperimentationService(`${f}.${h}`,m,_,y,e.globalState):void 0};return E(),e.subscriptions.push(o.workspace.onDidChangeConfiguration((e=>{(e.affectsConfiguration(a.enableExperiments)||e.affectsConfiguration(a.enableAllExperiments))&&E()}))),{reportResolver(e,t,r){if(!p())return;const n={outcome:e};t&&(n.wslVersion=t,n.wslType=s.isWSL1(t)?"WSL1":"WSL2",n.wslDistro=t.split(" ")[1]||"",n.windowsBuild=String(s.getWindowsBuildNumber())),r&&(n.windowsBuild=r),y.sendTelemetryEvent("resolver",n)},reportWelcomePage(e,t){if(!p())return;const r={outcome:e,detail:t};y.sendTelemetryEvent("welcomePage",r)},reportOpen(e,t,r){if(!p())return;const n={origin:e,isWSLInstalled:String(t),authority:r||""};y.sendTelemetryEvent("openInWSL",n)},reportRecommendation(e,t){if(!p())return;const r={kind:e,outcome:t};y.sendTelemetryEvent("recommendation",r)},reportDialog(e,t){if(!p())return;const r={kind:e,outcome:t};y.sendTelemetryEvent("dialog",r)},isExperimentEnabled:async e=>!!u()||void 0!==w&&w.isCachedFlightEnabled(e)}};class d{constructor(e){this.baseReporter=e,this.sharedProperties={}}sendTelemetryEvent(e,t,r){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...t},r)}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const r={};for(const[e,n]of t)r[e]=n;this.sendTelemetryEvent(e,r)}}},4314:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomPort=t.isWSL1=t.fileExists=t.getServerTarCacheLocation=t.donwloadBuild=t.getDownloadURL=t.escapeForDoubleQuotes=t.escapeQuotes=t.toForwardSlashes=t.getDistros=t.indexOfDistro=t.getDistroFromAuthority=t.isDockerDesktopDistro=t.isAuthorityWsl=t.isEqualAuthority=t.startsWithCaseInsensitive=t.compareCaseInsensitive=t.getAuthorityFromDistro=t.ALPINE_DISTRO=t.ALPINE_AUTHORITY=t.DEFAULT_AUTHORITY=t.getProductConfiguration=t.getWindowsBuildNumber=t.getWSLConfigExecutablePath=t.isWSLInstalled=t.getWSLExecutablePath=t.executeCommand=t.executeWslPath=t.getExecSyncOptions=t.needsPathLengthWorkaround=t.isWSLInExplorerAvailable=t.isExecAndDistroArgumentSupported=t.isWSLEnvAvailable=t.isWSLPathAvailable=t.isDistroEnvVarAvailable=t.WIN10_1803=t.WIN10_1903=t.WIN10_2004=t.WIN10_21H1=void 0;const n=r(5622),o=r(2087),s=r(5747),i=r(3129),a=r(7211),c=r(6417),u=r(1669);function l(){return y()>=17666}function p(){return y()>=19555}function d(){return p()?{env:{PATH:""},stdio:[null,null,null]}:{env:{},stdio:[null,null,null]}}function h(e,t,r){const o=f();if(!o)throw new Error("wsl command not found\n\nMake sure WSL is installed:\nhttps://aka.ms/vscode-remote/wsl/install-wsl");const s=d();for(const e in t)s.env[e]=t[e];let a=[];return l()?a.push("-d",r,"sh","-c",e):"wsl.exe"===n.basename(o).toLowerCase()?a.push("sh","-c",e):a.push("-c",e),i.execFileSync(o,a,s).toString()}function f(){let e=y()>=16299;const t=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),r=process.env.SystemRoot;if(r)return n.join(r,t?"Sysnative":"System32",e?"wsl.exe":"bash.exe")}function m(){const e=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),t=process.env.SystemRoot;if(t)return n.join(t,e?"Sysnative":"System32","wslconfig.exe")}let v,g;function y(){if("number"!=typeof v){const e="win32"===process.platform&&/(\d+)\.(\d+)\.(\d+)/g.exec(o.release());v=e&&4===e.length?parseInt(e[3]):0}return v}function _(e,t){return e.length===t.length&&(e===t||e.toLowerCase()===t.toLowerCase())}function w(e){return/^wsl\+/.test(e)}function E(e,t,r,n,o=5,i){return new Promise(((u,l)=>{const p=e=>{s.unlink(t,(()=>{})),l(e)},d=s.createWriteStream(t);a.get(e,(a=>{const h=a.headers["x-sha256"];if(i||"string"!=typeof h||(i=h),o>0&&(a.statusCode>=300&&a.statusCode<=303||307===a.statusCode)){const e=a.headers.location;if(e)return void E(e,t,r,n,o-1,i).then(u,l)}if(a.statusCode<200||a.statusCode>299)return void l(`Failed to download VS Code Server from ${e}: HTTP ${a.statusCode} - ${a.statusMessage}`);n(`Download checksum: ${i}`);const f=parseInt(a.headers["content-length"]||"0");if(f){let e=0,t=0;a.on("data",(n=>{e+=n.length,t++%8==0&&r({received:e,total:f})}))}a.on("error",p),a.pipe(d),a.on("end",(e=>{if(i){const e=c.createHash("sha256"),r=s.createReadStream(t);r.on("readable",(()=>{const t=r.read();t?e.update(t):i!==e.digest("hex")?p("Download checksum does not match."):(n("Download checksum verified"),u())}))}else u()}))})).on("error",p)}))}async function b(e){return u.promisify(s.exists)(e)}async function C(e){await b(e)||(await C(n.dirname(e)),await u.promisify(s.mkdir)(e))}t.WIN10_21H1={label:"Windows 10, May 2021 Update, version 21H1",build:19043},t.WIN10_2004={label:"Windows 10, May 2020 Update, version 2004",build:19041},t.WIN10_1903={label:"Windows 10, May 2019 Update, version 1903",build:18362},t.WIN10_1803={label:"Windows 10, April 2018 Update, version 1803",build:17134},t.isDistroEnvVarAvailable=function(){return y()>=t.WIN10_1903.build},t.isWSLPathAvailable=function(){return y()>=17046},t.isWSLEnvAvailable=function(){return y()>=17063},t.isExecAndDistroArgumentSupported=l,t.isWSLInExplorerAvailable=function(){return y()>=18342},t.needsPathLengthWorkaround=p,t.getExecSyncOptions=d,t.executeWslPath=function(e,t,r){return t?h('echo "$VSCODE_WSL_PATH"',{WSLENV:"VSCODE_WSL_PATH/up",VSCODE_WSL_PATH:e},r).trim():h('wslpath -w "$VSCODE_WSL_PATH"',{WSLENV:"VSCODE_WSL_PATH/u",VSCODE_WSL_PATH:e},r).trim()},t.executeCommand=h,t.getWSLExecutablePath=f,t.isWSLInstalled=async function(){if(y()>=22e3){const e=f();return e?await b(e)?new Promise((t=>{i.execFile(e,["--status"],(e=>{t(!e||"--status exits with error")}))})):`'${e}' not found`:"Environment variable 'SystemRoot' not defined"}{const e=function(){const e=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),t=process.env.SystemRoot;if(t)return n.join(t,e?"Sysnative":"System32","lxss","LxssManager.dll")}();return e?!!await b(e)||`'${e}' not found`:"Environment variable 'SystemRoot' not defined"}},t.getWSLConfigExecutablePath=m,t.getWindowsBuildNumber=y,t.getProductConfiguration=function(e){if(!g){const t=s.readFileSync(n.join(e,"product.json")).toString();g=JSON.parse(t)}return g},t.DEFAULT_AUTHORITY="wsl+default",t.ALPINE_AUTHORITY="wsl+Alpine",t.ALPINE_DISTRO="Alpine",t.getAuthorityFromDistro=function(e){return e?"wsl+"+e:t.DEFAULT_AUTHORITY},t.compareCaseInsensitive=_,t.startsWithCaseInsensitive=function(e,t){return e.substr(0,t.length).toLowerCase()===t.toLowerCase()},t.isEqualAuthority=function(e,t){return _(e,t)},t.isAuthorityWsl=w,t.isDockerDesktopDistro=function(e){return/^docker-desktop(-data)?$/.test(e)},t.getDistroFromAuthority=function(e){if(w(e)){const t=e.substr(4);return"default"===t?void 0:t}throw new Error("authority must start with wsl+")},t.indexOfDistro=function(e,t){for(let r=0;r<e.length;r++)if(_(t,e[r]))return r;return-1},t.getDistros=function(){return new Promise(((e,r)=>{let n,o;if(y()>=t.WIN10_21H1.build){if(n=f(),!n)return void r(new Error("Unable to find location of wsl.exe"));o="--list"}else{if(n=m(),!n)return void r(new Error("Unable to find location of wslconfig.exe"));o="/list"}i.execFile(n,[o],{windowsVerbatimArguments:!0,encoding:"utf16le"},((t,n,o)=>{if(t)r(t);else{const t=/\r\n/.test(n)?"\r\n":"\n",r=n.split(t);let o=[];for(let e=1;e<r.length;e++){let t=r[e].match(/^[a-zA-Z0-9\.\-_]+/);t&&o.push(t[0])}e(o)}}))}))},t.toForwardSlashes=function(e){return e.replace(/[\\/]/g,n.posix.sep)},t.escapeQuotes=function(e){return e.replace(/'/g,"'\"'\"'")},t.escapeForDoubleQuotes=function(e){return e.replace(/["$\\]/g,"\\$&")},t.getDownloadURL=function(e,t){return`${e.updateUrl}/commit:${e.commit||"dev"}/server-linux-${t}/${e.quality||"insider"}`},t.donwloadBuild=async function(e,t,r,o){await C(n.dirname(t));const i=`${t}_${Date.now()}`;return E(e,i,r,o).then((e=>u.promisify(s.rename)(i,t).then((e=>t))))},t.getServerTarCacheLocation=function(e,t){return n.join(o.tmpdir(),"vscode-remote-wsl",e.commit||"dev",`vscode-server-${e.quality}-linux-${t}.tar.gz`)},t.fileExists=b,t.isWSL1=function(e){return-1!==e.indexOf("Microsoft")},t.randomPort=function(){return 1025+Math.floor(64510*Math.random())}},3022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showWelcome=void 0;const n=r(7549),o=r(1669),s=r(5622),i="welcome.doNotShowAgain",a="workbench.action.files.openFolder",c="workbench.view.extensions",u="workbench.view.explorer";t.showWelcome=async function(e,t){const r=e.extensionUri,l=!0===e.globalState.get(i);if(l)return;if(n.window.activeTextEditor||0!==n.window.visibleTextEditors.length)return;{const e=n.workspace.getConfiguration().get("workbench.startupEditor");"welcomePage"!==e&&"welcomePageInEmptyWorkbench"===e||await n.commands.executeCommand("workbench.action.closeAllEditors")}const p=n.window.createWebviewPanel("wslWelcome","Welcome to WSL",n.ViewColumn.One,{enableScripts:!0}),d=await async function(){return`<!DOCTYPE html>\n<html lang="en">\n<head>\n\t<meta charset="UTF-8">\n\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t<title>Welcome to WSL</title>\n\t<style>${await async function(e){const t=await n.workspace.fs.readFile(r.with({path:s.posix.join(r.path,"resources","welcome.css")}));return new o.TextDecoder("utf-8").decode(t)}()}</style>\n\t<script>\n\t\twindow.vscode = acquireVsCodeApi();\n\t<\/script>\n</head>\n<body>\n\n<div class="main-page">\n\t<div class="title-row">\n\t\t<div class="title">Welcome to WSL</div>\n\t\t<div class="paragraph">Visual Studio Code in a Linux environment.</div><br />\n\t</div>\n\t<div class="row">\n\t\t<div class="icon" onClick=${h(a)} role="button">\n\t\t\t${await m("folder.svg")}\n\t\t</div>\n\t\t<div class="block">\n\t\t\t<div class="text" onClick=${h(a)} role="button">\n\t\t\t\tOpen\n\t\t\t</div>\n\t\t\t<div class="paragraph list">\n\t\t\t\t- Run <div class="link italics" role="button" onclick=${h("workbench.action.files.openFile")}>File: Open File</div> or <div class="link italics" role="button" onclick=${h(a)}>File: Open Folder</div> in the Command Palette (<div class="italics">Ctrl + Shift + P</div>) <br />\n\t\t\t\t- Open a UNIX shell in the <div class="link" role="button" onclick=${h("workbench.action.terminal.focus")}>integrated terminal</div> (<div class="italics">Ctrl +\`</div>) and execute: <span style="font-family:consolas">code pathToApp</span>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t<div class="row">\n\t\t<div class="icon" onClick=${h(u)} role="button">\n\t\t\t${await m("new-window.svg")}\n\t\t</div>\n\t\t<div class="block">\n\t\t\t<div class="text" onClick=${h(u)} role="button">\n\t\t\t\tCreate\n\t\t\t</div>\n\t\t\t<div class="paragraph list">\n\t\t\t\t- Drag and drop files to the VS Code <div class="link" role="button" onclick=${h(u)}>Explorer</div><br />\n\t\t\t\t- Use <div class="italics">File: Reveal in Explorer</div> to get to the Windows file explorer<br />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="icon" onClick=${h(c)} role="button">\n\t\t\t${await m("vm-active.svg")}\n\t\t</div>\n\t\t<div class="block">\n\t\t\t<div class="text" onClick=${h(c)} role="button">\n\t\t\t\tDevelopment\n\t\t\t</div>\n\t\t\t<div class="paragraph list">\n\t\t\t\t- Install a <a class="link" onClick=${f("https://code.visualstudio.com/docs/remote/wsl-tutorial#_python-development")}>tech stack</a> in your Linux distro <br />\n\t\t\t\t- Select <div class="link" role="button" onclick=${h(c)}>extensions</div> (<div class="italics">Ctrl + Shift + X</div>) to run on the WSL side <br />\n\t\t\t\t- Run and <a class="link" onClick=${f("https://code.visualstudio.com/docs/remote/wsl#_debugging-in-wsl")}>debug</a> your app\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="fullrow">\n\t\t<div class="paragraph">\n\t\tCheck out the <a class="link" onClick=${f("https://code.visualstudio.com/docs/remote/wsl-tutorial")}>tutorial</a> and <a class="link"  onClick=${f("https://code.visualstudio.com/docs/remote/wsl")}>documentation</a> for more tips and troubleshooting.\n\t\t</div>\n\t</div>\n\t<div class="block">\n\t\t<input type="checkbox"\n\t\t\taria-checked=${l}\n\t\t\t${l?"checked":""}\n\t\t\tclass="checkbox"\n\t\t\tid="doNotShow"\n\t\t\tonClick=${'document.querySelector("#doNotShow").checked','\'window.vscode.postMessage(["hide",document.querySelector("#doNotShow").checked])\''}\n\t\t></input>\n\t\t<label for="doNotShow">Don't show this page again</label>\n\t</div>\n</div>\n</body>\n</html>`}();function h(e){return`'window.vscode.postMessage(["command",${JSON.stringify(e)}])'`}function f(e){return`'window.vscode.postMessage(["open",${JSON.stringify(e)}])'`}async function m(e){const t=n.window.activeColorTheme.kind===n.ColorThemeKind.Dark?"dark":"light",i=await n.workspace.fs.readFile(r.with({path:s.posix.join(r.path,"resources",t,e)}));return new o.TextDecoder("utf-8").decode(i).replace('width="16" height="16"',"")}p.webview.html=d,p.webview.onDidReceiveMessage((r=>{switch(r[0]){case"command":const o=r[1];return void("string"==typeof o&&(t.reportWelcomePage("command",o),n.commands.executeCommand(o)));case"open":const s=r[1];return void("string"==typeof s&&(t.reportWelcomePage("link",s),n.env.openExternal(n.Uri.parse(s))));case"hide":const a=r[1];return void("boolean"==typeof a&&(t.reportWelcomePage("hide",String(a)),e.globalState.update(i,a)))}}),void 0,e.subscriptions)}},9035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5654);t.getExperimentationService=n.getExperimentationService,t.getExperimentationServiceAsync=n.getExperimentationServiceAsync;var o=r(2560);t.TargetPopulation=o.TargetPopulation},5708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},4619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}},2560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7549);class o{constructor(e,t,r){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=r}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case s.ApplicationVersion:return o.trimVersionSuffix(n.version);case s.Build:return n.env.appName;case s.ClientId:return n.env.machineId;case s.ExtensionName:return this.extensionName;case s.ExtensionVersion:return o.trimVersionSuffix(this.extensionVersion);case s.Language:return n.env.language;case s.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(s);for(let r of t)e.set(r,this.getFilterValue(r));return e}}var s,i;t.VSCodeFilterProvider=o,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(s=t.Filters||(t.Filters={})),(i=t.TargetPopulation||(t.TargetPopulation={})).Team="team",i.Internal="internal",i.Insiders="insider",i.Public="public"},5654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2560),o=r(4802),s=r(7549),i=r(5708),a=r(4619);function c(e,t,r,c,u,...l){if(!u)throw new Error("Memento storage was not provided.");const p=s.workspace.getConfiguration("telemetry");if(!(void 0===s.env.isTelemetryEnabled?p.get("enableTelemetry",!0):s.env.isTelemetryEnabled))return new a.default;const d=[new n.VSCodeFilterProvider(e,t,r),...l],h=new i.MementoKeyValueStorage(u);return new o.ExperimentationService({filterProviders:d,telemetry:c,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:h,featuresTelemetryPropertyName:"VSCode.ABExp.Features",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=c,t.getExperimentationServiceAsync=async function(e,t,r,n,o,...s){const i=c(e,t,r,n,o,...s);return await i.initializePromise,i}},8921:e=>{"use strict";e.exports=require("@opentelemetry/tracing")},6591:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},2357:e=>{"use strict";e.exports=require("assert")},7303:e=>{"use strict";e.exports=require("async_hooks")},3129:e=>{"use strict";e.exports=require("child_process")},7082:e=>{"use strict";e.exports=require("console")},7619:e=>{"use strict";e.exports=require("constants")},6417:e=>{"use strict";e.exports=require("crypto")},881:e=>{"use strict";e.exports=require("dns")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},2282:e=>{"use strict";e.exports=require("module")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},8213:e=>{"use strict";e.exports=require("timers")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},7549:e=>{"use strict";e.exports=require("vscode")},8761:e=>{"use strict";e.exports=require("zlib")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=r(7248),o=exports;for(var s in n)o[s]=n[s];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map