var VM=Object.create;var Ca=Object.defineProperty,GM=Object.defineProperties,WM=Object.getOwnPropertyDescriptor,zM=Object.getOwnPropertyDescriptors,KM=Object.getOwnPropertyNames,z_=Object.getOwnPropertySymbols,YM=Object.getPrototypeOf,K_=Object.prototype.hasOwnProperty,XM=Object.prototype.propertyIsEnumerable;var Y_=(t,e,r)=>e in t?Ca(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U=(t,e)=>{for(var r in e||(e={}))K_.call(e,r)&&Y_(t,r,e[r]);if(z_)for(var r of z_(e))XM.call(e,r)&&Y_(t,r,e[r]);return t},ne=(t,e)=>GM(t,zM(e)),X_=t=>Ca(t,"__esModule",{value:!0});var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),QM=(t,e)=>{X_(t);for(var r in e)Ca(t,r,{get:e[r],enumerable:!0})},JM=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of KM(e))!K_.call(t,n)&&n!=="default"&&Ca(t,n,{get:()=>e[n],enumerable:!(r=WM(e,n))||r.enumerable});return t},B=t=>JM(X_(Ca(t!=null?VM(YM(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var dC=S((bX,lC)=>{var Wo=1e3,zo=Wo*60,Ko=zo*60,Yi=Ko*24,uq=Yi*7,lq=Yi*365.25;lC.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return dq(t);if(r==="number"&&isFinite(t))return e.long?pq(t):fq(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function dq(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*lq;case"weeks":case"week":case"w":return r*uq;case"days":case"day":case"d":return r*Yi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ko;case"minutes":case"minute":case"mins":case"min":case"m":return r*zo;case"seconds":case"second":case"secs":case"sec":case"s":return r*Wo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fq(t){var e=Math.abs(t);return e>=Yi?Math.round(t/Yi)+"d":e>=Ko?Math.round(t/Ko)+"h":e>=zo?Math.round(t/zo)+"m":e>=Wo?Math.round(t/Wo)+"s":t+"ms"}function pq(t){var e=Math.abs(t);return e>=Yi?Su(t,e,Yi,"day"):e>=Ko?Su(t,e,Ko,"hour"):e>=zo?Su(t,e,zo,"minute"):e>=Wo?Su(t,e,Wo,"second"):t+" ms"}function Su(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var th=S((SX,fC)=>{function hq(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=dC(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(l){let d,f=null;function p(...h){if(!p.enabled)return;let m=p,g=Number(new Date),v=g-(d||g);m.diff=v,m.prev=d,m.curr=g,d=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let y=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(_,E)=>{if(_==="%%")return"%";y++;let w=r.formatters[E];if(typeof w=="function"){let b=h[y];_=w.call(m,b),h.splice(y,1),y--}return _}),r.formatArgs.call(m,h),(m.log||r.log).apply(m,h)}return p.namespace=l,p.useColors=r.useColors(),p.color=r.selectColor(l),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?r.enabled(l):f,set:h=>{f=h}}),typeof r.init=="function"&&r.init(p),p}function n(l,d){let f=r(this.namespace+(typeof d=="undefined"?":":d)+l);return f.log=this.log,f}function i(l){r.save(l),r.names=[],r.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)!f[d]||(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.substr(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(l))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}fC.exports=hq});var pC=S((sr,Pu)=>{sr.formatArgs=gq;sr.save=vq;sr.load=yq;sr.useColors=mq;sr.storage=_q();sr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();sr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mq(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function gq(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Pu.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}sr.log=console.debug||console.log||(()=>{});function vq(t){try{t?sr.storage.setItem("debug",t):sr.storage.removeItem("debug")}catch(e){}}function yq(){let t;try{t=sr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function _q(){try{return localStorage}catch(t){}}Pu.exports=th()(sr);var{formatters:Cq}=Pu.exports;Cq.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var mC=S((PX,hC)=>{"use strict";hC.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var yC=S((TX,vC)=>{"use strict";var wq=require("os"),gC=require("tty"),_r=mC(),{env:yt}=process,Tu;_r("no-color")||_r("no-colors")||_r("color=false")||_r("color=never")?Tu=0:(_r("color")||_r("colors")||_r("color=true")||_r("color=always"))&&(Tu=1);function Eq(){if("FORCE_COLOR"in yt)return yt.FORCE_COLOR==="true"?1:yt.FORCE_COLOR==="false"?0:yt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(yt.FORCE_COLOR,10),3)}function bq(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Sq(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=Eq();n!==void 0&&(Tu=n);let i=r?Tu:n;if(i===0)return 0;if(r){if(_r("color=16m")||_r("color=full")||_r("color=truecolor"))return 3;if(_r("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let o=i||0;if(yt.TERM==="dumb")return o;if(process.platform==="win32"){let s=wq.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in yt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in yt)||yt.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(yt.TEAMCITY_VERSION)?1:0;if(yt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in yt){let s=Number.parseInt((yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(yt.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(yt.TERM)||"COLORTERM"in yt?1:o}function rh(t,e={}){let r=Sq(t,U({streamIsTTY:t&&t.isTTY},e));return bq(r)}vC.exports={supportsColor:rh,stdout:rh({isTTY:gC.isatty(1)}),stderr:rh({isTTY:gC.isatty(2)})}});var CC=S((Pt,xu)=>{var Pq=require("tty"),Iu=require("util");Pt.init=Dq;Pt.log=Aq;Pt.formatArgs=Iq;Pt.save=Rq;Pt.load=kq;Pt.useColors=Tq;Pt.destroy=Iu.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pt.colors=[6,2,3,4,5,1];try{let t=yC();t&&(t.stderr||t).level>=2&&(Pt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}Pt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Tq(){return"colors"in Pt.inspectOpts?Boolean(Pt.inspectOpts.colors):Pq.isatty(process.stderr.fd)}function Iq(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} [0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+xu.exports.humanize(this.diff)+"[0m")}else t[0]=xq()+e+" "+t[0]}function xq(){return Pt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Aq(...t){return process.stderr.write(Iu.format(...t)+`
`)}function Rq(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function kq(){return process.env.DEBUG}function Dq(t){t.inspectOpts={};let e=Object.keys(Pt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Pt.inspectOpts[e[r]]}xu.exports=th()(Pt);var{formatters:_C}=xu.exports;_C.o=function(t){return this.inspectOpts.colors=this.useColors,Iu.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};_C.O=function(t){return this.inspectOpts.colors=this.useColors,Iu.inspect(t,this.inspectOpts)}});var ih=S((IX,nh)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?nh.exports=pC():nh.exports=CC()});var EC=S((xX,wC)=>{var Au;wC.exports=function(){if(!Au)try{Au=ih()("follow-redirects")}catch(t){Au=function(){}}Au.apply(null,arguments)}});var uh=S((AX,ch)=>{var Yo=require("url"),oh=Yo.URL,Oq=require("http"),Nq=require("https"),bC=require("stream").Writable,Lq=require("assert"),SC=EC(),Xi=["abort","aborted","connect","error","socket","timeout"],sh=Object.create(null);Xi.forEach(function(t){sh[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Fq=Ru("ERR_FR_REDIRECTION_FAILURE",""),Mq=Ru("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),qq=Ru("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),jq=Ru("ERR_STREAM_WRITE_AFTER_END","write after end");function ar(t,e){bC.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}ar.prototype=Object.create(bC.prototype);ar.prototype.abort=function(){IC(this._currentRequest),this.emit("abort")};ar.prototype.write=function(t,e,r){if(this._ending)throw new jq;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new qq),this.abort())};ar.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};ar.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};ar.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};ar.prototype.setTimeout=function(t,e){var r=this;e&&this.on("timeout",e);function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){clearTimeout(this._timeout),e&&r.removeListener("timeout",e),this.socket||r._currentRequest.removeListener("socket",i)}return this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.once("response",o),this.once("error",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){ar.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(ar.prototype,t,{get:function(){return this._currentRequest[t]}})});ar.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};ar.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=Yo.format(this._options),n._redirectable=this;for(var i=0;i<Xi.length;i++)n.on(Xi[i],sh[Xi[i]]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};ar.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(r&&this._options.followRedirects!==!1&&e>=300&&e<400){if(IC(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new Mq);return}((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],ah(/^content-/i,this._options.headers));var n=ah(/^host$/i,this._options.headers)||Yo.parse(this._currentUrl).hostname,i=Yo.resolve(this._currentUrl,r);SC("redirecting to",i),this._isRedirect=!0;var o=Yo.parse(i);if(Object.assign(this._options,o),o.hostname!==n&&ah(/^authorization$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var s={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,s)}catch(c){this.emit("error",c);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(c){var a=new Fq("Redirected request failed: "+c.message);a.cause=c,this.emit("error",a)}}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};function PC(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(u,l,d){if(typeof u=="string"){var f=u;try{u=TC(new oh(f))}catch(p){u=Yo.parse(f)}}else oh&&u instanceof oh?u=TC(u):(d=l,l=u,u={protocol:i});return typeof l=="function"&&(d=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,Lq.equal(l.protocol,i,"protocol mismatch"),SC("options",l),new ar(l,d)}function c(u,l,d){var f=s.request(u,l,d);return f.end(),f}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function $q(){}function TC(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function ah(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r}function Ru(t,e){function r(n){Error.captureStackTrace(this,this.constructor),this.message=n||e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function IC(t){for(var e=0;e<Xi.length;e++)t.removeListener(Xi[e],sh[Xi[e]]);t.on("error",$q),t.abort()}ch.exports=PC({http:Oq,https:Nq});ch.exports.wrap=PC});var Xo=S((RX,AC)=>{"use strict";var xC=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);AC.exports=t=>t?Object.keys(t).map(e=>[xC.has(e)?xC.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var kC=S((kX,RC)=>{"use strict";RC.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Sa=S((DX,DC)=>{"use strict";DC.exports=Ie;Ie.Node=Qi;Ie.create=Ie;function Ie(t){var e=this;if(e instanceof Ie||(e=new Ie),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Ie.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Ie.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ie.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ie.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Hq(this,arguments[t]);return this.length};Ie.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Bq(this,arguments[t]);return this.length};Ie.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ie.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ie.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Ie.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Ie.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ie.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ie.prototype.map=function(t,e){e=e||this;for(var r=new Ie,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Ie.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ie,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Ie.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Ie.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Ie.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ie.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ie.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ie;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Ie.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ie;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Ie.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Uq(this,i,r[n]);return o};Ie.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Uq(t,e,r){var n=e===t.head?new Qi(r,null,e,t):new Qi(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Hq(t,e){t.tail=new Qi(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Bq(t,e){t.head=new Qi(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Qi(t,e,r,n){if(!(this instanceof Qi))return new Qi(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{kC()(Ie)}catch(t){}});var Qo=S((OX,UC)=>{"use strict";var Vq=require("events"),OC=require("stream"),Pa=Sa(),NC=require("string_decoder").StringDecoder,In=Symbol("EOF"),Ta=Symbol("maybeEmitEnd"),ti=Symbol("emittedEnd"),ku=Symbol("emittingEnd"),Du=Symbol("closed"),LC=Symbol("read"),lh=Symbol("flush"),FC=Symbol("flushChunk"),Yt=Symbol("encoding"),xn=Symbol("decoder"),Ou=Symbol("flowing"),Ia=Symbol("paused"),xa=Symbol("resume"),Ht=Symbol("bufferLength"),MC=Symbol("bufferPush"),dh=Symbol("bufferShift"),At=Symbol("objectMode"),Rt=Symbol("destroyed"),qC=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Gq=qC&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Wq=qC&&Symbol.iterator||Symbol("iterator not implemented"),jC=t=>t==="end"||t==="finish"||t==="prefinish",zq=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Kq=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);UC.exports=class $C extends OC{constructor(e){super();this[Ou]=!1,this[Ia]=!1,this.pipes=new Pa,this.buffer=new Pa,this[At]=e&&e.objectMode||!1,this[At]?this[Yt]=null:this[Yt]=e&&e.encoding||null,this[Yt]==="buffer"&&(this[Yt]=null),this[xn]=this[Yt]?new NC(this[Yt]):null,this[In]=!1,this[ti]=!1,this[ku]=!1,this[Du]=!1,this.writable=!0,this.readable=!0,this[Ht]=0,this[Rt]=!1}get bufferLength(){return this[Ht]}get encoding(){return this[Yt]}set encoding(e){if(this[At])throw new Error("cannot set encoding in objectMode");if(this[Yt]&&e!==this[Yt]&&(this[xn]&&this[xn].lastNeed||this[Ht]))throw new Error("cannot change encoding");this[Yt]!==e&&(this[xn]=e?new NC(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[xn].write(r)))),this[Yt]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[At]}set objectMode(e){this[At]=this[At]||!!e}write(e,r,n){if(this[In])throw new Error("write after end");return this[Rt]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[At]&&!Buffer.isBuffer(e)&&(Kq(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):zq(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),!this.objectMode&&!e.length?(this[Ht]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof e=="string"&&!this[At]&&!(r===this[Yt]&&!this[xn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Yt]&&(e=this[xn].write(e)),this.flowing?(this[Ht]!==0&&this[lh](!0),this.emit("data",e)):this[MC](e),this[Ht]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(e){if(this[Rt])return null;try{return this[Ht]===0||e===0||e>this[Ht]?null:(this[At]&&(e=null),this.buffer.length>1&&!this[At]&&(this.encoding?this.buffer=new Pa([Array.from(this.buffer).join("")]):this.buffer=new Pa([Buffer.concat(Array.from(this.buffer),this[Ht])])),this[LC](e||null,this.buffer.head.value))}finally{this[Ta]()}}[LC](e,r){return e===r.length||e===null?this[dh]():(this.buffer.head.value=r.slice(e),r=r.slice(0,e),this[Ht]-=e),this.emit("data",r),!this.buffer.length&&!this[In]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[In]=!0,this.writable=!1,(this.flowing||!this[Ia])&&this[Ta](),this}[xa](){this[Rt]||(this[Ia]=!1,this[Ou]=!0,this.emit("resume"),this.buffer.length?this[lh]():this[In]?this[Ta]():this.emit("drain"))}resume(){return this[xa]()}pause(){this[Ou]=!1,this[Ia]=!0}get destroyed(){return this[Rt]}get flowing(){return this[Ou]}get paused(){return this[Ia]}[MC](e){return this[At]?this[Ht]+=1:this[Ht]+=e.length,this.buffer.push(e)}[dh](){return this.buffer.length&&(this[At]?this[Ht]-=1:this[Ht]-=this.buffer.head.value.length),this.buffer.shift()}[lh](e){do;while(this[FC](this[dh]()));!e&&!this.buffer.length&&!this[In]&&this.emit("drain")}[FC](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[Rt])return;let n=this[ti];r=r||{},e===process.stdout||e===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:e,opts:r,ondrain:o=>this[xa]()};return this.pipes.push(i),e.on("drain",i.ondrain),this[xa](),n&&i.opts.end&&i.dest.end(),e}addListener(e,r){return this.on(e,r)}on(e,r){try{return super.on(e,r)}finally{e==="data"&&!this.pipes.length&&!this.flowing?this[xa]():jC(e)&&this[ti]&&(super.emit(e),this.removeAllListeners(e))}}get emittedEnd(){return this[ti]}[Ta](){!this[ku]&&!this[ti]&&!this[Rt]&&this.buffer.length===0&&this[In]&&(this[ku]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Du]&&this.emit("close"),this[ku]=!1)}emit(e,r){if(e!=="error"&&e!=="close"&&e!==Rt&&this[Rt])return;if(e==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(e==="end"){if(this[ti]===!0)return;this[ti]=!0,this.readable=!1,this[xn]&&(r=this[xn].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(e==="close"&&(this[Du]=!0,!this[ti]&&!this[Rt]))return;let n=new Array(arguments.length);if(n[0]=e,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{jC(e)?this.removeAllListeners(e):this[Ta]()}}collect(){let e=[];this[At]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[At]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[At]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[At]?Promise.reject(new Error("cannot concat in objectMode")):this[Yt]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Rt,()=>r(new Error("stream destroyed"))),this.on("end",()=>e()),this.on("error",n=>r(n))})}[Gq](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[In])return Promise.resolve({done:!0});let n=null,i=null,o=u=>{this.removeListener("data",s),this.removeListener("end",a),i(u)},s=u=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:u,done:!!this[In]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((u,l)=>{i=l,n=u,this.once(Rt,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[Wq](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[Rt]?(e?this.emit("error",e):this.emit(Rt),this):(this[Rt]=!0,this.buffer=new Pa,this[Ht]=0,typeof this.close=="function"&&!this[Du]&&this.close(),e?this.emit("error",e):this.emit(Rt),this)}static isStream(e){return!!e&&(e instanceof $C||e instanceof OC||e instanceof Vq&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var BC=S((NX,HC)=>{var Yq=require("zlib").constants||{ZLIB_VERNUM:4736};HC.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Yq))});var Ch=S(cr=>{"use strict";var fh=require("assert"),ri=require("buffer").Buffer,VC=require("zlib"),Ji=cr.constants=BC(),Xq=Qo(),GC=ri.concat,Zi=Symbol("_superWrite"),Aa=class extends Error{constructor(e){super("zlib: "+e.message);this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Qq=Symbol("opts"),Ra=Symbol("flushFlag"),WC=Symbol("finishFlushFlag"),ph=Symbol("fullFlushFlag"),qe=Symbol("handle"),Nu=Symbol("onError"),Jo=Symbol("sawError"),hh=Symbol("level"),mh=Symbol("strategy"),gh=Symbol("ended"),LX=Symbol("_defaultFullFlush"),vh=class extends Xq{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e);this[Jo]=!1,this[gh]=!1,this[Qq]=e,this[Ra]=e.flush,this[WC]=e.finishFlush;try{this[qe]=new VC[r](e)}catch(n){throw new Aa(n)}this[Nu]=n=>{this[Jo]||(this[Jo]=!0,this.close(),this.emit("error",n))},this[qe].on("error",n=>this[Nu](new Aa(n))),this.once("end",()=>this.close)}close(){this[qe]&&(this[qe].close(),this[qe]=null,this.emit("close"))}reset(){if(!this[Jo])return fh(this[qe],"zlib binding closed"),this[qe].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[ph]),this.write(Object.assign(ri.alloc(0),{[Ra]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[WC]),this[gh]=!0,super.end(null,null,n)}get ended(){return this[gh]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=ri.from(e,r)),this[Jo])return;fh(this[qe],"zlib binding closed");let i=this[qe]._handle,o=i.close;i.close=()=>{};let s=this[qe].close;this[qe].close=()=>{},ri.concat=u=>u;let a;try{let u=typeof e[Ra]=="number"?e[Ra]:this[Ra];a=this[qe]._processChunk(e,u),ri.concat=GC}catch(u){ri.concat=GC,this[Nu](new Aa(u))}finally{this[qe]&&(this[qe]._handle=i,i.close=o,this[qe].close=s,this[qe].removeAllListeners("error"))}this[qe]&&this[qe].on("error",u=>this[Nu](new Aa(u)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[Zi](ri.from(a[0]));for(let u=1;u<a.length;u++)c=this[Zi](a[u])}else c=this[Zi](ri.from(a));return n&&n(),c}[Zi](e){return super.write(e)}},ni=class extends vh{constructor(e,r){e=e||{},e.flush=e.flush||Ji.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Ji.Z_FINISH,super(e,r),this[ph]=Ji.Z_FULL_FLUSH,this[hh]=e.level,this[mh]=e.strategy}params(e,r){if(!this[Jo]){if(!this[qe])throw new Error("cannot switch params when binding is closed");if(!this[qe].params)throw new Error("not supported in this implementation");if(this[hh]!==e||this[mh]!==r){this.flush(Ji.Z_SYNC_FLUSH),fh(this[qe],"zlib binding closed");let n=this[qe].flush;this[qe].flush=(i,o)=>{this.flush(i),o()};try{this[qe].params(e,r)}finally{this[qe].flush=n}this[qe]&&(this[hh]=e,this[mh]=r)}}}},zC=class extends ni{constructor(e){super(e,"Deflate")}},KC=class extends ni{constructor(e){super(e,"Inflate")}},yh=Symbol("_portable"),YC=class extends ni{constructor(e){super(e,"Gzip");this[yh]=e&&!!e.portable}[Zi](e){return this[yh]?(this[yh]=!1,e[9]=255,super[Zi](e)):super[Zi](e)}},XC=class extends ni{constructor(e){super(e,"Gunzip")}},QC=class extends ni{constructor(e){super(e,"DeflateRaw")}},JC=class extends ni{constructor(e){super(e,"InflateRaw")}},ZC=class extends ni{constructor(e){super(e,"Unzip")}},_h=class extends vh{constructor(e,r){e=e||{},e.flush=e.flush||Ji.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Ji.BROTLI_OPERATION_FINISH,super(e,r),this[ph]=Ji.BROTLI_OPERATION_FLUSH}},ew=class extends _h{constructor(e){super(e,"BrotliCompress")}},tw=class extends _h{constructor(e){super(e,"BrotliDecompress")}};cr.Deflate=zC;cr.Inflate=KC;cr.Gzip=YC;cr.Gunzip=XC;cr.DeflateRaw=QC;cr.InflateRaw=JC;cr.Unzip=ZC;typeof VC.BrotliCompress=="function"?(cr.BrotliCompress=ew,cr.BrotliDecompress=tw):cr.BrotliCompress=cr.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var eo=S((MX,rw)=>{var Jq=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;rw.exports=Jq!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var Lu=S((jX,nw)=>{"use strict";var Zq=Qo(),wh=eo(),Eh=Symbol("slurp");nw.exports=class extends Zq{constructor(e,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=wh(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=wh(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[Eh](r),n&&this[Eh](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[Eh](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?wh(e[n]):e[n])}}});var bh=S(Fu=>{"use strict";Fu.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Fu.code=new Map(Array.from(Fu.name).map(t=>[t[1],t[0]]))});var aw=S((UX,sw)=>{"use strict";var ej=(t,e)=>{if(Number.isSafeInteger(t))t<0?rj(t,e):tj(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},tj=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},rj=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=iw(i):i===0?e[n-1]=0:(r=!0,e[n-1]=ow(i))}},nj=t=>{let e=t[0],r=e===128?oj(t.slice(1,t.length)):e===255?ij(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},ij=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var o=t[i],s;n?s=iw(o):o===0?s=o:(n=!0,s=ow(o)),s!==0&&(r-=s*Math.pow(256,e-i-1))}return r},oj=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},iw=t=>(255^t)&255,ow=t=>(255^t)+1&255;sw.exports={encode:ej,parse:nj}});var es=S((HX,lw)=>{"use strict";var Sh=bh(),Zo=require("path").posix,cw=aw(),Ph=Symbol("slurp"),ur=Symbol("type"),uw=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[ur]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=to(e,r,100),this.mode=ii(e,r+100,8),this.uid=ii(e,r+108,8),this.gid=ii(e,r+116,8),this.size=ii(e,r+124,12),this.mtime=Th(e,r+136,12),this.cksum=ii(e,r+148,12),this[Ph](n),this[Ph](i,!0),this[ur]=to(e,r+156,1),this[ur]===""&&(this[ur]="0"),this[ur]==="0"&&this.path.substr(-1)==="/"&&(this[ur]="5"),this[ur]==="5"&&(this.size=0),this.linkpath=to(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=to(e,r+265,32),this.gname=to(e,r+297,32),this.devmaj=ii(e,r+329,8),this.devmin=ii(e,r+337,8),e[r+475]!==0){let s=to(e,r+345,155);this.path=s+"/"+this.path}else{let s=to(e,r+345,130);s&&(this.path=s+"/"+this.path),this.atime=Th(e,r+476,12),this.ctime=Th(e,r+488,12)}let o=8*32;for(let s=r;s<r+148;s++)o+=e[s];for(let s=r+156;s<r+512;s++)o+=e[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[Ph](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=sj(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=ro(e,r,100,o)||this.needPax,this.needPax=oi(e,r+100,8,this.mode)||this.needPax,this.needPax=oi(e,r+108,8,this.uid)||this.needPax,this.needPax=oi(e,r+116,8,this.gid)||this.needPax,this.needPax=oi(e,r+124,12,this.size)||this.needPax,this.needPax=Ih(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[ur].charCodeAt(0),this.needPax=ro(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=ro(e,r+265,32,this.uname)||this.needPax,this.needPax=ro(e,r+297,32,this.gname)||this.needPax,this.needPax=oi(e,r+329,8,this.devmaj)||this.needPax,this.needPax=oi(e,r+337,8,this.devmin)||this.needPax,this.needPax=ro(e,r+345,n,s)||this.needPax,e[r+475]!==0?this.needPax=ro(e,r+345,155,s)||this.needPax:(this.needPax=ro(e,r+345,130,s)||this.needPax,this.needPax=Ih(e,r+476,12,this.atime)||this.needPax,this.needPax=Ih(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,oi(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Sh.name.get(this[ur])||this[ur]}get typeKey(){return this[ur]}set type(e){Sh.code.has(e)?this[ur]=Sh.code.get(e):this[ur]=e}},sj=(t,e)=>{let r=100,n=t,i="",o,s=Zo.parse(t).root||".";if(Buffer.byteLength(n)<r)o=[n,i,!1];else{i=Zo.dirname(n),n=Zo.basename(n);do Buffer.byteLength(n)<=r&&Buffer.byteLength(i)<=e?o=[n,i,!1]:Buffer.byteLength(n)>r&&Buffer.byteLength(i)<=e?o=[n.substr(0,r-1),i,!0]:(n=Zo.join(Zo.basename(i),n),i=Zo.dirname(i));while(i!==s&&!o);o||(o=[t.substr(0,r-1),"",!0])}return o},to=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),Th=(t,e,r)=>aj(ii(t,e,r)),aj=t=>t===null?null:new Date(t*1e3),ii=(t,e,r)=>t[e]&128?cw.parse(t.slice(e,e+r)):uj(t,e,r),cj=t=>isNaN(t)?null:t,uj=(t,e,r)=>cj(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),lj={12:8589934591,8:2097151},oi=(t,e,r,n)=>n===null?!1:n>lj[r]||n<0?(cw.encode(n,t.slice(e,e+r)),!0):(dj(t,e,r,n),!1),dj=(t,e,r,n)=>t.write(fj(n,r),e,r,"ascii"),fj=(t,e)=>pj(Math.floor(t).toString(8),e),pj=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Ih=(t,e,r,n)=>n===null?!1:oi(t,e,r,n.getTime()/1e3),hj=new Array(156).join("\0"),ro=(t,e,r,n)=>n===null?!1:(t.write(n+hj,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);lw.exports=uw});var qu=S((BX,dw)=>{"use strict";var mj=es(),gj=require("path"),Mu=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new mj({path:("PaxHeader/"+gj.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let o=r+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};Mu.parse=(t,e,r)=>new Mu(vj(yj(t),e),r);var vj=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,yj=t=>t.replace(/\n$/,"").split(`
`).reduce(_j,Object.create(null)),_j=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.substr((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let o=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};dw.exports=Mu});var ju=S((VX,fw)=>{var Cj=["/".repeat(1024),"/".repeat(512),"/".repeat(256),"/".repeat(128),"/".repeat(64),"/".repeat(32),"/".repeat(16),"/".repeat(8),"/".repeat(4),"/".repeat(2),"/"];fw.exports=t=>{for(let e of Cj)for(;t.length>=e.length&&t.slice(-1*e.length)===e;)t=t.slice(0,-1*e.length);return t}});var $u=S((GX,pw)=>{"use strict";pw.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var Ah=S((WX,hw)=>{"use strict";var Uu=["|","<",">","?",":"],xh=Uu.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),wj=new Map(Uu.map((t,e)=>[t,xh[e]])),Ej=new Map(xh.map((t,e)=>[t,Uu[e]]));hw.exports={encode:t=>Uu.reduce((e,r)=>e.split(r).join(wj.get(r)),t),decode:t=>xh.reduce((e,r)=>e.split(r).join(Ej.get(r)),t)}});var Rh=S((zX,mw)=>{var{isAbsolute:bj,parse:Sj}=require("path").win32;mw.exports=t=>{let e="";for(;bj(t);){let r=t.charAt(0)==="/"?"/":Sj(t).root;t=t.substr(r.length),e+=r}return[e,t]}});var vw=S((KX,gw)=>{"use strict";gw.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&~18),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var jh=S((QX,Dw)=>{"use strict";var yw=Qo(),_w=qu(),Cw=es(),un=require("fs"),ww=require("path"),ln=eo(),Pj=ju(),Ew=(t,e)=>e?(t=ln(t).replace(/^\.(\/|$)/,""),Pj(e)+"/"+t):ln(t),Tj=16*1024*1024,bw=Symbol("process"),Sw=Symbol("file"),Pw=Symbol("directory"),kh=Symbol("symlink"),Tw=Symbol("hardlink"),ka=Symbol("header"),Hu=Symbol("read"),Dh=Symbol("lstat"),Bu=Symbol("onlstat"),Oh=Symbol("onread"),Nh=Symbol("onreadlink"),Lh=Symbol("openfile"),Fh=Symbol("onopenfile"),si=Symbol("close"),Vu=Symbol("mode"),Mh=Symbol("awaitDrain"),qh=Symbol("ondrain"),dn=Symbol("prefix"),Iw=Symbol("hadError"),xw=$u(),Ij=Ah(),Aw=Rh(),Rw=vw(),Gu=xw(class extends yw{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=ln(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||Tj,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=ln(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?ln(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=Aw(this.path);i&&(this.path=o,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=Ij.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=ln(r.absolute||ww.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Bu](this.statCache.get(this.absolute)):this[Dh]()}emit(e,...r){return e==="error"&&(this[Iw]=!0),super.emit(e,...r)}[Dh](){un.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Bu](r)})}[Bu](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=Aj(e),this.emit("stat",e),this[bw]()}[bw](){switch(this.type){case"File":return this[Sw]();case"Directory":return this[Pw]();case"SymbolicLink":return this[kh]();default:return this.end()}}[Vu](e){return Rw(e,this.type==="Directory",this.portable)}[dn](e){return Ew(e,this.prefix)}[ka](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new Cw({path:this[dn](this.path),linkpath:this.type==="Link"?this[dn](this.linkpath):this.linkpath,mode:this[Vu](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new _w({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[dn](this.path),linkpath:this.type==="Link"?this[dn](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[Pw](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[ka](),this.end()}[kh](){un.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Nh](r)})}[Nh](e){this.linkpath=ln(e),this[ka](),this.end()}[Tw](e){this.type="Link",this.linkpath=ln(ww.relative(this.cwd,e)),this.stat.size=0,this[ka](),this.end()}[Sw](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[Tw](r)}this.linkCache.set(e,this.absolute)}if(this[ka](),this.stat.size===0)return this.end();this[Lh]()}[Lh](){un.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[Fh](r)})}[Fh](e){if(this.fd=e,this[Iw])return this[si]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Hu]()}[Hu](){let{fd:e,buf:r,offset:n,length:i,pos:o}=this;un.read(e,r,n,i,o,(s,a)=>{if(s)return this[si](()=>this.emit("error",s));this[Oh](a)})}[si](e){un.close(this.fd,e)}[Oh](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[si](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[si](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[qh]():this[Mh](()=>this[qh]())}[Mh](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[qh](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[si](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Hu]()}}),kw=class extends Gu{[Dh](){this[Bu](un.lstatSync(this.absolute))}[kh](){this[Nh](un.readlinkSync(this.absolute))}[Lh](){this[Fh](un.openSync(this.absolute,"r"))}[Hu](){let e=!0;try{let{fd:r,buf:n,offset:i,length:o,pos:s}=this,a=un.readSync(r,n,i,o,s);this[Oh](a),e=!1}finally{if(e)try{this[si](()=>{})}catch(r){}}}[Mh](e){e()}[si](e){un.closeSync(this.fd),e()}},xj=xw(class extends yw{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=ln(e.path),this.mode=this[Vu](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=ln(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=Aw(this.path);i&&(this.path=o,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new Cw({path:this[dn](this.path),linkpath:this.type==="Link"?this[dn](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new _w({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[dn](this.path),linkpath:this.type==="Link"?this[dn](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[dn](e){return Ew(e,this.prefix)}[Vu](e){return Rw(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Gu.Sync=kw;Gu.Tar=xj;var Aj=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";Dw.exports=Gu});var Zu=S((ZX,$w)=>{"use strict";var $h=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},Rj=Qo(),kj=Ch(),Dj=Lu(),Uh=jh(),Oj=Uh.Sync,Nj=Uh.Tar,Lj=Sa(),Ow=Buffer.alloc(1024),Wu=Symbol("onStat"),zu=Symbol("ended"),fn=Symbol("queue"),ts=Symbol("current"),no=Symbol("process"),Ku=Symbol("processing"),Nw=Symbol("processJob"),pn=Symbol("jobs"),Hh=Symbol("jobDone"),Yu=Symbol("addFSEntry"),Lw=Symbol("addTarEntry"),Bh=Symbol("stat"),Vh=Symbol("readdir"),Xu=Symbol("onreaddir"),Qu=Symbol("pipe"),Fw=Symbol("entry"),Gh=Symbol("entryOpt"),Wh=Symbol("writeEntryClass"),Mw=Symbol("write"),zh=Symbol("ondrain"),Ju=require("fs"),qw=require("path"),Fj=$u(),Kh=eo(),Yh=Fj(class extends Rj{constructor(e){super(e);e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Kh(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Wh]=Uh,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new kj.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[zh]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[zh]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[fn]=new Lj,this[pn]=0,this.jobs=+e.jobs||4,this[Ku]=!1,this[zu]=!1}[Mw](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[zu]=!0,this[no](),this}write(e){if(this[zu])throw new Error("write after end");return e instanceof Dj?this[Lw](e):this[Yu](e),this.flowing}[Lw](e){let r=Kh(qw.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new $h(e.path,r,!1);n.entry=new Nj(e,this[Gh](n)),n.entry.on("end",i=>this[Hh](n)),this[pn]+=1,this[fn].push(n)}this[no]()}[Yu](e){let r=Kh(qw.resolve(this.cwd,e));this[fn].push(new $h(e,r)),this[no]()}[Bh](e){e.pending=!0,this[pn]+=1;let r=this.follow?"stat":"lstat";Ju[r](e.absolute,(n,i)=>{e.pending=!1,this[pn]-=1,n?this.emit("error",n):this[Wu](e,i)})}[Wu](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[no]()}[Vh](e){e.pending=!0,this[pn]+=1,Ju.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[pn]-=1,r)return this.emit("error",r);this[Xu](e,n)})}[Xu](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[no]()}[no](){if(!this[Ku]){this[Ku]=!0;for(let e=this[fn].head;e!==null&&this[pn]<this.jobs;e=e.next)if(this[Nw](e.value),e.value.ignore){let r=e.next;this[fn].removeNode(e),e.next=r}this[Ku]=!1,this[zu]&&!this[fn].length&&this[pn]===0&&(this.zip?this.zip.end(Ow):(super.write(Ow),super.end()))}}get[ts](){return this[fn]&&this[fn].head&&this[fn].head.value}[Hh](e){this[fn].shift(),this[pn]-=1,this[no]()}[Nw](e){if(!e.pending){if(e.entry){e===this[ts]&&!e.piped&&this[Qu](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Wu](e,this.statCache.get(e.absolute)):this[Bh](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Xu](e,this.readdirCache.get(e.absolute)):this[Vh](e),!e.readdir))){if(e.entry=this[Fw](e),!e.entry){e.ignore=!0;return}e===this[ts]&&!e.piped&&this[Qu](e)}}}[Gh](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Fw](e){this[pn]+=1;try{return new this[Wh](e.path,this[Gh](e)).on("end",()=>this[Hh](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[zh](){this[ts]&&this[ts].entry&&this[ts].entry.resume()}[Qu](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Yu](s+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),jw=class extends Yh{constructor(e){super(e);this[Wh]=Oj}pause(){}resume(){}[Bh](e){let r=this.follow?"statSync":"lstatSync";this[Wu](e,Ju[r](e.absolute))}[Vh](e,r){this[Xu](e,Ju.readdirSync(e.absolute))}[Qu](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Yu](s+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[Mw](i)})}};Yh.Sync=jw;$w.exports=Yh});var us=S(Oa=>{"use strict";var Mj=Qo(),qj=require("events").EventEmitter,Xt=require("fs"),Xh=Xt.writev;if(!Xh){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;Xh=(r,n,i,o)=>{let s=(c,u)=>o(c,u,n),a=new e;a.oncomplete=s,t.writeBuffers(r,n,i,a)}}var rs=Symbol("_autoClose"),Vr=Symbol("_close"),Da=Symbol("_ended"),Le=Symbol("_fd"),Uw=Symbol("_finished"),ai=Symbol("_flags"),Qh=Symbol("_flush"),Jh=Symbol("_handleChunk"),Zh=Symbol("_makeBuf"),el=Symbol("_mode"),tl=Symbol("_needDrain"),ns=Symbol("_onerror"),is=Symbol("_onopen"),em=Symbol("_onread"),os=Symbol("_onwrite"),ci=Symbol("_open"),An=Symbol("_path"),io=Symbol("_pos"),hn=Symbol("_queue"),ss=Symbol("_read"),Hw=Symbol("_readSize"),ui=Symbol("_reading"),rl=Symbol("_remain"),Bw=Symbol("_size"),nl=Symbol("_write"),as=Symbol("_writing"),il=Symbol("_defaultFlag"),cs=Symbol("_errored"),tm=class extends Mj{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[cs]=!1,this[Le]=typeof r.fd=="number"?r.fd:null,this[An]=e,this[Hw]=r.readSize||16*1024*1024,this[ui]=!1,this[Bw]=typeof r.size=="number"?r.size:Infinity,this[rl]=this[Bw],this[rs]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Le]=="number"?this[ss]():this[ci]()}get fd(){return this[Le]}get path(){return this[An]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[ci](){Xt.open(this[An],"r",(e,r)=>this[is](e,r))}[is](e,r){e?this[ns](e):(this[Le]=r,this.emit("open",r),this[ss]())}[Zh](){return Buffer.allocUnsafe(Math.min(this[Hw],this[rl]))}[ss](){if(!this[ui]){this[ui]=!0;let e=this[Zh]();if(e.length===0)return process.nextTick(()=>this[em](null,0,e));Xt.read(this[Le],e,0,e.length,null,(r,n,i)=>this[em](r,n,i))}}[em](e,r,n){this[ui]=!1,e?this[ns](e):this[Jh](r,n)&&this[ss]()}[Vr](){if(this[rs]&&typeof this[Le]=="number"){let e=this[Le];this[Le]=null,Xt.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[ns](e){this[ui]=!0,this[Vr](),this.emit("error",e)}[Jh](e,r){let n=!1;return this[rl]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[rl]<=0)&&(n=!1,this[Vr](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Le]=="number"&&this[ss]();break;case"error":return this[cs]?void 0:(this[cs]=!0,super.emit(e,r));default:return super.emit(e,r)}}},Vw=class extends tm{[ci](){let e=!0;try{this[is](null,Xt.openSync(this[An],"r")),e=!1}finally{e&&this[Vr]()}}[ss](){let e=!0;try{if(!this[ui]){this[ui]=!0;do{let r=this[Zh](),n=r.length===0?0:Xt.readSync(this[Le],r,0,r.length,null);if(!this[Jh](n,r))break}while(!0);this[ui]=!1}e=!1}finally{e&&this[Vr]()}}[Vr](){if(this[rs]&&typeof this[Le]=="number"){let e=this[Le];this[Le]=null,Xt.closeSync(e),this.emit("close")}}},rm=class extends qj{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[cs]=!1,this[as]=!1,this[Da]=!1,this[tl]=!1,this[hn]=[],this[An]=e,this[Le]=typeof r.fd=="number"?r.fd:null,this[el]=r.mode===void 0?438:r.mode,this[io]=typeof r.start=="number"?r.start:null,this[rs]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[io]!==null?"r+":"w";this[il]=r.flags===void 0,this[ai]=this[il]?n:r.flags,this[Le]===null&&this[ci]()}emit(e,r){if(e==="error"){if(this[cs])return;this[cs]=!0}return super.emit(e,r)}get fd(){return this[Le]}get path(){return this[An]}[ns](e){this[Vr](),this[as]=!0,this.emit("error",e)}[ci](){Xt.open(this[An],this[ai],this[el],(e,r)=>this[is](e,r))}[is](e,r){this[il]&&this[ai]==="r+"&&e&&e.code==="ENOENT"?(this[ai]="w",this[ci]()):e?this[ns](e):(this[Le]=r,this.emit("open",r),this[Qh]())}end(e,r){return e&&this.write(e,r),this[Da]=!0,!this[as]&&!this[hn].length&&typeof this[Le]=="number"&&this[os](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[Da]?(this.emit("error",new Error("write() after end()")),!1):this[Le]===null||this[as]||this[hn].length?(this[hn].push(e),this[tl]=!0,!1):(this[as]=!0,this[nl](e),!0)}[nl](e){Xt.write(this[Le],e,0,e.length,this[io],(r,n)=>this[os](r,n))}[os](e,r){e?this[ns](e):(this[io]!==null&&(this[io]+=r),this[hn].length?this[Qh]():(this[as]=!1,this[Da]&&!this[Uw]?(this[Uw]=!0,this[Vr](),this.emit("finish")):this[tl]&&(this[tl]=!1,this.emit("drain"))))}[Qh](){if(this[hn].length===0)this[Da]&&this[os](null,0);else if(this[hn].length===1)this[nl](this[hn].pop());else{let e=this[hn];this[hn]=[],Xh(this[Le],e,this[io],(r,n)=>this[os](r,n))}}[Vr](){if(this[rs]&&typeof this[Le]=="number"){let e=this[Le];this[Le]=null,Xt.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},Gw=class extends rm{[ci](){let e;if(this[il]&&this[ai]==="r+")try{e=Xt.openSync(this[An],this[ai],this[el])}catch(r){if(r.code==="ENOENT")return this[ai]="w",this[ci]();throw r}else e=Xt.openSync(this[An],this[ai],this[el]);this[is](null,e)}[Vr](){if(this[rs]&&typeof this[Le]=="number"){let e=this[Le];this[Le]=null,Xt.closeSync(e),this.emit("close")}}[nl](e){let r=!0;try{this[os](null,Xt.writeSync(this[Le],e,0,e.length,this[io])),r=!1}finally{if(r)try{this[Vr]()}catch(n){}}}};Oa.ReadStream=tm;Oa.ReadStreamSync=Vw;Oa.WriteStream=rm;Oa.WriteStreamSync=Gw});var dl=S((rQ,Jw)=>{"use strict";var jj=$u(),$j=es(),Uj=require("events"),Hj=Sa(),Bj=1024*1024,Vj=Lu(),Ww=qu(),Gj=Ch(),nm=Buffer.from([31,139]),Cr=Symbol("state"),oo=Symbol("writeEntry"),Rn=Symbol("readEntry"),im=Symbol("nextEntry"),zw=Symbol("processEntry"),wr=Symbol("extendedHeader"),Na=Symbol("globalExtendedHeader"),li=Symbol("meta"),Kw=Symbol("emitMeta"),Be=Symbol("buffer"),kn=Symbol("queue"),so=Symbol("ended"),Yw=Symbol("emittedEnd"),ao=Symbol("emit"),Qt=Symbol("unzip"),ol=Symbol("consumeChunk"),sl=Symbol("consumeChunkSub"),om=Symbol("consumeBody"),Xw=Symbol("consumeMeta"),Qw=Symbol("consumeHeader"),al=Symbol("consuming"),sm=Symbol("bufferConcat"),am=Symbol("maybeEnd"),La=Symbol("writing"),di=Symbol("aborted"),cl=Symbol("onDone"),co=Symbol("sawValidEntry"),ul=Symbol("sawNullBlock"),ll=Symbol("sawEOF"),Wj=t=>!0;Jw.exports=jj(class extends Uj{constructor(e){e=e||{},super(e),this.file=e.file||"",this[co]=null,this.on(cl,r=>{(this[Cr]==="begin"||this[co]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(cl,e.ondone):this.on(cl,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||Bj,this.filter=typeof e.filter=="function"?e.filter:Wj,this.writable=!0,this.readable=!1,this[kn]=new Hj,this[Be]=null,this[Rn]=null,this[oo]=null,this[Cr]="begin",this[li]="",this[wr]=null,this[Na]=null,this[so]=!1,this[Qt]=null,this[di]=!1,this[ul]=!1,this[ll]=!1,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Qw](e,r){this[co]===null&&(this[co]=!1);let n;try{n=new $j(e,r,this[wr],this[Na])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[ul]?(this[ll]=!0,this[Cr]==="begin"&&(this[Cr]="header"),this[ao]("eof")):(this[ul]=!0,this[ao]("nullBlock"));else if(this[ul]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[oo]=new Vj(n,this[wr],this[Na]);if(!this[co])if(o.remain){let s=()=>{o.invalid||(this[co]=!0)};o.on("end",s)}else this[co]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[ao]("ignoredEntry",o),this[Cr]="ignore",o.resume()):o.size>0&&(this[li]="",o.on("data",s=>this[li]+=s),this[Cr]="meta"):(this[wr]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[ao]("ignoredEntry",o),this[Cr]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Cr]="body":(this[Cr]="header",o.end()),this[Rn]?this[kn].push(o):(this[kn].push(o),this[im]())))}}}[zw](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Rn]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[im]()),r=!1)):(this[Rn]=null,r=!1),r}[im](){do;while(this[zw](this[kn].shift()));if(!this[kn].length){let e=this[Rn];!e||e.flowing||e.size===e.remain?this[La]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[om](e,r){let n=this[oo],i=n.blockRemain,o=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(o),n.blockRemain||(this[Cr]="header",this[oo]=null,n.end()),o.length}[Xw](e,r){let n=this[oo],i=this[om](e,r);return this[oo]||this[Kw](n),i}[ao](e,r,n){!this[kn].length&&!this[Rn]?this.emit(e,r,n):this[kn].push([e,r,n])}[Kw](e){switch(this[ao]("meta",this[li]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[wr]=Ww.parse(this[li],this[wr],!1);break;case"GlobalExtendedHeader":this[Na]=Ww.parse(this[li],this[Na],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[wr]=this[wr]||Object.create(null),this[wr].path=this[li].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[wr]=this[wr]||Object.create(null),this[wr].linkpath=this[li].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[di]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[di])return;if(this[Qt]===null&&e){if(this[Be]&&(e=Buffer.concat([this[Be],e]),this[Be]=null),e.length<nm.length)return this[Be]=e,!0;for(let n=0;this[Qt]===null&&n<nm.length;n++)e[n]!==nm[n]&&(this[Qt]=!1);if(this[Qt]===null){let n=this[so];this[so]=!1,this[Qt]=new Gj.Unzip,this[Qt].on("data",o=>this[ol](o)),this[Qt].on("error",o=>this.abort(o)),this[Qt].on("end",o=>{this[so]=!0,this[ol]()}),this[La]=!0;let i=this[Qt][n?"end":"write"](e);return this[La]=!1,i}}this[La]=!0,this[Qt]?this[Qt].write(e):this[ol](e),this[La]=!1;let r=this[kn].length?!1:this[Rn]?this[Rn].flowing:!0;return!r&&!this[kn].length&&this[Rn].once("drain",n=>this.emit("drain")),r}[sm](e){e&&!this[di]&&(this[Be]=this[Be]?Buffer.concat([this[Be],e]):e)}[am](){if(this[so]&&!this[Yw]&&!this[di]&&!this[al]){this[Yw]=!0;let e=this[oo];if(e&&e.blockRemain){let r=this[Be]?this[Be].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[Be]&&e.write(this[Be]),e.end()}this[ao](cl)}}[ol](e){if(this[al])this[sm](e);else if(!e&&!this[Be])this[am]();else{if(this[al]=!0,this[Be]){this[sm](e);let r=this[Be];this[Be]=null,this[sl](r)}else this[sl](e);for(;this[Be]&&this[Be].length>=512&&!this[di]&&!this[ll];){let r=this[Be];this[Be]=null,this[sl](r)}this[al]=!1}(!this[Be]||this[so])&&this[am]()}[sl](e){let r=0,n=e.length;for(;r+512<=n&&!this[di]&&!this[ll];)switch(this[Cr]){case"begin":case"header":this[Qw](e,r),r+=512;break;case"ignore":case"body":r+=this[om](e,r);break;case"meta":r+=this[Xw](e,r);break;default:throw new Error("invalid state: "+this[Cr])}r<n&&(this[Be]?this[Be]=Buffer.concat([e.slice(r),this[Be]]):this[Be]=e.slice(r))}end(e){this[di]||(this[Qt]?this[Qt].end(e):(this[so]=!0,this.write(e)))}})});var fl=S((nQ,rE)=>{"use strict";var zj=Xo(),Zw=dl(),ls=require("fs"),Kj=us(),eE=require("path"),cm=ju();rE.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=zj(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&Xj(n,e),n.noResume||Yj(n),n.file&&n.sync?Qj(n):n.file?Jj(n,r):tE(n)};var Yj=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},Xj=(t,e)=>{let r=new Map(e.map(o=>[cm(o),!0])),n=t.filter,i=(o,s)=>{let a=s||eE.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(eE.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,s)=>n(o,s)&&i(cm(o)):o=>i(cm(o))},Qj=t=>{let e=tE(t),r=t.file,n=!0,i;try{let o=ls.statSync(r),s=t.maxReadSize||16*1024*1024;if(o.size<s)e.end(ls.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(s);for(i=ls.openSync(r,"r");a<o.size;){let u=ls.readSync(i,c,0,s,a);a+=u,e.write(c.slice(0,u))}e.end()}n=!1}finally{if(n&&i)try{ls.closeSync(i)}catch(o){}}},Jj=(t,e)=>{let r=new Zw(t),n=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{r.on("error",a),r.on("end",s),ls.stat(i,(c,u)=>{if(c)a(c);else{let l=new Kj.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},tE=t=>new Zw(t)});var cE=S((iQ,aE)=>{"use strict";var Zj=Xo(),pl=Zu(),nE=us(),iE=fl(),oE=require("path");aE.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=Zj(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?e$(n,e):n.file?t$(n,e,r):n.sync?r$(n,e):n$(n,e)};var e$=(t,e)=>{let r=new pl.Sync(t),n=new nE.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),sE(r,e)},t$=(t,e,r)=>{let n=new pl(t),i=new nE.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return um(n,e),r?o.then(r,r):o},sE=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?iE({file:oE.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},um=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return iE({file:oE.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>um(t,e));t.add(r)}t.end()},r$=(t,e)=>{let r=new pl.Sync(t);return sE(r,e),r},n$=(t,e)=>{let r=new pl(t);return um(r,e),r}});var lm=S((oQ,mE)=>{"use strict";var i$=Xo(),uE=Zu(),lr=require("fs"),lE=us(),dE=fl(),fE=require("path"),pE=es();mE.exports=(t,e,r)=>{let n=i$(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?o$(n,e):a$(n,e,r)};var o$=(t,e)=>{let r=new uE.Sync(t),n=!0,i,o;try{try{i=lr.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")i=lr.openSync(t.file,"w+");else throw c}let s=lr.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let l=0,d=0;l<512;l+=d){if(d=lr.readSync(i,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new pE(a);if(!c.cksumValid)break;let u=512*Math.ceil(c.size/512);if(o+u+512>s.size)break;o+=u,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,s$(t,r,o,i,e)}finally{if(n)try{lr.closeSync(i)}catch(s){}}},s$=(t,e,r,n,i)=>{let o=new lE.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(o),c$(e,i)},a$=(t,e,r)=>{e=Array.from(e);let n=new uE(t),i=(s,a,c)=>{let u=(h,m)=>{h?lr.close(s,g=>c(h)):c(null,m)},l=0;if(a===0)return u(null,0);let d=0,f=Buffer.alloc(512),p=(h,m)=>{if(h)return u(h);if(d+=m,d<512&&m)return lr.read(s,f,d,f.length-d,l+d,p);if(l===0&&f[0]===31&&f[1]===139)return u(new Error("cannot append to compressed archives"));if(d<512)return u(null,l);let g=new pE(f);if(!g.cksumValid)return u(null,l);let v=512*Math.ceil(g.size/512);if(l+v+512>a||(l+=v+512,l>=a))return u(null,l);t.mtimeCache&&t.mtimeCache.set(g.path,g.mtime),d=0,lr.read(s,f,0,512,l,p)};lr.read(s,f,0,512,l,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",u=(l,d)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",lr.open(t.file,c,u);if(l)return a(l);lr.fstat(d,(f,p)=>{if(f)return lr.close(d,()=>a(f));i(d,p.size,(h,m)=>{if(h)return a(h);let g=new lE.WriteStream(t.file,{fd:d,start:m});n.pipe(g),g.on("error",a),g.on("close",s),hE(n,e)})})};lr.open(t.file,c,u)});return r?o.then(r,r):o},c$=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?dE({file:fE.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},hE=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return dE({file:fE.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>hE(t,e));t.add(r)}t.end()}});var vE=S((sQ,gE)=>{"use strict";var u$=Xo(),l$=lm();gE.exports=(t,e,r)=>{let n=u$(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),d$(n),l$(n,e,r)};var d$=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var CE=S((aQ,_E)=>{var{promisify:yE}=require("util"),fi=require("fs"),f$=t=>{if(!t)t={mode:511,fs:fi};else if(typeof t=="object")t=U({mode:511,fs:fi},t);else if(typeof t=="number")t={mode:t,fs:fi};else if(typeof t=="string")t={mode:parseInt(t,8),fs:fi};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||fi.mkdir,t.mkdirAsync=yE(t.mkdir),t.stat=t.stat||t.fs.stat||fi.stat,t.statAsync=yE(t.stat),t.statSync=t.statSync||t.fs.statSync||fi.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||fi.mkdirSync,t};_E.exports=f$});var EE=S((cQ,wE)=>{var p$=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:h$,parse:m$}=require("path"),g$=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=h$(t),p$==="win32"){let e=/[*|"<>?:]/,{root:r}=m$(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};wE.exports=g$});var IE=S((uQ,TE)=>{var{dirname:bE}=require("path"),SE=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?SE(t,bE(e),e):void 0),PE=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?PE(t,bE(e),e):void 0}};TE.exports={findMade:SE,findMadeSync:PE}});var pm=S((lQ,AE)=>{var{dirname:xE}=require("path"),dm=(t,e,r)=>{e.recursive=!1;let n=xE(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return dm(n,e).then(o=>dm(t,e,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(o=>{if(o.isDirectory())return r;throw i},()=>{throw i})})},fm=(t,e,r)=>{let n=xE(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return fm(t,e,fm(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch(o){throw i}}};AE.exports={mkdirpManual:dm,mkdirpManualSync:fm}});var DE=S((dQ,kE)=>{var{dirname:RE}=require("path"),{findMade:v$,findMadeSync:y$}=IE(),{mkdirpManual:_$,mkdirpManualSync:C$}=pm(),w$=(t,e)=>(e.recursive=!0,RE(t)===t?e.mkdirAsync(t,e):v$(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return _$(t,e);throw i}))),E$=(t,e)=>{if(e.recursive=!0,RE(t)===t)return e.mkdirSync(t,e);let n=y$(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return C$(t,e);throw i}};kE.exports={mkdirpNative:w$,mkdirpNativeSync:E$}});var FE=S((fQ,LE)=>{var OE=require("fs"),b$=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,hm=b$.replace(/^v/,"").split("."),NE=+hm[0]>10||+hm[0]==10&&+hm[1]>=12,S$=NE?t=>t.mkdir===OE.mkdir:()=>!1,P$=NE?t=>t.mkdirSync===OE.mkdirSync:()=>!1;LE.exports={useNative:S$,useNativeSync:P$}});var HE=S((pQ,UE)=>{var ds=CE(),fs=EE(),{mkdirpNative:ME,mkdirpNativeSync:qE}=DE(),{mkdirpManual:jE,mkdirpManualSync:$E}=pm(),{useNative:T$,useNativeSync:I$}=FE(),ps=(t,e)=>(t=fs(t),e=ds(e),T$(e)?ME(t,e):jE(t,e)),x$=(t,e)=>(t=fs(t),e=ds(e),I$(e)?qE(t,e):$E(t,e));ps.sync=x$;ps.native=(t,e)=>ME(fs(t),ds(e));ps.manual=(t,e)=>jE(fs(t),ds(e));ps.nativeSync=(t,e)=>qE(fs(t),ds(e));ps.manualSync=(t,e)=>$E(fs(t),ds(e));UE.exports=ps});var YE=S((hQ,KE)=>{"use strict";var Er=require("fs"),uo=require("path"),A$=Er.lchown?"lchown":"chown",R$=Er.lchownSync?"lchownSync":"chownSync",BE=Er.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),VE=(t,e,r)=>{try{return Er[R$](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},k$=(t,e,r)=>{try{return Er.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},D$=BE?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Er.chown(t,e,r,n)}:(t,e,r,n)=>n,mm=BE?(t,e,r)=>{try{return VE(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;k$(t,e,r)}}:(t,e,r)=>VE(t,e,r),O$=process.version,GE=(t,e,r)=>Er.readdir(t,e,r),N$=(t,e)=>Er.readdirSync(t,e);/^v4\./.test(O$)&&(GE=(t,e,r)=>Er.readdir(t,r));var hl=(t,e,r,n)=>{Er[A$](t,e,r,D$(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},WE=(t,e,r,n,i)=>{if(typeof e=="string")return Er.lstat(uo.resolve(t,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,WE(t,s,r,n,i)});if(e.isDirectory())gm(uo.resolve(t,e.name),r,n,o=>{if(o)return i(o);let s=uo.resolve(t,e.name);hl(s,r,n,i)});else{let o=uo.resolve(t,e.name);hl(o,r,n,i)}},gm=(t,e,r,n)=>{GE(t,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return hl(t,e,r,n);let s=o.length,a=null,c=u=>{if(!a){if(u)return n(a=u);if(--s==0)return hl(t,e,r,n)}};o.forEach(u=>WE(t,u,e,r,c))})},L$=(t,e,r,n)=>{if(typeof e=="string")try{let i=Er.lstatSync(uo.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&zE(uo.resolve(t,e.name),r,n),mm(uo.resolve(t,e.name),r,n)},zE=(t,e,r)=>{let n;try{n=N$(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return mm(t,e,r);throw i}return n&&n.length&&n.forEach(i=>L$(t,i,e,r)),mm(t,e,r)};KE.exports=gm;gm.sync=zE});var ZE=S((mQ,_m)=>{"use strict";var XE=HE(),br=require("fs"),ml=require("path"),QE=YE(),Gr=eo(),vm=class extends Error{constructor(e,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=e}get name(){return"SylinkError"}},ym=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'");this.path=e,this.code=r}get name(){return"CwdError"}},gl=(t,e)=>t.get(Gr(e)),Fa=(t,e,r)=>t.set(Gr(e),r),F$=(t,e)=>{br.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new ym(t,r&&r.code||"ENOTDIR")),e(r)})};_m.exports=(t,e,r)=>{t=Gr(t);let n=e.umask,i=e.mode|448,o=(i&n)!=0,s=e.uid,a=e.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),u=e.preserve,l=e.unlink,d=e.cache,f=Gr(e.cwd),p=(g,v)=>{g?r(g):(Fa(d,t,!0),v&&c?QE(v,s,a,y=>p(y)):o?br.chmod(t,i,r):r())};if(d&&gl(d,t)===!0)return p();if(t===f)return F$(t,p);if(u)return XE(t,{mode:i}).then(g=>p(null,g),p);let m=Gr(ml.relative(f,t)).split("/");vl(f,m,i,d,l,f,null,p)};var vl=(t,e,r,n,i,o,s,a)=>{if(!e.length)return a(null,s);let c=e.shift(),u=Gr(ml.resolve(t+"/"+c));if(gl(n,u))return vl(u,e,r,n,i,o,s,a);br.mkdir(u,r,JE(u,e,r,n,i,o,s,a))},JE=(t,e,r,n,i,o,s,a)=>c=>{c?br.lstat(t,(u,l)=>{if(u)u.path=u.path&&Gr(u.path),a(u);else if(l.isDirectory())vl(t,e,r,n,i,o,s,a);else if(i)br.unlink(t,d=>{if(d)return a(d);br.mkdir(t,r,JE(t,e,r,n,i,o,s,a))});else{if(l.isSymbolicLink())return a(new vm(t,t+"/"+e.join("/")));a(c)}}):(s=s||t,vl(t,e,r,n,i,o,s,a))},M$=t=>{let e=!1,r="ENOTDIR";try{e=br.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new ym(t,r)}};_m.exports.sync=(t,e)=>{t=Gr(t);let r=e.umask,n=e.mode|448,i=(n&r)!=0,o=e.uid,s=e.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==e.processUid||s!==e.processGid),c=e.preserve,u=e.unlink,l=e.cache,d=Gr(e.cwd),f=g=>{Fa(l,t,!0),g&&a&&QE.sync(g,o,s),i&&br.chmodSync(t,n)};if(l&&gl(l,t)===!0)return f();if(t===d)return M$(d),f();if(c)return f(XE.sync(t,n));let h=Gr(ml.relative(d,t)).split("/"),m=null;for(let g=h.shift(),v=d;g&&(v+="/"+g);g=h.shift())if(v=Gr(ml.resolve(v)),!gl(l,v))try{br.mkdirSync(v,n),m=m||v,Fa(l,v,!0)}catch(y){let C=br.lstatSync(v);if(C.isDirectory()){Fa(l,v,!0);continue}else if(u){br.unlinkSync(v),br.mkdirSync(v,n),m=m||v,Fa(l,v,!0);continue}else if(C.isSymbolicLink())return new vm(v,v+"/"+h.join("/"))}return f(m)}});var nb=S((gQ,rb)=>{var eb=require("assert"),tb=eo();rb.exports=()=>{let t=new Map,e=new Map,{join:r}=require("path"),n=l=>tb(r(l)).split("/").slice(0,-1).reduce((d,f)=>d.length?d.concat(tb(r(d[d.length-1],f))):[f],[]),i=new Set,o=l=>{let d=e.get(l);if(!d)throw new Error("function does not have any path reservations");return{paths:d.paths.map(f=>t.get(f)),dirs:[...d.dirs].map(f=>t.get(f))}},s=l=>{let{paths:d,dirs:f}=o(l);return d.every(p=>p[0]===l)&&f.every(p=>p[0]instanceof Set&&p[0].has(l))},a=l=>i.has(l)||!s(l)?!1:(i.add(l),l(()=>c(l)),!0),c=l=>{if(!i.has(l))return!1;let{paths:d,dirs:f}=e.get(l),p=new Set;return d.forEach(h=>{let m=t.get(h);eb.equal(m[0],l),m.length===1?t.delete(h):(m.shift(),typeof m[0]=="function"?p.add(m[0]):m[0].forEach(g=>p.add(g)))}),f.forEach(h=>{let m=t.get(h);eb(m[0]instanceof Set),m[0].size===1&&m.length===1?t.delete(h):m[0].size===1?(m.shift(),p.add(m[0])):m[0].delete(l)}),i.delete(l),p.forEach(h=>a(h)),!0};return{check:s,reserve:(l,d)=>{let f=new Set(l.map(p=>n(p)).reduce((p,h)=>p.concat(h)));return e.set(d,{dirs:f,paths:l}),l.forEach(p=>{let h=t.get(p);h?h.push(d):t.set(p,[d])}),f.forEach(p=>{let h=t.get(p);h?h[h.length-1]instanceof Set?h[h.length-1].add(d):h.push(new Set([d])):t.set(p,[new Set([d])])}),a(d)}}}});var sb=S((vQ,ob)=>{var q$=process.env.__FAKE_PLATFORM__||process.platform,j$=q$==="win32",$$=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:U$,O_TRUNC:H$,O_WRONLY:B$,UV_FS_O_FILEMAP:ib=0}=$$.constants,V$=j$&&!!ib,G$=512*1024,W$=ib|H$|U$|B$;ob.exports=V$?t=>t<G$?W$:"w":()=>"w"});var Im=S((yQ,Eb)=>{"use strict";var z$=require("assert"),K$=dl(),xe=require("fs"),Y$=us(),Dn=require("path"),ab=ZE(),ub=Ah(),X$=nb(),Q$=Rh(),Sr=eo(),lb=Symbol("onEntry"),Cm=Symbol("checkFs"),db=Symbol("checkFs2"),wm=Symbol("isReusable"),Pr=Symbol("makeFs"),Em=Symbol("file"),bm=Symbol("directory"),yl=Symbol("link"),fb=Symbol("symlink"),pb=Symbol("hardlink"),hb=Symbol("unsupported"),mb=Symbol("checkPath"),pi=Symbol("mkdir"),kt=Symbol("onError"),_l=Symbol("pending"),gb=Symbol("pend"),hs=Symbol("unpend"),Sm=Symbol("ended"),Pm=Symbol("maybeClose"),Tm=Symbol("skip"),Ma=Symbol("doChown"),qa=Symbol("uid"),ja=Symbol("gid"),$a=Symbol("checkedCwd"),vb=require("crypto"),yb=sb(),J$=(t,e)=>{if(process.platform!=="win32")return xe.unlink(t,e);let r=t+".DELETE."+vb.randomBytes(16).toString("hex");xe.rename(t,r,n=>{if(n)return e(n);xe.unlink(r,e)})},Z$=t=>{if(process.platform!=="win32")return xe.unlinkSync(t);let e=t+".DELETE."+vb.randomBytes(16).toString("hex");xe.renameSync(t,e),xe.unlinkSync(e)},_b=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,Cb=(t,e)=>{e=Sr(e).toLowerCase();for(let r of t.keys()){let n=r.toLowerCase();(n===e||n.toLowerCase().indexOf(e+"/")===0)&&t.delete(r)}},Cl=class extends K${constructor(e){if(e||(e={}),e.ondone=r=>{this[Sm]=!0,this[Pm]()},super(e),this[$a]=!1,this.reservations=X$(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[_l]=0,this[Sm]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||process.platform==="win32",this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Sr(Dn.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[lb](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Pm](){this[Sm]&&this[_l]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[mb](e){if(this.strip){let r=Sr(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=Sr(e.linkpath).split("/");n.length>=this.strip&&(e.linkpath=n.slice(this.strip).join("/"))}}if(!this.preservePaths){let r=Sr(e.path);if(r.split("/").includes(".."))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[n,i]=Q$(r);n&&(e.path=i,this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:e,path:r}))}if(Dn.isAbsolute(e.path)?e.absolute=Sr(Dn.resolve(e.path)):e.absolute=Sr(Dn.resolve(this.cwd,e.path)),e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Dn.win32.parse(e.absolute);e.absolute=r+ub.encode(e.absolute.substr(r.length));let{root:n}=Dn.win32.parse(e.path);e.path=n+ub.encode(e.path.substr(n.length))}return!0}[lb](e){if(!this[mb](e))return e.resume();switch(z$.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Cm](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[hb](e)}}[kt](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[hs](),r.resume())}[pi](e,r,n){ab(Sr(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Ma](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[qa](e){return _b(this.uid,e.uid,this.processUid)}[ja](e){return _b(this.gid,e.gid,this.processGid)}[Em](e,r){let n=e.mode&4095||this.fmode,i=new Y$.WriteStream(e.absolute,{flags:yb(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&xe.close(i.fd,()=>{}),i.write=()=>!0,this[kt](c,e),r()});let o=1,s=c=>{if(c){i.fd&&xe.close(i.fd,()=>{}),this[kt](c,e),r();return}--o==0&&xe.close(i.fd,u=>{u?this[kt](u,e):this[hs](),r()})};i.on("finish",c=>{let u=e.absolute,l=i.fd;if(e.mtime&&!this.noMtime){o++;let d=e.atime||new Date,f=e.mtime;xe.futimes(l,d,f,p=>p?xe.utimes(u,d,f,h=>s(h&&p)):s())}if(this[Ma](e)){o++;let d=this[qa](e),f=this[ja](e);xe.fchown(l,d,f,p=>p?xe.chown(u,d,f,h=>s(h&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[kt](c,e),r()}),e.pipe(a)),a.pipe(i)}[bm](e,r){let n=e.mode&4095||this.dmode;this[pi](e.absolute,n,i=>{if(i){this[kt](i,e),r();return}let o=1,s=a=>{--o==0&&(r(),this[hs](),e.resume())};e.mtime&&!this.noMtime&&(o++,xe.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[Ma](e)&&(o++,xe.chown(e.absolute,this[qa](e),this[ja](e),s)),s()})}[hb](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[fb](e,r){this[yl](e,e.linkpath,"symlink",r)}[pb](e,r){let n=Sr(Dn.resolve(this.cwd,e.linkpath));this[yl](e,n,"link",r)}[gb](){this[_l]++}[hs](){this[_l]--,this[Pm]()}[Tm](e){this[hs](),e.resume()}[wm](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&process.platform!=="win32"}[Cm](e){this[gb]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[db](e,n))}[db](e,r){e.type!=="Directory"&&Cb(this.dirCache,e.absolute);let n=()=>{this[pi](this.cwd,this.dmode,s=>{if(s){this[kt](s,e),r();return}this[$a]=!0,i()})},i=()=>{if(e.absolute!==this.cwd){let s=Sr(Dn.dirname(e.absolute));if(s!==this.cwd)return this[pi](s,this.dmode,a=>{if(a){this[kt](a,e),r();return}o()})}o()},o=()=>{xe.lstat(e.absolute,(s,a)=>{if(a&&(this.keep||this.newer&&a.mtime>e.mtime)){this[Tm](e),r();return}if(s||this[wm](e,a))return this[Pr](null,e,r);if(a.isDirectory()){if(e.type==="Directory"){let c=!this.noChmod&&e.mode&&(a.mode&4095)!==e.mode,u=l=>this[Pr](l,e,r);return c?xe.chmod(e.absolute,e.mode,u):u()}if(e.absolute!==this.cwd)return xe.rmdir(e.absolute,c=>this[Pr](c,e,r))}if(e.absolute===this.cwd)return this[Pr](null,e,r);J$(e.absolute,c=>this[Pr](c,e,r))})};this[$a]?i():n()}[Pr](e,r,n){if(e){this[kt](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[Em](r,n);case"Link":return this[pb](r,n);case"SymbolicLink":return this[fb](r,n);case"Directory":case"GNUDumpDir":return this[bm](r,n)}}[yl](e,r,n,i){xe[n](r,e.absolute,o=>{o?this[kt](o,e):(this[hs](),e.resume()),i()})}},wl=t=>{try{return[null,t()]}catch(e){return[e,null]}},wb=class extends Cl{[Pr](e,r){return super[Pr](e,r,()=>{})}[Cm](e){if(e.type!=="Directory"&&Cb(this.dirCache,e.absolute),!this[$a]){let o=this[pi](this.cwd,this.dmode);if(o)return this[kt](o,e);this[$a]=!0}if(e.absolute!==this.cwd){let o=Sr(Dn.dirname(e.absolute));if(o!==this.cwd){let s=this[pi](o,this.dmode);if(s)return this[kt](s,e)}}let[r,n]=wl(()=>xe.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[Tm](e);if(r||this[wm](e,n))return this[Pr](null,e);if(n.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=s?wl(()=>{xe.chmodSync(e.absolute,e.mode)}):[];return this[Pr](a,e)}let[o]=wl(()=>xe.rmdirSync(e.absolute));this[Pr](o,e)}let[i]=e.absolute===this.cwd?[]:wl(()=>Z$(e.absolute));this[Pr](i,e)}[Em](e,r){let n=e.mode&4095||this.fmode,i=a=>{let c;try{xe.closeSync(o)}catch(u){c=u}(a||c)&&this[kt](a||c,e)},o;try{o=xe.openSync(e.absolute,yb(e.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[kt](a,e)),e.pipe(s)),s.on("data",a=>{try{xe.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let u=e.atime||new Date,l=e.mtime;try{xe.futimesSync(o,u,l)}catch(d){try{xe.utimesSync(e.absolute,u,l)}catch(f){c=d}}}if(this[Ma](e)){let u=this[qa](e),l=this[ja](e);try{xe.fchownSync(o,u,l)}catch(d){try{xe.chownSync(e.absolute,u,l)}catch(f){c=c||d}}}i(c)})}[bm](e,r){let n=e.mode&4095||this.dmode,i=this[pi](e.absolute,n);if(i)return this[kt](i,e);if(e.mtime&&!this.noMtime)try{xe.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch(o){}if(this[Ma](e))try{xe.chownSync(e.absolute,this[qa](e),this[ja](e))}catch(o){}e.resume()}[pi](e,r){try{return ab.sync(Sr(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[yl](e,r,n,i){try{xe[n+"Sync"](r,e.absolute),e.resume()}catch(o){return this[kt](o,e)}}};Cl.Sync=wb;Eb.exports=Cl});var Ib=S((_Q,Tb)=>{"use strict";var eU=Xo(),El=Im(),bb=require("fs"),Sb=us(),Pb=require("path"),xm=ju();Tb.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=eU(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&tU(n,e),n.file&&n.sync?rU(n):n.file?nU(n,r):n.sync?iU(n):oU(n)};var tU=(t,e)=>{let r=new Map(e.map(o=>[xm(o),!0])),n=t.filter,i=(o,s)=>{let a=s||Pb.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(Pb.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,s)=>n(o,s)&&i(xm(o)):o=>i(xm(o))},rU=t=>{let e=new El.Sync(t),r=t.file,n=bb.statSync(r),i=t.maxReadSize||16*1024*1024;new Sb.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},nU=(t,e)=>{let r=new El(t),n=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{r.on("error",a),r.on("close",s),bb.stat(i,(c,u)=>{if(c)a(c);else{let l=new Sb.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},iU=t=>new El.Sync(t),oU=t=>new El(t)});var bl=S(ft=>{"use strict";ft.c=ft.create=cE();ft.r=ft.replace=lm();ft.t=ft.list=fl();ft.u=ft.update=vE();ft.x=ft.extract=Ib();ft.Pack=Zu();ft.Unpack=Im();ft.Parse=dl();ft.ReadEntry=Lu();ft.WriteEntry=jh();ft.Header=es();ft.Pax=qu();ft.types=bh()});var Dm=S((BQ,jb)=>{jb.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var Rl=S((VQ,Ub)=>{"use strict";var $b=Dm();Ub.exports=function(e,r){if(!e)return function(i,o){return i?$b(o,i,r):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,o){if(i)return $b(o,i,r);n>=e.length?o(!0):o(null,e[n++])}}});var Bb=S((GQ,Hb)=>{"use strict";var fU=Rl();Hb.exports=function(t){return fU(Object.keys(t))}});var Om=S((WQ,Vb)=>{"use strict";var pU=Dm();Vb.exports=function(e,r){return function(n,i){if(n)return pU(i,n,r);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var Wb=S((zQ,Gb)=>{"use strict";Gb.exports=function(e){var r=0;return e=e||Infinity,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var Kb=S((KQ,zb)=>{"use strict";zb.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var Xb=S((YQ,Yb)=>{"use strict";Yb.exports=function(){return function(e,r){r(!0)}}});var Jb=S((XQ,Qb)=>{"use strict";Qb.exports=function(e){return function(r,n){n(e)}}});var eS=S((QQ,Zb)=>{"use strict";Zb.exports={keys:Bb(),once:Om(),values:Rl(),count:Wb(),infinite:Kb(),empty:Xb(),error:Jb()}});var gs=S((JQ,tS)=>{"use strict";tS.exports=function(e,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,u=!1;c;)if(u=!1,n(null,function(l,d){if(u=!0,l=l||i){if(c=!1,r)r(l===!0?null:l);else if(l&&l!==!0)throw l}else e&&e(d)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!u){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var nS=S((ZQ,rS)=>{"use strict";var hU=gs();rS.exports=function(e){return hU(null,e)}});var oS=S((eJ,iS)=>{"use strict";var mU=gs();iS.exports=function(e){return mU(function(r){console.log(r)},e)}});var vs=S((tJ,sS)=>{sS.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var uS=S((rJ,cS)=>{"use strict";function aS(t){return t}var gU=vs(),vU=gs();cS.exports=function(e,r){var n=!1;return r?e=gU(e)||aS:(r=e,e=aS),vU(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var kl=S((nJ,lS)=>{"use strict";var yU=gs();lS.exports=function(e,r,n){n||(n=r,r=null);var i=yU(function(o){r=e(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var fS=S((iJ,dS)=>{"use strict";var _U=kl();dS.exports=function(e){return _U(function(r,n){return r.push(n),r},[],e)}});var hS=S((oJ,pS)=>{"use strict";var CU=kl();pS.exports=function(e){return CU(function(r,n){return r+n},"",e)}});var gS=S((sJ,mS)=>{"use strict";mS.exports={drain:gs(),onEnd:nS(),log:oS(),find:uS(),reduce:kl(),collect:fS(),concat:hS()}});var yS=S((aJ,vS)=>{"use strict";function wU(t){return t}var EU=vs();vS.exports=function(e){return e?(e=EU(e),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:e(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):wU}});var CS=S((cJ,_S)=>{"use strict";function bU(t){return t}var SU=vs();_S.exports=function(e){if(!e)return bU;e=SU(e);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(u){r?n=c:c(a)}):o(a,function(u){c(a)})):o(null,function(u,l){u?c(u):i?c(i):(r=!0,e(l,function(d,f){r=!1,i?(c(i),n&&n(i)):d?s(d,c):c(null,f)}))})}}}});var Nm=S((uJ,wS)=>{var PU=vs();function TU(t){return t}wS.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:PU(e)||TU}});var Dl=S((lJ,ES)=>{"use strict";var IU=Nm();ES.exports=function(e){return e=IU(e),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,u){if(!c&&!e(u))return s?a=!0:n(c,o);o(c,u)}),s=!1}}}});var SS=S((dJ,bS)=>{"use strict";var xU=Nm(),AU=Dl();bS.exports=function(e){return e=xU(e),AU(function(r){return!e(r)})}});var TS=S((fJ,PS)=>{"use strict";PS.exports=function(e,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,u){c?i(c):e&&e(u),a(c,u)})}}}});var xS=S((pJ,IS)=>{"use strict";IS.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var o=e;e=function(){return--o}}return function(s){function a(c){s(!0,function(u){n=!1,c(u||!0)})}return function(c,u){i&&!c?n?a(u):u(i):(i=c)?s(i,u):s(null,function(l,d){(i=i||l)?u(i):e(d)?u(null,d):(i=!0,n?u(null,d):a(u))})}}}});var Lm=S((hJ,AS)=>{"use strict";function RU(t){return t}var kU=vs(),DU=Dl();AS.exports=function(e,r){e=kU(e)||RU;var n={};return DU(function(i){var o=e(i);return n[o]?!!r:(n[o]=!0,!r)})}});var kS=S((mJ,RS)=>{"use strict";var OU=Lm();RS.exports=function(e){return OU(e,!0)}});var OS=S((gJ,DS)=>{"use strict";var NU=Rl(),LU=Om();DS.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?e(!0,function(u){i(a)}):i(null,c)})}function s(){r=null,e(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=NU(c):typeof c!="function"&&(c=LU(c)),r=c,o()})}}}}});var LS=S((vJ,NS)=>{"use strict";NS.exports={map:yS(),asyncMap:CS(),filter:Dl(),filterNot:SS(),through:TS(),take:xS(),unique:Lm(),nonUnique:kS(),flatten:OS()}});var Fm=S((yJ,FS)=>{"use strict";FS.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var Ol=S((ho,$S)=>{"use strict";var MS=eS(),qS=gS(),jS=LS();ho=$S.exports=Fm();ho.pull=ho;for(var hi in MS)ho[hi]=MS[hi];for(var hi in jS)ho[hi]=jS[hi];for(var hi in qS)ho[hi]=qS[hi]});var Wm=S((GJ,s0)=>{var VJ=s0.exports=function(t){(function e(){var r=!0,n=!1,i=!1;do i=!0,r=!1,t.call(this,function(){i?r=!0:e()}),i=!1;while(r)})()}});var c0=S((WJ,a0)=>{var KU=Wm();a0.exports=function(t,e){return function(r){var n=[],i,o;function s(u){n.push(u)}t=t||function(u){this.queue(u)},e=e||function(){this.queue(null)};var a={emit:function(u,l){u=="data"&&s(l),u=="end"&&(i=!0,s(null)),u=="error"&&(o=l)},queue:s},c;return function(u,l){if(i=i||u,u)return r(u,function(){if(c){var d=c;c=null,d(u)}l(u)});c=l,KU(function d(f){if(!!c)if(l=c,o)c=null,l(o);else if(n.length){var p=n.shift();c=null,l(p===null,p)}else r(i,function(h,m){if(h&&h!==!0)return o=h,f();if(i=i||h)e.call(a);else if(m!==null&&(t.call(a,m),o||i))return r(o||i,function(){c=null,l(o||i)});f(d)})})}}}});var l0=S((zJ,u0)=>{u0.exports=function(){var t=[],e=0;function r(){return t.reduce(function(n,i){return n+i.length},0)}return{length:e,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=e=e+n.length,t.push(n),this},has:function(n){return n==null?e>0:e>=n},get:function(n){var i;if(n==null||n===e){e=0;var o=t;return t=[],o.length==1?o[0]:Buffer.concat(o)}else if(t.length>1&&n<=(i=t[0].length)){var s=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),e-=n,s}else if(n<e){for(var a=[],c=0;c+t[0].length<n;){var u=t.shift();c+=u.length,a.push(u)}return c<n&&(a.push(t[0].slice(0,n-c)),t[0]=t[0].slice(n-c,t[0].length),this.length=e=e-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var h0=S((KJ,p0)=>{"use strict";var YU=l0();function XU(t){return Number.isFinite(t)}function d0(t){return typeof t=="function"}function f0(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),n)},e);t(r,function(o,s){clearTimeout(i),n(o,s)})}:t}p0.exports=function(t){var e=[],r,n,i=!1,o=YU(),s,a,c;function u(){for(;e.length;)if(e[0].length==null&&o.has(1))e.shift().cb(null,o.get());else if(o.has(e[0].length)){var f=e.shift();f.cb(null,o.get(f.length))}else if(s==!0&&e[0].length&&o.length<e[0].length){var p="stream ended with:"+o.length+" but wanted:"+e[0].length;e.shift().cb(new Error(p))}else if(s)e.shift().cb(s);else return!!e.length;return e.length||!o.has(1)||c}function l(){var f=u();f&&!i&&r&&!i&&!a&&(i=!0,n(null,function(p,h){if(i=!1,p)return s=p,u();o.add(h),l()}))}function d(f){if(c){for(;e.length;)e.shift().cb(c);return cb&&cb(c)}n=f0(f,t),r=f,l()}return d.abort=function(f,p){c=f||!0,r?(i=!0,r(c,function(){for(;e.length;)e.shift().cb(c);p&&p(c)})):p()},d.read=function(f,p,h){if(d0(p)&&(h=p,p=t),d0(h))e.push({length:XU(f)?f:null,cb:h}),l();else return a=!0,function(m,g){if(i||o.has(1)){if(m)return r(m,g);e.push({length:null,cb:g}),l()}else f0(r,p)(m,function(v,y){g(v,y)})}},d}});var T0=S((go,P0)=>{var QU=c0(),JU=h0(),m0=0,g0=1,v0=2,y0="GOODBYE",ZU=Buffer.isBuffer;function _0(t){return typeof t=="string"}function C0(t){var e=Buffer.alloc(9),r=0,n=t.value!==void 0?t.value:t.end;return _0(t)&&t===y0?(e.fill(0),[e,null]):(_0(n)?(r=g0,n=Buffer.from(n,"utf-8")):ZU(n)?r=m0:(r=v0,n=Buffer.from(JSON.stringify(n),"utf-8")),r=t.stream<<3|t.end<<2|r,e[0]=r,e.writeUInt32BE(n.length,1),e.writeInt32BE(t.req||0,5),[e,n])}function w0(t){if(t.length!=9)throw new Error("expected header to be 9 bytes long");var e=t[0],r=t.readUInt32BE(1),n=t.readInt32BE(5);return{req:n,stream:!!(e&8),end:!!(e&4),value:null,length:r,type:e&3}}function E0(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(m0===e.type)e.value=t;else if(g0===e.type)e.value=t.toString();else if(v0===e.type)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function b0(){return QU(function(t){var e=C0(t);this.queue(e[0]),e[1]!==null&&this.queue(e[1])})}function S0(){var t=JU(),e=!1;return function(r){return t(r),function(n,i){if(e)return i(!0);if(n)return t.abort(n,i);t.read(9,function(o,s){if(o)return i(o);var a=w0(s);if(a.length===0)return e=!0,i(null,y0);t.read(a.length,function(c,u){if(c)return i(c);try{E0(u,a)}catch(l){return i(l)}i(null,a)})})}}}go=P0.exports=function(t){return{source:b0()(t.source),sink:function(e){return t.sink(S0()(e))}}};go.encodePair=C0;go.decodeHead=w0;go.decodeBody=E0;go.encode=b0;go.decode=S0});var A0=S((YJ,x0)=>{function tc(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}x0.exports=function(t){return new Ir(t)};function Ir(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}Ir.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};Ir.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(i,o){delete n._requests[r],e(i,o),n._maybedone(i)},this.read({req:r,stream:!1,end:!1,value:t})};Ir.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var t=this._req_counter++,e=this;return this._outstreams[t]=new rc(t,this,function(){delete e._outstreams[t]}),this._outstreams[t]};Ir.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};Ir.prototype.destroy=function(t){t=t||tc(t),this.ended=t,this._closing=!0;var e=t===!0?new Error("unexpected end of parent stream"):t,r=0;for(var n in this._requests)r++,this._requests[n](e);for(var n in this._instreams)r++,this._instreams[n].writeEnd=!0,this._instreams[n].destroy(e);for(var n in this._outstreams)r++,this._outstreams[n].writeEnd=!0,this._outstreams[n].destroy(e);r===0&&t===!0&&(e=null),this._maybedone(e)};Ir.prototype._maybedone=function(t){this._closed||!this._closing||Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0||(this._closed=!0,this._closecbs.forEach(function(e){e(t)}),this.read(null,t||!0),this.opts=null,this._closecbs.length=0,this.read=I0)};function I0(t){console.error("packet-stream asked to read after closed",t)}Ir.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};Ir.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};Ir.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};Ir.prototype._onrequest=function(t){var e=t.req*-1;if(t.req<0)typeof this._requests[e]=="function"&&this._requests[e](t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){var r=!1,n=this;this.opts.request(t.value,function(o,s){if(r)throw new Error("cb called twice from local api");r=!0,o?n.read({value:tc(o),end:!0,req:e}):n.read({value:s,end:!1,req:e}),n._maybedone()})}else{if(this.ended){var i=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:tc(i),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};Ir.prototype._onstream=function(t){if(t.req<0){var e=t.req*-1,r=this._outstreams[e];if(!r)return console.error("no stream for incoming msg",t);t.end?(r.writeEnd&&delete this._outstreams[e],r.readEnd=!0,r.read(null,t.value),this._maybedone()):r.read(t.value)}else{var e=t.req,n=this._instreams[e];if(!n){var i=this;n=this._instreams[e]=new rc(e*-1,this,function(){delete i._instreams[e]}),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)}t.end?(n.writeEnd&&delete this._instreams[e],n.readEnd=!0,n.read&&n.read(null,t.value),this._maybedone()):n.read?n.read(t.value):console.error("no .read for stream:",n.id,"dropped:",t)}};function rc(t,e,r){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=r,this._seq_counter=1}rc.prototype.write=function(t,e){if(e){this.writeEnd=e;var r=this._ps;r&&(r.read({req:this.id,stream:!0,end:!0,value:tc(e)}),this.readEnd&&this.destroy(e),r._maybedone(e))}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:t})};rc.prototype.end=function(t){this.write(null,tc(t||!0))};rc.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=I0,this._ps=null)}});var k0=S((XJ,nc)=>{"use strict";var eH=Ol();function tH(t){let e=!1;return(r,n)=>{e||(e=!0,t(r,n))}}function zm(t,e){let r=[],n=!1,i,o,s=tH((a,c)=>{e&&e(a,c),t=null,e=null,i=null,o&&o(a||!0,()=>{})});return t.read=function(a,c){if(n=n||c,i){let u=i;i=null,u(n,a)}else n||r.push(a);n&&s(n!==!0?n:null)},{source(a,c){a?(t&&t.write(null,a),c(a),s(a!==!0?a:null)):r.length?c(null,r.shift()):n?c(n):i=c},sink(a){if(n)return o=null,a(n,()=>{});o=a,eH.drain(c=>{if(n)return!1;t.write(c)},c=>{t&&!t.writeEnd&&t.write(null,c||!0),s&&s(c)})(a)}}}function R0(t,e){return zm(t,r=>{t.writeEnd||t.write(null,r||!0),e&&e(r)})}function rH(t){return R0(t).source}function nH(t,e){return R0(t,e).sink}nc.exports=zm;nc.exports.source=rH;nc.exports.sink=nH;nc.exports.duplex=zm});var O0=S((QJ,D0)=>{D0.exports=function(e){var r,n,i;function o(s){return function(a,c){s(a,function(u,l){if(u&&!i)return i=!0,c(null,e);u&&r?c(u):u?n=c:c(null,l)})}}return o.end=function(){return r=!0,n&&n(r),o},o}});var Km=S((JJ,N0)=>{N0.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var Bl=S((ZJ,F0)=>{"use strict";var L0=Km();F0.exports=function(e,r){if(!e)return function(i,o){return i?L0(o,i,r):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,o){if(i)return L0(o,i,r);n>=e.length?o(!0):o(null,e[n++])}}});var q0=S((eZ,M0)=>{"use strict";var iH=Bl();M0.exports=function(t){return iH(Object.keys(t))}});var Ym=S((tZ,j0)=>{"use strict";var oH=Km();j0.exports=function(e,r){return function(n,i){if(n)return oH(i,n,r);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var U0=S((rZ,$0)=>{"use strict";$0.exports=function(e){var r=0;return e=e||Infinity,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var B0=S((nZ,H0)=>{"use strict";H0.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var G0=S((iZ,V0)=>{"use strict";V0.exports=function(){return function(e,r){r(!0)}}});var z0=S((oZ,W0)=>{"use strict";W0.exports=function(e){return function(r,n){n(e)}}});var Y0=S((sZ,K0)=>{"use strict";K0.exports={keys:q0(),once:Ym(),values:Bl(),count:U0(),infinite:B0(),empty:G0(),error:z0()}});var ws=S((aZ,X0)=>{"use strict";X0.exports=function(e,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,u=!1;c;)if(u=!1,n(null,function(l,d){if(u=!0,l=l||i){if(c=!1,r)r(l===!0?null:l);else if(l&&l!==!0)throw l}else e&&e(d)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!u){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var J0=S((cZ,Q0)=>{"use strict";var sH=ws();Q0.exports=function(e){return sH(null,e)}});var eP=S((uZ,Z0)=>{"use strict";var aH=ws();Z0.exports=function(e){return aH(function(r){console.log(r)},e)}});var Es=S((lZ,tP)=>{tP.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var iP=S((dZ,nP)=>{"use strict";function rP(t){return t}var cH=Es(),uH=ws();nP.exports=function(e,r){var n=!1;return r?e=cH(e)||rP:(r=e,e=rP),uH(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var Vl=S((fZ,oP)=>{"use strict";var lH=ws();oP.exports=function(e,r,n){n||(n=r,r=null);var i=lH(function(o){r=e(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var aP=S((pZ,sP)=>{"use strict";var dH=Vl();sP.exports=function(e){return dH(function(r,n){return r.push(n),r},[],e)}});var uP=S((hZ,cP)=>{"use strict";var fH=Vl();cP.exports=function(e){return fH(function(r,n){return r+n},"",e)}});var dP=S((mZ,lP)=>{"use strict";lP.exports={drain:ws(),onEnd:J0(),log:eP(),find:iP(),reduce:Vl(),collect:aP(),concat:uP()}});var pP=S((gZ,fP)=>{"use strict";function pH(t){return t}var hH=Es();fP.exports=function(e){return e?(e=hH(e),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:e(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):pH}});var mP=S((vZ,hP)=>{"use strict";function mH(t){return t}var gH=Es();hP.exports=function(e){if(!e)return mH;e=gH(e);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(){r?n=c:c(a)}):o(a,c)):o(null,function(u,l){u?c(u):i?c(i):(r=!0,e(l,function(d,f){r=!1,i?(c(i),n(i)):d?s(d,c):c(null,f)}))})}}}});var Xm=S((yZ,gP)=>{var vH=Es();function yH(t){return t}gP.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:vH(e)||yH}});var Gl=S((_Z,vP)=>{"use strict";var _H=Xm();vP.exports=function(e){return e=_H(e),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,u){if(!c&&!e(u))return s?a=!0:n(c,o);o(c,u)}),s=!1}}}});var _P=S((CZ,yP)=>{"use strict";var CH=Xm(),wH=Gl();yP.exports=function(e){return e=CH(e),wH(function(r){return!e(r)})}});var wP=S((wZ,CP)=>{"use strict";CP.exports=function(e,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,u){c?i(c):e&&e(u),a(c,u)})}}}});var bP=S((EZ,EP)=>{"use strict";EP.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var o=e;e=function(){return--o}}return function(s){function a(c){s(!0,function(u){n=!1,c(u||!0)})}return function(c,u){i?n?a(u):u(i):(i=c)?s(i,u):s(null,function(l,d){(i=i||l)?u(i):e(d)?u(null,d):(i=!0,n?u(null,d):a(u))})}}}});var Qm=S((bZ,SP)=>{"use strict";function EH(t){return t}var bH=Es(),SH=Gl();SP.exports=function(e,r){e=bH(e)||EH;var n={};return SH(function(i){var o=e(i);return n[o]?!!r:(n[o]=!0,!r)})}});var TP=S((SZ,PP)=>{"use strict";var PH=Qm();PP.exports=function(e){return PH(e,!0)}});var xP=S((PZ,IP)=>{"use strict";var TH=Bl(),IH=Ym();IP.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?e(!0,function(u){i(a)}):i(null,c)})}function s(){r=null,e(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=TH(c):typeof c!="function"&&(c=IH(c)),r=c,o()})}}}}});var RP=S((TZ,AP)=>{"use strict";AP.exports={map:pP(),asyncMap:mP(),filter:Gl(),filterNot:_P(),through:wP(),take:bP(),unique:Qm(),nonUnique:TP(),flatten:xP()}});var DP=S((IZ,kP)=>{"use strict";kP.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var MP=S((ic,FP)=>{"use strict";var OP=Y0(),NP=dP(),LP=RP();ic=FP.exports=DP();for(var mi in OP)ic[mi]=OP[mi];for(var mi in LP)ic[mi]=LP[mi];for(var mi in NP)ic[mi]=NP[mi]});var jP=S((xZ,qP)=>{var xH=O0(),Jm=MP();qP.exports=function(t,e){e=e||"GOODBYE";var r=xH(e);return{source:Jm(t.source,r),sink:Jm(Jm.filter(function(n){if(n!==e)return!0;r.end()}),t.sink)}}});var oc=S(zr=>{"use strict";var Wl=Ol();function AH(t){return t?Object.keys(t).length===0:!0}zr.set=function(e,r,n){let i,o;for(let s=0;s<r.length;s++){let a=r[s];e[a]=e[a]||{},i=e,o=a,e=e[a]}i[o]=n};zr.get=function(e,r){if(typeof r=="string")return e[r];let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=e=e[o],e==null)return e}return n};zr.prefix=function(e,r){let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=e=e[o],typeof e!="object")return e}return typeof n!="object"?!!n:!1};function RH(t,e){for(let r in e){let n=e[r];t[n]||(t[n]={}),t=t[n]}return t}function kH(t,e){(function r(n,i){let o=e[i];if(n)e.length-1===i?delete n[o]:i<e.length&&r(n[o],i+1);else return;AH(n[o])&&delete n[o]})(t,0)}function DH(t,e){for(let r in e)t[r]=e[r];return t}zr.mount=function(e,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return DH(RH(e,r),n)};zr.unmount=function(e,r){return kH(e,r)};var zl=t=>t==="source",Kl=t=>t==="sink",$P=t=>t==="duplex",OH=t=>t==="sync",NH=t=>t==="async",UP=t=>OH(t)||NH(t),LH=t=>zl(t)||Kl(t)||$P(t);zr.isRequest=UP;zr.isStream=LH;function Zm(t){return function(e){e(t||!0,()=>{})}}function HP(t){return{source:Wl.error(t),sink:Zm(t)}}zr.errorAsStream=function(e,r){return zl(e)?Wl.error(r):Kl(e)?Zm(r):HP(r)};zr.errorAsStreamOrCb=function(e,r,n){return UP(e)?n(r):zl(e)?Wl.error(r):Kl(e)?Zm(r):n(r),HP(r)};zr.pipeToStream=function(e,r,n){zl(e)?r(n):Kl(e)?n(r):$P(e)&&Wl(r,n,r)}});var eg=S((kZ,VP)=>{function BP(t){if(t.stack&&t.name&&t.message)return t.stack.substring(t.name.length+3+t.message.length).split(`
`);if(t.stack)return t.stack.split(`
`)}function FH(t,e){return t.filter(function(r){return!~e.indexOf(r)})}var RZ=VP.exports=function(t,e){if(!(t.stack&&t.name&&t.message))return console.error(new Error("stackless error")),t;var r=new Error(e),n=FH(BP(r).slice(1),BP(t)).join(`
`);return r.__proto__=t,r.stack=r.name+": "+r.message+`
`+n+`
  `+t.stack,r}});var zP=S((DZ,WP)=>{"use strict";var MH=A0(),tg=k0(),qH=jP(),bs=oc(),GP=eg();WP.exports=function(e,r,n){let i=MH({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,u=s.args,l=!1,d=!1;u.push((f,p)=>{d=!0,l=!0,a(f,p)});try{e("async",c,u)}catch(f){if(l||d)throw GP(f,"no callback provided to muxrpc async funtion");a(f)}},stream(s){s.read=function(c,u){if(u)return s.write(null,u);let{name:l,type:d,args:f}=c,p,h;if(s.read=null,!bs.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{h=e(d,l,f)}catch(v){p=v}let g=tg[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return bs.pipeToStream(d,g,p?bs.errorAsStream(d,p):h)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,n)){let a=n;n=null,a(s)}}}),o=qH(tg(i,()=>{}));return o=r?r(o):o,o.remoteCall=function(s,a,c,u){if(a==="emit")return i.message(c);if(!(bs.isRequest(s)||bs.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(bs.isRequest(s))return i.request({name:a,args:c},u);let l=i.stream(),d=tg[s](l,u);return l.write({name:a,args:c,type:s}),d},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw GP(c,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var YP=S((OZ,KP)=>{"use strict";var jH=eg(),$H=oc();function rg(t,e,r,n){for(let i in e){let o=e[i],s=r?r.concat(i):[i];if(o&&typeof o=="object"){let a=o;t[i]=rg({},a,s,n)}else{let a=o;t[i]=(...c)=>n(a,s,c)}}return t}function UH(t){if(t)throw jH(t,"callback not provided")}function HH(t,e,r,n){t=t||{};function i(o,s,a){let c=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:UH;if(typeof c=="function"){let u;try{u=r(o,s,a,c)}catch(l){return $H.errorAsStreamOrCb(o,l,c)}return u}else return new Promise((u,l)=>{r(o,s,a,(d,f)=>{d?l(d):u(f)})})}return n?i("async","manifest",[function(o,s){if(o)return n(o);rg(t,s,null,i),n(null,s,t)}]):rg(t,e,null,i),t}KP.exports=HH});var JP=S((NZ,QP)=>{"use strict";var Yl=oc();function XP(t){return Array.isArray(t)?t:t.split(".")}function BH(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}QP.exports=function(e){if(BH(e))return e;if(typeof e=="function")return{pre:e};let r=null,n={};function i(o){if(o.allow){r={};for(let s of o.allow)Yl.set(r,XP(s),!0)}else r=null;if(o.deny)for(let s of o.deny)Yl.set(n,XP(s),!0);else n={};return this}return e&&i(e),i.pre=o=>{if(o=Array.isArray(o)?o:[o],r&&!Yl.prefix(r,o))return new Error(`method:${o} is not in list of allowed methods`);if(n&&Yl.prefix(n,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:r,deny:n}),i}});var eT=S((LZ,ZP)=>{"use strict";var VH=JP(),ng=oc();ZP.exports=function(e,r,n){n=VH(n);function i(s,a){return s===ng.get(r,a)}function o(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let u=c.pop(),l;try{l=ng.get(e,a).apply(this,c)}catch(d){return u(d)}return u(null,l)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return ng.get(e,a).apply(this,c)}return function(a,c,u){let l=n.pre(c,u);if(l)throw l;return o.call(this,a,c,u)}}});var nT=S((FZ,rT)=>{"use strict";var GH=T0(),WH=require("events").EventEmitter,zH=zP(),KH=YP(),YH=eT();function tT(t,e,r,n,i,o,s){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let c=new WH;o||(o=GH);let u,l={_emit(f,p){return c&&c._emit(f,p),l},id:n},d=zH(YH(r,e,i).bind(l),o,f=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),u)){let p=u;u=null,p(f)}});if(KH(c,t,(f,p,h,m)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(f,p,h,m)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>l.id),Object.__defineSetter__.call(c,"id",p=>{l.id=p});let f=!0;c.createStream=p=>{if(u=p,f)return f=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(f,p){return d.close(f,p),this},c}rT.exports=function(t,e,r){return arguments.length>3?tT.apply(this,arguments):function(n,i,o){return tT(t,e,n,o,i,r,!0)}}});var aT=S((Nn,sT)=>{var MZ=Fm(),XH=Wm();function iT(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function oT(t,e,r){var n,i=!1,o;function s(){o||(o=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,u(),n?s():t(n=!0,s))}function c(l){u(),n||t(n=l,s)}function u(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",c)}e.on("close",a),e.on("finish",a),e.on("error",c),process.nextTick(function(){XH(function(l){t(null,function(d,f){if(n=n||d,d===!0)return e._isStdio?s():e.end();if(n=n||d)return iT(e),s(n);if(e._isStdio)e.write(f,function(){l()});else{var p=e.write(f);p===!1?e.once("drain",l):l()}})})})}function QH(t){var e=!1,r=!1,n;function i(){var o=t.read();if(o!==null&&n){var s=n;n=null,s(null,o)}}return t.on("readable",function(){r=!0,n&&i()}).on("end",function(){e=!0,n&&n(e)}).on("error",function(o){e=o,n&&n(e)}),function(o,s){n=s,e?s(e):r&&i()}}function Xl(t){var e=[],r=[],n,i=!1,o;function s(){for(;(e.length||n)&&r.length;)r.shift()(e.length?null:n,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),s(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){n=!0,s()}),t.on("close",function(){n=!0,s()}),t.on("error",function(a){n=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let l=function(){for(;r.length;)r.shift()(a);c(a)};var u=l;if(n)return l();t.once("close",l),iT(t)}else r.push(c),s()}}var JH=Xl,Ql=function(t,e){return function(r){return oT(r,t,e)}},Jl=function(t){return Xl(t)};Nn=sT.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return oT(r,t,e),Xl(t)}:Ql(t,e):Jl(t)};Nn.sink=Ql;Nn.source=Jl;Nn.read=JH;Nn.read1=Xl;Nn.read2=QH;Nn.duplex=function(t,e){return{source:Jl(t),sink:Ql(t,e)}};Nn.transform=function(t){return function(e){var r=Jl(t);return Ql(t)(e),r}}});var uT=S((qZ,Zl)=>{var ZH=require("stream");Zl.exports=ig;Zl.exports.source=function(t){return ig(null,t)};Zl.exports.sink=function(t){return ig(t,null)};var cT=typeof setImmediate=="undefined"?process.nextTick:setImmediate;function ig(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var r=[],n=[],i,o,s=new ZH;s.writable=s.readable=!0,s.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(o=!0),!!r.length},s.end=function(){e?n.length?m():e(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},s.source=function(g,v){n.length?(v(null,n.shift()),n.length||s.emit("drain")):((i=i||g)?v(i):r.push(v),o&&(o=!1,s.emit("drain")))};var a;t&&(a=t(s.source)),a&&!e&&(e=a);var c=[],u=[],l=!1,d=!1,f=!1;if(s.sink=function(g){e=g,cT(m)},e){s.sink(e),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var y=p(g,v);return g==="data"&&s.paused&&cT(s.resume.bind(s)),y};var h=s.pipe.bind(s);s.pipe=function(g,v){var y=h(g,v);return s.paused&&s.resume(),y}}function m(){if(d=!1,!(!e||f)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(l)return s.emit("end");f=!0,e(null,function g(v,y){f=!1,s.paused?(v===!0?l=v:v?s.emit("error",v):c.push(y),d=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),f=!0,e(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,m(),s},s.destroy=function(){!i&&e&&e(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),s.emit("close")},s}});var ag=S((XZ,gT)=>{"use strict";var hT=require("child_process"),cB=1024*1024,mT={exec(t,e){hT.exec(t,{maxBuffer:2*cB,windowsHide:!0},e)},spawn(t,e,r){return hT.spawn(t,e,r)},stripLine(t,e){let r=0;for(;e-- >0;){let n=t.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?t.substring(r):t},split(t,e){let r=t.trim().split(/\s+/);return r.length>e&&(r[e-1]=r.slice(e-1).join(" ")),r},extractColumns(t,e,r){let n=t.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,e)+1),n.forEach(o=>{let s=mT.split(o,r),a=[];e.forEach(c=>{a.push(s[c]||"")}),i.push(a)}),i},parseTable(t){let e=t.split(/(\r\n|\n|\r)/).filter(o=>o.trim().length>0),r=e.shift().trim().match(/(\w+\s*)/g);if(!r)return[];let n=[],i=r.map((o,s)=>{let a=[];return s===0?(a[0]=0,a[1]=o.length):(a[0]=n[s-1][1],a[1]=a[0]+o.length),n.push(a),o.trim()});return n[n.length-1][1]=Infinity,e.map(o=>{let s={};return n.forEach((a,c)=>{let u=i[c],l=o.substring(a[0],a[1]).trim();s[u]=l}),s})}};gT.exports=mT});var yT=S((QZ,vT)=>{"use strict";var uB=require("os"),nd=require("fs"),xr=ag(),lB=t=>new Promise((e,r)=>{nd.existsSync(t)?e():nd.mkdir(t,n=>{n?r(n):e()})}),cg={darwin(t){return new Promise((e,r)=>{xr.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=xr.stripLine(i.toString(),2),a=xr.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let u=String(c[1]).match(/\.(\d+)$/);if(u&&u[1]===String(t))return!0});a&&a[2].length?e(parseInt(a[2],10)):r(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,r)=>{let n="netstat -tunlp";xr.exec(n,function(i,o,s){if(i)r(i);else{let a=s.toString().trim();a&&console.warn(a);let c=xr.stripLine(o.toString(),2),u=xr.extractColumns(c,[3,6],7).find(l=>{let d=String(l[0]).match(/:(\d+)$/);if(d&&d[1]===String(t))return!0});if(u&&u[1]){let l=u[1].split("/",1)[0];l.length?e(parseInt(l,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,r)=>{xr.exec("netstat -ano",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=xr.stripLine(i.toString(),4),a=xr.extractColumns(s,[1,4],5).find(c=>{let u=String(c[0]).match(/:(\d+)$/);if(u&&u[1]===String(t))return!0});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):r(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,r)=>{let n=uB.tmpdir()+"/.find-process",i=n+"/"+process.pid,o='netstat -tunp >> "'+i+'"';lB(n).then(()=>{xr.exec(o,()=>{nd.readFile(i,"utf8",(s,a)=>{if(nd.unlink(i,()=>{}),s)r(s);else{a=xr.stripLine(a,2);let c=xr.extractColumns(a,[3,6],7).find(u=>{let l=String(u[0]).match(/:(\d+)$/);if(l&&l[1]===String(t))return!0});if(c&&c[1]){let u=c[1].split("/",1)[0];u.length?e(parseInt(u,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})})})}};function dB(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in cg))return n(new Error(`platform ${e} is unsupported`));let i=cg[e];typeof i=="string"&&(i=cg[i]),i(t).then(r,n)})}vT.exports=dB});var ET=S((JZ,wT)=>{"use strict";var id=require("path"),yi=ag();function ug(t,e){return e?t&&t.match?t.match(e):!1:!0}function _T(t){let e=t.split(id.sep),r=e[e.length-1];r&&(e[e.length-1]=r.split(" ")[0]);let n=[];for(let i of e){let o=i.indexOf(" -");if(o>=0){n.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(id.sep)}function CT(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return id.basename(t.substring(0,e))}return id.basename(t)}var lg={darwin(t){return new Promise((e,r)=>{let n;"pid"in t?n=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",yi.exec(n,function(i,o,s){if(i)"pid"in t?e([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=yi.stripLine(o.toString(),1),u=yi.extractColumns(a,[0,1,2,3,4],5).filter(l=>l[0]&&t.pid?l[0]===String(t.pid):l[4]&&t.name?ug(l[4],t.name):!!l[0]).map(l=>{let d=String(l[4]),f=_T(d);return{pid:parseInt(l[0],10),ppid:parseInt(l[1],10),uid:parseInt(l[2],10),gid:parseInt(l[3],10),name:CT(f),bin:f,cmd:l[4]}});t.strict&&t.name&&(u=u.filter(l=>l.name===t.name)),e(u)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,r)=>{let n="WMIC path win32_process get Name,Processid,ParentProcessId,Commandline,ExecutablePath",i=[],o=yi.spawn("cmd",["/c",n],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return r(new Error("Command '"+n+"' terminated with code: "+s));let a=yi.parseTable(i.join(`
`)).filter(c=>"pid"in t?c.ProcessId===String(t.pid):t.name?t.strict?c.Name===t.name||c.Name.endsWith(".exe")&&c.Name.slice(0,-4)===t.name:ug(c.CommandLine||c.Name,t.name):!0).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name,cmd:c.CommandLine}));e(a)})})},android(t){return new Promise((e,r)=>{let n="ps";yi.exec(n,function(i,o,s){if(i)"pid"in t?e([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=yi.stripLine(o.toString(),1),u=yi.extractColumns(a,[0,3],4).filter(l=>l[0]&&t.pid?l[0]===String(t.pid):l[1]&&t.name?ug(l[1],t.name):!!l[0]).map(l=>{let d=String(l[1]),f=_T(d);return{pid:parseInt(l[0],10),name:CT(f),bin:f,cmd:d}});t.strict&&t.name&&(u=u.filter(l=>l.name===t.name)),e(u)}})})}};function fB(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in lg))return n(new Error(`platform ${e} is unsupported`));let i=lg[e];typeof i=="string"&&(i=lg[i]),i(t).then(r,n)})}wT.exports=fB});var PT=S((ZZ,ST)=>{"use strict";var pB=yT(),bT=ET(),dg={port(t,e){return pB(t,e).then(r=>dg.pid(r,e),()=>[])},pid(t,e){return bT({pid:t,strict:e})},name(t,e){return bT({name:t,strict:e})}};function hB(t,e,r){return new Promise((n,i)=>{t in dg?dg[t](e,r).then(n,i):i(new Error(`do not support find by "${t}"`))})}ST.exports=hB});var IT=S((eee,TT)=>{"use strict";TT.exports=PT()});var gc=S((Rte,ix)=>{var O3="2.0.0",N3=256,L3=Number.MAX_SAFE_INTEGER||9007199254740991,F3=16;ix.exports={SEMVER_SPEC_VERSION:O3,MAX_LENGTH:N3,MAX_SAFE_INTEGER:L3,MAX_SAFE_COMPONENT_LENGTH:F3}});var vc=S((kte,ox)=>{var M3=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ox.exports=M3});var So=S((xi,sx)=>{var{MAX_SAFE_COMPONENT_LENGTH:Yg}=gc(),q3=vc();xi=sx.exports={};var j3=xi.re=[],oe=xi.src=[],se=xi.t={},$3=0,he=(t,e,r)=>{let n=$3++;q3(n,e),se[t]=n,oe[n]=e,j3[n]=new RegExp(e,r?"g":void 0)};he("NUMERICIDENTIFIER","0|[1-9]\\d*");he("NUMERICIDENTIFIERLOOSE","[0-9]+");he("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");he("MAINVERSION",`(${oe[se.NUMERICIDENTIFIER]})\\.(${oe[se.NUMERICIDENTIFIER]})\\.(${oe[se.NUMERICIDENTIFIER]})`);he("MAINVERSIONLOOSE",`(${oe[se.NUMERICIDENTIFIERLOOSE]})\\.(${oe[se.NUMERICIDENTIFIERLOOSE]})\\.(${oe[se.NUMERICIDENTIFIERLOOSE]})`);he("PRERELEASEIDENTIFIER",`(?:${oe[se.NUMERICIDENTIFIER]}|${oe[se.NONNUMERICIDENTIFIER]})`);he("PRERELEASEIDENTIFIERLOOSE",`(?:${oe[se.NUMERICIDENTIFIERLOOSE]}|${oe[se.NONNUMERICIDENTIFIER]})`);he("PRERELEASE",`(?:-(${oe[se.PRERELEASEIDENTIFIER]}(?:\\.${oe[se.PRERELEASEIDENTIFIER]})*))`);he("PRERELEASELOOSE",`(?:-?(${oe[se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${oe[se.PRERELEASEIDENTIFIERLOOSE]})*))`);he("BUILDIDENTIFIER","[0-9A-Za-z-]+");he("BUILD",`(?:\\+(${oe[se.BUILDIDENTIFIER]}(?:\\.${oe[se.BUILDIDENTIFIER]})*))`);he("FULLPLAIN",`v?${oe[se.MAINVERSION]}${oe[se.PRERELEASE]}?${oe[se.BUILD]}?`);he("FULL",`^${oe[se.FULLPLAIN]}$`);he("LOOSEPLAIN",`[v=\\s]*${oe[se.MAINVERSIONLOOSE]}${oe[se.PRERELEASELOOSE]}?${oe[se.BUILD]}?`);he("LOOSE",`^${oe[se.LOOSEPLAIN]}$`);he("GTLT","((?:<|>)?=?)");he("XRANGEIDENTIFIERLOOSE",`${oe[se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);he("XRANGEIDENTIFIER",`${oe[se.NUMERICIDENTIFIER]}|x|X|\\*`);he("XRANGEPLAIN",`[v=\\s]*(${oe[se.XRANGEIDENTIFIER]})(?:\\.(${oe[se.XRANGEIDENTIFIER]})(?:\\.(${oe[se.XRANGEIDENTIFIER]})(?:${oe[se.PRERELEASE]})?${oe[se.BUILD]}?)?)?`);he("XRANGEPLAINLOOSE",`[v=\\s]*(${oe[se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${oe[se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${oe[se.XRANGEIDENTIFIERLOOSE]})(?:${oe[se.PRERELEASELOOSE]})?${oe[se.BUILD]}?)?)?`);he("XRANGE",`^${oe[se.GTLT]}\\s*${oe[se.XRANGEPLAIN]}$`);he("XRANGELOOSE",`^${oe[se.GTLT]}\\s*${oe[se.XRANGEPLAINLOOSE]}$`);he("COERCE",`(^|[^\\d])(\\d{1,${Yg}})(?:\\.(\\d{1,${Yg}}))?(?:\\.(\\d{1,${Yg}}))?(?:$|[^\\d])`);he("COERCERTL",oe[se.COERCE],!0);he("LONETILDE","(?:~>?)");he("TILDETRIM",`(\\s*)${oe[se.LONETILDE]}\\s+`,!0);xi.tildeTrimReplace="$1~";he("TILDE",`^${oe[se.LONETILDE]}${oe[se.XRANGEPLAIN]}$`);he("TILDELOOSE",`^${oe[se.LONETILDE]}${oe[se.XRANGEPLAINLOOSE]}$`);he("LONECARET","(?:\\^)");he("CARETTRIM",`(\\s*)${oe[se.LONECARET]}\\s+`,!0);xi.caretTrimReplace="$1^";he("CARET",`^${oe[se.LONECARET]}${oe[se.XRANGEPLAIN]}$`);he("CARETLOOSE",`^${oe[se.LONECARET]}${oe[se.XRANGEPLAINLOOSE]}$`);he("COMPARATORLOOSE",`^${oe[se.GTLT]}\\s*(${oe[se.LOOSEPLAIN]})$|^$`);he("COMPARATOR",`^${oe[se.GTLT]}\\s*(${oe[se.FULLPLAIN]})$|^$`);he("COMPARATORTRIM",`(\\s*)${oe[se.GTLT]}\\s*(${oe[se.LOOSEPLAIN]}|${oe[se.XRANGEPLAIN]})`,!0);xi.comparatorTrimReplace="$1$2$3";he("HYPHENRANGE",`^\\s*(${oe[se.XRANGEPLAIN]})\\s+-\\s+(${oe[se.XRANGEPLAIN]})\\s*$`);he("HYPHENRANGELOOSE",`^\\s*(${oe[se.XRANGEPLAINLOOSE]})\\s+-\\s+(${oe[se.XRANGEPLAINLOOSE]})\\s*$`);he("STAR","(<|>)?=?\\s*\\*");he("GTE0","^\\s*>=\\s*0.0.0\\s*$");he("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var yc=S((Dte,ax)=>{var U3=["includePrerelease","loose","rtl"],H3=t=>t?typeof t!="object"?{loose:!0}:U3.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};ax.exports=H3});var kd=S((Ote,lx)=>{var cx=/^[0-9]+$/,ux=(t,e)=>{let r=cx.test(t),n=cx.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},B3=(t,e)=>ux(e,t);lx.exports={compareIdentifiers:ux,rcompareIdentifiers:B3}});var Lt=S((Nte,hx)=>{var Dd=vc(),{MAX_LENGTH:dx,MAX_SAFE_INTEGER:Od}=gc(),{re:fx,t:px}=So(),V3=yc(),{compareIdentifiers:_c}=kd(),Rr=class{constructor(e,r){if(r=V3(r),e instanceof Rr){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>dx)throw new TypeError(`version is longer than ${dx} characters`);Dd("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?fx[px.LOOSE]:fx[px.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Od||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Od||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Od||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Od)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Dd("SemVer.compare",this.version,this.options,e),!(e instanceof Rr)){if(typeof e=="string"&&e===this.version)return 0;e=new Rr(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Rr||(e=new Rr(e,this.options)),_c(this.major,e.major)||_c(this.minor,e.minor)||_c(this.patch,e.patch)}comparePre(e){if(e instanceof Rr||(e=new Rr(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Dd("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return _c(n,i)}while(++r)}compareBuild(e){e instanceof Rr||(e=new Rr(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Dd("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return _c(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};hx.exports=Rr});var Po=S((Lte,yx)=>{var{MAX_LENGTH:G3}=gc(),{re:mx,t:gx}=So(),vx=Lt(),W3=yc(),z3=(t,e)=>{if(e=W3(e),t instanceof vx)return t;if(typeof t!="string"||t.length>G3||!(e.loose?mx[gx.LOOSE]:mx[gx.FULL]).test(t))return null;try{return new vx(t,e)}catch(n){return null}};yx.exports=z3});var Cx=S((Fte,_x)=>{var K3=Po(),Y3=(t,e)=>{let r=K3(t,e);return r?r.version:null};_x.exports=Y3});var Ex=S((Mte,wx)=>{var X3=Po(),Q3=(t,e)=>{let r=X3(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};wx.exports=Q3});var Sx=S((qte,bx)=>{var J3=Lt(),Z3=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new J3(t,r).inc(e,n).version}catch(i){return null}};bx.exports=Z3});var kr=S((jte,Tx)=>{var Px=Lt(),eG=(t,e,r)=>new Px(t,r).compare(new Px(e,r));Tx.exports=eG});var Nd=S(($te,Ix)=>{var tG=kr(),rG=(t,e,r)=>tG(t,e,r)===0;Ix.exports=rG});var Rx=S((Ute,Ax)=>{var xx=Po(),nG=Nd(),iG=(t,e)=>{if(nG(t,e))return null;{let r=xx(t),n=xx(e),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return o+a;return s}};Ax.exports=iG});var Dx=S((Hte,kx)=>{var oG=Lt(),sG=(t,e)=>new oG(t,e).major;kx.exports=sG});var Nx=S((Bte,Ox)=>{var aG=Lt(),cG=(t,e)=>new aG(t,e).minor;Ox.exports=cG});var Fx=S((Vte,Lx)=>{var uG=Lt(),lG=(t,e)=>new uG(t,e).patch;Lx.exports=lG});var qx=S((Gte,Mx)=>{var dG=Po(),fG=(t,e)=>{let r=dG(t,e);return r&&r.prerelease.length?r.prerelease:null};Mx.exports=fG});var $x=S((Wte,jx)=>{var pG=kr(),hG=(t,e,r)=>pG(e,t,r);jx.exports=hG});var Hx=S((zte,Ux)=>{var mG=kr(),gG=(t,e)=>mG(t,e,!0);Ux.exports=gG});var Ld=S((Kte,Vx)=>{var Bx=Lt(),vG=(t,e,r)=>{let n=new Bx(t,r),i=new Bx(e,r);return n.compare(i)||n.compareBuild(i)};Vx.exports=vG});var Wx=S((Yte,Gx)=>{var yG=Ld(),_G=(t,e)=>t.sort((r,n)=>yG(r,n,e));Gx.exports=_G});var Kx=S((Xte,zx)=>{var CG=Ld(),wG=(t,e)=>t.sort((r,n)=>CG(n,r,e));zx.exports=wG});var Cc=S((Qte,Yx)=>{var EG=kr(),bG=(t,e,r)=>EG(t,e,r)>0;Yx.exports=bG});var Fd=S((Jte,Xx)=>{var SG=kr(),PG=(t,e,r)=>SG(t,e,r)<0;Xx.exports=PG});var Xg=S((Zte,Qx)=>{var TG=kr(),IG=(t,e,r)=>TG(t,e,r)!==0;Qx.exports=IG});var Md=S((ere,Jx)=>{var xG=kr(),AG=(t,e,r)=>xG(t,e,r)>=0;Jx.exports=AG});var qd=S((tre,Zx)=>{var RG=kr(),kG=(t,e,r)=>RG(t,e,r)<=0;Zx.exports=kG});var Qg=S((rre,eA)=>{var DG=Nd(),OG=Xg(),NG=Cc(),LG=Md(),FG=Fd(),MG=qd(),qG=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return DG(t,r,n);case"!=":return OG(t,r,n);case">":return NG(t,r,n);case">=":return LG(t,r,n);case"<":return FG(t,r,n);case"<=":return MG(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};eA.exports=qG});var rA=S((nre,tA)=>{var jG=Lt(),$G=Po(),{re:jd,t:$d}=So(),UG=(t,e)=>{if(t instanceof jG)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(jd[$d.COERCE]);else{let n;for(;(n=jd[$d.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),jd[$d.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;jd[$d.COERCERTL].lastIndex=-1}return r===null?null:$G(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};tA.exports=UG});var uA=S((ire,cA)=>{"use strict";var HG=Sa(),To=Symbol("max"),Un=Symbol("length"),Ms=Symbol("lengthCalculator"),wc=Symbol("allowStale"),Io=Symbol("maxAge"),Hn=Symbol("dispose"),nA=Symbol("noDisposeOnSet"),wt=Symbol("lruList"),Xr=Symbol("cache"),iA=Symbol("updateAgeOnGet"),Jg=()=>1,oA=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[To]=e.max||Infinity,n=e.length||Jg;if(this[Ms]=typeof n!="function"?Jg:n,this[wc]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Io]=e.maxAge||0,this[Hn]=e.dispose,this[nA]=e.noDisposeOnSet||!1,this[iA]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[To]=e||Infinity,Ec(this)}get max(){return this[To]}set allowStale(e){this[wc]=!!e}get allowStale(){return this[wc]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Io]=e,Ec(this)}get maxAge(){return this[Io]}set lengthCalculator(e){typeof e!="function"&&(e=Jg),e!==this[Ms]&&(this[Ms]=e,this[Un]=0,this[wt].forEach(r=>{r.length=this[Ms](r.value,r.key),this[Un]+=r.length})),Ec(this)}get lengthCalculator(){return this[Ms]}get length(){return this[Un]}get itemCount(){return this[wt].length}rforEach(e,r){r=r||this;for(let n=this[wt].tail;n!==null;){let i=n.prev;aA(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[wt].head;n!==null;){let i=n.next;aA(this,e,n,r),n=i}}keys(){return this[wt].toArray().map(e=>e.key)}values(){return this[wt].toArray().map(e=>e.value)}reset(){this[Hn]&&this[wt]&&this[wt].length&&this[wt].forEach(e=>this[Hn](e.key,e.value)),this[Xr]=new Map,this[wt]=new HG,this[Un]=0}dump(){return this[wt].map(e=>Ud(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[wt]}set(e,r,n){if(n=n||this[Io],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[Ms](r,e);if(this[Xr].has(e)){if(o>this[To])return qs(this,this[Xr].get(e)),!1;let c=this[Xr].get(e).value;return this[Hn]&&(this[nA]||this[Hn](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Un]+=o-c.length,c.length=o,this.get(e),Ec(this),!0}let s=new sA(e,r,o,i,n);return s.length>this[To]?(this[Hn]&&this[Hn](e,r),!1):(this[Un]+=s.length,this[wt].unshift(s),this[Xr].set(e,this[wt].head),Ec(this),!0)}has(e){if(!this[Xr].has(e))return!1;let r=this[Xr].get(e).value;return!Ud(this,r)}get(e){return Zg(this,e,!0)}peek(e){return Zg(this,e,!1)}pop(){let e=this[wt].tail;return e?(qs(this,e),e.value):null}del(e){qs(this,this[Xr].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Xr].forEach((e,r)=>Zg(this,r,!1))}},Zg=(t,e,r)=>{let n=t[Xr].get(e);if(n){let i=n.value;if(Ud(t,i)){if(qs(t,n),!t[wc])return}else r&&(t[iA]&&(n.value.now=Date.now()),t[wt].unshiftNode(n));return i.value}},Ud=(t,e)=>{if(!e||!e.maxAge&&!t[Io])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Io]&&r>t[Io]},Ec=t=>{if(t[Un]>t[To])for(let e=t[wt].tail;t[Un]>t[To]&&e!==null;){let r=e.prev;qs(t,e),e=r}},qs=(t,e)=>{if(e){let r=e.value;t[Hn]&&t[Hn](r.key,r.value),t[Un]-=r.length,t[Xr].delete(r.key),t[wt].removeNode(e)}},sA=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},aA=(t,e,r,n)=>{let i=r.value;Ud(t,i)&&(qs(t,r),t[wc]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};cA.exports=oA});var Dr=S((ore,pA)=>{var js=class{constructor(e,r){if(r=VG(r),e instanceof js)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new js(e.raw,r);if(e instanceof ev)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!dA(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&YG(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=lA.get(n);if(i)return i;let o=this.options.loose,s=o?Ft[Tt.HYPHENRANGELOOSE]:Ft[Tt.HYPHENRANGE];e=e.replace(s,oW(this.options.includePrerelease)),rt("hyphen replace",e),e=e.replace(Ft[Tt.COMPARATORTRIM],WG),rt("comparator trim",e,Ft[Tt.COMPARATORTRIM]),e=e.replace(Ft[Tt.TILDETRIM],zG),e=e.replace(Ft[Tt.CARETTRIM],KG),e=e.split(/\s+/).join(" ");let a=o?Ft[Tt.COMPARATORLOOSE]:Ft[Tt.COMPARATOR],c=e.split(" ").map(f=>XG(f,this.options)).join(" ").split(/\s+/).map(f=>iW(f,this.options)).filter(this.options.loose?f=>!!f.match(a):()=>!0).map(f=>new ev(f,this.options)),u=c.length,l=new Map;for(let f of c){if(dA(f))return[f];l.set(f.value,f)}l.size>1&&l.has("")&&l.delete("");let d=[...l.values()];return lA.set(n,d),d}intersects(e,r){if(!(e instanceof js))throw new TypeError("a Range is required");return this.set.some(n=>fA(n,r)&&e.set.some(i=>fA(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new GG(e,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(sW(this.set[r],e,this.options))return!0;return!1}};pA.exports=js;var BG=uA(),lA=new BG({max:1e3}),VG=yc(),ev=bc(),rt=vc(),GG=Lt(),{re:Ft,t:Tt,comparatorTrimReplace:WG,tildeTrimReplace:zG,caretTrimReplace:KG}=So(),dA=t=>t.value==="<0.0.0-0",YG=t=>t.value==="",fA=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},XG=(t,e)=>(rt("comp",t,e),t=ZG(t,e),rt("caret",t),t=QG(t,e),rt("tildes",t),t=tW(t,e),rt("xrange",t),t=nW(t,e),rt("stars",t),t),Gt=t=>!t||t.toLowerCase()==="x"||t==="*",QG=(t,e)=>t.trim().split(/\s+/).map(r=>JG(r,e)).join(" "),JG=(t,e)=>{let r=e.loose?Ft[Tt.TILDELOOSE]:Ft[Tt.TILDE];return t.replace(r,(n,i,o,s,a)=>{rt("tilde",t,n,i,o,s,a);let c;return Gt(i)?c="":Gt(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Gt(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(rt("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,rt("tilde return",c),c})},ZG=(t,e)=>t.trim().split(/\s+/).map(r=>eW(r,e)).join(" "),eW=(t,e)=>{rt("caret",t,e);let r=e.loose?Ft[Tt.CARETLOOSE]:Ft[Tt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,c)=>{rt("caret",t,i,o,s,a,c);let u;return Gt(o)?u="":Gt(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Gt(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(rt("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(rt("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),rt("caret return",u),u})},tW=(t,e)=>(rt("replaceXRanges",t,e),t.split(/\s+/).map(r=>rW(r,e)).join(" ")),rW=(t,e)=>{t=t.trim();let r=e.loose?Ft[Tt.XRANGELOOSE]:Ft[Tt.XRANGE];return t.replace(r,(n,i,o,s,a,c)=>{rt("xRange",t,n,i,o,s,a,c);let u=Gt(o),l=u||Gt(s),d=l||Gt(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),rt("xRange return",n),n})},nW=(t,e)=>(rt("replaceStars",t,e),t.trim().replace(Ft[Tt.STAR],"")),iW=(t,e)=>(rt("replaceGTE0",t,e),t.trim().replace(Ft[e.includePrerelease?Tt.GTE0PRE:Tt.GTE0],"")),oW=t=>(e,r,n,i,o,s,a,c,u,l,d,f,p)=>(Gt(n)?r="":Gt(i)?r=`>=${n}.0.0${t?"-0":""}`:Gt(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Gt(u)?c="":Gt(l)?c=`<${+u+1}.0.0-0`:Gt(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:t?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),sW=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(rt(t[n].semver),t[n].semver!==ev.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var bc=S((sre,yA)=>{var Sc=Symbol("SemVer ANY"),Pc=class{static get ANY(){return Sc}constructor(e,r){if(r=aW(r),e instanceof Pc){if(e.loose===!!r.loose)return e;e=e.value}rv("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Sc?this.value="":this.value=this.operator+this.semver.version,rv("comp",this)}parse(e){let r=this.options.loose?hA[mA.COMPARATORLOOSE]:hA[mA.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new gA(n[2],this.options.loose):this.semver=Sc}toString(){return this.value}test(e){if(rv("Comparator.test",e,this.options.loose),this.semver===Sc||e===Sc)return!0;if(typeof e=="string")try{e=new gA(e,this.options)}catch(r){return!1}return tv(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Pc))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new vA(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new vA(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=tv(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=tv(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||o&&s||a||c}};yA.exports=Pc;var aW=yc(),{re:hA,t:mA}=So(),tv=Qg(),rv=vc(),gA=Lt(),vA=Dr()});var Tc=S((are,_A)=>{var cW=Dr(),uW=(t,e,r)=>{try{e=new cW(e,r)}catch(n){return!1}return e.test(t)};_A.exports=uW});var wA=S((cre,CA)=>{var lW=Dr(),dW=(t,e)=>new lW(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));CA.exports=dW});var bA=S((ure,EA)=>{var fW=Lt(),pW=Dr(),hW=(t,e,r)=>{let n=null,i=null,o=null;try{o=new pW(e,r)}catch(s){return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new fW(n,r))}),n};EA.exports=hW});var PA=S((lre,SA)=>{var mW=Lt(),gW=Dr(),vW=(t,e,r)=>{let n=null,i=null,o=null;try{o=new gW(e,r)}catch(s){return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new mW(n,r))}),n};SA.exports=vW});var xA=S((dre,IA)=>{var nv=Lt(),yW=Dr(),TA=Cc(),_W=(t,e)=>{t=new yW(t,e);let r=new nv("0.0.0");if(t.test(r)||(r=new nv("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new nv(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||TA(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||TA(r,o))&&(r=o)}return r&&t.test(r)?r:null};IA.exports=_W});var RA=S((fre,AA)=>{var CW=Dr(),wW=(t,e)=>{try{return new CW(t,e).range||"*"}catch(r){return null}};AA.exports=wW});var Hd=S((pre,NA)=>{var EW=Lt(),kA=bc(),{ANY:bW}=kA,SW=Dr(),PW=Tc(),DA=Cc(),OA=Fd(),TW=qd(),IW=Md(),xW=(t,e,r,n)=>{t=new EW(t,n),e=new SW(e,n);let i,o,s,a,c;switch(r){case">":i=DA,o=TW,s=OA,a=">",c=">=";break;case"<":i=OA,o=IW,s=DA,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(PW(t,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(p=>{p.semver===bW&&(p=new kA(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0};NA.exports=xW});var FA=S((hre,LA)=>{var AW=Hd(),RW=(t,e,r)=>AW(t,e,">",r);LA.exports=RW});var qA=S((mre,MA)=>{var kW=Hd(),DW=(t,e,r)=>kW(t,e,"<",r);MA.exports=DW});var UA=S((gre,$A)=>{var jA=Dr(),OW=(t,e,r)=>(t=new jA(t,r),e=new jA(e,r),t.intersects(e));$A.exports=OW});var BA=S((vre,HA)=>{var NW=Tc(),LW=kr();HA.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((l,d)=>LW(l,d,r));for(let l of s)NW(l,e,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var KA=S((yre,zA)=>{var VA=Dr(),Bd=bc(),{ANY:iv}=Bd,Ic=Tc(),ov=kr(),FW=(t,e,r={})=>{if(t===e)return!0;t=new VA(t,r),e=new VA(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=MW(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},MW=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===iv){if(e.length===1&&e[0].semver===iv)return!0;r.includePrerelease?t=[new Bd(">=0.0.0-0")]:t=[new Bd(">=0.0.0")]}if(e.length===1&&e[0].semver===iv){if(r.includePrerelease)return!0;e=[new Bd(">=0.0.0")]}let n=new Set,i,o;for(let p of t)p.operator===">"||p.operator===">="?i=GA(i,p,r):p.operator==="<"||p.operator==="<="?o=WA(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=ov(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!Ic(p,String(i),r)||o&&!Ic(p,String(o),r))return null;for(let h of e)if(!Ic(p,String(h),r))return!1;return!0}let a,c,u,l,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(l=l||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=GA(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!Ic(i.semver,String(p),r))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=WA(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!Ic(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},GA=(t,e,r)=>{if(!t)return e;let n=ov(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},WA=(t,e,r)=>{if(!t)return e;let n=ov(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};zA.exports=FW});var XA=S((_re,YA)=>{var sv=So();YA.exports={re:sv.re,src:sv.src,tokens:sv.t,SEMVER_SPEC_VERSION:gc().SEMVER_SPEC_VERSION,SemVer:Lt(),compareIdentifiers:kd().compareIdentifiers,rcompareIdentifiers:kd().rcompareIdentifiers,parse:Po(),valid:Cx(),clean:Ex(),inc:Sx(),diff:Rx(),major:Dx(),minor:Nx(),patch:Fx(),prerelease:qx(),compare:kr(),rcompare:$x(),compareLoose:Hx(),compareBuild:Ld(),sort:Wx(),rsort:Kx(),gt:Cc(),lt:Fd(),eq:Nd(),neq:Xg(),gte:Md(),lte:qd(),cmp:Qg(),coerce:rA(),Comparator:bc(),Range:Dr(),satisfies:Tc(),toComparators:wA(),maxSatisfying:bA(),minSatisfying:PA(),minVersion:xA(),validRange:RA(),outside:Hd(),gtr:FA(),ltr:qA(),intersects:UA(),simplifyRange:BA(),subset:KA()}});var Ok=S(Dk=>{var bz=Object.create,Fc=Object.defineProperty,Sz=Object.getOwnPropertyDescriptor,Pz=Object.getOwnPropertyNames,UR=Object.getOwnPropertySymbols,Tz=Object.getPrototypeOf,HR=Object.prototype.hasOwnProperty,Iz=Object.prototype.propertyIsEnumerable,BR=(t,e,r)=>e in t?Fc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ys=(t,e)=>{for(var r in e||(e={}))HR.call(e,r)&&BR(t,r,e[r]);if(UR)for(var r of UR(e))Iz.call(e,r)&&BR(t,r,e[r]);return t},VR=t=>Fc(t,"__esModule",{value:!0}),A=(t,e)=>function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports},xz=(t,e)=>{VR(t);for(var r in e)Fc(t,r,{get:e[r],enumerable:!0})},Az=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Pz(e))!HR.call(t,n)&&n!=="default"&&Fc(t,n,{get:()=>e[n],enumerable:!(r=Sz(e,n))||r.enumerable});return t},gf=t=>Az(VR(Fc(t!=null?bz(Tz(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),It=A({"node_modules/applicationinsights/out/Library/Logging.js"(t,e){"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();e.exports=r}}),GR=A({"node_modules/applicationinsights/out/AutoCollection/AsyncHooksScopeManager.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScopeManager=t.OpenTelemetryScopeManagerWrapper=void 0;var r=Qs(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return e(e({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,u=s.name,l=o._spanToContext(s,c,u);return r.CorrelationContextManager.runWithContext(l,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var u=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,l=e(e({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),d=r.CorrelationContextManager.spanToContextObject(l,u,c);return d},o}();t.OpenTelemetryScopeManagerWrapper=i,t.AsyncScopeManager=new i}}),Lv=A({"node_modules/semver/semver.js"(t,e){t=e.exports=_e;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var T=Array.prototype.slice.call(arguments,0);T.unshift("SEMVER"),console.log.apply(console,T)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var p=c++;a[p]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var h=c++;a[h]="(?:"+a[u]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[l]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var _=c++,E="v?"+a[f]+a[g]+"?"+a[C]+"?";a[_]="^"+E+"$";var w="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",b=c++;a[b]="^"+w+"$";var x=c++;a[x]="((?:<|>)?=?)";var R=c++;a[R]=a[l]+"|x|X|\\*";var k=c++;a[k]=a[u]+"|x|X|\\*";var q=c++;a[q]="[v=\\s]*("+a[k]+")(?:\\.("+a[k]+")(?:\\.("+a[k]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[R]+")(?:\\.("+a[R]+")(?:\\.("+a[R]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Z=c++;a[Z]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="^"+a[x]+"\\s*"+a[H]+"$";var V=c++;a[V]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var $=c++;a[$]="(?:~>?)";var P=c++;a[P]="(\\s*)"+a[$]+"\\s+",s[P]=new RegExp(a[P],"g");var N="$1~",F=c++;a[F]="^"+a[$]+a[q]+"$";var W=c++;a[W]="^"+a[$]+a[H]+"$";var z=c++;a[z]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[z]+"\\s+",s[X]=new RegExp(a[X],"g");var K="$1^",ye=c++;a[ye]="^"+a[z]+a[q]+"$";var Ne=c++;a[Ne]="^"+a[z]+a[H]+"$";var ke=c++;a[ke]="^"+a[x]+"\\s*("+w+")$|^$";var We=c++;a[We]="^"+a[x]+"\\s*("+E+")$|^$";var Ue=c++;a[Ue]="(\\s*)"+a[x]+"\\s*("+w+"|"+a[q]+")",s[Ue]=new RegExp(a[Ue],"g");var vt="$1$2$3",Et=c++;a[Et]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var de=c++;a[de]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var ue=c++;for(a[ue]="(<|>)?=?\\s*\\*",De=0;De<c;De++)r(De,a[De]),s[De]||(s[De]=new RegExp(a[De]));var De;t.parse=bt;function bt(T,D){if((!D||typeof D!="object")&&(D={loose:!!D,includePrerelease:!1}),T instanceof _e)return T;if(typeof T!="string"||T.length>n)return null;var M=D.loose?s[b]:s[_];if(!M.test(T))return null;try{return new _e(T,D)}catch(Y){return null}}t.valid=Sp;function Sp(T,D){var M=bt(T,D);return M?M.version:null}t.clean=Pp;function Pp(T,D){var M=bt(T.trim().replace(/^[=v]+/,""),D);return M?M.version:null}t.SemVer=_e;function _e(T,D){if((!D||typeof D!="object")&&(D={loose:!!D,includePrerelease:!1}),T instanceof _e){if(T.loose===D.loose)return T;T=T.version}else if(typeof T!="string")throw new TypeError("Invalid Version: "+T);if(T.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof _e))return new _e(T,D);r("SemVer",T,D),this.options=D,this.loose=!!D.loose;var M=T.trim().match(D.loose?s[b]:s[_]);if(!M)throw new TypeError("Invalid Version: "+T);if(this.raw=T,this.major=+M[1],this.minor=+M[2],this.patch=+M[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");M[4]?this.prerelease=M[4].split(".").map(function(Y){if(/^[0-9]+$/.test(Y)){var Q=+Y;if(Q>=0&&Q<i)return Q}return Y}):this.prerelease=[],this.build=M[5]?M[5].split("."):[],this.format()}_e.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},_e.prototype.toString=function(){return this.version},_e.prototype.compare=function(T){return r("SemVer.compare",this.version,this.options,T),T instanceof _e||(T=new _e(T,this.options)),this.compareMain(T)||this.comparePre(T)},_e.prototype.compareMain=function(T){return T instanceof _e||(T=new _e(T,this.options)),an(this.major,T.major)||an(this.minor,T.minor)||an(this.patch,T.patch)},_e.prototype.comparePre=function(T){if(T instanceof _e||(T=new _e(T,this.options)),this.prerelease.length&&!T.prerelease.length)return-1;if(!this.prerelease.length&&T.prerelease.length)return 1;if(!this.prerelease.length&&!T.prerelease.length)return 0;var D=0;do{var M=this.prerelease[D],Y=T.prerelease[D];if(r("prerelease compare",D,M,Y),M===void 0&&Y===void 0)return 0;if(Y===void 0)return 1;if(M===void 0)return-1;if(M===Y)continue;return an(M,Y)}while(++D)},_e.prototype.inc=function(T,D){switch(T){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",D);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",D);break;case"prepatch":this.prerelease.length=0,this.inc("patch",D),this.inc("pre",D);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",D),this.inc("pre",D);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var M=this.prerelease.length;--M>=0;)typeof this.prerelease[M]=="number"&&(this.prerelease[M]++,M=-2);M===-1&&this.prerelease.push(0)}D&&(this.prerelease[0]===D?isNaN(this.prerelease[1])&&(this.prerelease=[D,0]):this.prerelease=[D,0]);break;default:throw new Error("invalid increment argument: "+T)}return this.format(),this.raw=this.version,this},t.inc=Tp;function Tp(T,D,M,Y){typeof M=="string"&&(Y=M,M=void 0);try{return new _e(T,M).inc(D,Y).version}catch(Q){return null}}t.diff=Ip;function Ip(T,D){if(Bo(T,D))return null;var M=bt(T),Y=bt(D),Q="";if(M.prerelease.length||Y.prerelease.length){Q="pre";var te="prerelease"}for(var ae in M)if((ae==="major"||ae==="minor"||ae==="patch")&&M[ae]!==Y[ae])return Q+ae;return te}t.compareIdentifiers=an;var Gi=/^[0-9]+$/;function an(T,D){var M=Gi.test(T),Y=Gi.test(D);return M&&Y&&(T=+T,D=+D),T===D?0:M&&!Y?-1:Y&&!M?1:T<D?-1:1}t.rcompareIdentifiers=Uo;function Uo(T,D){return an(D,T)}t.major=jr;function jr(T,D){return new _e(T,D).major}t.minor=hu;function hu(T,D){return new _e(T,D).minor}t.patch=mu;function mu(T,D){return new _e(T,D).patch}t.compare=$r;function $r(T,D,M){return new _e(T,M).compare(new _e(D,M))}t.compareLoose=xp;function xp(T,D){return $r(T,D,!0)}t.rcompare=Ho;function Ho(T,D,M){return $r(D,T,M)}t.sort=gu;function gu(T,D){return T.sort(function(M,Y){return t.compare(M,Y,D)})}t.rsort=vu;function vu(T,D){return T.sort(function(M,Y){return t.rcompare(M,Y,D)})}t.gt=Yn;function Yn(T,D,M){return $r(T,D,M)>0}t.lt=Wi;function Wi(T,D,M){return $r(T,D,M)<0}t.eq=Bo;function Bo(T,D,M){return $r(T,D,M)===0}t.neq=yu;function yu(T,D,M){return $r(T,D,M)!==0}t.gte=ga;function ga(T,D,M){return $r(T,D,M)>=0}t.lte=Ur;function Ur(T,D,M){return $r(T,D,M)<=0}t.cmp=Pn;function Pn(T,D,M,Y){switch(D){case"===":return typeof T=="object"&&(T=T.version),typeof M=="object"&&(M=M.version),T===M;case"!==":return typeof T=="object"&&(T=T.version),typeof M=="object"&&(M=M.version),T!==M;case"":case"=":case"==":return Bo(T,M,Y);case"!=":return yu(T,M,Y);case">":return Yn(T,M,Y);case">=":return ga(T,M,Y);case"<":return Wi(T,M,Y);case"<=":return Ur(T,M,Y);default:throw new TypeError("Invalid operator: "+D)}}t.Comparator=Kt;function Kt(T,D){if((!D||typeof D!="object")&&(D={loose:!!D,includePrerelease:!1}),T instanceof Kt){if(T.loose===!!D.loose)return T;T=T.value}if(!(this instanceof Kt))return new Kt(T,D);r("comparator",T,D),this.options=D,this.loose=!!D.loose,this.parse(T),this.semver===Xn?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var Xn={};Kt.prototype.parse=function(T){var D=this.options.loose?s[ke]:s[We],M=T.match(D);if(!M)throw new TypeError("Invalid comparator: "+T);this.operator=M[1],this.operator==="="&&(this.operator=""),M[2]?this.semver=new _e(M[2],this.options.loose):this.semver=Xn},Kt.prototype.toString=function(){return this.value},Kt.prototype.test=function(T){return r("Comparator.test",T,this.options.loose),this.semver===Xn?!0:(typeof T=="string"&&(T=new _e(T,this.options)),Pn(T,this.operator,this.semver,this.options))},Kt.prototype.intersects=function(T,D){if(!(T instanceof Kt))throw new TypeError("a Comparator is required");(!D||typeof D!="object")&&(D={loose:!!D,includePrerelease:!1});var M;if(this.operator==="")return M=new He(T.value,D),Vo(this.value,M,D);if(T.operator==="")return M=new He(this.value,D),Vo(T.semver,M,D);var Y=(this.operator===">="||this.operator===">")&&(T.operator===">="||T.operator===">"),Q=(this.operator==="<="||this.operator==="<")&&(T.operator==="<="||T.operator==="<"),te=this.semver.version===T.semver.version,ae=(this.operator===">="||this.operator==="<=")&&(T.operator===">="||T.operator==="<="),me=Pn(this.semver,"<",T.semver,D)&&(this.operator===">="||this.operator===">")&&(T.operator==="<="||T.operator==="<"),ge=Pn(this.semver,">",T.semver,D)&&(this.operator==="<="||this.operator==="<")&&(T.operator===">="||T.operator===">");return Y||Q||te&&ae||me||ge},t.Range=He;function He(T,D){if((!D||typeof D!="object")&&(D={loose:!!D,includePrerelease:!1}),T instanceof He)return T.loose===!!D.loose&&T.includePrerelease===!!D.includePrerelease?T:new He(T.raw,D);if(T instanceof Kt)return new He(T.value,D);if(!(this instanceof He))return new He(T,D);if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=T,this.set=T.split(/\s*\|\|\s*/).map(function(M){return this.parseRange(M.trim())},this).filter(function(M){return M.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+T);this.format()}He.prototype.format=function(){return this.range=this.set.map(function(T){return T.join(" ").trim()}).join("||").trim(),this.range},He.prototype.toString=function(){return this.range},He.prototype.parseRange=function(T){var D=this.options.loose;T=T.trim();var M=D?s[de]:s[Et];T=T.replace(M,Np),r("hyphen replace",T),T=T.replace(s[Ue],vt),r("comparator trim",T,s[Ue]),T=T.replace(s[P],N),T=T.replace(s[X],K),T=T.split(/\s+/).join(" ");var Y=D?s[ke]:s[We],Q=T.split(" ").map(function(te){return zi(te,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(Q=Q.filter(function(te){return!!te.match(Y)})),Q=Q.map(function(te){return new Kt(te,this.options)},this),Q},He.prototype.intersects=function(T,D){if(!(T instanceof He))throw new TypeError("a Range is required");return this.set.some(function(M){return M.every(function(Y){return T.set.some(function(Q){return Q.every(function(te){return Y.intersects(te,D)})})})})},t.toComparators=_u;function _u(T,D){return new He(T,D).set.map(function(M){return M.map(function(Y){return Y.value}).join(" ").trim().split(" ")})}function zi(T,D){return r("comp",T,D),T=Rp(T,D),r("caret",T),T=Tn(T,D),r("tildes",T),T=Dp(T,D),r("xrange",T),T=Hr(T,D),r("stars",T),T}function St(T){return!T||T.toLowerCase()==="x"||T==="*"}function Tn(T,D){return T.trim().split(/\s+/).map(function(M){return Ap(M,D)}).join(" ")}function Ap(T,D){var M=D.loose?s[W]:s[F];return T.replace(M,function(Y,Q,te,ae,me){r("tilde",T,Y,Q,te,ae,me);var ge;return St(Q)?ge="":St(te)?ge=">="+Q+".0.0 <"+(+Q+1)+".0.0":St(ae)?ge=">="+Q+"."+te+".0 <"+Q+"."+(+te+1)+".0":me?(r("replaceTilde pr",me),ge=">="+Q+"."+te+"."+ae+"-"+me+" <"+Q+"."+(+te+1)+".0"):ge=">="+Q+"."+te+"."+ae+" <"+Q+"."+(+te+1)+".0",r("tilde return",ge),ge})}function Rp(T,D){return T.trim().split(/\s+/).map(function(M){return kp(M,D)}).join(" ")}function kp(T,D){r("caret",T,D);var M=D.loose?s[Ne]:s[ye];return T.replace(M,function(Y,Q,te,ae,me){r("caret",T,Y,Q,te,ae,me);var ge;return St(Q)?ge="":St(te)?ge=">="+Q+".0.0 <"+(+Q+1)+".0.0":St(ae)?Q==="0"?ge=">="+Q+"."+te+".0 <"+Q+"."+(+te+1)+".0":ge=">="+Q+"."+te+".0 <"+(+Q+1)+".0.0":me?(r("replaceCaret pr",me),Q==="0"?te==="0"?ge=">="+Q+"."+te+"."+ae+"-"+me+" <"+Q+"."+te+"."+(+ae+1):ge=">="+Q+"."+te+"."+ae+"-"+me+" <"+Q+"."+(+te+1)+".0":ge=">="+Q+"."+te+"."+ae+"-"+me+" <"+(+Q+1)+".0.0"):(r("no pr"),Q==="0"?te==="0"?ge=">="+Q+"."+te+"."+ae+" <"+Q+"."+te+"."+(+ae+1):ge=">="+Q+"."+te+"."+ae+" <"+Q+"."+(+te+1)+".0":ge=">="+Q+"."+te+"."+ae+" <"+(+Q+1)+".0.0"),r("caret return",ge),ge})}function Dp(T,D){return r("replaceXRanges",T,D),T.split(/\s+/).map(function(M){return Op(M,D)}).join(" ")}function Op(T,D){T=T.trim();var M=D.loose?s[ee]:s[Z];return T.replace(M,function(Y,Q,te,ae,me,ge){r("xRange",T,Y,Q,te,ae,me,ge);var gr=St(te),jt=gr||St(ae),$t=jt||St(me),Ut=$t;return Q==="="&&Ut&&(Q=""),gr?Q===">"||Q==="<"?Y="<0.0.0":Y="*":Q&&Ut?(jt&&(ae=0),me=0,Q===">"?(Q=">=",jt?(te=+te+1,ae=0,me=0):(ae=+ae+1,me=0)):Q==="<="&&(Q="<",jt?te=+te+1:ae=+ae+1),Y=Q+te+"."+ae+"."+me):jt?Y=">="+te+".0.0 <"+(+te+1)+".0.0":$t&&(Y=">="+te+"."+ae+".0 <"+te+"."+(+ae+1)+".0"),r("xRange return",Y),Y})}function Hr(T,D){return r("replaceStars",T,D),T.trim().replace(s[ue],"")}function Np(T,D,M,Y,Q,te,ae,me,ge,gr,jt,$t,Ut){return St(M)?D="":St(Y)?D=">="+M+".0.0":St(Q)?D=">="+M+"."+Y+".0":D=">="+D,St(ge)?me="":St(gr)?me="<"+(+ge+1)+".0.0":St(jt)?me="<"+ge+"."+(+gr+1)+".0":$t?me="<="+ge+"."+gr+"."+jt+"-"+$t:me="<="+me,(D+" "+me).trim()}He.prototype.test=function(T){if(!T)return!1;typeof T=="string"&&(T=new _e(T,this.options));for(var D=0;D<this.set.length;D++)if(Lp(this.set[D],T,this.options))return!0;return!1};function Lp(T,D,M){for(var Y=0;Y<T.length;Y++)if(!T[Y].test(D))return!1;if(D.prerelease.length&&!M.includePrerelease){for(Y=0;Y<T.length;Y++)if(r(T[Y].semver),T[Y].semver!==Xn&&T[Y].semver.prerelease.length>0){var Q=T[Y].semver;if(Q.major===D.major&&Q.minor===D.minor&&Q.patch===D.patch)return!0}return!1}return!0}t.satisfies=Vo;function Vo(T,D,M){try{D=new He(D,M)}catch(Y){return!1}return D.test(T)}t.maxSatisfying=Fp;function Fp(T,D,M){var Y=null,Q=null;try{var te=new He(D,M)}catch(ae){return null}return T.forEach(function(ae){te.test(ae)&&(!Y||Q.compare(ae)===-1)&&(Y=ae,Q=new _e(Y,M))}),Y}t.minSatisfying=Mp;function Mp(T,D,M){var Y=null,Q=null;try{var te=new He(D,M)}catch(ae){return null}return T.forEach(function(ae){te.test(ae)&&(!Y||Q.compare(ae)===1)&&(Y=ae,Q=new _e(Y,M))}),Y}t.minVersion=Qn;function Qn(T,D){T=new He(T,D);var M=new _e("0.0.0");if(T.test(M)||(M=new _e("0.0.0-0"),T.test(M)))return M;M=null;for(var Y=0;Y<T.set.length;++Y){var Q=T.set[Y];Q.forEach(function(te){var ae=new _e(te.semver.version);switch(te.operator){case">":ae.prerelease.length===0?ae.patch++:ae.prerelease.push(0),ae.raw=ae.format();case"":case">=":(!M||Yn(M,ae))&&(M=ae);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+te.operator)}})}return M&&T.test(M)?M:null}t.validRange=qp;function qp(T,D){try{return new He(T,D).range||"*"}catch(M){return null}}t.ltr=jp;function jp(T,D,M){return va(T,D,"<",M)}t.gtr=$p;function $p(T,D,M){return va(T,D,">",M)}t.outside=va;function va(T,D,M,Y){T=new _e(T,Y),D=new He(D,Y);var Q,te,ae,me,ge;switch(M){case">":Q=Yn,te=Ur,ae=Wi,me=">",ge=">=";break;case"<":Q=Wi,te=ga,ae=Yn,me="<",ge="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Vo(T,D,Y))return!1;for(var gr=0;gr<D.set.length;++gr){var jt=D.set[gr],$t=null,Ut=null;if(jt.forEach(function(cn){cn.semver===Xn&&(cn=new Kt(">=0.0.0")),$t=$t||cn,Ut=Ut||cn,Q(cn.semver,$t.semver,Y)?$t=cn:ae(cn.semver,Ut.semver,Y)&&(Ut=cn)}),$t.operator===me||$t.operator===ge||(!Ut.operator||Ut.operator===me)&&te(T,Ut.semver))return!1;if(Ut.operator===ge&&ae(T,Ut.semver))return!1}return!0}t.prerelease=Up;function Up(T,D){var M=bt(T,D);return M&&M.prerelease.length?M.prerelease:null}t.intersects=Jn;function Jn(T,D,M){return T=new He(T,M),D=new He(D,M),T.intersects(D)}t.coerce=Hp;function Hp(T){if(T instanceof _e)return T;if(typeof T!="string")return null;var D=T.match(s[V]);return D==null?null:bt(D[1]+"."+(D[2]||"0")+"."+(D[3]||"0"))}}}),WR=A({"node_modules/diagnostic-channel/dist/src/patchRequire.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePatchingRequire=void 0;var e=require("path"),r=Lv(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(l){var d=o.apply(this,arguments);if(a[l]){var f=n._resolveFilename(l,this);if(c.hasOwnProperty(f))return c[f];var p=void 0;if(i.indexOf(l)<0)try{p=o.call(this,e.join(l,"package.json")).version}catch(C){return d}else p=process.version.substring(1);var h=p.indexOf("-");h>=0&&(p=p.substring(0,h));for(var m=d,g=0,v=a[l];g<v.length;g++){var y=v[g];r.satisfies(p,y.versionSpecifier)&&(m=y.patch(m,f))}return c[f]=m}return d}}t.makePatchingRequire=s}}),Rz=A({"node_modules/diagnostic-channel/package.json"(t,e){e.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}}),ct=A({"node_modules/diagnostic-channel/dist/src/channel.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.makePatchingRequire=void 0;var e=WR(),r=WR();Object.defineProperty(t,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=Rz().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(u){var l=u.filter;return!l||l(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var u=this.subscribers[a];if(u){var l={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,u.forEach(function(d){var f=d.listener,p=d.filter;try{p&&p(!0)&&f(l)}catch(h){}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,u){u===void 0&&(u=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:u})},s.prototype.unsubscribe=function(a,c,u){u===void 0&&(u=n);var l=this.subscribers[a];if(l){for(var d=0;d<l.length;++d)if(l[d].listener===c&&l[d].filter===u)return l.splice(d,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(u){return a(c(u))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=e.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;t.channel=global.diagnosticsSource}}),kz=A({"node_modules/@opentelemetry/api/build/src/baggage/types.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Dz=A({"node_modules/@opentelemetry/api/build/src/baggage/internal/baggage-impl.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;var e=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(!!i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();t.BaggageImpl=e}}),Oz=A({"node_modules/@opentelemetry/api/build/src/baggage/internal/symbol.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}}),zR=A({"node_modules/@opentelemetry/api/build/src/baggage/utils.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;var e=$e(),r=Dz(),n=Oz();function i(s){return s===void 0&&(s={}),new r.BaggageImpl(new Map(Object.entries(s)))}t.createBaggage=i;function o(s){return typeof s!="string"&&(e.diag.error("Cannot create baggage metadata from unknown type: "+typeof s),s=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return s}}}t.baggageEntryMetadataFromString=o}}),Nz=A({"node_modules/@opentelemetry/api/build/src/common/Exception.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Lz=A({"node_modules/@opentelemetry/api/build/src/common/Time.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Fz=A({"node_modules/@opentelemetry/api/build/src/diag/consoleLogger.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;var e=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<e.length;o++)this[e[o].n]=i(e[o].c)}return n}();t.DiagConsoleLogger=r}}),Fv=A({"node_modules/@opentelemetry/api/build/src/diag/types.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(e=t.DiagLogLevel||(t.DiagLogLevel={}))}}),Mz=A({"node_modules/@opentelemetry/api/build/src/diag/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Fz(),t),r(Fv(),t)}}),KR=A({"node_modules/@opentelemetry/api/build/src/propagation/TextMapPropagator.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get:function(e,r){if(e!=null)return e[r]},keys:function(e){return e==null?[]:Object.keys(e)}},t.defaultTextMapSetter={set:function(e,r,n){e!=null&&(e[r]=n)}}}}),qz=A({"node_modules/@opentelemetry/api/build/src/trace/attributes.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),jz=A({"node_modules/@opentelemetry/api/build/src/trace/link.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),vf=A({"node_modules/@opentelemetry/api/build/src/context/context.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0;function e(n){return Symbol.for(n)}t.createContextKey=e;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();t.ROOT_CONTEXT=new r}}),YR=A({"node_modules/@opentelemetry/api/build/src/trace/trace_flags.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(e=t.TraceFlags||(t.TraceFlags={}))}}),yf=A({"node_modules/@opentelemetry/api/build/src/trace/spancontext-utils.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;var e=Mv(),r=YR(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:r.TraceFlags.NONE};function o(u){return n.test(u)&&u!==t.INVALID_TRACEID}t.isValidTraceId=o;function s(u){return i.test(u)&&u!==t.INVALID_SPANID}t.isValidSpanId=s;function a(u){return o(u.traceId)&&s(u.spanId)}t.isSpanContextValid=a;function c(u){return new e.NonRecordingSpan(u)}t.wrapSpanContext=c}}),Mv=A({"node_modules/@opentelemetry/api/build/src/trace/NonRecordingSpan.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;var e=yf(),r=function(){function n(i){i===void 0&&(i=e.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();t.NonRecordingSpan=r}}),XR=A({"node_modules/@opentelemetry/api/build/src/trace/context-utils.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getSpan=void 0;var e=vf(),r=Mv(),n=e.createContextKey("OpenTelemetry Context Key SPAN");function i(u){return u.getValue(n)||void 0}t.getSpan=i;function o(u,l){return u.setValue(n,l)}t.setSpan=o;function s(u){return u.deleteValue(n)}t.deleteSpan=s;function a(u,l){return o(u,new r.NonRecordingSpan(l))}t.setSpanContext=a;function c(u){var l;return(l=i(u))===null||l===void 0?void 0:l.spanContext()}t.getSpanContext=c}}),QR=A({"node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;var e=$e(),r=XR(),n=Mv(),i=yf(),o=function(){function a(){}return a.prototype.startSpan=function(c,u,l){var d=Boolean(u==null?void 0:u.root);if(d)return new n.NonRecordingSpan;var f=l&&r.getSpanContext(l);return s(f)&&i.isSpanContextValid(f)?new n.NonRecordingSpan(f):new n.NonRecordingSpan},a.prototype.startActiveSpan=function(c,u,l,d){var f,p,h;if(!(arguments.length<2)){arguments.length===2?h=u:arguments.length===3?(f=u,h=l):(f=u,p=l,h=d);var m=p!=null?p:e.context.active(),g=this.startSpan(c,f,m),v=r.setSpan(m,g);return e.context.with(v,h,void 0,g)}},a}();t.NoopTracer=o;function s(a){return typeof a=="object"&&typeof a.spanId=="string"&&typeof a.traceId=="string"&&typeof a.traceFlags=="number"}}}),JR=A({"node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;var e=QR(),r=new e.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var u=this._getTracer();return Reflect.apply(u.startActiveSpan,u,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();t.ProxyTracer=n}}),$z=A({"node_modules/@opentelemetry/api/build/src/trace/NoopTracerProvider.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;var e=QR(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new e.NoopTracer},n}();t.NoopTracerProvider=r}}),ZR=A({"node_modules/@opentelemetry/api/build/src/trace/ProxyTracerProvider.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;var e=JR(),r=$z(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new e.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();t.ProxyTracerProvider=i}}),Uz=A({"node_modules/@opentelemetry/api/build/src/trace/Sampler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Hz=A({"node_modules/@opentelemetry/api/build/src/trace/SamplingResult.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0;var e;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(e=t.SamplingDecision||(t.SamplingDecision={}))}}),Bz=A({"node_modules/@opentelemetry/api/build/src/trace/span_context.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Vz=A({"node_modules/@opentelemetry/api/build/src/trace/span_kind.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0;var e;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(e=t.SpanKind||(t.SpanKind={}))}}),Gz=A({"node_modules/@opentelemetry/api/build/src/trace/span.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Wz=A({"node_modules/@opentelemetry/api/build/src/trace/SpanOptions.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),zz=A({"node_modules/@opentelemetry/api/build/src/trace/status.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0;var e;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(e=t.SpanStatusCode||(t.SpanStatusCode={}))}}),Kz=A({"node_modules/@opentelemetry/api/build/src/trace/trace_state.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Yz=A({"node_modules/@opentelemetry/api/build/src/trace/tracer_provider.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Xz=A({"node_modules/@opentelemetry/api/build/src/trace/tracer.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Qz=A({"node_modules/@opentelemetry/api/build/src/context/types.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Jz=A({"node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js"(t){"use strict";var e=t&&t.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var r=vf(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],u=3;u<arguments.length;u++)c[u-3]=arguments[u];return s.call.apply(s,e([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();t.NoopContextManager=n}}),Zz=A({"node_modules/@opentelemetry/api/build/src/platform/node/globalThis.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis=typeof globalThis=="object"?globalThis:global}}),e4=A({"node_modules/@opentelemetry/api/build/src/platform/node/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Zz(),t)}}),t4=A({"node_modules/@opentelemetry/api/build/src/platform/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(e4(),t)}}),ek=A({"node_modules/@opentelemetry/api/build/src/version.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.0.2"}}),r4=A({"node_modules/@opentelemetry/api/build/src/internal/semver.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;var e=ek(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(f){return f===i};function u(d){return s.add(d),!1}function l(d){return o.add(d),!0}return function(f){if(o.has(f))return!0;if(s.has(f))return!1;var p=f.match(r);if(!p)return u(f);var h={major:+p[1],minor:+p[2],patch:+p[3],prerelease:p[4]};return h.prerelease!=null||c.major!==h.major?u(f):c.major===0?c.minor===h.minor&&c.patch<=h.patch?l(f):u(f):c.minor<=h.minor?l(f):u(f)}}t._makeCompatibilityCheck=n,t.isCompatible=n(e.VERSION)}}),Mc=A({"node_modules/@opentelemetry/api/build/src/internal/global-utils.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;var e=t4(),r=ek(),n=r4(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=e._globalThis;function a(l,d,f,p){var h;p===void 0&&(p=!1);var m=s[o]=(h=s[o])!==null&&h!==void 0?h:{version:r.VERSION};if(!p&&m[l]){var g=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+l);return f.error(g.stack||g.message),!1}if(m.version!==r.VERSION){var g=new Error("@opentelemetry/api: All API registration versions must match");return f.error(g.stack||g.message),!1}return m[l]=d,f.debug("@opentelemetry/api: Registered a global for "+l+" v"+r.VERSION+"."),!0}t.registerGlobal=a;function c(l){var d,f,p=(d=s[o])===null||d===void 0?void 0:d.version;if(!(!p||!n.isCompatible(p)))return(f=s[o])===null||f===void 0?void 0:f[l]}t.getGlobal=c;function u(l,d){d.debug("@opentelemetry/api: Unregistering a global for "+l+" v"+r.VERSION+".");var f=s[o];f&&delete f[l]}t.unregisterGlobal=u}}),n4=A({"node_modules/@opentelemetry/api/build/src/diag/ComponentLogger.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;var e=Mc(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();t.DiagComponentLogger=r;function n(i,o,s){var a=e.getGlobal("diag");if(!!a)return s.unshift(o),a[i].apply(a,s)}}}),i4=A({"node_modules/@opentelemetry/api/build/src/diag/internal/logLevelLogger.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;var e=Fv();function r(n,i){n<e.DiagLogLevel.NONE?n=e.DiagLogLevel.NONE:n>e.DiagLogLevel.ALL&&(n=e.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",e.DiagLogLevel.ERROR),warn:o("warn",e.DiagLogLevel.WARN),info:o("info",e.DiagLogLevel.INFO),debug:o("debug",e.DiagLogLevel.DEBUG),verbose:o("verbose",e.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=r}}),_f=A({"node_modules/@opentelemetry/api/build/src/api/diag.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;var e=n4(),r=i4(),n=Fv(),i=Mc(),o="diag",s=function(){function a(){function c(l){return function(){var d=i.getGlobal("diag");if(!!d)return d[l].apply(d,arguments)}}var u=this;u.setLogger=function(l,d){var f,p;if(d===void 0&&(d=n.DiagLogLevel.INFO),l===u){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return u.error((f=h.stack)!==null&&f!==void 0?f:h.message),!1}var m=i.getGlobal("diag"),g=r.createLogLevelDiagLogger(d,l);if(m){var v=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return i.registerGlobal("diag",g,u,!0)},u.disable=function(){i.unregisterGlobal(o,u)},u.createComponentLogger=function(l){return new e.DiagComponentLogger(l)},u.verbose=c("verbose"),u.debug=c("debug"),u.info=c("info"),u.warn=c("warn"),u.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();t.DiagAPI=s}}),o4=A({"node_modules/@opentelemetry/api/build/src/api/context.js"(t){"use strict";var e=t&&t.__spreadArray||function(c,u){for(var l=0,d=u.length,f=c.length;l<d;l++,f++)c[f]=u[l];return c};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var r=Jz(),n=Mc(),i=_f(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(u){return n.registerGlobal(o,u,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(u,l,d){for(var f,p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return(f=this._getContextManager()).with.apply(f,e([u,l,d],p))},c.prototype.bind=function(u,l){return this._getContextManager().bind(u,l)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();t.ContextAPI=a}}),s4=A({"node_modules/@opentelemetry/api/build/src/api/trace.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var e=Mc(),r=ZR(),n=yf(),i=XR(),o=_f(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(u){var l=e.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return l&&this._proxyTracerProvider.setDelegate(u),l},c.prototype.getTracerProvider=function(){return e.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(u,l){return this.getTracerProvider().getTracer(u,l)},c.prototype.disable=function(){e.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();t.TraceAPI=a}}),a4=A({"node_modules/@opentelemetry/api/build/src/propagation/NoopTextMapPropagator.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;var e=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();t.NoopTextMapPropagator=e}}),c4=A({"node_modules/@opentelemetry/api/build/src/baggage/context-helpers.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getBaggage=void 0;var e=vf(),r=e.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}t.getBaggage=n;function i(s,a){return s.setValue(r,a)}t.setBaggage=i;function o(s){return s.deleteValue(r)}t.deleteBaggage=o}}),u4=A({"node_modules/@opentelemetry/api/build/src/api/propagation.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var e=Mc(),r=a4(),n=KR(),i=c4(),o=zR(),s=_f(),a="propagation",c=new r.NoopTextMapPropagator,u=function(){function l(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return l.getInstance=function(){return this._instance||(this._instance=new l),this._instance},l.prototype.setGlobalPropagator=function(d){return e.registerGlobal(a,d,s.DiagAPI.instance())},l.prototype.inject=function(d,f,p){return p===void 0&&(p=n.defaultTextMapSetter),this._getGlobalPropagator().inject(d,f,p)},l.prototype.extract=function(d,f,p){return p===void 0&&(p=n.defaultTextMapGetter),this._getGlobalPropagator().extract(d,f,p)},l.prototype.fields=function(){return this._getGlobalPropagator().fields()},l.prototype.disable=function(){e.unregisterGlobal(a,s.DiagAPI.instance())},l.prototype._getGlobalPropagator=function(){return e.getGlobal(a)||c},l}();t.PropagationAPI=u}}),$e=A({"node_modules/@opentelemetry/api/build/src/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(u,l,d,f){f===void 0&&(f=d),Object.defineProperty(u,f,{enumerable:!0,get:function(){return l[d]}})}:function(u,l,d,f){f===void 0&&(f=d),u[f]=l[d]}),r=t&&t.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&e(l,u,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.diag=t.propagation=t.trace=t.context=t.isValidSpanId=t.isValidTraceId=t.isSpanContextValid=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.baggageEntryMetadataFromString=void 0,r(kz(),t);var n=zR();Object.defineProperty(t,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(Nz(),t),r(Lz(),t),r(Mz(),t),r(KR(),t),r(qz(),t),r(jz(),t),r(JR(),t),r(ZR(),t),r(Uz(),t),r(Hz(),t),r(Bz(),t),r(Vz(),t),r(Gz(),t),r(Wz(),t),r(zz(),t),r(YR(),t),r(Kz(),t),r(Yz(),t),r(Xz(),t);var i=yf();Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return i.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return i.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return i.INVALID_SPAN_CONTEXT}}),Object.defineProperty(t,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(t,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(t,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}}),r(vf(),t),r(Qz(),t);var o=o4();t.context=o.ContextAPI.getInstance();var s=s4();t.trace=s.TraceAPI.getInstance();var a=u4();t.propagation=a.PropagationAPI.getInstance();var c=_f();t.diag=c.DiagAPI.instance(),t.default={trace:t.trace,context:t.context,propagation:t.propagation,diag:t.diag}}}),qv=A({"node_modules/@opentelemetry/core/build/src/trace/suppress-tracing.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingSuppressed=t.unsuppressTracing=t.suppressTracing=void 0;var e=$e(),r=e.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}t.suppressTracing=n;function i(s){return s.deleteValue(r)}t.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}t.isTracingSuppressed=o}}),tk=A({"node_modules/@opentelemetry/core/build/src/baggage/constants.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BAGGAGE_MAX_TOTAL_LENGTH=t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=t.BAGGAGE_MAX_NAME_VALUE_PAIRS=t.BAGGAGE_HEADER=t.BAGGAGE_ITEMS_SEPARATOR=t.BAGGAGE_PROPERTIES_SEPARATOR=t.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,t.BAGGAGE_KEY_PAIR_SEPARATOR="=",t.BAGGAGE_PROPERTIES_SEPARATOR=";",t.BAGGAGE_ITEMS_SEPARATOR=",",t.BAGGAGE_HEADER="baggage",t.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,t.BAGGAGE_MAX_TOTAL_LENGTH=8192}}),rk=A({"node_modules/@opentelemetry/core/build/src/baggage/utils.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyPairsIntoRecord=t.parsePairKeyValue=t.getKeyPairs=t.serializeKeyPairs=void 0;var e=$e(),r=tk(),n=a=>a.reduce((c,u)=>{let l=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${u}`;return l.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:l},"");t.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,u])=>`${encodeURIComponent(c)}=${encodeURIComponent(u.value)}`);t.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let u=c.shift();if(!u)return;let l=u.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(l.length!==2)return;let d=decodeURIComponent(l[0].trim()),f=decodeURIComponent(l[1].trim()),p;return c.length>0&&(p=e.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:d,value:f,metadata:p}};t.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>t.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,u)=>(c[u.key]=u.value,c),{});t.parseKeyPairsIntoRecord=s}}),l4=A({"node_modules/@opentelemetry/core/build/src/baggage/propagation/HttpBaggagePropagator.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpBaggagePropagator=void 0;var e=$e(),r=qv(),n=tk(),i=rk(),o=class{inject(s,a,c){let u=e.propagation.getBaggage(s);if(!u||r.isTracingSuppressed(s))return;let l=i.getKeyPairs(u).filter(f=>f.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),d=i.serializeKeyPairs(l);d.length>0&&c.set(a,n.BAGGAGE_HEADER,d)}extract(s,a,c){let u=c.get(a,n.BAGGAGE_HEADER);if(!u)return s;let l={};return u.length===0||(u.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(f=>{let p=i.parsePairKeyValue(f);if(p){let h={value:p.value};p.metadata&&(h.metadata=p.metadata),l[p.key]=h}}),Object.entries(l).length===0)?s:e.propagation.setBaggage(s,e.propagation.createBaggage(l))}fields(){return[n.BAGGAGE_HEADER]}};t.HttpBaggagePropagator=o}}),d4=A({"node_modules/@opentelemetry/core/build/src/common/attributes.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributeValue=t.sanitizeAttributes=void 0;function e(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}t.sanitizeAttributes=e;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}t.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}}),nk=A({"node_modules/@opentelemetry/core/build/src/common/logging-error-handler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggingErrorHandler=void 0;var e=$e();function r(){return o=>{e.diag.error(n(o))}}t.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let u=a[c];u&&(s[c]=String(u))}),a=Object.getPrototypeOf(a);return s}}}),ik=A({"node_modules/@opentelemetry/core/build/src/common/global-error-handler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalErrorHandler=t.setGlobalErrorHandler=void 0;var e=nk(),r=e.loggingErrorHandler();function n(o){r=o}t.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch(s){}};t.globalErrorHandler=i}}),ok=A({"node_modules/@opentelemetry/core/build/src/utils/sampling.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracesSamplerValues=void 0;var e;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(e=t.TracesSamplerValues||(t.TracesSamplerValues={}))}}),sk=A({"node_modules/@opentelemetry/core/build/src/utils/environment.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvironment=t.DEFAULT_ENVIRONMENT=void 0;var e=$e(),r=ok(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(p){return i.indexOf(p)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(p){return s.indexOf(p)>-1}t.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:e.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(p,h,m,g=-Infinity,v=Infinity){if(typeof m[p]!="undefined"){let y=Number(m[p]);isNaN(y)||(y<g?h[p]=g:y>v?h[p]=v:h[p]=y)}}function u(p,h,m,g=n){let v=m[p];typeof v=="string"&&(h[p]=v.split(g).map(y=>y.trim()))}var l={ALL:e.DiagLogLevel.ALL,VERBOSE:e.DiagLogLevel.VERBOSE,DEBUG:e.DiagLogLevel.DEBUG,INFO:e.DiagLogLevel.INFO,WARN:e.DiagLogLevel.WARN,ERROR:e.DiagLogLevel.ERROR,NONE:e.DiagLogLevel.NONE};function d(p,h,m){let g=m[p];if(typeof g=="string"){let v=l[g.toUpperCase()];v!=null&&(h[p]=v)}}function f(p){let h={};for(let m in t.DEFAULT_ENVIRONMENT){let g=m;switch(g){case"OTEL_LOG_LEVEL":d(g,h,p);break;default:if(o(g))c(g,h,p);else if(a(g))u(g,h,p);else{let v=p[g];typeof v!="undefined"&&v!==null&&(h[g]=String(v))}}}return h}t.parseEnvironment=f}}),f4=A({"node_modules/@opentelemetry/core/build/src/platform/node/environment.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=void 0;var e=require("os"),r=sk();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:e.hostname()},r.DEFAULT_ENVIRONMENT,i)}t.getEnv=n}}),p4=A({"node_modules/@opentelemetry/core/build/src/platform/node/hex-to-base64.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0;function e(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}t.hexToBase64=e}}),h4=A({"node_modules/@opentelemetry/core/build/src/platform/node/RandomIdGenerator.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomIdGenerator=void 0;var e=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(e)}};t.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let c=0;c<s/4;c++)i.writeUInt32BE(Math.random()*2**32>>>0,c*4);for(let c=0;c<s&&!(i[c]>0);c++)c===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}}),m4=A({"node_modules/@opentelemetry/core/build/src/platform/node/performance.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=void 0;var e=require("perf_hooks");t.otperformance=e.performance}}),jv=A({"node_modules/@opentelemetry/core/build/src/version.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.23.0"}}),g4=A({"node_modules/@opentelemetry/semantic-conventions/build/src/trace/SemanticAttributes.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcGrpcStatusCodeValues=t.MessagingOperationValues=t.MessagingDestinationKindValues=t.HttpFlavorValues=t.NetTransportValues=t.FaasInvokedProviderValues=t.FaasDocumentOperationValues=t.FaasTriggerValues=t.DbCassandraConsistencyLevelValues=t.DbSystemValues=t.SemanticAttributes=void 0,t.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var e;(function(d){d.OTHER_SQL="other_sql",d.MSSQL="mssql",d.MYSQL="mysql",d.ORACLE="oracle",d.DB2="db2",d.POSTGRESQL="postgresql",d.REDSHIFT="redshift",d.HIVE="hive",d.CLOUDSCAPE="cloudscape",d.HSQLDB="hsqldb",d.PROGRESS="progress",d.MAXDB="maxdb",d.HANADB="hanadb",d.INGRES="ingres",d.FIRSTSQL="firstsql",d.EDB="edb",d.CACHE="cache",d.ADABAS="adabas",d.FIREBIRD="firebird",d.DERBY="derby",d.FILEMAKER="filemaker",d.INFORMIX="informix",d.INSTANTDB="instantdb",d.INTERBASE="interbase",d.MARIADB="mariadb",d.NETEZZA="netezza",d.PERVASIVE="pervasive",d.POINTBASE="pointbase",d.SQLITE="sqlite",d.SYBASE="sybase",d.TERADATA="teradata",d.VERTICA="vertica",d.H2="h2",d.COLDFUSION="coldfusion",d.CASSANDRA="cassandra",d.HBASE="hbase",d.MONGODB="mongodb",d.REDIS="redis",d.COUCHBASE="couchbase",d.COUCHDB="couchdb",d.COSMOSDB="cosmosdb",d.DYNAMODB="dynamodb",d.NEO4J="neo4j",d.GEODE="geode",d.ELASTICSEARCH="elasticsearch",d.MEMCACHED="memcached",d.COCKROACHDB="cockroachdb"})(e=t.DbSystemValues||(t.DbSystemValues={}));var r;(function(d){d.ALL="all",d.EACH_QUORUM="each_quorum",d.QUORUM="quorum",d.LOCAL_QUORUM="local_quorum",d.ONE="one",d.TWO="two",d.THREE="three",d.LOCAL_ONE="local_one",d.ANY="any",d.SERIAL="serial",d.LOCAL_SERIAL="local_serial"})(r=t.DbCassandraConsistencyLevelValues||(t.DbCassandraConsistencyLevelValues={}));var n;(function(d){d.DATASOURCE="datasource",d.HTTP="http",d.PUBSUB="pubsub",d.TIMER="timer",d.OTHER="other"})(n=t.FaasTriggerValues||(t.FaasTriggerValues={}));var i;(function(d){d.INSERT="insert",d.EDIT="edit",d.DELETE="delete"})(i=t.FaasDocumentOperationValues||(t.FaasDocumentOperationValues={}));var o;(function(d){d.AWS="aws",d.AZURE="azure",d.GCP="gcp"})(o=t.FaasInvokedProviderValues||(t.FaasInvokedProviderValues={}));var s;(function(d){d.IP_TCP="ip_tcp",d.IP_UDP="ip_udp",d.IP="ip",d.UNIX="unix",d.PIPE="pipe",d.INPROC="inproc",d.OTHER="other"})(s=t.NetTransportValues||(t.NetTransportValues={}));var a;(function(d){d.HTTP_1_0="1.0",d.HTTP_1_1="1.1",d.HTTP_2_0="2.0",d.SPDY="SPDY",d.QUIC="QUIC"})(a=t.HttpFlavorValues||(t.HttpFlavorValues={}));var c;(function(d){d.QUEUE="queue",d.TOPIC="topic"})(c=t.MessagingDestinationKindValues||(t.MessagingDestinationKindValues={}));var u;(function(d){d.RECEIVE="receive",d.PROCESS="process"})(u=t.MessagingOperationValues||(t.MessagingOperationValues={}));var l;(function(d){d[d.OK=0]="OK",d[d.CANCELLED=1]="CANCELLED",d[d.UNKNOWN=2]="UNKNOWN",d[d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",d[d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",d[d.NOT_FOUND=5]="NOT_FOUND",d[d.ALREADY_EXISTS=6]="ALREADY_EXISTS",d[d.PERMISSION_DENIED=7]="PERMISSION_DENIED",d[d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",d[d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",d[d.ABORTED=10]="ABORTED",d[d.OUT_OF_RANGE=11]="OUT_OF_RANGE",d[d.UNIMPLEMENTED=12]="UNIMPLEMENTED",d[d.INTERNAL=13]="INTERNAL",d[d.UNAVAILABLE=14]="UNAVAILABLE",d[d.DATA_LOSS=15]="DATA_LOSS",d[d.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(l=t.RpcGrpcStatusCodeValues||(t.RpcGrpcStatusCodeValues={}))}}),v4=A({"node_modules/@opentelemetry/semantic-conventions/build/src/trace/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(g4(),t)}}),y4=A({"node_modules/@opentelemetry/semantic-conventions/build/src/resource/ResourceAttributes.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetrySdkLanguageValues=t.OsTypeValues=t.HostArchValues=t.AwsEcsLaunchtypeValues=t.CloudPlatformValues=t.CloudProviderValues=t.ResourceAttributes=void 0,t.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var e;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(e=t.CloudProviderValues||(t.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=t.CloudPlatformValues||(t.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=t.AwsEcsLaunchtypeValues||(t.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=t.HostArchValues||(t.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=t.OsTypeValues||(t.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=t.TelemetrySdkLanguageValues||(t.TelemetrySdkLanguageValues={}))}}),_4=A({"node_modules/@opentelemetry/semantic-conventions/build/src/resource/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(y4(),t)}}),qc=A({"node_modules/@opentelemetry/semantic-conventions/build/src/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(v4(),t),r(_4(),t)}}),C4=A({"node_modules/@opentelemetry/core/build/src/platform/node/sdk-info.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_INFO=void 0;var e=jv(),r=qc();t.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:e.VERSION}}}),w4=A({"node_modules/@opentelemetry/core/build/src/platform/node/timer-util.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=void 0;function e(r){r.unref()}t.unrefTimer=e}}),E4=A({"node_modules/@opentelemetry/core/build/src/platform/node/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(f4(),t),r(p4(),t),r(h4(),t),r(m4(),t),r(C4(),t),r(w4(),t)}}),ak=A({"node_modules/@opentelemetry/core/build/src/platform/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(E4(),t)}}),b4=A({"node_modules/@opentelemetry/core/build/src/common/time.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;var e=ak(),r=9,n=Math.pow(10,r);function i(m){let g=m/1e3,v=Math.trunc(g),y=Number((g-v).toFixed(r))*n;return[v,y]}function o(){let m=e.otperformance.timeOrigin;if(typeof m!="number"){let g=e.otperformance;m=g.timing&&g.timing.fetchStart}return m}function s(m){let g=i(o()),v=i(typeof m=="number"?m:e.otperformance.now()),y=g[0]+v[0],C=g[1]+v[1];return C>n&&(C-=n,y+=1),[y,C]}t.hrTime=s;function a(m){if(p(m))return m;if(typeof m=="number")return m<o()?s(m):i(m);if(m instanceof Date)return i(m.getTime());throw TypeError("Invalid input type")}t.timeInputToHrTime=a;function c(m,g){let v=g[0]-m[0],y=g[1]-m[1];return y<0&&(v-=1,y+=n),[v,y]}t.hrTimeDuration=c;function u(m){let g=r,v=`${"0".repeat(g)}${m[1]}Z`,y=v.substr(v.length-g-1);return new Date(m[0]*1e3).toISOString().replace("000Z",y)}t.hrTimeToTimeStamp=u;function l(m){return m[0]*n+m[1]}t.hrTimeToNanoseconds=l;function d(m){return Math.round(m[0]*1e3+m[1]/1e6)}t.hrTimeToMilliseconds=d;function f(m){return Math.round(m[0]*1e6+m[1]/1e3)}t.hrTimeToMicroseconds=f;function p(m){return Array.isArray(m)&&m.length===2&&typeof m[0]=="number"&&typeof m[1]=="number"}t.isTimeInputHrTime=p;function h(m){return p(m)||typeof m=="number"||m instanceof Date}t.isTimeInput=h}}),S4=A({"node_modules/@opentelemetry/core/build/src/common/types.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),P4=A({"node_modules/@opentelemetry/core/build/src/ExportResult.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportResultCode=void 0;var e;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(e=t.ExportResultCode||(t.ExportResultCode={}))}}),T4=A({"node_modules/@opentelemetry/core/build/src/propagation/composite.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositePropagator=void 0;var e=$e(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){e.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){e.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};t.CompositePropagator=r}}),I4=A({"node_modules/@opentelemetry/core/build/src/internal/validators.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;var e="[_0-9a-z-*/]",r=`[a-z]${e}{0,255}`,n=`[a-z0-9]${e}{0,240}@[a-z]${e}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(u){return i.test(u)}t.validateKey=a;function c(u){return o.test(u)&&!s.test(u)}t.validateValue=c}}),ck=A({"node_modules/@opentelemetry/core/build/src/trace/TraceState.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceState=void 0;var e=I4(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let u=this._clone();return u._internalState.has(a)&&u._internalState.delete(a),u._internalState.set(a,c),u}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,u)=>{let l=u.trim(),d=l.indexOf(o);if(d!==-1){let f=l.slice(0,d),p=l.slice(d+1,u.length);e.validateKey(f)&&e.validateValue(p)&&c.set(f,p)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};t.TraceState=s}}),x4=A({"node_modules/@opentelemetry/core/build/src/trace/HttpTraceContextPropagator.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpTraceContextPropagator=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;var e=$e(),r=qv(),n=ck();t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",u=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function l(f){let p=u.exec(f);return!p||p[1]==="00"&&p[5]?null:{traceId:p[2],spanId:p[3],traceFlags:parseInt(p[4],16)}}t.parseTraceParent=l;var d=class{inject(f,p,h){let m=e.trace.getSpanContext(f);if(!m||r.isTracingSuppressed(f)||!e.isSpanContextValid(m))return;let g=`${i}-${m.traceId}-${m.spanId}-0${Number(m.traceFlags||e.TraceFlags.NONE).toString(16)}`;h.set(p,t.TRACE_PARENT_HEADER,g),m.traceState&&h.set(p,t.TRACE_STATE_HEADER,m.traceState.serialize())}extract(f,p,h){let m=h.get(p,t.TRACE_PARENT_HEADER);if(!m)return f;let g=Array.isArray(m)?m[0]:m;if(typeof g!="string")return f;let v=l(g);if(!v)return f;v.isRemote=!0;let y=h.get(p,t.TRACE_STATE_HEADER);if(y){let C=Array.isArray(y)?y.join(","):y;v.traceState=new n.TraceState(typeof C=="string"?C:void 0)}return e.trace.setSpanContext(f,v)}fields(){return[t.TRACE_PARENT_HEADER,t.TRACE_STATE_HEADER]}};t.HttpTraceContextPropagator=d}}),A4=A({"node_modules/@opentelemetry/core/build/src/trace/IdGenerator.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),R4=A({"node_modules/@opentelemetry/core/build/src/trace/rpc-metadata.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRPCMetadata=t.deleteRPCMetadata=t.setRPCMetadata=t.RPCType=void 0;var e=$e(),r=e.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=t.RPCType||(t.RPCType={}));function i(a,c){return a.setValue(r,c)}t.setRPCMetadata=i;function o(a){return a.deleteValue(r)}t.deleteRPCMetadata=o;function s(a){return a.getValue(r)}t.getRPCMetadata=s}}),uk=A({"node_modules/@opentelemetry/core/build/src/trace/sampler/AlwaysOffSampler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOffSampler=void 0;var e=$e(),r=class{shouldSample(){return{decision:e.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};t.AlwaysOffSampler=r}}),lk=A({"node_modules/@opentelemetry/core/build/src/trace/sampler/AlwaysOnSampler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOnSampler=void 0;var e=$e(),r=class{shouldSample(){return{decision:e.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};t.AlwaysOnSampler=r}}),k4=A({"node_modules/@opentelemetry/core/build/src/trace/sampler/ParentBasedSampler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentBasedSampler=void 0;var e=$e(),r=ik(),n=uk(),i=lk(),o=class{constructor(s){var a,c,u,l;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(u=s.localParentSampled)!==null&&u!==void 0?u:new i.AlwaysOnSampler,this._localParentNotSampled=(l=s.localParentNotSampled)!==null&&l!==void 0?l:new n.AlwaysOffSampler}shouldSample(s,a,c,u,l,d){let f=e.trace.getSpanContext(s);return!f||!e.isSpanContextValid(f)?this._root.shouldSample(s,a,c,u,l,d):f.isRemote?f.traceFlags&e.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,u,l,d):this._remoteParentNotSampled.shouldSample(s,a,c,u,l,d):f.traceFlags&e.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,u,l,d):this._localParentNotSampled.shouldSample(s,a,c,u,l,d)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};t.ParentBasedSampler=o}}),D4=A({"node_modules/@opentelemetry/core/build/src/trace/sampler/TraceIdRatioBasedSampler.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceIdRatioBasedSampler=void 0;var e=$e(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:e.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?e.SamplingDecision.RECORD_AND_SAMPLED:e.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};t.TraceIdRatioBasedSampler=r}}),O4=A({"node_modules/@opentelemetry/core/build/src/utils/url.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlIgnored=t.urlMatches=void 0;function e(n,i){return typeof i=="string"?n===i:i.test(n)}t.urlMatches=e;function r(n,i){if(!i)return!1;for(let o of i)if(e(n,o))return!0;return!1}t.isUrlIgnored=r}}),N4=A({"node_modules/@opentelemetry/core/build/src/utils/wrap.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=void 0;function e(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}t.isWrapped=e}}),Zr=A({"node_modules/@opentelemetry/core/build/src/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.baggageUtils=void 0,r(l4(),t),r(d4(),t),r(ik(),t),r(nk(),t),r(b4(),t),r(S4(),t),r(P4(),t),r(jv(),t),t.baggageUtils=rk(),r(ak(),t),r(T4(),t),r(x4(),t),r(A4(),t),r(R4(),t),r(uk(),t),r(lk(),t),r(k4(),t),r(D4(),t),r(qv(),t),r(ck(),t),r(sk(),t),r(ok(),t),r(O4(),t),r(N4(),t),r(jv(),t)}}),L4=A({"node_modules/@opentelemetry/tracing/build/src/enums.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEventName=void 0,t.ExceptionEventName="exception"}}),dk=A({"node_modules/@opentelemetry/tracing/build/src/Span.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var e=$e(),r=Zr(),n=qc(),i=L4(),o=class{constructor(s,a,c,u,l,d,f=[],p=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:e.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=u,this.parentSpanId=d,this.kind=l,this.links=f,this.startTime=r.timeInputToHrTime(p),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(e.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(e.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(e.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c=="undefined"&&(c=a),a=void 0),typeof c=="undefined"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){e.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&e.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):e.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&e.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};t.Span=o}}),fk=A({"node_modules/@opentelemetry/tracing/build/src/config.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSamplerFromEnv=t.DEFAULT_CONFIG=void 0;var e=$e(),r=Zr(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;t.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return e.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}t.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return e.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let u=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(u)?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):u<0||u>1?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):u}}}),F4=A({"node_modules/@opentelemetry/tracing/build/src/utility.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var e=fk();function r(n){let i={sampler:e.buildSamplerFromEnv()},o=Object.assign({},e.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},e.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}t.mergeConfig=r}}),M4=A({"node_modules/@opentelemetry/tracing/build/src/Tracer.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var e=$e(),r=Zr(),n=dk(),i=F4(),o=class{constructor(a,c,u){this._tracerProvider=u;let l=i.mergeConfig(c);this._sampler=l.sampler,this._spanLimits=l.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=u.resource,this.instrumentationLibrary=a}startSpan(a,c={},u=e.context.active()){var l,d;if(r.isTracingSuppressed(u))return e.diag.debug("Instrumentation suppressed, returning Noop Span"),e.trace.wrapSpanContext(e.INVALID_SPAN_CONTEXT);let f=s(c,u),p=this._idGenerator.generateSpanId(),h,m,g;!f||!e.trace.isSpanContextValid(f)?h=this._idGenerator.generateTraceId():(h=f.traceId,m=f.traceState,g=f.spanId);let v=(l=c.kind)!==null&&l!==void 0?l:e.SpanKind.INTERNAL,y=(d=c.links)!==null&&d!==void 0?d:[],C=r.sanitizeAttributes(c.attributes),_=this._sampler.shouldSample(c.root?e.trace.setSpanContext(u,e.INVALID_SPAN_CONTEXT):u,h,a,v,C,y),E=_.decision===e.SamplingDecision.RECORD_AND_SAMPLED?e.TraceFlags.SAMPLED:e.TraceFlags.NONE,w={traceId:h,spanId:p,traceFlags:E,traceState:m};if(_.decision===e.SamplingDecision.NOT_RECORD)return e.diag.debug("Recording is off, propagating context in a non-recording span"),e.trace.wrapSpanContext(w);let b=new n.Span(this,u,a,w,v,g,y,c.startTime);return b.setAttributes(Object.assign(C,_.attributes)),b}startActiveSpan(a,c,u,l){let d,f,p;if(arguments.length<2)return;arguments.length===2?p=c:arguments.length===3?(d=c,p=u):(d=c,f=u,p=l);let h=f!=null?f:e.context.active(),m=this.startSpan(a,d,h),g=e.trace.setSpan(h,m);return e.context.with(g,p,void 0,m)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};t.Tracer=o;function s(a,c){if(!a.root)return e.trace.getSpanContext(c)}}}),q4=A({"node_modules/@opentelemetry/resources/build/src/platform/node/default-service-name.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultServiceName=void 0;function e(){return`unknown_service:${process.argv0}`}t.defaultServiceName=e}}),j4=A({"node_modules/@opentelemetry/resources/build/src/platform/node/detect-resources.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectResources=void 0;var e=hk(),r=$e(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async u=>{try{let l=await u.detect(a);return r.diag.debug(`${u.constructor.name} found resource.`,l),l}catch(l){return r.diag.debug(`${u.constructor.name} failed: ${l.message}`),e.Resource.empty()}}));return o(c),c.reduce((u,l)=>u.merge(l),e.Resource.empty())};t.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});r.diag.verbose(c)}})}}}),$4=A({"node_modules/@opentelemetry/resources/build/src/platform/node/detectors/EnvDetector.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.envDetector=void 0;var e=$e(),r=Zr(),n=qc(),i=$v(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),u=c.OTEL_RESOURCE_ATTRIBUTES,l=c.OTEL_SERVICE_NAME;if(u)try{let d=this._parseResourceAttributes(u);Object.assign(a,d)}catch(d){e.diag.debug(`EnvDetector failed: ${d.message}`)}return l&&(a[n.ResourceAttributes.SERVICE_NAME]=l),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let u of c){let l=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(l.length!==2)continue;let[d,f]=l;if(d=d.trim(),f=f.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(d))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(f))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[d]=f}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};t.envDetector=new o}}),U4=A({"node_modules/@opentelemetry/resources/build/src/platform/node/detectors/ProcessDetector.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDetector=void 0;var e=$e(),r=qc(),n=$v(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(e.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};t.processDetector=new i}}),H4=A({"node_modules/@opentelemetry/resources/build/src/platform/node/detectors/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r($4(),t),r(U4(),t)}}),B4=A({"node_modules/@opentelemetry/resources/build/src/platform/node/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(q4(),t),r(j4(),t),r(H4(),t)}}),pk=A({"node_modules/@opentelemetry/resources/build/src/platform/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(B4(),t)}}),hk=A({"node_modules/@opentelemetry/resources/build/src/Resource.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var e=qc(),r=Zr(),n=pk(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[e.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[e.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_NAME],[e.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};t.Resource=i,i.EMPTY=new i({})}}),V4=A({"node_modules/@opentelemetry/resources/build/src/types.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),G4=A({"node_modules/@opentelemetry/resources/build/src/config.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),$v=A({"node_modules/@opentelemetry/resources/build/src/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(hk(),t),r(pk(),t),r(V4(),t),r(G4(),t)}}),W4=A({"node_modules/@opentelemetry/tracing/build/src/MultiSpanProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSpanProcessor=void 0;var e=Zr(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{e.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};t.MultiSpanProcessor=r}}),mk=A({"node_modules/@opentelemetry/tracing/build/src/export/NoopSpanProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpanProcessor=void 0;var e=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};t.NoopSpanProcessor=e}}),z4=A({"node_modules/lodash.merge/index.js"(t,e){var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",C="[object Proxy]",_="[object RegExp]",E="[object Set]",w="[object String]",b="[object Undefined]",x="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",q="[object Float32Array]",H="[object Float64Array]",Z="[object Int8Array]",ee="[object Int16Array]",V="[object Int32Array]",$="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",F="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,K={};K[q]=K[H]=K[Z]=K[ee]=K[V]=K[$]=K[P]=K[N]=K[F]=!0,K[a]=K[c]=K[R]=K[l]=K[k]=K[d]=K[f]=K[p]=K[m]=K[g]=K[y]=K[_]=K[E]=K[w]=K[x]=!1;var ye=typeof global=="object"&&global&&global.Object===Object&&global,Ne=typeof self=="object"&&self&&self.Object===Object&&self,ke=ye||Ne||Function("return this")(),We=typeof t=="object"&&t&&!t.nodeType&&t,Ue=We&&typeof e=="object"&&e&&!e.nodeType&&e,vt=Ue&&Ue.exports===We,Et=vt&&ye.process,de=function(){try{var I=Ue&&Ue.require&&Ue.require("util").types;return I||Et&&Et.binding&&Et.binding("util")}catch(O){}}(),ue=de&&de.isTypedArray;function De(I,O,j){switch(j.length){case 0:return I.call(O);case 1:return I.call(O,j[0]);case 2:return I.call(O,j[0],j[1]);case 3:return I.call(O,j[0],j[1],j[2])}return I.apply(O,j)}function bt(I,O){for(var j=-1,re=Array(I);++j<I;)re[j]=O(j);return re}function Sp(I){return function(O){return I(O)}}function Pp(I,O){return I==null?void 0:I[O]}function _e(I,O){return function(j){return I(O(j))}}var Tp=Array.prototype,Ip=Function.prototype,Gi=Object.prototype,an=ke["__core-js_shared__"],Uo=Ip.toString,jr=Gi.hasOwnProperty,hu=function(){var I=/[^.]+$/.exec(an&&an.keys&&an.keys.IE_PROTO||"");return I?"Symbol(src)_1."+I:""}(),mu=Gi.toString,$r=Uo.call(Object),xp=RegExp("^"+Uo.call(jr).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ho=vt?ke.Buffer:void 0,gu=ke.Symbol,vu=ke.Uint8Array,Yn=Ho?Ho.allocUnsafe:void 0,Wi=_e(Object.getPrototypeOf,Object),Bo=Object.create,yu=Gi.propertyIsEnumerable,ga=Tp.splice,Ur=gu?gu.toStringTag:void 0,Pn=function(){try{var I=Bp(Object,"defineProperty");return I({},"",{}),I}catch(O){}}(),Kt=Ho?Ho.isBuffer:void 0,Xn=Math.max,He=Date.now,_u=Bp(ke,"Map"),zi=Bp(Object,"create"),St=function(){function I(){}return function(O){if(!Ki(O))return{};if(Bo)return Bo(O);I.prototype=O;var j=new I;return I.prototype=void 0,j}}();function Tn(I){var O=-1,j=I==null?0:I.length;for(this.clear();++O<j;){var re=I[O];this.set(re[0],re[1])}}function Ap(){this.__data__=zi?zi(null):{},this.size=0}function Rp(I){var O=this.has(I)&&delete this.__data__[I];return this.size-=O?1:0,O}function kp(I){var O=this.__data__;if(zi){var j=O[I];return j===n?void 0:j}return jr.call(O,I)?O[I]:void 0}function Dp(I){var O=this.__data__;return zi?O[I]!==void 0:jr.call(O,I)}function Op(I,O){var j=this.__data__;return this.size+=this.has(I)?0:1,j[I]=zi&&O===void 0?n:O,this}Tn.prototype.clear=Ap,Tn.prototype.delete=Rp,Tn.prototype.get=kp,Tn.prototype.has=Dp,Tn.prototype.set=Op;function Hr(I){var O=-1,j=I==null?0:I.length;for(this.clear();++O<j;){var re=I[O];this.set(re[0],re[1])}}function Np(){this.__data__=[],this.size=0}function Lp(I){var O=this.__data__,j=me(O,I);if(j<0)return!1;var re=O.length-1;return j==re?O.pop():ga.call(O,j,1),--this.size,!0}function Vo(I){var O=this.__data__,j=me(O,I);return j<0?void 0:O[j][1]}function Fp(I){return me(this.__data__,I)>-1}function Mp(I,O){var j=this.__data__,re=me(j,I);return re<0?(++this.size,j.push([I,O])):j[re][1]=O,this}Hr.prototype.clear=Np,Hr.prototype.delete=Lp,Hr.prototype.get=Vo,Hr.prototype.has=Fp,Hr.prototype.set=Mp;function Qn(I){var O=-1,j=I==null?0:I.length;for(this.clear();++O<j;){var re=I[O];this.set(re[0],re[1])}}function qp(){this.size=0,this.__data__={hash:new Tn,map:new(_u||Hr),string:new Tn}}function jp(I){var O=Cu(this,I).delete(I);return this.size-=O?1:0,O}function $p(I){return Cu(this,I).get(I)}function va(I){return Cu(this,I).has(I)}function Up(I,O){var j=Cu(this,I),re=j.size;return j.set(I,O),this.size+=j.size==re?0:1,this}Qn.prototype.clear=qp,Qn.prototype.delete=jp,Qn.prototype.get=$p,Qn.prototype.has=va,Qn.prototype.set=Up;function Jn(I){var O=this.__data__=new Hr(I);this.size=O.size}function Hp(){this.__data__=new Hr,this.size=0}function T(I){var O=this.__data__,j=O.delete(I);return this.size=O.size,j}function D(I){return this.__data__.get(I)}function M(I){return this.__data__.has(I)}function Y(I,O){var j=this.__data__;if(j instanceof Hr){var re=j.__data__;if(!_u||re.length<r-1)return re.push([I,O]),this.size=++j.size,this;j=this.__data__=new Qn(re)}return j.set(I,O),this.size=j.size,this}Jn.prototype.clear=Hp,Jn.prototype.delete=T,Jn.prototype.get=D,Jn.prototype.has=M,Jn.prototype.set=Y;function Q(I,O){var j=Wp(I),re=!j&&Gp(I),Ee=!j&&!re&&U_(I),Fe=!j&&!re&&!Ee&&B_(I),ze=j||re||Ee||Fe,Ce=ze?bt(I.length,String):[],Ke=Ce.length;for(var vr in I)(O||jr.call(I,vr))&&!(ze&&(vr=="length"||Ee&&(vr=="offset"||vr=="parent")||Fe&&(vr=="buffer"||vr=="byteLength"||vr=="byteOffset")||j_(vr,Ke)))&&Ce.push(vr);return Ce}function te(I,O,j){(j!==void 0&&!wu(I[O],j)||j===void 0&&!(O in I))&&ge(I,O,j)}function ae(I,O,j){var re=I[O];(!(jr.call(I,O)&&wu(re,j))||j===void 0&&!(O in I))&&ge(I,O,j)}function me(I,O){for(var j=I.length;j--;)if(wu(I[j][0],O))return j;return-1}function ge(I,O,j){O=="__proto__"&&Pn?Pn(I,O,{configurable:!0,enumerable:!0,value:j,writable:!0}):I[O]=j}var gr=TM();function jt(I){return I==null?I===void 0?b:v:Ur&&Ur in Object(I)?IM(I):OM(I)}function $t(I){return ya(I)&&jt(I)==a}function Ut(I){if(!Ki(I)||kM(I))return!1;var O=Kp(I)?xp:z;return O.test(MM(I))}function cn(I){return ya(I)&&H_(I.length)&&!!K[jt(I)]}function gM(I){if(!Ki(I))return DM(I);var O=$_(I),j=[];for(var re in I)re=="constructor"&&(O||!jr.call(I,re))||j.push(re);return j}function q_(I,O,j,re,Ee){I!==O&&gr(O,function(Fe,ze){if(Ee||(Ee=new Jn),Ki(Fe))vM(I,O,ze,j,q_,re,Ee);else{var Ce=re?re(Vp(I,ze),Fe,ze+"",I,O,Ee):void 0;Ce===void 0&&(Ce=Fe),te(I,ze,Ce)}},V_)}function vM(I,O,j,re,Ee,Fe,ze){var Ce=Vp(I,j),Ke=Vp(O,j),vr=ze.get(Ke);if(vr){te(I,j,vr);return}var or=Fe?Fe(Ce,Ke,j+"",I,O,ze):void 0,_a=or===void 0;if(_a){var Yp=Wp(Ke),Xp=!Yp&&U_(Ke),W_=!Yp&&!Xp&&B_(Ke);or=Ke,Yp||Xp||W_?Wp(Ce)?or=Ce:qM(Ce)?or=bM(Ce):Xp?(_a=!1,or=CM(Ke,!0)):W_?(_a=!1,or=EM(Ke,!0)):or=[]:jM(Ke)||Gp(Ke)?(or=Ce,Gp(Ce)?or=$M(Ce):(!Ki(Ce)||Kp(Ce))&&(or=xM(Ke))):_a=!1}_a&&(ze.set(Ke,or),Ee(or,Ke,re,Fe,ze),ze.delete(Ke)),te(I,j,or)}function yM(I,O){return LM(NM(I,O,G_),I+"")}var _M=Pn?function(I,O){return Pn(I,"toString",{configurable:!0,enumerable:!1,value:HM(O),writable:!0})}:G_;function CM(I,O){if(O)return I.slice();var j=I.length,re=Yn?Yn(j):new I.constructor(j);return I.copy(re),re}function wM(I){var O=new I.constructor(I.byteLength);return new vu(O).set(new vu(I)),O}function EM(I,O){var j=O?wM(I.buffer):I.buffer;return new I.constructor(j,I.byteOffset,I.length)}function bM(I,O){var j=-1,re=I.length;for(O||(O=Array(re));++j<re;)O[j]=I[j];return O}function SM(I,O,j,re){var Ee=!j;j||(j={});for(var Fe=-1,ze=O.length;++Fe<ze;){var Ce=O[Fe],Ke=re?re(j[Ce],I[Ce],Ce,j,I):void 0;Ke===void 0&&(Ke=I[Ce]),Ee?ge(j,Ce,Ke):ae(j,Ce,Ke)}return j}function PM(I){return yM(function(O,j){var re=-1,Ee=j.length,Fe=Ee>1?j[Ee-1]:void 0,ze=Ee>2?j[2]:void 0;for(Fe=I.length>3&&typeof Fe=="function"?(Ee--,Fe):void 0,ze&&AM(j[0],j[1],ze)&&(Fe=Ee<3?void 0:Fe,Ee=1),O=Object(O);++re<Ee;){var Ce=j[re];Ce&&I(O,Ce,re,Fe)}return O})}function TM(I){return function(O,j,re){for(var Ee=-1,Fe=Object(O),ze=re(O),Ce=ze.length;Ce--;){var Ke=ze[I?Ce:++Ee];if(j(Fe[Ke],Ke,Fe)===!1)break}return O}}function Cu(I,O){var j=I.__data__;return RM(O)?j[typeof O=="string"?"string":"hash"]:j.map}function Bp(I,O){var j=Pp(I,O);return Ut(j)?j:void 0}function IM(I){var O=jr.call(I,Ur),j=I[Ur];try{I[Ur]=void 0;var re=!0}catch(Fe){}var Ee=mu.call(I);return re&&(O?I[Ur]=j:delete I[Ur]),Ee}function xM(I){return typeof I.constructor=="function"&&!$_(I)?St(Wi(I)):{}}function j_(I,O){var j=typeof I;return O=O==null?s:O,!!O&&(j=="number"||j!="symbol"&&X.test(I))&&I>-1&&I%1==0&&I<O}function AM(I,O,j){if(!Ki(j))return!1;var re=typeof O;return(re=="number"?zp(j)&&j_(O,j.length):re=="string"&&O in j)?wu(j[O],I):!1}function RM(I){var O=typeof I;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?I!=="__proto__":I===null}function kM(I){return!!hu&&hu in I}function $_(I){var O=I&&I.constructor,j=typeof O=="function"&&O.prototype||Gi;return I===j}function DM(I){var O=[];if(I!=null)for(var j in Object(I))O.push(j);return O}function OM(I){return mu.call(I)}function NM(I,O,j){return O=Xn(O===void 0?I.length-1:O,0),function(){for(var re=arguments,Ee=-1,Fe=Xn(re.length-O,0),ze=Array(Fe);++Ee<Fe;)ze[Ee]=re[O+Ee];Ee=-1;for(var Ce=Array(O+1);++Ee<O;)Ce[Ee]=re[Ee];return Ce[O]=j(ze),De(I,this,Ce)}}function Vp(I,O){if(!(O==="constructor"&&typeof I[O]=="function")&&O!="__proto__")return I[O]}var LM=FM(_M);function FM(I){var O=0,j=0;return function(){var re=He(),Ee=o-(re-j);if(j=re,Ee>0){if(++O>=i)return arguments[0]}else O=0;return I.apply(void 0,arguments)}}function MM(I){if(I!=null){try{return Uo.call(I)}catch(O){}try{return I+""}catch(O){}}return""}function wu(I,O){return I===O||I!==I&&O!==O}var Gp=$t(function(){return arguments}())?$t:function(I){return ya(I)&&jr.call(I,"callee")&&!yu.call(I,"callee")},Wp=Array.isArray;function zp(I){return I!=null&&H_(I.length)&&!Kp(I)}function qM(I){return ya(I)&&zp(I)}var U_=Kt||BM;function Kp(I){if(!Ki(I))return!1;var O=jt(I);return O==p||O==h||O==u||O==C}function H_(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=s}function Ki(I){var O=typeof I;return I!=null&&(O=="object"||O=="function")}function ya(I){return I!=null&&typeof I=="object"}function jM(I){if(!ya(I)||jt(I)!=y)return!1;var O=Wi(I);if(O===null)return!0;var j=jr.call(O,"constructor")&&O.constructor;return typeof j=="function"&&j instanceof j&&Uo.call(j)==$r}var B_=ue?Sp(ue):cn;function $M(I){return SM(I,V_(I))}function V_(I){return zp(I)?Q(I,!0):gM(I)}var UM=PM(function(I,O,j){q_(I,O,j)});function HM(I){return function(){return I}}function G_(I){return I}function BM(){return!1}e.exports=UM}}),K4=A({"node_modules/@opentelemetry/tracing/build/src/export/BatchSpanProcessorBase.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessorBase=void 0;var e=$e(),r=Zr(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof(o==null?void 0:o.maxExportBatchSize)=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(o==null?void 0:o.maxQueueSize)=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(o==null?void 0:o.scheduledDelayMillis)=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(o==null?void 0:o.exportTimeoutMillis)=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,u=a;c<u;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};t.BatchSpanProcessorBase=n}}),Y4=A({"node_modules/@opentelemetry/tracing/build/src/platform/node/export/BatchSpanProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessor=void 0;var e=K4(),r=class extends e.BatchSpanProcessorBase{onShutdown(){}};t.BatchSpanProcessor=r}}),X4=A({"node_modules/@opentelemetry/tracing/build/src/platform/node/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Y4(),t)}}),gk=A({"node_modules/@opentelemetry/tracing/build/src/platform/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(X4(),t)}}),Q4=A({"node_modules/@opentelemetry/tracing/build/src/BasicTracerProvider.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTracerProvider=t.ForceFlushState=void 0;var e=$e(),r=Zr(),n=$v(),i=vk(),o=fk(),s=W4(),a=mk(),c=z4(),u=gk(),l;(function(f){f[f.resolved=0]="resolved",f[f.timeout=1]="timeout",f[f.error=2]="error",f[f.unresolved=3]="unresolved"})(l=t.ForceFlushState||(t.ForceFlushState={}));var d=class{constructor(f={}){var p;this._registeredSpanProcessors=[],this._tracers=new Map;let h=c({},o.DEFAULT_CONFIG,f);this.resource=(p=h.resource)!==null&&p!==void 0?p:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},h,{resource:this.resource});let m=this._buildExporterFromEnv();if(m!==void 0){let g=new u.BatchSpanProcessor(m);this.activeSpanProcessor=g}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(f,p){let h=`${f}@${p||""}`;return this._tracers.has(h)||this._tracers.set(h,new i.Tracer({name:f,version:p},this._config,this)),this._tracers.get(h)}addSpanProcessor(f){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(p=>e.diag.error("Error while trying to shutdown current span processor",p)),this._registeredSpanProcessors.push(f),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(f={}){e.trace.setGlobalTracerProvider(this),f.propagator===void 0&&(f.propagator=this._buildPropagatorFromEnv()),f.contextManager&&e.context.setGlobalContextManager(f.contextManager),f.propagator&&e.propagation.setGlobalPropagator(f.propagator)}forceFlush(){let f=this._config.forceFlushTimeoutMillis,p=this._registeredSpanProcessors.map(h=>new Promise(m=>{let g,v=setTimeout(()=>{m(new Error(`Span processor did not completed within timeout period of ${f} ms`)),g=l.timeout},f);h.forceFlush().then(()=>{clearTimeout(v),g!==l.timeout&&(g=l.resolved,m(g))}).catch(y=>{clearTimeout(v),g=l.error,m(y)})}));return new Promise((h,m)=>{Promise.all(p).then(g=>{let v=g.filter(y=>y!==l.resolved);v.length>0?m(v):h()}).catch(g=>m([g]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(f){var p;return(p=d._registeredPropagators.get(f))===null||p===void 0?void 0:p()}_getSpanExporter(f){var p;return(p=d._registeredExporters.get(f))===null||p===void 0?void 0:p()}_buildPropagatorFromEnv(){let f=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),h=f.map(m=>{let g=this._getPropagator(m);return g||e.diag.warn(`Propagator "${m}" requested through environment variable is unavailable.`),g}).reduce((m,g)=>(g&&m.push(g),m),[]);if(h.length!==0)return f.length===1?h[0]:new r.CompositePropagator({propagators:h})}_buildExporterFromEnv(){let f=r.getEnv().OTEL_TRACES_EXPORTER;if(f==="none")return;let p=this._getSpanExporter(f);return p||e.diag.error(`Exporter "${f}" requested through environment variable is unavailable.`),p}};t.BasicTracerProvider=d,d._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),d._registeredExporters=new Map}}),J4=A({"node_modules/@opentelemetry/tracing/build/src/export/ConsoleSpanExporter.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSpanExporter=void 0;var e=Zr(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:e.hrTimeToMicroseconds(n.startTime),duration:e.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:e.ExportResultCode.SUCCESS})}};t.ConsoleSpanExporter=r}}),Z4=A({"node_modules/@opentelemetry/tracing/build/src/export/InMemorySpanExporter.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySpanExporter=void 0;var e=Zr(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:e.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:e.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};t.InMemorySpanExporter=r}}),e6=A({"node_modules/@opentelemetry/tracing/build/src/export/ReadableSpan.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),t6=A({"node_modules/@opentelemetry/tracing/build/src/export/SimpleSpanProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpanProcessor=void 0;var e=$e(),r=Zr(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};t.SimpleSpanProcessor=n}}),r6=A({"node_modules/@opentelemetry/tracing/build/src/export/SpanExporter.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),n6=A({"node_modules/@opentelemetry/tracing/build/src/SpanProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),i6=A({"node_modules/@opentelemetry/tracing/build/src/TimedEvent.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),o6=A({"node_modules/@opentelemetry/tracing/build/src/types.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),vk=A({"node_modules/@opentelemetry/tracing/build/src/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(M4(),t),r(Q4(),t),r(gk(),t),r(J4(),t),r(Z4(),t),r(e6(),t),r(t6(),t),r(r6(),t),r(mk(),t),r(dk(),t),r(n6(),t),r(i6(),t),r(o6(),t)}}),s6=A({"node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.azureCoreTracing=t.AzureMonitorSymbol=void 0;var e=ct();t.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=vk(),a=$e(),c=new s.BasicTracerProvider,u=c.getTracer("applicationinsights tracer"),l=o.setTracer;o.setTracer=function(d){var f=d.startSpan;d.startSpan=function(p,h,m){var g=f.call(this,p,h,m),v=g.end;return g.end=function(){var y=v.apply(this,arguments);return e.channel.publish("azure-coretracing",g),y},g},d[t.AzureMonitorSymbol]=!0,l.call(this,d)},a.trace.getSpan(a.context.active()),o.setTracer(u),r=!0}catch(d){}return o};t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}t.enable=i}}),a6=A({"node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.bunyan=void 0;var e=ct(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var u=c;u||(u=o.call(this,s,!0)),e.channel.publish("bunyan",{level:s.level,result:u})}return c},i};t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("bunyan",t.bunyan)}t.enable=n}}),c6=A({"node_modules/diagnostic-channel-publishers/dist/src/console.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.console=void 0;var e=ct(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(h){if(!h)return!0;var m=h.toString();return e.channel.publish("console",{message:m}),!0},a.write=function(h){if(!h)return!0;var m=h.toString();return e.channel.publish("console",{message:m,stderr:!0}),!0};for(var c=new o.Console(s,a),u=["log","info","warn","error","dir","time","timeEnd","trace","assert"],l=function(h){var m=o[h];m&&(o[h]=function(){if(c[h])try{c[h].apply(c,arguments)}catch(g){}return m.apply(o,arguments)})},d=0,f=u;d<f.length;d++){var p=f[d];l(p)}return o};t.console={versionSpecifier:">= 4.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("console",t.console),require("console")}t.enable=i}}),u6=A({"node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongoCore=void 0;var e=ct(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var a=o.apply(this,arguments),c=this.s.pool.write;this.s.pool.write=function(){var d=typeof arguments[1]=="function"?1:2;return typeof arguments[d]=="function"&&(arguments[d]=e.channel.bindToContext(arguments[d])),c.apply(this,arguments)};var u=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=e.channel.bindToContext(arguments[1])),u.apply(this,arguments)},a},i};t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}t.enable=n}}),l6=A({"node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(c){for(var u,l=1,d=arguments.length;l<d;l++){u=arguments[l];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(c[f]=u[f])}return c},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongo330=t.mongo3=t.mongo2=void 0;var r=ct(),n=function(c){var u=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(d){return d()})}}}),l={};return u.on("started",function(d){l[d.requestId]||(l[d.requestId]=e(e({},d),{time:new Date}))}),u.on("succeeded",function(d){var f=l[d.requestId];f&&delete l[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}):r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}),u.on("failed",function(d){var f=l[d.requestId];f&&delete l[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}):r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}),c},i=function(c){var u=c.instrument(),l={},d={};return u.on("started",function(f){l[f.requestId]||(d[f.requestId]=r.channel.bindToContext(function(p){return p()}),l[f.requestId]=e(e({},f),{time:new Date}))}),u.on("succeeded",function(f){var p=l[f.requestId];p&&delete l[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!0})}),delete d[f.requestId])}),u.on("failed",function(f){var p=l[f.requestId];p&&delete l[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!1})}),delete d[f.requestId])}),c},o=function(c){var u=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var d=u.apply(this,arguments),f=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var m=typeof arguments[1]=="function"?1:2;return typeof arguments[m]=="function"&&(arguments[m]=r.channel.bindToContext(arguments[m])),f.apply(this,arguments)};var p=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),p.apply(this,arguments)},d},c},s=function(c){o(c);var u=c.instrument(),l={},d={};return u.on("started",function(f){l[f.requestId]||(d[f.requestId]=r.channel.bindToContext(function(p){return p()}),l[f.requestId]=f)}),u.on("succeeded",function(f){var p=l[f.requestId];p&&delete l[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!0})}),delete d[f.requestId])}),u.on("failed",function(f){var p=l[f.requestId];p&&delete l[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!1})}),delete d[f.requestId])}),c};t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",t.mongo2),r.channel.registerMonkeyPatch("mongodb",t.mongo3),r.channel.registerMonkeyPatch("mongodb",t.mongo330)}t.enable=a}}),d6=A({"node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mysql=void 0;var e=ct(),r=require("path"),n=function(o,s){var a=function(p,h){return function(m,g){var v=p[m];v&&(p[m]=function(){for(var C=arguments.length-1,_=arguments.length-1;_>=0;--_)if(typeof arguments[_]=="function"){C=_;break}else if(typeof arguments[_]!="undefined")break;var E=arguments[C],w={result:null,startTime:null,startDate:null};typeof E=="function"&&(g?(w.startTime=process.hrtime(),w.startDate=new Date,arguments[C]=e.channel.bindToContext(g(w,E))):arguments[C]=e.channel.bindToContext(E));var b=v.apply(this,arguments);return w.result=b,b})}},c=function(p,h){return a(p.prototype,h+".prototype")},u=["connect","changeUser","ping","statistics","end"],l=require(r.dirname(s)+"/lib/Connection");u.forEach(function(p){return c(l,"Connection")(p)}),a(l,"Connection")("createQuery",function(p,h){return function(m){var g=process.hrtime(p.startTime),v=g[0]*1e3+g[1]/1e6|0;e.channel.publish("mysql",{query:p.result,callbackArgs:arguments,err:m,duration:v,time:p.startDate}),h.apply(this,arguments)}});var d=["_enqueueCallback"],f=require(r.dirname(s)+"/lib/Pool");return d.forEach(function(p){return c(f,"Pool")(p)}),o};t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("mysql",t.mysql)}t.enable=i}}),f6=A({"node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgresPool1=void 0;var e=ct();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(a){return a&&(arguments[0]=e.channel.bindToContext(a)),o.apply(this,arguments)},i}t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}t.enable=n}}),p6=A({"node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgres7=t.postgres6=void 0;var e=ct(),r=require("events");function n(s,a){var c=s.Client.prototype.query,u="__diagnosticOriginalFunc";return s.Client.prototype.query=function(d,f,p){var h={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},m=process.hrtime(),g;function v(y){y&&y[u]&&(y=y[u]);var C=e.channel.bindToContext(function(_,E){var w=process.hrtime(m);if(h.result=E&&{rowCount:E.rowCount,command:E.command},h.error=_,h.duration=Math.ceil(w[0]*1e3+w[1]/1e6),e.channel.publish("postgres",h),_){if(y)return y.apply(this,arguments);g&&g instanceof r.EventEmitter&&g.emit("error",_)}else y&&y.apply(this,arguments)});try{return Object.defineProperty(C,u,{value:y}),C}catch(_){return y}}try{typeof d=="string"?f instanceof Array?(h.query.preparable={text:d,args:f},p=v(p)):(h.query.text=d,p?p=v(p):f=v(f)):(typeof d.name=="string"?h.query.plan=d.name:d.values instanceof Array?h.query.preparable={text:d.text,args:d.values}:h.query.text=d.text,p?p=v(p):f?f=v(f):d.callback=v(d.callback))}catch(y){return c.apply(this,arguments)}return arguments[0]=d,arguments[1]=f,arguments[2]=p,arguments.length=arguments.length>3?arguments.length:3,g=c.apply(this,arguments),g},s}function i(s,a){var c=s.Client.prototype.query,u="__diagnosticOriginalFunc";return s.Client.prototype.query=function(d,f,p){var h=this,m=!!p,g={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},v=process.hrtime(),y;function C(_){_&&_[u]&&(_=_[u]);var E=e.channel.bindToContext(function(w,b){var x=process.hrtime(v);if(g.result=b&&{rowCount:b.rowCount,command:b.command},g.error=w,g.duration=Math.ceil(x[0]*1e3+x[1]/1e6),e.channel.publish("postgres",g),w){if(_)return _.apply(this,arguments);y&&y instanceof r.EventEmitter&&y.emit("error",w)}else _&&_.apply(this,arguments)});try{return Object.defineProperty(E,u,{value:_}),E}catch(w){return _}}try{typeof d=="string"?f instanceof Array?(g.query.preparable={text:d,args:f},m=typeof p=="function",p=m?C(p):p):(g.query.text=d,p?(m=typeof p=="function",p=m?C(p):p):(m=typeof f=="function",f=m?C(f):f)):(typeof d.name=="string"?g.query.plan=d.name:d.values instanceof Array?g.query.preparable={text:d.text,args:d.values}:g.query.text=d.text,p?(m=typeof p=="function",p=C(p)):f?(m=typeof f=="function",f=m?C(f):f):(m=typeof d.callback=="function",d.callback=m?C(d.callback):d.callback))}catch(_){return c.apply(this,arguments)}return arguments[0]=d,arguments[1]=f,arguments[2]=p,arguments.length=arguments.length>3?arguments.length:3,y=c.apply(this,arguments),m?y:y.then(function(_){return C()(void 0,_),new h._Promise(function(E,w){E(_)})}).catch(function(_){return C()(_,void 0),new h._Promise(function(E,w){w(_)})})},s}t.postgres6={versionSpecifier:"6.*",patch:n},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){e.channel.registerMonkeyPatch("pg",t.postgres6),e.channel.registerMonkeyPatch("pg",t.postgres7)}t.enable=o}}),h6=A({"node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.redis=void 0;var e=ct(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,u=process.hrtime(),l=new Date;s.callback=e.channel.bindToContext(function(d,f){var p=process.hrtime(u),h=p[0]*1e3+p[1]/1e6|0;e.channel.publish("redis",{duration:h,address:c,commandObj:s,err:d,result:f,time:l}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("redis",t.redis)}t.enable=n}}),m6=A({"node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=void 0;var r=ct(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function c(l){var d=process.hrtime(),f={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(p,h,m){var g=process.hrtime(d);f=e(e({},f),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!p&&{rowCount:h,rows:m},query:{text:this.parametersByName.statement.value},error:p,duration:Math.ceil(g[0]*1e3+g[1]/1e6)}),r.channel.publish("tedious",f),l.call(this,p,h,m)})}var u=arguments[0];arguments[0].callback=c(u.callback),s.apply(this,arguments)},o};t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",t.tedious)}t.enable=i}}),g6=A({"node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js"(t){"use strict";var e=t&&t.__extends||function(){var a=function(c,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])},a(c,u)};return function(c,u){a(c,u);function l(){this.constructor=c}c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),r=t&&t.__rest||function(a,c){var u={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&c.indexOf(l)<0&&(u[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(a);d<l.length;d++)c.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(a,l[d])&&(u[l[d]]=a[l[d]]);return u};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.winston2=t.winston3=void 0;var n=ct(),i=function(a){var c=a.Logger.prototype.log,u,l=function(d,f,p){var h;return u===a.config.npm.levels?h="npm":u===a.config.syslog.levels?h="syslog":h="unknown",n.channel.publish("winston",{level:d,message:f,meta:p,levelKind:h}),f};return a.Logger.prototype.log=function(){return u=this.levels,!this.filters||this.filters.length===0?this.filters=[l]:this.filters[this.filters.length-1]!==l&&(this.filters=this.filters.filter(function(f){return f!==l}),this.filters.push(l)),c.apply(this,arguments)},a},o=function(a){var c=function(p,h){var m;return p.config.npm.levels[h]!=null?m="npm":p.config.syslog.levels[h]!=null?m="syslog":m="unknown",m},u=function(p){e(h,p);function h(m,g){var v=p.call(this,g)||this;return v.winston=m,v}return h.prototype.log=function(m,g){var v=m.message,y=m.level,C=m.meta,_=r(m,["message","level","meta"]);y=typeof Symbol.for=="function"?m[Symbol.for("level")]:y,v=m instanceof Error?m:v;var E=c(this.winston,y);C=C||{};for(var w in _)_.hasOwnProperty(w)&&(C[w]=_[w]);n.channel.publish("winston",{message:v,level:y,levelKind:E,meta:C}),g()},h}(a.Transport);function l(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);this.add(new u(a,{level:h}))}var d=a.createLogger;a.createLogger=function(){var h=arguments[0].levels||a.config.npm.levels,m;for(var g in h)h.hasOwnProperty(g)&&(m=m===void 0||h[g]>h[m]?g:m);var v=d.apply(this,arguments);v.add(new u(a,{level:m}));var y=v.configure;return v.configure=function(){y.apply(this,arguments),l.apply(this,arguments)},v};var f=a.configure;return a.configure=function(){f.apply(this,arguments),l.apply(this,arguments)},a.add(new u(a)),a};t.winston3={versionSpecifier:"3.x",patch:o},t.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",t.winston2),n.channel.registerMonkeyPatch("winston",t.winston3)}t.enable=s}}),v6=A({"node_modules/diagnostic-channel-publishers/dist/src/index.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=t.pgPool=t.pg=t.winston=t.redis=t.mysql=t.mongodb=t.mongodbCore=t.console=t.bunyan=t.azuresdk=void 0;var e=s6();t.azuresdk=e;var r=a6();t.bunyan=r;var n=c6();t.console=n;var i=u6();t.mongodbCore=i;var o=l6();t.mongodb=o;var s=d6();t.mysql=s;var a=f6();t.pgPool=a;var c=p6();t.pg=c;var u=h6();t.redis=u;var l=m6();t.tedious=l;var d=g6();t.winston=d;function f(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),u.enable(),d.enable(),e.enable(),l.enable()}t.enable=f}}),Uv=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContextPreservation=t.IsInitialized=void 0;var e=GR(),r=It();t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(t.IsInitialized){i=v6(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function u(l){if(!!t.IsInitialized){var d=ct();d.channel.addContextPreservation(l),d.channel.spanContextPropagator=e.AsyncScopeManager}}t.registerContextPreservation=u}}),jc=A({"node_modules/applicationinsights/out/Library/RequestResponseHeaders.js"(t,e){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}}),Lr=A({"node_modules/applicationinsights/out/Library/Util.js"(t,e){"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(l){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])}return l},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=It(),c=jc(),u=function(){function l(){}return l.getCookie=function(d,f){var p="";if(d&&d.length&&typeof f=="string")for(var h=d+"=",m=f.split(";"),g=0;g<m.length;g++){var f=m[g];if(f=l.trim(f),f&&f.indexOf(h)===0){p=f.substring(h.length,m[g].length);break}}return p},l.trim=function(d){return typeof d=="string"?d.replace(/^\s+|\s+$/g,""):""},l.int32ArrayToBase64=function(d){var f=function(v,y){return String.fromCharCode(v>>y&255)},p=function(v){return f(v,24)+f(v,16)+f(v,8)+f(v,0)},h=d.map(p).join(""),m=Buffer.from?Buffer.from(h,"binary"):new Buffer(h,"binary"),g=m.toString("base64");return g.substr(0,g.indexOf("="))},l.random32=function(){return 4294967296*Math.random()|0},l.randomu32=function(){return l.random32()+2147483648},l.w3cTraceId=function(){for(var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],f="",p,h=0;h<4;h++)p=l.random32(),f+=d[p&15]+d[p>>4&15]+d[p>>8&15]+d[p>>12&15]+d[p>>16&15]+d[p>>20&15]+d[p>>24&15]+d[p>>28&15];var m=d[8+Math.random()*4|0];return f.substr(0,8)+f.substr(9,4)+"4"+f.substr(13,3)+m+f.substr(16,3)+f.substr(19,12)},l.w3cSpanId=function(){return l.w3cTraceId().substring(16)},l.isValidW3CId=function(d){return d.length===32&&d!=="00000000000000000000000000000000"},l.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},l.isError=function(d){return d instanceof Error},l.isPrimitive=function(d){var f=typeof d;return f==="string"||f==="number"||f==="boolean"},l.isDate=function(d){return Object.prototype.toString.call(d)==="[object Date]"},l.msToTimeSpan=function(d){(isNaN(d)||d<0)&&(d=0);var f=(d/1e3%60).toFixed(7).replace(/0{0,4}$/,""),p=""+Math.floor(d/(1e3*60))%60,h=""+Math.floor(d/(1e3*60*60))%24,m=Math.floor(d/(1e3*60*60*24));f=f.indexOf(".")<2?"0"+f:f,p=p.length<2?"0"+p:p,h=h.length<2?"0"+h:h;var g=m>0?m+".":"";return g+h+":"+p+":"+f},l.extractError=function(d){var f=d;return{message:d.message,code:f.code||f.id||""}},l.extractObject=function(d){return d instanceof Error?l.extractError(d):typeof d.toJSON=="function"?d.toJSON():d},l.validateStringMap=function(d){if(typeof d!="object"){a.info("Invalid properties dropped from payload");return}var f={};for(var p in d){var h="",m=d[p],g=typeof m;if(l.isPrimitive(m))h=m.toString();else if(m===null||g==="undefined")h="";else if(g==="function"){a.info("key: "+p+" was function; will not serialize");continue}else{var v=l.isArray(m)?m:l.extractObject(m);try{l.isPrimitive(v)?h=v:h=JSON.stringify(v)}catch(y){h=m.constructor.name.toString()+" (Error: "+y.message+")",a.info("key: "+p+", could not be serialized")}}f[p]=h.substring(0,l.MAX_PROPERTY_LENGTH)}return f},l.canIncludeCorrelationHeader=function(d,f){var p=d&&d.config&&d.config.correlationHeaderExcludedDomains;if(!p||p.length==0||!f)return!0;for(var h=0;h<p.length;h++){var m=new RegExp(p[h].replace(/\./g,".").replace(/\*/g,".*"));if(m.test(o.parse(f).hostname))return!1}return!0},l.getCorrelationContextTarget=function(d,f){var p=d.headers&&d.headers[c.requestContextHeader];if(p)for(var h=p.split(","),m=0;m<h.length;++m){var g=h[m].split("=");if(g.length==2&&g[0]==f)return g[1]}},l.makeRequest=function(d,f,p,h){f&&f.indexOf("//")===0&&(f="https:"+f);var m=o.parse(f),g=r(r({},p),{host:m.hostname,port:m.port,path:m.pathname}),v=void 0;if(m.protocol==="https:"&&(v=d.proxyHttpsUrl||void 0),m.protocol==="http:"&&(v=d.proxyHttpUrl||void 0),v){v.indexOf("//")===0&&(v="http:"+v);var y=o.parse(v);y.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),v=void 0):g=r(r({},g),{host:y.hostname,port:y.port||"80",path:f,headers:r(r({},g.headers),{Host:m.hostname})})}var C=m.protocol==="https:"&&!v;return C&&d.httpsAgent!==void 0?g.agent=d.httpsAgent:!C&&d.httpAgent!==void 0?g.agent=d.httpAgent:C&&(g.agent=l.tlsRestrictedAgent),C?i.request(g,h):n.request(g,h)},l.safeIncludeCorrelationHeader=function(d,f,p){var h;if(typeof p=="string")h=p;else if(p instanceof Array)h=p.join(",");else if(p&&typeof p.toString=="function")try{h=p.toString()}catch(m){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",m,p)}h?l.addCorrelationIdHeaderFromString(d,f,h):f.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+d.config.correlationId)},l.dumpObj=function(d){var f=Object.prototype.toString.call(d),p="";return f==="[object Error]"?p="{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'":p=JSON.stringify(d),f+p},l.addCorrelationIdHeaderFromString=function(d,f,p){var h=p.split(","),m=c.requestContextSourceKey+"=",g=h.some(function(v){return v.substring(0,m.length)===m});g||f.setHeader(c.requestContextHeader,p+","+c.requestContextSourceKey+"="+d.config.correlationId)},l.MAX_PROPERTY_LENGTH=8192,l.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),l}();e.exports=u}}),Xs=A({"node_modules/applicationinsights/out/Library/CorrelationIdManager.js"(t,e){"use strict";var r=Lr(),n=It(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var u=function(){if(!!o.pendingLookups[c]){var l={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,l);var d=r.makeRequest(s,c,l,function(f){if(f.statusCode===200){var p="";f.setEncoding("utf-8"),f.on("data",function(h){p+=h}),f.on("end",function(){n.info(o.TAG,p);var h=o.correlationIdPrefix+p;o.completedLookups[c]=h,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(m){return m(h)}),delete o.pendingLookups[c]})}else f.statusCode>=400&&f.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(u,s.correlationIdRetryIntervalMs)});d&&(d.on("error",function(f){n.warn(o.TAG,f)}),d.end())}};setTimeout(u,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",u=o.pendingLookups[c];u&&(o.pendingLookups[c]=u.filter(function(l){return l!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var u=o.requestIdMaxLength-9;if(s.length>u)for(;u>1;--u){var l=s[u-1];if(l==="."||l==="_")break}if(u<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,u)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();e.exports=i}}),Cf=A({"node_modules/applicationinsights/out/Library/Traceparent.js"(t,e){"use strict";var r=Lr(),n=Xs(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),u=c.length;u>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&u!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var l=n.getRootId(a);o.isValidTraceId(l)||(this.legacyRootId=l,l=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=l,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();e.exports=i}}),yk=A({"node_modules/applicationinsights/out/Library/Tracestate.js"(t,e){"use strict";var r=function(){function n(i){this.fieldmap=[],!!i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=Boolean(s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),u=Boolean(a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return c&&u}else if(o.length==1)return Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,u=a;c<u.length;c++){var l=u[c],d=l.trim();if(d.length!==0){var f=d.split("=");if(f.length!==2||!n.validateKeyChars(f[0])||s[f[0]])return null;s[f[0]]=!0,o.push(d)}}return o},n.strict=!0,n}();e.exports=r}}),Fi=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js"(t,e){"use strict";var r=function(){function n(){}return n}();e.exports=r}}),y6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}}),_k=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js"(t,e){"use strict";var r=function(){function n(){}return n}();e.exports=r}}),_6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js"(t,e){"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();e.exports=r}}),C6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=_k(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);e.exports=i}}),Ck=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js"(t,e){"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),e.exports=r}}),w6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js"(t,e){"use strict";var r=Ck(),n=function(){function i(){this.kind=r.Measurement}return i}();e.exports=n}}),E6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js"(t,e){"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();e.exports=r}}),wk=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}}),b6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);e.exports=i}}),S6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js"(t,e){"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();e.exports=r}}),P6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);e.exports=i}}),T6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);e.exports=i}}),I6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wk(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}}),x6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);e.exports=i}}),A6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js"(t,e){"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Fi(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}}),R6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js"(t,e){"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),e.exports=r}}),k6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js"(t,e){"use strict";var r=function(){function n(){}return n}();e.exports=r}}),Ek=A({"node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=y6(),t.Base=_k(),t.ContextTagKeys=_6(),t.Data=C6(),t.DataPoint=w6(),t.DataPointType=Ck(),t.Domain=Fi(),t.Envelope=E6(),t.EventData=wk(),t.ExceptionData=b6(),t.ExceptionDetails=S6(),t.MessageData=P6(),t.MetricData=T6(),t.PageViewData=I6(),t.RemoteDependencyData=x6(),t.RequestData=A6(),t.SeverityLevel=R6(),t.StackFrame=k6()}}),D6=A({"node_modules/applicationinsights/out/Declarations/Contracts/Constants.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var e=Ek(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();t.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof e.EventData||i instanceof e.ExceptionData||i instanceof e.MessageData||i instanceof e.MetricData||i instanceof e.PageViewData||i instanceof e.RemoteDependencyData||i instanceof e.RequestData}t.domainSupportsProperties=n}}),O6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/DependencyTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),N6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EventTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),L6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/ExceptionTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),F6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/MetricTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),M6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/RequestTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),q6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TraceTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),j6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/Telemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),$6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpDependencyTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),U6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpRequestTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),H6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/AvailabilityTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),B6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/PageViewTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),V6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EnvelopeTelemetry.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),G6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0;function e(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}t.telemetryTypeToBaseType=e;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}t.baseTypeToTelemetryType=r,t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=t.TelemetryType||(t.TelemetryType={}))}}),W6=A({"node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(O6(),t),r(N6(),t),r(L6(),t),r(F6(),t),r(M6(),t),r(q6(),t),r(j6(),t),r($6(),t),r(U6(),t),r(H6(),t),r(B6(),t),r(V6(),t),r(G6(),t)}}),z6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MetricQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),K6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EnvelopeQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Y6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DocumentQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),X6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/ExceptionDocumentQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Q6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MessageDocumentQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),J6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DependencyDocumentQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),Z6=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/RequestDocumentQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),e9=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EventDocumentQuickPulse.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),t9=A({"node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(z6(),t),r(K6(),t),r(Y6(),t),r(X6(),t),r(Q6(),t),r(J6(),t),r(Z6(),t),r(e9(),t)}}),tr=A({"node_modules/applicationinsights/out/Declarations/Contracts/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(D6(),t),r(Ek(),t),r(W6(),t),r(t9(),t)}}),bk=A({"node_modules/applicationinsights/out/AutoCollection/RequestParser.js"(t,e){"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();e.exports=r}}),Sk=A({"node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js"(t,e){"use strict";var r=t&&t.__extends||function(){var f=function(p,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},f(p,h)};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),n=require("url"),i=tr(),o=Lr(),s=jc(),a=bk(),c=Xs(),u=yk(),l=Cf(),d=function(f){r(p,f);function p(h,m){var g=f.call(this)||this;return h&&(g.method=h.method,g.url=g._getAbsoluteUrl(h),g.startTime=+new Date,g.socketRemoteAddress=h.socket&&h.socket.remoteAddress,g.parseHeaders(h,m),h.connection&&(g.connectionRemoteAddress=h.connection.remoteAddress,g.legacySocketRemoteAddress=h.connection.socket&&h.connection.socket.remoteAddress)),g}return p.prototype.onError=function(h,m){this._setStatus(void 0,h),m&&(this.duration=m)},p.prototype.onResponse=function(h,m){this._setStatus(h.statusCode,void 0),m&&(this.duration=m)},p.prototype.getRequestTelemetry=function(h){var m={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(h&&h.time?m.time=h.time:this.startTime&&(m.time=new Date(this.startTime)),h){for(var g in h)m[g]||(m[g]=h[g]);if(h.properties)for(var g in h.properties)m.properties[g]=h.properties[g]}return m},p.prototype.getRequestTags=function(h){var m={};for(var g in h)m[g]=h[g];return m[p.keys.locationIp]=h[p.keys.locationIp]||this._getIp(),m[p.keys.sessionId]=h[p.keys.sessionId]||this._getId("ai_session"),m[p.keys.userId]=h[p.keys.userId]||this._getId("ai_user"),m[p.keys.userAuthUserId]=h[p.keys.userAuthUserId]||this._getId("ai_authUser"),m[p.keys.operationName]=this.getOperationName(h),m[p.keys.operationParentId]=this.getOperationParentId(h),m[p.keys.operationId]=this.getOperationId(h),m},p.prototype.getOperationId=function(h){return h[p.keys.operationId]||this.operationId},p.prototype.getOperationParentId=function(h){return h[p.keys.operationParentId]||this.parentId||this.getOperationId(h)},p.prototype.getOperationName=function(h){return h[p.keys.operationName]||this.method+" "+n.parse(this.url).pathname},p.prototype.getRequestId=function(){return this.requestId},p.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},p.prototype.getTraceparent=function(){return this.traceparent},p.prototype.getTracestate=function(){return this.tracestate},p.prototype.getLegacyRootId=function(){return this.legacyRootId},p.prototype._getAbsoluteUrl=function(h){if(!h.headers)return h.url;var m=h.connection?h.connection.encrypted:null,g=n.parse(h.url),v=g.pathname,y=g.search,C=m||h.headers["x-forwarded-proto"]=="https"?"https":"http",_=n.format({protocol:C,host:h.headers.host,pathname:v,search:y});return _},p.prototype._getIp=function(){var h=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,m=function(v){var y=h.exec(v);if(y)return y[0]},g=m(this.rawHeaders["x-forwarded-for"])||m(this.rawHeaders["x-client-ip"])||m(this.rawHeaders["x-real-ip"])||m(this.connectionRemoteAddress)||m(this.socketRemoteAddress)||m(this.legacySocketRemoteAddress);return!g&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(g="127.0.0.1"),g},p.prototype._getId=function(h){var m=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",g=p.parseId(o.getCookie(h,m));return g},p.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},p.prototype.parseHeaders=function(h,m){if(this.rawHeaders=h.headers||h.rawHeaders,this.userAgent=h.headers&&h.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(h,s.requestContextSourceKey),h.headers){var g=h.headers[s.traceStateHeader]?h.headers[s.traceStateHeader].toString():null,v=h.headers[s.traceparentHeader]?h.headers[s.traceparentHeader].toString():null,y=h.headers[s.requestIdHeader]?h.headers[s.requestIdHeader].toString():null,C=h.headers[s.parentIdHeader]?h.headers[s.parentIdHeader].toString():null,_=h.headers[s.rootIdHeader]?h.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=h.headers[s.correlationContextHeader]?h.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(v||g)?(this.traceparent=new l(v?v.toString():null),this.tracestate=v&&g&&new u(g?g.toString():null),this.setBackCompatFromThisTraceContext()):y?c.w3cEnabled?(this.traceparent=new l(null,y),this.setBackCompatFromThisTraceContext()):(this.parentId=y,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new l,this.traceparent.parentId=C,this.traceparent.legacyRootId=_||C,this.setBackCompatFromThisTraceContext()):(this.parentId=C,this.requestId=c.generateRequestId(_||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=c.getRootId(this.requestId))}},p.parseId=function(h){var m=h.split("|");return m.length>0?m[0]:""},p.keys=new i.ContextTagKeys,p}(a);e.exports=d}}),Hv=A({"node_modules/shimmer/index.js"(t,e){"use strict";function r(l){return typeof l=="function"}var n=console.error.bind(console);function i(l,d,f){var p=!!l[d]&&l.propertyIsEnumerable(d);Object.defineProperty(l,d,{configurable:!0,enumerable:p,writable:!0,value:f})}function o(l){l&&l.logger&&(r(l.logger)?n=l.logger:n("new logger isn't a function, not replacing"))}function s(l,d,f){if(!l||!l[d]){n("no original function "+d+" to wrap");return}if(!f){n("no wrapper function"),n(new Error().stack);return}if(!r(l[d])||!r(f)){n("original object and wrapper must be functions");return}var p=l[d],h=f(p,d);return i(h,"__original",p),i(h,"__unwrap",function(){l[d]===h&&i(l,d,p)}),i(h,"__wrapped",!0),i(l,d,h),h}function a(l,d,f){if(l)Array.isArray(l)||(l=[l]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to wrap on modules");return}l.forEach(function(p){d.forEach(function(h){s(p,h,f)})})}function c(l,d){if(!l||!l[d]){n("no function to unwrap."),n(new Error().stack);return}if(!l[d].__unwrap)n("no original to unwrap to -- has "+d+" already been unwrapped?");else return l[d].__unwrap()}function u(l,d){if(l)Array.isArray(l)||(l=[l]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to unwrap on modules");return}l.forEach(function(f){d.forEach(function(p){c(f,p)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=u,e.exports=o}}),Bv=A({"node_modules/emitter-listener/listener.js"(t,e){"use strict";var r=Hv(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(d,f,p){var h=!!d[f]&&d.propertyIsEnumerable(f);Object.defineProperty(d,f,{configurable:!0,enumerable:h,writable:!0,value:p})}function a(d,f){for(var p=f.length,h=0;h<p;h++){var m=f[h],g=d[o];if(typeof g=="function")g(m);else if(Array.isArray(g))for(var v=g.length,y=0;y<v;y++)g[y](m)}}function c(d,f){var p;return p=d._events&&d._events[f],Array.isArray(p)||(p?p=[p]:p=[]),p}function u(d,f,p){var h=c(d,f),m=h.filter(function(g){return p.indexOf(g)===-1});m.length>0&&a(d,m)}function l(d,f){if(!!d){var p=d;if(typeof d=="function")p=f(d);else if(Array.isArray(d)){p=[];for(var h=0;h<d.length;h++)p[h]=f(d[h])}return p}}e.exports=function(f,p,h){if(!f||!f.on||!f.addListener||!f.removeListener||!f.emit)throw new Error("can only wrap real EEs");if(!p)throw new Error("must have function to run on listener addition");if(!h)throw new Error("must have function to wrap listeners when emitting");function m(v){return function(C,_){var E=c(this,C).slice();try{var w=v.call(this,C,_);return u(this,C,E),w}finally{this.on.__wrapped||n(this,"on",m),this.addListener.__wrapped||n(this,"addListener",m)}}}function g(v){return function(C){if(!this._events||!this._events[C])return v.apply(this,arguments);var _=this._events[C];function E(w){return function(){this._events[C]=_;try{return w.apply(this,arguments)}finally{_=this._events[C],this._events[C]=l(_,h)}}}n(this,"removeListener",E);try{return this._events[C]=l(_,h),v.apply(this,arguments)}finally{i(this,"removeListener"),this._events[C]=_}}}f[o]?typeof f[o]=="function"?s(f,o,[f[o],p]):Array.isArray(f[o])&&f[o].push(p):s(f,o,p),f.__wrapped||(n(f,"addListener",m),n(f,"on",m),n(f,"emit",g),s(f,"__unwrap",function(){i(f,"addListener"),i(f,"on"),i(f,"emit"),delete f[o],delete f.__wrapped}),s(f,"__wrapped",!0))}}}),r9=A({"node_modules/cls-hooked/context.js"(t,e){"use strict";var r=require("util"),n=require("assert"),i=Bv(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,u=-1;e.exports={getNamespace:d,createNamespace:f,destroyNamespace:p,reset:h,ERROR_SYMBOL:a};function l(g){this.name=g,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}l.prototype.set=function(v,y){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[v]=y,c){let C=" ".repeat(this._indent<0?0:this._indent);m(C+"CONTEXT-SET KEY:"+v+"="+y+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return y},l.prototype.get=function(v){if(!this.active){if(c){let y=o.currentId(),C=o.triggerAsyncId(),_=" ".repeat(this._indent<0?0:this._indent);m(`${_}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${v}=undefined currentUid:${u} asyncHooksCurrentId:${y} triggerId:${C} len:${this._set.length}`)}return}if(c){let y=o.executionAsyncId(),C=o.triggerAsyncId(),_=" ".repeat(this._indent<0?0:this._indent);m(_+"CONTEXT-GETTING KEY:"+v+"="+this.active[v]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${_}CONTEXT-GETTING KEY: (${this.name}) ${v}=${this.active[v]} currentUid:${u} asyncHooksCurrentId:${y} triggerId:${C} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[v]},l.prototype.createContext=function(){let v=Object.create(this.active?this.active:Object.prototype);if(v._ns_name=this.name,v.id=u,c){let y=o.executionAsyncId(),C=o.triggerAsyncId(),_=" ".repeat(this._indent<0?0:this._indent);m(`${_}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${y} triggerId:${C} len:${this._set.length} context:${r.inspect(v,{showHidden:!0,depth:2,colors:!0})}`)}return v},l.prototype.run=function(v){let y=this.createContext();this.enter(y);try{if(c){let C=o.triggerAsyncId(),_=o.executionAsyncId(),E=" ".repeat(this._indent<0?0:this._indent);m(`${E}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${C} asyncHooksCurrentId:${_} len:${this._set.length} context:${r.inspect(y)}`)}return v(y),y}catch(C){throw C&&(C[a]=y),C}finally{if(c){let C=o.triggerAsyncId(),_=o.executionAsyncId(),E=" ".repeat(this._indent<0?0:this._indent);m(`${E}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${C} asyncHooksCurrentId:${_} len:${this._set.length} ${r.inspect(y)}`)}this.exit(y)}},l.prototype.runAndReturn=function(v){let y;return this.run(function(C){y=v(C)}),y},l.prototype.runPromise=function(v){let y=this.createContext();this.enter(y);let C=v(y);if(!C||!C.then||!C.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(y)),C.then(_=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(y)),this.exit(y),_)).catch(_=>{throw _[a]=y,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(y)),this.exit(y),_})},l.prototype.bind=function(v,y){y||(this.active?y=this.active:y=this.createContext());let C=this;return function(){C.enter(y);try{return v.apply(this,arguments)}catch(E){throw E&&(E[a]=y),E}finally{C.exit(y)}}},l.prototype.enter=function(v){if(n.ok(v,"context must be provided for entering"),c){let y=o.executionAsyncId(),C=o.triggerAsyncId(),_=" ".repeat(this._indent<0?0:this._indent);m(`${_}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${C} asyncHooksCurrentId:${y} len:${this._set.length} ${r.inspect(v)}`)}this._set.push(this.active),this.active=v},l.prototype.exit=function(v){if(n.ok(v,"context must be provided for exiting"),c){let C=o.executionAsyncId(),_=o.triggerAsyncId(),E=" ".repeat(this._indent<0?0:this._indent);m(`${E}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${_} asyncHooksCurrentId:${C} len:${this._set.length} ${r.inspect(v)}`)}if(this.active===v){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let y=this._set.lastIndexOf(v);y<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(v)),n.ok(y>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(v))):(n.ok(y,"can't remove top context"),this._set.splice(y,1))},l.prototype.bindEmitter=function(v){n.ok(v.on&&v.addListener&&v.emit,"can only bind real EEs");let y=this,C="context@"+this.name;function _(w){!w||(w[s]||(w[s]=Object.create(null)),w[s][C]={namespace:y,context:y.active})}function E(w){if(!(w&&w[s]))return w;let b=w,x=w[s];return Object.keys(x).forEach(function(R){let k=x[R];b=k.namespace.bind(b,k.context)}),b}i(v,_,E)},l.prototype.fromException=function(v){return v[a]};function d(g){return process.namespaces[g]}function f(g){n.ok(g,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${g})`);let v=new l(g);return v.id=u,o.createHook({init(C,_,E,w){if(u=o.executionAsyncId(),v.active){if(v._contexts.set(C,v.active),c){let b=" ".repeat(v._indent<0?0:v._indent);m(`${b}INIT [${_}] (${g}) asyncId:${C} currentUid:${u} triggerId:${E} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${w}`)}}else if(u===0){let b=o.triggerAsyncId(),x=v._contexts.get(b);if(x){if(v._contexts.set(C,x),c){let R=" ".repeat(v._indent<0?0:v._indent);m(`${R}INIT USING CONTEXT FROM TRIGGERID [${_}] (${g}) asyncId:${C} currentUid:${u} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${w}`)}}else if(c){let R=" ".repeat(v._indent<0?0:v._indent);m(`${R}INIT MISSING CONTEXT [${_}] (${g}) asyncId:${C} currentUid:${u} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${w}`)}}if(c&&_==="PROMISE"){m(r.inspect(w,{showHidden:!0}));let b=w.parentId,x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT RESOURCE-PROMISE [${_}] (${g}) parentId:${b} asyncId:${C} currentUid:${u} triggerId:${E} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${w}`)}},before(C){u=o.executionAsyncId();let _;if(_=v._contexts.get(C)||v._contexts.get(u),_){if(c){let E=o.triggerAsyncId(),w=" ".repeat(v._indent<0?0:v._indent);m(`${w}BEFORE (${g}) asyncId:${C} currentUid:${u} triggerId:${E} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(_)}`),v._indent+=2}v.enter(_)}else if(c){let E=o.triggerAsyncId(),w=" ".repeat(v._indent<0?0:v._indent);m(`${w}BEFORE MISSING CONTEXT (${g}) asyncId:${C} currentUid:${u} triggerId:${E} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(v._contexts,{showHidden:!0,depth:2,colors:!0})}`),v._indent+=2}},after(C){u=o.executionAsyncId();let _;if(_=v._contexts.get(C)||v._contexts.get(u),_){if(c){let E=o.triggerAsyncId();v._indent-=2;let w=" ".repeat(v._indent<0?0:v._indent);m(`${w}AFTER (${g}) asyncId:${C} currentUid:${u} triggerId:${E} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(_)}`)}v.exit(_)}else if(c){let E=o.triggerAsyncId();v._indent-=2;let w=" ".repeat(v._indent<0?0:v._indent);m(`${w}AFTER MISSING CONTEXT (${g}) asyncId:${C} currentUid:${u} triggerId:${E} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(_)}`)}},destroy(C){if(u=o.executionAsyncId(),c){let _=o.triggerAsyncId(),E=" ".repeat(v._indent<0?0:v._indent);m(`${E}DESTROY (${g}) currentUid:${u} asyncId:${C} triggerId:${_} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(v._contexts.get(u))}`)}v._contexts.delete(C)}}).enable(),process.namespaces[g]=v,v}function p(g){let v=d(g);n.ok(v,`can't delete nonexistent namespace! "`+g+'"'),n.ok(v.id,"don't assign to process.namespaces directly! "+r.inspect(v)),process.namespaces[g]=null}function h(){process.namespaces&&Object.keys(process.namespaces).forEach(function(g){p(g)}),process.namespaces=Object.create(null)}process.namespaces={};function m(...g){c&&process._rawDebug(`${r.format(...g)}`)}}}),n9=A({"node_modules/async-hook-jl/patches/next-tick.js"(t,e){"use strict";function r(){}e.exports=function(){let i=this._hooks,o=this._state,s=process.nextTick;process.nextTick=function(){if(!o.enabled)return s.apply(process,arguments);let a=new Array(arguments.length);for(let d=0;d<arguments.length;d++)a[d]=arguments[d];let c=a[0];if(typeof c!="function")throw new TypeError("callback is not a function");let u=new r,l=--o.counter;return i.init.call(u,l,0,null,null),a[0]=function(){i.pre.call(u,l);let d=!0;try{c.apply(this,arguments),d=!1}finally{d&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){i.post.call(u,l,!0),i.destroy.call(null,l)})}i.post.call(u,l,!1),i.destroy.call(null,l)},s.apply(process,a)}}}}),i9=A({"node_modules/async-hook-jl/patches/promise.js"(t,e){"use strict";function r(){}e.exports=function(){let i=this._hooks,o=this._state,s=global.Promise,a=s.prototype.then;s.prototype.then=d;function c(f,p,h,m){return typeof f!="function"?m?u(h):l(h):function(){i.pre.call(p,h);try{return f.apply(this,arguments)}finally{i.post.call(p,h,!1),i.destroy.call(null,h)}}}function u(f){return function(h){return i.destroy.call(null,f),h}}function l(f){return function(h){throw i.destroy.call(null,f),h}}function d(f,p){if(!o.enabled)return a.call(this,f,p);let h=new r,m=--o.counter;return i.init.call(h,m,0,null,null),a.call(this,c(f,h,m,!0),c(p,h,m,!1))}}}}),o9=A({"node_modules/async-hook-jl/patches/timers.js"(t,e){"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,u=null,l=!1;e.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),d(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function d(f,p,h,m,g,v,y){let C=r[h],_=r[m];r[h]=function(){if(!p.enabled)return C.apply(r,arguments);let E=new Array(arguments.length);for(let k=0;k<arguments.length;k++)E[k]=arguments[k];let w=E[0];if(typeof w!="function")throw new TypeError('"callback" argument must be a function');let b=new g,x=--p.counter,R;return f.init.call(b,x,0,null,null),E[0]=function(){u=R,f.pre.call(b,x);let k=!0;try{w.apply(this,arguments),k=!1}finally{k&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){f.post.call(b,x,!0),v.delete(R),f.destroy.call(null,x)})}f.post.call(b,x,!1),u=null,(y||l)&&(l=!1,v.delete(R),f.destroy.call(null,x))},R=C.apply(r,E),v.set(R,x),R},r[m]=function(E){if(u===E&&E!==null)l=!0;else if(v.has(E)){let w=v.get(E);v.delete(E),f.destroy.call(null,w)}_.apply(r,arguments)}}}}),Pk=A({"node_modules/async-hook-jl/package.json"(t,e){e.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}}),s9=A({"node_modules/async-hook-jl/async-hook.js"(t,e){"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:n9(),promise:i9(),timers:o9()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let l=this.initFns=[],d=this.preFns=[],f=this.postFns=[],p=this.destroyFns=[];this.init=function(h,m,g,v){if(m===n){o.add(h);return}for(let y of l)y(h,this,m,g,v)},this.pre=function(h){if(!o.has(h))for(let m of d)m(h,this)},this.post=function(h,m){if(!o.has(h))for(let g of f)g(h,this,m)},this.destroy=function(h){if(o.has(h)){o.delete(h);return}for(let m of p)m(h)}}a.prototype.add=function(l){l.init&&this.initFns.push(l.init),l.pre&&this.preFns.push(l.pre),l.post&&this.postFns.push(l.post),l.destroy&&this.destroyFns.push(l.destroy)};function c(l,d){let f=l.indexOf(d);f!==-1&&l.splice(f,1)}a.prototype.remove=function(l){l.init&&c(this.initFns,l.init),l.pre&&c(this.preFns,l.pre),l.post&&c(this.postFns,l.post),l.destroy&&c(this.destroyFns,l.destroy)};function u(){this._state=new s,this._hooks=new a,this.version=Pk().version,this.providers=r.Providers;for(let l of Object.keys(i))i[l].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}e.exports=u,u.prototype.addHooks=function(l){this._hooks.add(l)},u.prototype.removeHooks=function(l){this._hooks.remove(l)},u.prototype.enable=function(){this._state.enabled=!0,r.enable()},u.prototype.disable=function(){this._state.enabled=!1,r.disable()}}}),Tk=A({"node_modules/stack-chain/package.json"(t,e){e.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}}),a9=A({"node_modules/stack-chain/format.js"(t,e){function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch(o){return"<error>"}}}e.exports=function(i,o){var s=[];s.push(r(i));for(var a=0;a<o.length;a++){var c=o[a],u;try{u=c.toString()}catch(l){try{u="<error: "+l+">"}catch(d){u="<error>"}}s.push("    at "+u)}return s.join(`
`)}}}),c9=A({"node_modules/stack-chain/stack-chain.js"(t,e){var r=a9();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=Tk().version}var i=!1;n.prototype.callSite=function d(f){f||(f={}),i=!0;var p={};Error.captureStackTrace(p,d);var h=p.stack;return i=!1,h=h.slice(f.slice||0),f.extend&&(h=this.extend._modify(p,h)),f.filter&&(h=this.filter._modify(p,h)),h};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(d,f){for(var p=0,h=this._modifiers.length;p<h;p++)f=this._modifiers[p](d,f);return f},s.prototype.attach=function(d){this._modifiers.push(d)},s.prototype.deattach=function(d){var f=this._modifiers.indexOf(d);return f===-1?!1:(this._modifiers.splice(f,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(d){d?this._formater=d:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function u(d,f){if(i)return f;if(c)return r(d,f);var p=f.concat();p=o.extend._modify(d,p),p=o.filter._modify(d,p),p=p.slice(0,Error.stackTraceLimit),Object.isExtensible(d)&&Object.getOwnPropertyDescriptor(d,"callSite")===void 0&&(d.callSite={original:f,mutated:p}),c=!0;var h=o.format._formater(d,p);return c=!1,h}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(d){d===u?o.format._roolback():(o.format._backup(),o.format.replace(d))}});function l(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:l,set:function(d){Object.defineProperty(this,"callSite",{value:d,writable:!0,configurable:!0})},configurable:!0}),e.exports=o}}),Ik=A({"node_modules/stack-chain/index.js"(t,e){if(global._stackChain)if(global._stackChain.version===Tk().version)e.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else e.exports=global._stackChain=c9()}}),u9=A({"node_modules/async-hook-jl/index.js"(t,e){"use strict";var r=s9();if(global._asyncHook)if(global._asyncHook.version===Pk().version)e.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else Ik().filter.attach(function(i,o){return o.filter(function(s){let a=s.getFileName();return!(a&&a.slice(0,__dirname.length)===__dirname)})}),e.exports=global._asyncHook=new r}}),l9=A({"node_modules/cls-hooked/context-legacy.js"(t,e){"use strict";var r=require("util"),n=require("assert"),i=Bv(),o=u9(),s="cls@contexts",a="error@context",c=[];for(let _ in o.providers)c[o.providers[_]]=_;var u=process.env.DEBUG_CLS_HOOKED,l=-1;e.exports={getNamespace:f,createNamespace:p,destroyNamespace:h,reset:m,ERROR_SYMBOL:a};function d(_){this.name=_,this.active=null,this._set=[],this.id=null,this._contexts=new Map}d.prototype.set=function(E,w){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&g("    SETTING KEY:"+E+"="+w+" in ns:"+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[E]=w,w},d.prototype.get=function(E){if(!this.active){u&&g("    GETTING KEY:"+E+"=undefined "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0));return}return u&&g("    GETTING KEY:"+E+"="+this.active[E]+" "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[E]},d.prototype.createContext=function(){u&&g("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let E=Object.create(this.active?this.active:Object.prototype);return E._ns_name=this.name,E.id=l,u&&g("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+r.inspect(E,!0,2,!0)),E},d.prototype.run=function(E){let w=this.createContext();this.enter(w);try{return u&&g(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(w)),E(w),w}catch(b){throw b&&(b[a]=w),b}finally{u&&g(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(w)),this.exit(w)}},d.prototype.runAndReturn=function(E){var w;return this.run(function(b){w=E(b)}),w},d.prototype.runPromise=function(E){let w=this.createContext();this.enter(w);let b=E(w);if(!b||!b.then||!b.catch)throw new Error("fn must return a promise.");return u&&g(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(w)),b.then(x=>(u&&g(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(w)),this.exit(w),x)).catch(x=>{throw x[a]=w,u&&g(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(w)),this.exit(w),x})},d.prototype.bind=function(E,w){w||(this.active?w=this.active:w=this.createContext());let b=this;return function(){b.enter(w);try{return E.apply(this,arguments)}catch(R){throw R&&(R[a]=w),R}finally{b.exit(w)}}},d.prototype.enter=function(E){n.ok(E,"context must be provided for entering"),u&&g("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(E)),this._set.push(this.active),this.active=E},d.prototype.exit=function(E){if(n.ok(E,"context must be provided for exiting"),u&&g("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(E)),this.active===E){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let w=this._set.lastIndexOf(E);w<0?(u&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(E)),n.ok(w>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(E))):(n.ok(w,"can't remove top context"),this._set.splice(w,1))},d.prototype.bindEmitter=function(E){n.ok(E.on&&E.addListener&&E.emit,"can only bind real EEs");let w=this,b="context@"+this.name;function x(k){!k||(k[s]||(k[s]=Object.create(null)),k[s][b]={namespace:w,context:w.active})}function R(k){if(!(k&&k[s]))return k;let q=k,H=k[s];return Object.keys(H).forEach(function(Z){let ee=H[Z];q=ee.namespace.bind(q,ee.context)}),q}i(E,x,R)},d.prototype.fromException=function(E){return E[a]};function f(_){return process.namespaces[_]}function p(_){n.ok(_,"namespace must be given a name."),u&&g("CREATING NAMESPACE "+_);let E=new d(_);return E.id=l,o.addHooks({init(w,b,x,R,k){l=w,R?(E._contexts.set(w,E._contexts.get(R)),u&&g("PARENTID: "+_+" uid:"+w+" parent:"+R+" provider:"+x)):E._contexts.set(l,E.active),u&&g("INIT "+_+" uid:"+w+" parent:"+R+" provider:"+c[x]+" active:"+r.inspect(E.active,!0))},pre(w,b){l=w;let x=E._contexts.get(w);x?(u&&g(" PRE "+_+" uid:"+w+" handle:"+v(b)+" context:"+r.inspect(x)),E.enter(x)):u&&g(" PRE MISSING CONTEXT "+_+" uid:"+w+" handle:"+v(b))},post(w,b){l=w;let x=E._contexts.get(w);x?(u&&g(" POST "+_+" uid:"+w+" handle:"+v(b)+" context:"+r.inspect(x)),E.exit(x)):u&&g(" POST MISSING CONTEXT "+_+" uid:"+w+" handle:"+v(b))},destroy(w){l=w,u&&g("DESTROY "+_+" uid:"+w+" context:"+r.inspect(E._contexts.get(l))+" active:"+r.inspect(E.active,!0)),E._contexts.delete(w)}}),process.namespaces[_]=E,E}function h(_){let E=f(_);n.ok(E,`can't delete nonexistent namespace! "`+_+'"'),n.ok(E.id,"don't assign to process.namespaces directly! "+r.inspect(E)),process.namespaces[_]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(_){h(_)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function g(_){process.env.DEBUG&&process._rawDebug(_)}function v(_){if(!_)return _;if(typeof _=="function")return _.name?_.name:(_.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(_.constructor&&_.constructor.name)return _.constructor.name}if(u){y=Ik();for(C in y.filter._modifiers)y.filter.deattach(C)}var y,C}}),d9=A({"node_modules/cls-hooked/index.js"(t,e){"use strict";var r=Lv();process&&r.gte(process.versions.node,"8.0.0")?e.exports=r9():e.exports=l9()}}),f9=A({"node_modules/async-listener/glue.js"(t,e){var r=Hv().wrap,n=1<<0,i=1<<1,o=1<<2,s=1<<3,a=[],c=0,u=!1,l=[],d,f;function p(b,x){var R=b.length,k=x.length,q=[];if(R===0&&k===0)return q;for(var H=0;H<R;H++)q[H]=b[H];if(k===0)return q;for(var Z=0;Z<k;Z++){var ee=!0;for(H=0;H<R;H++)if(b[H].uid===x[Z].uid){ee=!1;break}ee&&q.push(x[Z])}return q}process._fatalException?(h=!1,d=function(x){var R=a.length;if(h||R===0)return!1;var k=!1;h=!0;for(var q=0;q<R;++q){var H=a[q];if((H.flags&s)!=0){var Z=m&&m[H.uid];k=H.error(Z,x)||k}}return h=!1,l.length>0&&(a=l.pop()),m=void 0,k&&!u},f=function(x,R,k){var q=[];u=!0;for(var H=0;H<k;++H){var Z=R[H];if(q[Z.uid]=Z.data,(Z.flags&n)!=0){var ee=Z.create(Z.data);ee!==void 0&&(q[Z.uid]=ee)}}return u=!1,function(){m=q,l.push(a),a=p(R,a),u=!0;for(var V=0;V<k;++V)(R[V].flags&i)>0&&R[V].before(this,q[R[V].uid]);u=!1;var $=x.apply(this,arguments);for(u=!0,V=0;V<k;++V)(R[V].flags&o)>0&&R[V].after(this,q[R[V].uid]);return u=!1,a=l.pop(),m=void 0,$}},r(process,"_fatalException",function(b){return function(R){return d(R)||b(R)}})):(g=!1,d=function(x){if(g)throw x;for(var R=!1,k=a.length,q=0;q<k;++q){var H=a[q];(H.flags&s)!=0&&(R=H.error(null,x)||R)}if(!R&&u)throw x},f=function(x,R,k){var q=[];u=!0;for(var H=0;H<k;++H){var Z=R[H];if(q[Z.uid]=Z.data,(Z.flags&n)!=0){var ee=Z.create(Z.data);ee!==void 0&&(q[Z.uid]=ee)}}return u=!1,function(){var V=!1,$=!1;l.push(a),a=p(R,a),u=!0;for(var P=0;P<k;++P)(R[P].flags&i)>0&&R[P].before(this,q[R[P].uid]);u=!1;var N;try{N=x.apply(this,arguments)}catch(F){V=!0;for(var P=0;P<k;++P)if((a[P].flags&s)!=0)try{$=a[P].error(q[R[P].uid],F)||$}catch(z){throw g=!0,z}if(!$)throw process.removeListener("uncaughtException",d),process._originalNextTick(function(){process.addListener("uncaughtException",d)}),F}finally{if(!V||$){for(u=!0,P=0;P<k;++P)(R[P].flags&o)>0&&R[P].after(this,q[R[P].uid]);u=!1}a=l.pop()}return N}},process.addListener("uncaughtException",d));var h,m,g;function v(b,x,R){u=!0;for(var k=0;k<R;++k){var q=x[k];q.create&&q.create(q.data)}return u=!1,function(){l.push(a),a=p(x,a);var H=b.apply(this,arguments);return a=l.pop(),H}}function y(b){var x=a.length;if(x===0)return b;for(var R=a.slice(),k=0;k<x;++k)if(R[k].flags>0)return f(b,R,x);return v(b,R,x)}function C(b,x){typeof b.create=="function"&&(this.create=b.create,this.flags|=n),typeof b.before=="function"&&(this.before=b.before,this.flags|=i),typeof b.after=="function"&&(this.after=b.after,this.flags|=o),typeof b.error=="function"&&(this.error=b.error,this.flags|=s),this.uid=++c,this.data=x===void 0?null:x}C.prototype.create=void 0,C.prototype.before=void 0,C.prototype.after=void 0,C.prototype.error=void 0,C.prototype.data=void 0,C.prototype.uid=0,C.prototype.flags=0;function _(b,x){if(typeof b!="object"||!b)throw new TypeError("callbacks argument must be an object");return b instanceof C?b:new C(b,x)}function E(b,x){var R;b instanceof C?R=b:R=_(b,x);for(var k=!1,q=0;q<a.length;q++)if(R===a[q]){k=!0;break}return k||a.push(R),R}function w(b){for(var x=0;x<a.length;x++)if(b===a[x]){a.splice(x,1);break}}process.createAsyncListener=_,process.addAsyncListener=E,process.removeAsyncListener=w,e.exports=y}}),p9=A({"node_modules/async-listener/es6-wrapped-promise.js"(t,e){"use strict";e.exports=(r,n)=>class extends r{constructor(o){var s,a;super(u);var c=this;try{o.apply(s,a)}catch(l){a[1](l)}return c;function u(l,d){s=this,a=[f,p];function f(h){return n(c,!1),l(h)}function p(h){return n(c,!1),d(h)}}}}}}),h9=A({"node_modules/async-listener/index.js"(){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var t=Hv(),e=Lv(),r=t.wrap,n=t.massWrap,i=f9(),o=require("util"),s=e.gte(process.version,"6.0.0"),a=e.gte(process.version,"7.0.0"),c=e.gte(process.version,"8.0.0"),u=e.gte(process.version,"11.0.0"),l=require("net");a&&!l._normalizeArgs?l._normalizeArgs=function(P){if(P.length===0)return[{},null];var N=P[0],F={};typeof N=="object"&&N!==null?F=N:$(N)?F.path=N:(F.port=N,P.length>1&&typeof P[1]=="string"&&(F.host=P[1]));var W=P[P.length-1];return typeof W!="function"?[F,null]:[F,W]}:!a&&!l._normalizeConnectArgs&&(l._normalizeConnectArgs=function(P){var N={};function F(z){return(z=Number(z))>=0?z:!1}typeof P[0]=="object"&&P[0]!==null?N=P[0]:typeof P[0]=="string"&&F(P[0])===!1?N.path=P[0]:(N.port=P[0],typeof P[1]=="string"&&(N.host=P[1]));var W=P[P.length-1];return typeof W=="function"?[N,W]:[N]}),"_setUpListenHandle"in l.Server.prototype?r(l.Server.prototype,"_setUpListenHandle",d):r(l.Server.prototype,"_listen2",d);function d(P){return function(){this.on("connection",function(N){N._handle&&(N._handle.onread=i(N._handle.onread))});try{return P.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function f(P){if(P&&P._handle){var N=P._handle;N._originalOnread||(N._originalOnread=N.onread),N.onread=i(N._originalOnread)}}r(l.Socket.prototype,"connect",function(P){return function(){var N;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?N=arguments[0]:N=a?l._normalizeArgs(arguments):l._normalizeConnectArgs(arguments),N[1]&&(N[1]=i(N[1]));var F=P.apply(this,N);return f(this),F}});var p=require("http");r(p.Agent.prototype,"addRequest",function(P){return function(N){var F=N.onSocket;return N.onSocket=i(function(W){return f(W),F.apply(this,arguments)}),P.apply(this,arguments)}});var h=require("child_process");function m(P){Array.isArray(P.stdio)&&P.stdio.forEach(function(N){N&&N._handle&&(N._handle.onread=i(N._handle.onread),r(N._handle,"close",ee))}),P._handle&&(P._handle.onexit=i(P._handle.onexit))}h.ChildProcess?r(h.ChildProcess.prototype,"spawn",function(P){return function(){var N=P.apply(this,arguments);return m(this),N}}):n(h,["execFile","fork","spawn"],function(P){return function(){var N=P.apply(this,arguments);return m(N),N}}),process._fatalException||(process._originalNextTick=process.nextTick);var g=[];process._nextDomainTick&&g.push("_nextDomainTick"),process._tickDomainCallback&&g.push("_tickDomainCallback"),n(process,g,Z),r(process,"nextTick",ee);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var y=require("timers"),C=global.setTimeout===y.setTimeout;n(y,v,ee),C&&n(global,v,ee);var _=require("dns");n(_,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],Z),_.resolveNaptr&&r(_,"resolveNaptr",Z);var E=require("fs");n(E,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],Z),E.lchown&&r(E,"lchown",Z),E.lchmod&&r(E,"lchmod",Z),E.ftruncate&&r(E,"ftruncate",Z);var w;try{w=require("zlib")}catch(P){}w&&w.Deflate&&w.Deflate.prototype&&(b=Object.getPrototypeOf(w.Deflate.prototype),b._transform?r(b,"_transform",Z):b.write&&b.flush&&b.end&&n(b,["write","flush","end"],Z));var b,x;try{x=require("crypto")}catch(P){}x&&(R=["pbkdf2","randomBytes"],u||R.push("pseudoRandomBytes"),n(x,R,Z));var R,k=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";k&&(q=process.addAsyncListener({create:function(){k=!1}}),global.Promise.resolve(!0).then(function(){k=!1}),process.removeAsyncListener(q));var q;k&&H();function H(){var P=global.Promise;function N(K){if(!(this instanceof N))return P(K);if(typeof K!="function")return new P(K);var ye,Ne,ke=new P(We);ke.__proto__=N.prototype;try{K.apply(ye,Ne)}catch(Ue){Ne[1](Ue)}return ke;function We(Ue,vt){ye=this,Ne=[Et,de];function Et(ue){return W(ke,!1),Ue(ue)}function de(ue){return W(ke,!1),vt(ue)}}}if(o.inherits(N,P),r(P.prototype,"then",X),P.prototype.chain&&r(P.prototype,"chain",X),s)global.Promise=p9()(P,W);else{var F=["all","race","reject","resolve","accept","defer"];F.forEach(function(K){typeof P[K]=="function"&&(N[K]=P[K])}),global.Promise=N}function W(K,ye){(!K.__asl_wrapper||ye)&&(K.__asl_wrapper=i(z))}function z(K,ye,Ne,ke){var We;try{return We=ye.call(K,Ne),{returnVal:We,error:!1}}catch(Ue){return{errorVal:Ue,error:!0}}finally{We instanceof P?ke.__asl_wrapper=function(){var vt=We.__asl_wrapper||z;return vt.apply(this,arguments)}:W(ke,!0)}}function X(K){return function(){var Ne=this,ke=K.apply(Ne,Array.prototype.map.call(arguments,We));return ke.__asl_wrapper=function(vt,Et,de,ue){return Ne.__asl_wrapper?(Ne.__asl_wrapper(vt,function(){},null,ke),ke.__asl_wrapper(vt,Et,de,ue)):z(vt,Et,de,ue)},ke;function We(Ue){return typeof Ue!="function"?Ue:i(function(vt){var Et=(Ne.__asl_wrapper||z)(this,Ue,vt,ke);if(Et.error)throw Et.errorVal;return Et.returnVal})}}}}function Z(P){var N=function(){var F,W=arguments.length-1;if(typeof arguments[W]=="function"){F=Array(arguments.length);for(var z=0;z<arguments.length-1;z++)F[z]=arguments[z];F[W]=i(arguments[W])}return P.apply(this,F||arguments)};switch(P.length){case 1:return function(F){return arguments.length!==1?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F))};case 2:return function(F,W){return arguments.length!==2?N.apply(this,arguments):(typeof W=="function"&&(W=i(W)),P.call(this,F,W))};case 3:return function(F,W,z){return arguments.length!==3?N.apply(this,arguments):(typeof z=="function"&&(z=i(z)),P.call(this,F,W,z))};case 4:return function(F,W,z,X){return arguments.length!==4?N.apply(this,arguments):(typeof X=="function"&&(X=i(X)),P.call(this,F,W,z,X))};case 5:return function(F,W,z,X,K){return arguments.length!==5?N.apply(this,arguments):(typeof K=="function"&&(K=i(K)),P.call(this,F,W,z,X,K))};case 6:return function(F,W,z,X,K,ye){return arguments.length!==6?N.apply(this,arguments):(typeof ye=="function"&&(ye=i(ye)),P.call(this,F,W,z,X,K,ye))};default:return N}}function ee(P){var N=function(){var F;if(typeof arguments[0]=="function"){F=Array(arguments.length),F[0]=i(arguments[0]);for(var W=1;W<arguments.length;W++)F[W]=arguments[W]}return P.apply(this,F||arguments)};switch(P.length){case 1:return function(F){return arguments.length!==1?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F))};case 2:return function(F,W){return arguments.length!==2?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F,W))};case 3:return function(F,W,z){return arguments.length!==3?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F,W,z))};case 4:return function(F,W,z,X){return arguments.length!==4?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F,W,z,X))};case 5:return function(F,W,z,X,K){return arguments.length!==5?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F,W,z,X,K))};case 6:return function(F,W,z,X,K,ye){return arguments.length!==6?N.apply(this,arguments):(typeof F=="function"&&(F=i(F)),P.call(this,F,W,z,X,K,ye))};default:return N}}function V(P){return(P=Number(P))>=0?P:!1}function $(P){return typeof P=="string"&&V(P)===!1}}}),m9=A({"node_modules/continuation-local-storage/context.js"(t,e){"use strict";var r=require("assert"),n=Bv(),i="cls@contexts",o="error@context";process.addAsyncListener||h9();function s(d){this.name=d,this.active=null,this._set=[],this.id=null}s.prototype.set=function(d,f){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[d]=f,f},s.prototype.get=function(d){if(!!this.active)return this.active[d]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(d){var f=this.createContext();this.enter(f);try{return d(f),f}catch(p){throw p&&(p[o]=f),p}finally{this.exit(f)}},s.prototype.runAndReturn=function(d){var f;return this.run(function(p){f=d(p)}),f},s.prototype.bind=function(d,f){f||(this.active?f=this.active:f=this.createContext());var p=this;return function(){p.enter(f);try{return d.apply(this,arguments)}catch(h){throw h&&(h[o]=f),h}finally{p.exit(f)}}},s.prototype.enter=function(d){r.ok(d,"context must be provided for entering"),this._set.push(this.active),this.active=d},s.prototype.exit=function(d){if(r.ok(d,"context must be provided for exiting"),this.active===d){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var f=this._set.lastIndexOf(d);r.ok(f>=0,"context not currently entered; can't exit"),r.ok(f,"can't remove top context"),this._set.splice(f,1)},s.prototype.bindEmitter=function(d){r.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");var f=this,p="context@"+this.name;function h(g){!g||(g[i]||(g[i]=Object.create(null)),g[i][p]={namespace:f,context:f.active})}function m(g){if(!(g&&g[i]))return g;var v=g,y=g[i];return Object.keys(y).forEach(function(C){var _=y[C];v=_.namespace.bind(v,_.context)}),v}n(d,h,m)},s.prototype.fromException=function(d){return d[o]};function a(d){return process.namespaces[d]}function c(d){r.ok(d,"namespace must be given a name!");var f=new s(d);return f.id=process.addAsyncListener({create:function(){return f.active},before:function(p,h){h&&f.enter(h)},after:function(p,h){h&&f.exit(h)},error:function(p){p&&f.exit(p)}}),process.namespaces[d]=f,f}function u(d){var f=a(d);r.ok(f,"can't delete nonexistent namespace!"),r.ok(f.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(f.id),process.namespaces[d]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach(function(d){u(d)}),process.namespaces=Object.create(null)}process.namespaces||l(),e.exports={getNamespace:a,createNamespace:c,destroyNamespace:u,reset:l}}}),Qs=A({"node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelationContextManager=void 0;var e=It(),r=Uv(),n=Cf(),i=yk(),o=Sk(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var u=c.session.get(c.CONTEXT_NAME);return u===void 0?null:u},c.generateContextObject=function(u,l,d,f,p,h){return l=l||u,this.enabled?{operation:{name:d,id:u,parentId:l,traceparent:p,tracestate:h},customProperties:new a(f)}:null},c.spanToContextObject=function(u,l,d){var f=new n;return f.traceId=u.traceId,f.spanId=u.spanId,f.traceFlag=n.formatOpenTelemetryTraceFlags(u.traceFlags)||n.DEFAULT_TRACE_FLAG,f.parentId=l,c.generateContextObject(f.traceId,f.parentId,d,null,f)},c.runWithContext=function(u,l){var d;return c.enabled?c.session.bind(l,(d={},d[c.CONTEXT_NAME]=u,d))():l()},c.wrapEmitter=function(u){c.enabled&&c.session.bindEmitter(u)},c.wrapCallback=function(u,l){var d;return c.enabled?c.session.bind(u,l?(d={},d[c.CONTEXT_NAME]=l,d):void 0):u},c.enable=function(u){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=u,this.hasEverEnabled=!0,typeof this.cls=="undefined"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=d9():this.cls=m9()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(l){return c.session.bind(l)})),this.enabled=!0}},c.startOperation=function(u,l){var d=u&&u.traceContext||null,f=u&&u.traceId?u:null,p=u&&u.headers;if(f){var h=new n("00-"+f.traceId+"-"+f.spanId+"-01"),m=new i(f.traceState?f.traceState.serialize():null),g=c.generateContextObject(f.traceId,"|"+f.traceId+"."+f.spanId+".",typeof l=="string"?l:"",void 0,h,m);return g}if(d){var h=new n(d.traceparent),m=new i(d.tracestate),v=typeof l=="object"?new o(l):null,g=c.generateContextObject(h.traceId,h.parentId,typeof l=="string"?l:v.getOperationName({}),v&&v.getCorrelationContextHeader()||void 0,h,m);return g}if(p){var h=new n(p.traceparent?p.traceparent.toString():null),m=new i(p.tracestate?p.tracestate.toString():null),v=new o(u),g=c.generateContextObject(h.traceId,h.parentId,v.getOperationName({}),v.getCorrelationContextHeader(),h,m);return g}return e.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var u=process.versions.node.split(".");return parseInt(u[0])>3||parseInt(u[0])>2&&parseInt(u[1])>2},c.shouldUseClsHooked=function(){var u=process.versions.node.split(".");return parseInt(u[0])>8||parseInt(u[0])>=8&&parseInt(u[1])>=2},c.canUseClsHooked=function(){var u=process.versions.node.split("."),l=parseInt(u[0])>8||parseInt(u[0])>=8&&parseInt(u[1])>=0,d=parseInt(u[0])<8||parseInt(u[0])<=8&&parseInt(u[1])<2,f=parseInt(u[0])>4||parseInt(u[0])>=4&&parseInt(u[1])>=7;return!(l&&d)&&f},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();t.CorrelationContextManager=s;var a=function(){function c(u){this.props=[],this.addHeaderData(u)}return c.prototype.addHeaderData=function(u){var l=u?u.split(", "):[];this.props=l.map(function(d){var f=d.split("=");return{key:f[0],value:f[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(u){return u.key+"="+u.value}).join(", ")},c.prototype.getProperty=function(u){for(var l=0;l<this.props.length;++l){var d=this.props[l];if(d.key===u)return d.value}},c.prototype.setProperty=function(u,l){if(c.bannedCharacters.test(u)||c.bannedCharacters.test(l)){e.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+u+" and value: "+l);return}for(var d=0;d<this.props.length;++d){var f=this.props[d];if(f.key===u){f.value=l;return}}this.props.push({key:u,value:l})},c.bannedCharacters=/[,=]/,c}()}}),g9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=tr(),r=ct(),n=[],i=function(a){var c=a.data.message;n.forEach(function(u){c instanceof Error?u.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),u.trackTrace({message:c,severity:a.data.stderr?e.SeverityLevel.Warning:e.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(u){return u!=c}),n.length===0&&r.channel.unsubscribe("console",i))}t.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}t.dispose=s}}),v9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=tr(),r=ct(),n=[],i={10:e.SeverityLevel.Verbose,20:e.SeverityLevel.Verbose,30:e.SeverityLevel.Information,40:e.SeverityLevel.Warning,50:e.SeverityLevel.Error,60:e.SeverityLevel.Critical},o=function(c){var u=c.data.result;n.forEach(function(l){var d=i[c.data.level];u instanceof Error?l.trackException({exception:u}):l.trackTrace({message:u,severity:d})})};function s(c,u){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(u)):(n=n.filter(function(l){return l!=u}),n.length===0&&r.channel.unsubscribe("bunyan",o))}t.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}t.dispose=a}}),y9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=tr(),r=ct(),n=[],i={syslog:function(c){var u={emerg:e.SeverityLevel.Critical,alert:e.SeverityLevel.Critical,crit:e.SeverityLevel.Critical,error:e.SeverityLevel.Error,warning:e.SeverityLevel.Warning,notice:e.SeverityLevel.Information,info:e.SeverityLevel.Information,debug:e.SeverityLevel.Verbose};return u[c]===void 0?e.SeverityLevel.Information:u[c]},npm:function(c){var u={error:e.SeverityLevel.Error,warn:e.SeverityLevel.Warning,info:e.SeverityLevel.Information,verbose:e.SeverityLevel.Verbose,debug:e.SeverityLevel.Verbose,silly:e.SeverityLevel.Verbose};return u[c]===void 0?e.SeverityLevel.Information:u[c]},unknown:function(c){return e.SeverityLevel.Information}},o=function(c){var u=c.data.message;n.forEach(function(l){if(u instanceof Error)l.trackException({exception:u,properties:c.data.meta});else{var d=i[c.data.levelKind](c.data.level);l.trackTrace({message:u,severity:d,properties:c.data.meta})}})};function s(c,u){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(u)):(n=n.filter(function(l){return l!=u}),n.length===0&&r.channel.unsubscribe("winston",o))}t.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}t.dispose=a}}),_9=A({"node_modules/applicationinsights/out/AutoCollection/Console.js"(t,e){"use strict";var r=Uv(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(g9().enable(o&&s,this._client),v9().enable(o,this._client),y9().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();e.exports=n}}),C9=A({"node_modules/applicationinsights/out/AutoCollection/Exceptions.js"(t,e){"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,u,l){l===void 0&&(l=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:l}),o._client.flush({isAppCrashing:!0}),c&&u&&process.listeners(u).length===1&&(console.error(l),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();e.exports=r}}),Mi=A({"node_modules/applicationinsights/out/Declarations/Constants.js"(t){"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeatMetricName=t.DependencyTypeName=t.SpanAttribute=t.TelemetryTypeStringToQuickPulseDocumentType=t.TelemetryTypeStringToQuickPulseType=t.QuickPulseType=t.QuickPulseDocumentType=t.PerformanceToQuickPulseCounter=t.MetricId=t.PerformanceCounter=t.QuickPulseCounter=t.DEFAULT_LIVEMETRICS_HOST=t.DEFAULT_LIVEMETRICS_ENDPOINT=t.DEFAULT_BREEZE_ENDPOINT=void 0,t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=t.QuickPulseCounter||(t.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=t.PerformanceCounter||(t.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=t.MetricId||(t.MetricId={})),t.PerformanceToQuickPulseCounter=(e={},e[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,e[n.REQUEST_RATE]=r.REQUEST_RATE,e[n.REQUEST_DURATION]=r.REQUEST_DURATION,e[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,e[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,e[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,e[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,e[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,e[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,e),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability,PageViewData:t.QuickPulseType.PageView},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability,PageViewData:t.QuickPulseDocumentType.PageView},t.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},t.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},t.HeartBeatMetricName="HeartBeat"}}),Vv=A({"node_modules/applicationinsights/out/AutoCollection/Performance.js"(t,e){"use strict";var r=require("os"),n=Mi(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(!!o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(!!o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,u=0,l=0,d=0,f=0;!!s&&f<s.length;f++){var p=s[f],h=this._lastCpus[f],m="% cpu("+f+") ",g=p.model,v=p.speed,y=p.times,C=h.times,_=y.user-C.user||0;a+=_;var E=y.sys-C.sys||0;c+=E;var w=y.nice-C.nice||0;u+=w;var b=y.idle-C.idle||0;l+=b;var x=y.irq-C.irq||0;d+=x}var R=void 0;if(typeof process.cpuUsage=="function"){var k=process.cpuUsage(),q=process.hrtime(),H=k.user-this._lastAppCpuUsage.user+(k.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime!="undefined"&&this._lastHrtime.length===2){var Z=(q[0]-this._lastHrtime[0])*1e6+(q[1]-this._lastHrtime[1])/1e3||0;R=100*H/(Z*s.length)}this._lastAppCpuUsage=k,this._lastHrtime=q}var ee=a+c+u+l+d||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(ee-l)/ee*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:R||a/ee*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,u=a.totalFailedRequestCount-s.totalFailedRequestCount||0,l=a.time-s.time,d=l/1e3,f=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,l>0){var p=c/d,h=u/d;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:p}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:f}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:h})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,u=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,l=a.time-s.time,d=l/1e3,f=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,l>0){var p=c/d,h=u/d;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:p}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:h}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:f})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,u=a.time-s.time,l=u/1e3;if(u>0){var d=c/l;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:d})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();e.exports=i}}),w9=A({"node_modules/applicationinsights/out/Declarations/Metrics/AggregatedMetricCounters.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregatedMetricCounter=void 0;var e=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();t.AggregatedMetricCounter=e}}),E9=A({"node_modules/applicationinsights/out/Declarations/Metrics/AggregatedMetricDimensions.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreaggregatedMetricPropertyNames=void 0,t.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}}),xk=A({"node_modules/applicationinsights/out/AutoCollection/PreAggregatedMetrics.js"(t,e){"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(a){for(var c,u=1,l=arguments.length;u<l;u++){c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},r.apply(this,arguments)},n=Mi(),i=w9(),o=E9(),s=function(){function a(c,u){u===void 0&&(u=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=u}return a.prototype.enable=function(c,u){var l=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=u||this._collectionInterval,this._handle=setInterval(function(){return l.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(!!a.isEnabled()){var u=a._getAggregatedCounter(c,this._exceptionCountersCollection);u.totalCount++}},a.countTrace=function(c){if(!!a.isEnabled()){var u=a._getAggregatedCounter(c,this._traceCountersCollection);u.totalCount++}},a.countRequest=function(c,u){if(!!a.isEnabled()){var l,d=a._getAggregatedCounter(u,this._requestCountersCollection);if(typeof c=="string")l=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")l=c;else return;d.intervalExecutionTime+=l,d.totalCount++}},a.countDependency=function(c,u){if(!!a.isEnabled()){var l=a._getAggregatedCounter(u,this._dependencyCountersCollection),d;if(typeof c=="string")d=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")d=c;else return;l.intervalExecutionTime+=d,l.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,u){for(var l=!1,d=0;d<u.length;d++){if(c===u[d].dimensions)return u[d];if(Object.keys(c).length===Object.keys(u[d].dimensions).length){for(var f in c)if(c[f]!=u[d].dimensions[f]){l=!0;break}if(!l)return u[d];l=!1}}var p=new i.AggregatedMetricCounter(c);return u.push(p),p},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var u=a._requestCountersCollection[c];u.time=+new Date;var l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime,f=(u.intervalExecutionTime-u.lastIntervalExecutionTime)/l||0;u.lastIntervalExecutionTime=u.intervalExecutionTime,d>0&&l>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:u.dimensions,value:f,count:l,aggregationInterval:d,metricType:n.MetricId.REQUESTS_DURATION}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var u=a._dependencyCountersCollection[c];u.time=+new Date;var l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime,f=(u.intervalExecutionTime-u.lastIntervalExecutionTime)/l||0;u.lastIntervalExecutionTime=u.intervalExecutionTime,d>0&&l>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:u.dimensions,value:f,count:l,aggregationInterval:d,metricType:n.MetricId.DEPENDENCIES_DURATION}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var u=a._exceptionCountersCollection[c],l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:u.dimensions,value:l,count:l,aggregationInterval:d,metricType:n.MetricId.EXCEPTIONS_COUNT}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var u=a._traceCountersCollection[c],l=u.totalCount-u.lastTotalCount||0,d=u.time-u.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:u.dimensions,value:l,count:l,aggregationInterval:d,metricType:n.MetricId.TRACES_COUNT}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackPreAggregatedMetric=function(c){var u={};for(var l in c.dimensions)u[o.PreaggregatedMetricPropertyNames[l]]=c.dimensions[l];u=r(r({},u),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var d={name:c.name,value:c.value,count:c.count,properties:u,kind:"Aggregation"};this._client.trackMetric(d)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();e.exports=s}}),wf=A({"node_modules/applicationinsights/out/Library/Context.js"(t,e){"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=tr(),s=It(),a=function(){function c(u){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(u),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(u){if(u=u||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[u]){c.appVersion[u]="unknown";try{var l=JSON.parse(n.readFileSync(u,"utf8"));l&&typeof l.version=="string"&&(c.appVersion[u]=l.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.applicationVersion]=c.appVersion[u]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var u=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var l=JSON.parse(n.readFileSync(u,"utf8"));l&&typeof l.version=="string"&&(c.sdkVersion=l.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();e.exports=a}}),b9=A({"node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js"(t,e){"use strict";var r=t&&t.__extends||function(){var l=function(d,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},l(d,f)};return function(d,f){l(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),n=require("url"),i=tr(),o=Lr(),s=jc(),a=bk(),c=Xs(),u=function(l){r(d,l);function d(f,p){var h=l.call(this)||this;return p&&p.method&&f&&(h.method=p.method,h.url=d._getUrlFromRequestOptions(f,p),h.startTime=+new Date),h}return d.prototype.onError=function(f){this._setStatus(void 0,f)},d.prototype.onResponse=function(f){this._setStatus(f.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(f,s.requestContextTargetKey)},d.prototype.getDependencyTelemetry=function(f,p){var h=n.parse(this.url);h.search=void 0,h.hash=void 0;var m=this.method.toUpperCase()+" "+h.pathname,g=i.RemoteDependencyDataConstants.TYPE_HTTP,v=h.hostname;h.port&&(v+=":"+h.port),this.correlationId?(g=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(v+=" | "+this.correlationId)):g=i.RemoteDependencyDataConstants.TYPE_HTTP;var y={id:p,name:m,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:g,target:v};if(f&&f.time?y.time=f.time:this.startTime&&(y.time=new Date(this.startTime)),f){for(var C in f)y[C]||(y[C]=f[C]);if(f.properties)for(var C in f.properties)y.properties[C]=f.properties[C]}return y},d._getUrlFromRequestOptions=function(f,p){if(typeof f=="string")if(f.indexOf("http://")===0||f.indexOf("https://")===0)f=n.parse(f);else{var h=n.parse(f);h.host==="443"?f=n.parse("https://"+f):f=n.parse("http://"+f)}else{if(f&&typeof n.URL=="function"&&f instanceof n.URL)return n.format(f);var m=f;f={},m&&Object.keys(m).forEach(function(y){f[y]=m[y]})}if(f.path){var g=n.parse(f.path);f.pathname=g.pathname,f.search=g.search}if(f.host&&f.port){var v=n.parse("http://"+f.host);!v.port&&f.port&&(f.hostname=f.host,delete f.host)}return f.protocol=f.protocol||p.agent&&p.agent.protocol||p.protocol||void 0,f.hostname=f.hostname||"localhost",n.format(f)},d}(a);e.exports=u}}),S9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/SpanParser.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.spanToTelemetryContract=void 0;var r=$e(),n=Mi();function i(s){var a=e({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),u=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",l=s.attributes.component?s.attributes.component.toString():"",d=l.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],f=l.toLowerCase()===n.DependencyTypeName.Grpc;if(d){var p=s.attributes[n.SpanAttribute.HttpMethod]||"GET",h=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),m=s.attributes[n.SpanAttribute.HttpHost]||h.host,g=s.attributes[n.SpanAttribute.HttpPort]||h.port||null,v=h.pathname||"/",y=p+" "+v,C=n.DependencyTypeName.Http,_=g?(m+":"+g).toString():m.toString(),E=h.toString(),w=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,b=w<400;return{id:a,name:y,dependencyTypeName:C,target:_,data:E,success:b,duration:c,url:E,resultCode:String(w),properties:i(s.attributes)}}else if(f){var p=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",x=s.attributes[n.SpanAttribute.GrpcService],R=x?p+" "+x:s.name;return{id:a,duration:c,name:R,target:x.toString(),data:x.toString()||R,url:x.toString()||R,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var k=s.name,q=s.links&&s.links.map(function(H){return{operation_Id:H.context.traceId,id:H.context.spanId}});return{id:a,duration:c,name:k,target:u,data:u||k,url:u||k,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:l||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:e(e({},i(s.attributes)),{"_MS.links":q||void 0})}}}t.spanToTelemetryContract=o}}),P9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/azure-coretracing.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=$e(),r=ct(),n=Cf(),i=S9(),o=GR(),s=[],a=function(u){var l=u.data,d=i.spanToTelemetryContract(l),f=l.spanContext(),p=new n;p.traceId=f.traceId,p.spanId=f.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(f.traceFlags),p.parentId=l.parentSpanId?"|"+f.traceId+"."+l.parentSpanId+".":null,o.AsyncScopeManager.with(l,function(){s.forEach(function(h){l.kind===e.SpanKind.SERVER?h.trackRequest(d):(l.kind===e.SpanKind.CLIENT||l.kind===e.SpanKind.INTERNAL)&&h.trackDependency(d)})})};t.subscriber=a;function c(u,l){u?(s.length===0&&r.channel.subscribe("azure-coretracing",t.subscriber),s.push(l)):(s=s.filter(function(d){return d!=l}),s.length===0&&r.channel.unsubscribe("azure-coretracing",t.subscriber))}t.enable=c}}),T9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=ct(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mongodb",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mongodb",t.subscriber))}t.enable=i}}),I9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=ct(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",u=!o.data.err,l=a._connection||{},d=l.config||{},f=d.socketPath?d.socketPath:(d.host||"localhost")+":"+d.port;s.trackDependency({target:f,data:c,name:c,duration:o.data.duration,success:u,resultCode:u?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mysql",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mysql",t.subscriber))}t.enable=i}}),x9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=ct(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("redis",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("redis",t.subscriber))}t.enable=i}}),A9=A({"node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=ct(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",u=!o.data.error,l=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:l,data:c,name:c,duration:o.data.duration,success:u,resultCode:u?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("postgres",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("postgres",t.subscriber))}t.enable=i}}),$c=A({"node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js"(t,e){"use strict";var r=t&&t.__spreadArrays||function(){for(var h=0,m=0,g=arguments.length;m<g;m++)h+=arguments[m].length;for(var v=Array(h),y=0,m=0;m<g;m++)for(var C=arguments[m],_=0,E=C.length;_<E;_++,y++)v[y]=C[_];return v},n=require("http"),i=require("https"),o=It(),s=Lr(),a=jc(),c=b9(),u=Qs(),l=Xs(),d=Cf(),f=Uv(),p=function(){function h(m){if(h.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");h.INSTANCE=this,this._client=m}return h.prototype.enable=function(m){this._isEnabled=m,this._isEnabled&&!this._isInitialized&&this._initialize(),f.IsInitialized&&(P9().enable(!0,this._client),T9().enable(m,this._client),I9().enable(m,this._client),x9().enable(m,this._client),A9().enable(m,this._client))},h.prototype.isInitialized=function(){return this._isInitialized},h.prototype._initialize=function(){var m=this;this._isInitialized=!0;var g=n.request,v=i.request,y=function(C,_){var E=!_[h.disableCollectionRequestOption]&&!C[h.alreadyAutoCollectedFlag];_.headers&&_.headers["user-agent"]&&_.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(E=!1),C[h.alreadyAutoCollectedFlag]=!0,C&&_&&E&&(u.CorrelationContextManager.wrapEmitter(C),h.trackRequest(m._client,{options:_,request:C}))};n.request=function(C){for(var _=[],E=1;E<arguments.length;E++)_[E-1]=arguments[E];var w=g.call.apply(g,r([n,C],_));return y(w,C),w},i.request=function(C){for(var _=[],E=1;E<arguments.length;E++)_[E-1]=arguments[E];var w=v.call.apply(v,r([i,C],_));return y(w,C),w},n.get=function(C){for(var _,E=[],w=1;w<arguments.length;w++)E[w-1]=arguments[w];var b=(_=n.request).call.apply(_,r([n,C],E));return b.end(),b},i.get=function(C){for(var _,E=[],w=1;w<arguments.length;w++)E[w-1]=arguments[w];var b=(_=i.request).call.apply(_,r([i,C],E));return b.end(),b}},h.trackRequest=function(m,g){if(!g.options||!g.request||!m){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!g.options,!g.request,!m);return}var v=new c(g.options,g.request),y=u.CorrelationContextManager.getCurrentContext(),C,_;if(y&&y.operation&&y.operation.traceparent&&d.isValidTraceId(y.operation.traceparent.traceId))y.operation.traceparent.updateSpanId(),C=y.operation.traceparent.getBackCompatRequestId();else if(l.w3cEnabled){var E=new d;_=E.toString(),C=E.getBackCompatRequestId()}else C=y&&y.operation&&y.operation.parentId+h.requestNumber+++".";if(s.canIncludeCorrelationHeader(m,v.getUrl())&&g.request.getHeader&&g.request.setHeader&&m.config&&m.config.correlationId){var w=g.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(m,g.request,w)}catch(R){o.warn("Request-Context header could not be set. Correlation of requests may be lost",R)}if(y&&y.operation)try{if(g.request.setHeader(a.requestIdHeader,C),m.config.ignoreLegacyHeaders||(g.request.setHeader(a.parentIdHeader,y.operation.id),g.request.setHeader(a.rootIdHeader,C)),_||y.operation.traceparent)g.request.setHeader(a.traceparentHeader,_||y.operation.traceparent.toString());else if(l.w3cEnabled){var E=new d().toString();g.request.setHeader(a.traceparentHeader,E)}if(y.operation.tracestate){var b=y.operation.tracestate.toString();b&&g.request.setHeader(a.traceStateHeader,b)}var x=y.customProperties.serializeToHeader();x&&g.request.setHeader(a.correlationContextHeader,x)}catch(R){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",R)}}g.request.on&&(g.request.on("response",function(R){v.onResponse(R);var k=v.getDependencyTelemetry(g,C);k.contextObjects=k.contextObjects||{},k.contextObjects["http.RequestOptions"]=g.options,k.contextObjects["http.ClientRequest"]=g.request,k.contextObjects["http.ClientResponse"]=R,m.trackDependency(k)}),g.request.on("error",function(R){v.onError(R);var k=v.getDependencyTelemetry(g,C);k.contextObjects=k.contextObjects||{},k.contextObjects["http.RequestOptions"]=g.options,k.contextObjects["http.ClientRequest"]=g.request,k.contextObjects.Error=R,m.trackDependency(k)}),g.request.on("abort",function(){v.onError(new Error);var R=v.getDependencyTelemetry(g,C);R.contextObjects=R.contextObjects||{},R.contextObjects["http.RequestOptions"]=g.options,R.contextObjects["http.ClientRequest"]=g.request,m.trackDependency(R)}))},h.prototype.dispose=function(){h.INSTANCE=null,this.enable(!1),this._isInitialized=!1},h.disableCollectionRequestOption="disableAppInsightsAutoCollection",h.requestNumber=1,h.alreadyAutoCollectedFlag="_appInsightsAutoCollected",h}();e.exports=p}}),R9=A({"node_modules/applicationinsights/out/AutoCollection/HeartBeat.js"(t,e){"use strict";var r=require("os"),n=Mi(),i=Lr(),o=wf(),s=$c(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",u="format=json",l="ENETUNREACH",d=function(){function f(p){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",f.INSTANCE||(f.INSTANCE=this),this._isInitialized=!1,this._client=p}return f.prototype.enable=function(p,h){var m=this;this._isEnabled=p,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),p?this._handle||(this._handle=setInterval(function(){return m.trackHeartBeat(h,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},f.prototype.isInitialized=function(){return this._isInitialized},f.isEnabled=function(){return f.INSTANCE&&f.INSTANCE._isEnabled},f.prototype.trackHeartBeat=function(p,h){var m=this,g=!1,v={},y=o.sdkVersion;v.sdk=y,v.osType=r.type(),process.env.WEBSITE_SITE_NAME?(v.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",v.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",v.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?v.azfunction_appId=process.env.WEBSITE_HOSTNAME:p&&(this._isVM===void 0?(g=!0,this._getAzureComputeMetadata(p,function(){m._isVM&&Object.keys(m._vmData).length>0&&(v.azInst_vmId=m._vmData.vmId||"",v.azInst_subscriptionId=m._vmData.subscriptionId||"",v.azInst_osType=m._vmData.osType||"",m._azInst_vmId=m._vmData.vmId||"",m._azInst_subscriptionId=m._vmData.subscriptionId||"",m._azInst_osType=m._vmData.osType||""),m._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h()})):this._isVM&&(v.azInst_vmId=this._azInst_vmId,v.azInst_subscriptionId=this._azInst_subscriptionId,v.azInst_osType=this._azInst_osType)),g||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h())},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1},f.prototype._getAzureComputeMetadata=function(p,h){var m,g=this,v=a+"?"+c+"&"+u,y=(m={method:"GET"},m[s.disableCollectionRequestOption]=!0,m.headers={Metadata:"True"},m),C=i.makeRequest(p,v,y,function(_){if(_.statusCode===200){g._isVM=!0;var E="";_.on("data",function(w){E+=w}),_.on("end",function(){g._vmData=g._isJSON(E)?JSON.parse(E):{},h()})}else h()});C&&(C.on("error",function(_){_&&_.message&&_.message.indexOf(l)>-1&&(g._isVM=!1),h()}),C.end())},f.prototype._isJSON=function(p){try{return JSON.parse(p)&&!!p}catch(h){return!1}},f}();e.exports=d}}),Ak=A({"node_modules/applicationinsights/out/AutoCollection/HttpRequests.js"(t,e){"use strict";var r=require("http"),n=require("https"),i=It(),o=Lr(),s=jc(),a=Sk(),c=Qs(),u=Vv(),l=function(){function d(f){if(d.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");d.INSTANCE=this,this._client=f}return d.prototype.enable=function(f){this._isEnabled=f,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},d.prototype.useAutoCorrelation=function(f,p){f&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(p):!f&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=f},d.prototype.isInitialized=function(){return this._isInitialized},d.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},d.prototype._generateCorrelationContext=function(f){if(!!this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(f.getOperationId(this._client.context.tags),f.getRequestId(),f.getOperationName(this._client.context.tags),f.getCorrelationContextHeader(),f.getTraceparent(),f.getTracestate())},d.prototype._initialize=function(){var f=this;this._isInitialized=!0;var p=function(v){if(!!v){if(typeof v!="function")throw new Error("onRequest handler must be a function");return function(y,C){c.CorrelationContextManager.wrapEmitter(y),c.CorrelationContextManager.wrapEmitter(C);var _=y&&!y[d.alreadyAutoCollectedFlag];if(y&&_){var E=new a(y),w=f._generateCorrelationContext(E);c.CorrelationContextManager.runWithContext(w,function(){f._isEnabled&&(y[d.alreadyAutoCollectedFlag]=!0,d.trackRequest(f._client,{request:y,response:C},E)),typeof v=="function"&&v(y,C)})}else typeof v=="function"&&v(y,C)}}},h=function(v){var y=v.addListener.bind(v);v.addListener=function(C,_){switch(C){case"request":case"checkContinue":return y(C,p(_));default:return y(C,_)}},v.on=v.addListener},m=r.createServer;r.createServer=function(v,y){if(y&&typeof y=="function"){var C=m(v,p(y));return h(C),C}else{var C=m(p(v));return h(C),C}};var g=n.createServer;n.createServer=function(v,y){var C=g(v,p(y));return h(C),C}},d.trackRequestSync=function(f,p){if(!p.request||!p.response||!f){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!p.request,!p.response,!f);return}d.addResponseCorrelationIdHeader(f,p.response);var h=c.CorrelationContextManager.getCurrentContext(),m=new a(p.request,h&&h.operation.parentId);h&&(h.operation.id=m.getOperationId(f.context.tags)||h.operation.id,h.operation.name=m.getOperationName(f.context.tags)||h.operation.name,h.operation.parentId=m.getRequestId()||h.operation.parentId,h.customProperties.addHeaderData(m.getCorrelationContextHeader())),d.endRequest(f,m,p,p.duration,p.error)},d.trackRequest=function(f,p,h){if(!p.request||!p.response||!f){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!p.request,!p.response,!f);return}var m=c.CorrelationContextManager.getCurrentContext(),g=h||new a(p.request,m&&m.operation.parentId);o.canIncludeCorrelationHeader(f,g.getUrl())&&d.addResponseCorrelationIdHeader(f,p.response),m&&!h&&(m.operation.id=g.getOperationId(f.context.tags)||m.operation.id,m.operation.name=g.getOperationName(f.context.tags)||m.operation.name,m.operation.parentId=g.getOperationParentId(f.context.tags)||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.response.once&&p.response.once("finish",function(){d.endRequest(f,g,p,null,null)}),p.request.on&&p.request.on("error",function(v){d.endRequest(f,g,p,null,v)}),p.request.on&&p.request.on("aborted",function(){var v="The request has been aborted and the network socket has closed.";d.endRequest(f,g,p,null,v)})},d.addResponseCorrelationIdHeader=function(f,p){if(f.config&&f.config.correlationId&&p.getHeader&&p.setHeader&&!p.headersSent){var h=p.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(f,p,h)}},d.endRequest=function(f,p,h,m,g){g?p.onError(g,m):p.onResponse(h.response,m);var v=p.getRequestTelemetry(h);if(v.tagOverrides=p.getRequestTags(f.context.tags),h.tagOverrides)for(var y in h.tagOverrides)v.tagOverrides[y]=h.tagOverrides[y];var C=p.getLegacyRootId();C&&(v.properties.ai_legacyRootId=C),v.contextObjects=v.contextObjects||{},v.contextObjects["http.ServerRequest"]=h.request,v.contextObjects["http.ServerResponse"]=h.response,f.trackRequest(v)},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},d.alreadyAutoCollectedFlag="_appInsightsAutoCollected",d}();e.exports=l}}),k9=A({"node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js"(t,e){"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(l){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])}return l},r.apply(this,arguments)},n=require("os"),i=tr(),o=Mi(),s=Lr(),a=It(),c=s.w3cTraceId(),u=function(){function l(){}return l.createQuickPulseEnvelope=function(d,f,p,h){var m=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",g=h.tags&&h.keys&&h.keys.cloudRoleInstance&&h.tags[h.keys.cloudRoleInstance]||m,v=h.tags&&h.keys&&h.keys.cloudRole&&h.tags[h.keys.cloudRole]||null,y={Documents:f.length>0?f:null,InstrumentationKey:p.instrumentationKey||"",Metrics:d.length>0?d:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:h.tags[h.keys.internalSdkVersion],StreamId:c,MachineName:m,Instance:g,RoleName:v};return y},l.createQuickPulseMetric=function(d){var f;return f={Name:d.name,Value:d.value,Weight:d.count||1},f},l.telemetryEnvelopeToQuickPulseDocument=function(d){switch(d.data.baseType){case i.TelemetryTypeString.Event:return l.createQuickPulseEventDocument(d);case i.TelemetryTypeString.Exception:return l.createQuickPulseExceptionDocument(d);case i.TelemetryTypeString.Trace:return l.createQuickPulseTraceDocument(d);case i.TelemetryTypeString.Dependency:return l.createQuickPulseDependencyDocument(d);case i.TelemetryTypeString.Request:return l.createQuickPulseRequestDocument(d)}return null},l.createQuickPulseEventDocument=function(d){var f=l.createQuickPulseDocument(d),p=d.data.baseData.name,h=r(r({},f),{Name:p});return h},l.createQuickPulseTraceDocument=function(d){var f=l.createQuickPulseDocument(d),p=d.data.baseData.severityLevel||0,h=r(r({},f),{Message:d.data.baseData.message,SeverityLevel:i.SeverityLevel[p]});return h},l.createQuickPulseExceptionDocument=function(d){var f=l.createQuickPulseDocument(d),p=d.data.baseData.exceptions,h="",m="",g="";p&&p.length>0&&(p[0].parsedStack&&p[0].parsedStack.length>0?p[0].parsedStack.forEach(function(y){h+=y.assembly+`
`}):p[0].stack&&p[0].stack.length>0&&(h=p[0].stack),m=p[0].message,g=p[0].typeName);var v=r(r({},f),{Exception:h,ExceptionMessage:m,ExceptionType:g});return v},l.createQuickPulseRequestDocument=function(d){var f=l.createQuickPulseDocument(d),p=d.data.baseData,h=r(r({},f),{Name:p.name,Success:p.success,Duration:p.duration,ResponseCode:p.responseCode,OperationName:p.name});return h},l.createQuickPulseDependencyDocument=function(d){var f=l.createQuickPulseDocument(d),p=d.data.baseData,h=r(r({},f),{Name:p.name,Target:p.target,Success:p.success,Duration:p.duration,ResultCode:p.resultCode,CommandName:p.data,OperationName:f.OperationId,DependencyTypeName:p.type});return h},l.createQuickPulseDocument=function(d){var f,p,h,m;d.data.baseType?(p=o.TelemetryTypeStringToQuickPulseType[d.data.baseType],f=o.TelemetryTypeStringToQuickPulseDocumentType[d.data.baseType]):a.warn("Document type invalid; not sending live metric document",d.data.baseType),h=d.tags[l.keys.operationId],m=l.aggregateProperties(d);var g={DocumentType:f,__type:p,OperationId:h,Version:"1.0",Properties:m};return g},l.aggregateProperties=function(d){var f=[],p=d.data.baseData.measurements||{};for(var h in p)if(p.hasOwnProperty(h)){var m=p[h],g={key:h,value:m};f.push(g)}var v=d.data.baseData.properties||{};for(var h in v)if(v.hasOwnProperty(h)){var m=v[h],g={key:h,value:m};f.push(g)}return f},l.keys=new i.ContextTagKeys,l}();e.exports=u}}),D9=A({"node_modules/applicationinsights/out/Library/QuickPulseUtil.js"(t,e){"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};e.exports={getTransmissionTime:r}}}),O9=A({"node_modules/applicationinsights/out/Library/QuickPulseSender.js"(t,e){"use strict";var r=t&&t.__awaiter||function(d,f,p,h){function m(g){return g instanceof p?g:new p(function(v){v(g)})}return new(p||(p=Promise))(function(g,v){function y(E){try{_(h.next(E))}catch(w){v(w)}}function C(E){try{_(h.throw(E))}catch(w){v(w)}}function _(E){E.done?g(E.value):m(E.value).then(y,C)}_((h=h.apply(d,f||[])).next())})},n=t&&t.__generator||function(d,f){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,v;return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(_){return function(E){return C([_,E])}}function C(_){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=_[0]&2?m.return:_[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,_[1])).done)return g;switch(m=0,g&&(_=[_[0]&2,g.value]),_[0]){case 0:case 1:g=_;break;case 4:return p.label++,{value:_[1],done:!1};case 5:p.label++,m=_[1],_=[0];continue;case 7:_=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(_[0]===6||_[0]===2)){p=0;continue}if(_[0]===3&&(!g||_[1]>g[0]&&_[1]<g[3])){p.label=_[1];break}if(_[0]===6&&p.label<g[1]){p.label=g[1],g=_;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(_);break}g[2]&&p.ops.pop(),p.trys.pop();continue}_=f.call(d,p)}catch(E){_=[6,E],m=0}finally{h=g=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},i=require("https"),o=$c(),s=It(),a=D9(),c=Lr(),u={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},l=function(){function d(f){this._config=f,this._consecutiveErrors=0}return d.prototype.ping=function(f,p,h){var m=[{name:u.streamId,value:f.StreamId},{name:u.machineName,value:f.MachineName},{name:u.roleName,value:f.RoleName},{name:u.instanceName,value:f.Instance},{name:u.invariantVersion,value:f.InvariantVersion.toString()}];this._submitData(f,p,h,"ping",m)},d.prototype.post=function(f,p,h){return r(this,void 0,void 0,function(){return n(this,function(m){switch(m.label){case 0:return[4,this._submitData([f],p,h,"post")];case 1:return m.sent(),[2]}})})},d.prototype._submitData=function(f,p,h,m,g){return r(this,void 0,void 0,function(){var v,y,C,_,E,w=this;return n(this,function(b){return v=JSON.stringify(f),y=(_={},_[o.disableCollectionRequestOption]=!0,_.host=p&&p.length>0?p:this._config.quickPulseHost,_.method=u.method,_.path="/QuickPulseService.svc/"+m+"?ikey="+this._config.instrumentationKey,_.headers=(E={Expect:"100-continue"},E[u.time]=a.getTransmissionTime(),E["Content-Type"]="application/json",E["Content-Length"]=Buffer.byteLength(v),E),_),g&&g.length>0&&g.forEach(function(x){return y.headers[x.name]=x.value}),this._config.httpsAgent?y.agent=this._config.httpsAgent:y.agent=c.tlsRestrictedAgent,C=i.request(y,function(x){if(x.statusCode==200){var R=x.headers[u.subscribed]==="true",k=x.headers[u.endpointRedirect]?x.headers[u.endpointRedirect].toString():null,q=x.headers[u.pollingIntervalHint]?parseInt(x.headers[u.pollingIntervalHint].toString()):null;w._consecutiveErrors=0,h(R,x,k,q)}else w._onError("StatusCode:"+x.statusCode+" StatusMessage:"+x.statusMessage),h()}),C.on("error",function(x){w._onError(x),h()}),C.write(v),C.end(),[2]})})},d.prototype._onError=function(f){this._consecutiveErrors++;var p="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%d.MAX_QPS_FAILURES_BEFORE_WARN==0?(p="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(d.TAG,p,f)):s.info(d.TAG,p,f)},d.TAG="QuickPulseSender",d.MAX_QPS_FAILURES_BEFORE_WARN=25,d}();e.exports=l}}),N9=A({"node_modules/applicationinsights/out/Library/QuickPulseStateManager.js"(t,e){"use strict";var r=t&&t.__awaiter||function(l,d,f,p){function h(m){return m instanceof f?m:new f(function(g){g(m)})}return new(f||(f=Promise))(function(m,g){function v(_){try{C(p.next(_))}catch(E){g(E)}}function y(_){try{C(p.throw(_))}catch(E){g(E)}}function C(_){_.done?m(_.value):h(_.value).then(v,y)}C((p=p.apply(l,d||[])).next())})},n=t&&t.__generator||function(l,d){var f={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(C){return function(_){return y([C,_])}}function y(C){if(p)throw new TypeError("Generator is already executing.");for(;f;)try{if(p=1,h&&(m=C[0]&2?h.return:C[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,C[1])).done)return m;switch(h=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,h=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(m=f.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){f.label=C[1];break}if(C[0]===6&&f.label<m[1]){f.label=m[1],m=C;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(C);break}m[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(l,f)}catch(_){C=[6,_],h=0}finally{p=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=It(),o=k9(),s=O9(),a=Mi(),c=wf(),u=function(){function l(d,f){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=d,this.context=f||new c,this._sender=new s(this.config),this._isEnabled=!1}return l.prototype.addCollector=function(d){this._collectors.push(d)},l.prototype.trackMetric=function(d){this._addMetric(d)},l.prototype.addDocument=function(d){var f=o.telemetryEnvelopeToQuickPulseDocument(d);f&&this._documents.push(f)},l.prototype.enable=function(d){d&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!d&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},l.prototype.enableCollectors=function(d){this._collectors.forEach(function(f){f.enable(d)})},l.prototype._addMetric=function(d){var f=d.value,p=d.count||1,h=a.PerformanceToQuickPulseCounter[d.name];h&&(this._metrics[h]?(this._metrics[h].Value=(this._metrics[h].Value*this._metrics[h].Weight+f*p)/(this._metrics[h].Weight+p),this._metrics[h].Weight+=p):(this._metrics[h]=o.createQuickPulseMetric(d),this._metrics[h].Name=h,this._metrics[h].Weight=1))},l.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},l.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var d,f,p,h,m=this;return n(this,function(g){switch(g.label){case 0:return d=Object.keys(this._metrics).map(function(v){return m._metrics[v]}),f=o.createQuickPulseEnvelope(d,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(f)]:[3,2];case 1:return g.sent(),[3,3];case 2:this._ping(f),g.label=3;case 3:return p=this._pollingIntervalHint>0?this._pollingIntervalHint:l.PING_INTERVAL,h=this._isCollectingData?l.POST_INTERVAL:p,this._isCollectingData&&Date.now()-this._lastSuccessTime>=l.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,h=l.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=l.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(h=l.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),h),this._handle.unref(),[2]}})})},l.prototype._ping=function(d){this._sender.ping(d,this._redirectedHost,this._quickPulseDone.bind(this))},l.prototype._post=function(d){return r(this,void 0,void 0,function(){return n(this,function(f){switch(f.label){case 0:return[4,this._sender.post(d,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return f.sent(),[2]}})})},l.prototype._quickPulseDone=function(d,f,p,h){d!=null?(this._isCollectingData!==d&&(i.info("Live Metrics sending data",d),this.enableCollectors(d)),this._isCollectingData=d,p&&p.length>0&&(this._redirectedHost=p,i.info("Redirecting endpoint to: ",p)),h&&h>0&&(this._pollingIntervalHint=h),f&&f.statusCode<300&&f.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},l.MAX_POST_WAIT_TIME=2e4,l.MAX_PING_WAIT_TIME=6e4,l.FALLBACK_INTERVAL=6e4,l.PING_INTERVAL=5e3,l.POST_INTERVAL=1e3,l}();e.exports=u}}),L9=A({"node_modules/applicationinsights/out/Library/ConnectionStringParser.js"(t,e){"use strict";var r=Mi(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(u,l){var d=l.split(i._FIELD_KEY_VALUE_SEPARATOR);if(d.length===2){var f=d[0].toLowerCase(),p=d[1];u[f]=p}return u},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();e.exports=n}}),Rk=A({"node_modules/applicationinsights/out/Library/Config.js"(t,e){"use strict";var r=Xs(),n=L9(),i=It(),o=Mi(),s=require("url"),a=function(){function c(u){var l=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var d=process.env[c.ENV_connectionString],f=n.parse(u),p=n.parse(d),h=!f.instrumentationkey&&Object.keys(f).length>0?null:u;this.instrumentationKey=f.instrumentationkey||h||p.instrumentationkey||c._getInstrumentationKey(),!c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(f.ingestionendpoint||p.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(m){return l.correlationId=m},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=f.ingestionendpoint||p.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=f.liveendpoint||p.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(u){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=u,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(u){this._quickPulseHost=u},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var u=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!u||u=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return u},c._validateInstrumentationKey=function(u){var l="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",d=new RegExp(l);return d.test(u)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();e.exports=a}}),F9=A({"node_modules/applicationinsights/out/AutoCollection/NativePerformance.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCollectNativePerformance=void 0;var r=Rk(),n=wf(),i=It(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,u){var l=this;if(c===void 0&&(c={}),u===void 0&&(u=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var d=require("applicationinsights-native-metrics");s._emitter=new d,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch(f){s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,u),this._handle||(this._handle=setInterval(function(){return l._trackNativeMetrics()},u),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],u=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(u){var l=u.split(","),d={};if(l.length>0)for(var f=0,p=l;f<p.length;f++){var h=p[f];d[h]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:e(e({},a),d)}:{isEnabled:a,disabledMetrics:d}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var u in c){var l=c[u].metrics,d=u+" Garbage Collection Duration",f=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:d,value:l.total,count:l.count,max:l.max,min:l.min,stdDev:f,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),u=c.loopUsage;if(u.count!=0){var l="Event Loop CPU Time",d=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:l,value:u.total,count:u.count,min:u.min,max:u.max,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,u;if(!this._disabledMetrics.heap){var l=process.memoryUsage(),d=l.heapUsed,f=l.heapTotal,p=l.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:d,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:f,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:p-f,count:1,tagOverrides:(u={},u[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,u)})}},s}();t.AutoCollectNativePerformance=o}}),M9=A({"node_modules/applicationinsights/out/Library/Channel.js"(t,e){"use strict";var r=It(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();e.exports=n}}),q9=A({"node_modules/applicationinsights/out/TelemetryProcessors/AzureRoleEnvironmentTelemetryInitializer.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.azureRoleEnvironmentTelemetryProcessor=void 0;function e(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}t.azureRoleEnvironmentTelemetryProcessor=e}}),j9=A({"node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplingHashCode=t.samplingTelemetryProcessor=void 0;var e=tr();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&e.TelemetryType.Metric===e.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}t.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}t.getSamplingHashCode=n}}),$9=A({"node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceMetricsTelemetryProcessor=void 0;var e=Vv(),r=tr();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:e.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;e.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;e.countDependency(a.duration,a.success);break}return!0}t.performanceMetricsTelemetryProcessor=n}}),U9=A({"node_modules/applicationinsights/out/TelemetryProcessors/PreAggregatedMetricsTelemetryProcessor.js"(t){"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.preAggregatedMetricsTelemetryProcessor=void 0;var r=tr(),n=xk(),i=tr();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=e(e({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var u={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(u);break;case i.TelemetryTypeString.Trace:var l=s.data.baseData;l.properties=e(e({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var d={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[l.severity]};n.countTrace(d);break;case i.TelemetryTypeString.Request:var f=s.data.baseData;f.properties=e(e({},f.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:f.success,requestResultCode:f.responseCode};n.countRequest(f.duration,p);break;case i.TelemetryTypeString.Dependency:var h=s.data.baseData;h.properties=e(e({},h.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:h.success,dependencyType:h.type,dependencyTarget:h.target,dependencyResultCode:h.resultCode};n.countDependency(h.duration,m);break}return!0}t.preAggregatedMetricsTelemetryProcessor=o}}),H9=A({"node_modules/applicationinsights/out/TelemetryProcessors/index.js"(t){"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(q9(),t),r(j9(),t),r($9(),t),r(U9(),t)}}),B9=A({"node_modules/applicationinsights/out/Library/Sender.js"(t,e){"use strict";var r=t&&t.__awaiter||function(p,h,m,g){function v(y){return y instanceof m?y:new m(function(C){C(y)})}return new(m||(m=Promise))(function(y,C){function _(b){try{w(g.next(b))}catch(x){C(x)}}function E(b){try{w(g.throw(b))}catch(x){C(x)}}function w(b){b.done?y(b.value):v(b.value).then(_,E)}w((g=g.apply(p,h||[])).next())})},n=t&&t.__generator||function(p,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,v,y,C;return C={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function _(w){return function(b){return E([w,b])}}function E(w){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,v&&(y=w[0]&2?v.return:w[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,w[1])).done)return y;switch(v=0,y&&(w=[w[0]&2,y.value]),w[0]){case 0:case 1:y=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,v=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(w[0]===6||w[0]===2)){m=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){m.label=w[1];break}if(w[0]===6&&m.label<y[1]){m.label=y[1],y=w;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(w);break}y[2]&&m.ops.pop(),m.trys.pop();continue}w=h.call(p,m)}catch(b){w=[6,b],v=0}finally{g=y=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),u=It(),l=$c(),d=Lr(),f=function(){function p(h,m,g){if(this._redirectedHost=null,this._config=h,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=p.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=p.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),p.TEMPDIR_PREFIX+this._config.instrumentationKey),!p.OS_PROVIDES_FILE_PROTECTION)if(p.USE_ICACLS){try{p.OS_PROVIDES_FILE_PROTECTION=i.existsSync(p.ICACLS_PATH)}catch(v){}p.OS_PROVIDES_FILE_PROTECTION||u.warn(p.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else p.OS_PROVIDES_FILE_PROTECTION=!0}return p.prototype.setDiskRetryMode=function(h,m,g){var v=this;this._enableDiskRetryMode=p.OS_PROVIDES_FILE_PROTECTION&&h,typeof m=="number"&&m>=0&&(this._resendInterval=Math.floor(m)),typeof g=="number"&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),h&&!p.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(p.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){v._fileCleanupTask()},p.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},p.prototype.send=function(h,m){return r(this,void 0,void 0,function(){var g,v,y,C,_=this;return n(this,function(E){return h&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},y="",h.forEach(function(w){var b=_._stringify(w);typeof b=="string"&&(y+=b+`
`)}),y.length>0&&(y=y.substring(0,y.length-1)),C=Buffer.from?Buffer.from(y):new Buffer(y),a.gzip(C,function(w,b){var x=b;w?(u.warn(w),x=C,v.headers["Content-Length"]=C.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=b.length.toString()),u.info(p.TAG,v),v[l.disableCollectionRequestOption]=!0;var R=function(q){q.setEncoding("utf-8");var H="";q.on("data",function(Z){H+=Z}),q.on("end",function(){if(_._numConsecutiveFailures=0,_._enableDiskRetryMode){if(q.statusCode===200)_._resendTimer||(_._resendTimer=setTimeout(function(){_._resendTimer=null,_._sendFirstFileOnDisk()},_._resendInterval),_._resendTimer.unref());else if(_._isRetriable(q.statusCode))try{var Z=JSON.parse(H),ee=[];Z.errors.forEach(function($){_._isRetriable($.statusCode)&&ee.push(h[$.index])}),ee.length>0&&_._storeToDisk(ee)}catch($){_._storeToDisk(h)}}if(q.statusCode===307||q.statusCode===308)if(_._numConsecutiveRedirects++,_._numConsecutiveRedirects<10){var V=q.headers.location?q.headers.location.toString():null;V&&(_._redirectedHost=V,_.send(h,m))}else typeof m=="function"&&m("Error sending telemetry because of circular redirects.");else _._numConsecutiveRedirects=0,typeof m=="function"&&m(H),u.info(p.TAG,H),typeof _._onSuccess=="function"&&_._onSuccess(H)})},k=d.makeRequest(_._config,g,v,R);k.on("error",function(q){if(_._numConsecutiveFailures++,!_._enableDiskRetryMode||_._numConsecutiveFailures>0&&_._numConsecutiveFailures%p.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var H="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";_._enableDiskRetryMode&&(H="Ingestion endpoint could not be reached "+_._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(p.TAG,H,d.dumpObj(q))}else{var H="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";u.info(p.TAG,H,d.dumpObj(q))}_._onErrorHelper(q),typeof m=="function"&&(q&&m(d.dumpObj(q)),m("Error sending telemetry")),_._enableDiskRetryMode&&_._storeToDisk(h)}),k.write(x),k.end()})),[2]})})},p.prototype.saveOnCrash=function(h){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(h))},p.prototype._isRetriable=function(h){return h===206||h===408||h===429||h===439||h===500||h===503},p.prototype._runICACLS=function(h,m){var g=c.spawn(p.ICACLS_PATH,h,{windowsHide:!0});g.on("error",function(v){return m(v)}),g.on("close",function(v,y){return m(v===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+v+")"))})},p.prototype._runICACLSSync=function(h){if(c.spawnSync){var m=c.spawnSync(p.ICACLS_PATH,h,{windowsHide:!0});if(m.error)throw m.error;if(m.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},p.prototype._getACLIdentity=function(h){if(p.ACL_IDENTITY)return h(null,p.ACL_IDENTITY);var m=c.spawn(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",function(v){return g+=v}),m.on("error",function(v){return h(v,null)}),m.on("close",function(v,y){return p.ACL_IDENTITY=g&&g.trim(),h(v===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+v+")"),p.ACL_IDENTITY)})},p.prototype._getACLIdentitySync=function(){if(p.ACL_IDENTITY)return p.ACL_IDENTITY;if(c.spawnSync){var h=c.spawnSync(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(h.error)throw h.error;if(h.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+h.status+")");return p.ACL_IDENTITY=h.stdout&&h.stdout.toString().trim(),p.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},p.prototype._getACLArguments=function(h,m){return[h,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},p.prototype._applyACLRules=function(h,m){var g=this;if(!p.USE_ICACLS)return m(null);if(p.ACLED_DIRECTORIES[h]===void 0)p.ACLED_DIRECTORIES[h]=!1,this._getACLIdentity(function(v,y){if(v)return p.ACLED_DIRECTORIES[h]=!1,m(v);g._runICACLS(g._getACLArguments(h,y),function(C){return p.ACLED_DIRECTORIES[h]=!C,m(C)})});else return m(p.ACLED_DIRECTORIES[h]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},p.prototype._applyACLRulesSync=function(h){if(p.USE_ICACLS){if(p.ACLED_DIRECTORIES[h]===void 0){this._runICACLSSync(this._getACLArguments(h,this._getACLIdentitySync())),p.ACLED_DIRECTORIES[h]=!0;return}else if(!p.ACLED_DIRECTORIES[h])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},p.prototype._confirmDirExists=function(h,m){var g=this;i.lstat(h,function(v,y){v&&v.code==="ENOENT"?i.mkdir(h,function(C){C&&C.code!=="EEXIST"?m(C):g._applyACLRules(h,m)}):!v&&y.isDirectory()?g._applyACLRules(h,m):m(v||new Error("Path existed but was not a directory"))})},p.prototype._getShallowDirectorySize=function(h,m){i.readdir(h,function(g,v){if(g)return m(g,-1);var y=null,C=0,_=0;if(v.length===0){m(null,0);return}for(var E=0;E<v.length;E++)i.stat(s.join(h,v[E]),function(w,b){_++,w?y=w:b.isFile()&&(C+=b.size),_===v.length&&(y?m(y,-1):m(y,C))})})},p.prototype._getShallowDirectorySizeSync=function(h){for(var m=i.readdirSync(h),g=0,v=0;v<m.length;v++)g+=i.statSync(s.join(h,m[v])).size;return g},p.prototype._storeToDisk=function(h){var m=this;u.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(g){if(g){u.warn(p.TAG,"Error while checking/creating directory: "+(g&&g.message)),m._onErrorHelper(g);return}m._getShallowDirectorySize(m._tempDir,function(v,y){if(v||y<0){u.warn(p.TAG,"Error while checking directory size: "+(v&&v.message)),m._onErrorHelper(v);return}else if(y>m._maxBytesOnDisk){u.warn(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+y);return}var C=new Date().getTime()+".ai.json",_=s.join(m._tempDir,C);u.info(p.TAG,"saving data to disk at: "+_),i.writeFile(_,m._stringify(h),{mode:384},function(E){return m._onErrorHelper(E)})})})},p.prototype._storeToDiskSync=function(h){try{u.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk){u.info(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);return}var g=new Date().getTime()+".ai.json",v=s.join(this._tempDir,g);u.info(p.TAG,"saving data before crash to disk at: "+v),i.writeFileSync(v,h,{mode:384})}catch(y){u.warn(p.TAG,"Error while saving data to disk: "+(y&&y.message)),this._onErrorHelper(y)}},p.prototype._sendFirstFileOnDisk=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){if(g)h._onErrorHelper(g);else if(v=v.filter(function(_){return s.basename(_).indexOf(".ai.json")>-1}),v.length>0){var y=v[0],C=s.join(h._tempDir,y);i.readFile(C,function(_,E){_?h._onErrorHelper(_):i.unlink(C,function(w){if(w)h._onErrorHelper(w);else try{var b=JSON.parse(E.toString());h.send(b)}catch(x){u.warn("Failed to read persisted file",x)}})})}})})},p.prototype._onErrorHelper=function(h){typeof this._onError=="function"&&this._onError(h)},p.prototype._stringify=function(h){try{return JSON.stringify(h)}catch(m){u.warn("Failed to serialize payload",m,h)}},p.prototype._fileCleanupTask=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){g?h._onErrorHelper(g):(v=v.filter(function(y){return s.basename(y).indexOf(".ai.json")>-1}),v.length>0&&v.forEach(function(y){var C=new Date(parseInt(y.split(".ai.json")[0])),_=new Date(+new Date-p.FILE_RETEMPTION_PERIOD)>C;if(_){var E=s.join(h._tempDir,y);i.unlink(E,function(w){w&&h._onErrorHelper(w)})}}))})})},p.TAG="Sender",p.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",p.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",p.ACLED_DIRECTORIES={},p.ACL_IDENTITY=null,p.WAIT_BETWEEN_RESEND=60*1e3,p.MAX_BYTES_ON_DISK=50*1024*1024,p.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,p.CLEANUP_TIMEOUT=60*60*1e3,p.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,p.TEMPDIR_PREFIX="appInsights-node",p.OS_PROVIDES_FILE_PROTECTION=!1,p.USE_ICACLS=o.type()==="Windows_NT",p}();e.exports=f}}),V9=A({"node_modules/applicationinsights/out/Library/EnvelopeFactory.js"(t,e){"use strict";var r=tr(),n=Lr(),i=Qs(),o=function(){function a(){}return a.createEnvelope=function(c,u,l,d,f){var p=null;switch(u){case r.TelemetryType.Trace:p=a.createTraceData(c);break;case r.TelemetryType.Dependency:p=a.createDependencyData(c);break;case r.TelemetryType.Event:p=a.createEventData(c);break;case r.TelemetryType.Exception:p=a.createExceptionData(c);break;case r.TelemetryType.Request:p=a.createRequestData(c);break;case r.TelemetryType.Metric:p=a.createMetricData(c);break;case r.TelemetryType.Availability:p=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:p=a.createPageViewData(c);break}if(l&&r.domainSupportsProperties(p.baseData)){if(p&&p.baseData)if(!p.baseData.properties)p.baseData.properties=l;else for(var h in l)p.baseData.properties[h]||(p.baseData.properties[h]=l[h]);p.baseData.properties=n.validateStringMap(p.baseData.properties)}var m=f&&f.instrumentationKey||"",g=new r.Envelope;return g.data=p,g.iKey=m,g.name="Microsoft.ApplicationInsights."+m.replace(/-/g,"")+"."+p.baseType.substr(0,p.baseType.length-4),g.tags=this.getTags(d,c.tagOverrides),g.time=new Date().toISOString(),g.ver=1,g.sampleRate=f?f.samplingPercentage:100,u===r.TelemetryType.Metric&&(g.sampleRate=100),g},a.createTraceData=function(c){var u=new r.MessageData;u.message=c.message,u.properties=c.properties,isNaN(c.severity)?u.severityLevel=r.SeverityLevel.Information:u.severityLevel=c.severity;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),l.baseData=u,l},a.createDependencyData=function(c){var u=new r.RemoteDependencyData;typeof c.name=="string"&&(u.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),u.data=c.data,u.target=c.target,u.duration=n.msToTimeSpan(c.duration),u.success=c.success,u.type=c.dependencyTypeName,u.properties=c.properties,u.resultCode=c.resultCode?c.resultCode+"":"",c.id?u.id=c.id:u.id=n.w3cTraceId();var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),l.baseData=u,l},a.createEventData=function(c){var u=new r.EventData;u.name=c.name,u.properties=c.properties,u.measurements=c.measurements;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),l.baseData=u,l},a.createExceptionData=function(c){var u=new r.ExceptionData;u.properties=c.properties,isNaN(c.severity)?u.severityLevel=r.SeverityLevel.Error:u.severityLevel=c.severity,u.measurements=c.measurements,u.exceptions=[];var l=c.exception.stack,d=new r.ExceptionDetails;d.message=c.exception.message,d.typeName=c.exception.name,d.parsedStack=this.parseStack(l),d.hasFullStack=n.isArray(d.parsedStack)&&d.parsedStack.length>0,u.exceptions.push(d);var f=new r.Data;return f.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),f.baseData=u,f},a.createRequestData=function(c){var u=new r.RequestData;c.id?u.id=c.id:u.id=n.w3cTraceId(),u.name=c.name,u.url=c.url,u.source=c.source,u.duration=n.msToTimeSpan(c.duration),u.responseCode=c.resultCode?c.resultCode+"":"",u.success=c.success,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),l.baseData=u,l},a.createMetricData=function(c){var u=new r.MetricData;u.metrics=[];var l=new r.DataPoint;l.count=isNaN(c.count)?1:c.count,l.kind=r.DataPointType.Aggregation,l.max=isNaN(c.max)?c.value:c.max,l.min=isNaN(c.min)?c.value:c.min,l.name=c.name,l.stdDev=isNaN(c.stdDev)?0:c.stdDev,l.value=c.value,u.metrics.push(l),u.properties=c.properties;var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),d.baseData=u,d},a.createAvailabilityData=function(c){var u=new r.AvailabilityData;c.id?u.id=c.id:u.id=n.w3cTraceId(),u.name=c.name,u.duration=n.msToTimeSpan(c.duration),u.success=c.success,u.runLocation=c.runLocation,u.message=c.message,u.measurements=c.measurements,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),l.baseData=u,l},a.createPageViewData=function(c){var u=new r.PageViewData;u.name=c.name,u.duration=n.msToTimeSpan(c.duration),u.url=c.url,u.measurements=c.measurements,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),l.baseData=u,l},a.getTags=function(c,u){var l=i.CorrelationContextManager.getCurrentContext(),d={};if(c&&c.tags)for(var f in c.tags)d[f]=c.tags[f];if(u)for(var f in u)d[f]=u[f];return l&&(d[c.keys.operationId]=d[c.keys.operationId]||l.operation.id,d[c.keys.operationName]=d[c.keys.operationName]||l.operation.name,d[c.keys.operationParentId]=d[c.keys.operationParentId]||l.operation.parentId),d},a.parseStack=function(c){var u=void 0;if(typeof c=="string"){var l=c.split(`
`);u=[];for(var d=0,f=0,p=0;p<=l.length;p++){var h=l[p];if(s.regex.test(h)){var m=new s(l[p],d++);f+=m.sizeInBytes,u.push(m)}}var g=32*1024;if(f>g)for(var v=0,y=u.length-1,C=0,_=v,E=y;v<y;){var w=u[v].sizeInBytes,b=u[y].sizeInBytes;if(C+=w+b,C>g){var x=E-_+1;u.splice(_,x);break}_=v,E=y,v++,y--}}return u},a}(),s=function(){function a(c,u){this.sizeInBytes=0,this.level=u,this.method="<no_method>",this.assembly=n.trim(c);var l=c.match(a.regex);l&&l.length>=5&&(this.method=n.trim(l[2])||this.method,this.fileName=n.trim(l[4])||"<no_filename>",this.line=parseInt(l[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();e.exports=o}}),G9=A({"node_modules/applicationinsights/out/Library/TelemetryClient.js"(t,e){"use strict";var r=require("url"),n=Rk(),i=wf(),o=tr(),s=M9(),a=H9(),c=Qs(),u=B9(),l=Lr(),d=It(),f=V9(),p=function(){function h(m){this._telemetryProcessors=[],this._enableAzureProperties=!1;var g=new n(m);this.config=g,this.context=new i,this.commonProperties={};var v=new u(this.config);this.channel=new s(function(){return g.disableAppInsights},function(){return g.maxBatchSize},function(){return g.maxBatchIntervalMs},v)}return h.prototype.trackAvailability=function(m){this.track(m,o.TelemetryType.Availability)},h.prototype.trackPageView=function(m){this.track(m,o.TelemetryType.PageView)},h.prototype.trackTrace=function(m){this.track(m,o.TelemetryType.Trace)},h.prototype.trackMetric=function(m){this.track(m,o.TelemetryType.Metric)},h.prototype.trackException=function(m){m&&m.exception&&!l.isError(m.exception)&&(m.exception=new Error(m.exception.toString())),this.track(m,o.TelemetryType.Exception)},h.prototype.trackEvent=function(m){this.track(m,o.TelemetryType.Event)},h.prototype.trackRequest=function(m){this.track(m,o.TelemetryType.Request)},h.prototype.trackDependency=function(m){m&&!m.target&&m.data&&(m.target=r.parse(m.data).host),this.track(m,o.TelemetryType.Dependency)},h.prototype.flush=function(m){this.channel.triggerSend(m?!!m.isAppCrashing:!1,m?m.callback:void 0)},h.prototype.track=function(m,g){if(m&&o.telemetryTypeToBaseType(g)){var v=f.createEnvelope(m,g,this.commonProperties,this.context,this.config);m.time&&(v.time=m.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(v,this.context);var y=this.runTelemetryProcessors(v,m.contextObjects);y=y&&a.samplingTelemetryProcessor(v,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(v,this.context),y&&(a.performanceMetricsTelemetryProcessor(v,this.quickPulseClient),this.channel.send(v))}else d.warn("track() requires telemetry object and telemetryType to be specified.")},h.prototype.setAutoPopulateAzureProperties=function(m){this._enableAzureProperties=m},h.prototype.addTelemetryProcessor=function(m){this._telemetryProcessors.push(m)},h.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},h.prototype.runTelemetryProcessors=function(m,g){var v=!0,y=this._telemetryProcessors.length;if(y===0)return v;g=g||{},g.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var C=0;C<y;++C)try{var _=this._telemetryProcessors[C];if(_&&_.apply(null,[m,g])===!1){v=!1;break}}catch(E){v=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",E,m)}return v&&(m&&m.tags&&(m.tags=l.validateStringMap(m.tags)),m&&m.data&&m.data.baseData&&m.data.baseData.properties&&(m.data.baseData.properties=l.validateStringMap(m.data.baseData.properties))),v},h}();e.exports=p}}),W9=A({"node_modules/applicationinsights/out/Library/NodeClient.js"(t,e){"use strict";var r=t&&t.__extends||function(){var c=function(u,l){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])},c(u,l)};return function(u,l){c(u,l);function d(){this.constructor=u}u.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),n=G9(),i=Ak(),o=$c(),s=It(),a=function(c){r(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.trackNodeHttpRequestSync=function(l){l&&l.request&&l.response&&l.duration?i.trackRequestSync(this,l):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},u.prototype.trackNodeHttpRequest=function(l){(l.duration||l.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),l&&l.request&&l.response?i.trackRequest(this,l):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},u.prototype.trackNodeHttpDependency=function(l){l&&l.request?o.trackRequest(this,l):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},u}(n);e.exports=a}}),z9=A({"node_modules/applicationinsights/out/Library/Functions.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}}),K9=A({"node_modules/applicationinsights/out/applicationinsights.js"(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.Configuration=t.wrapWithCorrelationContext=t.startOperation=t.getCorrelationContext=t.start=t.setup=t.liveMetricsClient=t.defaultClient=t.DistributedTracingModes=void 0;var e=Qs(),r=_9(),n=C9(),i=Vv(),o=xk(),s=R9(),a=$c(),c=Ak(),u=Xs(),l=It(),d=N9(),f=F9();t.TelemetryClient=W9(),t.Contracts=tr(),t.azureFunctionsTypes=z9();var p;(function(de){de[de.AI=0]="AI",de[de.AI_AND_W3C=1]="AI_AND_W3C"})(p=t.DistributedTracingModes||(t.DistributedTracingModes={}));var h=!0,m=!1,g=!0,v=!0,y=!0,C=!1,_=!0,E=!0,w=!0,b=!0,x,R=!1,k=!0,q,H=void 0,Z=void 0,ee,V,$,P,N,F,W,z,X=!1,K;function ye(de){return t.defaultClient?l.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(de),ee=new r(t.defaultClient),V=new n(t.defaultClient),$=new i(t.defaultClient),P=new o(t.defaultClient),N=new s(t.defaultClient),W=new c(t.defaultClient),z=new a(t.defaultClient),F||(F=new f.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(w,H,Z),vt}t.setup=ye;function Ne(){return t.defaultClient?(X=!0,ee.enable(h,m),V.enable(g),$.enable(v),P.enable(y),N.enable(C,t.defaultClient.config),F.enable(k,q),W.useAutoCorrelation(b,x),W.enable(_),z.enable(E),t.liveMetricsClient&&R&&t.liveMetricsClient.enable(R)):l.warn("Start cannot be called before setup"),vt}t.start=Ne;function ke(){return b?e.CorrelationContextManager.getCurrentContext():null}t.getCorrelationContext=ke;function We(de,ue){return e.CorrelationContextManager.startOperation(de,ue)}t.startOperation=We;function Ue(de,ue){return e.CorrelationContextManager.wrapCallback(de,ue)}t.wrapWithCorrelationContext=Ue;var vt=function(){function de(){}return de.setDistributedTracingMode=function(ue){return u.w3cEnabled=ue===p.AI_AND_W3C,de},de.setAutoCollectConsole=function(ue,De){return De===void 0&&(De=!1),h=ue,m=De,X&&ee.enable(ue,De),de},de.setAutoCollectExceptions=function(ue){return g=ue,X&&V.enable(ue),de},de.setAutoCollectPerformance=function(ue,De){De===void 0&&(De=!0),v=ue;var bt=f.AutoCollectNativePerformance.parseEnabled(De);return k=bt.isEnabled,q=bt.disabledMetrics,X&&($.enable(ue),F.enable(bt.isEnabled,bt.disabledMetrics)),de},de.setAutoCollectPreAggregatedMetrics=function(ue){return y=ue,X&&P.enable(ue),de},de.setAutoCollectHeartbeat=function(ue){return C=ue,X&&N.enable(ue,t.defaultClient.config),de},de.setAutoCollectRequests=function(ue){return _=ue,X&&W.enable(ue),de},de.setAutoCollectDependencies=function(ue){return E=ue,X&&z.enable(ue),de},de.setAutoDependencyCorrelation=function(ue,De){return b=ue,x=De,X&&W.useAutoCorrelation(ue,De),de},de.setUseDiskRetryCaching=function(ue,De,bt){return w=ue,H=De,Z=bt,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(ue,De,bt),de},de.setInternalLogging=function(ue,De){return ue===void 0&&(ue=!1),De===void 0&&(De=!0),l.enableDebug=ue,l.disableWarnings=!De,de},de.setSendLiveMetrics=function(ue){return ue===void 0&&(ue=!1),t.defaultClient?(!t.liveMetricsClient&&ue?(t.liveMetricsClient=new d(t.defaultClient.config,null),K=new i(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(K),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(ue),R=ue,de):(l.warn("Live metrics client cannot be setup without the default client"),de)},de.start=Ne,de}();t.Configuration=vt;function Et(){u.w3cEnabled=!0,t.defaultClient=null,X=!1,ee&&ee.dispose(),V&&V.dispose(),$&&$.dispose(),P&&P.dispose(),N&&N.dispose(),F&&F.dispose(),W&&W.dispose(),z&&z.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),R=!1,t.liveMetricsClient=void 0)}t.dispose=Et}});xz(Dk,{default:()=>X9});var kk=gf(require("os")),Uc=gf(require("vscode")),Ef=gf(K9()),Je=gf(require("vscode")),Gv=class{constructor(t,e,r,n,i){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=r,this.osShim=n,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!i,this.updateUserOptStatus(),Je.env.onDidChangeTelemetryEnabled!==void 0?this.optOutListener=Je.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus()):this.optOutListener=Je.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus())}updateUserOptStatus(){let t=Je.workspace.getConfiguration(Gv.TELEMETRY_CONFIG_ID),e=Je.env.isTelemetryEnabled===void 0?t.get(Gv.TELEMETRY_CONFIG_ENABLED_ID,!0):Je.env.isTelemetryEnabled;this.userOptIn!==e&&(this.userOptIn=e)}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach(r=>{t.indexOf(`${r}+`)===0&&(e=r)}),e}get extension(){return this._extension===void 0&&(this._extension=Je.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let r={};for(let n in t)r[n]=e(n,t[n]);return r}shouldSendErrorTelemetry(){return this.firstParty?this.cleanRemoteName(Je.env.remoteName)!=="other"?!0:!(this.extension===void 0||this.extension.extensionKind===Je.ExtensionKind.Workspace||Je.env.uiKind===Je.UIKind.Web):!0}getCommonProperties(){let t=Object.create(null);if(t["common.os"]=this.osShim.platform,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,Je&&Je.env){switch(t["common.vscodemachineid"]=Je.env.machineId,t["common.vscodesessionid"]=Je.env.sessionId,t["common.vscodeversion"]=Je.version,t["common.isnewappinstall"]=Je.env.isNewAppInstall,Je.env.uiKind){case Je.UIKind.Web:t["common.uikind"]="web";break;case Je.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(Je.env.remoteName)}return t}anonymizeFilePaths(t,e){let r;if(t==null)return"";let n=[];Je.env.appRoot!==""&&n.push(new RegExp(Je.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let u of n)for(;(r=u.exec(t))&&r;)o.push([r.index,u.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(t))&&r;)r[0]&&!s.test(r[0])&&o.every(([u,l])=>r.index<u||r.index>=l)&&(i+=t.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<t.length&&(i+=t.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e=Object.create(null);for(let r of Object.keys(t)){let n=t[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/;n.indexOf("token=")!==-1?e[r]="<REDACTED: token>":n.indexOf("ssword=")!==-1?e[r]="<REDACTED: password>":i.test(n)?e[r]="<REDACTED: email>":e[r]=n}return e}sendTelemetryEvent(t,e,r){if(this.userOptIn&&t!==""){e=Ys(Ys({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}sendTelemetryErrorEvent(t,e,r,n){if(this.userOptIn&&t!==""){e=Ys(Ys({},e),this.getCommonProperties());let i=this.cloneAndChange(e,(o,s)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(s,this.firstParty):n===void 0||n.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(s,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:r})}}sendTelemetryException(t,e,r){if(this.shouldSendErrorTelemetry()&&this.userOptIn&&t){e=Ys(Ys({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),this.telemetryAppender.logException(t,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}dispose(){return this.telemetryAppender.flush(),this.optOutListener.dispose()}},Wv=Gv;Wv.TELEMETRY_CONFIG_ID="telemetry";Wv.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry";var Y9=class{constructor(t){Ef.defaultClient?(this._appInsightsClient=new Ef.TelemetryClient(t),this._appInsightsClient.channel.setUseDiskRetryCaching(!0)):(Ef.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this._appInsightsClient=Ef.defaultClient),Uc&&Uc.env&&(this._appInsightsClient.context.tags[this._appInsightsClient.context.keys.userId]=Uc.env.machineId,this._appInsightsClient.context.tags[this._appInsightsClient.context.keys.sessionId]=Uc.env.sessionId,this._appInsightsClient.context.tags[this._appInsightsClient.context.keys.cloudRole]=Uc.env.appName),t&&t.indexOf("AIF-")===0&&(this._appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")}logEvent(t,e){!this._appInsightsClient||this._appInsightsClient.trackEvent({name:t,properties:e==null?void 0:e.properties,measurements:e==null?void 0:e.measurements})}logException(t,e){!this._appInsightsClient||this._appInsightsClient.trackException({exception:t,properties:e==null?void 0:e.properties,measurements:e==null?void 0:e.measurements})}flush(){return this._appInsightsClient&&(this._appInsightsClient.flush(),this._appInsightsClient=void 0),Promise.resolve(void 0)}},X9=class extends Wv{constructor(t,e,r,n){let i=new Y9(r);r&&r.indexOf("AIF-")===0&&(n=!0),super(t,e,i,{release:kk.release(),platform:kk.platform()},n)}}});var zv=S(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var bf=require("vscode"),Hc=class{constructor(e,r,n){this.extensionName=e,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(e){let r=/\-[a-zA-Z0-9]+$/;return e.split(r)[0]}getFilterValue(e){switch(e){case Gn.ApplicationVersion:return Hc.trimVersionSuffix(bf.version);case Gn.Build:return bf.env.appName;case Gn.ClientId:return bf.env.machineId;case Gn.ExtensionName:return this.extensionName;case Gn.ExtensionVersion:return Hc.trimVersionSuffix(this.extensionVersion);case Gn.Language:return bf.env.language;case Gn.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,r=Object.values(Gn);for(let n of r)e.set(n,this.getFilterValue(n));return e}};Do.VSCodeFilterProvider=Hc;var Gn;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Gn=Do.Filters||(Do.Filters={}));var Q9;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(Q9=Do.TargetPopulation||(Do.TargetPopulation={}))});var Lk=S(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});var Nk=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};Kv.BaseFeatureProvider=Nk});var Mk=S(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});var J9=Lk(),Fk=class extends J9.BaseFeatureProvider{constructor(e,r){super(e);this.telemetry=e,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let r=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(e)}};Yv.FilteredFeatureProvider=Fk});var jk=S(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});var Z9=Mk(),qk=class extends Z9.FilteredFeatureProvider{constructor(e,r,n){super(r,n);this.httpClient=e,this.telemetry=r,this.filterProviders=n}async fetch(){let e=this.getFilters(),r={};for(let a of e.keys()){let c=e.get(a);r[a]=c}let n=await this.httpClient.get({headers:r});e.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let c of Object.keys(a.Parameters)){let u=c+(a.Parameters[c]?"":"cf");s.includes(u)||s.push(u)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};Xv.TasApiFeatureProvider=qk});var Qv=S((joe,$k)=>{"use strict";$k.exports=function(e,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(r,i)}}});var Wt=S(($oe,Bk)=>{"use strict";var e8=Qv(),Oo=Object.prototype.toString;function Jv(t){return Oo.call(t)==="[object Array]"}function Zv(t){return typeof t=="undefined"}function t8(t){return t!==null&&!Zv(t)&&t.constructor!==null&&!Zv(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r8(t){return Oo.call(t)==="[object ArrayBuffer]"}function n8(t){return typeof FormData!="undefined"&&t instanceof FormData}function i8(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function o8(t){return typeof t=="string"}function s8(t){return typeof t=="number"}function Uk(t){return t!==null&&typeof t=="object"}function Sf(t){if(Oo.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function a8(t){return Oo.call(t)==="[object Date]"}function c8(t){return Oo.call(t)==="[object File]"}function u8(t){return Oo.call(t)==="[object Blob]"}function Hk(t){return Oo.call(t)==="[object Function]"}function l8(t){return Uk(t)&&Hk(t.pipe)}function d8(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function f8(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function p8(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ey(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Jv(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ty(){var t={};function e(i,o){Sf(t[o])&&Sf(i)?t[o]=ty(t[o],i):Sf(i)?t[o]=ty({},i):Jv(i)?t[o]=i.slice():t[o]=i}for(var r=0,n=arguments.length;r<n;r++)ey(arguments[r],e);return t}function h8(t,e,r){return ey(e,function(i,o){r&&typeof i=="function"?t[o]=e8(i,r):t[o]=i}),t}function m8(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}Bk.exports={isArray:Jv,isArrayBuffer:r8,isBuffer:t8,isFormData:n8,isArrayBufferView:i8,isString:o8,isNumber:s8,isObject:Uk,isPlainObject:Sf,isUndefined:Zv,isDate:a8,isFile:c8,isBlob:u8,isFunction:Hk,isStream:l8,isURLSearchParams:d8,isStandardBrowserEnv:p8,forEach:ey,merge:ty,extend:h8,trim:f8,stripBOM:m8}});var Pf=S((Uoe,Gk)=>{"use strict";var Js=Wt();function Vk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Gk.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Js.isURLSearchParams(r))i=r.toString();else{var o=[];Js.forEach(r,function(c,u){c===null||typeof c=="undefined"||(Js.isArray(c)?u=u+"[]":c=[c],Js.forEach(c,function(d){Js.isDate(d)?d=d.toISOString():Js.isObject(d)&&(d=JSON.stringify(d)),o.push(Vk(u)+"="+Vk(d))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var zk=S((Hoe,Wk)=>{"use strict";var g8=Wt();function Tf(){this.handlers=[]}Tf.prototype.use=function(e,r){return this.handlers.push({fulfilled:e,rejected:r}),this.handlers.length-1};Tf.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Tf.prototype.forEach=function(e){g8.forEach(this.handlers,function(n){n!==null&&e(n)})};Wk.exports=Tf});var Yk=S((Boe,Kk)=>{"use strict";var v8=Wt();Kk.exports=function(e,r,n){return v8.forEach(n,function(o){e=o(e,r)}),e}});var ry=S((Voe,Xk)=>{"use strict";Xk.exports=function(e){return!!(e&&e.__CANCEL__)}});var Jk=S((Goe,Qk)=>{"use strict";var y8=Wt();Qk.exports=function(e,r){y8.forEach(e,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[o])})}});var ny=S((Woe,Zk)=>{"use strict";Zk.exports=function(e,r,n,i,o){return e.config=r,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}});var If=S((zoe,eD)=>{"use strict";var _8=ny();eD.exports=function(e,r,n,i,o){var s=new Error(e);return _8(s,r,n,i,o)}});var iy=S((Koe,tD)=>{"use strict";var C8=If();tD.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(C8("Request failed with status code "+n.status,n.config,null,n.request,n))}});var nD=S((Yoe,rD)=>{"use strict";var xf=Wt();rD.exports=xf.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),xf.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),xf.isString(o)&&c.push("path="+o),xf.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var oD=S((Xoe,iD)=>{"use strict";iD.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var aD=S((Qoe,sD)=>{"use strict";sD.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var oy=S((Joe,cD)=>{"use strict";var w8=oD(),E8=aD();cD.exports=function(e,r){return e&&!w8(r)?E8(e,r):r}});var lD=S((Zoe,uD)=>{"use strict";var sy=Wt(),b8=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];uD.exports=function(e){var r={},n,i,o;return e&&sy.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),n=sy.trim(a.substr(0,o)).toLowerCase(),i=sy.trim(a.substr(o+1)),n){if(r[n]&&b8.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var pD=S((ese,fD)=>{"use strict";var dD=Wt();fD.exports=dD.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=dD.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var mD=S((tse,hD)=>{"use strict";var Af=Wt(),S8=iy(),P8=nD(),T8=Pf(),I8=oy(),x8=lD(),A8=pD(),ay=If();hD.exports=function(e){return new Promise(function(n,i){var o=e.data,s=e.headers;Af.isFormData(o)&&delete s["Content-Type"];var a=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(c+":"+u)}var l=I8(e.baseURL,e.url);if(a.open(e.method.toUpperCase(),T8(l,e.params,e.paramsSerializer),!0),a.timeout=e.timeout,a.onreadystatechange=function(){if(!(!a||a.readyState!==4)&&!(a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0))){var p="getAllResponseHeaders"in a?x8(a.getAllResponseHeaders()):null,h=!e.responseType||e.responseType==="text"?a.responseText:a.response,m={data:h,status:a.status,statusText:a.statusText,headers:p,config:e,request:a};S8(n,i,m),a=null}},a.onabort=function(){!a||(i(ay("Request aborted",e,"ECONNABORTED",a)),a=null)},a.onerror=function(){i(ay("Network Error",e,null,a)),a=null},a.ontimeout=function(){var p="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),i(ay(p,e,"ECONNABORTED",a)),a=null},Af.isStandardBrowserEnv()){var d=(e.withCredentials||A8(l))&&e.xsrfCookieName?P8.read(e.xsrfCookieName):void 0;d&&(s[e.xsrfHeaderName]=d)}if("setRequestHeader"in a&&Af.forEach(s,function(p,h){typeof o=="undefined"&&h.toLowerCase()==="content-type"?delete s[h]:a.setRequestHeader(h,p)}),Af.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),e.responseType)try{a.responseType=e.responseType}catch(f){if(e.responseType!=="json")throw f}typeof e.onDownloadProgress=="function"&&a.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(p){!a||(a.abort(),i(p),a=null)}),o||(o=null),a.send(o)})}});var vD=S((rse,gD)=>{var Rf;gD.exports=function(){if(!Rf)try{Rf=ih()("follow-redirects")}catch(t){Rf=function(){}}Rf.apply(null,arguments)}});var fy=S((nse,dy)=>{var Zs=require("url"),cy=Zs.URL,R8=require("http"),k8=require("https"),yD=require("stream").Writable,D8=require("assert"),_D=vD(),uy=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach(function(t){uy[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var O8=kf("ERR_FR_REDIRECTION_FAILURE",""),N8=kf("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),L8=kf("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),F8=kf("ERR_STREAM_WRITE_AFTER_END","write after end");function hr(t,e){yD.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}hr.prototype=Object.create(yD.prototype);hr.prototype.abort=function(){this._currentRequest.removeAllListeners(),this._currentRequest.on("error",wD),this._currentRequest.abort(),this.emit("abort"),this.removeAllListeners()};hr.prototype.write=function(t,e,r){if(this._ending)throw new F8;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new L8),this.abort())};hr.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};hr.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};hr.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};hr.prototype.setTimeout=function(t,e){var r=this;e&&this.on("timeout",e);function n(){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t)}function i(){clearTimeout(this._timeout),e&&r.removeListener("timeout",e),this.socket||r._currentRequest.removeListener("socket",n)}return this.socket?n():this._currentRequest.once("socket",n),this.once("response",i),this.once("error",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){hr.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(hr.prototype,t,{get:function(){return this._currentRequest[t]}})});hr.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};hr.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=Zs.format(this._options),n._redirectable=this;for(var i in uy)i&&n.on(i,uy[i]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};hr.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(r&&this._options.followRedirects!==!1&&e>=300&&e<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",wD),this._currentRequest.abort(),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new N8);return}((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],ly(/^content-/i,this._options.headers));var n=ly(/^host$/i,this._options.headers)||Zs.parse(this._currentUrl).hostname,i=Zs.resolve(this._currentUrl,r);_D("redirecting to",i),this._isRedirect=!0;var o=Zs.parse(i);if(Object.assign(this._options,o),o.hostname!==n&&ly(/^authorization$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var s={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,s)}catch(c){this.emit("error",c);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(c){var a=new O8("Redirected request failed: "+c.message);a.cause=c,this.emit("error",a)}}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};function CD(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(u,l,d){if(typeof u=="string"){var f=u;try{u=ED(new cy(f))}catch(p){u=Zs.parse(f)}}else cy&&u instanceof cy?u=ED(u):(d=l,l=u,u={protocol:i});return typeof l=="function"&&(d=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,D8.equal(l.protocol,i,"protocol mismatch"),_D("options",l),new hr(l,d)}function c(u,l,d){var f=s.request(u,l,d);return f.end(),f}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function wD(){}function ED(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function ly(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r}function kf(t,e){function r(n){Error.captureStackTrace(this,this.constructor),this.message=n||e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}dy.exports=CD({http:R8,https:k8});dy.exports.wrap=CD});var bD=S((ise,M8)=>{M8.exports={name:"axios",version:"0.21.1",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test && bundlesize",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://github.com/axios/axios",devDependencies:{bundlesize:"^0.17.0",coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^5.2.0",sinon:"^4.5.0",typescript:"^2.8.1","url-search-params":"^0.10.0",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.10.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}});var AD=S((ose,xD)=>{"use strict";var Bc=Wt(),SD=iy(),q8=oy(),j8=Pf(),$8=require("http"),U8=require("https"),H8=fy().http,B8=fy().https,PD=require("url"),V8=require("zlib"),G8=bD(),py=If(),hy=ny(),TD=/https:?/;function ID(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(o){o.headers.host=o.host,ID(o,e,o.href)}}xD.exports=function(e){return new Promise(function(n,i){var o=function(P){n(P)},s=function(P){i(P)},a=e.data,c=e.headers;if(!c["User-Agent"]&&!c["user-agent"]&&(c["User-Agent"]="axios/"+G8.version),a&&!Bc.isStream(a)){if(!Buffer.isBuffer(a))if(Bc.isArrayBuffer(a))a=Buffer.from(new Uint8Array(a));else if(Bc.isString(a))a=Buffer.from(a,"utf-8");else return s(py("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));c["Content-Length"]=a.length}var u=void 0;if(e.auth){var l=e.auth.username||"",d=e.auth.password||"";u=l+":"+d}var f=q8(e.baseURL,e.url),p=PD.parse(f),h=p.protocol||"http:";if(!u&&p.auth){var m=p.auth.split(":"),g=m[0]||"",v=m[1]||"";u=g+":"+v}u&&delete c.Authorization;var y=TD.test(h),C=y?e.httpsAgent:e.httpAgent,_={path:j8(p.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:c,agent:C,agents:{http:e.httpAgent,https:e.httpsAgent},auth:u};e.socketPath?_.socketPath=e.socketPath:(_.hostname=p.hostname,_.port=p.port);var E=e.proxy;if(!E&&E!==!1){var w=h.slice(0,-1)+"_proxy",b=process.env[w]||process.env[w.toUpperCase()];if(b){var x=PD.parse(b),R=process.env.no_proxy||process.env.NO_PROXY,k=!0;if(R){var q=R.split(",").map(function(P){return P.trim()});k=!q.some(function(P){return P?P==="*"||P[0]==="."&&p.hostname.substr(p.hostname.length-P.length)===P?!0:p.hostname===P:!1})}if(k&&(E={host:x.hostname,port:x.port,protocol:x.protocol},x.auth)){var H=x.auth.split(":");E.auth={username:H[0],password:H[1]}}}}E&&(_.headers.host=p.hostname+(p.port?":"+p.port:""),ID(_,E,h+"//"+p.hostname+(p.port?":"+p.port:"")+_.path));var Z,ee=y&&(E?TD.test(E.protocol):!0);e.transport?Z=e.transport:e.maxRedirects===0?Z=ee?U8:$8:(e.maxRedirects&&(_.maxRedirects=e.maxRedirects),Z=ee?B8:H8),e.maxBodyLength>-1&&(_.maxBodyLength=e.maxBodyLength);var V=Z.request(_,function(P){if(!V.aborted){var N=P,F=P.req||V;if(P.statusCode!==204&&F.method!=="HEAD"&&e.decompress!==!1)switch(P.headers["content-encoding"]){case"gzip":case"compress":case"deflate":N=N.pipe(V8.createUnzip()),delete P.headers["content-encoding"];break}var W={status:P.statusCode,statusText:P.statusMessage,headers:P.headers,config:e,request:F};if(e.responseType==="stream")W.data=N,SD(o,s,W);else{var z=[];N.on("data",function(K){z.push(K),e.maxContentLength>-1&&Buffer.concat(z).length>e.maxContentLength&&(N.destroy(),s(py("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,F)))}),N.on("error",function(K){V.aborted||s(hy(K,e,null,F))}),N.on("end",function(){var K=Buffer.concat(z);e.responseType!=="arraybuffer"&&(K=K.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(K=Bc.stripBOM(K))),W.data=K,SD(o,s,W)})}}});V.on("error",function(P){V.aborted&&P.code!=="ERR_FR_TOO_MANY_REDIRECTS"||s(hy(P,e,null,V))}),e.timeout&&V.setTimeout(e.timeout,function(){V.abort(),s(py("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",V))}),e.cancelToken&&e.cancelToken.promise.then(function(P){V.aborted||(V.abort(),s(P))}),Bc.isStream(a)?a.on("error",function(P){s(hy(P,e,null,V))}).pipe(V):V.end(a)})}});var my=S((sse,DD)=>{"use strict";var rr=Wt(),RD=Jk(),W8={"Content-Type":"application/x-www-form-urlencoded"};function kD(t,e){!rr.isUndefined(t)&&rr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function z8(){var t;return typeof XMLHttpRequest!="undefined"?t=mD():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(t=AD()),t}var Df={adapter:z8(),transformRequest:[function(e,r){return RD(r,"Accept"),RD(r,"Content-Type"),rr.isFormData(e)||rr.isArrayBuffer(e)||rr.isBuffer(e)||rr.isStream(e)||rr.isFile(e)||rr.isBlob(e)?e:rr.isArrayBufferView(e)?e.buffer:rr.isURLSearchParams(e)?(kD(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):rr.isObject(e)?(kD(r,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch(r){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Df.headers={common:{Accept:"application/json, text/plain, */*"}};rr.forEach(["delete","get","head"],function(e){Df.headers[e]={}});rr.forEach(["post","put","patch"],function(e){Df.headers[e]=rr.merge(W8)});DD.exports=Df});var LD=S((ase,ND)=>{"use strict";var OD=Wt(),gy=Yk(),K8=ry(),Y8=my();function vy(t){t.cancelToken&&t.cancelToken.throwIfRequested()}ND.exports=function(e){vy(e),e.headers=e.headers||{},e.data=gy(e.data,e.headers,e.transformRequest),e.headers=OD.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),OD.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Y8.adapter;return r(e).then(function(i){return vy(e),i.data=gy(i.data,i.headers,e.transformResponse),i},function(i){return K8(i)||(vy(e),i&&i.response&&(i.response.data=gy(i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var yy=S((cse,FD)=>{"use strict";var qt=Wt();FD.exports=function(e,r){r=r||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(f,p){return qt.isPlainObject(f)&&qt.isPlainObject(p)?qt.merge(f,p):qt.isPlainObject(p)?qt.merge({},p):qt.isArray(p)?p.slice():p}function u(f){qt.isUndefined(r[f])?qt.isUndefined(e[f])||(n[f]=c(void 0,e[f])):n[f]=c(e[f],r[f])}qt.forEach(i,function(p){qt.isUndefined(r[p])||(n[p]=c(void 0,r[p]))}),qt.forEach(o,u),qt.forEach(s,function(p){qt.isUndefined(r[p])?qt.isUndefined(e[p])||(n[p]=c(void 0,e[p])):n[p]=c(void 0,r[p])}),qt.forEach(a,function(p){p in r?n[p]=c(e[p],r[p]):p in e&&(n[p]=c(void 0,e[p]))});var l=i.concat(o).concat(s).concat(a),d=Object.keys(e).concat(Object.keys(r)).filter(function(p){return l.indexOf(p)===-1});return qt.forEach(d,u),n}});var $D=S((use,jD)=>{"use strict";var MD=Wt(),X8=Pf(),qD=zk(),Q8=LD(),Of=yy();function Vc(t){this.defaults=t,this.interceptors={request:new qD,response:new qD}}Vc.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Of(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=[Q8,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(o){r.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){r.push(o.fulfilled,o.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n};Vc.prototype.getUri=function(e){return e=Of(this.defaults,e),X8(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};MD.forEach(["delete","get","head","options"],function(e){Vc.prototype[e]=function(r,n){return this.request(Of(n||{},{method:e,url:r,data:(n||{}).data}))}});MD.forEach(["post","put","patch"],function(e){Vc.prototype[e]=function(r,n,i){return this.request(Of(i||{},{method:e,url:r,data:n}))}});jD.exports=Vc});var Cy=S((lse,UD)=>{"use strict";function _y(t){this.message=t}_y.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};_y.prototype.__CANCEL__=!0;UD.exports=_y});var BD=S((dse,HD)=>{"use strict";var J8=Cy();function Nf(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;t(function(i){r.reason||(r.reason=new J8(i),e(r.reason))})}Nf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Nf.source=function(){var e,r=new Nf(function(i){e=i});return{token:r,cancel:e}};HD.exports=Nf});var GD=S((fse,VD)=>{"use strict";VD.exports=function(e){return function(n){return e.apply(null,n)}}});var zD=S((pse,WD)=>{"use strict";WD.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var XD=S((hse,wy)=>{"use strict";var KD=Wt(),Z8=Qv(),Lf=$D(),e5=yy(),t5=my();function YD(t){var e=new Lf(t),r=Z8(Lf.prototype.request,e);return KD.extend(r,Lf.prototype,e),KD.extend(r,e),r}var en=YD(t5);en.Axios=Lf;en.create=function(e){return YD(e5(en.defaults,e))};en.Cancel=Cy();en.CancelToken=BD();en.isCancel=ry();en.all=function(e){return Promise.all(e)};en.spread=GD();en.isAxiosError=zD();wy.exports=en;wy.exports.default=en});var JD=S((mse,QD)=>{QD.exports=XD()});var eO=S(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});var r5=JD(),ZD=class{constructor(e){this.endpoint=e}get(e){return r5.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};Ey.AxiosHttpClient=ZD});var rO=S(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});var tO=class{constructor(){this.storage=new Map}async getValue(e,r){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(r||void 0)}setValue(e,r){this.storage.set(e,r)}};by.MemoryKeyValueStorage=tO});var iO=S(Sy=>{"use strict";Object.defineProperty(Sy,"__esModule",{value:!0});var n5=rO(),nO=class{constructor(e,r,n,i,o,s){this.telemetry=e,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new n5.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((a,c)=>{this.resolveInitialFetchPromise=a})}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch(r){}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));try{let r=await this.fetchPromise;this.updateFeatures(r,e)}catch(r){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),r.features.includes(e)}getTreatmentVariable(e,r){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${r}`),(n=this.features.configs.find(o=>o.Id===e))===null||n===void 0?void 0:n.Parameters[r]}async getTreatmentVariableAsync(e,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,r)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let r of e)this.featureProviders.push(r)}};Sy.ExperimentationServiceBase=nO});var sO=S(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});var oO=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};Py.PollingService=oO});var cO=S(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});var i5=iO(),o5=sO(),aO=class extends i5.ExperimentationServiceBase{constructor(e,r,n,i,o,s,a,c){super(e,i,o,s,a,c);if(this.telemetry=e,this.filterProviders=r,this.refreshRateMs=n,this.featuresTelemetryPropertyName=i,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new o5.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(e)}};Ty.ExperimentationServiceAutoPolling=aO});var uO=S(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});var s5=jk(),a5=eO(),c5=cO(),Iy=class extends c5.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage);this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new s5.TasApiFeatureProvider(new a5.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};xy.ExperimentationService=Iy;Iy.REFRESH_RATE_IN_MINUTES=30});var lO=S(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});var u5=uO();Ay.ExperimentationService=u5.ExperimentationService});var fO=S(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});var dO=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,r){return await this.mementoGlobalStorage.get(e)||r}setValue(e,r){this.mementoGlobalStorage.update(e,r)}};Ry.MementoKeyValueStorage=dO});var hO=S(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});var pO=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};ky.default=pO});var gO=S(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});var l5=zv(),d5=lO(),Dy=require("vscode"),f5=fO(),p5=hO(),h5="https://default.exp-tas.com/vscode/ab",m5="query-expfeature",g5="VSCode.ABExp.Features",v5="abexp.assignmentcontext",y5="VSCode.ABExp.FeatureData",_5=1e3*60*30;function mO(t,e,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=Dy.workspace.getConfiguration("telemetry");if(!(Dy.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):Dy.env.isTelemetryEnabled))return new p5.default;let u=[new l5.VSCodeFilterProvider(t,e,r),...o],l=new f5.MementoKeyValueStorage(i);return new d5.ExperimentationService({filterProviders:u,telemetry:n,storageKey:y5,keyValueStorage:l,featuresTelemetryPropertyName:g5,assignmentContextTelemetryPropertyName:v5,telemetryEventName:m5,endpoint:h5,refetchInterval:_5})}Ff.getExperimentationService=mO;async function C5(t,e,r,n,i,...o){let s=mO(t,e,r,n,i,...o);return await s.initializePromise,s}Ff.getExperimentationServiceAsync=C5});var yO=S(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});var vO=gO();Gc.getExperimentationService=vO.getExperimentationService;Gc.getExperimentationServiceAsync=vO.getExperimentationServiceAsync;var w5=zv();Gc.TargetPopulation=w5.TargetPopulation});var BO=S((dae,V5)=>{V5.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var Vy=S((fae,VO)=>{"use strict";VO.exports=BO()});var Gf=S((pae,GO)=>{GO.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/});var KO=S((hae,zO)=>{"use strict";var WO={};function G5(t){var e,r,n=WO[t];if(n)return n;for(n=WO[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function Wf(t,e,r){var n,i,o,s,a,c="";for(typeof e!="string"&&(r=e,e=Wf.defaultChars),typeof r=="undefined"&&(r=!0),a=G5(e),n=0,i=t.length;n<i;n++){if(o=t.charCodeAt(n),r&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){c+=t.slice(n,n+3),n+=2;continue}if(o<128){c+=a[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(t[n]+t[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(t[n])}return c}Wf.defaultChars=";/?:@&=+$,-_.!~*'()#";Wf.componentChars="-_.!~*'()";zO.exports=Wf});var QO=S((mae,XO)=>{"use strict";var YO={};function W5(t){var e,r,n=YO[t];if(n)return n;for(n=YO[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),n.push(r);for(e=0;e<t.length;e++)r=t.charCodeAt(e),n[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}function zf(t,e){var r;return typeof e!="string"&&(e=zf.defaultChars),r=W5(e),t.replace(/(%[a-f0-9]{2})+/gi,function(n){var i,o,s,a,c,u,l,d="";for(i=0,o=n.length;i<o;i+=3){if(s=parseInt(n.slice(i+1,i+3),16),s<128){d+=r[s];continue}if((s&224)==192&&i+3<o&&(a=parseInt(n.slice(i+4,i+6),16),(a&192)==128)){l=s<<6&1984|a&63,l<128?d+="\uFFFD\uFFFD":d+=String.fromCharCode(l),i+=3;continue}if((s&240)==224&&i+6<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),(a&192)==128&&(c&192)==128)){l=s<<12&61440|a<<6&4032|c&63,l<2048||l>=55296&&l<=57343?d+="\uFFFD\uFFFD\uFFFD":d+=String.fromCharCode(l),i+=6;continue}if((s&248)==240&&i+9<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),u=parseInt(n.slice(i+10,i+12),16),(a&192)==128&&(c&192)==128&&(u&192)==128)){l=s<<18&1835008|a<<12&258048|c<<6&4032|u&63,l<65536||l>1114111?d+="\uFFFD\uFFFD\uFFFD\uFFFD":(l-=65536,d+=String.fromCharCode(55296+(l>>10),56320+(l&1023))),i+=9;continue}d+="\uFFFD"}return d})}zf.defaultChars=";/?:@&=+$,#";zf.componentChars="";XO.exports=zf});var ZO=S((gae,JO)=>{"use strict";JO.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?r+="["+e.hostname+"]":r+=e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||"",r}});var sN=S((vae,oN)=>{"use strict";function Kf(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var z5=/^([a-z0-9.+-]+:)/i,K5=/:[0-9]*$/,Y5=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,X5=["<",">",'"',"`"," ","\r",`
`,"	"],Q5=["{","}","|","\\","^","`"].concat(X5),J5=["'"].concat(Q5),eN=["%","/","?",";","#"].concat(J5),tN=["/","?","#"],Z5=255,rN=/^[+a-z0-9A-Z_-]{0,63}$/,eK=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,nN={javascript:!0,"javascript:":!0},iN={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function tK(t,e){if(t&&t instanceof Kf)return t;var r=new Kf;return r.parse(t,e),r}Kf.prototype.parse=function(t,e){var r,n,i,o,s,a=t;if(a=a.trim(),!e&&t.split("#").length===1){var c=Y5.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var u=z5.exec(a);if(u&&(u=u[0],i=u.toLowerCase(),this.protocol=u,a=a.substr(u.length)),(e||u||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(u&&nN[u])&&(a=a.substr(2),this.slashes=!0)),!nN[u]&&(s||u&&!iN[u])){var l=-1;for(r=0;r<tN.length;r++)o=a.indexOf(tN[r]),o!==-1&&(l===-1||o<l)&&(l=o);var d,f;for(l===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",l),f!==-1&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=d),l=-1,r=0;r<eN.length;r++)o=a.indexOf(eN[r]),o!==-1&&(l===-1||o<l)&&(l=o);l===-1&&(l=a.length),a[l-1]===":"&&l--;var p=a.slice(0,l);a=a.slice(l),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(r=0,n=m.length;r<n;r++){var g=m[r];if(!!g&&!g.match(rN)){for(var v="",y=0,C=g.length;y<C;y++)g.charCodeAt(y)>127?v+="x":v+=g[y];if(!v.match(rN)){var _=m.slice(0,r),E=m.slice(r+1),w=g.match(eK);w&&(_.push(w[1]),E.unshift(w[2])),E.length&&(a=E.join(".")+a),this.hostname=_.join(".");break}}}}this.hostname.length>Z5&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var b=a.indexOf("#");b!==-1&&(this.hash=a.substr(b),a=a.slice(0,b));var x=a.indexOf("?");return x!==-1&&(this.search=a.substr(x),a=a.slice(0,x)),a&&(this.pathname=a),iN[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Kf.prototype.parseHost=function(t){var e=K5.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};oN.exports=tK});var Gy=S((yae,eu)=>{"use strict";eu.exports.encode=KO();eu.exports.decode=QO();eu.exports.format=ZO();eu.exports.parse=sN()});var Wy=S((_ae,aN)=>{aN.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/});var zy=S((Cae,cN)=>{cN.exports=/[\0-\x1F\x7F-\x9F]/});var lN=S((wae,uN)=>{uN.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/});var Ky=S((Eae,dN)=>{dN.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/});var fN=S(ia=>{"use strict";ia.Any=Wy();ia.Cc=zy();ia.Cf=lN();ia.P=Gf();ia.Z=Ky()});var Re=S(mt=>{"use strict";function rK(t){return Object.prototype.toString.call(t)}function nK(t){return rK(t)==="[object String]"}var iK=Object.prototype.hasOwnProperty;function pN(t,e){return iK.call(t,e)}function oK(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){t[n]=r[n]})}}),t}function sK(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function hN(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)==65535||(t&65535)==65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function mN(t){if(t>65535){t-=65536;var e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}var gN=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,aK=/&([a-z#][a-z0-9]{1,31});/gi,cK=new RegExp(gN.source+"|"+aK.source,"gi"),uK=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,vN=Vy();function lK(t,e){var r=0;return pN(vN,e)?vN[e]:e.charCodeAt(0)===35&&uK.test(e)&&(r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10),hN(r))?mN(r):t}function dK(t){return t.indexOf("\\")<0?t:t.replace(gN,"$1")}function fK(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(cK,function(e,r,n){return r||lK(e,n)})}var pK=/[&<>"]/,hK=/[&<>"]/g,mK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function gK(t){return mK[t]}function vK(t){return pK.test(t)?t.replace(hK,gK):t}var yK=/[.?*+^$[\]\\(){}|-]/g;function _K(t){return t.replace(yK,"\\$&")}function CK(t){switch(t){case 9:case 32:return!0}return!1}function wK(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var EK=Gf();function bK(t){return EK.test(t)}function SK(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function PK(t){return t=t.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(t=t.replace(/ẞ/g,"\xDF")),t.toLowerCase().toUpperCase()}mt.lib={};mt.lib.mdurl=Gy();mt.lib.ucmicro=fN();mt.assign=oK;mt.isString=nK;mt.has=pN;mt.unescapeMd=dK;mt.unescapeAll=fK;mt.isValidEntityCode=hN;mt.fromCodePoint=mN;mt.escapeHtml=vK;mt.arrayReplaceAt=sK;mt.isSpace=CK;mt.isWhiteSpace=wK;mt.isMdAsciiPunct=SK;mt.isPunctChar=bK;mt.escapeRE=_K;mt.normalizeReference=PK});var _N=S((Pae,yN)=>{"use strict";yN.exports=function(e,r,n){var i,o,s,a,c=-1,u=e.posMax,l=e.pos;for(e.pos=r+1,i=1;e.pos<u;){if(s=e.src.charCodeAt(e.pos),s===93&&(i--,i===0)){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),s===91){if(a===e.pos-1)i++;else if(n)return e.pos=l,-1}}return o&&(c=e.pos),e.pos=l,c}});var EN=S((Tae,wN)=>{"use strict";var CN=Re().unescapeAll;wN.exports=function(e,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<n;){if(i=e.charCodeAt(r),i===10||i===60)return c;if(i===62)return c.pos=r+1,c.str=CN(e.slice(a+1,r)),c.ok=!0,c;if(i===92&&r+1<n){r+=2;continue}r++}return c}for(o=0;r<n&&(i=e.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return c;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(c.str=CN(e.slice(a,r)),c.lines=s,c.pos=r,c.ok=!0),c}});var SN=S((Iae,bN)=>{"use strict";var TK=Re().unescapeAll;bN.exports=function(e,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=n||(o=e.charCodeAt(r),o!==34&&o!==39&&o!==40))return c;for(r++,o===40&&(o=41);r<n;){if(i=e.charCodeAt(r),i===o)return c.pos=r+1,c.lines=s,c.str=TK(e.slice(a+1,r)),c.ok=!0,c;if(i===40&&o===41)return c;i===10?s++:i===92&&r+1<n&&(r++,e.charCodeAt(r)===10&&s++),r++}return c}});var PN=S(Yf=>{"use strict";Yf.parseLinkLabel=_N();Yf.parseLinkDestination=EN();Yf.parseLinkTitle=SN()});var IN=S((Aae,TN)=>{"use strict";var IK=Re().assign,xK=Re().unescapeAll,Lo=Re().escapeHtml,bn={};bn.code_inline=function(t,e,r,n,i){var o=t[e];return"<code"+i.renderAttrs(o)+">"+Lo(t[e].content)+"</code>"};bn.code_block=function(t,e,r,n,i){var o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+Lo(t[e].content)+`</code></pre>
`};bn.fence=function(t,e,r,n,i){var o=t[e],s=o.info?xK(o.info).trim():"",a="",c="",u,l,d,f,p;return s&&(d=s.split(/(\s+)/g),a=d[0],c=d.slice(2).join("")),r.highlight?u=r.highlight(o.content,a,c)||Lo(o.content):u=Lo(o.content),u.indexOf("<pre")===0?u+`
`:s?(l=o.attrIndex("class"),f=o.attrs?o.attrs.slice():[],l<0?f.push(["class",r.langPrefix+a]):(f[l]=f[l].slice(),f[l][1]+=" "+r.langPrefix+a),p={attrs:f},"<pre><code"+i.renderAttrs(p)+">"+u+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+u+`</code></pre>
`};bn.image=function(t,e,r,n,i){var o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(t,e,r)};bn.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};bn.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};bn.text=function(t,e){return Lo(t[e].content)};bn.html_block=function(t,e){return t[e].content};bn.html_inline=function(t,e){return t[e].content};function oa(){this.rules=IK({},bn)}oa.prototype.renderAttrs=function(e){var r,n,i;if(!e.attrs)return"";for(i="",r=0,n=e.attrs.length;r<n;r++)i+=" "+Lo(e.attrs[r][0])+'="'+Lo(e.attrs[r][1])+'"';return i};oa.prototype.renderToken=function(e,r,n){var i,o="",s=!1,a=e[r];return a.hidden?"":(a.block&&a.nesting!==-1&&r&&e[r-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(o+=" /"),a.block&&(s=!0,a.nesting===1&&r+1<e.length&&(i=e[r+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(s=!1))),o+=s?`>
`:">",o)};oa.prototype.renderInline=function(t,e,r){for(var n,i="",o=this.rules,s=0,a=t.length;s<a;s++)n=t[s].type,typeof o[n]!="undefined"?i+=o[n](t,s,e,r,this):i+=this.renderToken(t,s,e);return i};oa.prototype.renderInlineAsText=function(t,e,r){for(var n="",i=0,o=t.length;i<o;i++)t[i].type==="text"?n+=t[i].content:t[i].type==="image"?n+=this.renderInlineAsText(t[i].children,e,r):t[i].type==="softbreak"&&(n+=`
`);return n};oa.prototype.render=function(t,e,r){var n,i,o,s="",a=this.rules;for(n=0,i=t.length;n<i;n++)o=t[n].type,o==="inline"?s+=this.renderInline(t[n].children,e,r):typeof a[o]!="undefined"?s+=a[t[n].type](t,n,e,r,this):s+=this.renderToken(t,n,e,r);return s};TN.exports=oa});var Xf=S((Rae,xN)=>{"use strict";function tn(){this.__rules__=[],this.__cache__=null}tn.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};tn.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){e.indexOf(n)<0&&e.push(n)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||t.__cache__[r].push(n.fn)})})};tn.prototype.at=function(t,e,r){var n=this.__find__(t),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=i.alt||[],this.__cache__=null};tn.prototype.before=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};tn.prototype.after=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};tn.prototype.push=function(t,e,r){var n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null};tn.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(n){var i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};tn.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};tn.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(n){var i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};tn.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};xN.exports=tn});var RN=S((kae,AN)=>{"use strict";var AK=/\r\n?|\n/g,RK=/\0/g;AN.exports=function(e){var r;r=e.src.replace(AK,`
`),r=r.replace(RK,"\uFFFD"),e.src=r}});var DN=S((Dae,kN)=>{"use strict";kN.exports=function(e){var r;e.inlineMode?(r=new e.Token("inline","",0),r.content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}});var NN=S((Oae,ON)=>{"use strict";ON.exports=function(e){var r=e.tokens,n,i,o;for(i=0,o=r.length;i<o;i++)n=r[i],n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}});var FN=S((Nae,LN)=>{"use strict";var kK=Re().arrayReplaceAt;function DK(t){return/^<a[>\s]/i.test(t)}function OK(t){return/^<\/a\s*>/i.test(t)}LN.exports=function(e){var r,n,i,o,s,a,c,u,l,d,f,p,h,m,g,v,y=e.tokens,C;if(!!e.md.options.linkify){for(n=0,i=y.length;n<i;n++)if(!(y[n].type!=="inline"||!e.md.linkify.pretest(y[n].content)))for(o=y[n].children,h=0,r=o.length-1;r>=0;r--){if(a=o[r],a.type==="link_close"){for(r--;o[r].level!==a.level&&o[r].type!=="link_open";)r--;continue}if(a.type==="html_inline"&&(DK(a.content)&&h>0&&h--,OK(a.content)&&h++),!(h>0)&&a.type==="text"&&e.md.linkify.test(a.content)){for(l=a.content,C=e.md.linkify.match(l),c=[],p=a.level,f=0,u=0;u<C.length;u++)m=C[u].url,g=e.md.normalizeLink(m),!!e.md.validateLink(g)&&(v=C[u].text,C[u].schema?C[u].schema==="mailto:"&&!/^mailto:/i.test(v)?v=e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=e.md.normalizeLinkText(v):v=e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),d=C[u].index,d>f&&(s=new e.Token("text","",0),s.content=l.slice(f,d),s.level=p,c.push(s)),s=new e.Token("link_open","a",1),s.attrs=[["href",g]],s.level=p++,s.markup="linkify",s.info="auto",c.push(s),s=new e.Token("text","",0),s.content=v,s.level=p,c.push(s),s=new e.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",c.push(s),f=C[u].lastIndex);f<l.length&&(s=new e.Token("text","",0),s.content=l.slice(f),s.level=p,c.push(s)),y[n].children=o=kK(o,r,c)}}}}});var jN=S((Lae,qN)=>{"use strict";var MN=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,NK=/\((c|tm|r|p)\)/i,LK=/\((c|tm|r|p)\)/ig,FK={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function MK(t,e){return FK[e.toLowerCase()]}function qK(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)r=t[e],r.type==="text"&&!n&&(r.content=r.content.replace(LK,MK)),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}function jK(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)r=t[e],r.type==="text"&&!n&&MN.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}qN.exports=function(e){var r;if(!!e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type==="inline"&&(NK.test(e.tokens[r].content)&&qK(e.tokens[r].children),MN.test(e.tokens[r].content)&&jK(e.tokens[r].children))}});var WN=S((Fae,GN)=>{"use strict";var $N=Re().isWhiteSpace,UN=Re().isPunctChar,HN=Re().isMdAsciiPunct,$K=/['"]/,BN=/['"]/g,VN="\u2019";function Qf(t,e,r){return t.substr(0,e)+r+t.substr(e+1)}function UK(t,e){var r,n,i,o,s,a,c,u,l,d,f,p,h,m,g,v,y,C,_,E,w;for(_=[],r=0;r<t.length;r++){for(n=t[r],c=t[r].level,y=_.length-1;y>=0&&!(_[y].level<=c);y--);if(_.length=y+1,n.type!=="text")continue;i=n.content,s=0,a=i.length;e:for(;s<a&&(BN.lastIndex=s,o=BN.exec(i),!!o);){if(g=v=!0,s=o.index+1,C=o[0]==="'",l=32,o.index-1>=0)l=i.charCodeAt(o.index-1);else for(y=r-1;y>=0&&!(t[y].type==="softbreak"||t[y].type==="hardbreak");y--)if(!!t[y].content){l=t[y].content.charCodeAt(t[y].content.length-1);break}if(d=32,s<a)d=i.charCodeAt(s);else for(y=r+1;y<t.length&&!(t[y].type==="softbreak"||t[y].type==="hardbreak");y++)if(!!t[y].content){d=t[y].content.charCodeAt(0);break}if(f=HN(l)||UN(String.fromCharCode(l)),p=HN(d)||UN(String.fromCharCode(d)),h=$N(l),m=$N(d),m?g=!1:p&&(h||f||(g=!1)),h?v=!1:f&&(m||p||(v=!1)),d===34&&o[0]==='"'&&l>=48&&l<=57&&(v=g=!1),g&&v&&(g=f,v=p),!g&&!v){C&&(n.content=Qf(n.content,o.index,VN));continue}if(v){for(y=_.length-1;y>=0&&(u=_[y],!(_[y].level<c));y--)if(u.single===C&&_[y].level===c){u=_[y],C?(E=e.md.options.quotes[2],w=e.md.options.quotes[3]):(E=e.md.options.quotes[0],w=e.md.options.quotes[1]),n.content=Qf(n.content,o.index,w),t[u.token].content=Qf(t[u.token].content,u.pos,E),s+=w.length-1,u.token===r&&(s+=E.length-1),i=n.content,a=i.length,_.length=y;continue e}}g?_.push({token:r,pos:o.index,single:C,level:c}):v&&C&&(n.content=Qf(n.content,o.index,VN))}}}GN.exports=function(e){var r;if(!!e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type!=="inline"||!$K.test(e.tokens[r].content)||UK(e.tokens[r].children,e)}});var Jf=S((Mae,zN)=>{"use strict";function sa(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}sa.prototype.attrIndex=function(e){var r,n,i;if(!this.attrs)return-1;for(r=this.attrs,n=0,i=r.length;n<i;n++)if(r[n][0]===e)return n;return-1};sa.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};sa.prototype.attrSet=function(e,r){var n=this.attrIndex(e),i=[e,r];n<0?this.attrPush(i):this.attrs[n]=i};sa.prototype.attrGet=function(e){var r=this.attrIndex(e),n=null;return r>=0&&(n=this.attrs[r][1]),n};sa.prototype.attrJoin=function(e,r){var n=this.attrIndex(e);n<0?this.attrPush([e,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};zN.exports=sa});var XN=S((qae,YN)=>{"use strict";var HK=Jf();function KN(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}KN.prototype.Token=HK;YN.exports=KN});var JN=S((jae,QN)=>{"use strict";var BK=Xf(),Yy=[["normalize",RN()],["block",DN()],["inline",NN()],["linkify",FN()],["replacements",jN()],["smartquotes",WN()]];function Xy(){this.ruler=new BK;for(var t=0;t<Yy.length;t++)this.ruler.push(Yy[t][0],Yy[t][1])}Xy.prototype.process=function(t){var e,r,n;for(n=this.ruler.getRules(""),e=0,r=n.length;e<r;e++)n[e](t)};Xy.prototype.State=XN();QN.exports=Xy});var tL=S(($ae,eL)=>{"use strict";var Qy=Re().isSpace;function Jy(t,e){var r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.substr(r,n-r)}function ZN(t){var e=[],r=0,n=t.length,i,o=!1,s=0,a="";for(i=t.charCodeAt(r);r<n;)i===124&&(o?(a+=t.substring(s,r-1),s=r):(e.push(a+t.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=t.charCodeAt(r);return e.push(a+t.substring(s)),e}eL.exports=function(e,r,n,i){var o,s,a,c,u,l,d,f,p,h,m,g,v,y,C,_,E,w;if(r+2>n||(l=r+1,e.sCount[l]<e.blkIndent)||e.sCount[l]-e.blkIndent>=4||(a=e.bMarks[l]+e.tShift[l],a>=e.eMarks[l])||(E=e.src.charCodeAt(a++),E!==124&&E!==45&&E!==58)||a>=e.eMarks[l]||(w=e.src.charCodeAt(a++),w!==124&&w!==45&&w!==58&&!Qy(w))||E===45&&Qy(w))return!1;for(;a<e.eMarks[l];){if(o=e.src.charCodeAt(a),o!==124&&o!==45&&o!==58&&!Qy(o))return!1;a++}for(s=Jy(e,r+1),d=s.split("|"),h=[],c=0;c<d.length;c++){if(m=d[c].trim(),!m){if(c===0||c===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(s=Jy(e,r).trim(),s.indexOf("|")===-1||e.sCount[r]-e.blkIndent>=4||(d=ZN(s),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),f=d.length,f===0||f!==h.length))return!1;if(i)return!0;for(y=e.parentType,e.parentType="table",_=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),p.map=g=[r,0],p=e.push("thead_open","thead",1),p.map=[r,r+1],p=e.push("tr_open","tr",1),p.map=[r,r+1],c=0;c<d.length;c++)p=e.push("th_open","th",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=e.push("inline","",0),p.content=d[c].trim(),p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),l=r+2;l<n&&!(e.sCount[l]<e.blkIndent);l++){for(C=!1,c=0,u=_.length;c<u;c++)if(_[c](e,l,n,!0)){C=!0;break}if(C||(s=Jy(e,l).trim(),!s)||e.sCount[l]-e.blkIndent>=4)break;for(d=ZN(s),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),l===r+2&&(p=e.push("tbody_open","tbody",1),p.map=v=[r+2,0]),p=e.push("tr_open","tr",1),p.map=[l,l+1],c=0;c<f;c++)p=e.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=e.push("inline","",0),p.content=d[c]?d[c].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return v&&(p=e.push("tbody_close","tbody",-1),v[1]=l),p=e.push("table_close","table",-1),g[1]=l,e.parentType=y,e.line=l,!0}});var nL=S((Uae,rL)=>{"use strict";rL.exports=function(e,r,n){var i,o,s;if(e.sCount[r]-e.blkIndent<4)return!1;for(o=i=r+1;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,o=i;continue}break}return e.line=o,s=e.push("code_block","code",0),s.content=e.getLines(r,o,4+e.blkIndent,!0),s.map=[r,e.line],!0}});var oL=S((Hae,iL)=>{"use strict";iL.exports=function(e,r,n,i){var o,s,a,c,u,l,d,f=!1,p=e.bMarks[r]+e.tShift[r],h=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||p+3>h||(o=e.src.charCodeAt(p),o!==126&&o!==96)||(u=p,p=e.skipChars(p,o),s=p-u,s<3)||(d=e.src.slice(u,p),a=e.src.slice(p,h),o===96&&a.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(c=r;c++,!(c>=n||(p=u=e.bMarks[c]+e.tShift[c],h=e.eMarks[c],p<h&&e.sCount[c]<e.blkIndent));)if(e.src.charCodeAt(p)===o&&!(e.sCount[c]-e.blkIndent>=4)&&(p=e.skipChars(p,o),!(p-u<s)&&(p=e.skipSpaces(p),!(p<h)))){f=!0;break}return s=e.sCount[r],e.line=c+(f?1:0),l=e.push("fence","code",0),l.info=a,l.content=e.getLines(r+1,c,s,!0),l.markup=d,l.map=[r,e.line],!0}});var cL=S((Bae,aL)=>{"use strict";var sL=Re().isSpace;aL.exports=function(e,r,n,i){var o,s,a,c,u,l,d,f,p,h,m,g,v,y,C,_,E,w,b,x,R=e.lineMax,k=e.bMarks[r]+e.tShift[r],q=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(k++)!==62)return!1;if(i)return!0;for(c=p=e.sCount[r]+1,e.src.charCodeAt(k)===32?(k++,c++,p++,o=!1,_=!0):e.src.charCodeAt(k)===9?(_=!0,(e.bsCount[r]+p)%4==3?(k++,c++,p++,o=!1):o=!0):_=!1,h=[e.bMarks[r]],e.bMarks[r]=k;k<q&&(s=e.src.charCodeAt(k),sL(s));){s===9?p+=4-(p+e.bsCount[r]+(o?1:0))%4:p++;k++}for(m=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(_?1:0),l=k>=q,y=[e.sCount[r]],e.sCount[r]=p-c,C=[e.tShift[r]],e.tShift[r]=k-e.bMarks[r],w=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",f=r+1;f<n&&(x=e.sCount[f]<e.blkIndent,k=e.bMarks[f]+e.tShift[f],q=e.eMarks[f],!(k>=q));f++){if(e.src.charCodeAt(k++)===62&&!x){for(c=p=e.sCount[f]+1,e.src.charCodeAt(k)===32?(k++,c++,p++,o=!1,_=!0):e.src.charCodeAt(k)===9?(_=!0,(e.bsCount[f]+p)%4==3?(k++,c++,p++,o=!1):o=!0):_=!1,h.push(e.bMarks[f]),e.bMarks[f]=k;k<q&&(s=e.src.charCodeAt(k),sL(s));){s===9?p+=4-(p+e.bsCount[f]+(o?1:0))%4:p++;k++}l=k>=q,m.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(_?1:0),y.push(e.sCount[f]),e.sCount[f]=p-c,C.push(e.tShift[f]),e.tShift[f]=k-e.bMarks[f];continue}if(l)break;for(E=!1,a=0,u=w.length;a<u;a++)if(w[a](e,f,n,!0)){E=!0;break}if(E){e.lineMax=f,e.blkIndent!==0&&(h.push(e.bMarks[f]),m.push(e.bsCount[f]),C.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),m.push(e.bsCount[f]),C.push(e.tShift[f]),y.push(e.sCount[f]),e.sCount[f]=-1}for(g=e.blkIndent,e.blkIndent=0,b=e.push("blockquote_open","blockquote",1),b.markup=">",b.map=d=[r,0],e.md.block.tokenize(e,r,f),b=e.push("blockquote_close","blockquote",-1),b.markup=">",e.lineMax=R,e.parentType=v,d[1]=e.line,a=0;a<C.length;a++)e.bMarks[a+r]=h[a],e.tShift[a+r]=C[a],e.sCount[a+r]=y[a],e.bsCount[a+r]=m[a];return e.blkIndent=g,!0}});var lL=S((Vae,uL)=>{"use strict";var VK=Re().isSpace;uL.exports=function(e,r,n,i){var o,s,a,c,u=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||(o=e.src.charCodeAt(u++),o!==42&&o!==45&&o!==95))return!1;for(s=1;u<l;){if(a=e.src.charCodeAt(u++),a!==o&&!VK(a))return!1;a===o&&s++}return s<3?!1:(i||(e.line=r+1,c=e.push("hr","hr",0),c.map=[r,e.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}});var mL=S((Gae,hL)=>{"use strict";var dL=Re().isSpace;function fL(t,e){var r,n,i,o;return n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],r=t.src.charCodeAt(n++),r!==42&&r!==45&&r!==43||n<i&&(o=t.src.charCodeAt(n),!dL(o))?-1:n}function pL(t,e){var r,n=t.bMarks[e]+t.tShift[e],i=n,o=t.eMarks[e];if(i+1>=o||(r=t.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=t.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=t.src.charCodeAt(i),!dL(r))?-1:i}function GK(t,e){var r,n,i=t.level+2;for(r=e+2,n=t.tokens.length-2;r<n;r++)t.tokens[r].level===i&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}hL.exports=function(e,r,n,i){var o,s,a,c,u,l,d,f,p,h,m,g,v,y,C,_,E,w,b,x,R,k,q,H,Z,ee,V,$,P=!1,N=!0;if(e.sCount[r]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[r]-e.listIndent>=4&&e.sCount[r]<e.blkIndent)return!1;if(i&&e.parentType==="paragraph"&&e.tShift[r]>=e.blkIndent&&(P=!0),(q=pL(e,r))>=0){if(d=!0,Z=e.bMarks[r]+e.tShift[r],v=Number(e.src.substr(Z,q-Z-1)),P&&v!==1)return!1}else if((q=fL(e,r))>=0)d=!1;else return!1;if(P&&e.skipSpaces(q)>=e.eMarks[r])return!1;if(g=e.src.charCodeAt(q-1),i)return!0;for(m=e.tokens.length,d?($=e.push("ordered_list_open","ol",1),v!==1&&($.attrs=[["start",v]])):$=e.push("bullet_list_open","ul",1),$.map=h=[r,0],$.markup=String.fromCharCode(g),C=r,H=!1,V=e.md.block.ruler.getRules("list"),w=e.parentType,e.parentType="list";C<n;){for(k=q,y=e.eMarks[C],l=_=e.sCount[C]+q-(e.bMarks[r]+e.tShift[r]);k<y;){if(o=e.src.charCodeAt(k),o===9)_+=4-(_+e.bsCount[C])%4;else if(o===32)_++;else break;k++}if(s=k,s>=y?u=1:u=_-l,u>4&&(u=1),c=l+u,$=e.push("list_item_open","li",1),$.markup=String.fromCharCode(g),$.map=f=[r,0],R=e.tight,x=e.tShift[r],b=e.sCount[r],E=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[r]=s-e.bMarks[r],e.sCount[r]=_,s>=y&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,r,n,!0),(!e.tight||H)&&(N=!1),H=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=E,e.tShift[r]=x,e.sCount[r]=b,e.tight=R,$=e.push("list_item_close","li",-1),$.markup=String.fromCharCode(g),C=r=e.line,f[1]=C,s=e.bMarks[r],C>=n||e.sCount[C]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)break;for(ee=!1,a=0,p=V.length;a<p;a++)if(V[a](e,C,n,!0)){ee=!0;break}if(ee)break;if(d){if(q=pL(e,C),q<0)break}else if(q=fL(e,C),q<0)break;if(g!==e.src.charCodeAt(q-1))break}return d?$=e.push("ordered_list_close","ol",-1):$=e.push("bullet_list_close","ul",-1),$.markup=String.fromCharCode(g),h[1]=C,e.line=C,e.parentType=w,N&&GK(e,m),!0}});var vL=S((Wae,gL)=>{"use strict";var WK=Re().normalizeReference,Zf=Re().isSpace;gL.exports=function(e,r,n,i){var o,s,a,c,u,l,d,f,p,h,m,g,v,y,C,_,E=0,w=e.bMarks[r]+e.tShift[r],b=e.eMarks[r],x=r+1;if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(w)!==91)return!1;for(;++w<b;)if(e.src.charCodeAt(w)===93&&e.src.charCodeAt(w-1)!==92){if(w+1===b||e.src.charCodeAt(w+1)!==58)return!1;break}for(c=e.lineMax,C=e.md.block.ruler.getRules("reference"),h=e.parentType,e.parentType="reference";x<c&&!e.isEmpty(x);x++)if(!(e.sCount[x]-e.blkIndent>3)&&!(e.sCount[x]<0)){for(y=!1,l=0,d=C.length;l<d;l++)if(C[l](e,x,c,!0)){y=!0;break}if(y)break}for(v=e.getLines(r,x,e.blkIndent,!1).trim(),b=v.length,w=1;w<b;w++){if(o=v.charCodeAt(w),o===91)return!1;if(o===93){p=w;break}else o===10?E++:o===92&&(w++,w<b&&v.charCodeAt(w)===10&&E++)}if(p<0||v.charCodeAt(p+1)!==58)return!1;for(w=p+2;w<b;w++)if(o=v.charCodeAt(w),o===10)E++;else if(!Zf(o))break;if(m=e.md.helpers.parseLinkDestination(v,w,b),!m.ok||(u=e.md.normalizeLink(m.str),!e.md.validateLink(u)))return!1;for(w=m.pos,E+=m.lines,s=w,a=E,g=w;w<b;w++)if(o=v.charCodeAt(w),o===10)E++;else if(!Zf(o))break;for(m=e.md.helpers.parseLinkTitle(v,w,b),w<b&&g!==w&&m.ok?(_=m.str,w=m.pos,E+=m.lines):(_="",w=s,E=a);w<b&&(o=v.charCodeAt(w),!!Zf(o));)w++;if(w<b&&v.charCodeAt(w)!==10&&_)for(_="",w=s,E=a;w<b&&(o=v.charCodeAt(w),!!Zf(o));)w++;return w<b&&v.charCodeAt(w)!==10||(f=WK(v.slice(1,p)),!f)?!1:(i||(typeof e.env.references=="undefined"&&(e.env.references={}),typeof e.env.references[f]=="undefined"&&(e.env.references[f]={title:_,href:u}),e.parentType=h,e.line=r+E+1),!0)}});var _L=S((zae,yL)=>{"use strict";yL.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var e_=S((Kae,Zy)=>{"use strict";var zK="[a-zA-Z_:][a-zA-Z0-9:._-]*",KK="[^\"'=<>`\\x00-\\x20]+",YK="'[^']*'",XK='"[^"]*"',QK="(?:"+KK+"|"+YK+"|"+XK+")",JK="(?:\\s+"+zK+"(?:\\s*=\\s*"+QK+")?)",CL="<[A-Za-z][A-Za-z0-9\\-]*"+JK+"*\\s*\\/?>",wL="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",ZK="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",e7="<[?][\\s\\S]*?[?]>",t7="<![A-Z]+\\s+[^>]*>",r7="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",n7=new RegExp("^(?:"+CL+"|"+wL+"|"+ZK+"|"+e7+"|"+t7+"|"+r7+")"),i7=new RegExp("^(?:"+CL+"|"+wL+")");Zy.exports.HTML_TAG_RE=n7;Zy.exports.HTML_OPEN_CLOSE_TAG_RE=i7});var bL=S((Yae,EL)=>{"use strict";var o7=_L(),s7=e_().HTML_OPEN_CLOSE_TAG_RE,aa=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+o7.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(s7.source+"\\s*$"),/^$/,!1]];EL.exports=function(e,r,n,i){var o,s,a,c,u=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(u)!==60)return!1;for(c=e.src.slice(u,l),o=0;o<aa.length&&!aa[o][0].test(c);o++);if(o===aa.length)return!1;if(i)return aa[o][2];if(s=r+1,!aa[o][1].test(c)){for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(u=e.bMarks[s]+e.tShift[s],l=e.eMarks[s],c=e.src.slice(u,l),aa[o][1].test(c)){c.length!==0&&s++;break}}return e.line=s,a=e.push("html_block","",0),a.map=[r,s],a.content=e.getLines(r,s,e.blkIndent,!0),!0}});var TL=S((Xae,PL)=>{"use strict";var SL=Re().isSpace;PL.exports=function(e,r,n,i){var o,s,a,c,u=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||(o=e.src.charCodeAt(u),o!==35||u>=l))return!1;for(s=1,o=e.src.charCodeAt(++u);o===35&&u<l&&s<=6;)s++,o=e.src.charCodeAt(++u);return s>6||u<l&&!SL(o)?!1:(i||(l=e.skipSpacesBack(l,u),a=e.skipCharsBack(l,35,u),a>u&&SL(e.src.charCodeAt(a-1))&&(l=a),e.line=r+1,c=e.push("heading_open","h"+String(s),1),c.markup="########".slice(0,s),c.map=[r,e.line],c=e.push("inline","",0),c.content=e.src.slice(u,l).trim(),c.map=[r,e.line],c.children=[],c=e.push("heading_close","h"+String(s),-1),c.markup="########".slice(0,s)),!0)}});var xL=S((Qae,IL)=>{"use strict";IL.exports=function(e,r,n){var i,o,s,a,c,u,l,d,f,p=r+1,h,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[r]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(u=e.bMarks[p]+e.tShift[p],l=e.eMarks[p],u<l&&(f=e.src.charCodeAt(u),(f===45||f===61)&&(u=e.skipChars(u,f),u=e.skipSpaces(u),u>=l)))){d=f===61?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](e,p,n,!0)){o=!0;break}if(o)break}}return d?(i=e.getLines(r,p,e.blkIndent,!1).trim(),e.line=p+1,c=e.push("heading_open","h"+String(d),1),c.markup=String.fromCharCode(f),c.map=[r,e.line],c=e.push("inline","",0),c.content=i,c.map=[r,e.line-1],c.children=[],c=e.push("heading_close","h"+String(d),-1),c.markup=String.fromCharCode(f),e.parentType=h,!0):!1}});var RL=S((Jae,AL)=>{"use strict";AL.exports=function(e,r){var n,i,o,s,a,c,u=r+1,l=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(c=e.parentType,e.parentType="paragraph";u<d&&!e.isEmpty(u);u++)if(!(e.sCount[u]-e.blkIndent>3)&&!(e.sCount[u]<0)){for(i=!1,o=0,s=l.length;o<s;o++)if(l[o](e,u,d,!0)){i=!0;break}if(i)break}return n=e.getLines(r,u,e.blkIndent,!1).trim(),e.line=u,a=e.push("paragraph_open","p",1),a.map=[r,e.line],a=e.push("inline","",0),a.content=n,a.map=[r,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}});var OL=S((Zae,DL)=>{"use strict";var kL=Jf(),ep=Re().isSpace;function Sn(t,e,r,n){var i,o,s,a,c,u,l,d;for(this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,d=!1,s=a=u=l=0,c=o.length;a<c;a++){if(i=o.charCodeAt(a),!d)if(ep(i)){u++,i===9?l+=4-l%4:l++;continue}else d=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(u),this.sCount.push(l),this.bsCount.push(0),d=!1,u=0,l=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Sn.prototype.push=function(t,e,r){var n=new kL(t,e,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Sn.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Sn.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Sn.prototype.skipSpaces=function(e){for(var r,n=this.src.length;e<n&&(r=this.src.charCodeAt(e),!!ep(r));e++);return e};Sn.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!ep(this.src.charCodeAt(--e)))return e+1;return e};Sn.prototype.skipChars=function(e,r){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===r;e++);return e};Sn.prototype.skipCharsBack=function(e,r,n){if(e<=n)return e;for(;e>n;)if(r!==this.src.charCodeAt(--e))return e+1;return e};Sn.prototype.getLines=function(e,r,n,i){var o,s,a,c,u,l,d,f=e;if(e>=r)return"";for(l=new Array(r-e),o=0;f<r;f++,o++){for(s=0,d=c=this.bMarks[f],f+1<r||i?u=this.eMarks[f]+1:u=this.eMarks[f];c<u&&s<n;){if(a=this.src.charCodeAt(c),ep(a))a===9?s+=4-(s+this.bsCount[f])%4:s++;else if(c-d<this.tShift[f])s++;else break;c++}s>n?l[o]=new Array(s-n+1).join(" ")+this.src.slice(c,u):l[o]=this.src.slice(c,u)}return l.join("")};Sn.prototype.Token=kL;DL.exports=Sn});var LL=S((ece,NL)=>{"use strict";var a7=Xf(),tp=[["table",tL(),["paragraph","reference"]],["code",nL()],["fence",oL(),["paragraph","reference","blockquote","list"]],["blockquote",cL(),["paragraph","reference","blockquote","list"]],["hr",lL(),["paragraph","reference","blockquote","list"]],["list",mL(),["paragraph","reference","blockquote"]],["reference",vL()],["html_block",bL(),["paragraph","reference","blockquote"]],["heading",TL(),["paragraph","reference","blockquote"]],["lheading",xL()],["paragraph",RL()]];function rp(){this.ruler=new a7;for(var t=0;t<tp.length;t++)this.ruler.push(tp[t][0],tp[t][1],{alt:(tp[t][2]||[]).slice()})}rp.prototype.tokenize=function(t,e,r){for(var n,i,o=this.ruler.getRules(""),s=o.length,a=e,c=!1,u=t.md.options.maxNesting;a<r&&(t.line=a=t.skipEmptyLines(a),!(a>=r||t.sCount[a]<t.blkIndent));){if(t.level>=u){t.line=r;break}for(i=0;i<s&&(n=o[i](t,a,r,!1),!n);i++);t.tight=!c,t.isEmpty(t.line-1)&&(c=!0),a=t.line,a<r&&t.isEmpty(a)&&(c=!0,a++,t.line=a)}};rp.prototype.parse=function(t,e,r,n){var i;!t||(i=new this.State(t,e,r,n),this.tokenize(i,i.line,i.lineMax))};rp.prototype.State=OL();NL.exports=rp});var ML=S((tce,FL)=>{"use strict";function c7(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}FL.exports=function(e,r){for(var n=e.pos;n<e.posMax&&!c7(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(r||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}});var jL=S((rce,qL)=>{"use strict";var u7=Re().isSpace;qL.exports=function(e,r){var n,i,o=e.pos;if(e.src.charCodeAt(o)!==10)return!1;for(n=e.pending.length-1,i=e.posMax,r||(n>=0&&e.pending.charCodeAt(n)===32?n>=1&&e.pending.charCodeAt(n-1)===32?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;o<i&&u7(e.src.charCodeAt(o));)o++;return e.pos=o,!0}});var HL=S((nce,UL)=>{"use strict";var l7=Re().isSpace,t_=[];for(var $L=0;$L<256;$L++)t_.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){t_[t.charCodeAt(0)]=1});UL.exports=function(e,r){var n,i=e.pos,o=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(n=e.src.charCodeAt(i),n<256&&t_[n]!==0)return r||(e.pending+=e.src[i]),e.pos+=2,!0;if(n===10){for(r||e.push("hardbreak","br",0),i++;i<o&&(n=e.src.charCodeAt(i),!!l7(n));)i++;return e.pos=i,!0}}return r||(e.pending+="\\"),e.pos++,!0}});var VL=S((ice,BL)=>{"use strict";BL.exports=function(e,r){var n,i,o,s,a,c,u,l,d=e.pos,f=e.src.charCodeAt(d);if(f!==96)return!1;for(n=d,d++,i=e.posMax;d<i&&e.src.charCodeAt(d)===96;)d++;if(o=e.src.slice(n,d),u=o.length,e.backticksScanned&&(e.backticks[u]||0)<=n)return r||(e.pending+=o),e.pos+=u,!0;for(a=c=d;(a=e.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&e.src.charCodeAt(c)===96;)c++;if(l=c-a,l===u)return r||(s=e.push("code_inline","code",0),s.markup=o,s.content=e.src.slice(d,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[l]=a}return e.backticksScanned=!0,r||(e.pending+=o),e.pos+=u,!0}});var n_=S((oce,r_)=>{"use strict";r_.exports.tokenize=function(e,r){var n,i,o,s,a,c=e.pos,u=e.src.charCodeAt(c);if(r||u!==126||(i=e.scanDelims(e.pos,!0),s=i.length,a=String.fromCharCode(u),s<2))return!1;for(s%2&&(o=e.push("text","",0),o.content=a,s--),n=0;n<s;n+=2)o=e.push("text","",0),o.content=a+a,e.delimiters.push({marker:u,length:0,jump:n/2,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0};function GL(t,e){var r,n,i,o,s,a=[],c=e.length;for(r=0;r<c;r++)i=e[r],i.marker===126&&i.end!==-1&&(o=e[i.end],s=t.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=t.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="",t.tokens[o.token-1].type==="text"&&t.tokens[o.token-1].content==="~"&&a.push(o.token-1));for(;a.length;){for(r=a.pop(),n=r+1;n<t.tokens.length&&t.tokens[n].type==="s_close";)n++;n--,r!==n&&(s=t.tokens[n],t.tokens[n]=t.tokens[r],t.tokens[r]=s)}}r_.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(GL(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&GL(e,n[r].delimiters)}});var o_=S((sce,i_)=>{"use strict";i_.exports.tokenize=function(e,r){var n,i,o,s=e.pos,a=e.src.charCodeAt(s);if(r||a!==95&&a!==42)return!1;for(i=e.scanDelims(e.pos,a===42),n=0;n<i.length;n++)o=e.push("text","",0),o.content=String.fromCharCode(a),e.delimiters.push({marker:a,length:i.length,jump:n,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0};function WL(t,e){var r,n,i,o,s,a,c=e.length;for(r=c-1;r>=0;r--)n=e[r],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(i=e[n.end],a=r>0&&e[r-1].end===n.end+1&&e[r-1].token===n.token-1&&e[n.end+1].token===i.token+1&&e[r-1].marker===n.marker,s=String.fromCharCode(n.marker),o=t.tokens[n.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=t.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[n.end+1].token].content="",r--))}i_.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(WL(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&WL(e,n[r].delimiters)}});var KL=S((ace,zL)=>{"use strict";var d7=Re().normalizeReference,s_=Re().isSpace;zL.exports=function(e,r){var n,i,o,s,a,c,u,l,d,f="",p="",h=e.pos,m=e.posMax,g=e.pos,v=!0;if(e.src.charCodeAt(e.pos)!==91||(a=e.pos+1,s=e.md.helpers.parseLinkLabel(e,e.pos,!0),s<0))return!1;if(c=s+1,c<m&&e.src.charCodeAt(c)===40){for(v=!1,c++;c<m&&(i=e.src.charCodeAt(c),!(!s_(i)&&i!==10));c++);if(c>=m)return!1;if(g=c,u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),u.ok){for(f=e.md.normalizeLink(u.str),e.md.validateLink(f)?c=u.pos:f="",g=c;c<m&&(i=e.src.charCodeAt(c),!(!s_(i)&&i!==10));c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&u.ok)for(p=u.str,c=u.pos;c<m&&(i=e.src.charCodeAt(c),!(!s_(i)&&i!==10));c++);}(c>=m||e.src.charCodeAt(c)!==41)&&(v=!0),c++}if(v){if(typeof e.env.references=="undefined")return!1;if(c<m&&e.src.charCodeAt(c)===91?(g=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?o=e.src.slice(g,c++):c=s+1):c=s+1,o||(o=e.src.slice(a,s)),l=e.env.references[d7(o)],!l)return e.pos=h,!1;f=l.href,p=l.title}return r||(e.pos=a,e.posMax=s,d=e.push("link_open","a",1),d.attrs=n=[["href",f]],p&&n.push(["title",p]),e.md.inline.tokenize(e),d=e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}});var XL=S((cce,YL)=>{"use strict";var f7=Re().normalizeReference,a_=Re().isSpace;YL.exports=function(e,r){var n,i,o,s,a,c,u,l,d,f,p,h,m,g="",v=e.pos,y=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91||(c=e.pos+2,a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),a<0))return!1;if(u=a+1,u<y&&e.src.charCodeAt(u)===40){for(u++;u<y&&(i=e.src.charCodeAt(u),!(!a_(i)&&i!==10));u++);if(u>=y)return!1;for(m=u,d=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),d.ok&&(g=e.md.normalizeLink(d.str),e.md.validateLink(g)?u=d.pos:g=""),m=u;u<y&&(i=e.src.charCodeAt(u),!(!a_(i)&&i!==10));u++);if(d=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<y&&m!==u&&d.ok)for(f=d.str,u=d.pos;u<y&&(i=e.src.charCodeAt(u),!(!a_(i)&&i!==10));u++);else f="";if(u>=y||e.src.charCodeAt(u)!==41)return e.pos=v,!1;u++}else{if(typeof e.env.references=="undefined")return!1;if(u<y&&e.src.charCodeAt(u)===91?(m=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?s=e.src.slice(m,u++):u=a+1):u=a+1,s||(s=e.src.slice(c,a)),l=e.env.references[f7(s)],!l)return e.pos=v,!1;g=l.href,f=l.title}return r||(o=e.src.slice(c,a),e.md.inline.parse(o,e.md,e.env,h=[]),p=e.push("image","img",0),p.attrs=n=[["src",g],["alt",""]],p.children=h,p.content=o,f&&n.push(["title",f])),e.pos=u,e.posMax=y,!0}});var JL=S((uce,QL)=>{"use strict";var p7=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,h7=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;QL.exports=function(e,r){var n,i,o,s,a,c,u=e.pos;if(e.src.charCodeAt(u)!==60)return!1;for(a=e.pos,c=e.posMax;;){if(++u>=c||(s=e.src.charCodeAt(u),s===60))return!1;if(s===62)break}return n=e.src.slice(a+1,u),h7.test(n)?(i=e.md.normalizeLink(n),e.md.validateLink(i)?(r||(o=e.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=e.push("text","",0),o.content=e.md.normalizeLinkText(n),o=e.push("link_close","a",-1),o.markup="autolink",o.info="auto"),e.pos+=n.length+2,!0):!1):p7.test(n)?(i=e.md.normalizeLink("mailto:"+n),e.md.validateLink(i)?(r||(o=e.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=e.push("text","",0),o.content=e.md.normalizeLinkText(n),o=e.push("link_close","a",-1),o.markup="autolink",o.info="auto"),e.pos+=n.length+2,!0):!1):!1}});var e1=S((lce,ZL)=>{"use strict";var m7=e_().HTML_TAG_RE;function g7(t){var e=t|32;return e>=97&&e<=122}ZL.exports=function(e,r){var n,i,o,s,a=e.pos;return!e.md.options.html||(o=e.posMax,e.src.charCodeAt(a)!==60||a+2>=o)||(n=e.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!g7(n))||(i=e.src.slice(a).match(m7),!i)?!1:(r||(s=e.push("html_inline","",0),s.content=e.src.slice(a,a+i[0].length)),e.pos+=i[0].length,!0)}});var i1=S((dce,n1)=>{"use strict";var t1=Vy(),v7=Re().has,y7=Re().isValidEntityCode,r1=Re().fromCodePoint,_7=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,C7=/^&([a-z][a-z0-9]{1,31});/i;n1.exports=function(e,r){var n,i,o,s=e.pos,a=e.posMax;if(e.src.charCodeAt(s)!==38)return!1;if(s+1<a){if(n=e.src.charCodeAt(s+1),n===35){if(o=e.src.slice(s).match(_7),o)return r||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=y7(i)?r1(i):r1(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(s).match(C7),o&&v7(t1,o[1]))return r||(e.pending+=t1[o[1]]),e.pos+=o[0].length,!0}return r||(e.pending+="&"),e.pos++,!0}});var a1=S((fce,s1)=>{"use strict";function o1(t,e){var r,n,i,o,s,a,c,u,l={},d=e.length;for(r=0;r<d;r++)if(i=e[r],i.length=i.length||0,!!i.close){for(l.hasOwnProperty(i.marker)||(l[i.marker]=[-1,-1,-1]),s=l[i.marker][i.length%3],n=r-i.jump-1,n<-1&&(n=-1),a=n;n>s;n-=o.jump+1)if(o=e[n],o.marker===i.marker&&o.open&&o.end<0&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3!=0||i.length%3!=0)&&(c=!0),!c)){u=n>0&&!e[n-1].open?e[n-1].jump+1:0,i.jump=r-n+u,i.open=!1,o.end=r,o.jump=u,o.close=!1,a=-1;break}a!==-1&&(l[i.marker][(i.length||0)%3]=a)}}s1.exports=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(o1(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&o1(e,n[r].delimiters)}});var u1=S((pce,c1)=>{"use strict";c1.exports=function(e){var r,n,i=0,o=e.tokens,s=e.tokens.length;for(r=n=0;r<s;r++)o[r].nesting<0&&i--,o[r].level=i,o[r].nesting>0&&i++,o[r].type==="text"&&r+1<s&&o[r+1].type==="text"?o[r+1].content=o[r].content+o[r+1].content:(r!==n&&(o[n]=o[r]),n++);r!==n&&(o.length=n)}});var h1=S((hce,p1)=>{"use strict";var c_=Jf(),l1=Re().isWhiteSpace,d1=Re().isPunctChar,f1=Re().isMdAsciiPunct;function tu(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}tu.prototype.pushPending=function(){var t=new c_("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};tu.prototype.push=function(t,e,r){this.pending&&this.pushPending();var n=new c_(t,e,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};tu.prototype.scanDelims=function(t,e){var r=t,n,i,o,s,a,c,u,l,d,f=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;r<h&&this.src.charCodeAt(r)===m;)r++;return o=r-t,i=r<h?this.src.charCodeAt(r):32,u=f1(n)||d1(String.fromCharCode(n)),d=f1(i)||d1(String.fromCharCode(i)),c=l1(n),l=l1(i),l?f=!1:d&&(c||u||(f=!1)),c?p=!1:u&&(l||d||(p=!1)),e?(s=f,a=p):(s=f&&(!p||u),a=p&&(!f||d)),{can_open:s,can_close:a,length:o}};tu.prototype.Token=c_;p1.exports=tu});var v1=S((mce,g1)=>{"use strict";var m1=Xf(),u_=[["text",ML()],["newline",jL()],["escape",HL()],["backticks",VL()],["strikethrough",n_().tokenize],["emphasis",o_().tokenize],["link",KL()],["image",XL()],["autolink",JL()],["html_inline",e1()],["entity",i1()]],l_=[["balance_pairs",a1()],["strikethrough",n_().postProcess],["emphasis",o_().postProcess],["text_collapse",u1()]];function ru(){var t;for(this.ruler=new m1,t=0;t<u_.length;t++)this.ruler.push(u_[t][0],u_[t][1]);for(this.ruler2=new m1,t=0;t<l_.length;t++)this.ruler2.push(l_[t][0],l_[t][1])}ru.prototype.skipToken=function(t){var e,r,n=t.pos,i=this.ruler.getRules(""),o=i.length,s=t.md.options.maxNesting,a=t.cache;if(typeof a[n]!="undefined"){t.pos=a[n];return}if(t.level<s)for(r=0;r<o&&(t.level++,e=i[r](t,!0),t.level--,!e);r++);else t.pos=t.posMax;e||t.pos++,a[n]=t.pos};ru.prototype.tokenize=function(t){for(var e,r,n=this.ruler.getRules(""),i=n.length,o=t.posMax,s=t.md.options.maxNesting;t.pos<o;){if(t.level<s)for(r=0;r<i&&(e=n[r](t,!1),!e);r++);if(e){if(t.pos>=o)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};ru.prototype.parse=function(t,e,r,n){var i,o,s,a=new this.State(t,e,r,n);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)};ru.prototype.State=h1();g1.exports=ru});var _1=S((gce,y1)=>{"use strict";y1.exports=function(t){var e={};e.src_Any=Wy().source,e.src_Cc=zy().source,e.src_Z=Ky().source,e.src_P=Gf().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var r="[><\uFF5C]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!+(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}});var P1=S((vce,S1)=>{"use strict";function d_(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(r){!r||Object.keys(r).forEach(function(n){t[n]=r[n]})}),t}function np(t){return Object.prototype.toString.call(t)}function w7(t){return np(t)==="[object String]"}function E7(t){return np(t)==="[object Object]"}function b7(t){return np(t)==="[object RegExp]"}function C1(t){return np(t)==="[object Function]"}function S7(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var w1={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function P7(t){return Object.keys(t||{}).reduce(function(e,r){return e||w1.hasOwnProperty(r)},!1)}var T7={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},I7="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",x7="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function A7(t){t.__index__=-1,t.__text_cache__=""}function R7(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}function E1(){return function(t,e){e.normalize(t)}}function ip(t){var e=t.re=_1()(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(I7),r.push(e.src_xn),e.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");var i=[];t.__compiled__={};function o(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(t.__schemas__).forEach(function(a){var c=t.__schemas__[a];if(c!==null){var u={validate:null,link:null};if(t.__compiled__[a]=u,E7(c)){b7(c.validate)?u.validate=R7(c.validate):C1(c.validate)?u.validate=c.validate:o(a,c),C1(c.normalize)?u.normalize=c.normalize:c.normalize?o(a,c):u.normalize=E1();return}if(w7(c)){i.push(a);return}o(a,c)}}),i.forEach(function(a){!t.__compiled__[t.__schemas__[a]]||(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:E1()};var s=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(S7).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),A7(t)}function k7(t,e){var r=t.__index__,n=t.__last_index__,i=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=i,this.text=i,this.url=i}function b1(t,e){var r=new k7(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function Mr(t,e){if(!(this instanceof Mr))return new Mr(t,e);e||P7(t)&&(e=t,t={}),this.__opts__=d_({},w1,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=d_({},T7,t),this.__compiled__={},this.__tlds__=x7,this.__tlds_replaced__=!1,this.re={},ip(this)}Mr.prototype.add=function(e,r){return this.__schemas__[e]=r,ip(this),this};Mr.prototype.set=function(e){return this.__opts__=d_(this.__opts__,e),this};Mr.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,n,i,o,s,a,c,u,l;if(this.re.schema_test.test(e)){for(c=this.re.schema_search,c.lastIndex=0;(r=c.exec(e))!==null;)if(o=this.testSchemaAt(e,r[2],c.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};Mr.prototype.pretest=function(e){return this.re.pretest.test(e)};Mr.prototype.testSchemaAt=function(e,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,n,this):0};Mr.prototype.match=function(e){var r=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(b1(this,r)),r=this.__last_index__);for(var i=r?e.slice(r):e;this.test(i);)n.push(b1(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Mr.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),ip(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,ip(this),this)};Mr.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Mr.prototype.onCompile=function(){};S1.exports=Mr});var I1=S((yce,T1)=>{"use strict";T1.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}});var A1=S((_ce,x1)=>{"use strict";x1.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}});var k1=S((Cce,R1)=>{"use strict";R1.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}});var L1=S((wce,N1)=>{"use strict";var nu=Re(),D7=PN(),O7=IN(),N7=JN(),L7=LL(),F7=v1(),M7=P1(),Fo=Gy(),D1=require("punycode"),q7={default:I1(),zero:A1(),commonmark:k1()},j7=/^(vbscript|javascript|file|data):/,$7=/^data:image\/(gif|png|jpeg|webp);/;function U7(t){var e=t.trim().toLowerCase();return j7.test(e)?!!$7.test(e):!0}var O1=["http:","https:","mailto:"];function H7(t){var e=Fo.parse(t,!0);if(e.hostname&&(!e.protocol||O1.indexOf(e.protocol)>=0))try{e.hostname=D1.toASCII(e.hostname)}catch(r){}return Fo.encode(Fo.format(e))}function B7(t){var e=Fo.parse(t,!0);if(e.hostname&&(!e.protocol||O1.indexOf(e.protocol)>=0))try{e.hostname=D1.toUnicode(e.hostname)}catch(r){}return Fo.decode(Fo.format(e),Fo.decode.defaultChars+"%")}function qr(t,e){if(!(this instanceof qr))return new qr(t,e);e||nu.isString(t)||(e=t||{},t="default"),this.inline=new F7,this.block=new L7,this.core=new N7,this.renderer=new O7,this.linkify=new M7,this.validateLink=U7,this.normalizeLink=H7,this.normalizeLinkText=B7,this.utils=nu,this.helpers=nu.assign({},D7),this.options={},this.configure(t),e&&this.set(e)}qr.prototype.set=function(t){return nu.assign(this.options,t),this};qr.prototype.configure=function(t){var e=this,r;if(nu.isString(t)&&(r=t,t=q7[r],!t))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};qr.prototype.enable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));var n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};qr.prototype.disable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));var n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};qr.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};qr.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");var r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};qr.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};qr.prototype.parseInline=function(t,e){var r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};qr.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};N1.exports=qr});var M1=S((Ece,F1)=>{"use strict";F1.exports=L1()});var eM=S((bde,HY)=>{HY.exports={name:"remote-containers",displayName:"Remote - Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.194.3",preview:!0,publisher:"ms-vscode-remote",icon:"resources/remote-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.60.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container"],aiKey:"AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",activationEvents:["onStartupFinished","onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.rebuildNoCacheAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openRepositoryInUniqueVolume","onCommand:remote-containers.openRepositoryFromRemoteHub","onCommand:remote-containers.openPullRequestInVolume","onCommand:remote-containers.inspectVolume","onCommand:remote-containers.inspectVolumeFromViewlet","onCommand:remote-containers.inspectInBasicDevContainer","onCommand:remote-containers.cloneInVolumeFromViewlet","onCommand:remote-containers.pruneVolumes","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.attachToK8sContainerFromViewlet","onCommand:remote-containers.checkoutPRInVolume","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.rebuildContainerNoCache","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.openLastLogFile","onCommand:remote-containers.addExtensionToConfig","onCommand:remote-containers.showReopenInContainerNotificationReset","onCommand:remote-containers.showRecoveryContainerNotificationReset","onCommand:remote-containers.labelPortAndUpdateConfig","onCommand:remote-containers.installDocker","onCommand:remote-containers.installUserCLI","onCommand:remote-containers.configureContainerFeatures","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost","onView:targetsContainers"],main:"./dist/extension/extension",enableProposedApi:!0,contributes:{virtualWorkspaces:{menus:{continueOn:[{command:"remote-containers.openRepositoryFromRemoteHub",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}]}},configuration:{title:"Remote - Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"remote.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"remote.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository for DevContainers. This overrides the common setting for the dotfiles repository."},"remote.containers.dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository for DevContainers. This overrides the common setting for the dotfiles install command."},"remote.containers.dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to for DevContainers. This overrides the common setting for the dotfiles target path."},"remote.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Remote-Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Remote-Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Remote-Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openRepositoryFromRemoteHub",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Remote-Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Development Container...",category:"Remote-Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Remote-Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Remote-Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Remote-Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Development Container Configuration Files...",category:"Remote-Containers"},{command:"remote-containers.settings",title:"Settings for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getHelp",title:"Help for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getStarted",title:"Getting Started with Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.trySample",title:"Try a Development Container Sample...",category:"Remote-Containers"},{command:"remote-containers.reportIssue",title:"Report Issue with Remote-Containers...",category:"Remote-Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Remote-Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Remote-Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Remote-Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Remote-Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Remote-Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Remote-Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Remote-Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Remote-Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Remote-Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Remote-Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Remote-Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Remote-Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Remote-Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Remote-Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Remote-Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Remote-Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Remote-Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Remote-Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Remote-Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Remote-Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Remote-Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Remote-Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features",category:"Remote-Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == wsl"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName == wsl"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName == wsl"},{command:"remote-containers.reopenLocally",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)?$/"},{command:"remote-containers.openFolder",when:"remoteName == wsl"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName == wsl"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHub",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName == wsl"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName == wsl"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)?$/"},{command:"remote-containers.getStarted",when:"false"},{command:"remote-containers.trySample",when:"!remoteName"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"experimentalContainerFeatures"}],"statusBar/remoteIndicator":[{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && remoteName == wsl"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"remoteName == wsl"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_1_actions@1",when:"canReopenInWSL"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_1_actions@2",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_1_actions@3",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_1_actions@4",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.revealLogTerminal",group:"remote_30_dev-container_1_actions@5",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_1_actions@6",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_1_actions@8",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_1_actions@9",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.settings",group:"remote_30_dev-container_9_help@1",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.reportIssue",group:"remote_30_dev-container_9_help@2",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.getHelp",group:"remote_30_dev-container_9_help@4",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"DevVolumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npm-run-all clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npm-run-all clean-dist definitions compile-dev",watch:"npm-run-all clean-dist definitions compile-watch",precommit:"node build/gulpfile.hygiene.js",package:"vsce package --yarn",definitions:"npm-run-all definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --ext .ts ./src ./test","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","type-check":"npm-run-all clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npm-run-all clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npm-run-all dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npm-run-all dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npm-run-all clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npm-run-all compile-prod","dev-containers-cli-copy-module":'copyfiles dist/node/devContainersCLI.* "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/repository-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-prepare":"npm-run-all dev-containers-user-cli-copy-module","dev-containers-user-cli-clean-prepare":"npm-run-all clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":"copyfiles dist/node/devContainersUserCLI.* dev-containers-user-cli",clean:"npm-run-all clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},devDependencies:{"@types/chai":"^4.2.18","@types/follow-redirects":"^1.13.0","@types/js-yaml":"^4.0.1","@types/markdown-it":"^12.0.2","@types/minimist":"^1.2.1","@types/mocha":"^8.2.2","@types/node":"^15.12.2","@types/pull-stream":"^3.6.2","@types/semver":"^7.3.6","@types/stats-lite":"^2.2.0","@types/tar":"^4.0.4","@types/vscode":"^1.57.0","@types/yargs":"^17.0.0","@typescript-eslint/eslint-plugin":"^4.26.1","@typescript-eslint/parser":"^4.26.1",ajv:"^8.6.0",chai:"4.3.4",copyfiles:"^2.4.1",eslint:"^7.28.0","event-stream":"^4.0.1",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^6.0.0",jsonc:"^2.0.0",mocha:"^9.0.0","mocha-junit-reporter":"^2.0.0","npm-run-all":"^4.1.5","p-all":"^3.0.0",rimraf:"^3.0.2","ts-node":"^10.0.0",typescript:"^4.3.2","typescript-formatter":"^7.2.2",vinyl:"^2.2.1","vinyl-fs":"^3.0.3",vsce:"^1.95.0"},dependencies:{applicationinsights:"2.1.1",esbuild:"^0.12.8","find-process":"^1.4.4","follow-redirects":"^1.14.1","js-yaml":"^4.1.0","jsonc-parser":"^3.0.0","markdown-it":"^12.0.6",minimist:"^1.2.5",muxrpc:"^6.5.3","node-pty":"^0.10.1","pull-stream":"^3.6.14","pull-stream-to-stream":"^2.0.0",semver:"^7.3.5","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.2","vscode-dev-containers":"https://github.com/microsoft/vscode-dev-containers/releases/download/v0.194.3/vscode-dev-containers-0.194.3.tgz","vscode-extension-telemetry":"^0.2.8","vscode-tas-client":"^0.1.22","vscode-uri":"^3.0.2",yargs:"^17.0.1"}}});QM(exports,{activate:()=>BY,attachToContainer:()=>gp,deactivate:()=>zY});var L=B(require("vscode")),tM=B(require("os")),_p=B(require("fs")),gt=B(require("path")),rM=B(require("querystring"));var dt=B(require("fs")),Zn=B(require("util"));function it(t){return new Promise(e=>dt.stat(t,(r,n)=>e(!r&&n.isFile())))}function wa(t){return new Promise(e=>dt.stat(t,(r,n)=>e(!r&&n.isDirectory())))}var Pe=(0,Zn.promisify)(dt.readFile),Eu=(0,Zn.promisify)(dt.writeFile),hX=(0,Zn.promisify)(dt.appendFile),Go=(0,Zn.promisify)(dt.rename),yr=(0,Zn.promisify)(dt.readdir),Q_=(0,Zn.promisify)(dt.unlink),Br=t=>new Promise((e,r)=>dt.mkdir(t,{recursive:!0},n=>n?r(n):e())),Qp=(0,Zn.promisify)(dt.rmdir);var Me=B(require("vscode")),P_=B(require("path"));var Oi=B(require("path")),RR=B(require("crypto"));var Z_=B(require("os")),Ea=B(require("fs")),eC=B(require("path"));async function J_(t,e){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:await e,package:await t}}var pe;(function(a){a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off"})(pe||(pe={}));var Jp={info:3,debug:2,trace:1},ZM=Object.keys(Jp).reduce((t,e)=>(t[Jp[e]]=e,t),[]);function tC(t){return Jp[t]||3}function rC(t){return ZM[t]||3}var Ye={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},ei=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function nC(t,e){let r=!!e;return{event:n=>{r&&(r=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(n))}}}function iC(t,e){let r=rq(t);return{event(n){let i=tq(n,e());i&&r.write(i)},join:r.join}}function oC(t,e,r){return{event(n){let i=eq(n,e(),r.getTime());i&&t(i)}}}function ot(t,e=2){return{event:t.event,write(r,n=e){t.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=e){t.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=e){let i=Date.now();return t.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function eq(t,e,r){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":return`[${ba(cC,`${t.timestamp-r} ms`)}] ${bu(t.text)}`;case"raw":return t.text;case"start":return 1>=e?`${ba(sq,`[${t.timestamp-r} ms] Start`)}: ${bu(t.text)}`:`[${ba(cC,`${t.timestamp-r} ms`)}] Start: ${bu(t.text)}`;case"stop":return 1>=e?`${ba(oq,`[${t.timestamp-r} ms] Stop`)} (${t.timestamp-t.startTimestamp} ms): ${bu(t.text)}`:void 0;default:throw sC(t)}}function bu(t){return cq(t).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function tq(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${Zp(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${Zp(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${Zp(t.text)}`:void 0;default:throw sC(t)}}function Zp(t){return t.replace(ei,"").replace(/(\r?\n)?$/,Z_.EOL)}function sC(t){return new Error(`Unknown log event type: ${t.type}`)}function rq(t){let e=[],r=!1,n,i;function o(){r=!1,i&&!e.length&&(n=void 0,i(),i=void 0)}function s(a,c=!1){if(a&&e.push(a),!c&&!r&&e.length){r=!0;let u=e.join("");e.length=0,Ea.appendFile(t,u,l=>{l&&(l.code==="ENOENT"?Ea.mkdir(eC.dirname(t),{recursive:!0},d=>{d?(o(),console.error(d)):Ea.appendFile(t,u,f=>{o(),f&&console.error(f),s()})}):(o(),console.error(l))),o(),s()})}}return{write:s,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}var nq="38;2;143;99;79",aC="38;2;99;143;79",iq="38;2;86;156;214",oq=nq,sq=aC,cC=aC,aq=iq;function ba(t,e){return e.split(`
`).map(r=>`[1m[${t}m${r}[39m[22m`).join(`
`)}function cq(t){let e,r=0,n=[];for(ei.lastIndex=0;e=ei.exec(t);)n.push(uC(t.substring(r,e.index))),n.push(e[0]),r=ei.lastIndex;return n.push(uC(t.substr(r))),n.join("")}function uC(t){let e=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=e.exec(t);)i.push(t.substring(n,r.index)),i.push(ba(aq,r[0])),n=e.lastIndex;return i.push(t.substr(n)),i.join("")}function be(t){return t.split(/\r?\n/).map(e=>`[1m[31m${e}[39m[22m`).join(`\r
`)+`\r
`}function eh(t){return t.split(/\r?\n/).map(e=>`[1m[33m${e}[39m[22m`).join(`\r
`)+`\r
`}var ie=class extends Error{constructor(e){super(e.originalError&&e.originalError.message||e.description);this.manageContainer=!1;this.actions=[];this.data={};var r;Object.assign(this,e),((r=this.originalError)==null?void 0:r.stack)&&(this.stack=this.originalError.stack)}};var Oc=B(require("path"));var le=B(require("path")),sd=B(require("fs")),MT=B(uh()),gg=B(require("string_decoder")),ad=B(bl());"use strict";function Ua(t,e){e===void 0&&(e=!1);var r=t.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(C,_){for(var E=0,w=0;E<C||!_;){var b=t.charCodeAt(n);if(b>=48&&b<=57)w=w*16+b-48;else if(b>=65&&b<=70)w=w*16+b-65+10;else if(b>=97&&b<=102)w=w*16+b-97+10;else break;n++,E++}return E<C&&(w=-1),w}function p(C){n=C,i="",o=0,s=16,d=0}function h(){var C=n;if(t.charCodeAt(n)===48)n++;else for(n++;n<t.length&&ms(t.charCodeAt(n));)n++;if(n<t.length&&t.charCodeAt(n)===46)if(n++,n<t.length&&ms(t.charCodeAt(n)))for(n++;n<t.length&&ms(t.charCodeAt(n));)n++;else return d=3,t.substring(C,n);var _=n;if(n<t.length&&(t.charCodeAt(n)===69||t.charCodeAt(n)===101))if(n++,(n<t.length&&t.charCodeAt(n)===43||t.charCodeAt(n)===45)&&n++,n<t.length&&ms(t.charCodeAt(n))){for(n++;n<t.length&&ms(t.charCodeAt(n));)n++;_=n}else d=3;return t.substring(C,_)}function m(){for(var C="",_=n;;){if(n>=r){C+=t.substring(_,n),d=2;break}var E=t.charCodeAt(n);if(E===34){C+=t.substring(_,n),n++;break}if(E===92){if(C+=t.substring(_,n),n++,n>=r){d=2;break}var w=t.charCodeAt(n++);switch(w){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var b=f(4,!0);b>=0?C+=String.fromCharCode(b):d=4;break;default:d=5}_=n;continue}if(E>=0&&E<=31)if(Ha(E)){C+=t.substring(_,n),d=2;break}else d=6;n++}return C}function g(){if(i="",d=0,o=n,c=a,l=u,n>=r)return o=r,s=17;var C=t.charCodeAt(n);if(Am(C)){do n++,i+=String.fromCharCode(C),C=t.charCodeAt(n);while(Am(C));return s=15}if(Ha(C))return n++,i+=String.fromCharCode(C),C===13&&t.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(C){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=m(),s=10;case 47:var _=n-1;if(t.charCodeAt(n+1)===47){for(n+=2;n<r&&!Ha(t.charCodeAt(n));)n++;return i=t.substring(_,n),s=12}if(t.charCodeAt(n+1)===42){n+=2;for(var E=r-1,w=!1;n<E;){var b=t.charCodeAt(n);if(b===42&&t.charCodeAt(n+1)===47){n+=2,w=!0;break}n++,Ha(b)&&(b===13&&t.charCodeAt(n)===10&&n++,a++,u=n)}return w||(n++,d=1),i=t.substring(_,n),s=13}return i+=String.fromCharCode(C),n++,s=16;case 45:if(i+=String.fromCharCode(C),n++,n===r||!ms(t.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<r&&v(C);)n++,C=t.charCodeAt(n);if(o!==n){switch(i=t.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(C),n++,s=16}}function v(C){if(Am(C)||Ha(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){var C;do C=g();while(C>=12&&C<=15);return C}return{setPosition:p,getPosition:function(){return n},scan:e?y:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function Am(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function Ha(t){return t===10||t===13||t===8232||t===8233}function ms(t){return t>=48&&t<=57}"use strict";function Rm(t,e,r){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!Ba(t,o-1);)o--;for(var c=a;c<t.length&&!Ba(t,c);)c++;i=t.substring(o,c),n=sU(i,r)}else i=t,n=0,o=0,s=0,a=t.length;var u=aU(r,t),l=!1,d=0,f;r.insertSpaces?f=km(" ",r.tabSize||4):f="	";var p=Ua(i,!1),h=!1;function m(){return u+km(f,n+d)}function g(){var H=p.scan();for(l=!1;H===15||H===14;)l=l||H===14,H=p.scan();return h=H===16||p.getTokenError()!==0,H}var v=[];function y(H,Z,ee){!h&&(!e||Z<a&&ee>s)&&t.substring(Z,ee)!==H&&v.push({offset:Z,length:ee-Z,content:H})}var C=g();if(C!==17){var _=p.getTokenOffset()+o,E=km(f,n);y(E,o,_)}for(;C!==17;){for(var w=p.getTokenOffset()+p.getTokenLength()+o,b=g(),x="",R=!1;!l&&(b===12||b===13);){var k=p.getTokenOffset()+o;y(" ",w,k),w=p.getTokenOffset()+p.getTokenLength()+o,R=b===12,x=R?m():"",b=g()}if(b===2)C!==1&&(d--,x=m());else if(b===4)C!==3&&(d--,x=m());else{switch(C){case 3:case 1:d++,x=m();break;case 5:case 12:x=m();break;case 13:l?x=m():R||(x=" ");break;case 6:R||(x=" ");break;case 10:if(b===6){R||(x="");break}case 7:case 8:case 9:case 11:case 2:case 4:b===12||b===13?R||(x=" "):b!==5&&b!==17&&(h=!0);break;case 16:h=!0;break}l&&(b===12||b===13)&&(x=m())}b===17&&(x=r.insertFinalNewline?u:"");var q=p.getTokenOffset()+o;y(x,w,q),C=b}return v}function km(t,e){for(var r="",n=0;n<e;n++)r+=t;return r}function sU(t,e){for(var r=0,n=0,i=e.tabSize||4;r<t.length;){var o=t.charAt(r);if(o===" ")n++;else if(o==="	")n+=i;else break;r++}return Math.floor(n/i)}function aU(t,e){for(var r=0;r<e.length;r++){var n=e.charAt(r);if(n==="\r")return r+1<e.length&&e.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return t&&t.eol||`
`}function Ba(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}"use strict";var Va;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Va||(Va={}));function xb(t,e){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,u,l,d){o.value=c,o.offset=u,o.length=l,o.type=d,o.colonOffset=void 0,i=o}try{Tl(t,{onObjectBegin:function(c,u){if(e<=c)throw n;i=void 0,s=e>c,r.push("")},onObjectProperty:function(c,u,l){if(e<u||(a(c,u,l,"property"),r[r.length-1]=c,e<=u+l))throw n},onObjectEnd:function(c,u){if(e<=c)throw n;i=void 0,r.pop()},onArrayBegin:function(c,u){if(e<=c)throw n;i=void 0,r.push(0)},onArrayEnd:function(c,u){if(e<=c)throw n;i=void 0,r.pop()},onLiteralValue:function(c,u,l){if(e<u||(a(c,u,l,Rb(c)),e<=u+l))throw n},onSeparator:function(c,u,l){if(e<=u)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=u,s=!1,i=void 0;else if(c===","){var d=r[r.length-1];typeof d=="number"?r[r.length-1]=d+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(c){for(var u=0,l=0;u<c.length&&l<r.length;l++)if(c[u]===r[l]||c[u]==="*")u++;else if(c[u]!=="**")return!1;return u===c.length}}}function Ab(t,e,r){e===void 0&&(e=[]),r===void 0&&(r=Va.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return Tl(t,a,r),i[0]}function Sl(t,e,r){e===void 0&&(e=[]),r===void 0&&(r=Va.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:Rb(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};Tl(t,s,r);var a=n.children[0];return a&&delete a.parent,a}function Ga(t,e){if(!!t){for(var r=t,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){r=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(r.type!=="array"||l<0||!Array.isArray(r.children)||l>=r.children.length)return;r=r.children[l]}}return r}}function Pl(t){switch(t.type){case"array":return t.children.map(Pl);case"object":for(var e=Object.create(null),r=0,n=t.children;r<n.length;r++){var i=n[r],o=i.children[1];o&&(e[i.children[0].value]=Pl(o))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}}function Tl(t,e,r){r===void 0&&(r=Va.DEFAULT);var n=Ua(t,!1);function i(R){return R?function(){return R(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(R){return R?function(k){return R(k,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),p=i(e.onComment),h=o(e.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function v(){for(;;){var R=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(R){case 12:case 13:m?y(10):p();break;case 16:y(1);break;case 15:case 14:break;default:return R}}}function y(R,k,q){if(k===void 0&&(k=[]),q===void 0&&(q=[]),h(R),k.length+q.length>0)for(var H=n.getToken();H!==17;){if(k.indexOf(H)!==-1){v();break}else if(q.indexOf(H)!==-1)break;H=v()}}function C(R){var k=n.getTokenValue();return R?d(k):a(k),v(),!0}function _(){switch(n.getToken()){case 11:var R=n.getTokenValue(),k=Number(R);isNaN(k)&&(y(2),k=0),d(k);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return v(),!0}function E(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(C(!1),n.getToken()===6?(f(":"),v(),x()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function w(){s(),v();for(var R=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(R||y(4,[],[]),f(","),v(),n.getToken()===2&&g)break}else R&&y(6,[],[]);E()||y(4,[],[2,5]),R=!0}return c(),n.getToken()!==2?y(7,[2],[]):v(),!0}function b(){u(),v();for(var R=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(R||y(4,[],[]),f(","),v(),n.getToken()===4&&g)break}else R&&y(6,[],[]);x()||y(4,[],[4,5]),R=!0}return l(),n.getToken()!==4?y(8,[4],[]):v(),!0}function x(){switch(n.getToken()){case 3:return b();case 1:return w();case 10:return C(!0);default:return _()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):x()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}function Rb(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}"use strict";function kb(t,e,r,n){for(var i,o=e.slice(),s=[],a=Sl(t,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=Ga(a,o),c===void 0&&r!==void 0);)typeof u=="string"?r=(i={},i[u]=r,i):r=[r];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=Ga(c,[u]);if(l!==void 0)if(r===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,p=l.parent.offset+l.parent.length;if(d>0){var h=c.children[d-1];f=h.offset+h.length}else if(f=c.offset+1,c.children.length>1){var m=c.children[1];p=m.offset}return lo(t,{offset:f,length:p-f,content:""},n)}else return lo(t,{offset:l.offset,length:l.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];var g=JSON.stringify(u)+": "+JSON.stringify(r),v=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(R){return R.children[0].value})):c.children.length,y=void 0;if(v>0){var h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}else c.children.length===0?y={offset:c.offset+1,length:0,content:g}:y={offset:c.offset+1,length:0,content:g+","};return lo(t,y,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var C=u;if(C===-1){var g=""+JSON.stringify(r),y=void 0;if(c.children.length===0)y={offset:c.offset+1,length:0,content:g};else{var h=c.children[c.children.length-1];y={offset:h.offset+h.length,length:0,content:","+g}}return lo(t,y,n)}else if(r===void 0&&c.children.length>=0){var _=u,E=c.children[_],y=void 0;if(c.children.length===1)y={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===_){var h=c.children[_-1],w=h.offset+h.length,b=c.offset+c.length;y={offset:w,length:b-2-w,content:""}}else y={offset:E.offset,length:c.children[_+1].offset-E.offset,content:""};return lo(t,y,n)}else if(r!==void 0){var y=void 0,g=""+JSON.stringify(r);if(!n.isArrayInsertion&&c.children.length>u){var x=c.children[u];y={offset:x.offset,length:x.length,content:g}}else if(c.children.length===0||u===0)y={offset:c.offset+1,length:0,content:c.children.length===0?g:g+","};else{var v=u>c.children.length?c.children.length:u,h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}return lo(t,y,n)}else throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+C+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(r===void 0)throw new Error("Can not delete in empty document");return lo(t,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}}function lo(t,e,r){if(!r.formattingOptions)return[e];var n=Il(t,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!Ba(n,i-1);)i--;for(;o<n.length&&!Ba(n,o);)o++}for(var s=Rm(n,{offset:i,length:o-i},r.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=Il(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=t.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function Il(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}"use strict";var Db=xb,je=Ab,Ob=Sl,xl=Ga;var Nb=Pl;function _t(t,e,r,n){return kb(t,e,r,n)}function Dt(t,e){for(var r=e.length-1;r>=0;r--)t=Il(t,e[r]);return t}var qT=B(require("crypto")),jT=B(require("util"));var Lb=B(require("string_decoder")),Wa="\u2404";async function fo(t,e,r,n){let i=await t({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:n||"/bin/sh",args:[],output:e}),o=cU(i),s;async function a(u,l){let d=s=(async()=>{try{await s}catch(f){}return c(u,l)})();try{return await Promise.race([d,o.unexpectedExit])}finally{o.disposeStdioListeners(),s===d&&(s=void 0)}}async function c(u,l){let d=`Run in container: ${u.replace(/\n.*/g,"")}`,f;if((l==null?void 0:l.logOutput)!=="silent"&&(f=e.start(d,l==null?void 0:l.logLevel)),i.stdin.destroyed){e.write("Stdin closed!");let{code:_,signal:E}=await i.exit;return Promise.reject({message:`Shell server terminated (code: ${_}, signal: ${E})`,code:_,signal:E})}i.stdin.write(`echo -n ${Wa}; ( ${u} ); echo -n ${Wa}$?${Wa}; echo -n ${Wa} >&2
`);let[p,h]=Fb(i.stdout,[1,2],(l==null?void 0:l.logOutput)==="continuous"?(_,E,w)=>{E===1&&w===0&&e.write(_,l==null?void 0:l.logLevel)}:()=>{}),m=Fb(i.stderr,[1],(l==null?void 0:l.logOutput)==="continuous"?(_,E,w)=>{E===0&&w===0&&e.write(_,l==null?void 0:l.logLevel)}:()=>{})[0];(l==null?void 0:l.stdin)&&(await p,i.stdin.write(l==null?void 0:l.stdin));let[g,v]=await h,[y]=await m,C=parseInt(v,10)||0;return((l==null?void 0:l.logOutput)===void 0||(l==null?void 0:l.logOutput)===!0)&&(e.write(g,l==null?void 0:l.logLevel),e.write(y,l==null?void 0:l.logLevel),C&&e.write(`Exit code ${C}`,l==null?void 0:l.logLevel)),(l==null?void 0:l.logOutput)==="continuous"&&C&&e.write(`Exit code ${C}`,l==null?void 0:l.logLevel),(l==null?void 0:l.logOutput)!=="silent"&&e.stop(d,f,l==null?void 0:l.logLevel),C?Promise.reject({message:`Command in container failed: ${u}`,code:C,stdout:g,stderr:y}):{stdout:g,stderr:y}}return{exec:a}}function Fb(t,e,r){let n=e.map(()=>{let l,d=new Promise((f,p)=>l={resolve:f,reject:p});return U({promise:d},l)}),i=new Lb.StringDecoder("utf8"),o=[],s=0,a=[];function c(l){let d=i.write(l);u(d)}function u(l){let d=l.indexOf(Wa);if(d!==-1){let f=l.substr(0,d);o.push(f),r(f,s,a.length),a.push(o.join("")),o.length=0,a.length===e[s]&&(n[s].resolve(a),s++,a=[],s===e.length&&t.off("data",c)),d+1<l.length&&u(l.substr(d+1))}else o.push(l),r(l,s,a.length)}return t.on("data",c),n.map(l=>l.promise)}function cU(t){let e,r=new Promise((c,u)=>e=u),n=[],i=[],o=c=>n.push(c),s=c=>i.push(c);return t.stdout.on("data",o),t.stderr.on("data",s),t.exit.then(({code:c,signal:u})=>{e(`Shell server terminated (code: ${c}, signal: ${u})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{e(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{t.stdout.off("data",o),t.stderr.off("data",s),n.length=0,i.length=0}}}var Mb=B(require("path"));var uU=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function qb(t,e,r,n,i){let{repository:o,installCommand:s,targetPath:a}=t.dotfilesConfiguration;if(o=i["remote.containers.dotfiles.repository"]||i["dotfiles.repository"]||o,s=i["remote.containers.dotfiles.installCommand"]||i["dotfiles.installCommand"]||s,a=i["remote.containers.dotfiles.targetPath"]||i["dotfiles.targetPath"]||a,!o)return;await n;let c=await r;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let u=e.shellServer,l=dU(e),d=Object.keys(c).reduce((f,p)=>`${f}${p}=${lU(c[p])} `,"");try{t.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await u.exec(`# Clone & install dotfiles
${Al(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:pe.Info}):await u.exec(`# Clone & install dotfiles
${Al(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${uU.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:pe.Info}),t.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch(f){t.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function lU(t){return`'${(t||"").replace(/'+/g,`'"$&"'`)}'`}function dU(t){return Mb.posix.join(po(t),".dotfilesMarker")}var gi=B(require("path")),ed=B(require("net")),lT=B(require("crypto")),dT=B(Ol()),fT=B(require("util")),pT=B(require("string_decoder"));var Bt=B(require("path")),Ll=B(require("os")),BS=B(require("fs")),ys=B(require("child_process")),Mm=B(require("string_decoder"));var US;US=(()=>{"use strict";var t={470:n=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,c){for(var u,l="",d=0,f=-1,p=0,h=0;h<=a.length;++h){if(h<a.length)u=a.charCodeAt(h);else{if(u===47)break;u=47}if(u===47){if(!(f===h-1||p===1))if(f!==h-1&&p===2){if(l.length<2||d!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var m=l.lastIndexOf("/");if(m!==l.length-1){m===-1?(l="",d=0):d=(l=l.slice(0,m)).length-1-l.lastIndexOf("/"),f=h,p=0;continue}}else if(l.length===2||l.length===1){l="",d=0,f=h,p=0;continue}}c&&(l.length>0?l+="/..":l="..",d=2)}else l.length>0?l+="/"+a.slice(f+1,h):l=a.slice(f+1,h),d=h-f-1;f=h,p=0}else u===46&&p!==-1?++p:p=-1}return l}var s={resolve:function(){for(var a,c="",u=!1,l=arguments.length-1;l>=-1&&!u;l--){var d;l>=0?d=arguments[l]:(a===void 0&&(a=process.cwd()),d=a),i(d),d.length!==0&&(c=d+"/"+c,u=d.charCodeAt(0)===47)}return c=o(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(a){if(i(a),a.length===0)return".";var c=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return(a=o(a,!c)).length!==0||c||(a="."),a.length>0&&u&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var u=arguments[c];i(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":s.normalize(a)},relative:function(a,c){if(i(a),i(c),a===c||(a=s.resolve(a))===(c=s.resolve(c)))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var l=a.length,d=l-u,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length-f,h=d<p?d:p,m=-1,g=0;g<=h;++g){if(g===h){if(p>h){if(c.charCodeAt(f+g)===47)return c.slice(f+g+1);if(g===0)return c.slice(f+g)}else d>h&&(a.charCodeAt(u+g)===47?m=g:g===0&&(m=0));break}var v=a.charCodeAt(u+g);if(v!==c.charCodeAt(f+g))break;v===47&&(m=g)}var y="";for(g=u+m+1;g<=l;++g)g!==l&&a.charCodeAt(g)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(f+m):(f+=m,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var c=a.charCodeAt(0),u=c===47,l=-1,d=!0,f=a.length-1;f>=1;--f)if((c=a.charCodeAt(f))===47){if(!d){l=f;break}}else d=!1;return l===-1?u?"/":".":u&&l===1?"//":a.slice(0,l)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(a);var u,l=0,d=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var p=c.length-1,h=-1;for(u=a.length-1;u>=0;--u){var m=a.charCodeAt(u);if(m===47){if(!f){l=u+1;break}}else h===-1&&(f=!1,h=u+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(d=u):(p=-1,d=h))}return l===d?d=h:d===-1&&(d=a.length),a.slice(l,d)}for(u=a.length-1;u>=0;--u)if(a.charCodeAt(u)===47){if(!f){l=u+1;break}}else d===-1&&(f=!1,d=u+1);return d===-1?"":a.slice(l,d)},extname:function(a){i(a);for(var c=-1,u=0,l=-1,d=!0,f=0,p=a.length-1;p>=0;--p){var h=a.charCodeAt(p);if(h!==47)l===-1&&(d=!1,l=p+1),h===46?c===-1?c=p:f!==1&&(f=1):c!==-1&&(f=-1);else if(!d){u=p+1;break}}return c===-1||l===-1||f===0||f===1&&c===l-1&&c===u+1?"":a.slice(c,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(c,u){var l=u.dir||u.root,d=u.base||(u.name||"")+(u.ext||"");return l?l===u.root?l+d:l+"/"+d:d}(0,a)},parse:function(a){i(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var u,l=a.charCodeAt(0),d=l===47;d?(c.root="/",u=1):u=0;for(var f=-1,p=0,h=-1,m=!0,g=a.length-1,v=0;g>=u;--g)if((l=a.charCodeAt(g))!==47)h===-1&&(m=!1,h=g+1),l===46?f===-1?f=g:v!==1&&(v=1):f!==-1&&(v=-1);else if(!m){p=g+1;break}return f===-1||h===-1||v===0||v===1&&f===h-1&&f===p+1?h!==-1&&(c.base=c.name=p===0&&d?a.slice(1,h):a.slice(p,h)):(p===0&&d?(c.name=a.slice(1,f),c.base=a.slice(1,h)):(c.name=a.slice(p,f),c.base=a.slice(p,h)),c.ext=a.slice(f,h)),p>0?c.dir=a.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},447:(n,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>v,Utils:()=>H}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var c,u,l=(c=function($,P){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,F){N.__proto__=F}||function(N,F){for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&(N[W]=F[W])})($,P)},function($,P){function N(){this.constructor=$}c($,P),$.prototype=P===null?Object.create(P):(N.prototype=P.prototype,new N)}),d=/^\w[\w\d+.-]*$/,f=/^\//,p=/^\/\//,h="",m="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,v=function(){function $(P,N,F,W,z,X){X===void 0&&(X=!1),typeof P=="object"?(this.scheme=P.scheme||h,this.authority=P.authority||h,this.path=P.path||h,this.query=P.query||h,this.fragment=P.fragment||h):(this.scheme=function(K,ye){return K||ye?K:"file"}(P,X),this.authority=N||h,this.path=function(K,ye){switch(K){case"https":case"http":case"file":ye?ye[0]!==m&&(ye=m+ye):ye=m}return ye}(this.scheme,F||h),this.query=W||h,this.fragment=z||h,function(K,ye){if(!K.scheme&&ye)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+K.authority+'", path: "'+K.path+'", query: "'+K.query+'", fragment: "'+K.fragment+'"}');if(K.scheme&&!d.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path){if(K.authority){if(!f.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,X))}return $.isUri=function(P){return P instanceof $||!!P&&typeof P.authority=="string"&&typeof P.fragment=="string"&&typeof P.path=="string"&&typeof P.query=="string"&&typeof P.scheme=="string"&&typeof P.fsPath=="function"&&typeof P.with=="function"&&typeof P.toString=="function"},Object.defineProperty($.prototype,"fsPath",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),$.prototype.with=function(P){if(!P)return this;var N=P.scheme,F=P.authority,W=P.path,z=P.query,X=P.fragment;return N===void 0?N=this.scheme:N===null&&(N=h),F===void 0?F=this.authority:F===null&&(F=h),W===void 0?W=this.path:W===null&&(W=h),z===void 0?z=this.query:z===null&&(z=h),X===void 0?X=this.fragment:X===null&&(X=h),N===this.scheme&&F===this.authority&&W===this.path&&z===this.query&&X===this.fragment?this:new C(N,F,W,z,X)},$.parse=function(P,N){N===void 0&&(N=!1);var F=g.exec(P);return F?new C(F[2]||h,q(F[4]||h),q(F[5]||h),q(F[7]||h),q(F[9]||h),N):new C(h,h,h,h,h)},$.file=function(P){var N=h;if(s&&(P=P.replace(/\\/g,m)),P[0]===m&&P[1]===m){var F=P.indexOf(m,2);F===-1?(N=P.substring(2),P=m):(N=P.substring(2,F),P=P.substring(F)||m)}return new C("file",N,P,h,h)},$.from=function(P){return new C(P.scheme,P.authority,P.path,P.query,P.fragment)},$.prototype.toString=function(P){return P===void 0&&(P=!1),x(this,P)},$.prototype.toJSON=function(){return this},$.revive=function(P){if(P){if(P instanceof $)return P;var N=new C(P);return N._formatted=P.external,N._fsPath=P._sep===y?P.fsPath:null,N}return P},$}(),y=s?1:void 0,C=function($){function P(){var N=$!==null&&$.apply(this,arguments)||this;return N._formatted=null,N._fsPath=null,N}return l(P,$),Object.defineProperty(P.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),P.prototype.toString=function(N){return N===void 0&&(N=!1),N?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)},P.prototype.toJSON=function(){var N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=y),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N},P}(v),_=((u={})[58]="%3A",u[47]="%2F",u[63]="%3F",u[35]="%23",u[91]="%5B",u[93]="%5D",u[64]="%40",u[33]="%21",u[36]="%24",u[38]="%26",u[39]="%27",u[40]="%28",u[41]="%29",u[42]="%2A",u[43]="%2B",u[44]="%2C",u[59]="%3B",u[61]="%3D",u[32]="%20",u);function E($,P){for(var N=void 0,F=-1,W=0;W<$.length;W++){var z=$.charCodeAt(W);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===45||z===46||z===95||z===126||P&&z===47)F!==-1&&(N+=encodeURIComponent($.substring(F,W)),F=-1),N!==void 0&&(N+=$.charAt(W));else{N===void 0&&(N=$.substr(0,W));var X=_[z];X!==void 0?(F!==-1&&(N+=encodeURIComponent($.substring(F,W)),F=-1),N+=X):F===-1&&(F=W)}}return F!==-1&&(N+=encodeURIComponent($.substring(F))),N!==void 0?N:$}function w($){for(var P=void 0,N=0;N<$.length;N++){var F=$.charCodeAt(N);F===35||F===63?(P===void 0&&(P=$.substr(0,N)),P+=_[F]):P!==void 0&&(P+=$[N])}return P!==void 0?P:$}function b($,P){var N;return N=$.authority&&$.path.length>1&&$.scheme==="file"?"//"+$.authority+$.path:$.path.charCodeAt(0)===47&&($.path.charCodeAt(1)>=65&&$.path.charCodeAt(1)<=90||$.path.charCodeAt(1)>=97&&$.path.charCodeAt(1)<=122)&&$.path.charCodeAt(2)===58?P?$.path.substr(1):$.path[1].toLowerCase()+$.path.substr(2):$.path,s&&(N=N.replace(/\//g,"\\")),N}function x($,P){var N=P?w:E,F="",W=$.scheme,z=$.authority,X=$.path,K=$.query,ye=$.fragment;if(W&&(F+=W,F+=":"),(z||W==="file")&&(F+=m,F+=m),z){var Ne=z.indexOf("@");if(Ne!==-1){var ke=z.substr(0,Ne);z=z.substr(Ne+1),(Ne=ke.indexOf(":"))===-1?F+=N(ke,!1):(F+=N(ke.substr(0,Ne),!1),F+=":",F+=N(ke.substr(Ne+1),!1)),F+="@"}(Ne=(z=z.toLowerCase()).indexOf(":"))===-1?F+=N(z,!1):(F+=N(z.substr(0,Ne),!1),F+=z.substr(Ne))}if(X){if(X.length>=3&&X.charCodeAt(0)===47&&X.charCodeAt(2)===58)(We=X.charCodeAt(1))>=65&&We<=90&&(X="/"+String.fromCharCode(We+32)+":"+X.substr(3));else if(X.length>=2&&X.charCodeAt(1)===58){var We;(We=X.charCodeAt(0))>=65&&We<=90&&(X=String.fromCharCode(We+32)+":"+X.substr(2))}F+=N(X,!0)}return K&&(F+="?",F+=N(K,!1)),ye&&(F+="#",F+=P?ye:E(ye,!1)),F}function R($){try{return decodeURIComponent($)}catch(P){return $.length>3?$.substr(0,3)+R($.substr(3)):$}}var k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function q($){return $.match(k)?$.replace(k,function(P){return R(P)}):$}var H,Z=o(470),ee=function(){for(var $=0,P=0,N=arguments.length;P<N;P++)$+=arguments[P].length;var F=Array($),W=0;for(P=0;P<N;P++)for(var z=arguments[P],X=0,K=z.length;X<K;X++,W++)F[W]=z[X];return F},V=Z.posix||Z;(function($){$.joinPath=function(P){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];return P.with({path:V.join.apply(V,ee([P.path],N))})},$.resolvePath=function(P){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];var W=P.path||"/";return P.with({path:V.resolve.apply(V,ee([W],N))})},$.dirname=function(P){var N=V.dirname(P.path);return N.length===1&&N.charCodeAt(0)===46?P:P.with({path:N})},$.basename=function(P){return V.basename(P.path)},$.extname=function(P){return V.extname(P.path)}})(H||(H={}))}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.d=(n,i)=>{for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(447)})();var{URI:we,Utils:Wr}=US;var HS=B(require("path"));function Ae(t,e){if(za(e)){let r=t.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e}}function za(t){return HS.extname(t)===".code-workspace"}async function Nl(t,e){if(!!e.isWorkspaceFile)try{let r=e.rootFolderPath,n=(await t.readFile(e.workspaceOrFolderPath)).toString(),o=je(n).folders;if(o&&o.length>0){for(let s of o){let a=s.path,c;if(a){if(t.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;c=t.path.resolve(r,a)}else{let u=s.uri;return u?we.parse(u).scheme!=="file"?`Workspace contains folder '${u}' not on the local file system.`:`Workspace contains an absolute folder path '${u}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!FU(t,c,r))return`Folder '${c}' is not a subfolder of shared root folder '${r}'.`}return}return"Workspace does not define any folders"}catch(r){return`Problems loading workspace file ${e.workspaceOrFolderPath}: ${r.message||r.toString()}`}}function FU(t,e,r){return e===r?!0:!e||!r||r.length>e.length||e.length>r.length&&e.charAt(r.length)!==t.path.sep?!1:MU(t.platform,r,e.substr(0,r.length))}function MU(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var mo;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(mo||(mo={}));function VS(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var qU=Bt.join(__dirname,"..","..","node_modules",".bin","ts-node"),qm=Bt.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function fe(t){let{exec:e,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,print:c}=t,u=await e({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((l,d)=>{let f=[],p=[],h=c==="continuous"?new Mm.StringDecoder:void 0;u.stdout.on("data",g=>{f.push(g),c==="continuous"&&a.write(h.write(g))}),u.stdout.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g});let m=c==="continuous"?new Mm.StringDecoder:void 0;u.stderr.on("data",g=>{p.push(g),c==="continuous"&&a.write(be(m.write(g)))}),u.stderr.on("error",g=>{if((g==null?void 0:g.code)!=="ENOTCONN")throw g}),u.exit.then(({code:g})=>{try{let v=Buffer.concat(f),y=Buffer.concat(p);(c===!0||g&&c==="onerror")&&(a.write(v.toString().replace(/\r?\n/g,`\r
`)),a.write(be(y.toString()))),c&&g&&a.write(`Exit code ${g}`),g?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:v,stderr:y,code:g}):l({stdout:v,stderr:y})}catch(v){d(v)}},d),s instanceof Buffer?(u.stdin.write(s,g=>{g&&d(g)}),u.stdin.end()):s instanceof BS.ReadStream&&s.pipe(u.stdin)})}async function On(t){var u,l;let{ptyExec:e,cmd:r,args:n,cwd:i,env:o,output:s,resolveOn:a}=t,c=await e({cmd:r,args:n,cwd:i,env:o,cols:(u=s.dimensions)==null?void 0:u.columns,rows:(l=s.dimensions)==null?void 0:l.rows,output:s});return new Promise((d,f)=>{let p="",h=s.onDidChangeDimensions&&s.onDidChangeDimensions(m=>{c.resize(m.columns,m.rows)});c.onData(m=>{p+=m,s.raw(m),a&&a.exec(p)&&d({cmdOutput:p})}),c.exit.then(({code:m})=>{try{h&&h.dispose(),m?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:p,code:m}):d({cmdOutput:p})}catch(g){f(g)}},f)})}function Ka(t){return async function(e){let{cmd:r,args:n,output:i}=e,o=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=e.cwd||t,c=e.env?U(U({},process.env),e.env):process.env,u=await Fl(r,a,c,i),l=ys.spawn(u,n,{cwd:a,env:c,windowsHide:!0});return{stdin:l.stdin,stdout:l.stdout,stderr:l.stderr,exit:new Promise((d,f)=>{l.once("error",p=>{i.stop(o,s),f(p)}),l.once("close",(p,h)=>{i.stop(o,s),d({code:p,signal:h})})}),async terminate(){l.kill("SIGKILL")}}}}async function jU(t,e){let r=await e("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){let{cmd:i,args:o,cols:s,rows:a,output:c}=n,u=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=c.start(u),d=!1,f=n.cwd||t,p=n.env?U(U({},process.env),n.env):process.env,h=await Fl(i,f,p,c),m=r.spawn(h,o||[],{cwd:f,env:p,cols:s,rows:a,useConpty:d});return{onData:m.onData.bind(m),write:m.write.bind(m),resize:m.resize.bind(m),exit:new Promise(g=>{m.onExit(({exitCode:v,signal:y})=>{if(c.stop(u,l),g({code:v,signal:y}),process.platform==="win32")try{m.kill()}catch{}})}),async terminate(){m.kill("SIGKILL")}}}}function jm(t,e,r){return async function(n){let{env:i,cmd:o,args:s,output:a}=n,c=n.cwd||r,u=c?`cd '${c}' && `:"",l=Object.keys(i||{}).map(y=>`${y}='${i[y]}' `).join(""),d=(s||[]).map(y=>` '${y.replace(/'/g,`'"'"'`)}'`).join(""),f=`${u}${l}${o}${d}`,p=[...e,"/bin/sh","-c",f],h=`Run: ${t} ${p.join(" ").replace(/\n.*/g,"")}`,m=a.start(h),g=await Fl(t,process.cwd(),process.env,a),v=ys.spawn(g,p,{windowsHide:!0});return{stdin:v.stdin,stdout:v.stdout,stderr:v.stderr,exit:new Promise((y,C)=>{v.once("error",_=>{a.stop(h,m),C(_)}),v.once("close",(_,E)=>{a.stop(h,m),y({code:_,signal:E})})}),async terminate(){v.kill("SIGKILL")}}}}async function $m(t,e,r,n){let i=await n("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){let{env:s,cmd:a,args:c,cols:u,rows:l,output:d}=o,f=o.cwd||r,p=f?`cd '${f}' && `:"",h=Object.keys(s||{}).map(b=>`${b}='${s[b]}' `).join(""),m=(c||[]).map(b=>` '${b.replace(/'/g,`'"'"'`)}'`).join(""),g=`${p}${h}${a}${m}`,v=[...e,"/bin/sh","-c",g],y=`Run: ${t} ${v.join(" ").replace(/\n.*/g,"")}`,C=d.start(y),_=!1,E=await Fl(t,process.cwd(),process.env,d),w=i.spawn(E,v,{cols:u,rows:l,useConpty:_});return{onData:w.onData.bind(w),write:w.write.bind(w),resize:w.resize.bind(w),exit:new Promise(b=>{w.onExit(({exitCode:x,signal:R})=>{if(d.stop(y,C),b({code:x,signal:R}),process.platform==="win32")try{w.kill()}catch{}})}),async terminate(){w.kill("SIGKILL")}}}}async function Fl(t,e=process.cwd(),r,n){if(process.platform!=="win32")return t;if(Bt.isAbsolute(t))return await Ya(t)||t;if(/[/\\]/.test(t)){let a=Bt.join(e,t);return await Ya(a)||a}let i,o;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let c=r[a];typeof c=="string"&&(i=c,o=c.split(Bt.delimiter).filter(Boolean),o.push(Bt.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up exectuable '${t}'.`);let a=Bt.join(e,t);return await Ya(a)||a}for(let a of o){let c;Bt.isAbsolute(a)?c=Bt.join(a,t):c=Bt.join(e,a,t);let u=await Ya(c);if(u)return u}n.write(`findLocalWindowsExecutable: Exectuable '${t}' not found on PATH '${i}'.`);let s=Bt.join(e,t);return await Ya(s)||s}var GS=process.env.PATHEXT,WS=GS?GS.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function Ya(t){if(WS.indexOf(Bt.extname(t))!==-1)return await it(t)?t:void 0;for(let e of WS){let r=t+e;if(await it(r))return r}}async function Tr(t,e,r,n=!0){if(typeof t!="string"||n&&dr(t)){let i=typeof t=="string"?Ml(t):t.wslDistro,o=typeof t=="string"?await ql(i,t,r):t.wslPath,s=jm("wsl",["-d",i,"-e"],o),a=await $m("wsl",["-d",i,"-e"],o,e),c=Xa("wsl",o,s,a,r);return c.env=await UU(c,i,r),c.toCommonURI=async u=>{try{return we.file((await fe({exec:s,cmd:"wslpath",args:["-w",u],output:r})).stdout.toString().trim())}catch(l){return}},c}return await $U(t,e)}async function $U(t,e){return{type:"local",platform:process.platform,exec:Ka(t),ptyExec:await jU(t,e),cwd:t,env:process.env,path:Bt,homedir:async()=>Ll.homedir(),tmpdir:async()=>Ll.tmpdir(),isFile:it,isFolder:wa,readFile:Pe,writeFile:Eu,rename:Go,mkdirp:async r=>{await Br(r)},readDir:yr,getuid:async()=>process.getuid(),getgid:async()=>process.getgid(),toCommonURI:async r=>we.file(r)}}function Xa(t,e,r,n,i){let o;return{type:t,platform:"linux",exec:r,ptyExec:n,cwd:e,env:{},path:Bt.posix,async homedir(){var s;return typeof o=="undefined"&&(o=this.env.HOME||((s=jl((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:s.home)||"/"),o},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async s=>{try{return await fe({exec:r,cmd:"test",args:["-f",s],output:Ye}),!0}catch(a){if((a==null?void 0:a.code)!==1)throw a;return!1}},isFolder:async s=>{try{return await fe({exec:r,cmd:"test",args:["-d",s],output:Ye}),!0}catch(a){if((a==null?void 0:a.code)!==1)throw a;return!1}},readFile:async s=>{try{return(await fe({exec:r,cmd:"cat",args:[s],output:Ye})).stdout}catch(a){let c=new Error(`Could not read file: ${s}`);throw c.originalError=a,c.code="ENOENT",c}},writeFile:async(s,a)=>{await fe({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${s}'`],stdin:a,output:Ye})},rename:async(s,a)=>{await fe({exec:r,cmd:"mv",args:[s,a],output:Ye})},mkdirp:async s=>{await fe({exec:r,cmd:"mkdir",args:["-p",s],output:Ye})},readDir:async s=>(await fe({exec:r,cmd:"ls",args:["-a",s],output:Ye})).stdout.toString().trim().split(`
`).filter(a=>a!=="."&&a!==".."),readDirWithTypes:async s=>{let a={f:1,"*":1,"/":2,"@":64};return(await fe({exec:r,cmd:"ls",args:["-aF",s],output:Ye})).stdout.toString().trim().split(`
`).map(c=>"/*@=%|>".indexOf(c[c.length-1])!==-1?[c.substr(0,c.length-1),c[c.length-1]]:[c,"f"]).filter(([c])=>c!=="."&&c!=="..").map(([c,u])=>[c,a[u]||0])},getuid:async()=>{let s=await fe({exec:r,cmd:"id",args:["-u"],output:Ye});return parseInt(s.stdout.toString().trim(),10)},getgid:async()=>{let s=await fe({exec:r,cmd:"id",args:["-g"],output:Ye});return parseInt(s.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0)}}var zS=/^\\\\wsl(\.localhost|\$)?\\/;function dr(t){return zS.test(t.toLowerCase())}function Ml(t){let e=t.toLowerCase(),r=zS.exec(e);if(!r)return"";let n=e.indexOf("\\",r[0].length);return t.substring(r[0].length,n)}async function UU(t,e,r){let n;try{let{stdout:o}=await fe({exec:Ka(void 0),cmd:"wsl",args:["-d",e],stdin:Buffer.from(`printenv ; exit
`),output:r,print:"onerror"});n=o.toString()}catch{let{stdout:o}=await fe({exec:t.exec,cmd:"printenv",output:r,print:"onerror"});n=o.toString()}let i=HU(n);return delete i.WSL_INTEROP,delete i.PWD,i}function HU(t){let e={};return t.trim().split(`
`).forEach(r=>{let n=r.indexOf("=");n!==-1&&(e[r.substr(0,n)]=r.substr(n+1))}),e}async function ql(t,e,r){let{stdout:n}=await fe({exec:Ka(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:r});return n.toString().trim()}async function Qa(t,e){let r=Ml(t),n=await ql(r,t,e);return we.parse(`vscode-remote://wsl+${r}${n}`)}function Ja(t){if(t.scheme==="vscode-remote"){let e=/wsl\+(.*)/.exec(t.authority);if(e){let r=t.path;return za(r)&&(r=Bt.posix.dirname(r)),{wslDistro:e[1],wslPath:r}}}}function _s(t){let e=/^'?(\d+(\.\d+)*)/.exec(t);if(!!e)return e[1].split(".").map(r=>parseInt(r,10))}function Cs(t,e){for(let r=0,n=Math.max(t.length,e.length);r<n;r++){let i=t[r]||0,o=e[r]||0;if(i!==o)return i<o}return!1}var KS=qm?(t,e,r)=>ys.spawn(qU,[t,...e||[]],ne(U({},r),{windowsHide:!0})):ys.fork;async function YS(t,e){if(!e){try{return require(t)}catch(r){}return}try{return require(`${e}/node_modules.asar/${t}`)}catch(r){}try{return require(`${e}/node_modules/${t}`)}catch(r){}}function Za(t){let{output:e}=t,r=[];return{output:ot(ne(U({},e),{event:i=>r?r.push(i):e.event(i)})),flush:()=>{r&&(r.forEach(i=>e.event(i)),r=void 0)}}}function XS(t,e){return ot(ne(U({},t),{event:n=>{t.event(n),e.event(n)}}))}var $l=B(require("path"));async function QS(t,e){let r=await JS(t.cliHost,"agent-extra-socket",t.output);if(!r)return;let n=await Um(e,"agent-socket");if(!n)return;let i=await Um(e,"homedir");try{let{stdout:s}=await e.exec(`ls '${i}/private-keys-v1.d' 2>/dev/null`);if(s.trim())return}catch{}let o=(async()=>{await e.exec(`mkdir -p -m 700 '${$l.posix.dirname(n)}'`);let s=await JS(t.cliHost,"homedir",t.output),a=await Um(e,"homedir");s&&a&&(await ec(t,{shellServer:e},t.cliHost.path.join(s,"pubring.kbx"),$l.posix.join(a,"pubring.kbx"),"gpg"),await ec(t,{shellServer:e},t.cliHost.path.join(s,"trustdb.gpg"),$l.posix.join(a,"trustdb.gpg"),"gpg")),await BU(t.cliHost,t.output)})();return{remoteGpgSocket:n,localGpgSocket:r,ready:o}}async function JS(t,e,r){try{let{stdout:n}=await fe({exec:t.exec,cmd:"gpgconf",args:["--list-dir",e],output:r,print:!0}),i=n.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${e}:(.*)$`,"m").exec(i);o&&(i=o[1])}return t.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch(n){return}}async function Um(t,e){try{let{stdout:r}=await t.exec(`gpgconf --list-dir ${e}`),n=r.trim();if(n.indexOf(`
`)!==-1){let i=new RegExp(`^${e}:(.*)$`,"m").exec(n);if(i)return i[1]}return n}catch(r){return}}async function BU(t,e){try{await fe({exec:t.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:e})}catch(r){}}async function Ul(t,e,r){try{let{stdout:n}=await fe({exec:t.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:e,output:r}),i=n.toString().trim();return t.path.resolve(e,i)}catch{return}}async function Hm(t,e,r){try{return await fe({exec:t.exec,cmd:"git",args:["ls-remote",e],cwd:".",output:r}),!0}catch(n){return!1}}async function ZS({exec:t},e,r){try{let{stdout:n,stderr:i}=await fe({exec:t,cmd:"git",args:["credential",e],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(r),output:Ye});return{stdout:n.toString(),stderr:i.toString(),code:0}}catch(n){if(!(n&&n.stdout&&n.stderr))throw n;let{stdout:i,stderr:o,code:s}=n,a=o.toString();return a.indexOf("terminal prompts disabled")!==-1&&(a=""),{stdout:i.toString(),stderr:a,code:s||0}}}async function e0(t,e,r){let n=await Bm(t,e,r);if(!n)return;n.startsWith("refs/")&&(n=n.substr(5)),n.startsWith("remotes/")&&(n=n.substr(8));let i=n.indexOf("/");if(i===-1)return;let o=n.substr(0,i),s=n.substr(i+1);try{let{stdout:a}=await fe({exec:t.exec,cmd:"git",args:["remote","get-url",o],cwd:e.rootFolderPath,output:r}),c=a.toString().trim();if(c.endsWith(".git")&&(c=c.substr(0,c.length-4)),c.startsWith("https://github.com/")){let u=await zU(t,e,o,r);if(u&&s!==u)return`${c}/tree/${s}`}return c}catch{return}}async function t0(t,e,r){let n;try{let{stdout:i}=await fe({exec:t.exec,cmd:"git",args:["remote","-v"],cwd:e.rootFolderPath,output:r});n=i.toString()}catch{return}return Array.from(new Set(VU(/^[^\s]+\s+([^\s]+)/gm,n,1)))}function VU(t,e,r){return{[Symbol.iterator]:function*(){let n;for(;n=t.exec(e);)yield n[r],t.lastIndex===n.index&&t.lastIndex++}}}async function r0(t,e,r){return await GU(t,e,r)||WU(t,e,r)}async function GU(t,e,r){try{let{stdout:n}=await fe({exec:t.exec,cmd:"git",args:["status","--porcelain"],cwd:e.rootFolderPath,output:r});return!!n.toString().trim()}catch{return}}async function WU(t,e,r){let n=await Bm(t,e,r);if(!!n)try{let{stdout:i}=await fe({exec:t.exec,cmd:"git",args:["log",`${n}..HEAD`],cwd:e.rootFolderPath,output:r});return!!i.toString().trim()}catch{return}}async function n0(t,e,r,n){let i=await Bm(t,e,n);if(!i)return!1;try{let o=t.platform==="win32"?r.replace(/\\/g,"/"):r;return await fe({exec:t.exec,cmd:"git",args:["cat-file","-e",`${i}:${o}`],cwd:e.rootFolderPath,output:n}),!0}catch{return!1}}async function Bm(t,e,r){try{let{stdout:n}=await fe({exec:t.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:e.rootFolderPath,output:r});return n.toString().trim()}catch{return}}async function zU(t,e,r,n){try{let{stdout:i}=await fe({exec:t.exec,cmd:"git",args:["remote","show",r],cwd:e.rootFolderPath,output:n});return(i.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function Hl(t,e,r,n,i,o){let{extensionPath:s}=t;if(await e.isFolder(e.path.join(r,".git")))return{gitClone:void 0,gitUnshallow:void 0};await e.mkdirp(r);let a=n.tokenEnvVar?ne(U({},n.env),{GIT_ASKPASS:e.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:e.env[n.tokenEnvVar]}):n.env,c=[];n.fullClone||c.push("--depth","1"),n.branch&&c.push("--branch",n.branch),n.recurseSubmodules&&c.push("--recurse-submodules");let u=On({ptyExec:e.ptyExec,cmd:"git",args:["clone",...c,n.url,"."],cwd:r,env:a,output:ot(i,pe.Info)}),l=n.fullClone?u:(async()=>(await u,await On({ptyExec:e.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:r,env:a,output:o}),On({ptyExec:e.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:r,env:a,output:o})))();return{gitClone:u,gitUnshallow:l}}var vi=B(require("stream"));async function i0(t,e){let{stdout:r}=await t.exec(`cat /proc/${e}/environ`,{logOutput:!1});return r.split("\0").map(n=>{let i=n.indexOf("=");return i!==-1?[n.slice(0,i),n.slice(i+1)]:[]}).reduce((n,[i,o])=>(i&&(n[i]=o),n),{})}async function Vm(t){let e='for pid in `cd /proc && ls -d [0-9]*`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "\n" " " ; echo ; xargs -0 < /proc/$pid/environ ; xargs -0 < /proc/$pid/cmdline ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null',{stdout:r}=await t.exec(e,{logOutput:!1}),n=6,i=r.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,u,l,d,f])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(l)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:u,cmd:f,env:d.split(" ").reduce((h,m)=>{let g=m.indexOf("=");return g!==-1&&(h[m.substr(0,g)]=m.substr(g+1)),h},{})}}),mntNS:o}}function o0(t){let e={};return t.forEach(r=>e[r.pid]={process:r,childProcesses:[]}),t.filter(r=>r.ppid).forEach(r=>{var n;return(n=e[r.ppid])==null?void 0:n.childProcesses.push(e[r.pid])}),e}function Gm(t,e="  ",r="  "){return`${r}${t.process.pid}: ${t.process.cmd}
${t.childProcesses.map(n=>Gm(n,e,r+e))}`}var eB=nT(),Ss=aT(),og=uT();async function td(t,e){var y,C,_,E;let{output:r}=t,n="Launching Remote-Containers helper.",i=r.start(n);if(qm)return r.stop(n,i),{remoteEnv:{},ready:Promise.resolve()};let s=(await(0,fT.promisify)(lT.randomBytes)(20)).toString("hex"),a={},c=sB(t.cliHost),u=c?gi.posix.join(((y=e.env)==null?void 0:y.TMPDIR)||"/tmp",`vscode-ssh-auth-${s}.sock`):void 0;c?a[u]=c:r.write("SSH_AUTH_SOCK not set on host.");let l=await QS(t,e.shellServer);l&&(a[l.remoteGpgSocket]=l.localGpgSocket);let d=gi.posix.join(((C=e.env)==null?void 0:C.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${s}.sock`),f=gi.posix.join(((_=e.env)==null?void 0:_.TMPDIR)||"/tmp",`vscode-remote-containers-server-${s}.js`),p=gi.posix.join(((E=e.env)==null?void 0:E.TMPDIR)||"/tmp",`vscode-remote-containers-${s}.js`),h=tB(t,e,f,p,a,d),m=h.then(w=>w.ready),g=h.then(w=>w.mrpcExec),v=h.then(w=>w.mrpcExecToEnd);return m.catch(console.error),t.onAdoptProcess(w=>aB(e.shellServer,d,u,w).catch(console.error)),r.stop(n,i),{remoteContainersCLI:p,remoteEnv:u?{SSH_AUTH_SOCK:u,REMOTE_CONTAINERS_IPC:d}:{REMOTE_CONTAINERS_IPC:d},mrpcExec:g,mrpcExecToEnd:v,ready:m}}async function tB(t,{remoteExec:e,nodeExecutable:r,shellServer:n},i,o,s,a){let{cliHost:c,output:u}=t,l=Object.keys(s),d=ne(U({},l.reduce((x,R)=>(x[R]="duplex",x),{})),{rpc:"async",ready:"async"}),f={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",execToEnd:"async"},p={REMOTE_CONTAINERS_SOCKETS:JSON.stringify(l),REMOTE_CONTAINERS_IPC:a},h=Pe(gi.join(t.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),m=Pe(gi.join(t.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),g=`EOF-${o}`;await n.exec(`cat <<'${g}' >${o}
${await h}
${g}
`);let v=[],y=`EOF-${i}`;await n.exec(`cat <<'${y}' >${i}
${await m}
${y}
`),v.push(i);let C=await e({env:p,cmd:r,args:v,output:u}),_=new pT.StringDecoder;C.stderr.on("data",x=>{let R=_.write(x).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();R&&u.write(be(`Remote-Containers server: ${R}`))}),C.exit.then(({code:x,signal:R})=>{u.write(`Remote-Containers server terminated (code: ${x}, signal: ${R}).`)},x=>{u.write(be(`Remote-Containers did not launch: ${x&&(x.stack||x.message)||String(x)}`))});let E,w=new Promise(x=>E=x),b=eB(f,d)(ne(U({},l.reduce((x,R)=>{let k=s[R];return x[R]=()=>iB(t,k),x},{})),{rpc:async(x,R)=>{try{let k=JSON.parse(x),q=await ZS(c,k.command,k.stdin);R(void 0,JSON.stringify(q))}catch(k){console.error(k),R(k)}},ready:x=>{E(),x()}}));return(0,dT.default)(Ss.source(C.stdout),b.createStream(),Ss.sink(C.stdin)),{ready:w,mrpcExec:rB(b),mrpcExecToEnd:nB(b)}}function rB(t){return async e=>{let{cmd:r,args:n,cwd:i,env:o,output:s}=e,a=`Run in container: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),u=await new Promise((l,d)=>{t.exec({cmd:r,args:n,cwd:i,env:o},(f,p)=>{f?d(f):l(p)})});return{stdin:og.sink(t.stdin(u,l=>{l&&l.message!=="unexpected end of parent stream"&&console.error(l)})),stdout:og.source(t.stdout(u)),stderr:og.source(t.stderr(u)),exit:new Promise((l,d)=>{t.exit(u,(f,p)=>{s.stop(a,c),f?d(f):l(p)})}),terminate:async()=>new Promise((l,d)=>{t.terminate(u,f=>{f?d(f):l()})})}}}function nB(t){return async e=>{let{cmd:r,args:n,cwd:i,env:o,output:s}=e,a=`Run in container: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a);return new Promise((u,l)=>{t.execToEnd({cmd:r,args:n,cwd:i,env:o},(d,f)=>{if(s.stop(a,c),d||!f)l({stdin:new vi.Writable,stdout:vi.Readable.from([]),stderr:vi.Readable.from([]),exit:Promise.reject(d),terminate:async()=>{}});else{let p=vi.Readable.from([Buffer.from(f.stdout.data)]),h=new Promise(v=>p.on("end",v)),m=vi.Readable.from([Buffer.from(f.stderr.data)]),g=new Promise(v=>m.on("end",v));u({stdin:new vi.Writable,stdout:p,stderr:m,exit:Promise.all([h,g]).then(()=>({code:f.code,signal:f.signal})),terminate:async()=>{}})}})})}}function iB(t,e){let{cliHost:r}=t;if(r.type!=="local")return oB(t,e);if(r.platform!=="win32"||e.startsWith("\\\\.\\pipe\\"))return Ss.duplex(ed.connect(e));let n=new ed.Socket;return(async()=>{let i=await r.readFile(e),o=i.indexOf(10),s=parseInt(i.slice(0,o).toString(),10),a=i.slice(o+1);n.connect(s,"127.0.0.1",()=>{n.write(a,c=>{c&&(console.error(c),n.destroy())})})})().catch(i=>{console.error(i),n.destroy()}),Ss.duplex(n)}function oB({cliHost:t,fireEvent:e,output:r},n){let i=t.exec({cmd:"socat",args:["-",`UNIX-CONNECT:${n}`],output:r});i.then(u=>u.exit.then(({code:l,signal:d})=>{(l||d)&&(r.write(be(`socat terminated (code: ${l}, signal: ${d}).`)),l===127&&e({type:"socatNotFound"}))})).catch(u=>{r.write(be(`socat did not launch: ${u&&(u.stack||u.message)||String(u)}`))});let o=i.then(u=>Ss.sink(u.stdin)),s=i.then(u=>Ss.source(u.stdout));return{sink:u=>{o.then(l=>l(u))},source:(u,l)=>{s.then(d=>d(u,l))}}}var sg="\\\\.\\pipe\\openssh-ssh-agent";function sB(t){if(t.env.SSH_AUTH_SOCK)return t.env.SSH_AUTH_SOCK;if(t.platform==="win32")return sg}var rd=new Set;async function aB(t,e,r,n){let i=await n.processId;if(i&&i>0){let o=await i0(t,i),s=o.REMOTE_CONTAINERS_IPC;s&&s!==e&&!rd.has(s)&&s.indexOf("vscode-remote-containers-ipc")!==-1&&(rd.add(s),await t.exec(`rm '${s}' && ln -s '${e}' '${s}'`));let a=o.SSH_AUTH_SOCK;a&&r&&a!==r&&!rd.has(a)&&a.indexOf("vscode-ssh-auth")!==-1&&(rd.add(a),await t.exec(`rm '${a}' && ln -s '${r}' '${a}'`))}}var xT=B(require("net")),AT=B(IT());async function RT({forwardedPorts:t,output:e,getLogLevel:r},n,i,o){e.write(`Port forwarding for container port ${i} starts listening on local port.`,pe.Debug);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,c)=>{let u=new Set,l=xT.createServer({pauseOnConnect:!0},d=>{let f=d.remotePort,p=l.address().port;e.write(`Port forwarding connection from ${f} > ${p} > ${i} in the container.`),r()===pe.Trace&&(async()=>{let h=await(0,AT.default)("port",f);e.write(`Port forwarding process for ${f} > ${p} > ${i} in the container:
${JSON.stringify(h,void 0,"  ")}`)})().catch(console.error),mB(e,n,[n.nodeExecutable,"-e",`
				const net = require('net');
				process.stdin.pause();
				const client = net.createConnection({ port: ${i} }, () => {
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
			`],s).then(h=>{let m=!1;h.exit.then(({code:g,signal:v})=>{m||(u.delete(d),d.end()),e.write(`Port forwarding ${f} > ${p} > ${i} terminated${m?" by extension":""} with code ${g} and signal ${v}.`)}),h.stderr.on("data",g=>{e.write(`Port forwarding ${f} > ${p} > ${i} stderr: ${g.toString("utf8")}`,pe.Debug)}),d.on("close",g=>{e.write(`Port forwarding ${f} > ${p} > ${i}: Local close${g?" with error":""}`,pe.Debug),m=!0,u.delete(d),h.terminate().catch(console.error)}),h.stdout.pipe(d),d.pipe(h.stdin),u.add(d)}).catch(console.error)});l.on("listening",()=>{let d={targetPort:i,server:l,connections:u};l.on("close",()=>{t.delete(d)}),t.add(d),e.write(`Port forwarding local port ${l.address().port} to container port ${i}`),a(l)}),l.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){l.listen(0,"127.0.0.1");return}c(d)}),l.on("close",()=>{c(new Error("Closed"))}),l.listen(i,"127.0.0.1")})}async function mB(t,e,r,n){return e.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:t})}var kT=B(require("events"));var fg=class{constructor(){this.nodeEmitter=new kT.EventEmitter;this.event=e=>{let r=n=>n.results.push(e(n.data));return this.nodeEmitter.on("event",r),{dispose:()=>{this.nodeEmitter.off("event",r)}}}}fire(e){let r=[];return this.nodeEmitter.emit("event",{data:e,results:r}),r}dispose(){this.nodeEmitter.removeAllListeners()}};var Ps=B(require("path"));function Ts(t,e){let r,n=t.platform==="win32",i=ne(U({},t),{get env(){return r||(r=OT(n,t.env))}}),o=yB.bind(void 0,n,i);return t.containerWorkspaceFolder&&(i.containerWorkspaceFolder=NT(o,t.containerWorkspaceFolder)),od(o,e)}function DT(t,e,r,n){let i=t==="win32";return od(_B.bind(void 0,i,e,OT(i,r)),n)}function od(t,e){if(typeof e=="string")return NT(t,e);if(Array.isArray(e))return e.map(r=>od(t,r));if(e&&typeof e=="object"){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n]=od(t,e[n])}),r}return e}var gB=/\$\{(.*?)\}/g;function OT(t,e){if(t){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n.toLowerCase()]=e[n]}),r}return e}function NT(t,e){return e.replace(gB,vB.bind(void 0,t))}function vB(t,e,r){let n,i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),t(e,r,n)}function yB(t,e,r,n,i){switch(n){case"env":case"localEnv":return LT(t,e.env,i,r,e.configFile);case"localWorkspaceFolder":return e.localWorkspaceFolder!==void 0?e.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return e.localWorkspaceFolder!==void 0?(t?Ps.win32:Ps.posix).basename(e.localWorkspaceFolder):r;case"containerWorkspaceFolder":return e.containerWorkspaceFolder!==void 0?e.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return e.containerWorkspaceFolder!==void 0?Ps.posix.basename(e.containerWorkspaceFolder):r;default:return r}}function _B(t,e,r,n,i,o){switch(i){case"containerEnv":return LT(t,r,o,n,e);default:return n}}function LT(t,e,r,n,i){if(r){t&&(r=r.toLowerCase());let o=e[r];return typeof o=="string"?o:""}throw new ie({description:`'${n}'${i?` in ${Ps.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function vo(t){return new Promise(e=>setTimeout(e,t))}var pg=B(require("path"));var CB=B(require("http")),wB=B(require("https"));function FT(t){return new Promise((e,r)=>{(t.startsWith("https:")?wB:CB).get(t,o=>{if(o.statusCode<200||o.statusCode>299)r(new Error(`HTTP ${o.statusCode}: ${o.statusMessage}`));else{o.on("error",r);let s=[];o.on("data",a=>s.push(a)),o.on("end",()=>e(Buffer.concat(s)))}}).on("error",r)})}async function hg(t){let e=await Pe(pg.join(t,"package.json"),"utf8");return JSON.parse(e)}async function mg(t){let e=await Pe(pg.join(t,"product.json"),"utf8"),r=JSON.parse(e);return r.commit||(r.commit=await EB(r.quality)),r.serverDataFolderName||(r.serverDataFolderName=".vscode-server-oss"),r}async function EB(t="insider"){let e=`https://update.code.visualstudio.com/api/update/server-linux-x64/${t}/latest`,r=await FT(e);return JSON.parse(r.toString()).version}var _i=0,$T=/Extension host agent listening on (\d+)/,UT="d9c064ed-ec74-42ab-b759-c9578d277ba2",tt;(function(a){a[a.Begin=0]="Begin",a[a.CloningRepository=1]="CloningRepository",a[a.BuildingImage=2]="BuildingImage",a[a.StartingContainer=3]="StartingContainer",a[a.InstallingServer=4]="InstallingServer",a[a.StartingServer=5]="StartingServer",a[a.End=6]="End"})(tt||(tt={}));var HT="updateContentCommand";async function cd(t){let{params:e,startedAt:r,sharedDataFolder:n,sharedDataFolderIsLocalCacheFolder:i,remoteWorkspaceFolder:o,containerUser:s,containerEnv:a,remoteExec:c,remotePtyExec:u,remoteExecAsRoot:l,rootShellServer:d}=t,f;d&&s==="root"?f=d:f=await fo(c,e.output,e.sessionId),s||(s=await bB(f)),!l&&s==="root"&&(l=c);let p=await zB(f),h=await PB(f,s);h||e.output.write(eh(`User ${s} not found in /etc/passwd.`));let m=await SB(a,h),g=await BT(a,h),v=await xB(g,e.product),{commit:y,quality:C}=e.product,_=y&&await TB(v,y,C||"insider",e.web),E=WB(p,C==="stable"),w=y&&n&&await VT(le.posix,n,E,y,C||"insider",e.web),b=_&&await AB(_),x;d?x=Promise.resolve(d):s==="root"&&(x=Promise.resolve(f));let R={startedAt:r,osRelease:p,arch:E,user:s,gid:h&&h.gid,env:a,shell:m,homeFolder:g,userDataFolder:v,sharedDataFolderIsLocalCacheFolder:i,sharedDataFolder:n,installFolder:_,sharedInstallFolder:w,remoteWorkspaceFolder:o,nodeExecutable:b,remoteExec:c,remotePtyExec:u,remoteExecAsRoot:l,shellServer:f};return(x||l)&&(R.launchRootShellServer=()=>x||(x=fo(l,e.output))),R}async function bB(t){return(await t.exec("id -un")).stdout.trim()}async function BT(t,e){return t.HOME||e&&e.home||"/root"}async function SB(t,e){return t.SHELL||e&&e.shell||"/bin/sh"}async function PB(t,e){let{stdout:r}=await t.exec("cat /etc/passwd",{logOutput:!1});return jl(r,e)}function jl(t,e){return t.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===e||n.uid===e)}async function TB(t,e,r,n){return le.posix.join(t,"bin",`${e}${r==="stable"?"":`-${r}`}${n?"-web":""}`)}async function VT(t,e,r,n,i,o){return t.join(e,"bin",r.id,`${n}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function GT(t){return le.posix.join(t.userDataFolder,"extensions")}function po(t){return le.posix.join(t.userDataFolder,"data/Machine")}function ud(t){return le.posix.join(t.userDataFolder,"data/Machine/settings.json")}function IB(t){return le.posix.join(t,".vscode-remote")}async function xB(t,e){return le.posix.join(t,e.serverDataFolderName)}function WT(t){return le.posix.join("/var",/^\.*(.*)$/.exec(t.serverDataFolderName)[1])}async function AB(t){return le.posix.join(t,"node")}async function Ci(t,e,r,n,i,o=_i){var v;await RB(t,e),await rV(t,e),await nV(t,e);let s=await kB(t,e,r,n),{serverDownloaded:a}=await FB(t,e),c,u,l=Promise.resolve(),d;if(!t.cliMode&&e.nodeExecutable){let y=await td(t,e);c=y.remoteContainersCLI,u=y.remoteEnv,l=y.ready,d=y.mrpcExec}let p=t.computeExtensionHostEnv||e.installFolder&&t.cliMode||t.postCreate.enabled?iV(t,e,r,d).then(y=>U(U(U(U({},y),u),t.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?DT(t.cliHost.platform,r.configFilePath,e.env,r.remoteEnv):{})):Promise.resolve({}),h=(v=s["remote.containers.gitCredentialHelperConfigLocation"])!=null?v:t.credentialHelperConfigLocation;!t.cliMode&&e.nodeExecutable&&(await dd(t,e,[".ssh","known_hosts"],"ssh"),h!=="none"&&await ld(e,c,t.output,"system"));let m,g;if(e.installFolder){let y=Array.from(new Set([...r.extensions||[],...(n==null?void 0:n.features.filter(E=>E.included&&E.value).reduce((E,w)=>E.concat(w.extensions||[]),[]))||[]])),C=await qB(t,e,y),_=await JB(t,e,o,d,C,p);m=_,t.forwardServerPort&&e.nodeExecutable&&(g=await RT(t,e,_,t.sessionId),m=g.address().port,await eV(t,e,r))}if(t.postCreate.enabled){let y,C=!1,_=new Promise(w=>y=()=>{C=!0,w()}),E=(async()=>{var w;if((r.waitFor||HT)==="initializeCommand"&&y(),!(t.postCreate.skipNonBlocking&&C)&&(await wg(t,e,r,"onCreateCommand",p,l,i,!1,y),!(t.postCreate.skipNonBlocking&&C)&&(await wg(t,e,r,"updateContentCommand",p,l,i,!!t.prebuild,y),!(t.postCreate.skipNonBlocking&&C)))){if(!t.prebuild){if(await wg(t,e,r,"postCreateCommand",p,l,i,!1,y),t.postCreate.skipNonBlocking&&C||(await qb(t,e,p,l,s),!t.cliMode&&e.nodeExecutable&&(((w=s["remote.containers.copyGitConfig"])!=null?w:t.isCopyGitConfigEnabled)&&(await dd(t,e,[".gitconfig"],"git"),await NB(t,e,p)),await ld(e,c,t.output,h)),await KB(t,e,r,p,l,i,y),t.postCreate.skipNonBlocking&&C))return;await XB(t,e,r,p,l,i,y)}t.postCreate.done()}})();t.backgroundTasks.push(E),await Promise.race([_,E])}return{hostOrContainerPort:m,hostPortServer:g,remoteEnv:t.computeExtensionHostEnv?await p:{},serverDownloaded:a}}async function RB(t,e){let r=IB(e.homeFolder);!await pd(e.shellServer,e.userDataFolder)&&await pd(e.shellServer,r)&&await Ln(t,e,["/bin/sh","-c",`cp -r '${r}' '${e.userDataFolder}'`])}async function kB(t,e,r,n){let i=po(e),o=le.posix.join(i,".writeMachineSettingsMarker"),s=ud(e);if(await sc(e.shellServer,o)){let a=Object.assign({},...(n==null?void 0:n.features.filter(c=>c.included&&c.value&&c.settings).map(c=>c.settings))||[],r.settings);if(DB(a,r.portsAttributes),OB(a,r.otherPortsAttributes),Object.keys(a).length)return await e.shellServer.exec(`mkdir -p '${le.posix.dirname(s)}' && cat >'${s}' <<'settingsJSON'
${JSON.stringify(a,null,"	")}
settingsJSON
`),a}try{let{stdout:a}=await e.shellServer.exec(`cat ${s}`);return je(a)||{}}catch{return{}}}function DB(t,e){if(!t||!e)return;let r="remote.portsAttributes";if(!t[r]){t[r]=e;return}for(let n in e)t[r][n]||(t[r][n]=e[n])}function OB(t,e){if(!t||!e)return;let r="remote.otherPortsAttributes";t[r]||(t[r]=e)}async function vg(t,e,r,n){let i=typeof t.gid=="string"?`${t.user}:${t.gid}`:t.user,o=await e();(await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"?(await o.exec(`chown ${i} ${le.posix.dirname(r)}`),await o.exec(`chown -R ${i} ${r}`)):n&&(await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"&&await o.exec(`chown -R ${i} ${le.posix.dirname(n)}`)}async function ld(t,e,r,n){if(e&&n!=="none"){let i=n==="system"?t.launchRootShellServer&&await t.launchRootShellServer():t.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${n} credential.helper '!f() { ${t.nodeExecutable} ${e} $*; }; f' || true`):r.write("Cannot configure system wide Git credential helper without root access.")}}async function dd(t,e,r,n){let{cliHost:i}=t,o=i.path.join(await i.homedir(),...r),s=le.posix.join(e.homeFolder,...r);await ec(t,e,o,s,n)}async function NB(t,e,r){let{cliHost:n}=t,{env:i}=n,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await n.homedir(),".config"],a=n.path.join(...s,...o),c=(async()=>{let u=U(U({},e.env),await r),l=u.XDG_CONFIG_HOME?[u.XDG_CONFIG_HOME]:[e.homeFolder,".config"];return le.posix.join(...l,...o)})();await ec(t,e,a,c,"git")}async function ec(t,e,r,n,i){let o=await LB(t.cliHost,r);if(o)try{let s=await n;await e.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${le.posix.dirname(s)}`),await e.shellServer.exec(`# Copy ${r} to ${s}
${ac(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function LB(t,e){try{return await t.readFile(e)}catch(r){if(r&&(r.code==="ENOENT"||r.code==="EISDIR"))return;throw r}}async function FB(t,e){let{commit:r}=t.product,{installFolder:n,shellServer:i,launchRootShellServer:o,arch:s}=e;if(!(r&&n))return{serverDownloaded:void 0};MB(e.osRelease,s),s.preview&&t.output.write(`\r
[1mSupport for ${s.label} is in preview.[22m\r
\r
`);let a=await pd(i,n),c;a||s.id==="alpine"&&(o?c=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):c=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let u=e.sharedInstallFolder;if(u&&await pd(i,u))return a||await i.exec(`mkdir -p '${le.posix.dirname(n)}' && ln -s '${u}' '${n}'`),o&&(async()=>{await(await o()).exec(`touch '${u}'`)})().catch(console.error),await c,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};t.progress(4),t.output.write(`Installing VS Code Server for commit ${r}\r
`);let l=!!(u&&o),d=l?u:n,f=l?await o():i,p={localCacheFolder:t.localCacheFolder,arch:s,commit:r,quality:t.product.quality||"insider",web:t.web,output:t.output},h=yg(p),m=await it(h);m||await zT(p);try{e.sharedDataFolderIsLocalCacheFolder?await YT(p):await KT(t,f,h,d)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await zT(p),e.sharedDataFolderIsLocalCacheFolder?await YT(p):await KT(t,f,h,d);else throw g}return l&&(await i.exec(`mkdir -p '${le.posix.dirname(n)}' && ln -s '${u}' '${n}'`),(async()=>{await f.exec(`cd '${le.posix.dirname(u)}' && ls -t | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await c,{serverDownloaded:!m}}function MB(t,e){let r=t.version;if(e.minVersion&&r){let n=_s(r.trim());if(n&&Cs(n,e.minVersion)){let i=`${e.label} ${e.minVersion.join(".")} or later required.`;throw new ie({description:i,data:{reload:!1}})}}}async function zT(t){let{arch:e,commit:r,quality:n,web:i,output:o}=t,s="Downloading VS Code Server",a=o.start(s);o.write(`${r} ${e.id} ${n} ${i?"web":""}`);let c=yg(t);await Br(le.dirname(c));try{let u=`${c}_${Date.now()}`;await new Promise((l,d)=>{let f=sd.createWriteStream(u),p=`https://update.code.visualstudio.com/commit:${r}/server-linux-${e.id}${i?"-web":""}/${n}`;MT.https.get(p,m=>{if(m.statusCode<200||m.statusCode>299){d(new ie({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${p}): HTTP ${m.statusCode} - ${m.statusMessage}`}));return}m.on("error",d),m.pipe(f),m.on("end",l)}).on("error",d)}),await Go(u,c)}catch(u){throw u||new Error("Failed to download VS Code Server")}finally{o.stop(s,a)}}async function KT(t,e,r,n){let i="Installing VS Code Server",o=t.output.start(i);try{let s=`${n}_${Date.now()}`;await e.exec(`mkdir -p ${s}`);let a=await Pe(r);await e.exec(`${ac(a.byteLength)} | tar --no-same-owner -xz --strip-components 1 -C ${s}`,{stdin:a}),await e.exec(`mv -n ${le.posix.join(s,".")} ${n}`)}finally{t.output.stop(i,o)}}async function YT(t){let{localCacheFolder:e,arch:r,commit:n,quality:i,web:o,output:s}=t,a="Unpacking VS Code Server",c=s.start(a);s.write(`${n} ${r.id} ${i} ${o?"web":""}`);try{let u=await VT(le,e,r,n,i,o),l=`${u}_${Date.now()}`;await Br(l);let d=yg(t);await(await Ka(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",d,"--strip-components","1","-C",l],cwd:process.cwd(),output:s})).exit,await Qp(u,{recursive:!0}),await Go(l,u)}finally{s.stop(a,c)}}function yg(t){let{localCacheFolder:e,arch:r,commit:n,quality:i,web:o}=t,s=le.join(e,"serverCache",n),a=`vscode-server-linux-${r.id}${i==="stable"?"":`-${i}`}${o?"-web":""}.tar.gz`;return le.join(s,a)}async function XT(t,e){let r={VSCODE_AGENT_FOLDER:e.userDataFolder},{stdout:n}=await Ln(t,e,[le.posix.join(e.installFolder,"server.sh"),...JT(t.telemetry),"--list-extensions"],e.installFolder,{remoteEnv:r});return n.toString().split(`
`).filter(i=>!!i)}async function qB(t,e,r){let n="Preparing Extensions",i=t.output.start(n),{sharedDataFolder:o}=e,s=o?VB(o):void 0,a=QT(e),c=await jB(t,e,r);if(e.sharedDataFolderIsLocalCacheFolder)e.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),e.launchRootShellServer&&(await e.launchRootShellServer()).exec(`chown -R ${e.user} ${s}`);else{let u=BB(t.localCacheFolder),l=await $B(t,e,u,s,a,[...c.builtinExtensions,...c.extensions]);UB(t,e,u,s,a,l).catch(console.error)}return t.output.stop(n,i),c}async function jB(t,e,r){let n=po(e),i=le.posix.join(n,".installExtensionsMarker"),o=!await sc(e.shellServer,i),s=o?[]:t.installBuiltinExtensions||[],a=await t.getExtensionsToInstall(o,r),c=[].concat(...s.map(u=>["--install-builtin-extension",u]),...a.map(u=>["--install-extension",u]));return t.cliMode&&c.length&&c.push("--do-not-sync"),{builtinExtensions:s,extensions:a,args:c}}async function $B(t,e,r,n,i,o){t.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=e,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(n){let c=(await s.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(l=>!!l),u=c.filter(l=>o.some(d=>l.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(l)===-1);if(t.output.write(`Extensions cache, link in container: ${u.join(", ")||"None"}`),u.length){await s.exec(`mkdir -p '${i}' && ln -s '${n}'/* '${i}' || true`);let{launchRootShellServer:l}=e;l&&(async()=>{await(await l()).exec(`cd ${n} && touch ${u.map(f=>`'${f}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await Br(r);let c=await yr(r),u=c.filter(l=>o.some(d=>l.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(l)===-1);if(t.output.write(`Extensions cache, copy to remote: ${u.join(", ")||"None"}`),u.length){let l=le.basename(r),d=ad.c({cwd:le.dirname(r)},u.map(h=>le.join(l,h))),f=le.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(h=>{let m=[];d.on("data",g=>m.push(g)),d.on("end",()=>h(Buffer.concat(m)))});await s.exec(`# Copy extensions to remote
mkdir -p ${f}
${ac(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${f}
mv ${f}/* ${i} && rmdir ${f}`,{stdin:p})}return{remoteExtensions:a.concat(u),cachedExtensions:c}}}async function UB(t,e,r,n,i,o){if(n&&!e.launchRootShellServer)return;let s=1e4,a=6e4;for(await vo(s);;)o=await HB(t,e,r,n,i,o),await vo(a)}async function HB(t,e,r,n,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:u}=e,l=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(f=>!!f);if(!n){let f=o.filter(p=>l.indexOf(p)===-1);t.output.write(`Extensions cache, remote removals: ${f.join(", ")||"None"}`);for(let p of f)try{await Q_(le.join(r,p))}catch(h){if(!(h&&h.code==="ENOENT"))throw h}}let d=l.filter(f=>o.indexOf(f)===-1&&s.indexOf(f)===-1);if(t.output.write(`Extensions cache, copy to ${n?"shared cache":"local"}: ${d.join(", ")||"None"}`,pe.Trace),d.length)if(n){let f=await c();await f.exec(`mkdir -p '${n}' && cd '${i}' && cp ${d.map(p=>`'${p}'`).join(" ")} '${n}'`),await f.exec(`cd '${n}' && ls -t | tail -n +50 | xargs rm -f`)}else{let f=le.posix.basename(i),p=await u({cmd:"tar",cwd:le.posix.dirname(i),args:["c",...d.map(v=>le.posix.join(f,v))],output:t.output}),h=le.join(le.dirname(r),`${le.basename(r)}-${Date.now()}`);await Br(h);let m=ad.x({cwd:h,strip:1}),g=new Promise((v,y)=>{m.on("error",y),m.on("finish",v)});p.stdout.pipe(m),await g;for(let v of await yr(h))await Go(le.join(h,v),le.join(r,v));await Qp(h)}return{remoteExtensions:l,cachedExtensions:s}}var _g="extensionsCache";function BB(t){return le.join(t,_g)}function VB(t){return le.posix.join(t,_g)}function QT(t){return le.posix.join(t.userDataFolder,_g)}var Cg={x64:{label:"x86-64",id:"x64",stable:!0,preview:!1},alpine:{label:"Alpine Linux",id:"alpine",stable:!0,preview:!0,minVersion:[3,9]},armhf:{label:"ARM",id:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"arm64",stable:!0,preview:!0}},GB={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function WB(t,e){if(t.id==="alpine"){if(t.hardware!=="x86_64")throw new ie({description:`${Cg.alpine.label} is not supported on the hardware architecture '${t.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return Cg.alpine}let r=Cg[GB[t.hardware]];if(!r||e&&!r.stable)throw new ie({description:`The hardware architecture '${t.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function zB(t){let e="unknown",r="unknown",n="unknown";try{e=(await t.exec("uname -m")).stdout.trim();let{stdout:i}=await t.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:e,id:r,version:n}}async function wg(t,e,r,n,i,o,s,a,c){let u=le.posix.join(po(e),`.${n}Marker`),l=await sc(e.shellServer,u)||a;await Eg(t,e,r,n,i,o,s,l,c)}async function KB(t,e,r,n,i,o,s){let a=le.posix.join(po(e),".postStartCommandMarker"),c=!!e.startedAt&&await YB(e.shellServer,a,e.startedAt);await Eg(t,e,r,"postStartCommand",n,i,o,c,s)}async function YB(t,e,r){try{return await t.exec(`mkdir -p '${le.posix.dirname(e)}' && [ "$(cat '${e}' 2>/dev/null)" != '${r}' ] && echo '${r}' > '${e}'`),!0}catch(n){return!1}}async function XB(t,e,r,n,i,o,s){await Eg(t,e,r,"postAttachCommand",n,i,o,!0,s)}async function Eg({postCreate:t},e,r,n,i,o,s,a,c){let u=r[n];if(a&&u&&(typeof u=="string"?u.trim():u.length)){await o,s&&await s();let l=`Running ${n}...`,d=typeof u=="string"?u:u.join(" "),f=ot({event(p){t.output.event(p),p.type==="raw"&&p.text.includes("::endstep::")&&t.output.event({type:"progress",name:l,status:"running",stepDetail:""}),p.type==="raw"&&p.text.includes("::step::")&&t.output.event({type:"progress",name:l,status:"running",stepDetail:`${p.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return t.output.dimensions},onDidChangeDimensions:t.output.onDidChangeDimensions},pe.Info);try{f.event({type:"progress",name:l,status:"running",stepDetail:d});let p=e.remoteWorkspaceFolder||e.homeFolder;f.raw(`[1mRunning the ${n} from devcontainer.json...[0m\r
\r
`),await tV(ne(U({},t),{output:f}),e,typeof u=="string"?["/bin/sh","-c",u]:u,p,{remoteEnv:await i,print:"continuous"}),f.raw(`\r
`),f.event({type:"progress",name:l,status:"succeeded"})}catch(p){if(f.event({type:"progress",name:l,status:"failed"}),p&&(p.code===130||p.signal===2))f.raw(`\r
[1m${n} interrupted.[0m\r
\r
`);else throw new ie({description:`The ${n} in the devcontainer.json failed.`,originalError:p})}}n===(r.waitFor||HT)&&c()}async function fd(t,e){try{return await t.exec(`test -f ${e}`),!0}catch(r){return!1}}async function sc(t,e){try{return await t.exec(Al(e)),!0}catch(r){return!1}}function Al(t){return`test ! -f '${t}' && set -o noclobber && mkdir -p '${le.posix.dirname(t)}' && { > '${t}' ; } 2> /dev/null`}async function pd(t,e){try{return await QB(t,e),!0}catch(r){return!1}}async function QB(t,e){return t.exec(`test -d ${e}`)}async function JB(t,e,r,n,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:c,shellServer:u}=e,{processes:l,mntNS:d}=await Vm(u),f=new RegExp(`${le.posix.join(le.posix.dirname(a).replace(".","\\."),"[^/]*","server.sh")}`),p=l.filter(R=>R.mntNS===d&&f.test(R.cmd)),{current:h,others:m}=p.reduce((R,k)=>(R[(k.cwd===a||k.cwd===c)&&f.test(k.cmd)?"current":"others"].push(k),R),{current:[],others:[]});if(!t.cliMode&&m.length){t.output.write(`Terminating old extension host agent.\r
`);try{await u.exec(`kill -9 ${m.map(R=>R.pgrp?`-${R.pgrp}`:R.pid).join(" ")}`)}catch(R){}}let{commit:g,quality:v}=t.product,y=le.posix.join(po(e),`.devport-${g}${v==="stable"?"":`-${v}`}${t.web?"-web":""}`);if(h.length){t.output.write(`Extension host agent is already running.\r
`);try{let{stdout:R}=await u.exec(`cat '${y}' 2>/dev/null`),k=R.toString().trim();return parseInt(k,10)}catch(R){console.error(R),t.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await u.exec(`kill -9 ${h.map(k=>k.pgrp?`-${k.pgrp}`:k.pid).join(" ")}`)}catch(k){}}}t.progress(5);let C="Starting VS Code Server",_=t.output.start(C),E=[le.posix.join(a,"server.sh"),"--log",rC(t.getLogLevel()),"--force-disable-user-env",...ZB(t),...JT(t.telemetry),"--port",String(r),...t.connectionToken?["--connectionToken",t.connectionToken]:[],"--extensions-download-dir",QT(e),...i.args,"--start-server",...t.isLocalContainer?["--disable-websocket-compression"]:[""],...t.cliMode?["--enable-remote-auto-shutdown"]:[]],b=(await Ln(t,{remoteExec:await n||e.remoteExec},E,a,{remoteEnv:U({SHELL:e.shell,VSCODE_AGENT_FOLDER:s},t.cliMode?await o:{}),resolveOn:$T,print:"continuous"})).cmdOutput;t.output.stop(C,_);let x=($T.exec(b)||[])[1];if(!x)throw new Error("Port not found");return await u.exec(`echo ${x} >'${y}'`),parseInt(x,10)}function ZB(t){return t.isLocalContainer?["--use-host-proxy"]:[]}function JT(t){return t?[]:["--disable-telemetry"]}async function eV(t,e,r){let n=await t.getTunnels();await Promise.all((r.forwardPorts||[]).filter(i=>!n.find(o=>o.remoteAddress.port===i)).map(i=>t.openTunnel(e,i)))}async function tV(t,{remotePtyExec:e},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?Ye:t.output}),a="",c,u=new Promise(f=>{c=f});s.onData(f=>{a+=f,o==="continuous"&&t.output.raw(f),i.resolveOn&&i.resolveOn.exec(a)&&c()});let l=t.onDidInput&&t.onDidInput(f=>s.write(f)),d=await Promise.race([s.exit,u]);return l&&l.dispose(),o==="end"&&t.output.raw(a),d&&(d.code||d.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:a,code:d.code,signal:d.signal}):{cmdOutput:a}}async function Ln(t,{remoteExec:e},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?Ye:t.output}),a=[],c=[],u=new gg.StringDecoder,l=new gg.StringDecoder,d="",f="",p,h,m=new Promise((_,E)=>{p=_,h=E});s.stdout.on("data",_=>{a.push(_);let E=u.write(_);o==="continuous"&&t.output.write(E.replace(/\r?\n/g,`\r
`)),d+=E,i.resolveOn&&i.resolveOn.exec(d)&&p()}),s.stderr.on("data",_=>{c.push(_),f+=l.write(_)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,_=>{_&&h(_)}),s.stdin.end()):i.stdin instanceof sd.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,m]),v=Buffer.concat(a),y=Buffer.concat(c);o==="end"&&(t.output.write(d.replace(/\r?\n/g,`\r
`)),t.output.write(be(f)));let C=`${d}
${f}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:C,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:C,stdout:v,stderr:y}}function ac(t){let e=8*1024,r=t%e,n=(t-r)/e;return`(dd iflag=fullblock bs=${e} count=${n} 2>/dev/null; dd iflag=fullblock bs=${r} count=1 2>/dev/null)`}async function rV(t,e){let r=le.posix.join(WT(t.product),".patchEtcEnvironmentMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await fd(e.shellServer,r)){let n=await e.launchRootShellServer();await sc(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(e.env).map(i=>`
${i}=${e.env[i]}`).join("")}
etcEnvrionmentEOF
`)}}async function nV(t,e){let r=le.posix.join(WT(t.product),".patchEtcProfileMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await fd(e.shellServer,r)){let n=await e.launchRootShellServer();await sc(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function iV(t,e,{userEnvProbe:r},n){if(t.output.write(`userEnvProbe: ${r||t.defaultUserEnvProbe}${r?"":" (default)"}`),r||(r=t.defaultUserEnvProbe),r==="none")return{};try{let o=(await(0,jT.promisify)(qT.randomBytes)(16)).toString("hex"),s=new RegExp(o+"(.*)"+o),a=e.shell;t.output.write(`userEnvProbe shell: ${a}`);let c=e.nodeExecutable,u=le.posix.basename(a),l,d;/^pwsh(-preview)?$/.test(u)?(l=`& '${c}' -p '''${o}'' + JSON.stringify(process.env) + ''${o}'''`,d=r==="loginInteractiveShell"||r==="loginShell"?["-Login","-Command"]:["-Command"]):(l=`'${c}' -p '"${o}" + JSON.stringify(process.env) + "${o}"'`,d=[r==="loginInteractiveShell"?"-lic":r==="loginShell"?"-lc":r==="interactiveShell"?"-ic":"-c"]);let f=ot(t.output,pe.Trace),p=Ln({output:f},{remoteExec:await n||e.remoteExec},[a,...d,l],e.installFolder);Promise.race([p,vo(2e3)]).then(async w=>{if(!w){let{processes:b}=await Vm(e.shellServer),x=b.find(R=>R.cmd.startsWith(a)&&R.cmd.indexOf(o)!==-1);if(x){let k=o0(b)[x.pid];t.output.write(`userEnvProbe taking longer than 2 seconds. Process tree:
${Gm(k)}`)}else t.output.write("userEnvProbe taking longer than 2 seconds. Process not found.")}},()=>{}).catch(w=>t.output.write(be(w&&(w.stack||w.message)||"Error reading process tree.")));let h=await Promise.race([p,vo(1e4)]);if(!h)return t.output.write(be("userEnvProbe taking longer than 10 seconds. Avoid waiting for user input in you shell's startup scripts. Continuing.")),{};let m=h.stdout.toString(),g=s.exec(m),v=g?g[1]:"{}",y=JSON.parse(v);t.output.write(`userEnvProbe parsed: ${JSON.stringify(y,void 0,"  ")}`,pe.Trace);let C=y.PATH,_=e.env.PATH,E=!(t.allowSystemConfigChange&&e.launchRootShellServer)&&C&&_;if(E){let w=e.user;y.PATH=oV(C,_,w==="root"||w==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof C=="string"?`'${C}'`:"None"}
Container: ${typeof _=="string"?`'${_}'`:"None"}${E?`
Merged:    ${typeof y.PATH=="string"?`'${y.PATH}'`:"None"}`:""}`),y}catch(i){return t.output.write(be(i&&(i.stack||i.message)||"Error reading shell environment.")),{}}}function oV(t,e,r){let n=t.split(":"),i=0;for(let o of e.split(":")){let s=n.indexOf(o);s===-1?(r||!/\/sbin(\/|$)/.test(o))&&n.splice(i++,0,o):i=s+1}return n.join(":")}async function ZT(t){for(let e of t)await(typeof e=="function"?e():e)}var VI=B(require("crypto")),pc=B(require("path"));function eI(t){return typeof t=="undefined"||t===null}function sV(t){return typeof t=="object"&&t!==null}function aV(t){return Array.isArray(t)?t:eI(t)?[]:[t]}function cV(t,e){var r,n,i,o;if(e)for(o=Object.keys(e),r=0,n=o.length;r<n;r+=1)i=o[r],t[i]=e[i];return t}function uV(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function lV(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var dV=eI,fV=sV,pV=aV,hV=uV,mV=lV,gV=cV,pt={isNothing:dV,isObject:fV,toArray:pV,repeat:hV,isNegativeZero:mV,extend:gV};function tI(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function cc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=tI(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}cc.prototype=Object.create(Error.prototype);cc.prototype.constructor=cc;cc.prototype.toString=function(e){return this.name+": "+tI(this,e)};var Jt=cc;function bg(t,e,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-e>a&&(o=" ... ",e=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+t.slice(e,r).replace(/\t/g,"\u2192")+s,pos:n-e+o.length}}function Sg(t,e){return pt.repeat(" ",e-t.length)+t}function vV(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(t.buffer);)i.push(o.index),n.push(o.index+o[0].length),t.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,u,l=Math.min(t.line+e.linesAfter,i.length).toString().length,d=e.maxLength-(e.indent+l+3);for(c=1;c<=e.linesBefore&&!(s-c<0);c++)u=bg(t.buffer,n[s-c],i[s-c],t.position-(n[s]-n[s-c]),d),a=pt.repeat(" ",e.indent)+Sg((t.line-c+1).toString(),l)+" | "+u.str+`
`+a;for(u=bg(t.buffer,n[s],i[s],t.position,d),a+=pt.repeat(" ",e.indent)+Sg((t.line+1).toString(),l)+" | "+u.str+`
`,a+=pt.repeat("-",e.indent+l+3+u.pos)+`^
`,c=1;c<=e.linesAfter&&!(s+c>=i.length);c++)u=bg(t.buffer,n[s+c],i[s+c],t.position-(n[s]-n[s+c]),d),a+=pt.repeat(" ",e.indent)+Sg((t.line+c+1).toString(),l)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var yV=vV,_V=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],CV=["scalar","sequence","mapping"];function wV(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function EV(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(_V.indexOf(r)===-1)throw new Jt('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=wV(e.styleAliases||null),CV.indexOf(this.kind)===-1)throw new Jt('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Ot=EV;function rI(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function bV(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function Pg(t){return this.extend(t)}Pg.prototype.extend=function(e){var r=[],n=[];if(e instanceof Ot)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Jt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Ot))throw new Jt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Jt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Jt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Ot))throw new Jt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Pg.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=rI(i,"implicit"),i.compiledExplicit=rI(i,"explicit"),i.compiledTypeMap=bV(i.compiledImplicit,i.compiledExplicit),i};var SV=Pg,PV=new Ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),TV=new Ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),IV=new Ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),xV=new SV({explicit:[PV,TV,IV]});function AV(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function RV(){return null}function kV(t){return t===null}var DV=new Ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:AV,construct:RV,predicate:kV,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function OV(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function NV(t){return t==="true"||t==="True"||t==="TRUE"}function LV(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var FV=new Ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:OV,construct:NV,predicate:LV,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function MV(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function qV(t){return 48<=t&&t<=55}function jV(t){return 48<=t&&t<=57}function $V(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!MV(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!qV(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!jV(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function UV(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function HV(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1==0&&!pt.isNegativeZero(t)}var BV=new Ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:$V,construct:UV,predicate:HV,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),VV=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function GV(t){return!(t===null||!VV.test(t)||t[t.length-1]==="_")}function WV(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}var zV=/^[-+]?[0-9]+e/;function KV(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(pt.isNegativeZero(t))return"-0.0";return r=t.toString(10),zV.test(r)?r.replace("e",".e"):r}function YV(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!=0||pt.isNegativeZero(t))}var XV=new Ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:GV,construct:WV,predicate:YV,represent:KV,defaultStyle:"lowercase"}),QV=xV.extend({implicit:[DV,FV,BV,XV]}),JV=QV,nI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),iI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ZV(t){return t===null?!1:nI.exec(t)!==null||iI.exec(t)!==null}function e2(t){var e,r,n,i,o,s,a,c=0,u=null,l,d,f;if(e=nI.exec(t),e===null&&(e=iI.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(l=+e[10],d=+(e[11]||0),u=(l*60+d)*6e4,e[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,o,s,a,c)),u&&f.setTime(f.getTime()-u),f}function t2(t){return t.toISOString()}var r2=new Ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ZV,construct:e2,instanceOf:Date,represent:t2});function n2(t){return t==="<<"||t===null}var i2=new Ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:n2}),Tg=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function o2(t){if(t===null)return!1;var e,r,n=0,i=t.length,o=Tg;for(r=0;r<i;r++)if(e=o.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8==0}function s2(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,o=Tg,s=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(e));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function a2(t){var e="",r=0,n,i,o=t.length,s=Tg;for(n=0;n<o;n++)n%3==0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=o%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}function c2(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var u2=new Ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:o2,construct:s2,predicate:c2,represent:a2}),l2=Object.prototype.hasOwnProperty,d2=Object.prototype.toString;function f2(t){if(t===null)return!0;var e=[],r,n,i,o,s,a=t;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,d2.call(i)!=="[object Object]")return!1;for(o in i)if(l2.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function p2(t){return t!==null?t:[]}var h2=new Ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:f2,construct:p2}),m2=Object.prototype.toString;function g2(t){if(t===null)return!0;var e,r,n,i,o,s=t;for(o=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],m2.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[e]=[i[0],n[i[0]]]}return!0}function v2(t){if(t===null)return[];var e,r,n,i,o,s=t;for(o=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),o[e]=[i[0],n[i[0]]];return o}var y2=new Ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:g2,construct:v2}),_2=Object.prototype.hasOwnProperty;function C2(t){if(t===null)return!0;var e,r=t;for(e in r)if(_2.call(r,e)&&r[e]!==null)return!1;return!0}function w2(t){return t!==null?t:{}}var E2=new Ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:C2,construct:w2}),oI=JV.extend({implicit:[r2,i2],explicit:[u2,h2,y2,E2]}),wi=Object.prototype.hasOwnProperty,hd=1,sI=2,aI=3,md=4,Ig=1,b2=2,cI=3,S2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,P2=/[\x85\u2028\u2029]/,T2=/[,\[\]\{\}]/,uI=/^(?:!|!!|![a-z\-]+!)$/i,lI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function dI(t){return Object.prototype.toString.call(t)}function mn(t){return t===10||t===13}function yo(t){return t===9||t===32}function Zt(t){return t===9||t===32||t===10||t===13}function Is(t){return t===44||t===91||t===93||t===123||t===125}function I2(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function x2(t){return t===120?2:t===117?4:t===85?8:0}function A2(t){return 48<=t&&t<=57?t-48:-1}function fI(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function R2(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var pI=new Array(256),hI=new Array(256);for(var xs=0;xs<256;xs++)pI[xs]=fI(xs)?1:0,hI[xs]=fI(xs);function k2(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||oI,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function mI(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=yV(r),new Jt(e,r)}function ce(t,e){throw mI(t,e)}function gd(t,e){t.onWarning&&t.onWarning.call(null,mI(t,e))}var gI={YAML:function(e,r,n){var i,o,s;e.version!==null&&ce(e,"duplication of %YAML directive"),n.length!==1&&ce(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&ce(e,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&ce(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&gd(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,o;n.length!==2&&ce(e,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],uI.test(i)||ce(e,"ill-formed tag handle (first argument) of the TAG directive"),wi.call(e.tagMap,i)&&ce(e,'there is a previously declared suffix for "'+i+'" tag handle'),lI.test(o)||ce(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){ce(e,"tag prefix is malformed: "+o)}e.tagMap[i]=o}};function Ei(t,e,r,n){var i,o,s,a;if(e<r){if(a=t.input.slice(e,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||ce(t,"expected valid JSON character");else S2.test(a)&&ce(t,"the stream contains non-printable characters");t.result+=a}}function vI(t,e,r,n){var i,o,s,a;for(pt.isObject(r)||ce(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],wi.call(e,o)||(e[o]=r[o],n[o]=!0)}function As(t,e,r,n,i,o,s,a,c){var u,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,l=i.length;u<l;u+=1)Array.isArray(i[u])&&ce(t,"nested arrays are not supported inside keys"),typeof i=="object"&&dI(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&dI(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)vI(t,e,o[u],r);else vI(t,e,o,r);else!t.json&&!wi.call(r,i)&&wi.call(e,i)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=c||t.position,ce(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete r[i];return e}function xg(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):ce(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function st(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;yo(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(mn(i))for(xg(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&gd(t,"deficient indentation"),n}function vd(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Zt(r)))}function Ag(t,e){e===1?t.result+=" ":e>1&&(t.result+=pt.repeat(`
`,e-1))}function D2(t,e,r){var n,i,o,s,a,c,u,l,d=t.kind,f=t.result,p;if(p=t.input.charCodeAt(t.position),Zt(p)||Is(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Zt(i)||r&&Is(i)))return!1;for(t.kind="scalar",t.result="",o=s=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Zt(i)||r&&Is(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),Zt(n))break}else{if(t.position===t.lineStart&&vd(t)||r&&Is(p))break;if(mn(p))if(c=t.line,u=t.lineStart,l=t.lineIndent,st(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=c,t.lineStart=u,t.lineIndent=l;break}}a&&(Ei(t,o,s,!1),Ag(t,t.line-c),o=s=t.position,a=!1),yo(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return Ei(t,o,s,!1),t.result?!0:(t.kind=d,t.result=f,!1)}function O2(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Ei(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else mn(r)?(Ei(t,n,i,!0),Ag(t,st(t,!1,e)),n=i=t.position):t.position===t.lineStart&&vd(t)?ce(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);ce(t,"unexpected end of the stream within a single quoted scalar")}function N2(t,e){var r,n,i,o,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Ei(t,r,t.position,!0),t.position++,!0;if(a===92){if(Ei(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),mn(a))st(t,!1,e);else if(a<256&&pI[a])t.result+=hI[a],t.position++;else if((s=x2(a))>0){for(i=s,o=0;i>0;i--)a=t.input.charCodeAt(++t.position),(s=I2(a))>=0?o=(o<<4)+s:ce(t,"expected hexadecimal character");t.result+=R2(o),t.position++}else ce(t,"unknown escape sequence");r=n=t.position}else mn(a)?(Ei(t,r,n,!0),Ag(t,st(t,!1,e)),r=n=t.position):t.position===t.lineStart&&vd(t)?ce(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}ce(t,"unexpected end of the stream within a double quoted scalar")}function L2(t,e){var r=!0,n,i,o,s=t.tag,a,c=t.anchor,u,l,d,f,p,h=Object.create(null),m,g,v,y;if(y=t.input.charCodeAt(t.position),y===91)l=93,p=!1,a=[];else if(y===123)l=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),y=t.input.charCodeAt(++t.position);y!==0;){if(st(t,!0,e),y=t.input.charCodeAt(t.position),y===l)return t.position++,t.tag=s,t.anchor=c,t.kind=p?"mapping":"sequence",t.result=a,!0;r?y===44&&ce(t,"expected the node content, but found ','"):ce(t,"missed comma between flow collection entries"),g=m=v=null,d=f=!1,y===63&&(u=t.input.charCodeAt(t.position+1),Zt(u)&&(d=f=!0,t.position++,st(t,!0,e))),n=t.line,i=t.lineStart,o=t.position,Rs(t,e,hd,!1,!0),g=t.tag,m=t.result,st(t,!0,e),y=t.input.charCodeAt(t.position),(f||t.line===n)&&y===58&&(d=!0,y=t.input.charCodeAt(++t.position),st(t,!0,e),Rs(t,e,hd,!1,!0),v=t.result),p?As(t,a,h,g,m,v,n,i,o):d?a.push(As(t,null,h,g,m,v,n,i,o)):a.push(m),st(t,!0,e),y=t.input.charCodeAt(t.position),y===44?(r=!0,y=t.input.charCodeAt(++t.position)):r=!1}ce(t,"unexpected end of the stream within a flow collection")}function F2(t,e){var r,n,i=Ig,o=!1,s=!1,a=e,c=0,u=!1,l,d;if(d=t.input.charCodeAt(t.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(t.kind="scalar",t.result="";d!==0;)if(d=t.input.charCodeAt(++t.position),d===43||d===45)Ig===i?i=d===43?cI:b2:ce(t,"repeat of a chomping mode identifier");else if((l=A2(d))>=0)l===0?ce(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?ce(t,"repeat of an indentation width identifier"):(a=e+l-1,s=!0);else break;if(yo(d)){do d=t.input.charCodeAt(++t.position);while(yo(d));if(d===35)do d=t.input.charCodeAt(++t.position);while(!mn(d)&&d!==0)}for(;d!==0;){for(xg(t),t.lineIndent=0,d=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&d===32;)t.lineIndent++,d=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),mn(d)){c++;continue}if(t.lineIndent<a){i===cI?t.result+=pt.repeat(`
`,o?1+c:c):i===Ig&&o&&(t.result+=`
`);break}for(n?yo(d)?(u=!0,t.result+=pt.repeat(`
`,o?1+c:c)):u?(u=!1,t.result+=pt.repeat(`
`,c+1)):c===0?o&&(t.result+=" "):t.result+=pt.repeat(`
`,c):t.result+=pt.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=t.position;!mn(d)&&d!==0;)d=t.input.charCodeAt(++t.position);Ei(t,r,t.position,!1)}return!0}function yI(t,e){var r,n=t.tag,i=t.anchor,o=[],s,a=!1,c;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),c=t.input.charCodeAt(t.position);c!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ce(t,"tab characters must not be used in indentation")),!(c!==45||(s=t.input.charCodeAt(t.position+1),!Zt(s))));){if(a=!0,t.position++,st(t,!0,-1)&&t.lineIndent<=e){o.push(null),c=t.input.charCodeAt(t.position);continue}if(r=t.line,Rs(t,e,aI,!1,!0),o.push(t.result),st(t,!0,-1),c=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&c!==0)ce(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=o,!0):!1}function M2(t,e,r){var n,i,o,s,a,c,u=t.tag,l=t.anchor,d={},f=Object.create(null),p=null,h=null,m=null,g=!1,v=!1,y;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),y=t.input.charCodeAt(t.position);y!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ce(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),o=t.line,(y===63||y===58)&&Zt(n))y===63?(g&&(As(t,d,f,p,h,null,s,a,c),p=h=m=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):ce(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,y=n;else{if(s=t.line,a=t.lineStart,c=t.position,!Rs(t,r,sI,!1,!0))break;if(t.line===o){for(y=t.input.charCodeAt(t.position);yo(y);)y=t.input.charCodeAt(++t.position);if(y===58)y=t.input.charCodeAt(++t.position),Zt(y)||ce(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(As(t,d,f,p,h,null,s,a,c),p=h=m=null),v=!0,g=!1,i=!1,p=t.tag,h=t.result;else if(v)ce(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=l,!0}else if(v)ce(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=l,!0}if((t.line===o||t.lineIndent>e)&&(g&&(s=t.line,a=t.lineStart,c=t.position),Rs(t,e,md,!0,i)&&(g?h=t.result:m=t.result),g||(As(t,d,f,p,h,m,s,a,c),p=h=m=null),st(t,!0,-1),y=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&y!==0)ce(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&As(t,d,f,p,h,null,s,a,c),v&&(t.tag=u,t.anchor=l,t.kind="mapping",t.result=d),v}function q2(t){var e,r=!1,n=!1,i,o,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&ce(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(o=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):ce(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Zt(s);)s===33&&(n?ce(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),uI.test(i)||ce(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),T2.test(o)&&ce(t,"tag suffix cannot contain flow indicator characters")}o&&!lI.test(o)&&ce(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){ce(t,"tag name is malformed: "+o)}return r?t.tag=o:wi.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:i==="!"?t.tag="!"+o:i==="!!"?t.tag="tag:yaml.org,2002:"+o:ce(t,'undeclared tag handle "'+i+'"'),!0}function j2(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&ce(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Zt(r)&&!Is(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&ce(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function $2(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Zt(n)&&!Is(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&ce(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),wi.call(t.anchorMap,r)||ce(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],st(t,!0,-1),!0}function Rs(t,e,r,n,i){var o,s,a,c=1,u=!1,l=!1,d,f,p,h,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=md===r||aI===r,n&&st(t,!0,-1)&&(u=!0,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)),c===1)for(;q2(t)||j2(t);)st(t,!0,-1)?(u=!0,a=o,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)):a=!1;if(a&&(a=u||i),(c===1||md===r)&&(hd===r||sI===r?m=e:m=e+1,g=t.position-t.lineStart,c===1?a&&(yI(t,g)||M2(t,g,m))||L2(t,m)?l=!0:(s&&F2(t,m)||O2(t,m)||N2(t,m)?l=!0:$2(t)?(l=!0,(t.tag!==null||t.anchor!==null)&&ce(t,"alias node should not have any properties")):D2(t,m,hd===r)&&(l=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):c===0&&(l=a&&yI(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&ce(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,f=t.implicitTypes.length;d<f;d+=1)if(h=t.implicitTypes[d],h.resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(wi.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,p=t.typeMap.multi[t.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(t.tag.slice(0,p[d].tag.length)===p[d].tag){h=p[d];break}h||ce(t,"unknown tag !<"+t.tag+">"),t.result!==null&&h.kind!==t.kind&&ce(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):ce(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||l}function U2(t){var e=t.position,r,n,i,o=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(st(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(o=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!Zt(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&ce(t,"directive name must not be less than one character in length");s!==0;){for(;yo(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!mn(s));break}if(mn(s))break;for(r=t.position;s!==0&&!Zt(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&xg(t),wi.call(gI,n)?gI[n](t,n,i):gd(t,'unknown document directive "'+n+'"')}if(st(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,st(t,!0,-1)):o&&ce(t,"directives end mark is expected"),Rs(t,t.lineIndent-1,md,!1,!0),st(t,!0,-1),t.checkLineBreaks&&P2.test(t.input.slice(e,t.position))&&gd(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&vd(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,st(t,!0,-1));return}if(t.position<t.length-1)ce(t,"end of the stream or a document separator is expected");else return}function _I(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new k2(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,ce(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)U2(r);return r.documents}function H2(t,e,r){e!==null&&typeof e=="object"&&typeof r=="undefined"&&(r=e,e=null);var n=_I(t,r);if(typeof e!="function")return n;for(var i=0,o=n.length;i<o;i+=1)e(n[i])}function B2(t,e){var r=_I(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Jt("expected a single document in the stream, but found more")}}var V2=H2,G2=B2,CI={loadAll:V2,load:G2},wI=Object.prototype.toString,EI=Object.prototype.hasOwnProperty,Rg=65279,W2=9,uc=10,z2=13,K2=32,Y2=33,X2=34,kg=35,Q2=37,J2=38,Z2=39,e3=42,bI=44,t3=45,yd=58,r3=61,n3=62,i3=63,o3=64,SI=91,PI=93,s3=96,TI=123,a3=124,II=125,Nt={};Nt[0]="\\0";Nt[7]="\\a";Nt[8]="\\b";Nt[9]="\\t";Nt[10]="\\n";Nt[11]="\\v";Nt[12]="\\f";Nt[13]="\\r";Nt[27]="\\e";Nt[34]='\\"';Nt[92]="\\\\";Nt[133]="\\N";Nt[160]="\\_";Nt[8232]="\\L";Nt[8233]="\\P";var c3=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],u3=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function l3(t,e){var r,n,i,o,s,a,c;if(e===null)return{};for(r={},n=Object.keys(e),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=t.compiledTypeMap.fallback[s],c&&EI.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function d3(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new Jt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+pt.repeat("0",n-e.length)+e}var f3=1,lc=2;function p3(t){this.schema=t.schema||oI,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=pt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=l3(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?lc:f3,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function xI(t,e){for(var r=pt.repeat(" ",e),n=0,i=-1,o="",s,a=t.length;n<a;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=a):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Dg(t,e){return`
`+pt.repeat(" ",t.indent*e)}function h3(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function _d(t){return t===K2||t===W2}function dc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Rg||65536<=t&&t<=1114111}function AI(t){return dc(t)&&t!==Rg&&t!==z2&&t!==uc}function RI(t,e,r){var n=AI(t),i=n&&!_d(t);return(r?n:n&&t!==bI&&t!==SI&&t!==PI&&t!==TI&&t!==II)&&t!==kg&&!(e===yd&&!i)||AI(e)&&!_d(e)&&t===kg||e===yd&&i}function m3(t){return dc(t)&&t!==Rg&&!_d(t)&&t!==t3&&t!==i3&&t!==yd&&t!==bI&&t!==SI&&t!==PI&&t!==TI&&t!==II&&t!==kg&&t!==J2&&t!==e3&&t!==Y2&&t!==a3&&t!==r3&&t!==n3&&t!==Z2&&t!==X2&&t!==Q2&&t!==o3&&t!==s3}function g3(t){return!_d(t)&&t!==yd}function fc(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function kI(t){var e=/^\n* /;return e.test(t)}var DI=1,Og=2,OI=3,NI=4,ks=5;function v3(t,e,r,n,i,o,s,a){var c,u=0,l=null,d=!1,f=!1,p=n!==-1,h=-1,m=m3(fc(t,0))&&g3(fc(t,t.length-1));if(e||s)for(c=0;c<t.length;u>=65536?c+=2:c++){if(u=fc(t,c),!dc(u))return ks;m=m&&RI(u,l,a),l=u}else{for(c=0;c<t.length;u>=65536?c+=2:c++){if(u=fc(t,c),u===uc)d=!0,p&&(f=f||c-h-1>n&&t[h+1]!==" ",h=c);else if(!dc(u))return ks;m=m&&RI(u,l,a),l=u}f=f||p&&c-h-1>n&&t[h+1]!==" "}return!d&&!f?m&&!s&&!i(t)?DI:o===lc?ks:Og:r>9&&kI(t)?ks:s?o===lc?ks:Og:f?NI:OI}function y3(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===lc?'""':"''";if(!t.noCompatMode&&(c3.indexOf(e)!==-1||u3.test(e)))return t.quotingType===lc?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),a=n||t.flowLevel>-1&&r>=t.flowLevel;function c(u){return h3(t,u)}switch(v3(e,a,t.indent,s,c,t.quotingType,t.forceQuotes&&!n,i)){case DI:return e;case Og:return"'"+e.replace(/'/g,"''")+"'";case OI:return"|"+LI(e,t.indent)+FI(xI(e,o));case NI:return">"+LI(e,t.indent)+FI(xI(_3(e,s),o));case ks:return'"'+C3(e)+'"';default:throw new Jt("impossible error: invalid scalar style")}}()}function LI(t,e){var r=kI(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),o=i?"+":n?"":"-";return r+o+`
`}function FI(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function _3(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,MI(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",o,s;s=r.exec(t);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+MI(c,e),i=o}return n}function MI(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(t);)a=n.index,a-i>e&&(o=s>i?s:a,c+=`
`+t.slice(i,o),i=o+1),s=a;return c+=`
`,t.length-i>e&&s>i?c+=t.slice(i,s)+`
`+t.slice(s+1):c+=t.slice(i),c.slice(1)}function C3(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=fc(t,i),n=Nt[r],!n&&dc(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||d3(r);return e}function w3(t,e,r){var n="",i=t.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],t.replacer&&(a=t.replacer.call(r,String(o),a)),(Fn(t,e,a,!1,!1)||typeof a=="undefined"&&Fn(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function qI(t,e,r,n){var i="",o=t.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],t.replacer&&(c=t.replacer.call(r,String(s),c)),(Fn(t,e+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&Fn(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Dg(t,e)),t.dump&&uc===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=o,t.dump=i||"[]"}function E3(t,e,r){var n="",i=t.tag,o=Object.keys(r),s,a,c,u,l;for(s=0,a=o.length;s<a;s+=1)l="",n!==""&&(l+=", "),t.condenseFlow&&(l+='"'),c=o[s],u=r[c],t.replacer&&(u=t.replacer.call(r,c,u)),!!Fn(t,e,c,!1,!1)&&(t.dump.length>1024&&(l+="? "),l+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Fn(t,e,u,!1,!1)&&(l+=t.dump,n+=l));t.tag=i,t.dump="{"+n+"}"}function b3(t,e,r,n){var i="",o=t.tag,s=Object.keys(r),a,c,u,l,d,f;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Jt("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)f="",(!n||i!=="")&&(f+=Dg(t,e)),u=s[a],l=r[u],t.replacer&&(l=t.replacer.call(r,u,l)),!!Fn(t,e+1,u,!0,!0,!0)&&(d=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,d&&(t.dump&&uc===t.dump.charCodeAt(0)?f+="?":f+="? "),f+=t.dump,d&&(f+=Dg(t,e)),!!Fn(t,e+1,l,!0,d)&&(t.dump&&uc===t.dump.charCodeAt(0)?f+=":":f+=": ",f+=t.dump,i+=f));t.tag=o,t.dump=i||"{}"}function jI(t,e,r){var n,i,o,s,a,c;for(i=r?t.explicitTypes:t.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(r?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(c=t.styleMap[a.tag]||a.defaultStyle,wI.call(a.represent)==="[object Function]")n=a.represent(e,c);else if(EI.call(a.represent,c))n=a.represent[c](e,c);else throw new Jt("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');t.dump=n}return!0}return!1}function Fn(t,e,r,n,i,o,s){t.tag=null,t.dump=r,jI(t,r,!1)||jI(t,r,!0);var a=wI.call(t.dump),c=n,u;n&&(n=t.flowLevel<0||t.flowLevel>e);var l=a==="[object Object]"||a==="[object Array]",d,f;if(l&&(d=t.duplicates.indexOf(r),f=d!==-1),(t.tag!==null&&t.tag!=="?"||f||t.indent!==2&&e>0)&&(i=!1),f&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(l&&f&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(t.dump).length!==0?(b3(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(E3(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?qI(t,e-1,t.dump,i):qI(t,e,t.dump,i),f&&(t.dump="&ref_"+d+t.dump)):(w3(t,e,t.dump),f&&(t.dump="&ref_"+d+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&y3(t,t.dump,e,o,c);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Jt("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function S3(t,e){var r=[],n=[],i,o;for(Ng(t,r,n),i=0,o=n.length;i<o;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(o)}function Ng(t,e,r){var n,i,o;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)Ng(t[i],e,r);else for(n=Object.keys(t),i=0,o=n.length;i<o;i+=1)Ng(t[n[i]],e,r)}function P3(t,e){e=e||{};var r=new p3(e);r.noRefs||S3(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Fn(r,0,n,!0,!0)?r.dump+`
`:""}var T3=P3,I3={dump:T3};function Lg(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Kr=CI.load,jee=CI.loadAll,$ee=I3.dump;var Uee=Lg("safeLoad","load"),Hee=Lg("safeLoadAll","loadAll"),Bee=Lg("safeDump","dump");var Sd=B(require("path"));var qg=B(require("path")),BI=B(require("os"));var $I=B(require("crypto"));var UI=B(require("util"));var Yr={async readDocument(t){switch(t.scheme){case"file":try{return(await Pe(t.fsPath)).toString()}catch(e){if(e&&e.code==="ENOENT")return;throw e}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}},async applyEdits(t,e,r){switch(t.scheme){case"file":let n=Dt(r,e);await Eu(t.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Cd=class{constructor(e){this.fileHost=e}async readDocument(e){switch(e.scheme){case Cd.scheme:try{return(await this.fileHost.readFile(ve(e,this.fileHost.platform))).toString()}catch(r){return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Cd.scheme:let i=Dt(n,r);await this.fileHost.writeFile(ve(e,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Vt=Cd;Vt.scheme="vscode-fileHost";var Co=class{constructor(e){this.shellServer=e}async readDocument(e){switch(e.scheme){case Co.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${e.path}`);return r}catch(r){return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Co.scheme:try{if(!Co.nonce){let s=await(0,UI.promisify)($I.randomBytes)(20);Co.nonce=s.toString("hex")}let i=Dt(n,r),o=`EOF-${Co.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${e.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},_o=Co;_o.scheme="vscode-remote";var HI=class{constructor(e){this.documents=e}async readDocument(e){let r=this.documents[e.scheme];if(!r)throw new Error(`Unsupported scheme: ${e.toString()}`);return r.readDocument(e)}async applyEdits(e,r,n){let i=this.documents[e.scheme];if(!i)throw new Error(`Unsupported scheme: ${e.toString()}`);return i.applyEdits(e,r,n)}};function at(t,e){let r={file:Yr,[Vt.scheme]:new Vt(t)};return e&&(r[_o.scheme]=new _o(e)),new HI(r)}var Fg=new Map;async function Mg(t,e){let r=t.toString(),n=Fg.get(r);if(n||Fg.set(r,n=[]),n.push(e),n.length===1){for(;n.length;)await n[0](),n.shift();Fg.delete(r)}}var wd;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(wd||(wd={}));var bi;(function(s){s[s.Slash=47]="Slash",s[s.Colon=58]="Colon",s[s.A=65]="A",s[s.Z=90]="Z",s[s.a=97]="a",s[s.z=122]="z"})(bi||(bi={}));function ve(t,e){let r;return t.authority&&t.path.length>1&&(t.scheme==="file"||t.scheme===Vt.scheme)?r=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?r=t.path[1].toLowerCase()+t.path.substr(2):r=t.path,e==="win32"&&(r=r.replace(/\//g,"\\")),r}function Ds(t,e){return[t.join(e,".devcontainer","devcontainer.json"),t.join(e,".devcontainer.json")]}function jg(t,e){return we.file(t.path.join(e,".devcontainer","devcontainer.json")).with({scheme:Vt.scheme})}async function Ed(t,e){let r=Ds(t.path,e);for(let n of r)if(await t.isFile(n))return we.file(n).with({scheme:Vt.scheme})}async function bd(t){let e=Ds(qg,t);for(let r of e)if(await it(r))return r}var Mn=`{${BI.EOL}}`;async function Ar(t,e,r,n){e.scheme==="file"&&await Br(qg.dirname(e.fsPath)),await t.applyEdits(e,r,n)}function wo(t){let e=qg.posix.dirname(t.path);return t.with({path:e})}function Si(t,e,r){return Os(t,e.configFilePath,r)}function Os(t,e,r){let n=wo(e);return e.with({path:Sd.posix.resolve(n.path,t.platform==="win32"&&e.scheme!==_o.scheme?(Sd.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function Xe(t){return"dockerFile"in t||"build"in t&&"dockerfile"in t.build}function Ns(t){return t&&(Xe(t)||"image"in t||"dockerComposeFile"in t)}function ht(t,e){return Si(t,e,x3(e))}function x3(t){return"dockerFile"in t?t.dockerFile:t.build.dockerfile}async function fr(t,e,r,n){if(Array.isArray(e.dockerComposeFile)){if(e.dockerComposeFile.length)return e.dockerComposeFile.map(i=>ve(Si(t,e,i),t.platform))}else if(typeof e.dockerComposeFile=="string")return[ve(Si(t,e,e.dockerComposeFile),t.platform)];if(n){let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(t.path.delimiter).map(a=>t.path.resolve(n,a));try{let a=t.path.join(n,".env"),c=await t.readFile(a),u=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),l=u&&u[1].trim();if(l)return l.split(t.path.delimiter).map(d=>t.path.resolve(n,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[t.path.resolve(n,"docker-compose.yml")],s=t.path.resolve(n,"docker-compose.override.yml");return await t.isFile(s)&&o.push(s),o}return[]}function A3(){return{contentHashes:{}}}async function GI(t,e,r){let n=t.configurationTracking,i=n.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),c=(await $g(t,e,r)).contentHashes,u=Object.keys(c),l=new Set(u);s.forEach(p=>l.delete(p));let d=new Set(s);u.forEach(p=>d.delete(p));let f=[];for(let p of s)p in c&&c[p]!==o[p]&&f.push(p);if(l.size||d.size||f.length){let p=await $g(t,e,r);(async()=>{await n.containerOutdated([...l,...d,...f].sort())==="ignore"&&await t.configurationTracking.updateConfigurationState(p)})().catch(console.error)}}else await WI(t,e,r)}async function Pd(t,e,r){let n="Updating configuration state",i=t.common.output.start(n);await WI(t,e,r),t.common.output.stop(n,i)}async function WI(t,e,r){let n=await $g(t,e,r);await t.configurationTracking.updateConfigurationState(n)}async function $g(t,e,r){let n=A3();Td(n,pc.posix.basename(r.configFilePath.path),JSON.stringify(ne(U({},r),{forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0})));let i=wo(r.configFilePath).path;if(Xe(r)){let o=ht(t.common.cliHost,r),s=await e.readDocument(o);s!==void 0&&Td(n,pc.posix.relative(i,o.path),s)}if("dockerComposeFile"in r){let o=await fr(t.common.cliHost,r,t.common.cliHost.env,t.common.cliHost.cwd),s=await Promise.all(o.map(async a=>{let c=we.file(a).with({scheme:Vt.scheme});return{uri:c,content:await e.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&Td(n,pc.posix.relative(i,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:u}=s[a];if(u){let l=Kr(u),d=l&&l.services,f=d&&d[r.service],p=f&&f.build,h=p&&(typeof p=="string"?p:p.context);if(h){let m=Os(t.common.cliHost,c,h),g=zI(m,p.dockerfile||"Dockerfile"),v=await e.readDocument(g);v!==void 0&&Td(n,pc.posix.relative(i,g.path),v)}if(f&&(f.image||f.build))break}}}return n}function Td(t,e,r){let n=VI.createHash("sha256").update(r).digest("hex");t.contentHashes[e]=n}var nt=B(require("path")),mR=B(require("crypto"));var gR=B(bl());var Vn=B(require("path"));var dv=B(require("path"));var ZI=B(require("net")),Gg=B(require("path"));var Ug=B(require("path")),Hg=B(require("http")),KI=B(require("os")),YI=B(require("crypto"));async function XI(t,e){let r=await Bg(t),n=new QI(r,e);return n.listen(),n}var QI=class{constructor(e,r){this.ipcHandlePath=e;this.server=Hg.createServer((n,i)=>{Promise.resolve(r(n,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",n=>console.error(n))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function JI(t){return new Promise((e,r)=>{let n=[];t.setEncoding("utf8"),t.on("data",i=>n.push(i)),t.on("error",i=>r(i)),t.on("end",()=>{let i=JSON.parse(n.join(""));e(i)})})}async function R3(t){return new Promise((e,r)=>{YI.randomBytes(t,(n,i)=>{n?r(n):e(i)})})}async function Bg(t){let r=(await R3(20)).toString("hex"),n=`${t}-${r}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?Ug.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):Ug.join(KI.tmpdir(),`${n}.sock`)}var Vg=class{constructor(){this.messages=[]}push(e){this.messages.push(e),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(e){if(this.messages.length){let r=this.messages;return this.messages=[],r}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((r,n)=>{this.dequeueRequest={resolve:r,reject:n},typeof e=="number"&&setTimeout(n,e)})}};async function gn(t,e){let r=await Bg("ssh-askpass");return await new Promise((n,i)=>{ZI.createServer(o=>{o.setEncoding("utf8");let s="";o.on("data",async a=>{if(s+=a,s.endsWith(`
`))try{let c=await e(JSON.parse(s));o.write(c,u=>{u&&console.error(u)}),o.end()}catch(c){console.error(c)}}),o.on("error",a=>console.error(a))}).on("error",o=>{i(o)}).listen(r,()=>{n()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:Gg.join(t,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_MAIN:Gg.join(t,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var k3=0;function Eo(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++k3)}:{}}async function Ct(t,e){return(await Pi(t,[e]))[0]}async function Pi(t,e){let r=await xd(t,"container",e);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let c of i[o]||[]){let{HostIp:u,HostPort:l}=c;n.Ports.push({IP:u,PrivatePort:parseInt(s),PublicPort:parseInt(l),Type:a})}}}return r}async function bo(t,e){return(await xd(t,"image",[e]))[0]}async function Id(t,e){return(await xd(t,"volume",[e]))[0]}async function hc(t,e){return xd(t,"volume",e)}async function xd(t,e,r){if(!r.length)return[];let n=await fe(ne(U({},$n(t)),{args:["inspect","--type",e,...r]}));try{return JSON.parse(n.stdout.toString())}catch(i){throw console.error({stdout:n.stdout.toString(),stderr:n.stderr.toString()}),i}}async function qn(t,e=!1,r=[]){let n=[];e&&n.push("-a");for(let o of r)n.push("--filter",`label=${o}`);return(await Te(t,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function Ti(t,e=[]){let r=[];for(let i of e)r.push("--filter",`label=${i}`);return(await Te(t,"volume","ls","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function Wg(t){return(await Te(t,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function ex(t){return(await Te(t,"volume","prune","-f")).stdout.toString()}async function tx(t,e,r){let n=[];for(let i of r)n.push("--label",i);await Te(t,"volume","create",...n,e)}async function mc(t,e){let{exec:r,cmd:n,env:i,output:o}=$n(t),s=[];for(let d in e)for(let f of e[d])s.push("--filter",`${d}=${f}`);let a=await Kg(t)?"json":"{{json .}}",c=["events","--format",a,...s],u=await r({cmd:n,args:c,env:i,output:o}),l=[];return u.stderr.on("data",d=>l.push(d)),u.exit.then(({code:d,signal:f})=>{l.length&&o.write(be(Buffer.concat(l).toString())),(d||f&&f!=="SIGKILL")&&o.write(be(`Docker events terminated (code: ${d}, signal: ${f}).`))},d=>{o.write(be(d&&(d.stack||d.message)))}),u}async function Te(t,...e){return fe(ne(U({},$n(t)),{args:e}))}async function zg(t){var e;try{let{stdout:r}=await Te(t,"context","ls","--format","{{json .}}"),n=`[${r.toString().trim().split(/\r?\n/).join(",")}]`;return(e=JSON.parse(n).find(s=>s.Current))==null?void 0:e.Name}catch{return}}async function Kg(t){if(("cliHost"in t?t.cliHost:t.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await Te(t,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch(r){return!1}}async function er(t,...e){return On(ne(U({},Ii(t)),{args:e}))}async function Ls(t,...e){return fe(ne(U({},$n(t,!0)),{args:e}))}async function Ad(t,...e){return On(ne(U({},Ii(t,!0)),{args:e}))}function jn(t,e,r){return async function(n){let{exec:i,cmd:o,env:s}=$n(t),{argsPrefix:a,args:c}=nx(e,r,n,!1);return i({cmd:o,args:c,env:s,output:rx(n.output,o,a)})}}async function Fs(t,e,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,env:c}=Ii(t),{argsPrefix:u,args:l}=nx(e,r,o,!0);return s({cmd:a,args:l,env:c,output:rx(o.output,a,u)})}}function rx(t,e,r){return D3(t,`Run: ${e} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function D3(t,e,r){let n=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return ot(ne(U({},t),{event:o=>t.event("text"in o?ne(U({},o),{text:o.text.replace(n,r)}):o)}))}function nx(t,e,r,n){let{env:i,cwd:o,cmd:s,args:a}=r,c=["exec","-i"];n&&c.push("-t"),e&&c.push("-u",e),i&&Object.keys(i).forEach(l=>c.push("-e",`${l}=${i[l]}`)),o&&c.push("-w",o),c.push(t);let u=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:u,args:c}}function $n(t,e=!1){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?t.dockerComposeCLI:t.dockerCLI,env:U(U({},t.dockerEnv),Eo(t.dockerEnv)),output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?t.dockerComposeCLI:t.dockerCLI,env:U(U({},t.env),Eo(t.env)),output:t.output}:ne(U({},t),{env:U(U({},t.env),Eo(t.env))})}function Ii(t,e=!1){return"dockerEnv"in t?{ptyExec:t.common.cliHost.ptyExec,cmd:e?t.dockerComposeCLI:t.dockerCLI,env:U(U({},t.dockerEnv),Eo(t.dockerEnv)),output:t.common.output}:"cliHost"in t?{ptyExec:t.cliHost.ptyExec,cmd:e?t.dockerComposeCLI:t.dockerCLI,env:U(U({},t.env),Eo(t.env)),output:t.output}:ne(U({},t),{env:U(U({},t.env),Eo(t.env))})}function Rd(t){return t.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(e,r)=>r.substr(0,r.length-1))}var uv=B(require("path")),lv=B(require("string_decoder")),ZA=B(bl());var av=B(require("path")),QA=B(XA());function cv(t){return av.join(t,"dist","node_modules","vscode-dev-containers","container-features")}async function Ai(t,e,r){let n=e.features;if(!n||!Object.keys(n).length)return;let i=await Vd(t,e,r);if(!i.features.every(o=>o.value===o.default))return i}async function Vd(t,e,r){let n=e.features||{},i=cv(t.extensionPath),o=je((await Pe(av.join(i,"features.json"))).toString()),s=await r(),a=s["com.visualstudio.code.devcontainers.id"],c=s.version,u={};for(let l of o.features)a&&(l.exclude||[]).some(d=>JA(d,a,c))?l.included=!1:(l.include||[]).length?l.included=!!a&&(l.include||[]).some(d=>JA(d,a,c)):l.included=!0,u[l.id]=u[l.id]||l.included,l.value=l.included&&n[l.id]||l.default,(l.type==="option"&&typeof l.value!="boolean"||l.type==="choice"&&(l.values||[]).indexOf(l.value)===-1)&&(l.value=l.default);return t.output.write(`Feature configuration:
`+JSON.stringify(ne(U({},o),{imageDetails:void 0}),void 0,"  "),pe.Trace),o.features=o.features.filter(l=>l.id in u&&l.included===u[l.id]?(delete u[l.id],!0):!1),o}function JA(t,e,r){let n=t.indexOf("@"),[i,o]=n!==-1?[t.slice(0,n),t.slice(n+1)]:[t,void 0];return e===i&&(!o||!r||QA.satisfies(r,o))}async function xc(t,e,r,n){let{common:i}=t,{cliHost:o,output:s}=i;if(!e)return r;let a=(await n()).Config.User||"root",c=Ac(i),u=`${r.startsWith(c)?r:c}-features`,l=cv(i.extensionPath),d=i.package.version,f=o.path.join(await o.tmpdir(),"vsch","container-features",`${d}-${Date.now()}`);await o.mkdirp(f);let p=ZA.c({cwd:l,filter:_=>_!=="./Dockerfile"},["."]),h=new Promise((_,E)=>{p.on("error",E),p.on("finish",_)}),m=await o.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:f,output:s}),g=new lv.StringDecoder;m.stdout.on("data",_=>{s.write(g.write(_))});let v=new lv.StringDecoder;m.stderr.on("data",_=>{s.write(be(v.write(_)))}),p.pipe(m.stdin);let y=(await Pe(uv.join(l,"Dockerfile"))).toString();await o.writeFile(o.path.join(f,"Dockerfile"),Buffer.from(y.replace("#{containerEnv}",e.features.filter(_=>_.included&&_.value).reduce((_,E)=>_.concat(Object.keys(E.containerEnv||{}).map(w=>`ENV ${w}=${E.containerEnv[w]}`)),[]).join(`
`)))),await o.writeFile(o.path.join(f,"features.env"),Buffer.from(e.features.filter(_=>_.included&&_.value).map(_=>`${_.buildArg}=${_.value}`).join(`
`))),await m.exit,await h;let C=["build","-t",u,"--build-arg",`BASE_IMAGE=${r}`,"--build-arg",`IMAGE_USER=${a}`,f];return await er(t,...C),u}async function Gd(t,e,r,n,i){let{common:o}=t,{cliHost:s}=o;if(o.cliMode||e.updateRemoteUserUID===!1||s.platform!=="linux")return r;let a=(await n()).Config.User||"root",c=e.remoteUser||i||a;if(c==="root"||/^\d+$/.test(c))return r;let u=Ac(o),l=`${r.startsWith(u)?r:u}-uid`,d="updateUID.Dockerfile",f=uv.join(o.extensionPath,"scripts",d),p=o.package.version,h=s.path.join(await s.tmpdir(),"vsch",`${d}-${p}`),m=`${h}-${Date.now()}`;await s.mkdirp(s.path.dirname(m)),await s.writeFile(m,await Pe(f)),await s.rename(m,h);let g=["build","-f",h,"-t",l,"--build-arg",`BASE_IMAGE=${r}`,"--build-arg",`REMOTE_USER=${c}`,"--build-arg",`NEW_UID=${await s.getuid()}`,"--build-arg",`NEW_GID=${await s.getgid()}`,"--build-arg",`IMAGE_USER=${a}`,s.path.dirname(h)];return await er(t,...g),l}var Wd="com.docker.compose.project",fv="com.docker.compose.service";async function eR(t,e,r,n){return rR(t,t,e,r,n,pv(r))}async function tR(t,{repositoryPath:e,folder:r},n,i,o,s){let{labels:a}=$s(n,e,r,i),c=Ae(dv.posix,r?n.workspaceFolder(r):n.fullRepositoryName),u=`services:
  '${s.service}':
    labels:
${a.map(y=>`      - ${y}`).join(`
`)}
    volumes:
      - ${i}:${dv.posix.dirname(c.rootFolderPath)}

volumes:
  ${i}:
    external: true
`,{loadNativeModule:l,output:d,cliHost:f}=t.common,p=jn(t,o,"root"),h=await Fs(t,o,"root",l),g={cliHost:Xa("container",c.rootFolderPath,p,h,d),dockerCLI:"docker",dockerComposeCLI:"docker-compose",env:{},output:d},v=vv(n,i,r);return rR(t,g,c,s,f.cwd,c.rootFolderPath,u,o,v)}async function rR(t,e,r,n,i,o,s,a,c){let{common:u}=t,{cliHost:l}="cliHost"in e?e:e.common,d,f;try{let p=await fr(l,n,l.env,l.cwd),h=l.path.join(l.cwd,".env"),m=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await l.isFile(h)?h:void 0,g="/tmp/docker-compose.repositoryContainer.yml";if(s){let ee=(await l.readFile(p[0])).toString(),V=(/^version:.*$/m.exec(ee)||[])[0];V&&(s=`${V}

${s}`),await l.writeFile(g,Buffer.from(s)),p.push(g)}let v=await Rc(e,r,p),y=await zd(t,v,n.service);if(t.expectExistingContainer&&!y)throw new ie({description:"The expected container does not exist."});if(d=y?await Ct(t,y):void 0,d&&(t.removeOnStartup===!0||t.removeOnStartup===d.Id)){let ee="Removing existing container.",V=u.output.start(ee);await Te(t,"rm","-f",d.Id),u.output.stop(ee,V),d=void 0}let C=!!d,_;if(!d||d.State.Status!=="running"){let ee=await jW(t,e,n,v,p,m,!d);d=await Ct(t,ee.containerId),_=ee.featuresConfig}else{let ee=d.Config.Labels||{};_=await Ai(t.common,n,async()=>ee)}f=await vn(t,d.Id,o,n.remoteUser);let E=at(l,f.shellServer);C||await Pd(t,E,n);let w={cwd:i,dockerCLI:t.dockerCLI,dockerComposeCLI:t.dockerComposeCLI,env:u.env,containerId:d.Id,user:f.user,sessionId:u.sessionId,shutdownAction:n.shutdownAction,projectName:v,composeFiles:p,envFile:m,composeOverrideFile:s&&g,composeOverrideContent:s,buildContainerRunArgs:c,service:n.service,runServices:n.runServices,logLevel:u.getLogLevel(),delay:1e4},{shutdownArgs:b,doneWithDocuments:x}=await Xd(t,E,"dockerCompose",w,C?n:void 0);a&&x.then(()=>{Te(t,"rm","-f",a)});let R=n.devPort||_i,{hostOrContainerPort:k,hostPortServer:q,remoteEnv:H,serverDownloaded:Z}=await Ci(u,f,n,_,void 0,R);return b.hostPortServer=q,Us(u,f,k,d,r),{params:u,properties:f,config:n,resolvedAuthority:{host:Ri,port:k,extensionHostEnv:H},tunnelInformation:u.isLocalContainer?Hs(d):{},dockerParams:t,dockerContainerId:d.Id,serverDownloaded:Z}}catch(p){let h=p instanceof ie?p:new ie({description:"An error occurred setting up the container.",originalError:p});throw d&&(h.manageContainer=!0,h.params=t.common,h.containerId=d.Id,h.dockerParams=t),f&&(h.containerProperties=f),h.config=n,h}}function pv(t){return t.workspaceFolder||"/"}async function qW(t,e,r,n,i,o,s,a,c){let u=["--project-name",e,...o];if(c){let l=r.path.join(await r.tmpdir(),`docker-compose.devcontainer.build-${Date.now()}.yml`),d=`services:
  ${t.service}:
    image: ${c}
`;await r.writeFile(l,Buffer.from(d)),u.push("-f",l)}u.push("build"),a&&u.push("--no-cache","--pull"),s.length&&(u.push(...s),s.indexOf(t.service)===-1&&u.push(t.service));try{await Ad(n,...u)}catch(l){throw l instanceof ie?l:new ie({description:"An error occurred building the Docker Compose images.",originalError:l,data:{fileWithError:i[0]}})}}async function jW(t,e,r,n,i,o,s){var V,$;let{common:a}=t,{cliHost:c}="cliHost"in e?e:e.common;a.progress(tt.StartingContainer);let u=await hv(c.cwd,i,a.output),l=[].concat(...u.map(P=>["-f",P]));o&&l.push("--env-file",o);let d=U({ptyExec:c.ptyExec,cwd:c.cwd},$n(e,!0));"dockerEnv"in t&&(d.env=t.common.env);let f=ot(d.output,pe.Info),p=await mv(ne(U({},d),{print:!0,output:f}),u,o,c.platform);if(Object.keys(p.services||{}).indexOf(r.service)===-1)throw new ie({description:`Service '${r.service}' configured in devcontainer.json not found in Docker Compose configuration.`,data:{fileWithError:i[0]}});let m,g=new Promise((P,N)=>m=N),{started:v}=await Yd(t,{[Wd]:n,[fv]:r.service},g,a.output,a.getLogLevel()===pe.Trace);s&&await qW(r,n,c,ne(U({},d),{output:f}),u,l,(V=r.runServices)!=null?V:[],($=t.buildNoCache)!=null?$:!1,void 0);let y=p.services[r.service],C=y.image||`${n}_${r.service}`,_,E=()=>_||(_=kc(t,C,!y.build)),w=await Ai(t.common,r,async()=>(await E()).Config.Labels||{}),b=await xc(t,w,C,E),x=await Gd(t,r,b,E,y.user),R=x!==C,k=[...new Set([].concat(...((w==null?void 0:w.features)||[]).filter(P=>P.value).map(P=>P.capAdd||[])))],q=[...new Set([].concat(...((w==null?void 0:w.features)||[]).filter(P=>P.value).map(P=>P.securityOpt||[])))],H=[].concat(...((w==null?void 0:w.features)||[]).map(P=>P.value&&P.mounts).filter(Boolean)),Z=H.filter(P=>P.type==="volume");if(r.overrideCommand||R||H.length){let P=((w==null?void 0:w.features)||[]).map(X=>X.value&&X.entrypoint).filter(Boolean),N=`services:
  '${r.service}':${R?`
    image: ${x}`:""}${r.overrideCommand?`
    entrypoint: /bin/sh
    command: ["-c", "echo Container started\\n
trap \\"exit 0\\" 15\\n
${P.join(`\\n
`)}\\n
while sleep 1 & wait $$!; do :; done"]`:""}${((w==null?void 0:w.features)||[]).some(X=>X.value&&X.privileged)?`
    privileged: true`:""}${k.length?`
    cap_add:${k.map(X=>`
      - ${X}`).join("")}`:""}${q.length?`
    security_opt:${q.map(X=>`
      - ${X}`).join("")}`:""}${H.length?`
    volumes:${H.map(X=>`
      - type: ${X.type}
        source: ${X.source}
        target: ${X.target}`).join("")}`:""}${Z.length?`
volumes:${Z.map(X=>`
  ${X.source}:`).join("")}`:""}
`,F=(await c.readFile(i[0])).toString(),W=(/^version:.*$/m.exec(F)||[])[0];W&&(N=`${W}

${N}`);let z=`${await c.tmpdir()}/docker-compose.devcontainer.containerFeatures-${Date.now()}.yml`;await c.writeFile(z,Buffer.from(N)),l.push("-f",z)}let ee=["--project-name",n,...l];ee.push("up","-d"),r.runServices&&r.runServices.length&&(ee.push(...r.runServices),r.runServices.indexOf(r.service)===-1&&ee.push(r.service));try{let P=ne(U({},d),{output:f});await Ad(P,...ee)}catch(P){throw m(),new ie({description:"An error occurred starting Docker Compose up.",originalError:P,data:{fileWithError:u[0]}})}return await v,{containerId:await zd(t,n,r.service),featuresConfig:w}}async function hv(t,e,r){if(dr(t)){let n=Ml(t),i=[];for(let o=0;o<e.length;o++){let s=await ql(n,e[o],r);i.push(s)}return i}return e}async function mv(t,e,r,n){try{let i=[].concat(...e.map(o=>["-f",o]));r&&i.push("--env-file",r);try{let{stdout:o}=await Ls(t,...i,"config");return Kr(o.toString())||{}}catch(o){if(!Buffer.isBuffer(o==null?void 0:o.stderr)||(o==null?void 0:o.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw o;if(n==="win32"){let{cmdOutput:a}=await Ad(ne(U({},t),{output:ot({event:t.output.event,dimensions:{columns:999999,rows:1}},pe.Info)}),...i,"config");return Kr(a.replace(ei,""))||{}}let{stdout:s}=await Ls(ne(U({},t),{env:ne(U({},t.env),{LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"})}),...i,"config");return Kr(s.toString())||{}}}catch(i){throw i instanceof ie?i:new ie({description:"An error occurred retrieving the Docker Compose configuration.",originalError:i,data:{fileWithError:e[0]}})}}async function zd(t,e,r){let n=await qn(t,!0,[`${Wd}=${e}`,`${fv}=${r}`]);return n&&n[0]}async function nR(t,e,r){var n;return(n=t.find(i=>{let o=i.Config.Labels||{};return o[Wd]===e&&o[fv]===r}))==null?void 0:n.Id}async function Rc(t,e,r){let{cliHost:n}="cliHost"in t?t:t.common,i=await $W(t),o=Kd(n.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let c=n.path.join(n.cwd,".env"),u=await n.readFile(c),l=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(u.toString()),d=l&&l[1].trim(),f=Kd(d||"",i);if(f)return f}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=e.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return VS(n.platform,a,n.path.join(s,".devcontainer"))?Kd(`${n.path.basename(s)}_devcontainer`,i):Kd(n.path.basename(a),i)}function gv(t){let e=(t.Config.Labels||{})[Wd];return e||void 0}function Kd(t,e){return e?t.toLowerCase().replace(/[^-_a-z0-9]/g,""):t.toLowerCase().replace(/[^a-z0-9]/g,"")}async function $W(t){try{let{stdout:e}=await Ls(t,"version","--short"),r=_s(e.toString().trim());return r?!Cs(r,[1,21,0]):!0}catch(e){return!0}}var yn=B(require("url")),iR=B(require("https"));var yv;(function(e){e[e.CannotAccessRepository=2]="CannotAccessRepository"})(yv||(yv={}));function _n(t){return t.toLowerCase().indexOf("github.com")>=0?GW(t):t.toLowerCase().indexOf("visualstudio.com")>=0?BW(t):t.toLowerCase().indexOf("dev.azure.com")>=0?HW(t):t.toLowerCase().indexOf("gitlab.com")>=0?VW(t):UW(t)}function Bn(t){let e="owner",r="repository";return{repository:"unknown",repositoryUrl:t,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function UW(t){var s;let e="unknown-owner",r,n=t,i;i=(s=yn.parse(t))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?Bn(t):(r=o[o.length-1],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"unknown",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`})}function HW(t){var o,s;let e,r,n=t,i;if(Qd(t)){let a=`http://${t}`;i=(o=yn.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return Bn(t);e=c[3],r=c[4]}else{i=(s=yn.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Bn(t);e=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function BW(t){var o,s;let e,r,n=t,i;if(Qd(t)){let a=`http://${t}`;i=(o=yn.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return Bn(t);e=c[3],r=c[4]}else{i=(s=yn.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Bn(t);e=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function VW(t){var o,s;let e,r,n=t,i;if(Qd(t)){let a=`http://${t}`;i=(o=yn.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let c=i==null?void 0:i.split("/");if(!c||c.length<3)return Bn(t);e=c[1],r=c[2]}else{i=(s=yn.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<2)return Bn(t);e=a[1],r=a[2]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function GW(t){var c,u;let e,r,n=t,i,o,s;if(Qd(t)){let l=`http://${t}`;s=(c=yn.parse(l))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(u=yn.parse(t))==null?void 0:u.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return Bn(t);if(e=a[1],r=a[2],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let l=t.match(/\/tree\/|\/commit\//);l&&l.index&&(n=t.substring(0,l.index),i=t.substring(l.index+l[0].length))}if(a[3]==="pull"){o=a[4];let l=t.match(/\/pull\//);l&&l.index&&(n=t.substring(0,l.index))}}return{repository:"github",repositoryUrl:n,ref:i,commit:a[3]==="commit",repositoryOwner:e,repositoryName:r,pullRequestId:o,fullRepositoryName:`${e}/${r}`}}function Qd(t){return t=t.toLowerCase(),t.indexOf("://")<0?t.indexOf("@")<t.indexOf(":"):!1}var Jd=class extends Error{constructor(e,r){super();this.code=e,this.description=r}},Zd=class{constructor(e){this.inputUrl=e,this.gitUrlInfo=_n(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(e,r,n,i){}installExtension(){return null}},oR=class extends Zd{constructor(e){super(e)}async parseUrl(e){var o,s,a;let r=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,n=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(e,r,n,i)}async getPullRequestInfo(e,r,n,i){var l,d,f,p,h,m,g,v,y,C,_;let o=await this.fetchPullRequestInfo(e,r,n,i),s=(d=(l=o.head)==null?void 0:l.repo)==null?void 0:d.clone_url,a=(p=(f=o.base)==null?void 0:f.repo)==null?void 0:p.clone_url;if(!a)throw new Jd(2,"Cannot access the head repository of the Pull Request.");let c=(h=o.head)==null?void 0:h.ref,u=((v=(g=(m=o.head)==null?void 0:m.repo)==null?void 0:g.owner)==null?void 0:v.login)===r?null:(_=(C=(y=o.head)==null?void 0:y.repo)==null?void 0:C.owner)==null?void 0:_.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:u}}async fetchPullRequestInfo(e,r,n,i){let o=`/repos/${r}/${n}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};e&&(s.authorization=`token ${e}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((c,u)=>{let l="",d=iR.request(a,f=>{if(f.statusCode<200||f.statusCode>=300)return u(new Error(`Status Code: ${f.statusCode}`));f.on("data",p=>{l+=p}),f.on("end",()=>{let p=JSON.parse(l.toString());c(p)})});d.on("error",u),d.end()})}cloneOptions(e){return{url:e.urlToClone,fullClone:!0}}async postClone(e,r,n,i){if(e.sourceOwner){let u=e.prRepositoryUrl.replace(/\.[^/.]+$/,"");await fe({exec:r.exec,cmd:"git",args:["remote","add",e.sourceOwner,u],cwd:n,output:i}),await fe({exec:r.exec,cmd:"git",args:["fetch",e.sourceOwner,e.ref],cwd:n,output:i});try{await fe({exec:r.exec,cmd:"git",args:["checkout","-t",`${e.sourceOwner}/${e.ref}`],cwd:n,output:i})}catch(l){if(!(l.stderr&&l.stderr.startsWith(`fatal: A branch named '${e.ref}' already exists`)))throw l}await fe({exec:r.exec,cmd:"git",args:["config","--local",`remote.${e.sourceOwner}.github-pr-remote`,"true"],cwd:n,output:i})}else await fe({exec:r.exec,cmd:"git",args:["checkout",e.ref],cwd:n,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${o}#${s}#${a}`;await fe({exec:r.exec,cmd:"git",args:["config","--local",`branch.${e.ref}.github-pr-owner-number`,c],cwd:n,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},sR=class extends Zd{constructor(e){super(e)}async parseUrl(e){var r,n;return{urlToClone:(r=this.gitUrlInfo)==null?void 0:r.repositoryUrl,ref:(n=this.gitUrlInfo)==null?void 0:n.ref}}cloneOptions(e){let r=this.gitUrlInfo.commit;return{url:e.urlToClone,branch:!r&&e.ref||void 0,fullClone:r}}async postClone(e,r,n,i){this.gitUrlInfo.commit&&await fe({exec:r.exec,cmd:"git",args:["checkout",e.ref],cwd:n,output:i})}},_v=class extends Zd{constructor(e,r){super(e);this.branch=r}async parseUrl(e){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(e){return{url:e.urlToClone,branch:e.ref||void 0}}};function Bs(t,e){if(e)return new _v(t,e);let r=_n(t);if(r.repository==="github"){if(r.pullRequestId)return new oR(t);if(r.ref)return new sR(t)}return new _v(t)}var ef=Vn.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function aR(t,e,r){let n=t.parsedAuthority;if(!n||Mt(n))return WW(t,n,e,r);if(Or(n))return n.inspectVolume?wv(t,n):zW(t,n);if(Vs(n))return wv(t,n);throw new Error(`Unexpected authority: ${JSON.stringify(n)}`)}async function WW(t,e,r,n){let{common:i,userRepositoryConfigurationPaths:o,workspaceMountConsistencyDefault:s}=t,{cliHost:a,output:c}=i,u=a.cwd,l=e&&Ae(a.path,za(e.hostPath)?a.path.join(u,Vn.basename(e.hostPath)):u),d;l&&(d=await YW(t,l),d&&i.backgroundTasks.push(d==null?void 0:d.gitUnshallow),d&&!r&&await d.gitClone());let f=l?await Qr(a,l,o)||(r?jg(a,l.configFolderPath):void 0):r,p=f&&await ki(a,l,f,c,s,t.configUpdater,r,i.cliMode)||void 0;if(!p)throw f||l?new ie({description:`Dev container config (${ve(f||jg(a,l.configFolderPath),a.platform)}) not found.`}):new ie({description:"No dev container config and no workspace found."});let h=p.config,m=e==null?void 0:e.settings,g=Di(m),v=h.name?`Dev Container: ${h.name}${g}`:`Dev Container${g}`;i.setWorkspaceName(v),d&&"initializeCommand"in h&&await d.gitClone(),await hR(t,h.initializeCommand);let y;if(Xe(h)||"image"in h)y=await fR(t,l,h,p.workspaceConfig,t.originalCwd||u,d==null?void 0:d.gitClone,n);else if("dockerComposeFile"in h){if(d&&await d.gitClone(),!l)throw new ie({description:"A Dev Container using Docker Compose requires a workspace folder."});y=await eR(t,l,h,t.originalCwd||u)}else throw new ie({description:`Dev container config (${h.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return d&&await d.gitClone(),y}async function zW(t,e){let{repositoryPath:r,volumeName:n,folder:i}=e,o=pr(r);n=await dR(t,o,n);let{labels:s}=$s(o,r,i,n),a=[...s,`${Dc}=${t.common.product.quality}`],c=await rf(t,a);if(c)return Cv(t,e,o,n,c);let{containerId:u,shellServer:l,config:d}=await o.cloneAndInitializeRepository(t,e,o,n);if(Xe(d)||"image"in d)return Cv(t,e,o,n,d,u,l);if("dockerComposeFile"in d)return tR(t,e,o,n,u,d);throw new ie({description:`Dev container config (${d.configFilePath}) not valid.`})}async function ki(t,e,r,n,i,o,s,a=!1){let u=await at(t).readDocument(s!=null?s:r);if(!u)return;let l=je(u),d=l;if(l&&o&&(l.configFilePath=r,d=o(l),delete d.configFilePath),!d||typeof d!="object"||Array.isArray(d))throw new ie({description:`Dev container config (${ve(r,t.platform)}) must contain a JSON object literal.`});let f=await pR(t,e,d,n,i,a),p=Ts({platform:t.platform,localWorkspaceFolder:e==null?void 0:e.rootFolderPath,containerWorkspaceFolder:f.workspaceFolder,configFile:r,env:t.env},d);return typeof p.workspaceFolder=="string"&&(f.workspaceFolder=p.workspaceFolder),"workspaceMount"in p&&(f.workspaceMount=p.workspaceMount),p.configFilePath=r,{config:p,workspaceConfig:f}}async function Qr(t,e,r){return await cR(t,e,r)||await Ed(t,e.configFolderPath)||await cR(t,e,[ef])}async function cR(t,e,r){let n=await t0(t,e,Ye);return n&&tf(n,r)}async function tf(t,e){let r=new Set(t.map(KW).filter(n=>!!n));for(let n of r)for(let i of e){let o=Vn.join(i,n),s=await bd(o);if(s)return we.file(s)}}function uR(t,e,r){let n=t.path.relative(e.rootFolderPath,ve(r,t.platform));return n&&!n.startsWith("..")&&!t.path.isAbsolute(n)}function lR(t){if(t.scheme!=="file")return;let e=Vn.relative(ef,t.fsPath);if(e&&!e.startsWith("..")&&!Vn.isAbsolute(e))return e}function KW(t){let e;if(t.startsWith("https://"))e=t.substr(8);else{let r=/[^@:]+@([^:]+):(.+)/.exec(t);if(r)e=`${r[1]}/${r[2]}`;else return}return e.endsWith(".git")&&(e=e.substr(0,e.length-4)),e.toLowerCase().startsWith("github.com")&&(e=(/^[^/]+\/[^/]+\/[^/]+/.exec(e)||[])[0]),e}async function YW(t,e){var p;let{common:r,gitClone:n}=t,{cliHost:i}=r;if(!n)return;let o=Za(r),s=Za(r),a=Bs(n.url,n.branch),c=await a.parseUrl(n.tokenEnvVar?i.env[n.tokenEnvVar]:void 0),u=a.cloneOptions(c),l=ne(U(U({},n),u),{env:U(U({},n.env),u.env)}),d=await Hl(r,r.cliHost,e.rootFolderPath,l,o.output,s.output),f=(p=d.gitClone)==null?void 0:p.then(()=>a.postClone(c,i,e.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await f},gitUnshallow:async()=>{o.flush(),s.flush(),await d.gitUnshallow}}}function pr(t){return{repositoryPath:t,fullRepositoryName:nf(t),repositoryName:XW(t),workspaceFolder:vR,volumeDestination:Ev(),oldVolumeName:QW(t),alreadyCloned:!1,imageName:JW(t),uniqueVolumeName:ZW(t),getWorkspaceConfiguration:(e,r)=>ez(e,r),getOldWorkspacePath:CR,cloneAndInitializeRepository:tz,buildSingleContainer:rz,getConfigurationFromImage:_R,gitUrlHandler:Bs(t),gitUrlInfo:_n(t)}}function nf(t){let e=_n(t);return e==null?void 0:e.fullRepositoryName}function XW(t){let e=_n(t);return e==null?void 0:e.repositoryName}function Ev(){return"/workspaces"}function QW(t){let e=nf(t);return`vsc-${nt.posix.basename(e)}-${bv(t)}`}function JW(t){let e=nf(t),r=bv(t),n=nt.posix.basename(e);return Rd(`vsc-${n}-${r}`)}function ZW(t){let e=_n(t),r="";e&&e.repositoryName&&(r=e.repositoryName,e.ref?r=`${r}-${e.ref.replace(/\//g,"-")}`:e.pullRequestId&&(r=`${r}-pull-${e.pullRequestId}`));let n=bv(t);return`${r}-${n}`}function bv(t){return mR.createHash("md5").update(t).digest("hex")}function ez(t,e){let r=vR(t),n=`type=volume,src=${e},dst=${Ev()}`;return{workspaceFolder:r,workspaceMount:n}}function vR(t){return nt.posix.join(`${Ev()}`,`${t}`)}async function tz(t,{folder:e,cloneInfo:r},n,i){var l;await oz(t);let{containerId:o,shellServer:s}=await nz(t,n,i,e,t.configProvider,r),{config:a,workspaceFolder:c}=await _R(t,n,e,s),u=(l=n.gitUrlHandler)==null?void 0:l.installExtension();return u&&(a.extensions||(a.extensions=[]),a.extensions.includes(u)||a.extensions.push(u)),await cf(t,o,"root",c,a.initializeCommand),{repository:n,volumeName:i,containerId:o,shellServer:s,config:a}}async function rz(t,e,r,n,i){try{return{imageName:await sz(t,e,r,n,i)}}finally{Te(t,"rm","-f",n)}}async function nz(t,e,r,n,i,o){let{common:s}=t,{output:a,loadNativeModule:c}=s,u=e.fullRepositoryName,l,d,f,p;t.common.progress(tt.CloningRepository);let h=vv(e,r,n,t.buildContainerRunArgs);n?(a.write(`Cloning Github repository: ${u} into ${e.workspaceFolder(n)}
\r`),l=`fatal: destination path '${e.workspaceFolder(n)}' already exists`,p=e.workspaceFolder(n),f=`Repository '${u}' was already cloned into '${e.workspaceFolder(n)}'.
\r`):(a.write(`Cloning Github repository: ${u} into volume ${r}
\r`),l=`fatal: destination path '${u}' already exists`,p=`${u}`,f=`Repository '${u}' was already cloned into volume.`);let m=e.gitUrlHandler;if(!m)throw new ie({description:"Could not analyze the URL."});o?d=m.cloneOptions(o):d={url:e.repositoryPath};let{stdout:g}=await Te(t,...h),v=g.toString().trim(),y=jn(t,v,"root"),C=await fo(y,a),_,E,w=Promise.resolve(),b;if(!s.cliMode){let q=await td(s,{remoteExec:y,user:"root",nodeExecutable:"node",shellServer:C});_=q.remoteContainersCLI,E=q.remoteEnv,w=q.ready,b=q.mrpcExec}let x=await Fs(t,v,"root",c),R=Xa("container",p,await b||y,x,a);try{s.cliMode||(await ld({shellServer:C,nodeExecutable:"node"},_,a,"global"),await dd(t.common,{homeFolder:"/root",shellServer:C},[".ssh","known_hosts"],"ssh"),await w);let q=Za(s),H=await Hl(s,R,p,ne(U({},d),{env:U(U({},E),d.env)}),a,q.output);if(await H.gitClone,H.gitUnshallow&&H.gitUnshallow.then(q.flush,q.flush),H.gitClone&&o)try{await m.postClone(o,R,p,a)}catch(Z){return Sv(t,v,`Failed to checkout the repository ${o.urlToClone}.`)}}catch(q){let H=q&&(q.cmdOutput||q.stack||q.message)||String(q);if(H=H.replace(ei,""),H.replace(/[\r\n]+/gm,"").includes(l))a.write(f),e.alreadyCloned=!0;else return Sv(t,v,`Git clone failed. ${H}`)}let{configRaw:k}=await yR(t,e,n,C);if(!Ns(k)&&i){a.write(`Repository ${u} has no development container files.
\r`);let q=!0;for(;q;){let H=await i.createConfiguration(p,R);if(H)q=!1;else if(H=await i.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),H!=="Select Configuration")return Sv(t,v,"Cancelled container configuration selection.")}}return{containerId:v,shellServer:C}}function vv(t,e,r,n=[]){return r?["run","-d","--mount",`type=volume,src=${e},dst=${t.volumeDestination}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${Pv}`,"sleep","infinity"]:["run","-d","--mount",`type=volume,src=${e},dst=${t.fullRepositoryName}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${Pv}`,"sleep","infinity"]}function Sv(t,e,r){throw e&&Te(t,"rm","-f",e),new ie({description:r})}async function yR(t,e,r,n){let i,o,s;if(r?s=e.workspaceFolder(r):s=`${CR(e.repositoryPath)}`,o=await tf([e.repositoryPath],t.userRepositoryConfigurationPaths),o&&(i=(await Pe(o.fsPath)).toString()),!o)for(let a of Ds(nt.posix,s))try{i=(await n.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,o=we.from({scheme:"vscode-remote",path:a});break}catch(c){}return o||(o=await tf([e.repositoryPath],[ef]),o&&(i=(await Pe(o.fsPath)).toString())),{configRaw:i&&je(i),configFile:o,workspaceFolder:s}}async function _R(t,e,r,n){let{configRaw:i,configFile:o,workspaceFolder:s}=await yR(t,e,r,n);if(!o||!i)throw new ie({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:a,configUpdater:c}=t,{cliHost:u,output:l}=a,d=U({},i),f=d;c&&(d.configFilePath=o,f=c(d),delete f.configFilePath);let p=Ts({platform:u.platform,configFile:o,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:s},f);return p.configFilePath=o,("workspaceMount"in p||"workspaceFolder"in p)&&l.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),iz(t,p),{workspaceFolder:s,config:p}}function iz({common:t},e){let r=Cn(t.env),n=Di(r),i=e.name?`Dev Container: ${e.name}${n}`:`Dev Container${n}`;t.setWorkspaceName(i)}function CR(t){return`/workspaces/${nt.posix.basename(nf(t))}`}var Pv="vsc-volume-bootstrap",of="vsc-volume-inspect";async function oz(t){let e=nt.join(t.common.extensionPath,"scripts","volumeBootstrap.Dockerfile"),r=["build","-f",e,"-t",Pv,nt.dirname(e)];await er(t,...r)}async function wR(t){let e=nt.join(t.common.extensionPath,"scripts","volumeInspect.Dockerfile"),r=["build","-f",e,"-t",of,nt.dirname(e)];await er(t,...r)}async function sz(t,e,r,n,i){let o=e.imageName,s="image"in r?r.image:o;if(Xe(r))try{await az(t,r,n,i,s)}catch(a){throw a instanceof ie?a:new ie({description:"An error occurred building the image.",originalError:a})}return s}async function az(t,e,r,n,i){var m,g;t.common.progress(tt.BuildingImage);let o=e.configFilePath,s=o.scheme==="file",a={platform:s?process.platform:"linux"},c=ht(a,e),u=s?c.fsPath:c.path,l=af(a,e),d=s?l.fsPath:l.path;if(s){let v=nt.dirname(o.fsPath),y=nt.basename(v)===".devcontainer"?nt.dirname(v):v,C=gR.c({cwd:y},["."]),_=await new Promise(x=>{let R=[];C.on("data",k=>R.push(k)),C.on("end",()=>x(Buffer.concat(R)))}),E=`/tmp/devcontainer-${Date.now()}`;await n.exec(`# Copy local config folder to remote
mkdir -p ${E}
${ac(_.byteLength)} | tar --no-same-owner -x -C ${E}`,{stdin:_});let w=nt.relative(y,u);u=nt.posix.join(E,process.platform==="win32"?w.replace(/\\/g,"/"):w);let b=nt.relative(y,d);d=nt.posix.join(E,process.platform==="win32"?b.replace(/\\/g,"/"):b)}if(!await fd(n,u))throw new ie({description:`Dockerfile (${u}) not found.`});let f=["exec","-t",r,"docker","build","-f",u,"-t",i],p=(m=e.build)==null?void 0:m.target;if(p&&f.push("--target",p),t.buildNoCache)f.push("--no-cache","--pull");else if(e.build&&e.build.cacheFrom)if(typeof e.build.cacheFrom=="string")f.push("--cache-from",e.build.cacheFrom);else for(let v=0;v<e.build.cacheFrom.length;v++){let y=e.build.cacheFrom[v];f.push("--cache-from",y)}let h=(g=e.build)==null?void 0:g.args;if(h)for(let v in h)f.push("--build-arg",`${v}=${h[v]}`);f.push(d);try{let v=ne(U({},Ii(t)),{output:ot(t.common.output,pe.Info)});await er(v,...f)}catch(v){throw new ie({description:"An error occurred building the image.",originalError:v,data:{fileWithError:u}})}}async function dR(t,e,r){let n=[`vsch.local.repository=${e.repositoryPath}`];return r?r===Nr?(r=e.uniqueVolumeName,n.push("vsch.local.repository.unique=true")):n.push("vsch.local.repository.unique=false"):(r=e.oldVolumeName,n.push("vsch.local.repository.unique=false")),e.gitUrlInfo.ref&&n.push(`vsch.local.repository.branch=${e.gitUrlInfo.ref}`),e.gitUrlInfo.pullRequestId&&n.push(`vsch.local.repository.pullRequestId=${e.gitUrlInfo.pullRequestId}`),(await Ti(t)).indexOf(r)===-1&&await tx(t,r,n),r}var sf="vsch.local.repository",Tv="vsch.local.repository.volume",Iv="vsch.local.repository.folder";function $s(t,e,r,n){return r?{labels:[`${sf}=${e}`,`${Tv}=${n}`,`${Iv}=${r}`],remoteWorkspaceFolder:t.workspaceFolder(r)}:{labels:[`${sf}=${e}`],remoteWorkspaceFolder:t.getOldWorkspacePath(e)}}var Dc="vsch.quality",ER="vsch.local.folder",bR="vsch.local.volume",xv="/volume";async function fR(t,e,r,n,i,o,s){let{common:a}=t,c,u,l=s||[`${ER}=${i}`,`${Dc}=${a.product.quality}`];try{let d;c=await rf(t,l);let f=!!c;if(c){let p=c.Config.Labels||{};d=await Ai(t.common,r,async()=>p),await kv(t,l,c)}else{if(o&&e)if("image"in r){let{stdout:y}=await Te(t,"images","-q",r.image);y.toString().trim().length===0&&await er(t,"pull",r.image);let C=pz(t,e,r);C.length&&(a.output.write(`Waiting for git clone to finish. (Unsupported: ${C.map(_=>`'${_}'`).join(", ")})`),await o())}else await o();let p=await cz(t,r),h,m=()=>h||(h=kc(t,p,"image"in r));d=await Ai(t.common,r,async()=>(await m()).Config.Labels||{});let g=await xc(t,d,p,m),v=await Gd(t,r,g,m,uz(r.runArgs)||r.containerUser);try{await Dv(t,r,d,v,l,n.workspaceMount)}finally{c=await Nc(t,l)}if(!c)return lf(a.output,"Dev container not found.")}return u=await vn(t,c.Id,n.workspaceFolder,r.remoteUser),await Rv(c,t,u,r,d,e,f,i,o)}catch(d){throw Av(d,c,t,u,r)}}async function Cv(t,{repositoryPath:e,folder:r},n,i,o,s,a){let{common:c}=t,u,l,d,{labels:f,remoteWorkspaceFolder:p}=$s(n,e,r,i),h=[...f,`${Dc}=${c.product.quality}`];try{let m,g="Id"in o;if("Id"in o){l=o,await kv(t,h,l);let v=jn(t,l.Id,"root"),y=await fo(v,c.output,c.sessionId);u=(await n.getConfigurationFromImage(t,n,r,y)).config;let C=l.Config.Labels||{};m=await Ai(t.common,u,async()=>C),d=await vn(t,l.Id,p,u.remoteUser),await cf(t,l.Id,d.user,p,u.initializeCommand)}else{u=o;let v=await n.buildSingleContainer(t,n,u,s,a),y,C=()=>y||(y=kc(t,v.imageName,"image"in u));m=await Ai(t.common,u,async()=>(await C()).Config.Labels||{});let _=await xc(t,m,v.imageName,C);try{let E=await n.getWorkspaceConfiguration(n.repositoryPath,i);await Dv(t,u,m,_,h,E.workspaceMount)}finally{l=await Nc(t,h)}if(!l)return lf(c.output,"Dev container not found.");d=await vn(t,l.Id,p,u.remoteUser),d.user!=="root"&&(d.launchRootShellServer?await vg(d,d.launchRootShellServer,p,u.configFilePath.path):c.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."))}return await Rv(l,t,d,u,m,Ae(Oc.posix,p),g,c.cwd,void 0)}catch(m){throw Av(m,l,t,d,u)}}async function wv(t,e){let{common:r}=t,{volumeName:n}=e,i,o,s,a,c;Vs(e)?(a=xv,c="Inspect Volume"):(a=pr(e.repositoryPath).volumeDestination,c="Recovery Container");let u=Oc.join(t.common.extensionPath,"scripts","devContainerInspect.json"),l={image:of,name:c,configFilePath:we.parse(u),settings:{"extensions.ignoreRecommendations":!0}};s=[`${bR}=${n}`,`${Dc}=${r.product.quality}`],r.setWorkspaceName(c);try{if(i=await rf(t,s),i)await kv(t,s,i),o=await vn(t,i.Id,a,l.remoteUser);else{await wR(t);try{let d=`src=${n},dst=${a},type=volume,volume-driver=local`;await Dv(t,l,void 0,of,s,d)}finally{i=await Nc(t,s)}if(!i)return lf(r.output,"Dev container not found.");o=await vn(t,i.Id,a,l.remoteUser),o.user!=="root"&&(o.launchRootShellServer?await vg(o,o.launchRootShellServer,a):r.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."))}return await Rv(i,t,o,l,void 0,Ae(Oc.posix,a),!0,r.cwd,void 0)}catch(d){throw Av(d,i,t,o,void 0)}}function Av(t,e,r,n,i){let o=t instanceof ie?t:new ie({description:"An error occurred setting up the container.",originalError:t});return e&&(o.manageContainer=!0,o.params=r.common,o.containerId=e.Id,o.dockerParams=r),n&&(o.containerProperties=n),i&&(o.config=i),o}async function Rv(t,e,r,n,i,o,s,a,c){let{common:u}=e,l=at(u.cliHost,r.shellServer);s||await Pd(e,l,n);let d={cwd:a,dockerCLI:e.dockerCLI,env:u.env,containerId:t.Id,user:r.user,sessionId:u.sessionId,shutdownAction:n.shutdownAction,logLevel:u.getLogLevel(),delay:1e4},{shutdownArgs:f}=await Xd(e,l,"singleContainer",d,s?n:void 0),{hostOrContainerPort:p,hostPortServer:h,remoteEnv:m,serverDownloaded:g}=await Ci(u,r,n,i,c,n.devPort||_i);return f.hostPortServer=h,Us(u,r,p,t,o),{params:u,properties:r,config:n,resolvedAuthority:{host:Ri,port:p,extensionHostEnv:m},tunnelInformation:u.isLocalContainer?Hs(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:g}}async function cz(t,e){var n;let r="image"in e?e.image:Ac(t.common);return Xe(e)&&(t.common.progress(tt.BuildingImage),await lz(t,e,r,(n=t.buildNoCache)!=null?n:!1)),r}function uz(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if((r==="-u"||r==="--user")&&e+1<t.length)return t[e+1];if(r.startsWith("-u=")||r.startsWith("--user="))return r.substr(r.indexOf("=")+1)}}async function rf(t,e){let{common:r}=t,n=await Nc(t,e);if(t.expectExistingContainer&&!n)throw new ie({description:"The expected container does not exist."});if(n&&(t.removeOnStartup===!0||t.removeOnStartup===n.Id)){let i="Removing Existing Container",o=r.output.start(i);await Te(t,"rm","-f",n.Id),r.output.stop(i,o),n=void 0}return n}async function kv(t,e,r){let{common:n}=t,i=r.State.Status!=="running";if(i){let o="Starting container",s=n.output.start(o);await Te(t,"start",r.Id),n.output.stop(o,s),await Nc(t,e)||lf(n.output,"Dev container not found.")}return i}async function Nc(t,e){let r=await qn(t,!0,e);return(await Pi(t,r)).filter(i=>i.State.Status!=="removing")[0]}async function lz(t,e,r,n){var p,h;let{cliHost:i,output:o}="cliHost"in t?t:t.common,s=at(i),a=ht(i,e);if(!await s.readDocument(a)){let m=ve(a,i.platform);throw new ie({description:`Dockerfile (${m}) not found.`})}let u=await Ov(a,i),l=["build","-f",u,"-t",r],d=(p=e.build)==null?void 0:p.target;if(d&&l.push("--target",d),n)l.push("--no-cache","--pull");else if(e.build&&e.build.cacheFrom)if(typeof e.build.cacheFrom=="string")l.push("--cache-from",e.build.cacheFrom);else for(let m=0;m<e.build.cacheFrom.length;m++){let g=e.build.cacheFrom[m];l.push("--cache-from",g)}let f=(h=e.build)==null?void 0:h.args;if(f)for(let m in f)l.push("--build-arg",`${m}=${f[m]}`);l.push(await Ov(af(i,e),i));try{let m=ne(U({},Ii(t)),{output:ot(o,pe.Info)});await er(m,...l)}catch(m){throw new ie({description:"An error occurred building the image.",originalError:m,data:{fileWithError:u}})}}async function Dv(t,e,r,n,i,o){let{common:s}=t;s.progress(tt.StartingContainer);let a=e.appPort,c=typeof a=="number"||typeof a=="string"?[a]:a||[],u=[].concat(...c.map(V=>["-p",typeof V=="number"?`127.0.0.1:${V}:${V}`:V])),l=o?["--mount",o]:[],d=e.mounts?[].concat(...e.mounts.map(V=>["--mount",V])):[];if(t.cacheMount==="volume")d.push("--mount","type=volume,src=vscode,dst=/vscode");else if(t.cacheMount==="bind"){await Br(s.localCacheFolder);let V=s.localCacheFolder.indexOf(",")!==-1?'"':"";d.push("--mount",`type=bind,${V}src=${s.localCacheFolder}${V},dst=/vscode`)}let f=e.containerEnv,p=f?Object.keys(f).reduce((V,$)=>(V.push("-e",`${$}=${f[$]}`),V),[]):[],h=e.containerUser?["-u",e.containerUser]:[],m=[];((r==null?void 0:r.features)||[]).some(V=>V.value&&V.privileged)&&m.push("--privileged");let g=new Set([].concat(...((r==null?void 0:r.features)||[]).filter(V=>V.value).map(V=>V.capAdd||[])));for(let V of g)m.push("--cap-add",V);let v=new Set([].concat(...((r==null?void 0:r.features)||[]).filter(V=>V.value).map(V=>V.securityOpt||[])));for(let V of v)m.push("--security-opt",V);let y=[].concat(...[].concat(...((r==null?void 0:r.features)||[]).map(V=>V.value&&V.mounts).filter(Boolean)).map(V=>["--mount",`type=${V.type},src=${V.source},dst=${V.target}`])),C=((r==null?void 0:r.features)||[]).map(V=>V.value&&V.entrypoint).filter(Boolean),_=e.overrideCommand!==!1,E=_?["--entrypoint","/bin/sh"]:[],w=_?["-c",`echo Container started
trap "exit 0" 15
${C.join(`
`)}
while sleep 1 & wait $!; do :; done`]:[],b=["run","--sig-proxy=false","-a","STDOUT","-a","STDERR",...u,...l,...d,...y,...dz(i),"-l",`vsch.remote.devPort=${e.devPort||_i}`,...p,...h,...e.runArgs||[],...m,...E,n,...w],x,R=new Promise((V,$)=>x=$),{started:k}=await Yd(t,fz(i),R,s.output,s.getLogLevel()===pe.Trace),q="Starting container",H=s.output.start(q),Z=ne(U({},Ii(t)),{output:ot(t.common.output,pe.Info)});er(Z,...b).then(x,x),await k,s.output.stop(q,H)}function Gs(t){let e=(t.Config.Labels||{})[ER];return e||void 0}function xo(t){let e=(t.Config.Labels||{})[sf];return e||void 0}function uf(t){let e=(t.Config.Labels||{})[Tv];return e||void 0}function SR(t){let e=(t.Config.Labels||{})[bR];return e||void 0}function PR(t){let e=(t.Config.Labels||{})[Iv];return e||void 0}function dz(t){let e=[];return t.forEach(r=>e.push("-l",r)),e}function fz(t){let e={};return t.forEach(r=>{let n=r.split("=");e[n[0]]=n[1]}),e}function lf(t,e){throw t.write(be(e)),new Error(e)}function pz(t,e,r){let n=[];for(let i in r){let o=hz[i],s=typeof o=="function"?o(t,e,r):o;s===!0?n.push(i):typeof s=="string"?n.push(s):Array.isArray(s)&&n.push(...s)}return n}var hz={configFilePath:!1,image:!1,name:!1,forwardPorts:!1,appPort:!1,devPort:!1,portsAttributes:!1,otherPortsAttributes:!1,extensions:!1,runArgs:(t,e,r)=>{let n={"add-host":!0,"cap-add":!0,gpus:!0,hostname:!0,l:!0,label:!0,"security-opt":!0},i=[];for(let s of r.runArgs){let a=s.indexOf("="),c=a===-1?s.substr(2):s.substr(2,a);if(s.startsWith("--"))i.push(c);else if(s.startsWith("-"))for(let u of s.substr(1))i.push(u)}let o=[];for(let s of i)n[s]||o.push(s);return o},shutdownAction:!1,overrideCommand:!0,initializeCommand:!0,onCreateCommand:!1,updateContentCommand:!1,postCreateCommand:!1,postStartCommand:!1,postAttachCommand:!1,waitFor:!1,workspaceFolder:!1,workspaceMount:(t,e,r)=>TR(t,e,r.workspaceMount)?r.workspaceMount:!1,mounts:(t,e,r)=>r.mounts.filter(TR.bind(void 0,t,e)),settings:!1,containerEnv:!1,remoteEnv:!1,containerUser:!1,remoteUser:!1,updateRemoteUserUID:!1,userEnvProbe:!1,features:!1,hostRequirements:!1};function TR(t,e,r){let n=!!r&&mz(r);return n&&n.type==="bind"&&!!n.source&&gz(t.common.cliHost,e.rootFolderPath,n.source)}function mz(t){let e={src:"source",destination:"target",dst:"target"};return t.split(",").map(r=>r.split("=")).map(([r,n])=>[e[r]||r,n]).reduce((r,[n,i])=>(r[n]=i,r),{type:"bind"})}function gz(t,e,r){let{path:n}=t,i=n.relative(e,r);return!!i&&!i.startsWith("..")&&!n.isAbsolute(i)}var IR=B(require("path"));async function xR(t,e,r,n,i,o){let s,a=new Promise(h=>s=h),c=new Vg,u=[],l=await XI("vscode-remote-containers",async(h,m)=>{let g=await JI(h),v=[];if(g.type==="poll")try{v=await c.dequeue(6e4)}catch(y){}else if(g.type==="reply"){let y=u[g.sequence];y&&(y(g.reply),delete u[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&n.event(g.event);m.write(JSON.stringify(v)),m.end()});l.server.unref();let d=IR.join(r,"dist","shutdown","shutdownMonitorProcess"),f=[l.ipcHandlePath,t,pe[e],i||"",o.getTime().toString()];n.write(`Forking shutdown monitor: ${d} ${f.join(" ")}\r
`);let p=KS(d,f,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",h=>{console.error(h)}),p.unref(),{queue:c,sequence:0,replies:u,done:a}}async function df(t,e,r){let n=t.sequence++,i=new Promise(s=>t.replies[n]=s);return t.queue.push({type:"configure",sequence:n,options:e}),await i}async function AR({queue:t,done:e}){t.push({type:"cleanup"}),await e}var kR=B(require("util"));var DR=B(require("string_decoder")),Nr="__UNIQUE__",Ri="127.0.0.1";async function Ov(t,e){if(t.scheme==="file"&&e.type==="wsl"){let{stdout:r}=await fe({exec:e.exec,cmd:"wslpath",args:["-u",t.fsPath],output:Ye});return r.toString().trim()}return ve(t,e.platform)}function Ws(t,e){let r=t.platform==="win32"&&!t.env.SSH_AUTH_SOCK?sg:t.type==="wsl"?t.env.SSH_AUTH_SOCK:void 0,n={DOCKER_CONTEXT:"default"};return e&&("context"in e?n.DOCKER_CONTEXT=e.context:(e.host&&(n.DOCKER_HOST=e.host),e.certPath&&(n.DOCKER_CERT_PATH=e.certPath),e.tlsVerify&&(n.DOCKER_TLS_VERIFY=e.tlsVerify))),r&&(n.SSH_AUTH_SOCK=r),n}function Cn(t){let e;return t.DOCKER_CONTEXT&&t.DOCKER_CONTEXT!=="default"?e={context:t.DOCKER_CONTEXT}:(e={},t.DOCKER_HOST&&(e.host=t.DOCKER_HOST),t.DOCKER_CERT_PATH&&(e.certPath=t.DOCKER_CERT_PATH),t.DOCKER_TLS_VERIFY&&(e.tlsVerify=t.DOCKER_TLS_VERIFY),Object.keys(e).length||(e=void 0)),e}function ff(t,e){e&&("context"in e&&e.context&&t.write(`Context: ${e.context}\r
`),"host"in e&&e.host&&t.write(`Host: ${e.host}\r
`),"certPath"in e&&e.certPath&&t.write(`CertPath: ${e.certPath}\r
`),"tlsVerify"in e&&e.tlsVerify&&t.write(`TLSVerify: ${e.tlsVerify}\r
`))}function pf(t){return!t.DOCKER_HOST&&(!t.DOCKER_CONTEXT||t.DOCKER_CONTEXT==="default")}function Di(t){return t&&("context"in t||t.host)?` @ ${"context"in t?t.context:t.host}`:""}async function wn(t,e){try{return await Ct(t,e)}catch(r){return}}async function Yd(t,e,r,n,i){let o=await mc(t,{event:["start"]});return{started:new Promise((s,a)=>{r.catch(l=>{o.terminate(),a(l)});let c=new DR.StringDecoder("utf8"),u="";o.stdout.on("data",async l=>{if(l){let d=c.write(l);i&&n.write(`Log: startEventSeen#data ${d.trim().replace(/\r?\n/g,`\r
`)}\r
`);let f=(u+d).split(`
`);u=f.pop();for(let p of f)if(p.trim())try{let h=JSON.parse(p);(h.status||h.Status)==="start"&&await vz(t,h,e)&&(o.terminate(),s())}catch(h){console.error(h),console.error(p)}}})})}}async function vz(t,e,r){var i;let n=((i=e.Actor)==null?void 0:i.Attributes)||(await Ct(t,e.id||e.ID)).Config.Labels||{};return Object.keys(r).every(o=>n[o]===r[o])}function Us(t,e,r,n,i){let o=n.Ports.filter(l=>!!l.PublicPort),s="";if(t.authority&&i){let l=i.isWorkspaceFile?"workspace":"folder",d=e.remoteWorkspaceFolder||"/",f=i.isWorkspaceFile?Oi.posix.join(d,t.cliHost.path.basename(i.workspaceOrFolderPath)):d;s=`&${l}=${encodeURIComponent(`vscode-remote://${t.authority}${f}`)}`}let a=[...o.length?["Published Ports:"]:[],...o.map(l=>`${l.PrivatePort}/${l.Type} -> ${l.IP}:${l.PublicPort}`),...o.length?[""]:[],...t.web?[`VS Code Web: http://localhost:${r}?tkn=${t.connectionToken}${s}`,""]:[]],c=a.reduce((l,d)=>Math.max(d.length,l),0),u="-".repeat(c);c>0&&t.output.write(`\r
\r
${u}\r
${a.join(`\r
`)}${u}\r
\r
`)}async function hf(t){let{common:e}=t,{output:r}=e,n="Check Docker is running",i=r.start(n);try{let{stdout:o}=await Te(t,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);r.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&r.write(be(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",c=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":c.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new ie({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{r.stop(n,i)}}async function kc(t,e,r){try{return await bo(t,e)}catch(n){if(!r)throw n;try{await er(t,"pull",e)}catch(i){throw n.stdout&&t.common.output.write(n.stdout.toString()),n.stderr&&t.common.output.write(be(n.stderr.toString())),n}return bo(t,e)}}function Mt(t){return t.hostPath!==void 0}function Or(t){return t.repositoryPath!==void 0}function Vs(t){return!Or(t)&&t.volumeName!==void 0}function Jr(t){let e=NR("dev-container",t);if(!!e)return typeof e=="string"?{hostPath:e}:"repositoryPath"in e?e.dockerHost?{repositoryPath:e.repositoryPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`,cloneInfo:e.cloneInfo}}:e:"hostPath"in e&&e.dockerHost?{hostPath:e.hostPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`}}:e}function Lc(t,e,r){let n=r?JSON.stringify({hostPath:t,settings:r}):t;return`vscode-remote://dev-container+${Buffer.from(n,"utf8").toString("hex")}${e}`}function Ao(t,e,r,n,i,o){if(t){let a=pr(t);if(!e){let u=JSON.stringify({repositoryPath:t,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(u,"utf8").toString("hex")}${a.getOldWorkspacePath(t)}`}let c=JSON.stringify({repositoryPath:t,volumeName:e,folder:r,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.workspaceFolder(r)}`}let s=JSON.stringify({volumeName:e,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${xv}`}function mf(t){let e=NR("attached-container",t);if(!!e)return typeof e=="string"?{containerId:e}:(e.dockerHost&&(e.settings={host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},delete e.dockerHost),e)}function OR(t,e,r){let n=JSON.stringify({containerName:t,settings:e,cwd:r});return`attached-container+${Buffer.from(n,"utf8").toString("hex")}`}function NR(t,e){try{let[r,n]=e.split("+"),i=r===t&&n?Buffer.from(n,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(r){console.warn(r);return}}async function Nv(t,e,r,n=!1){return!n&&await Ul(t,e,r)||e}function LR(t,e,r){let n=t.path.relative(t.path.dirname(e),r);return`/workspaces/${t.platform==="win32"?n.replace(/\\/g,"/"):n}`}async function pR(t,e,r,n,i,o=!1){if("dockerComposeFile"in r)return{workspaceFolder:pv(r),workspaceMount:void 0};let{workspaceFolder:s,workspaceMount:a}=r;if(e&&(!s||!("workspaceMount"in r))){let c=await Nv(t,e.rootFolderPath,n,o);if(!s){let u=t.path.relative(t.path.dirname(c),e.rootFolderPath);s=`/workspaces/${t.platform==="win32"?u.replace(/\\/g,"/"):u}`}if(!("workspaceMount"in r)){let u=`/workspaces/${t.path.basename(c)}`,l=t.platform!=="linux"?`,consistency=${i||"consistent"}`:"",d=c.indexOf(",")!==-1?'"':"",f=u.indexOf(",")!==-1?'"':"";a=`type=bind,${d}source=${c}${d},${f}target=${u}${f}${l}`}}return{workspaceFolder:s,workspaceMount:a}}function FR(t,e,r){if(t==="win32")return e;let n=`${yz(r,"/")}/`;return(t==="linux"?e.startsWith(n):e.toLowerCase().startsWith(n.toLowerCase()))&&(e=`~/${e.substr(n.length)}`),e}function yz(t,e){if(e.length===0)return t;for(;t.endsWith(e);)t=t.substr(0,t.length-e.length);return t}function zI(t,e){return t.with({path:Oi.posix.resolve(t.path,e)})}async function _z(t,e,r,n,i,o){let s=Cz(e,r,n,i,o);return er(t,...s)}function Cz(t,e,r,n,i){let o=["exec","-it"];if(r&&o.push("-w",r),o.push("-u",e),n)for(let s in n)o.push("-e",`${s}=${n[s]}`);return o.push(t,...i),o}async function Xd(t,e,r,n,i){let{common:o,onRemoveOnShutdownChanged:s}=t;if(o.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let a=o.output.start("Setup shutdown monitor"),c=await xR(r,o.getLogLevel(),o.extensionPath,o.output,o.logFilePath?Oi.dirname(o.logFilePath):void 0,o.sessionStart);df(c,n,o.output).catch(f=>console.error(f)),s&&s(async f=>{n.rebuild=!!f,n.delay=0,await df(c,n,o.output)}),o.onDidChangeLogLevel(async f=>{n.logLevel=f,await df(c,n,o.output)});let u={},l=async()=>{let f=AR(c);u.hostPortServer&&await(0,kR.promisify)(u.hostPortServer.close.bind(u.hostPortServer))(),await f};o.shutdowns.push(l);let d=i?GI(t,e,i).catch(console.error):Promise.resolve();return o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:u,doneWithDocuments:d}}function Hs(t){return{environmentTunnels:t.Ports.filter(e=>!!e.PublicPort).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}}function af(t,e){let r="dockerFile"in e?e.context:e.build.context;return r?Si(t,e,r):wo(ht(t,e))}async function vn(t,e,r,n,i){let{common:o}=t,s="Inspecting container",a=o.output.start(s),c=await Ct(t,e);o.output.stop(s,a);let u=n||c.Config.User||"root",l=u.indexOf(":");l!==-1&&(u=u.substr(0,l)),u==="0"&&(u="root");let d=wz(c.Config.Env),f=jn(t,e,u),p=await Fs(t,e,u,o.loadNativeModule),h=jn(t,e,"root"),m=c.Mounts.find(y=>y.Type==="volume"&&y.Name==="vscode"),g=c.Mounts.find(y=>y.Type==="bind"&&y.Source===o.localCacheFolder),v=m&&Oi.posix.join(m.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(g==null?void 0:g.Destination);return cd({params:o,startedAt:c.State.StartedAt,sharedDataFolder:v,sharedDataFolderIsLocalCacheFolder:!m&&!!g,remoteWorkspaceFolder:r,containerUser:u,containerEnv:d,remoteExec:f,remotePtyExec:p,remoteExecAsRoot:h,rootShellServer:i})}function wz(t){return(t||[]).reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substr(0,n)]=r.substr(n+1)),e},{})}async function hR(t,e){if(!e)return;let{common:r,dockerEnv:n}=t,{cliHost:i,output:o}=r,s=i.platform==="win32",a=s?[i.env.ComSpec||"cmd.exe","/c"]:["/bin/sh","-c"],c=s&&Array.isArray(e)&&e.length?[(e[0]||"").replace(/\//g,"\\"),...e.slice(1)]:e,u=typeof c=="string"?[...a,c]:c;!u.length||await On({ptyExec:i.ptyExec,cmd:u[0],args:u.slice(1),env:n,output:o})}async function cf(t,e,r,n,i){if(!i)return;let o=typeof i=="string"?["/bin/sh","-c",i]:i;!o.length||await _z(t,e,r,n,void 0,o)}function Ac(t){let{cwd:e}="cwd"in t?t:t.cliHost,r=Ez(e),n=Oi.basename(e);return Rd(`vsc-${n}-${r}`)}function Ez(t){return RR.createHash("md5").update(t).digest("hex")}var Qe=B(require("vscode"));var Ro={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(t,e)=>!e,execute:async t=>{await Qe.env.openExternal(Qe.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},ko={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(t,e)=>!e&&t.data.reload!==!1,execute:async t=>{t.manageContainer&&t.dockerParams&&t.containerId&&await Te(t.dockerParams,"stop","-t","0",t.containerId),await Qe.commands.executeCommand("workbench.action.reloadWindow")}},MR={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(t,e)=>t.manageContainer&&!!t.dockerParams&&!!t.containerId&&!e,execute:async t=>{await Te(t.dockerParams,"rm","-f",t.containerId),await Qe.commands.executeCommand("workbench.action.reloadWindow")}},zs={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(t,e)=>!e,execute:async t=>{await Qe.commands.executeCommand("workbench.action.openRecent")}},qR={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:t=>!!t.dockerParams&&!!t.containerId&&t.data.start===!0,execute:async t=>{await Te(t.dockerParams,"start",t.containerId),await Qe.commands.executeCommand("workbench.action.reloadWindow")}},jR={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:t=>t.data.attach===!0,execute:async()=>{await Qe.commands.executeCommand("remote-containers.attachToRunningContainer")}},Ni={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(t,e)=>{if(!e)return!1;let r=Qe.workspace.workspaceFile;return!(r&&r.scheme==="untitled"||Qe.workspace.textDocuments.some(i=>i.isDirty))},execute:async t=>{await Qe.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Ks=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(t,e)=>e&&t.data.reload!==!1,execute:ko.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(t,e)=>e,execute:async t=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(t,e)=>e&&!!t.data.learnMoreUrl,async execute(t){await Qe.env.openExternal(Qe.Uri.parse(t.data.learnMoreUrl))}}];async function Li(t,e,r,n=!1,i){let o=t instanceof ie?t:new ie({description:"An error occurred setting up the container.",originalError:t});if(i){i.show();let f=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(f!==void 0){let p=String(f),h=be(p);i.log.write(h)}}if(t.message.indexOf("Cancelled container configuration selection")!==-1)throw await Qe.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Qe.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[Ro]);let a=await s.reduce(async(f,p)=>await p.applicable(o,!0)?[...await f,p]:f,Promise.resolve([])),c=await Qe.window.showErrorMessage(o.description,{modal:!0},...a);if(c&&($R(r,e,c.id),await c.execute(o)),c&&c.isLastAction){if(n)throw Qe.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let u=await s.reduce(async(f,p)=>await p.applicable(o,!1)?[...await f,p]:f,Promise.resolve([])),l=u.map(f=>({label:f.title,action:f}));async function d(){let p=await(u.length?Qe.window.showQuickPick(l,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));p&&($R(r,e,p.action.id),p.action.execute(o).catch(console.error),p.action.isLastAction||await d())}if(d().catch(console.error),n)throw Qe.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function $R(t,e,r){t.sendTelemetryEvent("errorAction",{resolver:e,action:r})}var J=B(require("vscode")),Wc=B(require("path")),_O=B(require("os"));var CO=B(Ok()),qi=B(yO());var E5="remote.containers.defaultExtensions",ea="remote-containers.revealLogTerminal",Oy="remote-containers.revealPostCreateTerminal",zc="remote-containers.openDevContainerFile",wO="remote-containers.openRepositoryInVolume",Mf="remote-containers.openRepositoryInUniqueVolume",EO="remote-containers.openRepositoryFromRemoteHub",bO="remote-containers.openPullRequestInVolume",Kc=J.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),Yc=J.Uri.parse("https://aka.ms/vscode-dev-containers"),SO=new fg,nr={onRemoveOnShutdownChangedEmitter:SO,onRemoveOnShutdownChanged:SO.event,results:new Map},Fr=t=>YS(t,J.env.appRoot);function qf(t,e,r,n){return async(i,o)=>{if(J.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),o.resolveAttempt>1){let s=r.get(i);if(!s)throw new Error("Reconnect attempt without old result.");if(s.dockerContainerId){let a=await wn(s.dockerParams,s.dockerContainerId);if(!a)throw J.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(a.State.Status==="paused")throw J.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(a.State.Status!=="running")throw J.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return ne(U({connectionToken:void 0},s.resolvedAuthority),{isTrusted:s.isTrusted})}else{let s="Resolving Remote",a=t.log.start(s),c=await n(i,t,e);return b5(c.params,c.properties).catch(u=>{}),r.set(i,c),t.log.stop(s,a),J.window.withProgress({location:J.ProgressLocation.Window,title:$5,cancellable:!1},async u=>{await ZT(c.params.backgroundTasks)}).then(void 0,u=>{t.show(),t.log.write(be(String(u&&(u.stack||u.message)||u)))}),ne(U(U({connectionToken:void 0},c.resolvedAuthority),c.tunnelInformation),{isTrusted:c.isTrusted})}}}async function b5(t,e){if(!e.nodeExecutable)return;let r=await Pe(Wc.join(t.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await Ln(t,e,[e.nodeExecutable,"-e",r],void 0,{silent:!0}),i=n.toString().trim();t.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var Ny;async function S5(){return Ny||(Ny=gn(Wc.join(__dirname,"..",".."),Wn)),Ny}var Xc={};async function Wn(t,e=!0){var r;if(t.counter&&((r=Xc[t.prompt])==null?void 0:r.from)===t.counter&&delete Xc[t.prompt],!Xc[t.prompt]){if(!e)return"";Xc[t.prompt]={result:Promise.resolve(J.window.showInputBox({prompt:t.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(n=>n||"")),from:t.counter}}return Xc[t.prompt].result}async function Oe(t,e,r=!0,n=S5()){e&&typeof e!="string"&&"scheme"in e&&(e.scheme==="file"?e=e.fsPath:e=Ja(e));let i;if(!e){let c=(J.workspace.workspaceFolders||[])[0];if(c){if(J.env.remoteName==="wsl")e=Ja(c.uri);else if(J.env.remoteName==="ssh-remote"){let u=P5(c.uri.authority);if(u){let{user:l,hostName:d,port:f}=u;i={host:`ssh://${l?`${l}@`:""}${d}${f?`:${f}`:""}`}}}}e||(e=process.cwd())}let o=await Tr(e,Fr,t,r),s=ji(),a=ta();if(!i){let c=J.workspace.getConfiguration("docker"),u=c.get("context")||o.env.DOCKER_CONTEXT;u||(u=await zg({cliHost:o,dockerCLI:s,dockerComposeCLI:a,env:{},output:Ye})||"default"),u&&u!=="default"?i={context:u}:(i=Cn(o.env)||{},"context"in i||(Ly(i,c,"host"),Ly(i,c,"certPath"),Ly(i,c,"tlsVerify"),Object.keys(i).length||(i=void 0)))}return{cliHost:o,dockerCLI:s,dockerComposeCLI:a,env:U(U({},await n),Ws(o,i)),output:t}}function P5(t){let e=/^ssh-remote\+(.*)$/.exec(t);if(!e)return;let r=e[1];try{let n=JSON.parse(Buffer.from(r,"hex").toString("utf8"));if(n&&n.hostName)return n}catch(n){}return{hostName:r}}function Ly(t,e,r){let n=e.get(r);n&&(t[r]=n)}var T5=["remote.containers.dockerPath","docker.context","docker.host","docker.certPath","docker.tlsVerify"];function PO(){let t=new J.EventEmitter,e=J.workspace.onDidChangeConfiguration(async a=>{T5.some(c=>a.affectsConfiguration(c))&&t.fire()}),r,n,i,o=()=>{(async()=>{n||(n=await Tr(process.cwd(),Fr,Ye));let a={cliHost:n,dockerCLI:ji(),dockerComposeCLI:ta(),env:{},output:Ye},c=await zg(a);c===void 0?i=setTimeout(o,2*60*1e3):(c!==r&&(r!==void 0&&t.fire(),r=c),i=setTimeout(o,2*1e3))})().catch(console.error)};o();let s=t.dispose;return t.dispose=()=>{e.dispose(),i&&clearTimeout(i),s.call(t)},t}async function No(){let t=J.workspace.workspaceFolders;if((t==null?void 0:t.length)===1){let e=t[0].uri;return Fy(e)}return null}async function Fy(t){if(t&&t.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(t.authority)){let r=Jr(t.authority);if(Mt(r))return null;if(Or(r)&&r.inspectVolume&&r.inspectVolume===!0)return r}return null}function jf(t){return{getConfigurationState:()=>t.get("configurationState"),updateConfigurationState:async e=>t.update("configurationState",e),containerOutdated:I5}}async function I5(t){let e="Rebuild",r="Ignore",n=await J.window.showInformationMessage(`Configuration file(s) changed: ${t.join(", ")}. The container might need to be rebuilt to apply the changes.`,e,r);if(n===e)return J.commands.executeCommand("remote-containers.rebuildContainer");if(n===r)return"ignore"}async function x5(t,e){return t?TO():Array.from(new Set([...e,...J.workspace.getConfiguration().get(E5)||[],...TO()]))}function TO(){let t=J.env.language,e=t.indexOf("-"),r=IO(t)||(e!==-1?IO(t.substr(0,e)):void 0);return r?[r]:[]}function IO(t){let e=t.toLowerCase();return J.extensions.all.filter(r=>{var i;let n=r.packageJSON&&r.packageJSON.contributes;return((i=n==null?void 0:n.localizations)==null?void 0:i.length)?!!n.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===e}):!1}).map(r=>r.id)[0]}function A5(){return!!J.workspace.getConfiguration().get("telemetry.enableTelemetry")}function xO(){return!!J.workspace.getConfiguration().get("workbench.enableExperiments")}function R5(){return!!J.workspace.getConfiguration().get("remote.containers.enableWebAccess")}function $f(){return J.workspace.getConfiguration().get("remote.containers.workspaceMountConsistency")||"cached"}function Uf(){var t;return(t=J.workspace.getConfiguration().get("remote.containers.cacheVolume"))!=null?t:!0}function k5(){let t=J.workspace.getConfiguration().get("remote.containers.copyGitConfig");return typeof t=="boolean"?t:!0}function D5(){return J.workspace.getConfiguration().get("remote.containers.gitCredentialHelperConfigLocation")||"global"}function ji(){return J.workspace.getConfiguration().get("remote.containers.dockerPath")||"docker"}function ta(){return J.workspace.getConfiguration().get("remote.containers.dockerComposePath")||"docker-compose"}function My(){let t=J.workspace.getConfiguration().get("remote.containers.logLevel")||"debug";return tC(t)}var O5=t=>J.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("remote.containers.logLevel")&&t(My())});function N5(){let t=J.workspace.getConfiguration();return{repository:(t.get("remote.containers.dotfiles.repository","")||t.get("dotfiles.repository","")).trim()||void 0,installCommand:(t.get("remote.containers.dotfiles.installCommand","")||t.get("dotfiles.installCommand","")).trim()||void 0,targetPath:(t.get("remote.containers.dotfiles.targetPath","")||t.get("dotfiles.targetPath","")).trim()||"~/dotfiles"}}function zn(t,e,r,n,i,o){let s={resolver:e,outcome:r};n&&(s.configProperties=JSON.stringify(Object.keys(n)),s.configExtensions=JSON.stringify(n.extensions||[])),i&&(s.hardwareId=i.osRelease.hardware,s.osReleaseId=i.osRelease.id,s.osReleaseVersion=i.osRelease.version);let a=o&&o.originalError,c=a&&(a.stack||a.message||String(a))||o&&o.description;c&&(s.errorMessage=c),t.sendTelemetryEvent("resolver",s)}var AO=class{constructor(e){this.onClose=e;this.writeEmitter=new J.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new J.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(e=>this.writeEmitter.fire(e))}close(){this.ready=!1,this.onClose()}write(e){this.queue.push(e),this.ready&&this.writeEmitter.fire(e)}handleInput(e){this.inputEmitter.fire(e)}},Hf=class{constructor(e,r,n=void 0){this.sessionStart=r;this.outputTerminal=new AO(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=e?Wc.join(e,`remoteContainers-${r.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=L5(i,My,this.logFilePath,r,n),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>J.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(e){this._name=e}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(e){this._revealOnNextOutput=e}show(){this._terminal||(this._terminal=J.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function L5(t,e,r,n,i=void 0){let o=[];return r&&o.push(iC(r,()=>Math.min(pe.Debug,e()))),o.push(oC(t,e,n)),ot(nC(o,i))}async function qy(t,e){let r=await wn(t,e.Id);if(r&&r.State.Status==="running")try{await Te(t,"stop",r.Id)}catch(n){J.window.showErrorMessage(`Error stopping container: ${n.message}`)}}async function Bf(t,e){let r=await wn(t,e.Id);if(r&&r.State.Status!=="running")try{await Te(t,"start",r.Id)}catch(n){J.window.showErrorMessage(`Error starting container: ${n.message}`)}}async function RO(t,e){try{await Te(t,"rm",e)}catch(r){J.window.showErrorMessage(`Error removing container: ${r.message}`)}}async function jy(t,e){try{await Te(t,"volume","rm","--force",e)}catch(r){J.window.showErrorMessage(`Error removing volume: ${r.message}`)}}function F5(){return J.env.sessionId!=="someValue.sessionId"?J.env.sessionId:`${J.env.sessionId}_${Date.now()}`}function M5(t,e){let r=J.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:t.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:e,tildify:!0}});t.shutdowns.push(r.dispose.bind(r))}async function kO(t,e){return t.globalState.get("removeOnStartup")===e?(await t.globalState.update("removeOnStartup",null),!0):t.workspaceState.get("removeOnStartup",!1)}async function DO(t,e){await t.workspaceState.update("removeOnStartup",e)}async function $y(t,e){await t.globalState.update("removeOnStartup",e)}async function OO(t,e){return t.globalState.get("buildNoCache")===e?(await t.globalState.update("buildNoCache",null),!0):!1}async function Qc(t,e){await t.globalState.update("buildNoCache",e)}async function Vf(t,e,r,n,i){await t.globalState.update("openEditorsOnStartup",{workspaceFolder:e,fileWithError:r==null?void 0:r.toString(),logFile:n,openLog:i})}async function NO(t){var r;let e=t.globalState.get("openEditorsOnStartup");if(e){await t.globalState.update("openEditorsOnStartup",void 0);let n=(r=J.workspace.workspaceFolders)==null?void 0:r.some(o=>o.uri.fsPath===e.workspaceFolder||o.uri.path===e.workspaceFolder),i=await No();if(n||i&&i.repositoryPath===e.workspaceFolder&&(n=!0),n){let o=e.fileWithError?we.parse(e.fileWithError):void 0;if(e.openLog==="onTheSide"&&await FO(o),e.openLog&&e.logFile){let s={viewColumn:e.openLog==="onTheSide"?J.ViewColumn.Beside:J.ViewColumn.One,preserveFocus:!0},a=await J.window.showTextDocument(J.Uri.file(e.logFile),s),c=new J.Position(a.document.lineCount-1,0);a.selection=new J.Selection(c,c),a.revealRange(a.selection)}return e.openLog!=="onTheSide"&&await FO(o),!0}}return!1}function LO(t){return[`vscode-remote:/workspaces/${t}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${t}/.devcontainer.json`]}async function FO(t){return t?J.commands.executeCommand("vscode.open",J.Uri.parse(t.toString()),{viewColumn:J.ViewColumn.One}):J.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:J.ViewColumn.One})}async function Uy(t){if(nr.results.size)return[...nr.results.values()].filter(o=>o.config).map(o=>o.config.configFilePath);let e=En(),r=J.workspace.workspaceFolders||[],n=await Promise.all(r.map(async o=>{let s=Ae(t.path,ve(o.uri,t.platform));return await Qr(t,s,e)})),i=J.workspace.workspaceFile;if(i&&i.scheme!=="untitled"){let o=Ae(t.path,ve(i,t.platform)),s=await Qr(t,o,e);s&&n.indexOf(s)===-1&&n.unshift(s)}return n.filter(o=>!!o)}function En(){return J.workspace.getConfiguration().get("remote.containers.repositoryConfigurationPaths")||[]}async function q5(t,e){await J.workspace.openTunnel({remoteAddress:{host:"localhost",port:e}})}var MO=!1;function j5(t,e){if(t.type==="socatNotFound"){let r="socatNotFound_doNotShow";!MO&&!e.globalState.get(r)&&(MO=!0,(async()=>{let n="Don't Show Again";await J.window.showWarningMessage("Cannot connect to WSL socket: 'socat' not installed in WSL distro.",n,"OK")===n&&await e.globalState.update(r,!0)})().catch(console.error))}}function qO(t,e){let r=new Hf(void 0,e);r.name="Configuring...",r.revealOnNextOutput=!0;let n=!1;r.onDidInput(()=>{n&&(n=!1,r.dispose())});let i={enabled:!0,skipNonBlocking:!1,output:XS(r.log,t),onDidInput:r.onDidInput,done:()=>{r.shown&&(r.log.raw("[1mDone. Press any key to close the terminal.[0m"),n=!0)}};return{channel:r,postCreate:i}}async function ra(t){let{authority:e,extensionContext:r,sessionStart:n,progress:i,cliHost:o,env:s,cwd:a,isLocalContainer:c,telemetry:u,output:l,logFilePath:d,allowSystemConfigChange:f,postCreate:p}=t,h=R5(),m=ne(U({computeExtensionHostEnv:!0},u),{appRoot:J.env.appRoot,localCacheFolder:Wc.join(_O.tmpdir(),"vsch"),extensionPath:r.extensionPath,connectionToken:h?UT:void 0,sessionId:F5(),sessionStart:n,authority:e,cliHost:o,env:s,cwd:a,isLocalContainer:c,getExtensionsToInstall:x5,isCopyGitConfigEnabled:k5(),credentialHelperConfigLocation:D5(),dotfilesConfiguration:N5(),progress:H5(i),output:l,logFilePath:d,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:p,telemetry:A5(),forwardServerPort:!0,web:h,getLogLevel:My,onDidChangeLogLevel:O5,loadNativeModule:Fr,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:g=>M5(m,g),openTunnel:q5,getTunnels:()=>Promise.resolve(J.workspace.tunnels),fireEvent:g=>j5(g,r),onAdoptProcess:J.window.onDidOpenTerminal});return m}var na=`[Starting Dev Container (show log)](command:${ea} "Show details in terminal")`,$5=`[Configuring Dev Container](command:${Oy} "Show details in terminal")`,U5={[tt.Begin]:"",[tt.CloningRepository]:"Cloning Repository",[tt.BuildingImage]:"Building image",[tt.StartingContainer]:"Starting container",[tt.InstallingServer]:"Installing server",[tt.StartingServer]:"Starting server",[tt.End]:""};function H5(t){let e=0;return r=>{let n=tt.End-r,i=(100-e)/(n+1);t.report({message:U5[r],increment:i}),e+=i}}async function jO(t,e,r){let{name:n,publisher:i,version:o,aiKey:s}=e;if(!s)return J_(e,r);let a=i?`${i}.${n}`:n,c=new CO.default(a,o,s);t.subscriptions.push(c);let u=new $O(c),l=B5(r),d=xO()?(0,qi.getExperimentationService)(a,o,l,u,t.globalState):void 0;return{sendTelemetryEvent:u.sendTelemetryEvent.bind(u),isCachedFlightEnabled:async f=>d&&xO()?d.isCachedFlightEnabled(f):!1,product:r,package:e}}var $O=class{constructor(e){this.baseReporter=e;this.sharedProperties={}}sendTelemetryEvent(e,r,n){this.baseReporter.sendTelemetryEvent(e,U(U({},this.sharedProperties),r),n)}setSharedProperty(e,r){this.sharedProperties[e]=r}postEvent(e,r){let n={};for(let[i,o]of r)n[i]=o;this.sendTelemetryEvent(e,n)}};function B5(t){switch(t.quality){case"stable":return qi.TargetPopulation.Public;case"insider":return qi.TargetPopulation.Insiders;case"exploration":return qi.TargetPopulation.Internal;case void 0:return qi.TargetPopulation.Team;default:return qi.TargetPopulation.Public}}var Jc="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",Hy="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Zc(t,e){if((e==null?void 0:e.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-"))||t.globalState.get(Hy))return!0;let r="Got It",n="Learn More",i=await J.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},r,n);return i===r?(await t.globalState.update(Hy,!0),!0):(i===n&&J.env.openExternal(J.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var By="userConfirmedAttachToContainerRequiresTrust";async function $i(t){if(t.globalState.get(By))return!0;let e="Got It",r="Learn More",n=await J.window.showWarningMessage("Attaching to a container may execute arbitrary code. Only attach to a container if you trust its origin.",{modal:!0},e,r);return n===e?(await t.globalState.update(By,!0),!0):(n===r&&J.env.openExternal(J.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function UO(t){t.globalState.setKeysForSync([Hy,By])}function HO(){let t=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(t)&&(process.env.PATH=`${t}:/usr/local/bin`)}var Ve=B(require("vscode")),Se=B(require("path")),J1=B(require("fs"));var Z1=B(M1());var eF=B(require("util"));var q1=B(require("path"));var V7=["png","md","json","txt","map"],G7=["node_modules",".git","bin","out","dist",".vscode-test"],W7=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],j1={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},$1={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},z7=["docker-existing-docker-compose","docker-existing-dockerfile","codespaces-linux"];async function f_(t,e){for(let r of e)if(r.metaData){if(z7.indexOf(q1.basename(r.definitionFolder))>-1)continue;let n=0,i=0,o=r.metaData.get("languagesPlatforms");if(o){let s=o.split(",").map(a=>a.trim());if(s[0]==="Any")n+=5;else for(let a of s)if($1[a]){let c=$1[a];for(let u of c)t.fileTypes.get(u.toLowerCase())&&(n+=10),t.mostPopularFileType===u&&(n+=10)}else if(j1[a]){let c=j1[a],u=!1;for(let l of c)t.configFiles.get(l)&&(u=!0,i+=20);u||(i-=20)}}r.recommendationScore=n+(i<0?-4:i)}}async function U1(t,e){return K7(t,e.rootFolderPath,G7,V7)}async function K7(t,e,r,n){let i=new Map,o=new Map,s=500;function a(p,h,m,g){let v=[];(t.readDirWithTypes||t.readDir)(p).then(C=>{if(m.count>=s)return m.count+=C.length,m.maxReached=!0,g(v);let _=C.length;if(_===0)return g(v);let E=C;m.count+C.length>s&&(m.maxReached=!0,_=s-m.count,E=C.slice(0,_)),m.count+=C.length;for(let w of E){let b=Array.isArray(w)?w[0]:w;(Array.isArray(w)?Promise.resolve((w[1]&wd.File)!=0):t.isFile(t.path.join(p,b))).then(R=>{R?(v.push(b),--_==0&&g(v)):h.indexOf(b)===-1?a(t.path.join(p,b),h,m,k=>{if(v=v.concat(k),--_==0)return g(v)}):--_==0&&g(v)},()=>{if(--_==0)return g(v)})}},()=>g(v))}let c=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},u=p=>{for(let h of W7)h.pattern.test(p)&&(o.has(h.tag)?o.set(h.tag,o.get(h.tag)+1):o.set(h.tag,1))},l=p=>{if(p.lastIndexOf(".")>=0){let h=p.split(".").pop();h&&!n.includes(h)&&c(h.toLowerCase())}u(p)},d=p=>[...p.entries()].reduce((h,m)=>m[1]>h[1]?m:h,["",0])[0],f={count:0,maxReached:!1};return new Promise((p,h)=>{a(e,r,f,async m=>{m.forEach(l),p({configFiles:o,fileTypes:i,fileCount:f.count,mostPopularFileType:d(i)})})})}var H1=B(require("path"));var ca=B(require("vscode"));async function op(){await ca.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}var sp=class{async readDocument(e){try{let r=await ca.workspace.fs.readFile(e);return Buffer.from(r).toString()}catch(r){return}}async applyEdits(e,r,n){let i=Dt(n,r);await ca.workspace.fs.writeFile(e,Buffer.from(i))}};var ut=B(require("vscode"));function B1(){return{provideCompletionItems(t,e,r){let n=Db(t.getText(),t.offsetAt(e)),i=t.getWordRangeAtPosition(e)||new ut.Range(e,e);if(n.path[0]==="extensions"){let o=je(t.getText());return Y7(o,i)}return[]}}}function Y7(t,e){let r=t&&t.extensions||[];if(Array.isArray(r)){let n=ut.extensions.all.filter(i=>!(i.id.startsWith("vscode.")||i.id==="Microsoft.vscode-markdown"||r.indexOf(i.id)>-1));if(n.length)return n.map(i=>{let o=new ut.CompletionItem(i.id),s=`"${i.id}"`;return o.kind=ut.CompletionItemKind.Value,o.insertText=s,o.range=e,o.filterText=s,o})}}async function V1(t){let e=await p_(t);if((e==null?void 0:e.scheme)===Vt.scheme){let r=ve(e,t.fileHost.platform);e=await t.fileHost.toCommonURI(r)}e&&await ut.window.showTextDocument(ut.Uri.parse(e.toString()))}async function p_(t){let e=await t.findDevContainerFiles();if(!e.length){let n="Add Files...";await ut.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await iu(t)&&(e=await t.findDevContainerFiles())}if(!e.length)return;let r;return e.length===1?r={uri:e[0]}:r=await ut.window.showQuickPick(e.map(n=>({label:n.scheme==="file"?n.fsPath:n.toString(),uri:n})),{placeHolder:"Select a container configuration file"}),r==null?void 0:r.uri}async function G1(t,e){let r=await p_(t);if(r){let n=at(t.fileHost);r.scheme==="file"&&!await it(r.fsPath)?await Ar(Yr,r,[],Mn):r.scheme==="vscode-remote"&&(n=new sp);let i=await n.readDocument(r);if(i){let s=je(i).extensions||[],a=t.openConfigurationCommandId?`[Dev Container configuration](command:${t.openConfigurationCommandId})`:"Dev Container configuration";if(s.indexOf(e)===-1){s.push(e);let c=_t(i,["extensions"],s,{formattingOptions:{}});await n.applyEdits(r,c,i),await ut.window.showInformationMessage(`Extension has been added to the ${a}.`)}else await ut.window.showInformationMessage(`Extension is already included in the ${a}.`)}}}async function W1(t,e){var s,a;let r=await ut.commands.executeCommand("remote.tunnel.label",e);if(r===void 0)return;let n=r.label,i=r.port,o=await p_(t);if(o){let c=at(t.fileHost);o.scheme==="file"&&!await it(o.fsPath)?await Ar(Yr,o,[],Mn):o.scheme==="vscode-remote"&&(c=new sp);let u=await c.readDocument(o);if(u){let d=(s=je(u).portsAttributes)!=null?s:{},f=(a=d[`${i}`])!=null?a:{},p=t.openConfigurationCommandId?`[Dev Container configuration](command:${t.openConfigurationCommandId})`:"Dev Container configuration";if(d&&f&&f.label===n)await ut.window.showInformationMessage(`Port attributes are already included in the ${p}.`);else{f.label=n,d[`${i}`]=f;let h=_t(u,["portsAttributes"],d,{formattingOptions:{}});await c.applyEdits(o,h,u),await ut.window.showInformationMessage(`Port attributes have been added to the ${p}.`)}}}}var rn=B(require("vscode")),ou=B(require("path"));async function z1(t,e){var i,o;let{fileHost:r}=t,n=await t.findDevContainerFiles();if(n.length){let s=n.length>1?(i=await rn.window.showQuickPick(n.map(d=>({label:d.scheme==="file"?d.fsPath:d.toString(),uri:d})),{placeHolder:"Select a container configuration file"}))==null?void 0:i.uri:n[0];if(!s)return;let a=r.path.dirname(ve(s,r.platform)),c=r.path.basename(a)===".devcontainer"?r.path.dirname(a):a,u=Ae(r.path,c),l=await y_(r,u);if(l){let d=ne(U({},l.object),{configFilePath:l.uri});if("image"in d)return{workspace:u,config:l,imageName:d.image};if(Xe(d)){let f=((o=d.build)==null?void 0:o.args)||{},p=ht(r,d),h=await h_(r,p,f);if(h)return U({workspace:u,config:l},h)}if("dockerComposeFile"in d){let f=await fr(r,d),p=await e.readDockerComposeConfig(f,void 0),h=await K1(r,f,c,l.uri,d,p);if(h)return U({workspace:u,config:l},h)}}}else{let s="Add Files...";await rn.window.showInformationMessage("No container configuration file found.",{modal:!0},s)===s&&await iu(t)}}async function K1(t,e,r,n,i,o){var u;let s=((o==null?void 0:o.services)||{})[i.service]||{},a=X7(t,e,r,s),c=a?await h_(t,Os(t,n,a),((u=s.build)==null?void 0:u.args)||{}):void 0;if(c)return c;if(typeof s.image=="string")return{imageName:s.image,manifest:await ap(s.image)}}function X7(t,e,r,n){let i=e.length?t.path.dirname(e[0]):r,o=n.build;if(typeof o=="string")return t.path.resolve(i,o,"Dockerfile");if(o&&typeof o=="object"&&typeof o.context=="string"){let s=typeof o.dockerfile=="string"?o.dockerfile:"Dockerfile";return t.path.resolve(i,o.context,s)}}async function h_(t,e,r){let i=await at(t).readDocument(e);if(i){let o=(/^\s*FROM\s+(\S+)(\s|$)/m.exec(i)||[])[1]||void 0;if(o){let s=o.replace(/\$\{([^\}]+)\}/,(a,c)=>r[c]||a);return{imageName:s,manifest:await ap(s)}}}}async function Y1(t,e,r){let{fileHost:n}=t,{workspace:i,config:o}=e,s=ou.join(await ua(),".."),a=rn.window.createQuickPick();a.ignoreFocusOut=!0;let c={fileHost:n,workspace:i,quickPick:a,extensionPath:s,telemetry:await t.telemetry,output:t.output},l=(await Vd(c,o.object,async()=>{var f,p;return U({"com.visualstudio.code.devcontainers.id":(f=e.manifest)==null?void 0:f.definitionName,version:(p=e.manifest)==null?void 0:p.definitionVersion},r)})).features.filter(f=>f.included);if(!l.length){await rn.window.showInformationMessage("No container features available for the current base image.",{modal:!0});return}let d=await g_(c,l,l.filter(f=>f.value!==f.default));try{if(d){let f=o.text;for(let p of l){let h=d[p.id];if(h!==p.value){let m=_t(f,["features",p.id],h!==p.default?h:void 0,{formattingOptions:{}});f=Dt(f,m)}}await at(n).applyEdits(o.uri,[{content:f,offset:0,length:o.text.length}],o.text)}}finally{a.dispose()}}async function m_(t,e,r,n){var d;if(!v_())return e;let{fileHost:i}=t,o;if("image"in r)o=await ap(r.image);else if(Xe(r)){let f=((d=r.build)==null?void 0:d.args)||{},p=ht(i,r),h=await h_(i,p,f);o=h==null?void 0:h.manifest}else if("dockerComposeFile"in r){let f=await fr(i,r);if(f.length&&await i.isFile(f[0])){let p=await i.readFile(f[0]),h=Kr(p.toString()),m=await K1(i,f,t.workspace.rootFolderPath,r.configFilePath,r,h);o=m==null?void 0:m.manifest}o=o||await __(ou.basename(e.definitionFolder))}let s=ou.join(await ua(),".."),c=(await Vd(ne(U({},t),{extensionPath:s}),r,async()=>({"com.visualstudio.code.devcontainers.id":o==null?void 0:o.definitionName,version:o==null?void 0:o.definitionVersion}))).features.filter(f=>f.included),u=await g_(t,c,c.filter(f=>f.value!==f.default),!0);if(!u)return;if(u==="back")return n();let l=e.configText;for(let f of c){let p=u[f.id];if(p!==f.value){let h=_t(l,["features",f.id],p!==f.default?p:void 0,{formattingOptions:{}});l=Dt(l,h)}}return ne(U({},e),{configText:l})}async function g_(t,e,r,n=!1){let i=e.length?await Kn(t.quickPick,e.map(s=>({label:s.name,picked:r.indexOf(s)!==-1,feature:s})).sort((s,a)=>s.label.localeCompare(a.label)),"Select additional features to install",void 0,!0,n):[];if(!i)return;if(i==="back")return"back";let o=i.map(s=>s.feature);return Q7(t,e,o,()=>g_(t,e,o))}async function Q7(t,e,r,n){let i={};for(let s of e)i[s.id]=s.type==="option"?r.indexOf(s)!==-1:s.default;let o=r.filter(s=>s.type==="choice");return async function s(a,c,u){if(!c.length)return a;let l=c[0],d=(l.values||[]).map(p=>({label:String(p),picked:l.value===p})),f=await Kn(t.quickPick,d,l.hint||"Select a value",void 0,void 0,!0);if(!!f)return f==="back"?u():s(ne(U({},a),{[l.id]:f.label}),c.slice(1),()=>s(a,c,u))}(i,o,n)}var X1="remote.containers.experimentalContainerFeatures";function Q1(){return rn.commands.executeCommand("setContext","experimentalContainerFeatures",v_()),rn.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(X1)&&rn.commands.executeCommand("setContext","experimentalContainerFeatures",v_())})}function v_(){return rn.workspace.getConfiguration().get(X1,!1)}async function tF(t,e){return{async openConfiguration(){return V1(e)},async createConfiguration(){return iu(e)},async addExtensionToConfiguration(r){return G1(e,r)},async addPortLabelToConfiguration(r){return W1(e,r)},createCompletionItemProvider(){return B1()}}}async function iu(t){let{fileHost:e}=t,r=await J7();if(r){let n=ve(r,e.platform),i=Ae(e.path,n),o=await Nl(e,i);if(o){let a="Continue";if(await Ve.window.showInformationMessage(`The workspace could fail to open in a container: ${o}`,{modal:!0},a)!==a)return!1}let s=await su(t,i);if(s){let a=await e.toCommonURI(s);return a&&Ve.window.showTextDocument(Ve.Uri.parse(a.toString())),!0}}return!1}async function J7(){let t=Ve.workspace.workspaceFile,e=Ve.workspace.workspaceFolders,r;if(t){if(t.scheme==="untitled"){await op();return}r=t}else if(e&&e.length)if(e.length>1){let n=await Ve.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});n&&(r=n.uri)}else r=e[0].uri;return r}function Kn(t,e,r,n,i,o){if(t.value="",t.title=n||"Add Development Container Configuration Files",t.placeholder=r,t.canSelectMany=!!i,Array.isArray(e))if(t.items=e,i)t.selectedItems=e.filter(c=>c.picked);else{let c=e.find(u=>u.picked);c&&(t.activeItems=[c])}t.buttons=o?[Ve.QuickInputButtons.Back]:[];let s=[],a=new Promise((c,u)=>{Array.isArray(e)||(t.busy=!0,e.then(l=>{if(t.busy=!1,t.items=l,i)t.selectedItems=l.filter(d=>d.picked);else{let d=l.find(f=>f.picked);d&&(t.activeItems=[d])}},l=>{t.busy=!1,u(l)})),s.push(t.onDidAccept(()=>{c(i?t.selectedItems.slice():t.selectedItems[0]),s.forEach(l=>l.dispose())})),o&&s.push(t.onDidTriggerButton(l=>{l===Ve.QuickInputButtons.Back&&(c("back"),s.forEach(d=>d.dispose()))})),s.push(t.onDidHide(()=>{s.forEach(l=>l.dispose()),t.dispose(),c(void 0)}))});return t.show(),a}var C_={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function su(t,e){let{fileHost:r,telemetry:n}=t,i=await n,o=await y_(r,e),a=!!Ns(o==null?void 0:o.object)&&!!o;if(a){mr(i,"exists");let u=ve(o.uri,r.platform);if(!await Ve.window.showWarningMessage(`Dev Container configuration '${r.path.relative(e.configFolderPath,u)}' file already exists.`,{modal:!0},"Continue")){let d=await r.toCommonURI(u);d&&Ve.window.showTextDocument(Ve.Uri.parse(d.toString()));return}}let c=Ve.window.createQuickPick();return c.ignoreFocusOut=!0,w_(ne(U({},t),{quickPick:c,replaceExistingConfig:a,existingConfig:o,telemetry:i,workspace:e,codespaces:!!t.codespaces}))}async function w_(t){let{fileHost:e,workspace:r,telemetry:n,existingFilesLearnMoreLink:i}=t,o=await e.readDir(r.rootFolderPath),s=o.filter(p=>/docker.*compose/i.test(p)).map(p=>e.path.join(r.rootFolderPath,p)),a=o.filter(p=>/dockerfile/i.test(p)).map(p=>e.path.join(r.rootFolderPath,p)),c=a.map(p=>{let h=e.path.basename(p);return{label:`From '${h}'`,description:sF(e,p),dockerfile:h,dockerfilePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerfile"}}),u=s.map(p=>{let h=e.path.basename(p);return{label:`From '${h}'`,description:sF(e,p),dockerComposeFile:h,dockerComposePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerComposeFile"}});if(!(a.length>0||s.length>0))return cp(t,void 0);let d={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},f=await Kn(t.quickPick,[d,...c,...u,...i?[C_]:[]],"How would you like to create your container configuration?");if(!f){mr(n,"canceled");return}if(f.type==="help"){mr(n,"help"),Ve.env.openExternal(i);return}if(f.type==="predefined")return cp(t,()=>w_(t));if(f.type==="dockerComposeFile")return nY(t,f.dockerComposePath,()=>w_(t));if(f.type==="dockerfile")return rY(t,f.dockerfilePath)}function rF(t){let e=t.metaData.get("categories");return e?e.trim().split(", ").indexOf("Core")>-1:!1}async function Z7(t){let{fileHost:e,workspace:r,predefinedDefinitionsLearnMoreLink:n}=t,i=t.stats||(t.stats=await U1(e,r)),o=await cF(t.codespaces,f_.bind(null,i)),s=[];i.mostPopularFileType.length===0?s=await oY(t.codespaces):s=o.filter(c=>c.recommendationScore&&c.recommendationScore>0&&rF(c));let a;return s.length>0?a=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...n?[C_]:[],...s]:a=[...n?[C_]:[],...o],{items:a,stats:i}}async function cp(t,e){let{telemetry:r,predefinedDefinitionsLearnMoreLink:n}=t,i=Z7(t),o=await Kn(t.quickPick,i.then(s=>s.items),"Select a container configuration definition",void 0,void 0,!!e);if(o==="back")return e();if(!o){mr(r,"canceled");return}if(o.type==="help"){mr(r,"help"),Ve.env.openExternal(n);return}if(o.type==="showAll")return nF(t,(await i).stats,()=>cp(t,e));if(o.type==="baseConfiguration")return iF(t,o,()=>cp(t,e))}async function nF(t,e,r){let{telemetry:n}=t,i=await cF(t.codespaces,f_.bind(null,e)),o=await Kn(t.quickPick,[...i],"Select a container configuration definition",void 0,void 0,!0);if(o==="back")return r();if(o&&o.type==="baseConfiguration")return iF(t,o,()=>nF(t,e,r));mr(n,"canceled")}async function iF(t,e,r){let{telemetry:n}=t,i=await eY(t,e);if(!i){mr(n,"canceled");return}return i==="back"?r():(mr(n,"definition",Se.basename(i.definitionFolder)),E_(t,i))}async function E_(t,e){let{quickPick:r}=t;r.busy=!0,r.enabled=!1;try{return await uY(t,e)}finally{r.hide()}}async function eY(t,e){let r=je(e.configText);return r.configFilePath=we.file(e.configFilePath),Xe(r)?tY(t,e,r,async()=>"back",(n,i)=>oF(t,n,r,i)):m_(t,e,r,async()=>"back")}async function tY(t,e,r,n,i){var f;let o=ht({platform:process.platform},r),s=(await Pe(o.fsPath)).toString(),a=/^#\s*\[Choice\]\s*([^:\r\n]+):(.*)\r?\nARG\s+([^=\s]+)="?([^"\r\n]*)"?\s*$/gm,c,u=[];for(;c=a.exec(s);)u.push(c);let l=((f=r.build)==null?void 0:f.args)||{},d=u.map(([,p,h,m,g])=>{let v=l[m]||g,y=h.trim().split(",").map(_=>_.trim()).map(_=>({label:_,description:_===v?"(default)":void 0,value:_})),C=y.findIndex(_=>_.value===v);return C!==-1&&y.unshift(...y.splice(C,1)),{placeholder:p||m,name:m,default:v,items:y}});return async function p(h,m,g){if(!m.length)return i(ne(U({},e),{configText:h}),g);let v=m[0],y=await Kn(t.quickPick,v.items,v.placeholder,void 0,void 0,!0);if(!y)return;if(y==="back")return g();let C=h;if(y.value!==v.default){let _=_t(C,["build","args",v.name],y.value,{formattingOptions:{}});C=Dt(C,_)}return p(C,m.slice(1),()=>p(h,m,g))}(e.configText,d,n)}async function oF(t,e,r,n){var h;let i=ht({platform:process.platform},r),o=(await Pe(i.fsPath)).toString(),s=/^#\s*\[(Option|Install)\]\s*(.+)\r?\nARG\s+([^=\s]+)="?(true|false)"?\s*$/gm,a,c=[];for(;a=s.exec(o);)c.push(a);let u=((h=r.build)==null?void 0:h.args)||{},l=c.map(([,m,g,v,y])=>{let _=(u[v]||y)==="true";return{type:m.toLowerCase(),label:g||v,picked:_,name:v,default:_}}),d=l.some(m=>m.type==="option");d&&l.filter(m=>m.type==="install").forEach(m=>m.label=`Install ${m.label}`);let f=l.length?await Kn(t.quickPick,l,d?`Select the options for the '${e.label}' dev container`:`Select the install options for the '${e.label}' dev container`,void 0,!0,!0):[];if(!f)return;if(f==="back")return n();let p=e.configText;for(let m of l){let g=f.indexOf(m)!==-1;if(g!==m.default){let v=_t(p,["build","args",m.name],String(g),{formattingOptions:{}});p=Dt(p,v)}}return m_(t,ne(U({},e),{configText:p}),r,l.length?()=>oF(t,e,r,n):n)}function sF(t,e){let r=Ve.workspace.workspaceFolders||[];if(r.length<2)return;let n=r.find(i=>t.platform==="win32"?e.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):e.startsWith(i.uri.fsPath));return n&&n.name}async function rY(t,e){let{fileHost:r,workspace:n,telemetry:i}=t,s=(await up()).find(a=>Se.basename(a.definitionFolder)==="docker-existing-dockerfile");if(s){let a=Se.relative(s.definitionFolder,s.configFilePath),c=r.path.sep!==Se.sep?a.replace(Se.sep===Se.win32.sep?/\\/g:/\//g,r.path.sep):a,u=r.path.resolve(n.configFolderPath,c),l=r.path.relative(r.path.dirname(u),e),d=r.platform==="win32"?l.replace(/\\/g,"/"):l,f="dockerFile"in je(s.configText)?["dockerFile"]:["build","dockerfile"],p=_t(s.configText,f,d,{formattingOptions:{}}),h=Dt(s.configText,p);return mr(i,"dockerFile"),E_(t,ne(U({},s),{configText:h}))}else{mr(i,"existingDockerfileDefinitionNotFound");return}}async function nY(t,e,r){let{fileHost:n,workspace:i,telemetry:o}=t,s=(await n.readFile(e)).toString(),a=Kr(s);if(!a){await Ve.window.showErrorMessage(`Invalid docker-compose file "${e}"`,{modal:!0});return}let c=a.version,u=Object.keys(a&&a.services||{}),l=u.length<2?u[0]||"":await Kn(t.quickPick,u.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(l==="back")return r();if(l===void 0){mr(o,"canceled");return}let d=typeof l=="string"?l:l.label,p=(await up()).find(h=>Se.basename(h.definitionFolder)==="docker-existing-docker-compose");if(p){let h=Se.relative(p.definitionFolder,p.configFilePath),m=n.path.sep!==Se.sep?h.replace(Se.sep===Se.win32.sep?/\\/g:/\//g,n.path.sep):h,g=n.path.resolve(i.configFolderPath,m),v=n.path.relative(n.path.dirname(g),e),y=n.platform==="win32"?v.replace(/\\/g,"/"):v,C=je(p.configText).dockerComposeFile,_=Array.isArray(C)?C.slice(1):[],E=[y,..._],w=_t(p.configText,["dockerComposeFile"],E,{formattingOptions:{}}),b=Dt(p.configText,w),x=_t(b,["service"],d,{formattingOptions:{}}),R=Dt(b,x),k=_.reduce((H,Z)=>(H[Si({platform:process.platform},{configFilePath:we.file(p.configFilePath)},Z).fsPath]=!0,H),{}),q=ne(U({},p),{configText:R,async copyFile(H,Z){if(k[H]){let ee=(await Pe(H)).toString(),V=Kr(ee);V.version&&c&&V.version!==c&&(ee=ee.replace(new RegExp(`^(version:.*)(${V.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let $=Object.keys(V&&V.services||{});$.length&&(ee=ee.replace(new RegExp(`\\b${$[0]}\\b`),d)),await n.writeFile(Z,Buffer.from(ee))}else{let ee=await Pe(H);await n.writeFile(Z,ee)}}});return mr(o,"dockerComposeFile"),E_(t,q)}else{mr(o,"existingDockerComposeDefinitionNotFound");return}}function mr(t,e,r){let n={outcome:e};r&&(n.definitionName=r),t.sendTelemetryEvent("createConfiguration",n)}function iY(t,e){let r=e.recommendationScore===void 0?0:e.recommendationScore,n=t.recommendationScore===void 0?0:t.recommendationScore;return r-n}var aF=["docker-existing-docker-compose","docker-existing-dockerfile"];async function cF(t,e){let r=(await up()).filter(n=>aF.indexOf(Se.basename(n.definitionFolder))===-1);return t&&(r=r.filter(n=>!/^\s*no\b/i.test(n.metaData.get("codespaces")||"yes"))),e?(await e(r),r.sort(iY)):r.sort((n,i)=>n.label.localeCompare(i.label))}async function oY(t){let e=(await up()).filter(r=>aF.indexOf(Se.basename(r.definitionFolder))===-1);return e=e.filter(r=>rF(r)),t&&(e=e.filter(r=>!/^\s*no\b/i.test(r.metaData.get("codespaces")||"yes"))),e.sort((r,n)=>r.label.localeCompare(n.label))}async function up(){let t=new Z1.default,e=await ua(),r=Se.join(e,"node_modules","vscode-dev-containers","containers"),n=Se.join(e,"node_modules","vscode-dev-containers","containers-readmes"),i=await yr(r);return(await Promise.all(i.map(async s=>{var y;let a=Se.join(r,s),c=await bd(a),u=c&&await cY(c);if(!u)return;let l=je(u);l.configFilePath=we.file(c);let[,d,f]=((y=l.name)==null?void 0:y.match(/^(.*)(\([^)]*\))$/))||[],p=(d==null?void 0:d.trim())||l.name||s,h=f,m,g=Se.join(n,s,"README.md"),v=new Map;if(await it(g))try{let C=await Pe(g,{encoding:"utf8"}),_=/\#\s*summary.*\n*(.*)/i.exec(C);if(_){let E=t.render(_[1]);m=sY(E);let w=m.indexOf(". ");w!==-1&&(m=m.substr(0,w+1))}v=aY(C)}catch(C){console.error(C)}return{label:p,description:h,type:"baseConfiguration",detail:m,definitionFolder:a,configText:u,configFilePath:c,metaData:v}}))).filter(s=>!!s)}function sY(t){return t.replace(/<[^>]*>/g,"").trim().replace(/&#([0-9]+);/g,function(e,r){return String.fromCodePoint(parseInt(r,10))}).replace(/&#x([0-9a-f]+);/g,function(e,r){return String.fromCodePoint(parseInt(r,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e})}function aY(t){let e=new Map,r=!1,n=/^\s*\|\s*Metadata\s*\|\s*Value\s*\|/i,i=/^\s*\|/gi,o={categories:/^\s*\|\s*\*Categories\*\s*\|\s*(.*)\s*\|/i,contributors:/^\s*\|\s*\*Contributors\*\s*\|\s*(.*)\s*\|/i,definitionType:/^\s*\|\s*\*Definition type\*\s*\|\s*(.*)\s*\|/i,codespaces:/^\s*\|\s*\*Works in Codespaces\*\s*\|\s*(.*)\s*\|/i,languagesPlatforms:/^\s*\|\s*\*Languages, platforms\*\s*\|\s*(.*)\s*\|/i},s=t.toString().split(`
`);for(let a of s)if(!r)a.match(n)&&(r=!0);else{if(!a.match(i))break;for(let c in o){let u=a.match(o[c]);u&&u[1]&&e.set(c,u[1])}}return e}async function cY(t){return await it(t)?(await Pe(t)).toString():void 0}async function uY(t,e){let{fileHost:r,workspace:n,replaceExistingConfig:i,existingConfig:o,output:s}=t,a=n.configFolderPath,c="Skip",u=(await lF(e.definitionFolder)).map(f=>Se.relative(e.definitionFolder,f)),l,d;for(let f of u){let p=Se.join(e.definitionFolder,f),h=p===e.configFilePath,m=r.path.sep!==Se.sep?f.replace(Se.sep===Se.win32.sep?/\\/g:/\//g,r.path.sep):f,g=r.path.join(a,m);if(h&&!i&&o){let v=je(e.configText);try{d=lY(r,v,g,o)}catch(y){await fY(y,r,g,m,s);return}g=ve(o.uri,r.platform)}else if(await r.isFile(g)){let v=await Ve.window.showInformationMessage(`File '${m}' already exists, overwrite?`,{modal:!0},c,"Overwrite");if(!v)return;if(v===c)continue}if(await r.mkdirp(r.path.dirname(g)),h)l=g,await r.writeFile(g,Buffer.from(d||e.configText));else if(e.copyFile)await e.copyFile(p,g);else{let v=await Pe(p);await r.writeFile(g,v)}}return l}function lY(t,e,r,n){let i=n.text,o=ve(n.uri,t.platform);if("image"in e)i=lt(i,["image"],e.image);else if("dockerFile"in e){let l=la(t,r,o,e.dockerFile);if(i=lt(i,["dockerFile"],l),e.context){let d=la(t,r,o,e.context);i=lt(i,["context"],d)}}else if("build"in e){let l=la(t,r,o,e.build.dockerfile);if(i=lt(i,["build","dockerfile"],l),e.build.context){let d=la(t,r,o,e.build.context);i=lt(i,["build","context"],d)}i=lt(i,["build","target"],e.build.target),i=lt(i,["build","args"],e.build.args)}else if("dockerComposeFile"in e){let l=dY(t,r,o,e.dockerComposeFile);i=lt(i,["dockerComposeFile"],l),i=lt(i,["service"],e.service),i=lt(i,["workspaceFolder"],e.workspaceFolder)}let s=S_(e.settings,n.object.settings);i=lt(i,["settings"],s);let a=b_(n.object.forwardPorts,e.forwardPorts);i=lt(i,["forwardPorts"],a);let c=b_(n.object.extensions,e.extensions);if(i=lt(i,["extensions"],c),"image"in e||Xe(e)){let l=b_(n.object.mounts,e.mounts);i=lt(i,["mounts"],l);let d=S_(e.containerEnv,n.object.containerEnv);i=lt(i,["containerEnv"],d),i=lt(i,["containerUser"],e.containerUser);let f=uF(n.object.runArgs,e.runArgs);i=lt(i,["runArgs"],f)}i=lt(i,["postCreateCommand"],e.postCreateCommand);let u=S_(e.remoteEnv,n.object.remoteEnv);return i=lt(i,["remoteEnv"],u),i=lt(i,["remoteUser"],e.remoteUser),i}function lt(t,e,r){if(r===void 0)return t;let n=_t(t,e,r,{formattingOptions:{}});return Dt(t,n)}function dY(t,e,r,n){return Array.isArray(n)?n.map(i=>la(t,e,r,i)):la(t,e,r,n)}function la({path:t},e,r,n){let i=t.resolve(t.dirname(e),n);return t.relative(t.dirname(r),i)||"."}function b_(t,e){var r;return(r=uF(t,e))==null?void 0:r.filter((n,i,o)=>o.indexOf(n)===i)}function uF(t,e){if(!!(e==null?void 0:e.length))return(t||[]).concat(e)}function S_(t,e){if(!(!t||!Object.keys(t).length))return Object.assign({},t,e)}async function y_(t,e){let r=await Ed(t,e.configFolderPath);if(!r)return;let n=await at(t).readDocument(r);if(!n)return;let i=je(n);return{uri:r,text:n,object:i}}async function lF(t){let e=await yr(t);return[].concat(...await Promise.all(e.map(async r=>{let n=Se.join(t,r);return(await(0,eF.promisify)(J1.lstat)(n)).isDirectory()?lF(n):n})))}async function fY(t,e,r,n,i){i.write(be(t&&(t.stack||t.message)));let o=await e.toCommonURI(r),s=await Ve.window.showErrorMessage(`Could not update '${n}' due to errors in its content. Try fixing these first.`,{modal:!0},...o?["Open devcontainer.json"]:[]);o&&s&&Ve.window.showTextDocument(Ve.Uri.parse(o.toString()))}async function ap(t){return(await pY()).find(r=>{var n,i;return(i=(n=r.build)==null?void 0:n.tags)==null?void 0:i.some(o=>{let c=`^mcr.microsoft.com/vscode/devcontainers/${o.split(/\$\{[^}]*\}/).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g").join(".*")}$`;return new RegExp(c).test(t)})})}async function pY(){let t=Se.join(await ua(),"node_modules","vscode-dev-containers","manifests");return(await Promise.all((await yr(t)).map(e=>__(e,t)))).filter(Boolean)}async function __(t,e){e=e||Se.join(await ua(),"node_modules","vscode-dev-containers","manifests");let r=Se.join(e,t,"definition-manifest.json");if(await it(r)){let n=(await Pe(r)).toString(),i=je(n);return i.definitionName=t,i}}async function ua(){let t=await wa(Se.join(__dirname,"node_modules","vscode-dev-containers"))?[]:await wa(Se.join(__dirname,"..","node_modules","vscode-dev-containers"))?[".."]:["..",".."];return Se.join(__dirname,...t)}async function dF(t,e,r,n,i,o){let s=Jr(r);if(Mt(s)&&!await Me.workspace.requestWorkspaceTrust({message:Jc}))return dr(s.hostPath)?(await Me.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await Me.commands.executeCommand("remote-containers.reopenInWSL")):(await Me.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await Me.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=Or(s);return a&&!await Zc(t,s.repositoryPath)?(await Me.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{})):ne(U({},await hY(s,t,i,o,e,r,n)),{isTrusted:a||void 0})}async function hY(t,e,r,n,i,o,s){let{log:a,logFilePath:c}=r,u="hostPath"in t&&dr(t.hostPath)&&!!Me.extensions.getExtension("ms-vscode-remote.remote-wsl");u&&Me.commands.executeCommand("setContext","canReopenInWSL",!0);let l;return Me.window.withProgress({location:Me.ProgressLocation.Notification,title:na,cancellable:!1},async d=>{let{cliHost:f,originalCwd:p}=await mY(t,a),h=U(U({},await gn(e.extensionPath,Wn)),Ws(f,t.settings)),m=U(U({},f.env),h),g=await ra({authority:o,extensionContext:e,sessionStart:r.sessionStart,progress:d,cliHost:f,env:m,cwd:f.cwd,isLocalContainer:pf(h),telemetry:i,output:a,logFilePath:c,allowSystemConfigChange:!0,postCreate:n}),v={async createConfiguration(y,C){return su({fileHost:C,telemetry:i,output:a,existingFilesLearnMoreLink:Kc,predefinedDefinitionsLearnMoreLink:Yc,openConfigurationCommandId:zc},Ae(P_.posix,y))},async showError(y,...C){return await Me.window.showErrorMessage(y,{modal:!0},...C)}};return l={common:g,parsedAuthority:t,dockerCLI:ji(),dockerComposeCLI:ta(),dockerEnv:h,workspaceMountConsistencyDefault:$f(),cacheMount:Uf()?"volume":"none",configurationTracking:jf(e.workspaceState),removeOnStartup:await kO(e,o),buildNoCache:await OO(e,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:En(),originalCwd:p,configProvider:v},await hf(l),aR(l)}).then(d=>(s(async f=>{await DO(e,f&&d.dockerContainerId||!1),await Qc(e,f==="rebuildNoCache"?o:!1)}),zn(i,T_(t),"success",d.config,d.properties),d),d=>{var C;let f=d instanceof ie?d:new ie({description:"An error occurred setting up the container.",originalError:d});Or(t)&&(f.volumeName=t.volumeName,f.volumeName===Nr&&(f.volumeName=pr(t.repositoryPath).uniqueVolumeName),f.repositoryPath=t.repositoryPath,f.folderPath=t.folder),zn(i,T_(t),"failure",f.config,f.containerProperties,f);let p="onTheSide",h=(C=f.data)==null?void 0:C.fileWithError,m=h&&(l==null?void 0:l.common.cliHost.path.basename(h))||"devcontainer.json",g=Mt(t)?[{id:"openFileWithErrorLocally",title:`Open ${m} Locally`,isLastAction:!0,applicable:async(_,E)=>!E||!u,async execute(){let _=l==null?void 0:l.common.cliHost,E=h?_.type==="wsl"?await _.toCommonURI(h):we.file(h):void 0;await Vf(e,t.hostPath,E,c,p);let w=Me.Uri.file(t.hostPath);await Me.commands.executeCommand("vscode.openFolder",w)}},{id:"openFileWithErrorinWSL",title:`Open ${m} in WSL`,isLastAction:!0,applicable:async()=>u,async execute(){let _=Me.Uri.parse((await Qa(t.hostPath,a)).toString());await Vf(e,_.path,h?_.with({path:h}):void 0,c,p),await Me.commands.executeCommand("vscode.openFolder",_)}}]:[],v=Or(t)?t.inspectVolume?[Ni]:[{id:"reopenInRecoveryContainer",title:`Open ${m} in Recovery Container`,isLastAction:!0,applicable:(_,E)=>!0,execute:async _=>{await Vf(e,t.repositoryPath,h?we.file(h).with({scheme:"vscode-remote"}):void 0,c,p),await Me.commands.executeCommand("remote-containers.inspectVolume",_.volumeName,_.repositoryPath,_.folderPath)}},Ni,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(_,E)=>!E,async execute(){Me.env.openExternal(Me.Uri.parse(t.repositoryPath))}}]:[],y=Vs(t)?[Ni]:[];return f.actions=[...Ks,ko,MR,...g,...v,...y,zs,Ro],gY(f),Li(f,T_(t),i,!0,r)})}async function mY(t,e){if(Mt(t)){let r=Ae(P_,t.hostPath),n=r.rootFolderPath,i=await Tr(r.rootFolderPath,Fr,e);return i.cwd!==r.rootFolderPath&&(r=Ae(i.path,r.isWorkspaceFile?i.path.join(i.cwd,P_.basename(t.hostPath)):i.cwd)),e.write(`Setting up container for folder or workspace: ${r.workspaceOrFolderPath}\r
`),ff(e,t.settings),{cliHost:i,originalCwd:n}}else{let r=process.cwd();return{cliHost:await Tr(r,Fr,e),originalCwd:r}}}function T_(t){return Mt(t)?"config":Or(t)?t.inspectVolume?"volume":"repository":"volume"}function gY(t){let e=(t.originalError&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();e&&e.indexOf("drive has not been shared")!==-1?t.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":e&&(e.indexOf("port is already allocated")!==-1||e.indexOf("address already in use")!==-1)?t.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":e&&e.indexOf('invalid mount config for type "bind"')!==-1?t.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":e&&e.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(t.description="The base image references the obsolete Debian 8 update repository.",t.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(r,n)=>n,async execute(){Me.env.openExternal(Me.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Ui=B(require("vscode"));var fF=B(require("util"));var nn=B(require("path"));async function pF(t,e,r){let{common:n}=t,i;try{let{commit:o}=n.product;if(!o)throw new ie({description:"Cannot attach without commit id for the remote extension host."});i=await vn(t,e.Id,r.workspaceFolder,r.remoteUser);let s=at(n.cliHost,i.shellServer),{hostOrContainerPort:a,hostPortServer:c,remoteEnv:u,serverDownloaded:l}=await Ci(n,i,r,void 0,void 0,_i);if(vY(n,i,s,r.configFilePath),_Y(n,i,s,r.configFilePath),Us(n,i,a,e,Ae(nn.posix,"/")),c){let d=async()=>{await(0,fF.promisify)(c.close.bind(c))()};n.shutdowns.push(d)}return{params:n,properties:i,config:r,resolvedAuthority:{host:Ri,port:a,extensionHostEnv:u},tunnelInformation:n.isLocalContainer?Hs(e):{},dockerParams:t,dockerContainerId:e.Id,serverDownloaded:l}}catch(o){let s=o instanceof ie?o:new ie({description:"An error occurred attaching to the container.",originalError:o});throw e&&(s.manageContainer=!1,s.params=t.common,s.containerId=e.Id,s.dockerParams=t),i&&(s.containerProperties=i),s.config=r,s}}function vY(t,e,r,n){e.installFolder&&hF(t,e,r,n).catch(console.error)}async function hF(t,e,r,n){try{await Ln(t,e,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 16
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],GT(e),{print:"off"})}catch(i){i&&i.code===1?await yY(t,e,r,n):i&&i.code!==2&&await vo(6e4)}return hF(t,e,r,n)}async function yY(t,e,r,n){let i=await XT(t,e);await Mg(n,async()=>{let o=await pp(t.cliHost,r,n,e.remoteWorkspaceFolder);if(!wY(o.config.extensions||[],i)){let s=_t(o.text,["extensions"],i,{formattingOptions:{}});await Ar(r,n,s,o.text)}})}function _Y(t,e,r,n){mF(t,e,r,n).catch(console.error)}async function mF(t,e,r,n){try{let i=ud(e),o=nn.posix.dirname(i),s=nn.posix.basename(i);await Ln(t,e,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 16
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
		`],o,{print:"off"})}catch(i){i&&i.code===1&&await CY(t.cliHost,e,r,n)}return mF(t,e,r,n)}async function CY(t,e,r,n){let{stdout:i}=await e.shellServer.exec(`cat ${ud(e)}`),o=je(i)||{};await Mg(n,async()=>{let s=await pp(t,r,n,e.remoteWorkspaceFolder);if(JSON.stringify(s.config.settings||{})!==JSON.stringify(o)){let a=_t(s.text,["settings"],o,{formattingOptions:{}});await Ar(r,n,a,s.text)}})}function wY(t,e){let r=new Set(t),n=new Set(e);return r.size===n.size&&t.every(i=>n.has(i))}async function gF(t,e){let r=dp(t,e.Name),n=await bF(r);return n||(r=_F(t,e.Config.Image),n=await bF(r)),n}async function vF(t,e,r,n,i){let o=we.file(dp(r,n.Name)),s=await pp(t,e,o,i);return s.exists||(o=we.file(_F(r,n.Config.Image)),s=await pp(t,e,o,i)),s}function lp(t){return nn.join(t,"nameConfigs")}function dp(t,e){let r=e.startsWith("/")?e.substr(1):e;return nn.join(lp(t),`${wF(r)}.json`)}async function yF(t){try{let e=lp(t);return(await yr(e)).filter(n=>n.endsWith(".json")).map(n=>({name:EF(n.substr(0,n.length-5)),uri:we.file(nn.join(e,n))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function fp(t){return nn.join(t,"imageConfigs")}function _F(t,e){return nn.join(fp(t),`${wF(e)}.json`)}async function CF(t){try{let e=fp(t);return(await yr(e)).filter(n=>n.endsWith(".json")).map(n=>({image:EF(n.substr(0,n.length-5)),uri:we.file(nn.join(e,n))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function wF(t){return t.replace(/[:/%]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}function EF(t){return t.replace(/%([0-9a-f]{2})/g,(e,r)=>String.fromCharCode(parseInt(r,16)))}async function bF(t){if(!await it(t))return;let e=await Pe(t),r=je(e.toString())||{};return r.configFilePath=we.file(t),r}async function pp(t,e,r,n){let i=await e.readDocument(r),o=i||Mn,s=je(o)||{},a=Ts({platform:t.platform,configFile:r,env:t.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:n},s);return a.configFilePath=r,{exists:!!i,text:o,config:a}}async function SF(t,e,r,n,i){return await $i(t)?ne(U({},await EY(t,e,r,n,i)),{isTrusted:!0}):(await Ui.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function EY(t,e,r,n,i){let o;return Ui.window.withProgress({location:Ui.ProgressLocation.Notification,title:na,cancellable:!1},async s=>{var a,c;try{let u=mf(r),{settings:l}=u,d="containerName"in u?u.containerName:u.containerId;n.log.write(`Setting up container: ${d}\r
`),ff(n.log,l);let f=u.cwd||process.cwd(),p=await Tr(f,Fr,n.log),h=ji(),m=ta(),g=U(U({},await gn(t.extensionPath,Wn)),Ws(p,l)),v=U(U({},p.env),g),y=await wn({cliHost:p,dockerCLI:h,dockerComposeCLI:m,env:v,output:n.log},"containerName"in u?u.containerName:u.containerId);if(!y)throw new ie({description:`Cannot attach to the container with name/id ${d}, it no longer exists.`,data:{reload:!1,attach:!0}});let C=(c=(a=(Ui.workspace.workspaceFolders||[void 0])[0])==null?void 0:a.uri)==null?void 0:c.path,_=await vF(p,Yr,t.globalStoragePath,y,C);if(C&&_.config.workspaceFolder!==C){let R=_t(_.text,["workspaceFolder"],C,{formattingOptions:{}});await Ar(Yr,_.config.configFilePath,R,_.text)}let E={common:await ra({authority:r,extensionContext:t,sessionStart:n.sessionStart,progress:s,cliHost:p,env:v,cwd:f,isLocalContainer:pf(g),telemetry:e,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:u,dockerCLI:h,dockerComposeCLI:m,dockerEnv:g,workspaceMountConsistencyDefault:$f(),cacheMount:Uf()?"volume":"none",configurationTracking:jf(t.workspaceState),userRepositoryConfigurationPaths:[]};await hf(E);let w=Di(l),b=y.Name.startsWith("/")?y.Name.substr(1):y.Name,x=`Container ${y.Config.Image} (${b})${w}`;if(E.common.setWorkspaceName(x),y.State.Status!=="running")throw new ie({description:`Cannot attach to the container ${y.Config.Image} (${b})${w}, it is not running.`,params:E.common,containerId:y.Id,dockerParams:E,data:{reload:!1,start:!0}});return await pF(E,y,_.config)}catch(u){let l=u instanceof ie?u:new ie({description:"An error occurred attaching to the container.",originalError:u});throw l.actions=[qR,jR,...Ks,ko,Ni,zs,Ro],l}}).then(s=>(zn(e,"attach","success",o,s.properties),s),s=>{let a=s instanceof ie?s:new ie({description:"An error occurred attaching to the container.",originalError:s});return zn(e,"attach","failure",o,a.containerProperties,a),Li(a,"attach",e,!0,n)})}var et=B(require("vscode"));var Ze=B(require("vscode")),PF=B(require("path")),Mo=B(require("os")),au=B(require("fs")),TF=B(require("child_process")),IF=B(uh());async function hp(t){PY()?await new xF().downloadAndInstallDocker(t):RF()?await new AF().downloadAndInstallDocker(t):await Ze.env.openExternal(Ze.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var I_=class{async downloadAndInstallDocker(e){if(await this.preInstallCheck(e)){let n="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Ze.window.withProgress({location:Ze.ProgressLocation.Notification,title:n},async()=>this.downloadInstaller())}catch(a){let c="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",u="Download";throw this.handleError(c,u,this.downloadUrl),a}let s=this.getInstallCommand(o);Ze.window.showInformationMessage(i);try{await this.install(o,s,e)}catch(a){let c=`Docker Desktop installation failed. ${a}`,u="Install Instruction";throw this.handleError(c,u,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(e){let r=!0;if(await new kF(e).isDockerInstalledRealTimeCheck()){let n="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";r=await Ze.window.showInformationMessage(n,{modal:!0},i)!==void 0}return r}async downloadInstaller(){let e=`${SY()}.${this.fileExtension}`;return await IY(this.downloadUrl,e),e}handleError(e,r,n){Ze.window.showErrorMessage(e,{title:r}).then(i=>{i&&Ze.env.openExternal(Ze.Uri.parse(n))})}},xF=class extends I_{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(e){return`"${e}"`}async install(e,r,n){try{n.write(`Executing command ${r}`),await OF(r,n)}finally{try{await au.promises.stat(e),await au.promises.unlink(e)}catch(i){}}}},AF=class extends I_{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(e){return`chmod +x '${e}' && open '${e}'`}async install(e){let r="Docker Install",n=this.getInstallCommand(e);await TY(n,r,{addDockerEnv:!1})}},bY=0;function SY(){return PF.join(Mo.tmpdir(),`${Ze.env.sessionId}-${bY++}.tmp`)}function PY(){return Mo.platform()==="win32"}function RF(){return Mo.platform()==="darwin"}async function TY(t,e,r){var a,c,u;let n;r=r!=null?r:{},r.addDockerEnv&&(n={});let i=new Ze.Task({type:"shell"},(a=r.workspaceFolder)!=null?a:Ze.TaskScope.Workspace,e,"Docker",new Ze.ShellExecution(t,{cwd:r.cwd||((u=(c=r.workspaceFolder)==null?void 0:c.uri)==null?void 0:u.fsPath)||Mo.homedir(),env:n}),[]);r.alwaysRunNew&&(i.definition.idRandomizer=Math.random()),r.focus&&(i.presentationOptions={focus:!0});let o=await Ze.tasks.executeTask(i);return new Promise((l,d)=>{let f=Ze.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(f.dispose(),p.exitCode&&r.rejectOnError&&d(p.exitCode),l())})})}var kF=class{constructor(e){this.output=e;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new NF(async()=>{let r=await this.isDockerInstalledRealTimeCheck();return r&&this.isDockerInstalledLazy.cacheForever(),r},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await OF("docker -v",this.output),!0}catch(e){return!1}}};async function IY(t,e){await new Promise((r,n)=>{let i=au.createWriteStream(e);IF.https.get(t,s=>{if(s.statusCode<200||s.statusCode>299){n(new Error(`Failed to download Docker (${t}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",n),s.pipe(i),s.on("end",r)}).on("error",n)})}var DF=10*1024;async function OF(t,e,r,n){let i=Buffer.alloc(r&&r.maxBuffer||DF),o=Buffer.alloc(r&&r.maxBuffer||DF);return await xY(t,e,r,n,i,n,o),{stdout:x_(i),stderr:x_(o)}}async function xY(t,e,r,n,i,o,s,a){return await new Promise((c,u)=>{let l,d=0,f=0;r=r||{},r.shell=!0,AY(r,e);let p=TF.spawn(t,r);p.on("error",h=>(l&&(l.dispose(),l=void 0),u(h))),p.on("close",(h,m)=>{if(l&&(l.dispose(),l=void 0),a&&a.isCancellationRequested)return u(new Error("User canceled"));if(h){let g=`Process '${t.length>50?`${t.substring(0,50)}...`:t}' exited with code ${h}`;s&&(g+=`
Error: ${x_(s)}`);let v=new Error(g);return v.code=h,v.signal=m,v.stdErrHandled=o!==null,u(v)}return c()}),(r==null?void 0:r.stdin)&&(p.stdin.write(r.stdin),p.stdin.end()),(n||i)&&p.stdout.on("data",h=>{let m=h.toString();n&&n(m,p),i&&(d+=i.write(m,d))}),(o||s)&&p.stderr.on("data",h=>{let m=h.toString();o&&o(m,p),s&&(f+=s.write(m,f))}),a&&(l=a.onCancellationRequested(()=>{p.kill()}))})}function AY(t,e){var r,n;!RF()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((r=t==null?void 0:t.env)==null?void 0:r.PATH)||process.env.PATH||"")||(t=t!=null?t:{},t.env=(n=t.env)!=null?n:U({},process.env),e.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),t.env.PATH=`${t.env.PATH}:/usr/local/bin`)}function x_(t){return t.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var NF=class{constructor(e,r){this.valueFactory=e;this._valueLifetime=r;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let e=this._valuePromise===void 0;e&&(this._valuePromise=this.valueFactory());let r=await this._valuePromise;if(e&&(this._value=r,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&e){let n=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(n)},this._valueLifetime)}return r}};async function ir(t,e){var i;let r=(i=(et.workspace.workspaceFolders||[])[0])==null?void 0:i.uri;r&&(r.scheme==="file"&&dr(r.fsPath)||Ja(r))&&(t=await Oe(t.output,r));let n=await cu(t,e);if(n==="permission")return await et.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&et.env.openExternal(et.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(n==="ssh")return await et.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&et.commands.executeCommand(ea),!1;if(n==="daemon")return await et.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&et.commands.executeCommand(ea),!1;if(!n||n==="command"){if(t.cliHost.type==="wsl")await et.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&et.env.openExternal(et.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let o="Install",s="Ignore",a=n===!1?[o,s]:[o],c=await et.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0},...a);if(c===o)hp(t.output).then(console.error);else if(c===s)return!0}return!1}return n==="wsl1"?(await et.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&et.env.openExternal(et.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function cu(t,e){var s,a,c,u;let r;try{let l=await Te(t,"version","--format","{{.Server.APIVersion}}");r=l.stdout.toString(),t.output.write(r);let d=l.stderr.toString();d&&t.output.write(be(d))}catch(l){console.error(l);let d=(s=l==null?void 0:l.stdout)==null?void 0:s.toString();d&&t.output.write(d);let f=l&&(l.stderr?l.stderr.toString():l.message)||"";f&&t.output.write(be(f)),uu(e,"error",void 0,f);let p=f.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1?(t.output.write(`CLI host's PATH: ${t.cliHost.env.PATH}`),"command"):t.cliHost.type==="wsl"&&((u=(c=(a=l==null?void 0:l.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:u.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let n=r.trim(),i=_s(n);if(!i&&n.toLowerCase().indexOf("error during connect")!==-1)return uu(e,"error",void 0,n),"daemon";if(!i)return uu(e,"unparsed",n),!0;let o=!Cs(i,[1,35]);return!o&&await Kg(t)?(uu(e,"podman",n),!0):(uu(e,o?"success":"failure",n),o)}function uu(t,e,r,n){let i={outcome:e};r&&(i.version=r),n&&(i.errorMessage=n),t.sendTelemetryEvent("dockerVersion",i)}async function LF(t){try{return await Ls(t,"--version"),!0}catch(e){return await et.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&et.env.openExternal(et.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var da=B(require("vscode"));var A_=class{constructor(e){this.cliHost=e}async provideDocumentLinks(e,r){let n=[],i=Ob(e.getText());if(!i)return n;let o=Nb(i)||{};return o.configFilePath=e.uri,Xe(o)&&this._linksForDockerfile(n,o,i,e),"dockerComposeFile"in o&&await this._linksForDockerCompose(n,o,i,e),n}_tryAddDocumentLinkToBucket(e,r,n,i,o){let s=e.positionAt(r),a=e.positionAt(n);s.compareTo(a)!==0&&o.push(new da.DocumentLink(new da.Range(s,a),i))}_linksForDockerfile(e,r,n,i){let o=xl(n,["build","dockerfile"])||xl(n,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,ht(this.cliHost,r),e)}async _linksForDockerCompose(e,r,n,i){let s=(await fr(this.cliHost,r)).map(c=>da.Uri.file(c).path),a=xl(n,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(i,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,i.uri.with({path:s[c]}),e);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),e)}};var G=B(require("vscode")),qo=B(require("path"));var FF="Stop Container",MF="Reopen Folder locally",qF="Close Workspace",Hi;(function(i){i.Placeholder="Placeholder",i.Group="Group",i.Container="Container",i.Folder="Folder"})(Hi||(Hi={}));var xt=class{static isGroupItem(e){return!!e&&e.type===Hi.Group}static isContainerItem(e){return!!e&&e.type===Hi.Container}static isFolderItem(e){return!!e&&e.type===Hi.Folder}},lu;(function(n){n[n.DevContainers=0]="DevContainers",n[n.AttachContainers=1]="AttachContainers",n[n.OtherContainers=2]="OtherContainers"})(lu||(lu={}));var R_=class extends xt{constructor(e,r){super();this.label=e;this.groupType=r;this.type=Hi.Group}async asTreeItem(e,r,n,i){return new G.TreeItem(this.label,G.TreeItemCollapsibleState.Expanded)}},sn=class extends xt{constructor(e,r=[],n,i=!1){super();this.container=e;this.folders=r;this.parent=n;this.isDevContainer=i;this.type=Hi.Container;this._alreadyCheckedRepository=!1}async asTreeItem(e,r,n,i){let o=new G.TreeItem(this.getContainerLabel(),this.getCollapsibleState());o.description=this.containerDescription;let s=this.getContextBase();o.iconPath=mp(r,OY),o.contextValue="exited"+s;let a=!1;return n&&this.container.Id===n.Id?(o.iconPath=mp(r,DY),o.contextValue="active"+s,a=!0):e&&await this.setTreeItemIconAndContext(e,s,o),o.tooltip=this.getHover(a,o.iconPath instanceof G.ThemeIcon?o.iconPath:new G.ThemeIcon("vm"),o.label),this.folders.length===1&&(o.contextValue+="Folder"),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?G.TreeItemCollapsibleState.Expanded:G.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(e,r,n){switch(this.container.State.Status){case"created":{n.iconPath=new G.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"paused":{n.iconPath=new G.ThemeIcon("vm-outline"),n.contextValue="running"+r;break}case"restarting":{n.iconPath=new G.ThemeIcon("vm-outline"),n.contextValue="exited"+r;break}case"exited":{n.iconPath=new G.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"running":{n.iconPath=new G.ThemeIcon("vm-running"),n.contextValue="running"+r;break}}}getTimeElapsed(e){if(!e)return"";let r="",n=e.State.Status,i=new Date(e.State.StartedAt),o=new Date(e.State.FinishedAt);if(i.getFullYear()>1&&o.getFullYear()>1){let s=new Date,a=new Date(i>o?e.State.StartedAt:e.State.FinishedAt),c,u,l=s.getTime()-a.getTime();(u=Math.round(l/sn.years))>0?u===1?c="year":c="years":(u=Math.round(l/sn.days))>0?u===1?c="day":c="days":(u=Math.round(l/sn.hours))>0?u===1?c="hour":c="hours":(u=Math.round(l/sn.minutes))>0?u===1?c="minute":c="minutes":(u=Math.round(l/sn.seconds),u===1?c="second":c="seconds"),r=` ${u} ${c}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+r}getContainerLabel(){if(Gs(this.container)&&this.folders.length>0)return`${qo.basename(this.folders[0].folder.path)}`;{let r=gv(this.container);if(r)return r;let n=this.repository;return n?n.repositoryName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(e,r,n){let i=new G.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${n} (${this.container.Name.substr(1)})  
`),this.repository){let s=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${s} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let o=uf(this.container);return o&&i.appendMarkdown(`$(file-symlink-directory) ${o}  
`),e?i.appendMarkdown("$(remote) Connected"):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}get repository(){if(!this._alreadyCheckedRepository){let e=xo(this.container);e&&(this._repository=pr(e)),this._alreadyCheckedRepository=!0}return this._repository}inspect(e){return Ct(e,this.container.Id)}},zt=sn;zt.seconds=1e3,zt.minutes=sn.seconds*60,zt.hours=sn.minutes*60,zt.days=sn.hours*24,zt.years=sn.days*365;var jo=class extends xt{constructor(e,r,n){super();this.container=e;this.folder=r;this.isDevContainer=n;this.type=Hi.Folder}async asTreeItem(e,r,n,i){let o=new G.TreeItem(qo.basename(this.folder.path),G.TreeItemCollapsibleState.None);return o.description=this.folder.path,o.iconPath=mp(r,LY),o.contextValue="attachedFolder",this.isDevContainer&&!xo(this.container)&&(o.contextValue="devFolder"),n&&this.container.Id===n.Id&&i===this.folder.path&&(o.iconPath=mp(r,NY),o.tooltip=`Active Folder ${o.label}`,o.contextValue=`active${o.contextValue}`),o}};function RY(t,e,r,n){if(!(!G.env.remoteName||G.env.remoteName!=="attached-container"&&G.env.remoteName!=="dev-container"))return jF(t,e,r,n)}function jF(t,e,r,n){G.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new WF(e,n,e.output),o=G.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},t.subscriptions.push(r.onDidChangeActiveContainer(s=>i.refresh(s))),i}function kY(t,e){let r=[FF];return t&&t.Id===e.Id&&G.workspace.workspaceFolders&&G.workspace.workspaceFolders.length>0&&(r.push(qF),G.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(MF)),r}var $F=class{constructor(e,r){this.dockerParams=e;this.containerId=r;this.writeEmitter=new G.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:e,env:r,output:n}=this.dockerParams;e.exec({cmd:ji(),args:["logs","-f",this.containerId],env:r,output:n}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(e=>{e.destroy()})}write(e){this.writeEmitter.fire(e.replace(/\n/g,`\r
`))}},UF=class{constructor(e,r,n,i,o,s){this.targetsTreeData=e;this.detailsTreeData=r;this.devVolumesTreeData=n;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(e){this.dockerParams=e}registerCommands(){let e=[];return e.push(G.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),e.push(G.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),e.push(G.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),e.push(G.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),e.push(G.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),e.push(G.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await this.targetsTreeData.getDockerParams(!0),this.targetsTreeData.refresh(void 0)),this)),e.push(G.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),e.push(G.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),e.push(G.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),e.push(G.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),e.push(G.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),e.push(G.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),e.push(G.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),e.push(G.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),e.push(G.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),e.push(G.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),e.push(G.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),e.push(G.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),e}async commandStopContainer(e){if(!xt.isContainerItem(e))return;let r=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===e.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${e.getContainerLabel()}?`,n=await G.window.showWarningMessage(r,{modal:!0},...kY(this.targetsTreeData.currentContainer,e.container));await this.targetsTreeData.withProgress(e,async()=>{switch(n){case FF:{await qy(this.dockerParams,e.container),e.container=await Ct(this.dockerParams,e.container.Id);break}case qF:{await G.commands.executeCommand("workbench.action.closeFolder");break}case MF:{await G.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(e){if(!xt.isContainerItem(e))return;let r=await wn(this.dockerParams,e.container.Id);if(!r)return;let n=await G.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(e.parent,async()=>{n==="Remove"&&(await qy(this.dockerParams,e.container),await RO(this.dockerParams,r.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(e.container))})}async tryRemoveVolume(e){let r=uf(e);if(r||(r=SR(e)),r){let n=await Id(this.dockerParams,r);if((await Wg(this.dockerParams)).indexOf(r)>=0){let s;(n==null?void 0:n.Labels)&&n.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${r}'.`,await G.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await jy(this.dockerParams,r)}}}async commandPruneVolumes(e){let r="Are you sure you want to remove all unused volumes?";await G.window.showInformationMessage(r,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(e,async()=>{await ex(this.dockerParams)})}async commandExplorerVolumesRefresh(e){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(e){!xt.isContainerItem(e)||await this.targetsTreeData.withProgress(e,async()=>{await Bf(this.dockerParams,e.container),e.container=await Ct(this.dockerParams,e.container.Id)})}async commandRemoveRecentFolder(e){!xt.isFolderItem(e)||(await G.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(e){!xt.isContainerItem(e)||(this.detailsTreeData||(this.detailsTreeData=jF(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(e))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(e){let r,n;xt.isFolderItem(e)?(n=e,r=e.container):zt.isContainerItem(e)&&(n=e.folders[0],r=e.container),r&&(await Bf(this.dockerParams,r),await G.commands.executeCommand("remote-containers.openFolder",n))}async commandAttachToContainer(e){return this.attachToContainerInternal(e)}async commandAttachToContainerNewWindow(e){return this.attachToContainerInternal(e,!0)}async attachToContainerInternal(e,r=!1){let n;xt.isContainerItem(e)?n=e.container:this.detailsTreeData&&(n=this.detailsTreeData.container),n&&(await Bf(this.dockerParams,n),await gp(this.dockerParams,n,this.context,r))}async commandInspectDockerResource(e){let r;(xt.isContainerItem(e)||Bi.isImageItem(e)||Bi.isVolume(e)||Bi.isDevVolume(e))&&(r=await e.inspect(this.dockerParams)),r&&G.window.showTextDocument(await G.workspace.openTextDocument({language:"json",content:JSON.stringify(r,null,"	")}))}async commandInspectInBasicDevContainer(e){Bi.isDevVolume(e)&&await e.inspectInBasicDevContainer()}async commandCloneInVolume(e){Bi.isDevVolume(e)&&await e.cloneRepositoryInVolume()}async commandRemoveVolume(e){Bi.isDevVolume(e)&&await e.removeVolume(this.dockerParams)}async commandNewContainer(){let e=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],r=await G.window.showQuickPick(e,{placeHolder:"Select an action to create a container"});if(r)return G.commands.executeCommand(r.command)}async commandShowContainerLog(e){if(!xt.isContainerItem(e))return;let r=new $F(this.dockerParams,e.container.Id);G.window.createTerminal({name:e.container.Config.Image,pty:r}).show()}};async function HF(t,e,r,n){G.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=await Oe(n),o=new BF(t,e,d,r,n),s=G.window.createTreeView("targetsContainers",{treeDataProvider:o});o.setMessage=f=>s.message=f;let a=RY(t,i,o,r),c=new KF(t,r,n),u=G.window.createTreeView("devVolumes",{treeDataProvider:c});t.subscriptions.push(u);let l=new UF(o,a,c,i,t,r);t.subscriptions.push(...l.registerCommands());function d(){let f=PO();t.subscriptions.push(f),t.subscriptions.push(f.event(async()=>{o.refresh(void 0),c.refresh(void 0);let p=await Oe(n);a&&a.updateDockerParameters(p),l.updateDockerParameters(p)}))}}var BF=class{constructor(e,r,n,i,o){this.context=e;this.resolverResults=r;this.onFirstReveal=n;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new G.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new G.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(e){this.setTreeMessage=e}get currentContainer(){return this._currentContainer}async getDockerParams(e=!1){return this.dockerParams||(this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=gn(this.context.extensionPath,async r=>(this.needsSSHCredentials=!0,Wn(r,!1)))),this.dockerParams=await Oe(this.output,void 0,void 0,e?void 0:this.passiveSSHAskpassEnv),await cu(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}handleDockerEvent(e){try{let r=JSON.parse(e.toString());if(!r.Action)return;let n="exec_create: /root/.vscode-server";if(r.Action==="die"||r.Action==="destroy"||r.Action==="create")this._onDidChangeTreeData.fire();else if(!r.Action.startsWith("exec_create")&&r.Actor&&r.Actor.ID&&this.containerItems.has(r.Actor.ID)){let i=this.containerItems.get(r.Actor.ID);this.dockerParams&&i?(async()=>{i.container=await Ct(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)})():this._onDidChangeTreeData.fire(i);return}else if(r.Action.startsWith(n)){this._onDidChangeTreeData.fire();return}}catch(r){}}async tryEnsureDocker(){let e=await this.getDockerParams();if(!!e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await mc(e,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async getTreeItem(e){return e.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(e){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==e)&&(this.needsDockerStartOrInstallContext=e,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await G.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await G.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(e){if(this.hasContainersContext===void 0||this.hasContainersContext!==e){this.hasContainersContext=e;let r=G.workspace.workspaceFolders&&G.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await G.commands.executeCommand("setContext",r,!this.hasContainersContext)}}async getDockerOrShowMessage(e){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(e){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(e);let r=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&r.push(new R_("Dev Containers",0)),this.otherContainers.length>0&&r.push(new R_("Other Containers",2)),r}async getChildDevContainer(e,r){let n=await this.getWorkspaceFolderFromContainer(e),i=n?[new jo(e,n,!0)]:[],o=Gs(e);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new jo(e,a,!1))):o&&this.recentAttachEntries.has(e.Id)?i.push(...this.recentAttachEntries.get(e.Id).map(a=>new jo(e,a,!1))):(o=xo(e))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new jo(e,a,!1))):o===void 0&&this.recentDevComposeEntries.has(e.Id)&&i.push(...this.recentDevComposeEntries.get(e.Id).map(a=>new jo(e,a,!1)));let s=new zt(e,i,r,!0);return this.setContainerItems(s),s}setContainerItems(e){this.containerItems.set(e.container.Id,e),this._currentContainer&&e.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(e)}async getChildContainers(e){if(e.groupType===0){let r=this.devContainers.map(async n=>this.getChildDevContainer(n,e));return r.push(...this.attachContainers.map(async n=>{let i=new zt(n,this.recentAttachEntries.get(n.Id).map(o=>new jo(n,o,!1)),e);return this.setContainerItems(i),i})),Promise.all(r)}else return this.otherContainers.map(r=>{let n=new zt(r,[],e);return this.setContainerItems(n),n})}getChildFolders(e){return e.folders&&e.folders.length>1?e.folders:[]}async getChildItems(e){if(e===void 0){let r=await qn(this.dockerParams,!0);if(await this.setHasContainersContext(r.length>0),r.length===0)return[];let n=await Pi(this.dockerParams,r);return this.getChildGroups(n)}else{if(xt.isGroupItem(e))return this.getChildContainers(e);if(xt.isContainerItem(e))return this.getChildFolders(e)}return[]}async getChildren(e){return this.onFirstReveal&&(this.onFirstReveal(),this.onFirstReveal=void 0),await this.action,await this.getDockerOrShowMessage(e)?(this.setTreeMessage(void 0),this.getChildItems(e)):[]}async refresh(e){e===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(e)}async setCurrents(){let e=G.workspace.workspaceFolders,r;if(this.dockerParams){if(e&&e.length>0){let n=this.resolverResults.get(e[0].uri.authority);n&&n.dockerContainerId&&(r=await wn(this.dockerParams,n.dockerContainerId),this.currentFolder=e[0].uri.path)}else if(this.resolverResults.size>0){let n=[...this.resolverResults.values()][0].dockerContainerId;n&&(r=await wn(this.dockerParams,n))}}r!==this._currentContainer&&(this._currentContainer=r)}addContainerToMap(e){if(Gs(e)){this.devContainers.push(e);return}else if(xo(e)){this.devContainers.push(e);return}else if(gv(e)&&this.recentDevComposeEntries.has(e.Id)){this.devContainers.push(e);return}else if(this.recentAttachEntries.has(e.Id)){this.attachContainers.push(e);return}this.otherContainers.push(e)}async setContainerTypes(e){return await this.setRecentEntries(e),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,e.forEach(r=>{this.addContainerToMap(r)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(e){let r=await Tr(e,Fr,this.output),n=Ae(r.path,e),i=await Qr(r,n,En()),o=i&&await ki(r,n,i,this.output)||void 0;if(o&&Xe(o.config))return G.Uri.parse(Lc(e,o.workspaceConfig.workspaceFolder,void 0),!0)}async getWorkspaceFolderFromContainer(e){let r=Gs(e);if(r)return this.getWorkspaceFolderFromHostWorkspace(r);{let n=xo(e),i=uf(e),o=PR(e);if(n)return G.Uri.parse(Ao(n,i,o,!1,void 0,void 0))}}async getWorkspaceFolderFromHostPath(e){let r=this.dockerParams.cliHost,n=await Nv(r,e,this.output),i=LR(r,n,e);return G.Uri.parse(Lc(e,i,void 0),!0)}getWorkspaceFolderFromRepository(e,r,n){return G.Uri.parse(Ao(e,r,n,!1,void 0,void 0),!0)}async findComposeTargetContainer(e,r){if(!this.dockerParams)return;let n=Ae(this.dockerParams.cliHost.path,e),i=await Qr(this.dockerParams.cliHost,n,En()),o=i&&await ki(this.dockerParams.cliHost,n,i,this.output);if(o&&"dockerComposeFile"in o.config){let s=await fr(this.dockerParams.cliHost,o.config),a=await Rc(this.dockerParams,n,s);return nR(r,a,o.config.service)}}trySetEntryWithAttachAuthority(e,r,n){let i;if("containerName"in r){let o=n.find(s=>s.Name===r.containerName);o&&(i=o.Id)}else i=r.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(e):this.recentAttachEntries.set(i,[e]))}async trySetEntryWithDevAuthority(e,r,n,i){let o=r.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(r.hostPath),i[o]=s),s.path!==e.path){this.recentAttachDevContainerEntries.has(r.hostPath)?this.recentAttachDevContainerEntries.get(r.hostPath).push(e):this.recentAttachDevContainerEntries.set(r.hostPath,[e]);let a=await this.findComposeTargetContainer(r.hostPath,n);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(e):a&&this.recentDevComposeEntries.set(a,[e])}}trySetEntryWithRepoAuthority(e,r){this.getWorkspaceFolderFromRepository(r.repositoryPath,r.volumeName,r.folder).path!==e.path&&(this.recentAttachDevContainerEntries.has(r.repositoryPath)?this.recentAttachDevContainerEntries.get(r.repositoryPath).push(e):this.recentAttachDevContainerEntries.set(r.repositoryPath,[e]))}trySetEntryWithVolumeAuthority(e,r){let n=r.volumeName;!n||(this.recentAttachEntries.has(n)?this.recentAttachEntries.get(n).push(e):this.recentAttachEntries.set(n,[e]))}async trySetEntry(e,r,n){var s;if(!e||!e.folderUri&&!e.workspace.configPath)return;let i=(s=e.folderUri)!=null?s:e.workspace.configPath,o=mf(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,r);else{let a=Jr(i.authority);a&&(Mt(a)?await this.trySetEntryWithDevAuthority(i,a,r,n):Or(a)?this.trySetEntryWithRepoAuthority(i,a):this.trySetEntryWithVolumeAuthority(i,a))}}async setRecentEntries(e){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let r=await G.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces){let n={};for(let i of r.workspaces)await this.trySetEntry(i,e,n)}}withProgress(e,r){return this.action=this.action.then(()=>r()),this.refresh(e)}},on;(function(s){s.Default="Default",s.Title="Title",s.Image="Image",s.Port="Port",s.Volume="Volume",s.DevVolume="DevVolume"})(on||(on={}));var Bi=class{constructor(e){this.label=e;this.type=on.Default}static isDetailItem(e){return!!e&&e.label!==void 0&&e.type!==void 0}static isImageItem(e){return!!e&&e.type===on.Image}static isVolume(e){return!!e&&e.type===on.Volume}static isDevVolume(e){return!!e&&e.type===on.DevVolume}},VF=class{constructor(e){this.detail=e;this.type=on.Image;this.context="image";this.label="Image"}inspect(e){return bo(e,this.detail)}},GF=class{constructor(e,r){this.label=e;this.volumeDetails=r;this.type=on.Volume;this.context="volume"}async inspect(e){return Id(e,this.volumeDetails)}},WF=class{constructor(e,r,n){this.dockerParams=e;this.telemetry=r;this.output=n;this._onDidChangeTreeData=new G.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(e){this.dockerParams=e}set setTitle(e){this.setTreeTitle=e}get container(){return this._container?this._container.container:void 0}getTreeItem(e){let r=new G.TreeItem(e.label,Array.isArray(e.detail)&&e.detail.length>0?G.TreeItemCollapsibleState.Expanded:G.TreeItemCollapsibleState.None);return r.tooltip=e.label,e.detail&&!Array.isArray(e.detail)&&(r.description=e.detail,r.tooltip+=` ${r.description}`),r.contextValue=e.context,r.command=e.command,r}async getAttributes(e,r,n){let i=[];r&&i.push({label:"Workspace",detail:r});let o=xo(e.container);return o&&i.push({label:"Repository",detail:o}),i.push({label:"Name",detail:e.container.Name}),i.push(new VF(e.container.Config.Image)),n&&i.push({label:"Configuration",detail:n,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[n]},context:"devContainer"}),i}async getMounts(e){let r=[];return e&&e.Mounts.forEach(n=>{if(n.Type==="volume"){let i=n.Name,o=new GF(`Volume: ${i}`,i),s={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Volume mount",detail:[o,s]})}else if(n.Type==="bind"){let i={label:`Source: ${n.Source}`,detail:void 0},o={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Bind mount",detail:[i,o]})}}),r}async getChildrenFromRoot(e){let r=[],n=Gs(e.container),i;if(this.dockerParams&&n){let a=await Qr(this.dockerParams.cliHost,Ae(this.dockerParams.cliHost.path,n),En());a&&(i=ve(a,this.dockerParams.cliHost.platform))}r.push({label:"Attributes",detail:await this.getAttributes(e,n,i),type:on.Title});let o;this.dockerParams&&(o=await Ct(this.dockerParams,e.container.Id));let s=await this.getMounts(o);return s.length>0&&r.push({label:"Mounts",detail:s,type:on.Title}),r}async testContainer(){let e=!0;try{(this.dockerParams?await Ct(this.dockerParams,this._container.container.Id):void 0)===void 0&&(e=!1)}catch(r){e=!1}return e||(this._container=void 0,this.setTreeTitle("Details (Containers)")),e}async getChildren(e){if(this._container===void 0)return[];let r=[];return e===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),r=await this.getChildrenFromRoot(this._container)):Array.isArray(e.detail)&&r.push(...e.detail),r}async refresh(e){this.dockerParams=await Oe(this.output),await cu(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=e||this._container,this._onDidChangeTreeData.fire(void 0)}},zF=class extends Bi{constructor(e){super(e.Name);this.type=on.DevVolume;this.volumeDetails=e,this.createdAt=void 0}async asTreeItem(){let e=this.getLabel(),r=new G.TreeItem(e,G.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let e=this.volumeDetails.Labels;if(e){let r=e["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let e=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();n&&n.gitUrlInfo.repository!=="unknown"&&(e=n.gitUrlInfo.fullRepositoryName)}return e}getDescription(){let e="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();if(n&&n.gitUrlInfo.repository!=="unknown"){let i=this.getBranchName(),o=this.getPullRequestId();o?e=`#${o}`:i&&(e=`${i}`)}}return e}getBranchName(){let e=this.volumeDetails.Labels;if(e&&this.isUniqueVolume()&&e["vsch.local.repository.branch"])return e["vsch.local.repository.branch"]}getPullRequestId(){let e=this.volumeDetails.Labels;if(e&&this.isUniqueVolume()&&e["vsch.local.repository.pullRequestId"])return e["vsch.local.repository.pullRequestId"]}getRepository(){let e=this.volumeDetails.Labels;if(e){let r=e["vsch.local.repository.unique"];if(r&&r==="true"){let n=e["vsch.local.repository"];return pr(n)}}}get iconPath(){return new G.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let e="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let n=new Date,i=new Date(this.volumeDetails.CreatedAt),o,s,a=n.getTime()-i.getTime();(s=Math.round(a/zt.years))>0?s===1?o="year":o="years":(s=Math.round(a/zt.days))>0?s===1?o="day":o="days":(s=Math.round(a/zt.hours))>0?s===1?o="hour":o="hours":(s=Math.round(a/zt.minutes))>0?s===1?o="minute":o="minutes":(s=Math.round(a/zt.seconds),s===1?o="second":o="seconds"),e=` ${s} ${o} ago`}return this.createdAt=e,e}async inspect(e){return Id(e,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await G.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await G.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(e){if(!((await Wg(e)).indexOf(this.volumeDetails.Name)>=0)){await G.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await G.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await jy(e,this.volumeDetails.Name)}},KF=class{constructor(e,r,n){this.telemetry=r;this.output=n;this._onDidChangeTreeData=new G.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(e){return e.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await Oe(this.output,void 0,void 0),await cu(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(e){await G.commands.executeCommand("setContext","remote-containers:noDevVolumes",e)}async getDockerOrShowMessage(e){return!(!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(e){if(!await this.getDockerOrShowMessage(e))return[];let r=await Oe(this.output),n=await Ti(r),i=await hc(r,n),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let u=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-u.getTime()}),s.map(a=>new zF(a))}async resolveTreeItem(e,r){let n=await Oe(this.output),i=await this.getAssociatedContainers(n,r),o=r.getLabel(),s=r.getRepository(),a=r.getBranchName(),c=r.getPullRequestId(),u=r.getTimeElapsed();return i.length>0?e.tooltip=this.renderMarkdown(o,s,a,c,u,i.join(", ")):e.tooltip=this.renderMarkdown(o,s,a,c,u,"*None*"),e}async getAssociatedContainers(e,r){let n=[],i=await qn(e,!0),o=await Pi(e,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===r.volumeDetails.Name&&n.push(s.Name.substring(1));return n}renderMarkdown(e,r,n,i,o,s){let a=new G.MarkdownString(void 0,!0);if(r){let c=r.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",u=r.gitUrlInfo.repositoryUrl;u.startsWith("http")?(u=r.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${u}](${u})
`)):a.appendMarkdown(`${c} ${u})
`),a.appendMarkdown(`&nbsp;  
`),n&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${n}](${u}/tree/${n})
`):a.appendMarkdown(`$(git-compare) ${n}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${u}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${e}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(e){try{let r=JSON.parse(e.toString());if(!r.Action)return;(r.Action==="die"||r.Action==="destroy"||r.Action==="create"||r.Action==="prune")&&this._onDidChangeTreeData.fire()}catch(r){}}async tryEnsureDocker(){let e=await this.getDockerParams();if(!!e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await mc(e,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async refresh(e){e===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(e)}},DY="vm-active",OY="vm-default",NY="folder-active",LY="folder";function mp(t,e){let r=`${e}.svg`;return{light:G.Uri.file(t.asAbsolutePath(qo.join("resources","light",r))),dark:G.Uri.file(t.asAbsolutePath(qo.join("resources","dark",r))),highContrast:G.Uri.file(t.asAbsolutePath(qo.join("resources","highContrast",r)))}}var k_=B(require("util"));var Vi=B(require("vscode"));async function YF(t,e,r={}){let n=jm(e[0],e.slice(1),void 0),i=await $m(e[0],e.slice(1),void 0,t.loadNativeModule),o=await cd({params:t,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerEnv:{},remoteExec:n,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0}),{hostOrContainerPort:s,remoteEnv:a,serverDownloaded:c}=await Ci(t,o,r,void 0,void 0);return{params:t,properties:o,config:void 0,resolvedAuthority:{host:Ri,port:s,extensionHostEnv:a},tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:c}}async function XF(t,e,r){var n,i,o;if(!!await $i(t)&&r&&r.name){let s=["get","pod",r.name,"-o","json"];r.namespace&&s.push("--namespace",r.namespace);let{cliHost:a,env:c,output:u}=e,l=(await fe({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:u})).stdout.toString().trim(),d=await fe({exec:a.exec,cmd:"kubectl",args:s,env:c,output:u}),f=JSON.parse(d.stdout.toString()),p=((n=f.spec)==null?void 0:n.containers)||[],h=p.length>1?(i=await Vi.window.showQuickPick(p.map(m=>({label:m.name,detail:m.image,container:m})),{placeHolder:"Select container"}))==null?void 0:i.container:p[0];if(h){let m=((o=f.metadata)==null?void 0:o.namespace)||r.namespace,g={remoteAuthority:MY({context:l,podname:r.name,namespace:m,name:h.name,image:h.image})};/\d$/.test(t.extensionPath)||(g.reuseWindow=!0),await Vi.commands.executeCommand("vscode.newWindow",g)}}}async function QF(t,e,r,n,i){return await $i(t)?ne(U({},await FY(t,e,r,n,i)),{isTrusted:!0}):(await Vi.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function FY(t,e,r,n,i){return Vi.window.withProgress({location:Vi.ProgressLocation.Notification,title:na,cancellable:!1},async o=>{try{let s=qY(r),a=process.cwd(),c=await Tr(a,Fr,n.log),u=await ra({authority:r,extensionContext:t,sessionStart:n.sessionStart,progress:o,cliHost:c,env:c.env,cwd:a,isLocalContainer:!0,telemetry:e,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i});u.setWorkspaceName(`${s.name} in ${s.podname} (${s.image})`);let l=["kubectl","exec","-it",s.podname];return s.context&&l.push("--context",s.context),s.namespace&&l.push("--namespace",s.namespace),l.push("--container",s.name,"--"),await YF(u,l)}catch(s){let a=s instanceof ie?s:new ie({description:"An error occurred attaching to the container.",originalError:s});throw a.actions=[...Ks,ko,Ni,zs,Ro],a}}).then(o=>(zn(e,"k8s-container","success",void 0,o.properties),o),o=>{let s=o instanceof ie?o:new ie({description:"An error occurred attaching to the container.",originalError:o});return zn(e,"k8s-container","failure",void 0,s.containerProperties,s),Li(s,"k8s-container",e,!0,n)})}function MY(t){let e=[];for(let r in t){let n=t[r];n&&e.push(`${r}=${encodeURIComponent(n)}`)}return`k8s-container+${e.join("+")}`}function qY(t){return t.substr(t.indexOf("+")+1).split("+").reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substr(0,n)]=decodeURIComponent(r.substr(n+1))),e},{})}var Ge=B(require("vscode")),fa=B(require("fs")),pa=B(require("os")),$o=B(require("path")),vp=B(require("child_process")),ha=B(require("util"));function yp(t){switch(t.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${t.quality}`}}async function JF(t,e){var c;let r=t.globalStorageUri,n=Wr.joinPath(r,"cli-bin");await Ge.workspace.fs.createDirectory(n);let i="";try{i=(await Ge.workspace.fs.readFile(Wr.joinPath(n,"remote-containers-path"))).toString()}catch(u){if((u==null?void 0:u.code)!=="FileNotFound")return}if(i===t.extensionPath)return;let o=Wr.joinPath(t.extensionUri,"dev-containers-user-cli","bin"),s=yp(e),a=[{source:"devcontainer",destination:`devcontainer${s}`},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let u of a)Ge.workspace.fs.copy(Wr.joinPath(o,u.source),Wr.joinPath(n,u.destination),{overwrite:!0});await Ge.workspace.fs.writeFile(Wr.joinPath(n,"vscode-app-root"),Buffer.from(Ge.env.appRoot,"utf-8")),await Ge.workspace.fs.writeFile(Wr.joinPath(n,"vscode-path"),Buffer.from(process.argv0,"utf-8")),await Ge.workspace.fs.writeFile(Wr.joinPath(n,"vscode-quality"),Buffer.from((c=e.quality)!=null?c:"","utf-8")),await Ge.workspace.fs.writeFile(Wr.joinPath(n,"remote-containers-path"),Buffer.from(t.extensionPath,"utf-8"))}async function jY(t,e){let r=yp(e),n="";try{if(n=(await(0,ha.promisify)(vp.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),n.indexOf(t)>=0)return await Ge.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await Ge.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,ha.promisify)(vp.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${n};${t}', 'User')`),a=Ge.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await Ge.env.clipboard.writeText(t),await Ge.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch(i){return!1}}async function $Y(t,e){var a;let n=((a=process.env.PATH)!=null?a:"").split(":"),i=[$o.join(pa.homedir(),"bin"),$o.join(pa.homedir(),".local/bin")],o="/usr/local/bin";pa.platform()==="darwin"&&i.push(o);let s=(0,ha.promisify)(fa.stat);for(let c of i){if(n.findIndex(p=>p===c)<0)continue;try{await s(c)}catch{continue}let u=yp(e),l=$o.join(c,`devcontainer${u}`);try{let p=await s(l);return console.log(p),await Ge.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let d=await Ge.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${c}?`,modal:!0},"Create","Copy CLI Path"),f=$o.join(t,`devcontainer${u}`);switch(d){case"Create":if(c===o){if(!await UY(f,l))break}else await(0,ha.promisify)(fa.symlink)(f,l);await Ge.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await Ge.env.clipboard.writeText(t),await Ge.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function UY(t,e){try{return await fa.promises.symlink(t,e),!0}catch(r){if(r.code!=="EACCES"&&r.code!=="ENOENT")throw r;if(await Ge.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${$o.dirname(e)} && ln -sf '${t}' '${e}'\\" with administrator privileges"`;return await(0,ha.promisify)(vp.exec)(i),!0}return!1}}async function ZF(t,e){let r=t.globalStorageUri,n=Wr.joinPath(r,"cli-bin").fsPath;switch(pa.platform()){case"win32":if(await jY(n,e))return;break;case"darwin":case"linux":if(await $Y(n,e))return;break}if(await Ge.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await Ge.env.clipboard.writeText(n);let o=yp(e);await Ge.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var nM=class{constructor(e,r){this.telemetry=r,this.output=e}handleUri(e){switch(e.path){case"/cloneInVolume":this.cloneInVolume(e)}}async cloneInVolume(e){let r=rM.parse(e.query);if(!r.url){L.window.showErrorMessage(`Failed to handle the URI '${e}' expected a 'url' query parameter.`,{modal:!0});return}let n;Array.isArray(r.url)?n=r.url[0]:n=r.url;let i=await Oe(this.output.log);if(!!await ir(i,await this.telemetry)){if(!await Hm(i.cliHost,n,this.output.log)){await L.window.showErrorMessage(`Cannot access the repository '${n}'.`,{modal:!0});return}await L.commands.executeCommand(Mf,r.url)}}};async function BY(t){HO();let e=new Date;UO(t);let r=await hg(t.extensionPath),n=await mg(L.env.appRoot),i=jO(t,r,n),o=`Remote-Containers ${r.version} in VS Code ${L.version} (${n.commit||"out-of-source"}).`,s=new Hf(t.logPath,e,o);t.subscriptions.push(L.commands.registerCommand(ea,()=>s.show()));let{channel:a,postCreate:c}=qO(s.log,e);t.subscriptions.push(L.commands.registerCommand(Oy,()=>a.show())),t.subscriptions.push(L.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:qf(s,c,nr.results,async(_,E,w)=>dF(t,await i,_,nr.onRemoveOnShutdownChanged,E,w)),async getCanonicalURI(_){let E=Jr(_.authority);return E&&Mt(E)?dr(E.hostPath)?Qa(E.hostPath,s.log):L.Uri.file(E.hostPath):_}}),L.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:qf(s,c,nr.results,async(_,E,w)=>SF(t,await i,_,E,w))}),L.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:qf(s,c,nr.results,async(_,E,w)=>QF(t,await i,_,E,w))}),L.window.registerUriHandler(new nM(s,i)));let u=await Oe(s.log),l=async(_,E,w)=>{let b=await Oe(s.log);if(!await ir(b,await i))return;let x;if(xt.isFolderItem(_)?(x=_.folder,w=KY()):x=_,x.scheme==="vscode-remote")return L.commands.executeCommand("vscode.openFolder",x,w);{let R=Ae(b.cliHost.path,ve(x,b.cliHost.platform));return Cp(t,R,b,await i,E,w)}};t.subscriptions.push(L.commands.registerCommand("remote-containers.openFolder",async(_,E)=>_?l(_,!1,E):aM(t,!0,await i,!1,s.log))),t.subscriptions.push(L.commands.registerCommand("remote-containers.openWorkspace",async(_,E)=>_?l(_,!1,E):aM(t,!1,await i,!1,s.log))),t.subscriptions.push(L.commands.registerCommand(wO,async _=>du(t,await i,s.log,_))),t.subscriptions.push(L.commands.registerCommand(Mf,async _=>du(t,await i,s.log,_,Nr))),t.subscriptions.push(L.commands.registerCommand(EO,async _=>{if(_.url){let E=_.url;return(_==null?void 0:_.ref)&&(E=`${_.url}/tree/${_.ref}`),du(t,await i,s.log,E,Nr)}})),t.subscriptions.push(L.commands.registerCommand(bO,async _=>XY(t,await i,s.log,_,Nr))),t.subscriptions.push(L.commands.registerCommand("remote-containers.inspectVolume",async(_,E,w)=>uM(_,E,w,await i,s.log))),t.subscriptions.push(L.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async _=>QY(_,await i,s.log))),t.subscriptions.push(L.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async _=>du(t,await i,s.log,void 0,_))),t.subscriptions.push(L.commands.registerCommand("remote-containers.reopenInContainer",()=>d(!1))),t.subscriptions.push(L.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>d(!0))),t.subscriptions.push(L.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>d("rebuildNoCache")));let d=async _=>{if(!await L.workspace.requestWorkspaceTrust({message:Jc}))return;let w=await Oe(s.log);if(!await ir(w,await i))return;let b=L.workspace.workspaceFile;if(b&&b.scheme==="untitled"){await op();return}let x=L.workspace.workspaceFolders;if(!b&&x&&x.length){let k=x.length>1?await L.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):x[0];k&&(b=k.uri)}let R=await Fy(b);if(R){await fu(t,R.repositoryPath,R.volumeName,R.folder,w);return}if(b){let k=ve(b,w.cliHost.platform),q=Ae(w.cliHost.path,k);await Cp(t,q,w,await i,_,{forceReuseWindow:!0})}};t.subscriptions.push(L.commands.registerCommand("remote-containers.reopenLocally",async()=>{let _=L.workspace.workspaceFolders,E=L.workspace.workspaceFile||_&&_.length&&_[0].uri;if(E&&E.scheme==="vscode-remote"){let w=Jr(E.authority);if(w&&Mt(w)){let b=L.Uri.file(w.hostPath),x={forceReuseWindow:!0};await L.commands.executeCommand("vscode.openFolder",b,x)}else L.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),t.subscriptions.push(L.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let _=L.workspace.workspaceFolders,E=L.workspace.workspaceFile||_&&_.length&&_[0].uri;if(E&&E.scheme==="vscode-remote"){let w=Jr(E.authority);if(w&&Mt(w)&&dr(w.hostPath)){let b=L.Uri.parse((await Qa(w.hostPath,s.log)).toString()),x={forceReuseWindow:!0};await L.commands.executeCommand("vscode.openFolder",b,x)}else L.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}}));let f,p=async _=>{var b;if(!await $i(t))return;let E,w=typeof _=="string"?_:(b=_==null?void 0:_.containerDesc)==null?void 0:b.Id;if(w){let x=await Oe(s.log);if(!await ir(x,await i))return;E=await Ct(x,w)}else{let x=!1;f||(f=gn(t.extensionPath,async k=>(x=!0,Wn(k))));let R=await Oe(s.log,void 0,void 0,f);if(E=await oX(R,ir(R,await i),()=>x),!E)return}gp(u,E,t)};t.subscriptions.push(L.commands.registerCommand("remote-containers.attachToRunningContainer",p)),t.subscriptions.push(L.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",p)),t.subscriptions.push(L.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async _=>XF(t,await Oe(s.log),_)));let h=async _=>{var b;let E=await Oe(s.log);if(!await ir(E,await i))return;let w=(b=_==null?void 0:_.pullRequestModel)==null?void 0:b.html_url;du(t,await i,s.log,w,Nr)};t.subscriptions.push(L.commands.registerCommand("remote-containers.checkoutPRInVolume",h)),t.subscriptions.push(L.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let _=await No();if(_){await fu(t,_.repositoryPath,_.volumeName,_.folder,u,!0);return}return await Promise.all(nr.onRemoveOnShutdownChangedEmitter.fire(!0)),L.commands.executeCommand("workbench.action.reloadWindow")})),t.subscriptions.push(L.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let _=await No();if(_){await fu(t,_.repositoryPath,_.volumeName,_.folder,u,"rebuildNoCache");return}return await Promise.all(nr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),L.commands.executeCommand("workbench.action.reloadWindow")}));let m={fileHost:u.cliHost,findDevContainerFiles:()=>Uy(u.cliHost),telemetry:i,output:s.log,existingFilesLearnMoreLink:Kc,predefinedDefinitionsLearnMoreLink:Yc,openConfigurationCommandId:zc},g=await tF(t,m);t.subscriptions.push(L.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!L.workspace.workspaceFolders){await L.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await L.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await L_(t,await i,s.log,g)})),t.subscriptions.push(L.commands.registerCommand("remote-containers.openDevContainerFile",async(_,E)=>{let w,b=await Oe(s.log);if(typeof _=="string"?w=[we.file(_)]:w=(await Promise.all((await Uy(b.cliHost)).map(x=>x.scheme==="vscode-remote"?x:b.cliHost.toCommonURI(ve(x,b.cliHost.platform))))).filter(x=>!!x),w.length){let x;w.length===1?x={uri:w[0]}:x=await L.window.showQuickPick(w.map(k=>({label:k.scheme==="file"?k.fsPath:k.toString(),uri:k})),{placeHolder:"Select container configuration file to open"});let R=await No();if(R){let k=LO(R.folder);for(let q of k){try{await L.workspace.openTextDocument(L.Uri.parse(q.toString()))}catch(H){continue}await L.commands.executeCommand("vscode.open",L.Uri.parse(q.toString()),E);return}return}if(x){let k=x.uri,q=lR(k);if(q){let H=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?q.replace(/\\/g,"/"):q}`;return L.env.openExternal(L.Uri.parse(H))}else{if(k.scheme==="file"&&await it(k.fsPath))return await L.commands.executeCommand("vscode.open",L.Uri.parse(k.toString()),E);if(k.scheme==="file"&&nr.results.size)return await Ar(Yr,k,[],Mn),await L.commands.executeCommand("vscode.open",L.Uri.parse(k.toString()),E);if(k.scheme==="vscode-remote"&&nr.results.size)return await L.commands.executeCommand("vscode.open",L.Uri.parse(k.toString()),E);if(_===void 0)return await L_(t,await i,s.log,g)}}}else if(_===void 0)return await L_(t,await i,s.log,g)})),t.subscriptions.push(L.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:_,dockerParams:E}=[...nr.results.values()][0];if(!_||!E)return L.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let w=await Ct(E,_),b=dp(t.globalStoragePath,w.Name),x=L.Uri.file(b);return await it(b)?L.commands.executeCommand("vscode.open",x):(await Ar(Yr,x,[],Mn),L.commands.executeCommand("vscode.open",x))})),t.subscriptions.push(L.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let _=[...(await yF(t.globalStoragePath)).map(w=>U({label:w.name},w)).sort((w,b)=>w.label.localeCompare(b.label)),...(await CF(t.globalStoragePath)).map(w=>U({label:w.image},w)).sort((w,b)=>w.label.localeCompare(b.label))],E=await L.window.showQuickPick(_.length?_:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(E&&"uri"in E)return L.commands.executeCommand("vscode.open",L.Uri.parse(E.uri.toString()))})),t.subscriptions.push(L.commands.registerCommand("remote-containers.settings",async()=>L.commands.executeCommand("workbench.action.openSettings",`@ext:${sM()}`))),t.subscriptions.push(L.commands.registerCommand("remote-containers.getHelp",async()=>L.env.openExternal(L.Uri.parse("https://aka.ms/vscode-remote/containers")))),t.subscriptions.push(L.commands.registerCommand("remote-containers.getStarted",async()=>L.env.openExternal(L.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),t.subscriptions.push(L.commands.registerCommand("remote-containers.reportIssue",async()=>L.commands.executeCommand("vscode.openIssueReporter",sM()))),t.subscriptions.push(L.commands.registerCommand("remote-containers.provideFeedback",async()=>L.env.openExternal(L.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),t.subscriptions.push(L.languages.registerDocumentLinkProvider([{pattern:"**/.devcontainer/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new A_(u.cliHost))),t.subscriptions.push(L.commands.registerCommand("remote-containers.trySample",async()=>{lX(t,s.log)})),t.subscriptions.push(L.commands.registerCommand("remote-containers.openLogFile",()=>dX(t))),t.subscriptions.push(L.commands.registerCommand("remote-containers.openLastLogFile",()=>fX(t,"remoteContainers",s.logFilePath))),t.subscriptions.push(L.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>cX(t))),t.subscriptions.push(L.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>GY(t))),t.subscriptions.push(L.commands.registerCommand("remote-containers.installDocker",()=>hp(s.log))),HF(t,nr.results,await i,s.log),await JF(t,n),t.subscriptions.push(L.commands.registerCommand("remote-containers.installUserCLI",()=>ZF(t,n))),(async()=>{await NO(t)||await pM(t,u,await i)})().catch(console.error),WY(t);let v=L.env.remoteName,y=!v||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container"].indexOf(v)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];t.subscriptions.push(L.commands.registerCommand("remote-containers.addExtensionToConfig",g.addExtensionToConfiguration),L.languages.registerCompletionItemProvider([...y,{pattern:gt.join(fp(t.globalStoragePath),"*.json")},{pattern:gt.join(lp(t.globalStoragePath),"*.json")}],g.createCompletionItemProvider()),L.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{let _=await z1(m,{readDockerComposeConfig:async(E,w)=>{let b=await hv(u.cliHost.cwd,E,u.output);return mv(ne(U({},$n(u,!0)),{ptyExec:u.cliHost.ptyExec,print:!0}),b,w,u.cliHost.platform)}});if(_){let E;try{E=await bo(u,_.imageName)}catch{}await Y1(m,_,(E==null?void 0:E.Config.Labels)||{})}}),L.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",g.addPortLabelToConfiguration)),await No()&&L.commands.executeCommand("setContext","isRecoveryContainer",!0),t.subscriptions.push(Q1())}var iM="showRecoveryContainerNotification",oM="showReopenInContainerNotificationReset",VY=5e3;function GY(t){return t.globalState.update(oM,Date.now())}async function WY(t){setTimeout(async()=>{let e=t.globalState.get(oM);if(F_(t.globalState.get(iM),e))return;if(await No()){let n="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await L.window.showInformationMessage(n,o,i);s===i?L.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await t.globalState.update(iM,Date.now())}},VY)}async function zY(){await Promise.all([...nr.results.values()].map(t=>Promise.all(t.params.shutdowns.map(e=>{try{e()}catch(r){console.error(r)}}))))}function sM(){let{name:t,publisher:e}=eM();return`${e}.${t}`}async function aM(t,e,r,n,i){let o=await Oe(i);if(!await ir(o,r))return;let s,a=L.workspace.workspaceFolders;if(a&&a[0]){let d=a[0].uri;if(d.scheme==="vscode-remote"){let f=Jr(d.authority);if(f&&Mt(f)){let p=Ae(o.cliHost.path,f.hostPath);s=L.Uri.file(p.rootFolderPath)}else d.authority.startsWith("wsl+")&&(s=d)}else d.scheme==="file"&&(s=d)}s||(s=L.Uri.file(tM.homedir()));let c=e?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},u=await L.window.showOpenDialog(c),l=u&&u[0];if(l){let d=e?l:l.with({path:gt.posix.dirname(l.path)}),f=await Oe(o.output,d,!1),p=ve(l,f.cliHost.platform),h=Ae(f.cliHost.path,p);await Cp(t,h,f,r,n)}}function KY(){return L.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function Cp(t,e,r,n,i,o){let{cliHost:s}=r;if(dr(e.rootFolderPath)){if(r=await Oe(r.output,e.rootFolderPath),s=r.cliHost,!await ir(r,n))return;e=Ae(s.path,e.isWorkspaceFile?s.path.join(s.cwd,gt.basename(e.workspaceOrFolderPath)):s.cwd)}let a=await Nl(s,e);if(a){let m="Continue";if(await L.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},m)!==m)return}let c=await Qr(s,e,En()),u=c&&await ki(s,e,c,r.output);if(!u||!Ns(u.config)){let m=await su({fileHost:s,telemetry:n,output:r.output,existingFilesLearnMoreLink:Kc,predefinedDefinitionsLearnMoreLink:Yc,openConfigurationCommandId:zc},e);if(!m||(u=await ki(s,e,we.file(m).with({scheme:Vt.scheme}),r.output),!u))return}let l=u.config;if(!await YY(r,l))return;let d=u.workspaceConfig.workspaceFolder;if(Xe(l)){let m=ht(s,l);if(!l.initializeCommand&&!await at(s).readDocument(m))return pu(`"${m.fsPath}" does not exist.`,s,l.configFilePath);if(l.workspaceFolder&&!gt.posix.isAbsolute(l.workspaceFolder))return pu("Workspace folder in devcontainer.json must be an absolute path.",s,l.configFilePath)}else if(!("image"in l))if("dockerComposeFile"in l){if(!await LF(r)||!await sX(e,r,l))return}else{let m=l.configFilePath;return pu(`Configuration "${s.path.relative(e.rootFolderPath,ve(m,s.platform))}" not valid.`,s,m)}e.isWorkspaceFile&&(d=gt.posix.join(d,s.path.basename(e.workspaceOrFolderPath)));let f=Cn(r.env),p=s.type==="wsl"?(await s.toCommonURI(e.workspaceOrFolderPath)).fsPath:e.workspaceOrFolderPath,h=L.Uri.parse(Lc(p,d,f));await Ep({uri:h,type:e.isWorkspaceFile?"workspace":"folder",label:`${FR(s.platform,e.workspaceOrFolderPath,await s.homedir())}${Di(f)} [Dev Container]`}),await $y(t,i?h.authority:!1),await Qc(t,i==="rebuildNoCache"?h.authority:!1),await L.commands.executeCommand("vscode.openFolder",h,o)}async function YY(t,e){let r=e.hostRequirements;if(r&&(r.cpus||r.memory)){let n=await Te(t,"info","--format","{{json .}}"),i=JSON.parse(n.stdout.toString()),o=i.NCPU&&r.cpus&&r.cpus>i.NCPU,s=i.MemTotal&&r.memory&&D_(r.memory)>i.MemTotal;if(o||s){let a=[];i.NCPU&&a.push(`CPUs ${i.NCPU}`),i.MemTotal&&a.push(`RAM ${O_(i.MemTotal)}`);let c=[];r.cpus&&c.push(`CPUs ${r.cpus}`),r.memory&&c.push(`RAM ${O_(D_(r.memory))}`),r.storage&&c.push(`disk ${O_(D_(r.storage))}`);let u=`Docker daemon: ${a.join(", ")}
devcontainer.json: ${c.join(", ")}`;if(!await L.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:u},"Continue"))return!1}}return!0}function D_(t){let e=/^(\d+)([tgmk]b)?$/.exec(t);if(e){let[,r,n]=e,i=parseInt(r,10),o=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*o}return 0}function O_(t){let e=Math.min(Math.floor(Math.log2(Math.max(Math.abs(t),1))/10),4),r=t/Math.pow(2,10*e),n=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(r),1)))),1),i=Math.round(r*n)/n,o=[" bytes","kb","mb","gb","tb"][e];return`${i}${o}`}async function du(t,e,r,n,i){if(!await Zc(t))return;let o=await Oe(r),s=null;if(!!await ir(o,e)){if(typeof n=="string")s=n;else{let a=await L.commands.executeCommand("git.api.getRemoteSources",{providerLabel:c=>`Clone a repository from ${c.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0});if(typeof a=="string"){s=a.trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let c=_n(s);if(!await Hm(o.cliHost,c.repositoryUrl,o.output)){await L.window.showInformationMessage(`Cannot access the repository '${c.repositoryUrl}'.`,{modal:!0});return}}else if(a){if(!a.branch)return;s=`${a.url}/tree/${a.branch}`}}s&&await cM(t,o,s,i)}}async function cM(t,e,r,n){if(n||(n=await ZY(e)),n){let i=N_(r);n!==Nr&&(i=await tX(r)),i&&await fu(t,r,n,i,e)}}async function XY(t,e,r,n,i){if(!await Zc(t))return;let o=await Oe(r),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await ir(o,e))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:l=>s.test(l)?void 0:"Invalid pull request url"},c;if(n?c=n:c=await L.window.showInputBox(a),!c)return;let u=_n(c);if(u.repository==="unknown"||!u.pullRequestId){await L.window.showInformationMessage(`Invalid pull request URL '${c}'.`,{modal:!0});return}await cM(t,o,c,i)}async function uM(t,e,r,n,i){let o=await Oe(i);!await ir(o,n)||(t||(t=await JY(o)),t&&(e&&r?await iX(t,e,r,o):await nX(t,o)))}async function QY(t,e,r){let n=await Oe(r);!await ir(n,await e)||t&&t.volumeName&&await uM(t.volumeName,void 0,void 0,e,r)}var wp=class{get detail(){return""}},lM=class extends wp{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},dM=class extends wp{constructor(e){super();this.volume=e}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},fM=class extends wp{constructor(e){super();this.volume=e}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function JY(t){let e=await Ti(t),n=(await hc(t,e)).map(a=>new fM(a)),i="Select the volume to inspect with Visual Studio Code",o=L.window.createQuickPick();o.items=n,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function ZY(t){let e=await Ti(t,["vsch.local.repository.unique=false"]),n=(await hc(t,e)).map(l=>new dM(l)),i=new lM,o=[i,...n],s="Select the volume for the cloned repository",a=L.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(l=>{a.onDidAccept(()=>l(a.activeItems[0])),a.onDidHide(()=>l(void 0))});if(a.hide(),!c)return null;let u=null;return c===i?u=await eX(t):u=c.volumeName,u}async function eX(t){let e="",r="vsc-remote-containers",n=await Ti(t);n.find(s=>s===r)||(e=r);let i={prompt:"Enter the volume name.",value:e,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await L.window.showInputBox(i);return o?n.find(s=>s===o)?(await L.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function tX(t){let e={prompt:"Enter the target folder name.",value:N_(t),ignoreFocusOut:!0},r=await L.window.showInputBox(e);return r||null}function N_(t){return pr(t).repositoryName}async function rX(){return(await L.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function fu(t,e,r,n,i,o=!1){let s=Cn(i.env),a=Bs(e),c;try{c=await a.parseUrl(void 0)}catch(l){if(l instanceof Jd){L.window.showErrorMessage(l.description);return}let d=await rX();try{c=await a.parseUrl(d)}catch{L.window.showErrorMessage(`Cannot access '${e}'.`,{modal:!0});return}}let u=L.Uri.parse(Ao(e,r,n,!1,s,c));r===Nr&&(r="a unique volume"),await Ep({uri:u,type:"folder",label:`${n} in ${r} [Dev Container]`}),await $y(t,o?u.authority:!1),await Qc(t,o==="rebuildNoCache"?u.authority:!1),await L.commands.executeCommand("vscode.openFolder",u)}async function nX(t,e){let r=Cn(e.env),n=L.Uri.parse(Ao(void 0,t,void 0,!0,r,void 0));await Ep({uri:n,type:"folder",label:`Volume ${t} [Dev Container]`}),await L.commands.executeCommand("vscode.openFolder",n)}async function iX(t,e,r,n){let i=Cn(n.env),o=L.Uri.parse(Ao(e,t,r,!0,i,void 0));await Ep({uri:o,type:"folder",label:`${r} in ${t} [Inspect Dev Container]`}),await L.commands.executeCommand("vscode.openFolder",o)}async function Ep(t){return L.commands.executeCommand("_workbench.addToRecentlyOpened",t)}async function gp(t,e,r,n){if(!await $i(r))return;let i,o=t.cliHost;if(o.type==="wsl"){let u=await o.toCommonURI(o.cwd);u&&u.scheme==="file"&&(i=u.fsPath)}let s=OR(e.Name,Cn(t.env),i),a=await gF(r.globalStoragePath,e),c=r.extensionMode===L.ExtensionMode.Development;if(a&&a.workspaceFolder&&!n){let u=L.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),l={};c?l.forceReuseWindow=!0:l.forceNewWindow=!0,await L.commands.executeCommand("vscode.openFolder",u,l)}else{let u={remoteAuthority:s};c&&!n&&(u.reuseWindow=!0),await L.commands.executeCommand("vscode.newWindow",u)}}async function oX(t,e,r){let n=(async()=>{if(!await e)throw new Error("cancel");let i=await qn(t),o=await Pi(t,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw L.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await L.window.showQuickPick(n,i);return!o&&r()&&(await n,o=await L.window.showQuickPick(n,i)),o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function sX(t,e,r){if(!r.workspaceFolder)return pu("Workspace folder not specified in devcontainer.json.",e.cliHost,r.configFilePath),!1;if(!gt.posix.isAbsolute(r.workspaceFolder))return pu("Workspace folder in devcontainer.json must be an absolute path.",e.cliHost,r.configFilePath),!1;let n=await fr(e.cliHost,r,e.cliHost.env,e.cliHost.cwd),i=await Rc(e,t,n),o=await zd(e,i,r.service),s=o&&await Ct(e,o);return!(s&&!await aX(e.cliHost,n,r,s))}async function aX(t,e,r,n){let i=[];for(let o=0;o<e.length;o++)await t.isFile(e[o])||i.push(e[o]);return i.length>0?(L.window.showErrorMessage(`The following referenced docker compose files do not exist: ${i.join(", ")}`,{modal:!0}),!1):r.devPort&&!n.Ports.find(o=>r.devPort===o.PrivatePort)?(L.window.showErrorMessage(`The port '${r.devPort}' is not open on the service '${r.service}'`,{modal:!0}),!1):!0}async function pu(t,e,r){if(await L.window.showErrorMessage(t,{modal:!0},"Open devcontainer.json")){let i=ve(r,e.platform),o=await e.toCommonURI(i);o&&L.window.showTextDocument(L.Uri.parse(o.toString()))}}async function L_(t,e,r,n){if(await n.createConfiguration()){let o=await Oe(r);await pM(t,o,e)}}async function pM(t,e,r){if(L.env.remoteName&&L.env.remoteName!=="wsl")return;let n=L.workspace.workspaceFile,i=L.workspace.workspaceFolders,o=n||i&&i.length&&i[0].uri||void 0;if(o){let{cliHost:s}=e,a=ve(o,s.platform),c=Ae(s.path,a),u=await Qr(s,c,En());u&&await uX(t,u,c,e,r)}}var bp="showReopenInContainerNotification",hM="showReopenInContainerNotificationReset";function cX(t){return t.globalState.update(hM,Date.now())}async function uX(t,e,r,n,i){let o=t.globalState.get(hM);if(F_(t.globalState.get(bp),o)||F_(t.workspaceState.get(bp),o))return;let s=uR(n.cliHost,r,e),a,c="";if(n.cliHost.platform!=="linux"&&L.env.remoteName!=="wsl"&&!(n.cliHost.platform==="win32"&&dr(r.rootFolderPath))){if(a=await e0(n.cliHost,r,n.output),a&&s){let g=await Ul(n.cliHost,r.rootFolderPath,n.output);g&&await n0(n.cliHost,r,n.cliHost.path.relative(g,ve(e,n.cliHost.platform)),n.output)||(a=void 0)}if(a){let g=await ki(n.cliHost,r,e,n.output);(!g||!Xe(g.config)&&!("image"in g.config))&&(a=void 0)}a&&(c=" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo).")}let u;s?r.isWorkspaceFile?u="Workspace contains a Dev Container configuration file.":u="Folder contains a Dev Container configuration file.":u="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let l="Reopen in Container",d="Clone in Volume",f="Don't Show Again...",p=r.isWorkspaceFile?`${u} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${c}`:`${u} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${c}`,h=a?[f,d,l]:[f,l],m=await L.window.showInformationMessage(p,...h);if(m===l){if(!await L.workspace.requestWorkspaceTrust({message:Jc})||!await ir(n,i))return;try{await Cp(t,r,n,i,!1,{forceReuseWindow:!0})}catch(v){await Li(v,"ui",i)}}else if(m===d){let g=await r0(n.cliHost,r,n.output),v="OK",y="Cancel";(!g||v===await L.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",v,y))&&await L.window.withProgress({location:L.ProgressLocation.Notification,title:"Clone in Volume"},async(C,_)=>{C.report({message:"Follow the prompts at the top of the window."}),await L.commands.executeCommand(Mf,a)})}else if(m===f){let g=r.isWorkspaceFile?"Any Workspace":"Any Folder",v=r.isWorkspaceFile?"Current Workspace":"Current Folder",y=r.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",C=await L.window.showInformationMessage(y,g,v);C===g?await t.globalState.update(bp,Date.now()):C===v&&await t.workspaceState.update(bp,Date.now())}}function F_(t,e){return t===!1?t=1:t===void 0&&(t=-1),e===void 0&&(e=0),e<t}async function lX(t,e){let r=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],n={placeHolder:"Select a sample repository to clone in a container volume"},i=await L.window.showQuickPick(r,n);if(!i)return;let o=await Oe(e);i.detail&&await fu(t,i.detail,Nr,N_(i.detail),o)}async function dX(t){let e=await Promise.all((await mM(t)).map(async n=>{let i=await(0,k_.promisify)(_p.stat)(n.path),o=n.time;return{label:n.prefix,description:`${ma(o.getFullYear())}-${ma(o.getMonth())}-${ma(o.getDay())} ${ma(o.getHours())}:${ma(o.getMinutes())}:${ma(o.getSeconds())} - ${i.size} bytes`,path:n.path}}));e.length||e.push({label:"No log files found."});let r=await L.window.showQuickPick(e,{placeHolder:"Choose a log file"});r&&r.path&&await L.window.showTextDocument(L.Uri.file(r.path))}function ma(t,e=2){let r=t.toString();for(;r.length<e;)r="0"+r;return r}async function fX(t,e,r){let n=(await mM(t)).find(i=>i.name.startsWith(e)&&i.path!==r);n?await L.window.showTextDocument(L.Uri.file(n.path)):await L.window.showInformationMessage("No previous log file found.",{modal:!0})}async function mM(t){let e=[],r=gt.basename(t.logPath),n=gt.dirname(gt.dirname(gt.dirname(t.logPath)));for(let i of(await M_(n)).sort().reverse()){let o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(i);if(o){let s=gt.join(n,i);for(let a of await M_(s)){let c=gt.join(s,a),u=gt.join(c,r);for(let l of(await M_(u)).sort()){let d=gt.join(u,l),f=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(l),p=f?new Date(`${f[1]}-${f[2]}-${f[3]}T${f[4]}:${f[5]}:${f[6]}.${f[7]}Z`):new Date(`${o[1]}-${o[2]}-${o[3]}T${o[4]}:${o[5]}:${o[6]}Z`);e.push({name:l,path:d,time:p,prefix:f?l.substr(0,f.index-1):l.substr(0,l.length-4)})}}}}return e.sort((i,o)=>i.time>o.time?-1:i.time<o.time?1:i.path.localeCompare(o.path)),e}async function M_(t){try{return await(0,k_.promisify)(_p.readdir)(t)}catch(e){return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
//# sourceMappingURL=extension.js.map
