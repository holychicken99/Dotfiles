module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=729)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);t.METADATA_KEY=r;var i=n(928);t.Container=i.Container;var o=n(98);t.BindingScopeEnum=o.BindingScopeEnum,t.BindingTypeEnum=o.BindingTypeEnum,t.TargetTypeEnum=o.TargetTypeEnum;var s=n(944);t.AsyncContainerModule=s.AsyncContainerModule,t.ContainerModule=s.ContainerModule;var a=n(945);t.injectable=a.injectable;var c=n(946);t.tagged=c.tagged;var l=n(947);t.named=l.named;var u=n(425);t.inject=u.inject,t.LazyServiceIdentifer=u.LazyServiceIdentifer;var d=n(948);t.optional=d.optional;var h=n(949);t.unmanaged=h.unmanaged;var p=n(950);t.multiInject=p.multiInject;var f=n(951);t.targetName=f.targetName;var m=n(952);t.postConstruct=m.postConstruct;var g=n(423);t.MetadataReader=g.MetadataReader;var v=n(126);t.id=v.id;var y=n(114);t.decorate=y.decorate;var b=n(428);t.traverseAncerstors=b.traverseAncerstors,t.taggedConstraint=b.taggedConstraint,t.namedConstraint=b.namedConstraint,t.typeConstraint=b.typeConstraint;var _=n(188);t.getServiceIdentifierAsString=_.getServiceIdentifierAsString;var w=n(953);t.multiBindToService=w.multiBindToService},function(e,t){e.exports=require("vscode")},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return xt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=i.momentProperties=[];function y(e,t){var n,r,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=f(t)),a(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)a(i=t[r=v[n]])||(e[r]=i);return e}var b=!1;function _(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function w(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=S(t)),n}function x(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&E(e[r])!==E(t[r]))&&s++;return s+o}function C(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return h((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var D,T={};function I(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,r=h({},e);for(n in t)d(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&s(e[n])&&(r[n]=h({},r[n]));return r}function j(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var L={};function O(e,t){var n=e.toLowerCase();L[n]=L[n+"s"]=L[t]=e}function A(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function N(e){var t,n,r={};for(n in e)d(e,n)&&(t=A(n))&&(r[t]=e[n]);return r}var R={};function F(e,t){R[e]=t}function B(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},H={};function V(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(H[e]=i),t&&(H[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(H[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function K(e,t){return e.isValid()?(t=q(t,e.localeData()),W[t]=W[t]||function(e){var t,n,r,i=e.match(U);for(t=0,n=i.length;t<n;t++)H[i[t]]?i[t]=H[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(t,e):i[r];return o}}(t),W[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(Y.lastIndex=0;n>=0&&Y.test(e);)e=e.replace(Y,r),Y.lastIndex=0,n-=1;return e}var J=/\d/,$=/\d\d/,z=/\d{3}/,G=/\d{4}/,Q=/[+-]?\d{6}/,X=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,oe=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ue(e,t,n){le[e]=M(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(le,e)?le[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function fe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function me(e,t){fe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ge(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}function ve(e){return ye(e)?366:365}function ye(e){return e%4==0&&e%100!=0||e%400==0}V("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),O("year","y"),F("year",1),ue("Y",oe),ue("YY",X,$),ue("YYYY",ne,G),ue("YYYYY",re,Q),ue("YYYYYY",re,Q),fe(["YYYYY","YYYYYY"],0),fe("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):E(e)})),fe("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),fe("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var be,_e=we("FullYear",!0);function we(e,t){return function(n){return null!=n?(Ee(this,e,n),i.updateOffset(this,t),this):Se(this,e)}}function Se(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ee(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ye(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?ye(e)?29:28:31-r%7%2}be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),O("month","M"),F("month",8),ue("M",X),ue("MM",X,$),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),fe(["M","MM"],(function(e,t){t[1]=E(e)-1})),fe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:f(n).invalidMonth=e}));var Ce=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Te(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=be.call(this._shortMonthsParse,s))?i:null:-1!==(i=be.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=be.call(this._shortMonthsParse,s))||-1!==(i=be.call(this._longMonthsParse,s))?i:null:-1!==(i=be.call(this._longMonthsParse,s))||-1!==(i=be.call(this._shortMonthsParse,s))?i:null}function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Ie(this,e),i.updateOffset(this,!0),this):Se(this,"Month")}var Pe=ce,je=ce;function Le(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=he(r[t]),i[t]=he(i[t]);for(t=0;t<24;t++)o[t]=he(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Oe(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function Ae(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ne(e,t,n){var r=7+t-n;return-(7+Ae(e,0,r).getUTCDay()-t)%7+r-1}function Re(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+Ne(e,r,i);return a<=0?s=ve(o=e-1)+a:a>ve(e)?(o=e+1,s=a-ve(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Fe(e,t,n){var r,i,o=Ne(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+Be(i=e.year()-1,t,n):s>Be(e.year(),t,n)?(r=s-Be(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Be(e,t,n){var r=Ne(e,t,n),i=Ne(e+1,t,n);return(ve(e)-r+i)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",X),ue("ww",X,$),ue("W",X),ue("WW",X,$),me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=E(e)})),V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",X),ue("e",X),ue("E",X),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e})),me(["d","e","E"],(function(e,t,n,r){t[r]=E(e)}));var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),He="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ve(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=be.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=be.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=be.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=be.call(this._weekdaysParse,s))||-1!==(i=be.call(this._shortWeekdaysParse,s))||-1!==(i=be.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=be.call(this._shortWeekdaysParse,s))||-1!==(i=be.call(this._weekdaysParse,s))||-1!==(i=be.call(this._minWeekdaysParse,s))?i:null:-1!==(i=be.call(this._minWeekdaysParse,s))||-1!==(i=be.call(this._weekdaysParse,s))||-1!==(i=be.call(this._shortWeekdaysParse,s))?i:null}var Ke=ce,qe=ce,Je=ce;function $e(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],c=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),c.push(o),l.push(r),l.push(i),l.push(o);for(s.sort(e),a.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)a[t]=he(a[t]),c[t]=he(c[t]),l[t]=he(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ze(){return this.hours()%12||12}function Ge(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Qe(e,t){return t._meridiemParse}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,ze),V("k",["kk",2],0,(function(){return this.hours()||24})),V("hmm",0,0,(function(){return""+ze.apply(this)+B(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+ze.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+B(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)})),Ge("a",!0),Ge("A",!1),O("hour","h"),F("hour",13),ue("a",Qe),ue("A",Qe),ue("H",X),ue("h",X),ue("k",X),ue("HH",X,$),ue("hh",X,$),ue("kk",X,$),ue("hmm",Z),ue("hmmss",ee),ue("Hmm",Z),ue("Hmmss",ee),fe(["H","HH"],3),fe(["k","kk"],(function(e,t,n){var r=E(e);t[3]=24===r?0:r})),fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),fe(["h","hh"],(function(e,t,n){t[3]=E(e),f(n).bigHour=!0})),fe("hmm",(function(e,t,n){var r=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r)),f(n).bigHour=!0})),fe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r,2)),t[5]=E(e.substr(i)),f(n).bigHour=!0})),fe("Hmm",(function(e,t,n){var r=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r))})),fe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=E(e.substr(0,r)),t[4]=E(e.substr(r,2)),t[5]=E(e.substr(i))}));var Xe,Ze=we("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ke,monthsShort:De,week:{dow:0,doy:6},weekdays:Ye,weekdaysMin:He,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function rt(e){return e?e.toLowerCase().replace("_","-"):e}function it(t){var r=null;if(!tt[t]&&void 0!==e&&e&&e.exports)try{r=Xe._abbr,n(1310)("./"+t),ot(r)}catch(e){}return tt[t]}function ot(e,t){var n;return e&&((n=a(t)?at(e):st(e,t))?Xe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function st(e,t){if(null!==t){var n,r=et;if(t.abbr=e,null!=tt[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])r=tt[t.parentLocale]._config;else{if(null==(n=it(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return tt[e]=new j(P(r,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),ot(e),tt[e]}return delete tt[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!o(e)){if(t=it(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=rt(e[o]).split("-")).length,n=(n=rt(e[o+1]))?n.split("-"):null;t>0;){if(r=it(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&x(i,n,!0)>=t-1)break;t--}o++}return Xe}(e)}function ct(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>xe(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}function lt(e,t,n){return null!=e?e:null!=t?t:n}function ut(e){var t,n,r,o,s,a=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,s,a,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,s=4,n=lt(t.GG,e._a[0],Fe(Ct(),1,4).year),r=lt(t.W,1),((i=lt(t.E,1))<1||i>7)&&(c=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var l=Fe(Ct(),o,s);n=lt(t.gg,e._a[0],l.year),r=lt(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(c=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o}r<1||r>Be(n,o,s)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(a=Re(n,r,i,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=lt(e._a[0],r[0]),(e._dayOfYear>ve(s)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Ae(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ae:Oe).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(f(e).weekdayMismatch=!0)}}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((\-?\d+)/i;function vt(e){var t,n,r,i,o,s,a=e._i,c=dt.exec(a)||ht.exec(a);if(c){for(f(e).iso=!0,t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(c[1])){i=ft[t][0],r=!1!==ft[t][2];break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=mt.length;t<n;t++)if(mt[t][1].exec(c[3])){o=(c[2]||" ")+mt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!pt.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),St(e)}else e._isValid=!1}var yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var _t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,r,i,o,s,a,c=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){var l=(t=c[4],n=c[3],r=c[2],i=c[5],o=c[6],s=c[7],a=[bt(t),De.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(o,10)],s&&a.push(parseInt(s,10)),a);if(!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],l,e))return;e._a=l,e._tzm=function(e,t,n){if(e)return _t[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),e._d=Ae.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function St(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],f(e).empty=!0;var t,n,r,o,s,a=""+e._i,c=a.length,l=0;for(r=q(e._f,e._locale).match(U)||[],t=0;t<r.length;t++)o=r[t],(n=(a.match(de(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&f(e).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),l+=n.length),H[o]?(n?f(e).empty=!1:f(e).unusedTokens.push(o),ge(o,n,e)):e._strict&&!n&&f(e).unusedTokens.push(o);f(e).charsLeftOver=c-l,a.length>0&&f(e).unusedInput.push(a),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ut(e),ct(e)}else wt(e);else vt(e)}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new _(ct(t)):(l(t)?e._d=t:o(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],St(t),m(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));h(e,n||t)}(e):n?St(e):function(e){var t=e._i;a(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=gt.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),ut(e)):s(t)?function(e){if(!e._d){var t=N(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ut(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function xt(e,t,n,r,i){var a,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=e,c._f=t,c._strict=r,(a=new _(ct(Et(c))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Ct(e,t,n,r){return xt(e,t,n,r,!1)}i.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var kt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Dt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Tt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ct();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=N(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===be.call(It,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<It.length;++r)if(e[It[r]]){if(n)return!1;parseFloat(e[It[r]])!==E(e[It[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function Pt(e){return e instanceof Mt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)}))}Lt("Z",":"),Lt("ZZ",""),ue("Z",ae),ue("ZZ",ae),fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=At(ae,e)}));var Ot=/([\+\-]|\d\d)/gi;function At(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ot)||["-",0,0],i=60*r[1]+E(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Nt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(w(e)||l(e)?e.valueOf():Ct(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ct(e).local()}function Rt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Bt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yt(e,t){var n,r,i,o,s,a,l=e,u=null;return Pt(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(l={},t?l[t]=e:l.milliseconds=e):(u=Bt.exec(e))?(n="-"===u[1]?-1:1,l={y:0,d:E(u[2])*n,h:E(u[3])*n,m:E(u[4])*n,s:E(u[5])*n,ms:E(jt(1e3*u[6]))*n}):(u=Ut.exec(e))?(n="-"===u[1]?-1:1,l={y:Wt(u[2],n),M:Wt(u[3],n),w:Wt(u[4],n),d:Wt(u[5],n),h:Wt(u[6],n),m:Wt(u[7],n),s:Wt(u[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=Ct(l.from),s=Ct(l.to),i=o.isValid()&&s.isValid()?(s=Nt(s,o),o.isBefore(s)?a=Ht(o,s):((a=Ht(s,o)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(l={}).ms=i.milliseconds,l.M=i.months),r=new Mt(l),Pt(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Kt(this,Yt(n="string"==typeof n?+n:n,r),e),this}}function Kt(e,t,n,r){var o=t._milliseconds,s=jt(t._days),a=jt(t._months);e.isValid()&&(r=null==r||r,a&&Ie(e,Se(e,"Month")+a*n),s&&Ee(e,"Date",Se(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Yt.fn=Mt.prototype,Yt.invalid=function(){return Yt(NaN)};var qt=Vt(1,"add"),Jt=Vt(-1,"subtract");function $t(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Gt=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Qt(){return this._locale}function Xt(e,t){return(e%t+t)%t}function Zt(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function en(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function tn(e,t){V(0,[e,e.length],0,t)}function nn(e,t,n,r,i){var o;return null==e?Fe(this,r,i).year:(t>(o=Be(e,r,i))&&(t=o),rn.call(this,e,t,n,r,i))}function rn(e,t,n,r,i){var o=Re(e,t,n,r,i),s=Ae(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",X,$),ue("gg",X,$),ue("GGGG",ne,G),ue("gggg",ne,G),ue("GGGGG",re,Q),ue("ggggg",re,Q),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=E(e)})),me(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),O("quarter","Q"),F("quarter",7),ue("Q",J),fe("Q",(function(e,t){t[1]=3*(E(e)-1)})),V("D",["DD",2],"Do","date"),O("date","D"),F("date",9),ue("D",X),ue("DD",X,$),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fe(["D","DD"],2),fe("Do",(function(e,t){t[2]=E(e.match(X)[0])}));var on=we("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",te),ue("DDDD",z),fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=E(e)})),V("m",["mm",2],0,"minute"),O("minute","m"),F("minute",14),ue("m",X),ue("mm",X,$),fe(["m","mm"],4);var sn=we("Minutes",!1);V("s",["ss",2],0,"second"),O("second","s"),F("second",15),ue("s",X),ue("ss",X,$),fe(["s","ss"],5);var an,cn=we("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),O("millisecond","ms"),F("millisecond",16),ue("S",te,J),ue("SS",te,$),ue("SSS",te,z),an="SSSS";an.length<=9;an+="S")ue(an,ie);function ln(e,t){t[6]=E(1e3*("0."+e))}for(an="S";an.length<=9;an+="S")fe(an,ln);var un=we("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var dn=_.prototype;function hn(e){return e}dn.add=qt,dn.calendar=function(e,t){var n=e||Ct(),r=Nt(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(M(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Ct(n)))},dn.clone=function(){return new _(this)},dn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Nt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=A(t)){case"year":o=$t(this,r)/12;break;case"month":o=$t(this,r);break;case"quarter":o=$t(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:S(o)},dn.endOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?en:Zt;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Xt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Xt(t,1e3)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},dn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=K(this,e);return this.localeData().postformat(t)},dn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ct(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.fromNow=function(e){return this.from(Ct(),e)},dn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ct(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.toNow=function(e){return this.to(Ct(),e)},dn.get=function(e){return M(this[e=A(e)])?this[e]():this},dn.invalidAt=function(){return f(this).overflow},dn.isAfter=function(e,t){var n=w(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},dn.isBefore=function(e,t){var n=w(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},dn.isBetween=function(e,t,n,r){var i=w(e)?e:Ct(e),o=w(t)?t:Ct(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},dn.isSame=function(e,t){var n,r=w(e)?e:Ct(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},dn.isValid=function(){return m(this)},dn.lang=Gt,dn.locale=zt,dn.localeData=Qt,dn.max=Dt,dn.min=kt,dn.parsingFlags=function(){return h({},f(this))},dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(M(this[e=A(e)]))return this[e](t);return this},dn.startOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?en:Zt;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Xt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Xt(t,1e3)}return this._d.setTime(t),i.updateOffset(this,!0),this},dn.subtract=Jt,dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?K(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",K(n,"Z")):K(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=_e,dn.isLeapYear=function(){return ye(this.year())},dn.weekYear=function(e){return nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(e){return nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},dn.month=Me,dn.daysInMonth=function(){return xe(this.year(),this.month())},dn.week=dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},dn.isoWeek=dn.isoWeeks=function(e){var t=Fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},dn.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},dn.isoWeeksInYear=function(){return Be(this.year(),1,4)},dn.date=on,dn.day=dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},dn.hour=dn.hours=Ze,dn.minute=dn.minutes=sn,dn.second=dn.seconds=cn,dn.millisecond=dn.milliseconds=un,dn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=At(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Rt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Kt(this,Yt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Rt(this)},dn.utc=function(e){return this.utcOffset(0,e)},dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rt(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=At(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=Ft,dn.isUTC=Ft,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=k("dates accessor is deprecated. Use date instead.",on),dn.months=k("months accessor is deprecated. Use month instead",Me),dn.years=k("years accessor is deprecated. Use year instead",_e),dn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),dn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Et(e))._a){var t=e._isUTC?p(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var pn=j.prototype;function fn(e,t,n,r){var i=at(),o=p().set(r,t);return i[n](o,e)}function mn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return fn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fn(e,r,n,"month");return i}function gn(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=at(),s=e?o._week.dow:0;if(null!=n)return fn(t,(n+s)%7,r,"day");var a=[];for(i=0;i<7;i++)a[i]=fn(t,(i+s)%7,r,"day");return a}pn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r},pn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(e){return this._ordinal.replace("%d",e)},pn.preparse=hn,pn.postformat=hn,pn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return M(i)?i(e,t,n,r):i.replace(/%d/i,e)},pn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)},pn.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ce).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},pn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ce.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return Te.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},pn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=je),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Pe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(e){return Fe(e,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},pn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},pn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},pn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ve.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},pn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},pn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=k("moment.lang is deprecated. Use moment.locale instead.",ot),i.langData=k("moment.langData is deprecated. Use moment.localeData instead.",at);var vn=Math.abs;function yn(e,t,n,r){var i=Yt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function _n(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function Sn(e){return function(){return this.as(e)}}var En=Sn("ms"),xn=Sn("s"),Cn=Sn("m"),kn=Sn("h"),Dn=Sn("d"),Tn=Sn("w"),In=Sn("M"),Mn=Sn("Q"),Pn=Sn("y");function jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ln=jn("milliseconds"),On=jn("seconds"),An=jn("minutes"),Nn=jn("hours"),Rn=jn("days"),Fn=jn("months"),Bn=jn("years"),Un=Math.round,Yn={ss:44,s:45,m:45,h:22,d:26,M:11};function Wn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Hn=Math.abs;function Vn(e){return(e>0)-(e<0)||+e}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Hn(this._milliseconds)/1e3,r=Hn(this._days),i=Hn(this._months);e=S(n/60),t=S(e/60),n%=60,e%=60;var o=S(i/12),s=i%=12,a=r,c=t,l=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Vn(this._months)!==Vn(d)?"-":"",f=Vn(this._days)!==Vn(d)?"-":"",m=Vn(this._milliseconds)!==Vn(d)?"-":"";return h+"P"+(o?p+o+"Y":"")+(s?p+s+"M":"")+(a?f+a+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var qn=Mt.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},qn.add=function(e,t){return yn(this,e,t,1)},qn.subtract=function(e,t){return yn(this,e,t,-1)},qn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=A(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+_n(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},qn.asMilliseconds=En,qn.asSeconds=xn,qn.asMinutes=Cn,qn.asHours=kn,qn.asDays=Dn,qn.asWeeks=Tn,qn.asMonths=In,qn.asQuarters=Mn,qn.asYears=Pn,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},qn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,c=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*bn(wn(a)+s),s=0,a=0),c.milliseconds=o%1e3,e=S(o/1e3),c.seconds=e%60,t=S(e/60),c.minutes=t%60,n=S(t/60),c.hours=n%24,s+=S(n/24),i=S(_n(s)),a+=i,s-=bn(wn(i)),r=S(a/12),a%=12,c.days=s,c.months=a,c.years=r,this},qn.clone=function(){return Yt(this)},qn.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},qn.milliseconds=Ln,qn.seconds=On,qn.minutes=An,qn.hours=Nn,qn.days=Rn,qn.weeks=function(){return S(this.days()/7)},qn.months=Fn,qn.years=Bn,qn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Yt(e).abs(),i=Un(r.as("s")),o=Un(r.as("m")),s=Un(r.as("h")),a=Un(r.as("d")),c=Un(r.as("M")),l=Un(r.as("y")),u=i<=Yn.ss&&["s",i]||i<Yn.s&&["ss",i]||o<=1&&["m"]||o<Yn.m&&["mm",o]||s<=1&&["h"]||s<Yn.h&&["hh",s]||a<=1&&["d"]||a<Yn.d&&["dd",a]||c<=1&&["M"]||c<Yn.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,Wn.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},qn.toISOString=Kn,qn.toString=Kn,qn.toJSON=Kn,qn.locale=zt,qn.localeData=Qt,qn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),qn.lang=Gt,V("X",0,0,"unix"),V("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),fe("x",(function(e,t,n){n._d=new Date(E(e))})),i.version="2.24.0",t=Ct,i.fn=dn,i.min=function(){var e=[].slice.call(arguments,0);return Tt("isBefore",e)},i.max=function(){var e=[].slice.call(arguments,0);return Tt("isAfter",e)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Ct(1e3*e)},i.months=function(e,t){return mn(e,t,"months")},i.isDate=l,i.locale=ot,i.invalid=g,i.duration=Yt,i.isMoment=w,i.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},i.parseZone=function(){return Ct.apply(null,arguments).parseZone()},i.localeData=at,i.isDuration=Pt,i.monthsShort=function(e,t){return mn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},i.defineLocale=st,i.updateLocale=function(e,t){if(null!=t){var n,r,i=et;null!=(r=it(e))&&(i=r._config),t=P(i,t),(n=new j(t)).parentLocale=tt[e],tt[e]=n,ot(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?tt[e]=tt[e].parentLocale:null!=tt[e]&&delete tt[e]);return tt[e]},i.locales=function(){return D(tt)},i.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},i.normalizeUnits=A,i.relativeTimeRounding=function(e){return void 0===e?Un:"function"==typeof e&&(Un=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Yn[e]&&(void 0===t?Yn[e]:(Yn[e]=t,"s"===e&&(Yn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=dn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()}).call(this,n(124)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExperimentService=t.IAsyncDisposableRegistry=t.ICryptoUtils=t.IEditorUtils=t.IFeatureDeprecationManager=t.ISurveyBanner=t.BANNER_NAME_INTERACTIVE_SHIFTENTER=t.IJupyterExtensionBanner=t.IBrowserService=t.IExtensions=t.IExtensionContext=t.IHttpClient=t.IFileDownloader=t.ISocketServer=t.IConfigurationService=t.IRandom=t.IPathUtils=t.IInstaller=t.ModuleNamePurpose=t.ProductInstallStatus=t.Product=t.InstallerResponse=t.IPersistentStateFactory=t.WORKSPACE_MEMENTO=t.GLOBAL_MEMENTO=t.IMemento=t.IDisposableRegistry=t.IsWindows=t.IOutputChannel=t.IsDevMode=t.IsCodeSpace=void 0,t.IsCodeSpace=Symbol("IsCodeSpace"),t.IsDevMode=Symbol("IsDevMode"),t.IOutputChannel=Symbol("IOutputChannel"),t.IsWindows=Symbol("IS_WINDOWS"),t.IDisposableRegistry=Symbol("IDisposableRegistry"),t.IMemento=Symbol("IGlobalMemento"),t.GLOBAL_MEMENTO=Symbol("IGlobalMemento"),t.WORKSPACE_MEMENTO=Symbol("IWorkspaceMemento"),t.IPersistentStateFactory=Symbol("IPersistentStateFactory"),function(e){e[e.Installed=0]="Installed",e[e.Disabled=1]="Disabled",e[e.Ignore=2]="Ignore"}(t.InstallerResponse||(t.InstallerResponse={})),function(e){e[e.jupyter=18]="jupyter",e[e.ipykernel=19]="ipykernel",e[e.notebook=20]="notebook",e[e.kernelspec=21]="kernelspec",e[e.nbconvert=22]="nbconvert",e[e.pandas=23]="pandas"}(t.Product||(t.Product={})),function(e){e[e.Installed=0]="Installed",e[e.NotInstalled=1]="NotInstalled",e[e.NeedsUpgrade=2]="NeedsUpgrade"}(t.ProductInstallStatus||(t.ProductInstallStatus={})),function(e){e[e.install=1]="install",e[e.run=2]="run"}(t.ModuleNamePurpose||(t.ModuleNamePurpose={})),t.IInstaller=Symbol("IInstaller"),t.IPathUtils=Symbol("IPathUtils"),t.IRandom=Symbol("IRandom"),t.IConfigurationService=Symbol("IConfigurationService"),t.ISocketServer=Symbol("ISocketServer"),t.IFileDownloader=Symbol("IFileDownloader"),t.IHttpClient=Symbol("IHttpClient"),t.IExtensionContext=Symbol("ExtensionContext"),t.IExtensions=Symbol("IExtensions"),t.IBrowserService=Symbol("IBrowserService"),t.IJupyterExtensionBanner=Symbol("IJupyterExtensionBanner"),t.BANNER_NAME_INTERACTIVE_SHIFTENTER="InteractiveShiftEnterBanner",t.ISurveyBanner=Symbol("ISurveyBanner"),t.IFeatureDeprecationManager=Symbol("IFeatureDeprecationManager"),t.IEditorUtils=Symbol("IEditorUtils"),t.ICryptoUtils=Symbol("ICryptoUtils"),t.IAsyncDisposableRegistry=Symbol("IAsyncDisposableRegistry"),t.IExperimentService=Symbol("IExperimentService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogOptions=t.traceWarning=t.traceVerbose=t.traceInfoIf=t.traceInfo=t.traceErrorIf=t.traceError=t.traceDecorators=void 0;var r=n(137);Object.defineProperty(t,"traceDecorators",{enumerable:!0,get:function(){return r.traceDecorators}}),Object.defineProperty(t,"traceError",{enumerable:!0,get:function(){return r.logError}}),Object.defineProperty(t,"traceErrorIf",{enumerable:!0,get:function(){return r.logErrorIf}}),Object.defineProperty(t,"traceInfo",{enumerable:!0,get:function(){return r.logInfo}}),Object.defineProperty(t,"traceInfoIf",{enumerable:!0,get:function(){return r.logInfoIf}}),Object.defineProperty(t,"traceVerbose",{enumerable:!0,get:function(){return r.logVerbose}}),Object.defineProperty(t,"traceWarning",{enumerable:!0,get:function(){return r.logWarning}});var i=n(283);Object.defineProperty(t,"LogOptions",{enumerable:!0,get:function(){return i.TraceOptions}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultNotebookFormat=t.DataScienceStartupTime=t.JupyterCommands=t.CodeSnippets=t.Identifiers=t.GetVariableInfo=t.DataFrameLoading=t.Settings=t.HelpLinks=t.VSCodeNativeTelemetry=t.NativeMouseCommandTelemetry=t.NativeKeyboardCommandTelemetry=t.Telemetry=t.RegExpValues=t.EditorContexts=t.CodeLensCommands=t.Commands=t.VSCodeKnownNotebookLanguages=t.jupyterLanguageToMonacoLanguageMapping=t.KnownKernelLanguageAliases=t.LanguagesSupportedByPythonkernel=t.PythonExtension=t.KernelLauncherDaemonModule=t.JupyterDaemonModule=t.JUPYTER_OUTPUT_CHANNEL=t.DefaultTheme=void 0;const r=n(6),i=n(14),o=n(284);var s,a;t.DefaultTheme="Default Light+",t.JUPYTER_OUTPUT_CHANNEL="JUPYTER_OUTPUT_CHANNEL",t.JupyterDaemonModule="vscode_datascience_helpers.jupyter_daemon",t.KernelLauncherDaemonModule="vscode_datascience_helpers.kernel_launcher_daemon",t.PythonExtension="ms-python.python",t.LanguagesSupportedByPythonkernel=["python","html","xml","javascript","markdown","latex","shellscript","bat","powershell","kusto","ruby","sql","perl","raw"],t.KnownKernelLanguageAliases=new Map([["qsharp","q#"],["csharp","c#"],["fsharp","f#"],["c++11","c++"],["c++12","c++"],["c++14","c++"]]),t.jupyterLanguageToMonacoLanguageMapping=new Map([["bash","shellscript"],["c#","csharp"],["f#","fsharp"],["q#","qsharp"],["c++11","c++"],["c++12","c++"],["c++14","c++"]]),t.VSCodeKnownNotebookLanguages=["python","r","julia","c++","c#","f#","q#","powershell","java","scala","haskell","bash","cling","rust","sas","sos"],function(e){e.RunAllCells="jupyter.runallcells",e.RunAllCellsAbove="jupyter.runallcellsabove",e.RunCellAndAllBelow="jupyter.runcellandallbelow",e.RunAllCellsAbovePalette="jupyter.runallcellsabove.palette",e.RunCellAndAllBelowPalette="jupyter.runcurrentcellandallbelow.palette",e.RunToLine="jupyter.runtoline",e.RunFromLine="jupyter.runfromline",e.RunCell="jupyter.runcell",e.RunCurrentCell="jupyter.runcurrentcell",e.RunCurrentCellAdvance="jupyter.runcurrentcelladvance",e.CreateNewInteractive="jupyter.createnewinteractive",e.ImportNotebook="jupyter.importnotebook",e.ImportNotebookFile="jupyter.importnotebookfile",e.OpenNotebook="jupyter.opennotebook",e.OpenNotebookInPreviewEditor="jupyter.opennotebookInPreviewEditor",e.SelectJupyterURI="jupyter.selectjupyteruri",e.SelectNativeJupyterUriFromToolBar="jupyter.selectNativeJupyterUriFromToolBar",e.SelectJupyterCommandLine="jupyter.selectjupytercommandline",e.ExportFileAsNotebook="jupyter.exportfileasnotebook",e.ExportFileAndOutputAsNotebook="jupyter.exportfileandoutputasnotebook",e.InterruptKernel="jupyter.interruptkernel",e.RestartKernel="jupyter.restartkernel",e.NotebookEditorUndoCells="jupyter.notebookeditor.undocells",e.NotebookEditorRedoCells="jupyter.notebookeditor.redocells",e.NotebookEditorRemoveAllCells="jupyter.notebookeditor.removeallcells",e.NotebookEditorInterruptKernel="jupyter.notebookeditor.interruptkernel",e.NotebookEditorRestartKernel="jupyter.notebookeditor.restartkernel",e.NotebookEditorRunAllCells="jupyter.notebookeditor.runallcells",e.NotebookEditorRunSelectedCell="jupyter.notebookeditor.runselectedcell",e.NotebookEditorAddCellBelow="jupyter.notebookeditor.addcellbelow",e.ExpandAllCells="jupyter.expandallcells",e.CollapseAllCells="jupyter.collapseallcells",e.ExportOutputAsNotebook="jupyter.exportoutputasnotebook",e.ExecSelectionInInteractiveWindow="jupyter.execSelectionInteractive",e.RunFileInInteractiveWindows="jupyter.runFileInteractive",e.DebugFileInInteractiveWindows="jupyter.debugFileInteractive",e.AddCellBelow="jupyter.addcellbelow",e.DebugCurrentCellPalette="jupyter.debugcurrentcell.palette",e.DebugCell="jupyter.debugcell",e.DebugStepOver="jupyter.debugstepover",e.DebugContinue="jupyter.debugcontinue",e.DebugStop="jupyter.debugstop",e.RunCurrentCellAndAddBelow="jupyter.runcurrentcellandaddbelow",e.InsertCellBelowPosition="jupyter.insertCellBelowPosition",e.InsertCellBelow="jupyter.insertCellBelow",e.InsertCellAbove="jupyter.insertCellAbove",e.DeleteCells="jupyter.deleteCells",e.SelectCell="jupyter.selectCell",e.SelectCellContents="jupyter.selectCellContents",e.ExtendSelectionByCellAbove="jupyter.extendSelectionByCellAbove",e.ExtendSelectionByCellBelow="jupyter.extendSelectionByCellBelow",e.MoveCellsUp="jupyter.moveCellsUp",e.MoveCellsDown="jupyter.moveCellsDown",e.ChangeCellToMarkdown="jupyter.changeCellToMarkdown",e.ChangeCellToCode="jupyter.changeCellToCode",e.GotoNextCellInFile="jupyter.gotoNextCellInFile",e.GotoPrevCellInFile="jupyter.gotoPrevCellInFile",e.ScrollToCell="jupyter.scrolltocell",e.CreateNewNotebook="jupyter.createnewnotebook",e.ViewJupyterOutput="jupyter.viewOutput",e.ExportAsPythonScript="jupyter.exportAsPythonScript",e.ExportToHTML="jupyter.exportToHTML",e.ExportToPDF="jupyter.exportToPDF",e.Export="jupyter.export",e.NativeNotebookExport="jupyter.notebookeditor.export",e.LatestExtension="jupyter.latestExtension",e.EnableLoadingWidgetsFrom3rdPartySource="jupyter.enableLoadingWidgetScriptsFromThirdPartySource",e.NotebookEditorExpandAllCells="jupyter.notebookeditor.expandallcells",e.NotebookEditorCollapseAllCells="jupyter.notebookeditor.collapseallcells",e.EnableDebugLogging="jupyter.enableDebugLogging",e.ResetLoggingLevel="jupyter.resetLoggingLevel",e.CreateGitHubIssue="jupyter.createGitHubIssue",e.SubmitGitHubIssue="jupyter.submitGitHubIssue",e.ShowDataViewer="jupyter.showDataViewer",e.RefreshDataViewer="jupyter.refreshDataViewer",e.ClearSavedJupyterUris="jupyter.clearSavedJupyterUris",e.OpenVariableView="jupyter.openVariableView",e.InteractiveClearAll="jupyter.interactive.clearAllCells",e.InteractiveRemoveCell="jupyter.interactive.removeCell",e.InteractiveGoToCode="jupyter.interactive.goToCode",e.InteractiveCopyCell="jupyter.interactive.copyCell",e.InteractiveExportAsNotebook="jupyter.interactive.exportasnotebook",e.InteractiveExportAs="jupyter.interactive.exportas",e.DebugNotebook="jupyter.debugNotebook",e.RunByLine="jupyter.runByLine",e.RunAndDebugCell="jupyter.runAndDebugCell",e.RunByLineContinue="jupyter.runByLineContinue",e.RunByLineStop="jupyter.runByLineStop"}(s=t.Commands||(t.Commands={})),function(e){e.DefaultDesignLenses=[s.RunCurrentCell,s.RunAllCellsAbove,s.DebugCell],e.DefaultDebuggingLenses=[s.DebugContinue,s.DebugStop,s.DebugStepOver],e.DebuggerCommands=[s.DebugContinue,s.DebugStop,s.DebugStepOver]}(t.CodeLensCommands||(t.CodeLensCommands={})),function(e){e.HasCodeCells="jupyter.hascodecells",e.HaveInteractiveCells="jupyter.haveinteractivecells",e.HaveRedoableCells="jupyter.haveredoablecells",e.HaveInteractive="jupyter.haveinteractive",e.IsInteractiveActive="jupyter.isinteractiveactive",e.OwnsSelection="jupyter.ownsSelection",e.HaveNativeCells="jupyter.havenativecells",e.HaveNativeRedoableCells="jupyter.havenativeredoablecells",e.HaveNative="jupyter.havenative",e.IsNativeActive="jupyter.isnativeactive",e.IsInteractiveOrNativeActive="jupyter.isinteractiveornativeactive",e.IsPythonOrNativeActive="jupyter.ispythonornativeactive",e.IsPythonOrInteractiveActive="jupyter.ispythonorinteractiveeactive",e.IsPythonOrInteractiveOrNativeActive="jupyter.ispythonorinteractiveornativeeactive",e.HaveCellSelected="jupyter.havecellselected",e.CanRestartNotebookKernel="jupyter.notebookeditor.canrestartNotebookkernel",e.CanInterruptNotebookKernel="jupyter.notebookeditor.canInterruptNotebookKernel",e.DebuggingInProgress="jupyter.notebookeditor.debuggingInProgress",e.RunByLineInProgress="jupyter.notebookeditor.runByLineInProgress",e.IsPythonNotebook="jupyter.ispythonnotebook",e.IsDataViewerActive="jupyter.dataViewerActive",e.HasNativeNotebookOpen="jupyter.hasNativeNotebookOpen"}(t.EditorContexts||(t.EditorContexts={})),function(e){e.PythonCellMarker=/^(#\s*%%|#\s*\<codecell\>|#\s*In\[\d*?\]|#\s*In\[ \])/,e.PythonMarkdownCellMarker=/^(#\s*%%\s*\[markdown\]|#\s*\<markdowncell\>)/,e.CheckJupyterRegEx=o.IS_WINDOWS?/^jupyter?\.exe$/:/^jupyter?$/,e.PyKernelOutputRegEx=/.*\s+(.+)$/m,e.KernelSpecOutputRegEx=/^\s*(\S+)\s+(\S+)$/,e.UrlPatternRegEx="(?<PREFIX>https?:\\/\\/)((\\(.+\\s+or\\s+(?<IP>.+)\\))|(?<LOCAL>[^\\s]+))(?<REST>:.+)",e.HttpPattern=/https?:\/\//,e.ExtractPortRegex=/https?:\/\/[^\s]+:(\d+)[^\s]+/,e.ConvertToRemoteUri=/(https?:\/\/)([^\s])+(:\d+[^\s]*)/,e.ParamsExractorRegEx=/\S+\((.*)\)\s*{/,e.ArgsSplitterRegEx=/([^\s,]+)/,e.ShapeSplitterRegEx=/.*,\s*(\d+).*/,e.SvgHeightRegex=/(\<svg.*height=\")(.*?)\"/,e.SvgWidthRegex=/(\<svg.*width=\")(.*?)\"/,e.SvgSizeTagRegex=/\<svg.*tag=\"sizeTag=\{(.*),\s*(.*)\}\"/,e.StyleTagRegex=/\<style[\s\S]*\<\/style\>/m}(t.RegExpValues||(t.RegExpValues={})),function(e){e.ImportNotebook="DATASCIENCE.IMPORT_NOTEBOOK",e.RunCell="DATASCIENCE.RUN_CELL",e.RunCurrentCell="DATASCIENCE.RUN_CURRENT_CELL",e.RunCurrentCellAndAdvance="DATASCIENCE.RUN_CURRENT_CELL_AND_ADVANCE",e.RunAllCells="DATASCIENCE.RUN_ALL_CELLS",e.RunAllCellsAbove="DATASCIENCE.RUN_ALL_CELLS_ABOVE",e.RunCellAndAllBelow="DATASCIENCE.RUN_CELL_AND_ALL_BELOW",e.AddEmptyCellToBottom="DATASCIENCE.RUN_ADD_EMPTY_CELL_TO_BOTTOM",e.RunCurrentCellAndAddBelow="DATASCIENCE.RUN_CURRENT_CELL_AND_ADD_BELOW",e.InsertCellBelowPosition="DATASCIENCE.RUN_INSERT_CELL_BELOW_POSITION",e.InsertCellBelow="DATASCIENCE.RUN_INSERT_CELL_BELOW",e.InsertCellAbove="DATASCIENCE.RUN_INSERT_CELL_ABOVE",e.DeleteCells="DATASCIENCE.RUN_DELETE_CELLS",e.SelectCell="DATASCIENCE.RUN_SELECT_CELL",e.SelectCellContents="DATASCIENCE.RUN_SELECT_CELL_CONTENTS",e.ExtendSelectionByCellAbove="DATASCIENCE.RUN_EXTEND_SELECTION_BY_CELL_ABOVE",e.ExtendSelectionByCellBelow="DATASCIENCE.RUN_EXTEND_SELECTION_BY_CELL_BELOW",e.MoveCellsUp="DATASCIENCE.RUN_MOVE_CELLS_UP",e.MoveCellsDown="DATASCIENCE.RUN_MOVE_CELLS_DOWN",e.ChangeCellToMarkdown="DATASCIENCE.RUN_CHANGE_CELL_TO_MARKDOWN",e.ChangeCellToCode="DATASCIENCE.RUN_CHANGE_CELL_TO_CODE",e.GotoNextCellInFile="DATASCIENCE.GOTO_NEXT_CELL_IN_FILE",e.GotoPrevCellInFile="DATASCIENCE.GOTO_PREV_CELL_IN_FILE",e.RunSelectionOrLine="DATASCIENCE.RUN_SELECTION_OR_LINE",e.RunToLine="DATASCIENCE.RUN_TO_LINE",e.RunFromLine="DATASCIENCE.RUN_FROM_LINE",e.DeleteAllCells="DATASCIENCE.DELETE_ALL_CELLS",e.DeleteCell="DATASCIENCE.DELETE_CELL",e.GotoSourceCode="DATASCIENCE.GOTO_SOURCE",e.CopySourceCode="DATASCIENCE.COPY_SOURCE",e.RestartKernel="DS_INTERNAL.RESTART_KERNEL",e.RestartKernelCommand="DATASCIENCE.RESTART_KERNEL_COMMAND",e.ExportNotebookInteractive="DATASCIENCE.EXPORT_NOTEBOOK",e.Undo="DATASCIENCE.UNDO",e.Redo="DATASCIENCE.REDO",e.Save="DATASCIENCE.SAVE",e.CellCount="DS_INTERNAL.CELL_COUNT",e.CreateNewInteractive="DATASCIENCE.CREATE_NEW_INTERACTIVE",e.ExpandAll="DATASCIENCE.EXPAND_ALL",e.CollapseAll="DATASCIENCE.COLLAPSE_ALL",e.SelectJupyterURI="DATASCIENCE.SELECT_JUPYTER_URI",e.SelectLocalJupyterKernel="DATASCIENCE.SELECT_LOCAL_JUPYTER_KERNEL",e.SelectRemoteJupyterKernel="DATASCIENCE.SELECT_REMOTE_JUPYTER_KERNEL",e.SetJupyterURIToLocal="DATASCIENCE.SET_JUPYTER_URI_LOCAL",e.SetJupyterURIToUserSpecified="DATASCIENCE.SET_JUPYTER_URI_USER_SPECIFIED",e.SetJupyterURIUIDisplayed="DATASCIENCE.SET_JUPYTER_URI_UI_DISPLAYED",e.Interrupt="DATASCIENCE.INTERRUPT",e.ExportPythonFileInteractive="DATASCIENCE.EXPORT_PYTHON_FILE",e.ExportPythonFileAndOutputInteractive="DATASCIENCE.EXPORT_PYTHON_FILE_AND_OUTPUT",e.ClickedExportNotebookAsQuickPick="DATASCIENCE.CLICKED_EXPORT_NOTEBOOK_AS_QUICK_PICK",e.ExportNotebookAs="DATASCIENCE.EXPORT_NOTEBOOK_AS",e.ExportNotebookAsCommand="DATASCIENCE.EXPORT_NOTEBOOK_AS_COMMAND",e.ExportNotebookAsFailed="DATASCIENCE.EXPORT_NOTEBOOK_AS_FAILED",e.FailedToCreateNotebookController="DATASCIENCE.FAILED_TO_CREATE_CONTROLLER",e.FailedToFindKernelSpecInterpreterForInteractive="DATASCIENCE.FAILED_TO_FIND_INTERPRETER_KERNEL_CONNECTION_FOR_INTERACTIVE",e.StartJupyter="DS_INTERNAL.JUPYTERSTARTUPCOST",e.SubmitCellThroughInput="DATASCIENCE.SUBMITCELLFROMREPL",e.ConnectLocalJupyter="DS_INTERNAL.CONNECTLOCALJUPYTER",e.ConnectRemoteJupyter="DS_INTERNAL.CONNECTREMOTEJUPYTER",e.ConnectRemoteJupyterViaLocalHost="DS_INTERNAL.CONNECTREMOTEJUPYTER_VIA_LOCALHOST",e.ConnectFailedJupyter="DS_INTERNAL.CONNECTFAILEDJUPYTER",e.ConnectRemoteFailedJupyter="DS_INTERNAL.CONNECTREMOTEFAILEDJUPYTER",e.StartSessionFailedJupyter="DS_INTERNAL.START_SESSION_FAILED_JUPYTER",e.ConnectRemoteSelfCertFailedJupyter="DS_INTERNAL.CONNECTREMOTESELFCERTFAILEDJUPYTER",e.RegisterAndUseInterpreterAsKernel="DS_INTERNAL.REGISTER_AND_USE_INTERPRETER_AS_KERNEL",e.UseInterpreterAsKernel="DS_INTERNAL.USE_INTERPRETER_AS_KERNEL",e.UseExistingKernel="DS_INTERNAL.USE_EXISTING_KERNEL",e.SwitchToInterpreterAsKernel="DS_INTERNAL.SWITCH_TO_INTERPRETER_AS_KERNEL",e.SwitchToExistingKernel="DS_INTERNAL.SWITCH_TO_EXISTING_KERNEL",e.SelfCertsMessageEnabled="DATASCIENCE.SELFCERTSMESSAGEENABLED",e.SelfCertsMessageClose="DATASCIENCE.SELFCERTSMESSAGECLOSE",e.ShiftEnterBannerShown="DS_INTERNAL.SHIFTENTER_BANNER_SHOWN",e.EnableInteractiveShiftEnter="DATASCIENCE.ENABLE_INTERACTIVE_SHIFT_ENTER",e.DisableInteractiveShiftEnter="DATASCIENCE.DISABLE_INTERACTIVE_SHIFT_ENTER",e.StartShowDataViewer="DATASCIENCE.START_SHOW_DATA_EXPLORER",e.ShowDataViewer="DATASCIENCE.SHOW_DATA_EXPLORER",e.FailedShowDataViewer="DATASCIENCE.FAILED_SHOW_DATA_EXPLORER",e.RefreshDataViewer="DATASCIENCE.REFRESH_DATA_VIEWER",e.RunFileInteractive="DATASCIENCE.RUN_FILE_INTERACTIVE",e.DebugFileInteractive="DATASCIENCE.DEBUG_FILE_INTERACTIVE",e.PandasNotInstalled="DS_INTERNAL.SHOW_DATA_NO_PANDAS",e.PandasTooOld="DS_INTERNAL.SHOW_DATA_PANDAS_TOO_OLD",e.DataScienceSettings="DS_INTERNAL.SETTINGS",e.VariableExplorerToggled="DATASCIENCE.VARIABLE_EXPLORER_TOGGLE",e.VariableExplorerVariableCount="DS_INTERNAL.VARIABLE_EXPLORER_VARIABLE_COUNT",e.AddCellBelow="DATASCIENCE.ADD_CELL_BELOW",e.GetPasswordAttempt="DATASCIENCE.GET_PASSWORD_ATTEMPT",e.GetPasswordFailure="DS_INTERNAL.GET_PASSWORD_FAILURE",e.GetPasswordSuccess="DS_INTERNAL.GET_PASSWORD_SUCCESS",e.OpenPlotViewer="DATASCIENCE.OPEN_PLOT_VIEWER",e.DebugCurrentCell="DATASCIENCE.DEBUG_CURRENT_CELL",e.CodeLensAverageAcquisitionTime="DS_INTERNAL.CODE_LENS_ACQ_TIME",e.FindJupyterCommand="DS_INTERNAL.FIND_JUPYTER_COMMAND",e.SelectJupyterInterpreter="DS_INTERNAL.SELECT_JUPYTER_INTERPRETER",e.SelectJupyterInterpreterMessageDisplayed="DS_INTERNAL.SELECT_JUPYTER_INTERPRETER_MESSAGE_DISPLAYED",e.SelectJupyterInterpreterCommand="DATASCIENCE.SELECT_JUPYTER_INTERPRETER_Command",e.StartJupyterProcess="DS_INTERNAL.START_JUPYTER_PROCESS",e.NumberOfSavedRemoteKernelIds="DS_INTERNAL.NUMBER_OF_REMOTE_KERNEL_IDS_SAVED",e.WaitForIdleJupyter="DS_INTERNAL.WAIT_FOR_IDLE_JUPYTER",e.HiddenCellTime="DS_INTERNAL.HIDDEN_EXECUTION_TIME",e.RestartJupyterTime="DS_INTERNAL.RESTART_JUPYTER_TIME",e.InterruptJupyterTime="DS_INTERNAL.INTERRUPT_JUPYTER_TIME",e.ExecuteCellTime="DATASCIENCE.EXECUTE_CELL_TIME",e.ExecuteCellPerceivedCold="DS_INTERNAL.EXECUTE_CELL_PERCEIVED_COLD",e.ExecuteCellPerceivedWarm="DS_INTERNAL.EXECUTE_CELL_PERCEIVED_WARM",e.PerceivedJupyterStartupNotebook="DS_INTERNAL.PERCEIVED_JUPYTER_STARTUP_NOTEBOOK",e.StartExecuteNotebookCellPerceivedCold="DS_INTERNAL.START_EXECUTE_NOTEBOOK_CELL_PERCEIVED_COLD",e.WebviewStartup="DS_INTERNAL.WEBVIEW_STARTUP",e.VariableExplorerFetchTime="DS_INTERNAL.VARIABLE_EXPLORER_FETCH_TIME",e.WebviewStyleUpdate="DS_INTERNAL.WEBVIEW_STYLE_UPDATE",e.FindJupyterKernelSpec="DS_INTERNAL.FIND_JUPYTER_KERNEL_SPEC",e.FailedToUpdateKernelSpec="DS_INTERNAL.FAILED_TO_UPDATE_JUPYTER_KERNEL_SPEC",e.HashedCellOutputMimeType="DS_INTERNAL.HASHED_OUTPUT_MIME_TYPE",e.HashedCellOutputMimeTypePerf="DS_INTERNAL.HASHED_OUTPUT_MIME_TYPE_PERF",e.HashedNotebookCellOutputMimeTypePerf="DS_INTERNAL.HASHED_NOTEBOOK_OUTPUT_MIME_TYPE_PERF",e.JupyterInstalledButNotKernelSpecModule="DS_INTERNAL.JUPYTER_INTALLED_BUT_NO_KERNELSPEC_MODULE",e.DebugpyPromptToInstall="DATASCIENCE.DEBUGPY_PROMPT_TO_INSTALL",e.DebugpySuccessfullyInstalled="DATASCIENCE.DEBUGPY_SUCCESSFULLY_INSTALLED",e.DebugpyInstallFailed="DATASCIENCE.DEBUGPY_INSTALL_FAILED",e.DebugpyInstallCancelled="DATASCIENCE.DEBUGPY_INSTALL_CANCELLED",e.ScrolledToCell="DATASCIENCE.SCROLLED_TO_CELL",e.ExecuteNativeCell="DATASCIENCE.NATIVE.EXECUTE_NATIVE_CELL",e.CreateNewNotebook="DATASCIENCE.NATIVE.CREATE_NEW_NOTEBOOK",e.DebugStepOver="DATASCIENCE.DEBUG_STEP_OVER",e.DebugContinue="DATASCIENCE.DEBUG_CONTINUE",e.DebugStop="DATASCIENCE.DEBUG_STOP",e.OpenNotebook="DATASCIENCE.NATIVE.OPEN_NOTEBOOK",e.OpenNotebookAll="DATASCIENCE.NATIVE.OPEN_NOTEBOOK_ALL",e.OpenNotebookSelection="DATASCIENCE.NATIVE.OPEN_NOTEBOOK_SELECTION",e.OpenNotebookSelectionRegistered="DATASCIENCE.NATIVE.OPEN_NOTEBOOK_SELECTION_REGISTERED",e.ConvertToPythonFile="DATASCIENCE.NATIVE.CONVERT_NOTEBOOK_TO_PYTHON",e.NotebookWorkspaceCount="DS_INTERNAL.NATIVE.WORKSPACE_NOTEBOOK_COUNT",e.NotebookRunCount="DS_INTERNAL.NATIVE.NOTEBOOK_RUN_COUNT",e.NotebookOpenCount="DS_INTERNAL.NATIVE.NOTEBOOK_OPEN_COUNT",e.NotebookOpenTime="DS_INTERNAL.NATIVE.NOTEBOOK_OPEN_TIME",e.SessionIdleTimeout="DS_INTERNAL.JUPYTER_IDLE_TIMEOUT",e.JupyterStartTimeout="DS_INTERNAL.JUPYTER_START_TIMEOUT",e.JupyterNotInstalledErrorShown="DATASCIENCE.JUPYTER_NOT_INSTALLED_ERROR_SHOWN",e.JupyterCommandSearch="DATASCIENCE.JUPYTER_COMMAND_SEARCH",e.RegisterInterpreterAsKernel="DS_INTERNAL.JUPYTER_REGISTER_INTERPRETER_AS_KERNEL",e.UserInstalledJupyter="DATASCIENCE.USER_INSTALLED_JUPYTER",e.UserInstalledPandas="DATASCIENCE.USER_INSTALLED_PANDAS",e.UserDidNotInstallJupyter="DATASCIENCE.USER_DID_NOT_INSTALL_JUPYTER",e.UserDidNotInstallPandas="DATASCIENCE.USER_DID_NOT_INSTALL_PANDAS",e.OpenedInteractiveWindow="DATASCIENCE.OPENED_INTERACTIVE",e.OpenNotebookFailure="DS_INTERNAL.NATIVE.OPEN_NOTEBOOK_FAILURE",e.FindKernelForLocalConnection="DS_INTERNAL.FIND_KERNEL_FOR_LOCAL_CONNECTION",e.CompletionTimeFromLS="DS_INTERNAL.COMPLETION_TIME_FROM_LS",e.CompletionTimeFromJupyter="DS_INTERNAL.COMPLETION_TIME_FROM_JUPYTER",e.NotebookLanguage="DATASCIENCE.NOTEBOOK_LANGUAGE",e.NumberOfLocalKernelSpecs="DS_INTERNAL.LOCAL_KERNEL_SPEC_COUNT",e.NumberOfRemoteKernelSpecs="DS_INTERNAL.REMOTE_KERNEL_SPEC_COUNT",e.KernelSpecNotFound="DS_INTERNAL.KERNEL_SPEC_NOT_FOUND",e.KernelRegisterFailed="DS_INTERNAL.KERNEL_REGISTER_FAILED",e.KernelEnumeration="DS_INTERNAL.KERNEL_ENUMERATION",e.KernelLauncherPerf="DS_INTERNAL.KERNEL_LAUNCHER_PERF",e.KernelProviderPerf="DS_INTERNAL.KERNEL_PROVIDER_PERF",e.GetPreferredKernelPerf="DS_INTERNAL.GET_PREFERRED_KERNEL_PERF",e.PreferredKernel="DS_INTERNAL.PREFERRED_KERNEL",e.KernelFinderPerf="DS_INTERNAL.KERNEL_FINDER_PERF",e.KernelListingPerf="DS_INTERNAL.KERNEL_LISTING_PERF",e.InterpreterListingPerf="DS_INTERNAL.INTERPRETER_LISTING_PERF",e.ActiveInterpreterListingPerf="DS_INTERNAL.ACTIVE_INTERPRETER_LISTING_PERF",e.JupyterInstallFailed="DS_INTERNAL.JUPYTER_INSTALL_FAILED",e.UserInstalledModule="DATASCIENCE.USER_INSTALLED_MODULE",e.PythonModuleInstal="DS_INTERNAL.PYTHON_MODULE_INSTALL",e.PythonNotInstalled="DS_INTERNAL.PYTHON_NOT_INSTALLED",e.PythonExtensionNotInstalled="DS_INTERNAL.PYTHON_EXTENSION_NOT_INSTALLED",e.KernelNotInstalled="DS_INTERNAL.KERNEL_NOT_INSTALLED",e.JupyterCommandLineNonDefault="DS_INTERNAL.JUPYTER_CUSTOM_COMMAND_LINE",e.NewFileForInteractiveWindow="DS_INTERNAL.NEW_FILE_USED_IN_INTERACTIVE",e.KernelInvalid="DS_INTERNAL.INVALID_KERNEL_USED",e.ZMQSupported="DS_INTERNAL.ZMQ_NATIVE_BINARIES_LOADING",e.ZMQNotSupported="DS_INTERNAL.ZMQ_NATIVE_BINARIES_NOT_LOADING",e.IPyWidgetLoadSuccess="DS_INTERNAL.IPYWIDGET_LOAD_SUCCESS",e.IPyWidgetLoadFailure="DS_INTERNAL.IPYWIDGET_LOAD_FAILURE",e.IPyWidgetWidgetVersionNotSupportedLoadFailure="DS_INTERNAL.IPYWIDGET_WIDGET_VERSION_NOT_SUPPORTED_LOAD_FAILURE",e.IPyWidgetLoadDisabled="DS_INTERNAL.IPYWIDGET_LOAD_DISABLED",e.HashedIPyWidgetNameUsed="DS_INTERNAL.IPYWIDGET_USED_BY_USER",e.VSCNotebookCellTranslationFailed="DS_INTERNAL.VSCNOTEBOOK_CELL_TRANSLATION_FAILED",e.HashedIPyWidgetNameDiscovered="DS_INTERNAL.IPYWIDGET_DISCOVERED",e.HashedIPyWidgetScriptDiscoveryError="DS_INTERNAL.IPYWIDGET_DISCOVERY_ERRORED",e.DiscoverIPyWidgetNamesLocalPerf="DS_INTERNAL.IPYWIDGET_TEST_AVAILABILITY_ON_LOCAL",e.DiscoverIPyWidgetNamesCDNPerf="DS_INTERNAL.IPYWIDGET_TEST_AVAILABILITY_ON_CDN",e.IPyWidgetPromptToUseCDN="DS_INTERNAL.IPYWIDGET_PROMPT_TO_USE_CDN",e.IPyWidgetPromptToUseCDNSelection="DS_INTERNAL.IPYWIDGET_PROMPT_TO_USE_CDN_SELECTION",e.IPyWidgetOverhead="DS_INTERNAL.IPYWIDGET_OVERHEAD",e.IPyWidgetRenderFailure="DS_INTERNAL.IPYWIDGET_RENDER_FAILURE",e.IPyWidgetUnhandledMessage="DS_INTERNAL.IPYWIDGET_UNHANDLED_MESSAGE",e.RawKernelCreatingNotebook="DS_INTERNAL.RAWKERNEL_CREATING_NOTEBOOK",e.JupyterCreatingNotebook="DS_INTERNAL.JUPYTER_CREATING_NOTEBOOK",e.KernelStartFailedAndUIDisabled="DS_INTERNAL.START_RAW_FAILED_UI_DISABLED",e.RawKernelSessionConnect="DS_INTERNAL.RAWKERNEL_SESSION_CONNECT",e.RawKernelStartRawSession="DS_INTERNAL.RAWKERNEL_START_RAW_SESSION",e.RawKernelSessionStartSuccess="DS_INTERNAL.RAWKERNEL_SESSION_START_SUCCESS",e.RawKernelSessionStart="DS_INTERNAL.RAWKERNEL_SESSION_START",e.RawKernelSessionStartUserCancel="DS_INTERNAL.RAWKERNEL_SESSION_START_USER_CANCEL",e.RawKernelSessionStartTimeout="DS_INTERNAL.RAWKERNEL_SESSION_START_TIMEOUT",e.RawKernelSessionStartException="DS_INTERNAL.RAWKERNEL_SESSION_START_EXCEPTION",e.RawKernelSessionStartNoIpykernel="DS_INTERNAL.RAWKERNEL_SESSION_NO_IPYKERNEL",e.RawKernelProcessLaunch="DS_INTERNAL.RAWKERNEL_PROCESS_LAUNCH",e.RawKernelSessionShutdown="DS_INTERNAL.RAWKERNEL_SESSION_SHUTDOWN",e.RawKernelSessionKernelProcessExited="DS_INTERNAL.RAWKERNEL_SESSION_KERNEL_PROCESS_EXITED",e.RawKernelSessionDisposed="DS_INTERNAL.RAWKERNEL_SESSION_DISPOSED",e.AttemptedToLaunchRawKernelWithoutInterpreter="DS_INTERNAL.ERROR_START_RAWKERNEL_WITHOUT_INTERPRETER",e.RunByLineStart="DATASCIENCE.RUN_BY_LINE",e.RunByLineStep="DATASCIENCE.RUN_BY_LINE_STEP",e.RunByLineStop="DATASCIENCE.RUN_BY_LINE_STOP",e.RunByLineVariableHover="DATASCIENCE.RUN_BY_LINE_VARIABLE_HOVER",e.SyncAllCells="DS_INTERNAL.SYNC_ALL_CELLS",e.SyncSingleCell="DS_INTERNAL.SYNC_SINGLE_CELL",e.InteractiveFileTooltipsPerf="DS_INTERNAL.INTERACTIVE_FILE_TOOLTIPS_PERF",e.NativeVariableViewLoaded="DS_INTERNAL.NATIVE_VARIABLE_VIEW_LOADED",e.NativeVariableViewMadeVisible="DS_INTERNAL.NATIVE_VARIABLE_VIEW_MADE_VISIBLE",e.NotebookStart="DATASCIENCE.NOTEBOOK_START",e.NotebookInterrupt="DATASCIENCE.NOTEBOOK_INTERRUPT",e.NotebookRestart="DATASCIENCE.NOTEBOOK_RESTART",e.SwitchKernel="DS_INTERNAL.SWITCH_KERNEL",e.KernelCount="DS_INTERNAL.KERNEL_COUNT",e.KernelSpecNotFoundError="DATASCIENCE.KERNEL_SPEC_NOT_FOUND_ERROR",e.ExecuteCell="DATASCIENCE.EXECUTE_CELL",e.PythonKerneExecutableMatches="DS_INTERNAL.PYTHON_KERNEL_EXECUTABLE_MATCHES",e.AskUserForNewJupyterKernel="DS_INTERNAL.ASK_USER_FOR_NEW_KERNEL_JUPYTER",e.CommandExecuted="DS_INTERNAL.COMMAND_EXECUTED",e.DataViewerSliceEnablementStateChanged="DATASCIENCE.DATA_VIEWER_SLICE_ENABLEMENT_STATE_CHANGED",e.DataViewerDataDimensionality="DATASCIENCE.DATA_VIEWER_DATA_DIMENSIONALITY",e.DataViewerSliceOperation="DATASCIENCE.DATA_VIEWER_SLICE_OPERATION",e.RecommendExtension="DATASCIENCE.RECOMMENT_EXTENSION"}(t.Telemetry||(t.Telemetry={})),function(e){e.ArrowDown="DATASCIENCE.NATIVE.KEYBOARD.ARROW_DOWN",e.ArrowUp="DATASCIENCE.NATIVE.KEYBOARD.ARROW_UP",e.ChangeToCode="DATASCIENCE.NATIVE.KEYBOARD.CHANGE_TO_CODE",e.ChangeToMarkdown="DATASCIENCE.NATIVE.KEYBOARD.CHANGE_TO_MARKDOWN",e.DeleteCell="DATASCIENCE.NATIVE.KEYBOARD.DELETE_CELL",e.InsertAbove="DATASCIENCE.NATIVE.KEYBOARD.INSERT_ABOVE",e.InsertBelow="DATASCIENCE.NATIVE.KEYBOARD.INSERT_BELOW",e.Redo="DATASCIENCE.NATIVE.KEYBOARD.REDO",e.Run="DATASCIENCE.NATIVE.KEYBOARD.RUN",e.Save="DATASCIENCE.NATIVE.KEYBOARD.SAVE",e.RunAndAdd="DATASCIENCE.NATIVE.KEYBOARD.RUN_AND_ADD",e.RunAndMove="DATASCIENCE.NATIVE.KEYBOARD.RUN_AND_MOVE",e.ToggleLineNumbers="DATASCIENCE.NATIVE.KEYBOARD.TOGGLE_LINE_NUMBERS",e.ToggleOutput="DATASCIENCE.NATIVE.KEYBOARD.TOGGLE_OUTPUT",e.Undo="DATASCIENCE.NATIVE.KEYBOARD.UNDO",e.Unfocus="DATASCIENCE.NATIVE.KEYBOARD.UNFOCUS"}(t.NativeKeyboardCommandTelemetry||(t.NativeKeyboardCommandTelemetry={})),function(e){e.AddToEnd="DATASCIENCE.NATIVE.MOUSE.ADD_TO_END",e.ChangeToCode="DATASCIENCE.NATIVE.MOUSE.CHANGE_TO_CODE",e.ChangeToMarkdown="DATASCIENCE.NATIVE.MOUSE.CHANGE_TO_MARKDOWN",e.DeleteCell="DATASCIENCE.NATIVE.MOUSE.DELETE_CELL",e.InsertBelow="DATASCIENCE.NATIVE.MOUSE.INSERT_BELOW",e.MoveCellDown="DATASCIENCE.NATIVE.MOUSE.MOVE_CELL_DOWN",e.MoveCellUp="DATASCIENCE.NATIVE.MOUSE.MOVE_CELL_UP",e.Run="DATASCIENCE.NATIVE.MOUSE.RUN",e.RunAbove="DATASCIENCE.NATIVE.MOUSE.RUN_ABOVE",e.RunAll="DATASCIENCE.NATIVE.MOUSE.RUN_ALL",e.RunBelow="DATASCIENCE.NATIVE.MOUSE.RUN_BELOW",e.SelectKernel="DATASCIENCE.NATIVE.MOUSE.SELECT_KERNEL",e.SelectServer="DATASCIENCE.NATIVE.MOUSE.SELECT_SERVER",e.Save="DATASCIENCE.NATIVE.MOUSE.SAVE",e.ToggleVariableExplorer="DATASCIENCE.NATIVE.MOUSE.TOGGLE_VARIABLE_EXPLORER"}(t.NativeMouseCommandTelemetry||(t.NativeMouseCommandTelemetry={})),function(e){e.AddCell="DATASCIENCE.VSCODE_NATIVE.INSERT_CELL",e.DeleteCell="DATASCIENCE.VSCODE_NATIVE.DELETE_CELL",e.MoveCell="DATASCIENCE.VSCODE_NATIVE.MOVE_CELL",e.ChangeToCode="DATASCIENCE.VSCODE_NATIVE.CHANGE_TO_CODE",e.ChangeToMarkdown="DATASCIENCE.VSCODE_NATIVE.CHANGE_TO_MARKDOWN"}(t.VSCodeNativeTelemetry||(t.VSCodeNativeTelemetry={})),function(e){e.PythonInteractiveHelpLink="https://aka.ms/pyaiinstall",e.JupyterDataRateHelpLink="https://aka.ms/AA5ggm0"}(t.HelpLinks||(t.HelpLinks={})),function(e){e.JupyterServerLocalLaunch="local",e.JupyterServerRemoteLaunch="remote",e.JupyterServerUriList="jupyter.jupyterServer.uriList",e.JupyterServerRemoteLaunchUriListKey="remote-uri-list",e.JupyterServerRemoteLaunchUriSeparator="\r",e.JupyterServerRemoteLaunchNameSeparator="\n",e.JupyterServerRemoteLaunchUriEqualsDisplayName="same",e.JupyterServerRemoteLaunchService=i.JVSC_EXTENSION_ID,e.JupyterServerUriListMax=10,e.IntellisenseTimeout=500,e.MaxIntellisenseTimeout=3e4,e.RemoteDebuggerPortBegin=8889,e.RemoteDebuggerPortEnd=9e3}(t.Settings||(t.Settings={})),function(e){e.SysPath=r.join(i.EXTENSION_ROOT_DIR,"pythonFiles","vscode_datascience_helpers","dataframes"),e.DataFrameSysImport=`import sys\nsys.path.append("${e.SysPath.replace(/\\/g,"\\\\")}")`,e.ScriptPath=r.join(e.SysPath,"vscodeDataFrame.py"),e.DataFrameInfoFunc="_VSCODE_getDataFrameInfo",e.DataFrameRowFunc="_VSCODE_getDataFrameRows",e.DataFrameImport="__import__('vscodeDataFrame')",e.DataFrameInfoImportFunc=e.DataFrameImport+"._VSCODE_getDataFrameInfo",e.DataFrameRowImportFunc=e.DataFrameImport+"._VSCODE_getDataFrameRows"}(t.DataFrameLoading||(t.DataFrameLoading={})),function(e){e.SysPath=r.join(i.EXTENSION_ROOT_DIR,"pythonFiles","vscode_datascience_helpers","getVariableInfo"),e.GetVariableInfoSysImport=`import sys\nsys.path.append("${e.SysPath.replace(/\\/g,"\\\\")}")`,e.ScriptPath=r.join(e.SysPath,"vscodeGetVariableInfo.py"),e.VariableInfoFunc="_VSCODE_getVariableInfo",e.VariablePropertiesFunc="_VSCODE_getVariableProperties",e.VariableTypesFunc="_VSCODE_getVariableTypes",e.VariableInfoImportName="__import__('vscodeGetVariableInfo')",e.VariableInfoImportFunc=e.VariableInfoImportName+"._VSCODE_getVariableInfo"}(t.GetVariableInfo||(t.GetVariableInfo={})),function(e){e.EmptyFileName="2DB9B899-6519-4E1B-88B0-FA728A274115",e.GeneratedThemeName="ipython-theme",e.HistoryPurpose="history",e.RawPurpose="raw",e.PingPurpose="ping",e.MatplotLibDefaultParams="_VSCode_defaultMatplotlib_Params",e.EditCellId="3D3AB152-ADC1-4501-B813-4B83B49B0C10",e.SvgSizeTag="sizeTag={{0}, {1}}",e.InteractiveWindowIdentityScheme="history",e.DefaultCodeCellMarker="# %%",e.DefaultCommTarget="jupyter.widget",e.ALL_VARIABLES="ALL_VARIABLES",e.KERNEL_VARIABLES="KERNEL_VARIABLES",e.DEBUGGER_VARIABLES="DEBUGGER_VARIABLES",e.PYTHON_VARIABLES_REQUESTER="PYTHON_VARIABLES_REQUESTER",e.MULTIPLEXING_DEBUGSERVICE="MULTIPLEXING_DEBUGSERVICE",e.RUN_BY_LINE_DEBUGSERVICE="RUN_BY_LINE_DEBUGSERVICE",e.REMOTE_URI="https://remote/",e.REMOTE_URI_ID_PARAM="id",e.REMOTE_URI_HANDLE_PARAM="uriHandle"}(a=t.Identifiers||(t.Identifiers={})),function(e){e.ChangeDirectory=["{0}","{1}","import os","try:","\tos.chdir(os.path.join(os.getcwd(), '{2}'))","\tprint(os.getcwd())","except:","\tpass",""],e.ChangeDirectoryCommentIdentifier="# ms-toolsai.jupyter added",e.ImportIPython="{0}\nfrom IPython import get_ipython\n\n{1}",e.MatplotLibInitSvg=`import matplotlib\n%matplotlib inline\n${a.MatplotLibDefaultParams} = dict(matplotlib.rcParams)\n%config InlineBackend.figure_formats = ['svg', 'png']`,e.MatplotLibInitPng=`import matplotlib\n%matplotlib inline\n${a.MatplotLibDefaultParams} = dict(matplotlib.rcParams)\n%config InlineBackend.figure_formats = ['png']`,e.ConfigSvg="%config InlineBackend.figure_formats = ['svg', 'png']",e.ConfigPng="%config InlineBackend.figure_formats = ['png']",e.UpdateCWDAndPath='import os\nimport sys\n%cd "{0}"\nif os.getcwd() not in sys.path:\n    sys.path.insert(0, os.getcwd())',e.disableJedi="%config Completer.use_jedi = False"}(t.CodeSnippets||(t.CodeSnippets={})),function(e){e.NotebookCommand="notebook",e.ConvertCommand="nbconvert",e.KernelSpecCommand="kernelspec"}(t.JupyterCommands||(t.JupyterCommands={})),t.DataScienceStartupTime=Symbol("DataScienceStartupTime"),t.defaultNotebookFormat={major:4,minor:2}},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEncryptedStorage=t.IVSCodeNotebook=t.IClipboard=t.IActiveResourceService=t.ILanguageService=t.IWebviewViewProvider=t.IWebviewPanelProvider=t.IWebviewPanel=t.IWebviewView=t.IWebview=t.IWebviewViewMessageListener=t.IWebviewPanelMessageListener=t.IApplicationEnvironment=t.IDebugService=t.ITerminalManager=t.IWorkspaceService=t.IDocumentManager=t.ICommandManager=t.IApplicationShell=void 0,t.IApplicationShell=Symbol("IApplicationShell"),t.ICommandManager=Symbol("ICommandManager"),t.IDocumentManager=Symbol("IDocumentManager"),t.IWorkspaceService=Symbol("IWorkspaceService"),t.ITerminalManager=Symbol("ITerminalManager"),t.IDebugService=Symbol("IDebugManager"),t.IApplicationEnvironment=Symbol("IApplicationEnvironment"),t.IWebviewPanelMessageListener=Symbol("IWebviewPanelMessageListener"),t.IWebviewViewMessageListener=Symbol("IWebviewViewMessageListener"),t.IWebview=Symbol("IWebview"),t.IWebviewView=Symbol("IWebviewView"),t.IWebviewPanel=Symbol("IWebviewPanel"),t.IWebviewPanelProvider=Symbol("IWebviewPanelProvider"),t.IWebviewViewProvider=Symbol("IWebviewViewProvider"),t.ILanguageService=Symbol("ILanguageService"),t.IActiveResourceService=Symbol("IActiveResourceService"),t.IClipboard=Symbol("IClipboard"),t.IVSCodeNotebook=Symbol("IVSCodeNotebook"),t.IEncryptedStorage=Symbol("IAuthenticationService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetryWhenDone=t.captureTelemetry=t.sendTelemetryEvent=t.clearTelemetryReporter=t._resetSharedProperties=t.setSharedProperty=t.isTelemetryDisabled=t.waitBeforeSending=void 0;const r=n(14),i=n(4),o=n(32),s=(n(5),n(86),n(400)),a=n(9),c=n(1583);n(220);t.waitBeforeSending="waitBeforeSending",t.isTelemetryDisabled=function(e){return!1===e.getConfiguration("telemetry").inspect("enableTelemetry").globalValue};const l={};let u;function d(e,n){let r={};return Object.getOwnPropertyNames(n).forEach(o=>{if(void 0!==n[o]&&null!==n[o]&&o!==t.waitBeforeSending)try{r[o]="string"==typeof n[o]?n[o]:"object"==typeof n[o]?"object":n[o].toString()}catch(t){i.traceError(`Failed to serialize ${o} for ${e}`,t)}}),r}t.setSharedProperty=function(e,t){const n=e;r.isUnitTestExecution()&&n.startsWith("ds_")||(void 0===t?delete l[n]:l[n]=t)},t._resetSharedProperties=function(){for(const e of Object.keys(l))delete l[e]},t.clearTelemetryReporter=function(){u=void 0};const h=[];function p(e,t,i,o,s){!r.isTestExecution()&&function(){try{const e=n(1),t=n(404);return void 0!==e&&void 0!==t}catch(e){return!1}}()&&("true"===l.isInsiderExtension&&c.isPromise((null==i?void 0:i.waitBeforeSending)||h.length)?(h.push({eventName:e,durationMs:t,properties:i,ex:o,sendOriginalEventWithErrors:s,queueEverythingUntilCompleted:null==i?void 0:i.waitBeforeSending}),function e(){if(0===h.length)return;const t=h[0];let n;function r(){n&&clearTimeout(n),0!==h.length&&h[0]===t&&(h.shift(),f(t.eventName,t.durationMs,t.properties,t.ex,t.sendOriginalEventWithErrors),e())}if(!t.queueEverythingUntilCompleted)return r();n=setTimeout(()=>r(),3e4),t.queueEverythingUntilCompleted.finally(()=>r()).catch(a.noop)}()):f(e,t,i,o,s))}function f(e,t,o,a,c){const h=function(){if(!r.isTestExecution()&&u)return u;const e=r.JVSC_EXTENSION_ID,t=n(1).extensions.getExtension(e).packageJSON.version,i=n(404).default;return u=new i(e,t,r.AppinsightsKey,!0)}(),p="number"==typeof t?{duration:t}:t||void 0;let f={},m=e;a?c?(f={},Object.assign(f,l),Object.assign(f,o||{}),s.populateTelemetryWithErrorInfo(f,a),f=d(m,f),h.sendTelemetryEvent(m,f,p)):(m="ERROR",f={originalEventName:e},Object.assign(f,l),s.populateTelemetryWithErrorInfo(f,a),f=d(m,f),h.sendTelemetryErrorEvent(m,f,p,[])):(o&&(f=d(m,o)),Object.assign(f,l),h.sendTelemetryEvent(m,f,p)),process.env&&process.env.VSC_JUPYTER_LOG_TELEMETRY&&i.traceInfo(`Telemetry Event : ${m} Measures: ${JSON.stringify(p)} Props: ${JSON.stringify(f)} `)}t.sendTelemetryEvent=p;const m=new Set;t.captureTelemetry=function(e,t,n=!0,r,i){return function(s,a,c){const l=c.value;return c.value=function(...s){if(!n&&!i)return p(e,void 0,t),l.apply(this,s);const a=()=>i?{...t,...i(this)}:t,c=n?new o.StopWatch:void 0,u=`${e.toString()}${JSON.stringify(a()||{})}`,d=!m.has(u);m.add(u);const h=l.apply(this,s);return h&&"function"==typeof h.then&&"function"==typeof h.catch?h.then(t=>{const n={...a()||{}};return d&&(n.firstTime=d),p(e,null==c?void 0:c.elapsedTime,n),t}).catch(t=>{const n={...a()||{}};n.failed=!0,p(r||e,null==c?void 0:c.elapsedTime,n,t)}):p(e,null==c?void 0:c.elapsedTime,a()),h},c}},t.sendTelemetryWhenDone=function(e,t,n,r,i){if(n=n||new o.StopWatch,"function"!=typeof t.then)throw new Error("Method is neither a Promise nor a Theneable");t.then(t=>(p(e,n.elapsedTime,r),t),t=>(p(e,n.elapsedTime,r,t,i),Promise.reject(t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUntitledFile=t.isNotebookCell=t.isUri=t.isResource=t.tracing=t.usingAsync=t.using=t.swallowExceptions=t.noop=void 0;const r=n(14),i=n(19),o=n(32);function s(e){if(!e)return!1;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme}t.noop=function(){},t.swallowExceptions=function(e){try{e()}catch(e){}},t.using=function(e,t){try{t(e)}finally{e.dispose()}},t.usingAsync=async function(e,t){try{return await t(e)}finally{await e.dispose()}},t.tracing=function(e,t){const n=new o.StopWatch;try{const r=t();return i.isPromise(r)?r.then(t=>(e({elapsed:n.elapsedTime,returnValue:t}),t)).catch(t=>{e({elapsed:n.elapsedTime,err:t})}):e({elapsed:n.elapsedTime,returnValue:r}),r}catch(t){throw e({elapsed:n.elapsedTime,err:t}),t}},t.isResource=function(e){if(!e)return!0;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme},t.isUri=s,t.isNotebookCell=function(e){return(s(e)?e:e.uri).scheme.includes(r.NotebookCellScheme)},t.isUntitledFile=function(e){return"untitled"===(null==e?void 0:e.scheme)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localize=t.getCollectionJSON=t._getAskedForCollection=t._resetCollections=t.DataScience=t.ExtensionSurveyBanner=t.DataScienceRendererExtension=t.DataScienceSurveyBanner=t.InsidersNativeNotebooksSurveyBanner=t.InteractiveShiftEnterBanner=t.Logging=t.GitHubIssue=t.OutputChannelNames=t.Experiments=t.Http=t.CommonSurvey=t.Common=void 0;const r=n(97),i=n(6),o=n(107);let s,a;!function(e){e.bannerLabelYes=u("Common.bannerLabelYes","Yes"),e.bannerLabelNo=u("Common.bannerLabelNo","No"),e.yesPlease=u("Common.yesPlease","Yes, please"),e.canceled=u("Common.canceled","Canceled"),e.cancel=u("Common.cancel","Cancel"),e.ok=u("Common.ok","Ok"),e.download=u("Common.download","Download"),e.gotIt=u("Common.gotIt","Got it!"),e.install=u("Common.install","Install"),e.reInstall=u("Common.reInstall","Re-Install"),e.loadingExtension=u("Common.loadingExtension","Jupyter extension loading..."),e.openOutputPanel=u("Common.openOutputPanel","Show output"),e.noIWillDoItLater=u("Common.noIWillDoItLater","No, I will do it later"),e.notNow=u("Common.notNow","Not now"),e.doNotShowAgain=u("Common.doNotShowAgain","Do not show again"),e.reload=u("Common.reload","Reload"),e.moreInfo=u("Common.moreInfo","More Info"),e.learnMore=u("Common.learnMore","Learn more"),e.and=u("Common.and","and"),e.reportThisIssue=u("Common.reportThisIssue","Report this issue")}(t.Common||(t.Common={})),function(e){e.remindMeLaterLabel=u("CommonSurvey.remindMeLaterLabel","Remind me later"),e.yesLabel=u("CommonSurvey.yesLabel","Yes, take survey now"),e.noLabel=u("CommonSurvey.noLabel","No, thanks")}(t.CommonSurvey||(t.CommonSurvey={})),function(e){e.downloadingFile=u("downloading.file","Downloading {0}..."),e.downloadingFileProgress=u("downloading.file.progress","{0}{1} of {2} KB ({3}%)")}(t.Http||(t.Http={})),function(e){e.inGroup=u("Experiments.inGroup","User belongs to experiment group '{0}'")}(t.Experiments||(t.Experiments={})),function(e){e.jupyter=u("OutputChannelNames.jupyter","Jupyter")}(t.OutputChannelNames||(t.OutputChannelNames={})),function(e){e.failure=u("GitHubIssue.Failure","We encountered an error while submitting your GitHub issue. Would you still like to report an issue?"),e.copyContentToClipboardAndOpenIssue=u("GitHubIssue.copyToClipboardAndOpenIssue","Yes, copy content to clipboard and open issue"),e.askForIssueTitle=u("GitHubIssue.askForIssueTitle","Please provide a descriptive title summarizing your issue."),e.titlePlaceholder=u("GitHubIssue.titlePlaceholder","E.g.: Unable to start a local kernel session"),e.pleaseFillThisOut=u("GitHubIssue.pleaseFillThisOut","Please fill this section out and delete this comment before submitting an issue!"),e.missingFields=u("GitHubIssue.missingFields","Please provide details of the issue you encountered before clicking Submit GitHub Issue."),e.submitGitHubIssue=u("GitHubIssue.submitGitHubIssue"," Submit GitHub Issue")}(t.GitHubIssue||(t.GitHubIssue={})),function(e){e.currentWorkingDirectory=u("Logging.CurrentWorkingDirectory","cwd:"),e.warnUserAboutDebugLoggingSetting=u("Logging.WarnUserAboutDebugLoggingSetting","You have enabled debug logging for the Jupyter extension, which will continue to write logs to disk. Would you like to turn debug logging off?."),e.bannerYesTurnOffDebugLogging=u("Logging.YesTurnOffDebugLogging","Yes, turn off debug logging"),e.NoResponse=u("Logging.NoResponse","No"),e.NoAndDontAskAgain=u("Logging.NoAndDontAskAgain","No, and don't ask again")}(t.Logging||(t.Logging={})),function(e){e.bannerMessage=u("InteractiveShiftEnterBanner.bannerMessage","Would you like shift-enter to send code to the new Interactive Window experience?")}(t.InteractiveShiftEnterBanner||(t.InteractiveShiftEnterBanner={})),function(e){e.bannerMessage=u("InsidersNativeNotebooksSurveyBanner.bannerMessage","Can you please take a minute to tell us about your notebooks experience in VS Code?")}(t.InsidersNativeNotebooksSurveyBanner||(t.InsidersNativeNotebooksSurveyBanner={})),function(e){e.bannerMessage=u("DataScienceSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python Data Science features are working for you?"),e.bannerLabelYes=u("DataScienceSurveyBanner.bannerLabelYes","Yes, take survey now"),e.bannerLabelNo=u("DataScienceSurveyBanner.bannerLabelNo","No, thanks")}(t.DataScienceSurveyBanner||(t.DataScienceSurveyBanner={})),function(e){e.installingExtension=u("DataScienceRendererExtension.installingExtension","Installing Notebook Renderers extension... "),e.installationCompleteMessage=u("DataScienceRendererExtension.installationCompleteMessage","complete."),e.startingDownloadOutputMessage=u("DataScienceRendererExtension.startingDownloadOutputMessage","Starting download of Notebook Renderers extension."),e.downloadingMessage=u("DataScienceRendererExtension.downloadingMessage","Downloading Notebook Renderers Extension... "),e.downloadCompletedOutputMessage=u("DataScienceRendererExtension.downloadCompletedOutputMessage","Notebook Renderers extension download complete.")}(t.DataScienceRendererExtension||(t.DataScienceRendererExtension={})),function(e){e.bannerMessage=u("ExtensionSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python extension is working for you?"),e.bannerLabelYes=u("ExtensionSurveyBanner.bannerLabelYes","Yes, take survey now"),e.bannerLabelNo=u("ExtensionSurveyBanner.bannerLabelNo","No, thanks"),e.maybeLater=u("ExtensionSurveyBanner.maybeLater","Maybe later")}(t.ExtensionSurveyBanner||(t.ExtensionSurveyBanner={})),function(e){e.pythonExtensionRequiredToRunNotebook=u("DataScience.pythonExtensionRequiredToRunNotebook","Python Extension required to run Python notebooks."),e.newNotebookUI=u("DataScience.newNotebookUI","Welcome to VS Code's new notebook experience!  We think you'll find it faster and more pleasing to use. [Learn more...](https://aka.ms/NewNotebookUI)"),e.customizeLayout=u("DataScience.customizeLayout","Customize Layout"),e.pythonExtensionRequired=u("DataScience.pythonExtensionRequired","The Python extension is required to perform that task. Click Yes to open Python extension installation page."),e.pythonExtensionInstalled=u("DataScience.pythonInstalledReloadPromptMessage","Python extension is now installed. Some features might not be available until a notebook or interactive window session is restarted."),e.unknownServerUri=u("DataScience.unknownServerUri","Server URI cannot be used. Did you uninstall an extension that provided a Jupyter server connection?"),e.uriProviderDescriptionFormat=u("DataScience.uriProviderDescriptionFormat","{0} (From {1} extension)"),e.unknownPackage=u("DataScience.unknownPackage","unknown"),e.interactiveWindowTitle=u("DataScience.interactiveWindowTitle","Interactive"),e.interactiveWindowTitleFormat=u("DataScience.interactiveWindowTitleFormat","Interactive - {0}"),e.interactiveWindowModeBannerTitle=u("DataScience.interactiveWindowModeBannerTitle","Do you want to open a new Interactive window for this file? [More Information](command:workbench.action.openSettings?%5B%22jupyter.interactiveWindowMode%22%5D)."),e.interactiveWindowModeBannerSwitchYes=u("DataScience.interactiveWindowModeBannerSwitchYes","Yes"),e.interactiveWindowModeBannerSwitchAlways=u("DataScience.interactiveWindowModeBannerSwitchAlways","Always"),e.interactiveWindowModeBannerSwitchNo=u("DataScience.interactiveWindowModeBannerSwitchNo","No"),e.dataExplorerTitle=u("DataScience.dataExplorerTitle","Data Viewer"),e.badWebPanelFormatString=u("DataScience.badWebPanelFormatString","<html><body><h1>{0} is not a valid file name</h1></body></html>"),e.checkingIfImportIsSupported=u("DataScience.checkingIfImportIsSupported","Checking if import is supported"),e.installingMissingDependencies=u("DataScience.installingMissingDependencies","Installing missing dependencies"),e.performingExport=u("DataScience.performingExport","Performing Export"),e.convertingToPDF=u("DataScience.convertingToPDF","Converting to PDF"),e.exportNotebookToPython=u("DataScience.exportNotebookToPython","Exporting Notebook to Python"),e.sessionDisposed=u("DataScience.sessionDisposed","Cannot execute code, session has been disposed."),e.passwordFailure=u("DataScience.passwordFailure","Failed to connect to password protected server. Check that password is correct."),e.rawKernelProcessNotStarted=u("DataScience.rawKernelProcessNotStarted","Raw kernel process was not able to start."),e.rawKernelProcessExitBeforeConnect=u("DataScience.rawKernelProcessExitBeforeConnect","Raw kernel process exited before connecting."),e.unknownMimeTypeFormat=u("DataScience.unknownMimeTypeFormat","Mime type {0} is not currently supported"),e.exportDialogTitle=u("DataScience.exportDialogTitle","Export to Jupyter Notebook"),e.exportDialogFilter=u("DataScience.exportDialogFilter","Jupyter Notebooks"),e.exportDialogComplete=u("DataScience.exportDialogComplete","Notebook written to {0}"),e.exportDialogFailed=u("DataScience.exportDialogFailed","Failed to export notebook. {0}"),e.exportOpenQuestion1=u("DataScience.exportOpenQuestion1","Open in editor"),e.runCellLensCommandTitle=u("jupyter.command.jupyter.runcell.title","Run cell"),e.importDialogTitle=u("DataScience.importDialogTitle","Import Jupyter Notebook"),e.importDialogFilter=u("DataScience.importDialogFilter","Jupyter Notebooks"),e.notebookCheckForImportTitle=u("DataScience.notebookCheckForImportTitle","Do you want to import the Jupyter Notebook into Python code?"),e.notebookCheckForImportYes=u("DataScience.notebookCheckForImportYes","Import"),e.notebookCheckForImportNo=u("DataScience.notebookCheckForImportNo","Later"),e.notebookCheckForImportDontAskAgain=u("DataScience.notebookCheckForImportDontAskAgain","Don't Ask Again"),e.libraryNotInstalled=u("DataScience.libraryNotInstalled","Data Science library {0} is not installed. Install?"),e.libraryNotInstalledCorrectlyOrOutdated=u("DataScience.libraryNotInstalledCorrectlyOrOutdated","Data Science library {0} is not installed correctly or outdated. Re-Install?"),e.couldNotInstallLibrary=u("DataScience.couldNotInstallLibrary","Could not install {0}. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment."),e.libraryRequiredToLaunchJupyterNotInstalled=u("DataScience.libraryRequiredToLaunchJupyterNotInstalled","Running cells requires {0}."),e.librariesRequiredToLaunchJupyterNotInstalled=u("DataScience.librariesRequiredToLaunchJupyterNotInstalled","Running cells requires {0}."),e.libraryRequiredToLaunchJupyterNotInstalledInterpreter=u("DataScience.libraryRequiredToLaunchJupyterNotInstalledInterpreter","Running cells with '{0}' requires {1}."),e.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter=u("DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter","Running cells with '{0}' requires {1}."),e.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate=u("DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate","Running cells with '{0}' requires {1} installed or requires an update."),e.librariesRequiredToLaunchJupyterNotInstalledInterpreter=u("DataScience.librariesRequiredToLaunchJupyterNotInstalledInterpreter","Running cells with '{0}' requires {1}."),e.selectJupyterInterpreter=u("DataScience.selectJupyterInterpreter","Select an Interpreter to start Jupyter"),e.jupyterInstall=u("DataScience.jupyterInstall","Install"),e.currentlySelectedJupyterInterpreterForPlaceholder=u("Datascience.currentlySelectedJupyterInterpreterForPlaceholder","current: {0}"),e.jupyterNotSupported=u("DataScience.jupyterNotSupported","Jupyter cannot be started. Error attempting to locate jupyter: {0}"),e.jupyterNotSupportedBecauseOfEnvironment=u("DataScience.jupyterNotSupportedBecauseOfEnvironment","Activating {0} to run Jupyter failed with {1}"),e.jupyterNbConvertNotSupported=u("DataScience.jupyterNbConvertNotSupported","Jupyter nbconvert is not installed"),e.jupyterLaunchTimedOut=u("DataScience.jupyterLaunchTimedOut","The Jupyter notebook server failed to launch in time"),e.jupyterLaunchNoURL=u("DataScience.jupyterLaunchNoURL","Failed to find the URL of the launched Jupyter notebook server"),e.jupyterSelfCertFail=u("DataScience.jupyterSelfCertFail","The security certificate used by server {0} was not issued by a trusted certificate authority.\r\nThis may indicate an attempt to steal your information.\r\nDo you want to enable the Allow Unauthorized Remote Connection setting for this workspace to allow you to connect?"),e.jupyterSelfCertEnable=u("DataScience.jupyterSelfCertEnable","Yes, connect anyways"),e.jupyterSelfCertClose=u("DataScience.jupyterSelfCertClose","No, close the connection"),e.pythonInteractiveHelpLink=u("DataScience.pythonInteractiveHelpLink","See [https://aka.ms/pyaiinstall] for help on installing jupyter."),e.markdownHelpInstallingMissingDependencies=u("DataScience.markdownHelpInstallingMissingDependencies","See [https://aka.ms/pyaiinstall](https://aka.ms/pyaiinstall) for help on installing Jupyter and related dependencies."),e.importingFormat=u("DataScience.importingFormat","Importing {0}"),e.startingJupyter=u("DataScience.startingJupyter","Starting Jupyter server"),e.connectingToKernel=u("DataScience.connectingToKernel","Connecting to kernel: {0}"),e.connectedToKernel=u("DataScience.connectedToKernel","Connected."),e.connectingToJupyter=u("DataScience.connectingToJupyter","Connecting to Jupyter server"),e.exportingFormat=u("DataScience.exportingFormat","Exporting {0}"),e.runAllCellsLensCommandTitle=u("jupyter.command.jupyter.runallcells.title","Run all cells"),e.runAllCellsAboveLensCommandTitle=u("jupyter.command.jupyter.runallcellsabove.title","Run above"),e.runCellAndAllBelowLensCommandTitle=u("jupyter.command.jupyter.runcellandallbelow.title","Run Below"),e.importChangeDirectoryComment=u("DataScience.importChangeDirectoryComment","{0} Change working directory from the workspace root to the ipynb file location. Turn this addition off with the DataScience.changeDirOnImportExport setting"),e.exportChangeDirectoryComment=u("DataScience.exportChangeDirectoryComment","# Change directory to VSCode workspace root so that relative path loads work correctly. Turn this addition off with the DataScience.changeDirOnImportExport setting"),e.restartKernelMessage=u("DataScience.restartKernelMessage","Do you want to restart the Jupter kernel? All variables will be lost."),e.restartKernelMessageYes=u("DataScience.restartKernelMessageYes","Restart"),e.restartKernelMessageDontAskAgain=u("DataScience.restartKernelMessageDontAskAgain","Don't Ask Again"),e.restartKernelMessageNo=u("DataScience.restartKernelMessageNo","Cancel"),e.restartingKernelStatus=u("DataScience.restartingKernelStatus","Restarting Jupyter Kernel"),e.restartingKernelFailed=u("DataScience.restartingKernelFailed","Kernel restart failed. Jupyter server is hung. Please reload VS code."),e.interruptingKernelFailed=u("DataScience.interruptingKernelFailed","Kernel interrupt failed. Jupyter server is hung. Please reload VS code."),e.sessionStartFailedWithKernel=u("DataScience.sessionStartFailedWithKernel","Failed to start a session for the Kernel '{0}'. \nView Jupyter [log](command:{1}) for further details."),e.kernelTimeout=u("DataScience.kernelTimeout","Timed out waiting to get a heartbeat from kernel process. \nView Jupyter [log](command:{0}) for further details."),e.kernelDied=u("DataScience.kernelDied","The kernel died. View Jupyter [log](command:{0}) for further details. \nError: {1}..."),e.executingCode=u("DataScience.executingCode","Executing Cell"),e.collapseAll=u("DataScience.collapseAll","Collapse all cell inputs"),e.expandAll=u("DataScience.expandAll","Expand all cell inputs"),e.collapseSingle=u("DataScience.collapseSingle","Collapse"),e.expandSingle=u("DataScience.expandSingle","Expand"),e.exportKey=u("DataScience.export","Export as Jupyter notebook"),e.restartServer=u("DataScience.restartServer","Restart Jupyter Kernel"),e.undo=u("DataScience.undo","Undo"),e.redo=u("DataScience.redo","Redo"),e.save=u("DataScience.save","Save file"),e.clearAll=u("DataScience.clearAll","Remove all cells"),e.reloadRequired=u("DataScience.reloadRequired","Please reload the window for new settings to take effect."),e.restartedKernelHeader=u("DataScience.restartedKernelHeader","Restarted {0}"),e.startedNewKernelHeader=u("DataScience.startedNewKernelHeader","Started {0}"),e.startingNewKernelHeader=u("DataScience.kernelStarting","_Connecting to kernel..._"),e.startingNewKernelCustomHeader=u("DataScience.kernelStartingCustom","_Connecting to {0}..._"),e.connectKernelHeader=u("DataScience.connectKernelHeader","Connected to {0}"),e.jupyterSelectURIPrompt=u("DataScience.jupyterSelectURIPrompt","Enter the URI of the running Jupyter server"),e.jupyterSelectURIQuickPickTitle=u("DataScience.jupyterSelectURIQuickPickTitle","Pick how to connect to Jupyter"),e.jupyterSelectURIQuickPickPlaceholder=u("DataScience.jupyterSelectURIQuickPickPlaceholder","Choose an option"),e.jupyterSelectURIQuickPickCurrent=u("DataScience.jupyterSelectURIQuickPickCurrent","Current: {0}"),e.jupyterSelectURILocalLabel=u("DataScience.jupyterSelectURILocalLabel","Default"),e.jupyterSelectURILocalDetail=u("DataScience.jupyterSelectURILocalDetail","VS Code will automatically start a server for you on the localhost"),e.jupyterSelectURIMRUDetail=u("DataScience.jupyterSelectURIMRUDetail","Last Connection: {0}"),e.jupyterSelectURINewLabel=u("DataScience.jupyterSelectURINewLabel","Existing"),e.jupyterSelectURINewDetail=u("DataScience.jupyterSelectURINewDetail","Specify the URI of an existing server"),e.jupyterSelectURIInvalidURI=u("DataScience.jupyterSelectURIInvalidURI","Invalid URI specified"),e.jupyterSelectURIRunningDetailFormat=u("DataScience.jupyterSelectURIRunningDetailFormat","Last activity {0}. {1} existing connections."),e.jupyterSelectURINotRunningDetail=u("DataScience.jupyterSelectURINotRunningDetail","Cannot connect at this time. Status unknown."),e.jupyterSelectUserAndPasswordTitle=u("DataScience.jupyterSelectUserAndPasswordTitle","Enter your user name and password to connect to Jupyter Hub"),e.jupyterSelectUserPrompt=u("DataScience.jupyterSelectUserPrompt","Enter your user name"),e.jupyterSelectPasswordPrompt=u("DataScience.jupyterSelectPasswordPrompt","Enter your password"),e.pythonNotInstalled=u("DataScience.installPython","Python is not installed. \nPlease [download](https://www.python.org/downloads) and install Python in order to execute cells in this notebook."),e.pythonNotInstalledNonMarkdown=u("DataScience.installPythonNonMarkdown","Python is not installed. \nPlease download and install Python in order to execute cells in this notebook from here https://www.python.org/downloads."),e.kernelNotInstalled=u("DataScience.installKernel","The Jupyter Kernel '{0}' could not be found and needs to be installed in order to execute cells in this notebook."),e.jupyterNotebookFailure=u("DataScience.jupyterNotebookFailure","Jupyter notebook failed to launch. \r\n{0}"),e.jupyterNotebookConnectFailed=u("DataScience.jupyterNotebookConnectFailed","Failed to connect to Jupyter notebook. \r\n{0}\r\n{1}"),e.reloadAfterChangingJupyterServerConnection=u("DataScience.reloadAfterChangingJupyterServerConnection","Please reload VS Code when changing the Jupyter Server connection."),e.jupyterNotebookRemoteConnectFailed=u("DataScience.jupyterNotebookRemoteConnectFailed","Failed to connect to remote Jupyter notebook.\r\nCheck that the Jupyter Server URI setting has a valid running server specified.\r\n{0}\r\n{1}"),e.jupyterNotebookRemoteConnectSelfCertsFailed=u("DataScience.jupyterNotebookRemoteConnectSelfCertsFailed","Failed to connect to remote Jupyter notebook.\r\nSpecified server is using self signed certs. Enable Allow Unauthorized Remote Connection setting to connect anyways\r\n{0}\r\n{1}"),e.rawConnectionDisplayName=u("DataScience.rawConnectionDisplayName","Direct kernel connection"),e.rawConnectionBrokenError=u("DataScience.rawConnectionBrokenError","Direct kernel connection broken"),e.jupyterServerCrashed=u("DataScience.jupyterServerCrashed","Jupyter server crashed. Unable to connect. \r\nError code from jupyter: {0}"),e.notebookVersionFormat=u("DataScience.notebookVersionFormat","Jupyter Notebook Version: {0}"),e.jupyterKernelSpecNotFound=u("DataScience.jupyterKernelSpecNotFound","Cannot create a Jupyter kernel spec and none are available for use"),e.jupyterKernelSpecModuleNotFound=u("DataScience.jupyterKernelSpecModuleNotFound","'Kernelspec' module not installed in the selected interpreter ({0}).\n Please re-install or update 'jupyter'."),e.interruptKernel=u("DataScience.interruptKernel","Interrupt Jupyter Kernel"),e.clearAllOutput=u("DataScience.clearAllOutput","Clear All Output"),e.interruptKernelStatus=u("DataScience.interruptKernelStatus","Interrupting Jupyter Kernel"),e.exportCancel=u("DataScience.exportCancel","Cancel"),e.exportPythonQuickPickLabel=u("DataScience.exportPythonQuickPickLabel","Python Script"),e.exportHTMLQuickPickLabel=u("DataScience.exportHTMLQuickPickLabel","HTML"),e.exportPDFQuickPickLabel=u("DataScience.exportPDFQuickPickLabel","PDF"),e.restartKernelAfterInterruptMessage=u("DataScience.restartKernelAfterInterruptMessage","Interrupting the kernel timed out. Do you want to restart the kernel instead? All variables will be lost."),e.pythonInterruptFailedHeader=u("DataScience.pythonInterruptFailedHeader","Keyboard interrupt crashed the kernel. Kernel restarted."),e.sysInfoURILabel=u("DataScience.sysInfoURILabel","Jupyter Server URI: "),e.executingCodeFailure=u("DataScience.executingCodeFailure","Executing code failed : {0}"),e.inputWatermark=u("DataScience.inputWatermark","Type code here and press shift-enter to run"),e.liveShareConnectFailure=u("DataScience.liveShareConnectFailure","Cannot connect to host jupyter session. URI not found."),e.liveShareCannotSpawnNotebooks=u("DataScience.liveShareCannotSpawnNotebooks","Spawning jupyter notebooks is not supported over a live share connection"),e.liveShareCannotImportNotebooks=u("DataScience.liveShareCannotImportNotebooks","Importing notebooks is not currently supported over a live share connection"),e.liveShareHostFormat=u("DataScience.liveShareHostFormat","{0} Jupyter Server"),e.liveShareSyncFailure=u("DataScience.liveShareSyncFailure","Synchronization failure during live share startup."),e.liveShareServiceFailure=u("DataScience.liveShareServiceFailure","Failure starting '{0}' service during live share connection."),e.documentMismatch=u("DataScience.documentMismatch","Cannot run cells, duplicate documents for {0} found."),e.jupyterGetVariablesBadResults=u("DataScience.jupyterGetVariablesBadResults","Failed to fetch variable info from the Jupyter server."),e.dataExplorerInvalidVariableFormat=u("DataScience.dataExplorerInvalidVariableFormat","'{0}' is not an active variable."),e.pythonInteractiveCreateFailed=u("DataScience.pythonInteractiveCreateFailed","Failure to create a 'Interactive' window. Try reinstalling the Python extension."),e.jupyterGetVariablesExecutionError=u("DataScience.jupyterGetVariablesExecutionError","Failure during variable extraction: \r\n{0}"),e.loadingMessage=u("DataScience.loadingMessage","loading ..."),e.fetchingDataViewer=u("DataScience.fetchingDataViewer","Fetching data ..."),e.noRowsInDataViewer=u("DataScience.noRowsInDataViewer","No rows match current filter"),e.jupyterServer=u("DataScience.jupyterServer","Jupyter Server"),e.noKernel=u("DataScience.noKernel","No Kernel"),e.serverNotStarted=u("DataScience.serverNotStarted","Not Started"),e.selectKernel=u("DataScience.selectKernel","Change Kernel"),e.selectDifferentKernel=u("DataScience.selectDifferentKernel","Select a different Kernel"),e.selectDifferentJupyterInterpreter=u("DataScience.selectDifferentJupyterInterpreter","Change Interpreter"),e.localJupyterServer=u("DataScience.localJupyterServer","local"),e.pandasTooOldForViewingFormat=u("DataScience.pandasTooOldForViewingFormat","Python package 'pandas' is version {0}. Version 0.20 or greater is required for viewing data."),e.pandasRequiredForViewing=u("DataScience.pandasRequiredForViewing","Python package 'pandas' is required for viewing data."),e.valuesColumn=u("DataScience.valuesColumn","values"),e.liveShareInvalid=u("DataScience.liveShareInvalid","One or more guests in the session do not have the Jupyter Extension installed. Live share session cannot continue."),e.tooManyColumnsMessage=u("DataScience.tooManyColumnsMessage","Variables with over a 1000 columns may take a long time to display. Are you sure you wish to continue?"),e.tooManyColumnsYes=u("DataScience.tooManyColumnsYes","Yes"),e.tooManyColumnsNo=u("DataScience.tooManyColumnsNo","No"),e.tooManyColumnsDontAskAgain=u("DataScience.tooManyColumnsDontAskAgain","Don't Ask Again"),e.filterRowsTooltip=u("DataScience.filterRowsTooltip","Allows filtering multiple rows. Use =, >, or < signs to filter numeric values."),e.previewHeader=u("DataScience.previewHeader","--- Begin preview of {0} ---"),e.previewFooter=u("DataScience.previewFooter","--- End preview of {0} ---"),e.previewStatusMessage=u("DataScience.previewStatusMessage","Generating preview of {0}"),e.plotViewerTitle=u("DataScience.plotViewerTitle","Plots"),e.exportPlotTitle=u("DataScience.exportPlotTitle","Save plot image"),e.pdfFilter=u("DataScience.pdfFilter","PDF"),e.pngFilter=u("DataScience.pngFilter","PNG"),e.svgFilter=u("DataScience.svgFilter","SVG"),e.previousPlot=u("DataScience.previousPlot","Previous"),e.nextPlot=u("DataScience.nextPlot","Next"),e.panPlot=u("DataScience.panPlot","Pan"),e.zoomInPlot=u("DataScience.zoomInPlot","Zoom in"),e.zoomOutPlot=u("DataScience.zoomOutPlot","Zoom out"),e.exportPlot=u("DataScience.exportPlot","Export to different formats"),e.deletePlot=u("DataScience.deletePlot","Remove"),e.editSection=u("DataScience.editSection","Input new cells here."),e.selectedImageListLabel=u("DataScience.selectedImageListLabel","Selected Image"),e.imageListLabel=u("DataScience.imageListLabel","Image"),e.exportImageFailed=u("DataScience.exportImageFailed","Error exporting image: {0}"),e.jupyterDataRateExceeded=u("DataScience.jupyterDataRateExceeded","Cannot view variable because data rate exceeded. Please restart your server with a higher data rate limit. For example, --NotebookApp.iopub_data_rate_limit=10000000000.0"),e.addCellBelowCommandTitle=u("DataScience.addCellBelowCommandTitle","Add cell"),e.debugCellCommandTitle=u("DataScience.debugCellCommandTitle","Debug Cell"),e.debugStepOverCommandTitle=u("DataScience.debugStepOverCommandTitle","Step over"),e.debugContinueCommandTitle=u("DataScience.debugContinueCommandTitle","Continue"),e.debugStopCommandTitle=u("DataScience.debugStopCommandTitle","Stop"),e.runCurrentCellAndAddBelow=u("DataScience.runCurrentCellAndAddBelow","Run current and add cell below"),e.jupyterDebuggerNotInstalledError=u("DataScience.jupyterDebuggerNotInstalledError","Pip module {0} is required for debugging cells. You will need to install it to debug cells."),e.jupyterDebuggerOutputParseError=u("DataScience.jupyterDebuggerOutputParseError","Unable to parse {0} output, please log an issue with https://github.com/microsoft/vscode-jupyter"),e.jupyterDebuggerPortNotAvailableError=u("DataScience.jupyterDebuggerPortNotAvailableError","Port {0} cannot be opened for debugging. Please specify a different port in the remoteDebuggerPort setting."),e.jupyterDebuggerPortBlockedError=u("DataScience.jupyterDebuggerPortBlockedError","Port {0} cannot be connected to for debugging. Please let port {0} through your firewall."),e.jupyterDebuggerPortNotAvailableSearchError=u("DataScience.jupyterDebuggerPortNotAvailableSearchError","Ports in the range {0}-{1} cannot be found for debugging. Please specify a port in the remoteDebuggerPort setting."),e.jupyterDebuggerPortBlockedSearchError=u("DataScience.jupyterDebuggerPortBlockedSearchError","A port cannot be connected to for debugging. Please let ports {0}-{1} through your firewall."),e.jupyterDebuggerInstallNew=u("DataScience.jupyterDebuggerInstallNew","Pip module {0} is required for debugging cells. Install {0} and continue to debug cell?"),e.jupyterDebuggerInstallNewRunByLine=u("DataScience.jupyterDebuggerInstallNewRunByLine","Pip module {0} is required for running by line. Install {0} and continue to run by line?"),e.jupyterDebuggerInstallUpdate=u("DataScience.jupyterDebuggerInstallUpdate","The version of {0} installed does not support debugging cells. Update {0} to newest version and continue to debug cell?"),e.jupyterDebuggerInstallUpdateRunByLine=u("DataScience.jupyterDebuggerInstallUpdateRunByLine","The version of {0} installed does not support running by line. Update {0} to newest version and continue to run by line?"),e.jupyterDebuggerInstallYes=u("DataScience.jupyterDebuggerInstallYes","Yes"),e.jupyterDebuggerInstallNo=u("DataScience.jupyterDebuggerInstallNo","No"),e.cellStopOnErrorFormatMessage=u("DataScience.cellStopOnErrorFormatMessage","{0} cells were canceled due to an error in the previous cell."),e.scrollToCellTitleFormatMessage=u("DataScience.scrollToCellTitleFormatMessage","Go to [{0}]"),e.instructionComments=u("DataScience.instructionComments",'# To add a new cell, type "{0}"\n# To add a new markdown cell, type "{0} [markdown]"\n'),e.invalidNotebookFileError=u("DataScience.invalidNotebookFileError","Notebook is not in the correct format. Check the file for correct json."),e.invalidNotebookFileErrorFormat=u("DataScience.invalidNotebookFileError","{0} is not a valid notebook file. Check the file for correct json."),e.nativeEditorTitle=u("DataScience.nativeEditorTitle","Notebook Editor"),e.untitledNotebookFileName=u("DataScience.untitledNotebookFileName","Untitled"),e.dirtyNotebookMessage1=u("DataScience.dirtyNotebookMessage1","Do you want to save the changes you made to {0}?"),e.dirtyNotebookMessage2=u("DataScience.dirtyNotebookMessage2","Your changes will be lost if you don't save them."),e.dirtyNotebookYes=u("DataScience.dirtyNotebookYes","Save"),e.dirtyNotebookNo=u("DataScience.dirtyNotebookNo","Don't Save"),e.dirtyNotebookCancel=u("DataScience.dirtyNotebookCancel","Cancel"),e.dirtyNotebookDialogTitle=u("DataScience.dirtyNotebookDialogTitle","Save"),e.dirtyNotebookDialogFilter=u("DataScience.dirtyNotebookDialogFilter","Jupyter Notebooks"),e.remoteDebuggerNotSupported=u("DataScience.remoteDebuggerNotSupported","Debugging while attached to a remote server is not currently supported."),e.notebookExportAs=u("DataScience.notebookExportAs","Export As"),e.exportAsPythonFileTitle=u("DataScience.exportAsPythonFileTitle","Save As Python File"),e.exportButtonTitle=u("DataScience.exportButtonTitle","Export"),e.exportAsQuickPickPlaceholder=u("DataScience.exportAsQuickPickPlaceholder","Export As..."),e.openExportedFileMessage=u("DataScience.openExportedFileMessage","Would you like to open the exported file?"),e.openExportFileYes=u("DataScience.openExportFileYes","Yes"),e.openExportFileNo=u("DataScience.openExportFileNo","No"),e.exportFailedGeneralMessage=u("DataScience.exportFailedGeneralMessage","Please check the 'Python' [output](command:python.viewOutput) panel for further details."),e.exportToPDFDependencyMessage=u("DataScience.exportToPDFDependencyMessage",'If you have not installed xelatex (TeX) you will need to do so before you can export to PDF, for further instructions please look https://nbconvert.readthedocs.io/en/latest/install.html#installing-tex. \r\nTo avoid installing xelatex (TeX) you might want to try exporting to HTML and using your browsers "Print to PDF" feature.'),e.failedExportMessage=u("DataScience.failedExportMessage","Export failed."),e.runCell=u("DataScience.runCell","Run cell"),e.deleteCell=u("DataScience.deleteCell","Delete cell"),e.moveCellUp=u("DataScience.moveCellUp","Move cell up"),e.moveCellDown=u("DataScience.moveCellDown","Move cell down"),e.moveSelectedCellUp=u("DataScience.moveSelectedCellUp","Move selected cell up"),e.moveSelectedCellDown=u("DataScience.deleteCell","Move selected cell down"),e.insertBelow=u("DataScience.insertBelow","Insert cell below"),e.insertAbove=u("DataScience.insertAbove","Insert cell above"),e.addCell=u("DataScience.addCell","Add cell"),e.runAll=u("DataScience.runAll","Insert cell"),e.convertingToPythonFile=u("DataScience.convertingToPythonFile","Converting ipynb to python file"),e.noInterpreter=u("DataScience.noInterpreter","No python selected"),e.notebookNotFound=u("DataScience.notebookNotFound","python -m jupyter notebook --version is not running"),e.savePngTitle=u("DataScience.savePngTitle","Save Image"),e.fallbackToUseActiveInterpreterAsKernel=u("DataScience.fallbackToUseActiveInterpeterAsKernel","Couldn't find kernel '{0}' that the notebook was created with. Using the current interpreter."),e.fallBackToRegisterAndUseActiveInterpeterAsKernel=u("DataScience.fallBackToRegisterAndUseActiveInterpeterAsKernel","Couldn't find kernel '{0}' that the notebook was created with. Registering a new kernel using the current interpreter."),e.fallBackToPromptToUseActiveInterpreterOrSelectAKernel=u("DataScience.fallBackToPromptToUseActiveInterpreterOrSelectAKernel","Couldn't find kernel '{0}' that the notebook was created with."),e.startingJupyterLogMessage=u("DataScience.startingJupyterLogMessage","Starting Jupyter from {0}"),e.jupyterStartTimedout=u("DataScience.jupyterStartTimedout","Starting Jupyter has timedout. Please check the 'Jupyter' output panel for further details."),e.switchingKernelProgress=u("DataScience.switchingKernelProgress","Switching Kernel to '{0}'"),e.waitingForJupyterSessionToBeIdle=u("DataScience.waitingForJupyterSessionToBeIdle","Waiting for Jupyter Session to be idle"),e.gettingListOfKernelsForLocalConnection=u("DataScience.gettingListOfKernelsForLocalConnection","Fetching Kernels"),e.gettingListOfKernelsForRemoteConnection=u("DataScience.gettingListOfKernelsForRemoteConnection","Fetching Kernels"),e.gettingListOfKernelSpecs=u("DataScience.gettingListOfKernelSpecs","Fetching Kernel specs"),e.startingJupyterNotebook=u("DataScience.startingJupyterNotebook","Starting Jupyter Notebook"),e.registeringKernel=u("DataScience.registeringKernel","Registering Kernel"),e.trimmedOutput=u("DataScience.trimmedOutput",'Output was trimmed for performance reasons.\nTo see the full output set the setting "jupyter.textOutputLimit" to 0.'),e.jupyterCommandLineDefaultLabel=u("DataScience.jupyterCommandLineDefaultLabel","Default"),e.jupyterCommandLineDefaultDetail=u("DataScience.jupyterCommandLineDefaultDetail","The Python extension will determine the appropriate command line for Jupyter"),e.jupyterCommandLineCustomLabel=u("DataScience.jupyterCommandLineCustomLabel","Custom"),e.jupyterCommandLineCustomDetail=u("DataScience.jupyterCommandLineCustomDetail","Customize the command line passed to Jupyter on startup"),e.jupyterCommandLineReloadQuestion=u("DataScience.jupyterCommandLineReloadQuestion","Please reload the window when changing the Jupyter command line."),e.jupyterCommandLineReloadAnswer=u("DataScience.jupyterCommandLineReloadAnswer","Reload"),e.jupyterCommandLineQuickPickPlaceholder=u("DataScience.jupyterCommandLineQuickPickPlaceholder","Choose an option"),e.jupyterCommandLineQuickPickTitle=u("DataScience.jupyterCommandLineQuickPickTitle","Pick command line for Jupyter"),e.jupyterCommandLinePrompt=u("DataScience.jupyterCommandLinePrompt","Enter your custom command line for Jupyter"),e.connectingToJupyterUri=u("DataScience.connectingToJupyterUri","Connecting to Jupyter server at {0}"),e.createdNewNotebook=u("DataScience.createdNewNotebook","{0}: Creating new notebook "),e.createdNewKernel=u("DataScience.createdNewKernel","{0}: Kernel started: {1}"),e.kernelInvalid=u("DataScience.kernelInvalid","Kernel {0} is not usable. Check the Jupyter output tab for more information."),e.nativeDependencyFail=u("DataScience.nativeDependencyFail","{0}. We cannot launch a jupyter server for you because your OS is not supported. Select an already running server if you wish to continue."),e.selectNewServer=u("DataScience.selectNewServer","Pick Running Server"),e.jupyterSelectURIRemoteLabel=u("DataScience.jupyterSelectURIRemoteLabel","Existing"),e.jupyterSelectURIQuickPickTitleRemoteOnly=u("DataScience.jupyterSelectURIQuickPickTitleRemoteOnly","Pick an already running jupyter server"),e.jupyterSelectURIRemoteDetail=u("DataScience.jupyterSelectURIRemoteDetail","Specify the URI of an existing server"),e.specifyLocalOrRemoteJupyterServerForConnections=u("jupyter.command.jupyter.selectjupyteruri.title","Specify local or remote Jupyter server for connections"),e.jupyterNativeNotebookUriStatusLabelForLocal=u("DataScience.jupyterNativeNotebookUriStatusLabelForLocal","Jupyter Server: local"),e.jupyterNativeNotebookUriStatusLabelForRemote=u("DataScience.jupyterNativeNotebookUriStatusLabelForRemote","Jupyter Server: Remote"),e.loadClassFailedWithNoInternet=u("DataScience.loadClassFailedWithNoInternet","Error loading {0}:{1}. Internet connection required for loading 3rd party widgets."),e.loadThirdPartyWidgetScriptsPostEnabled=u("DataScience.loadThirdPartyWidgetScriptsPostEnabled","Please restart the Kernel when changing the setting 'jupyter.widgetScriptSources'."),e.useCDNForWidgets=u("DataScience.useCDNForWidgets","Widgets require us to download supporting files from a 3rd party website. Click [here](https://aka.ms/PVSCIPyWidgets) for more information."),e.enableCDNForWidgetsSettingHtml=u("DataScience.enableCDNForWidgetsSettingHtml","Widgets require us to download supporting files from a 3rd party website. Click <a href='https://command:jupyter.enableLoadingWidgetScriptsFromThirdPartySource'>here</a> to enable this or click <a href='https://aka.ms/PVSCIPyWidgets'>here</a> for more information. (Error loading {0}:{1})."),e.enableCDNForWidgetsSetting=u("DataScience.enableCDNForWidgetsSetting","Widgets require us to download supporting files from a 3rd party website. (Error loading {0}:{1})."),e.enableCDNForWidgetsButton=u("DataScience.enableCDNForWidgetsButton","Enable Downloads"),e.unhandledMessage=u("DataScience.unhandledMessage","Unhandled kernel message from a widget: {0} : {1}"),e.widgetScriptNotFoundOnCDNWidgetMightNotWork=u("DataScience.widgetScriptNotFoundOnCDNWidgetMightNotWork","Unable to load a compatible version of the widget '{0}'. Expected behavior may be affected."),e.qgridWidgetScriptVersionCompatibilityWarning=u("DataScience.qgridWidgetScriptVersionCompatibilityWarning","Unable to load a compatible version of the widget 'qgrid'. Consider downgrading to version 1.1.1."),e.kernelStarted=u("DataScience.kernelStarted","Started kernel {0}."),e.runByLine=u("DataScience.runByLine","Run by line (F10)"),e.step=u("DataScience.step","Run next line (F10)"),e.stopRunByLine=u("DataScience.stopRunByLine","Stop"),e.rawKernelSessionFailed=u("DataScience.rawKernelSessionFailed","Unable to start session for kernel {0}. Select another kernel to launch with."),e.rawKernelConnectingSession=u("DataScience.rawKernelConnectingSession","Connecting to kernel."),e.insecureSessionMessage=u("DataScience.insecureSessionMessage","Connecting over HTTP without a token may be an insecure connection. Do you want to connect to a possibly insecure server?"),e.insecureSessionDenied=u("DataScience.insecureSessionDenied","Denied connection to insecure server."),e.connected=u("DataScience.connected","Connected"),e.disconnected=u("DataScience.disconnected","Disconnected"),e.ipykernelNotInstalled=u("DataScience.ipykernelNotInstalled","IPyKernel not installed into interpreter {0}"),e.needIpykernel6=u("DataScience.needIpykernel6","Ipykernel setup required for this feature"),e.setup=u("DataScience.setup","Setup"),e.startingRunByLine=u("DataScience.startingRunByLine","Starting Run by Line"),e.showDataViewerFail=u("DataScience.showDataViewerFail","Failed to create the Data Viewer. Check the Jupyter tab of the Output window for more info."),e.placeHolderToSelectOptionForNotebookCreation=u("DataScience.notebookCreationPickerPlaceHolder","Select an option to create a blank notebook"),e.defaultNotebookName=u("DataScience.defaultNotebookName","default"),e.recommendExtensionForNotebookLanguage=u("DataScience.recommendExtensionForNotebook","The {0} extension is recommended for notebooks targetting the language '{1}'."),e.kernelWasNotStarted=u("DataScience.kernelWasNotStarted","Kernel was not started. A kernel session is needed to start debugging."),e.noNotebookToDebug=u("DataScience.noNotebookToDebug","No active notebook document to debug."),e.cantStartDebugging=u("DataScience.cantStartDebugging","Can't start debugging.")}(t.DataScience||(t.DataScience={}));let c,l={};function u(e,t){return()=>function(e,t){s&&d()===c||h();let n=a;s&&s.hasOwnProperty(e)&&(n=s);let r=n[e];!r&&t&&(r=t);return l[e]=r,r}(e,t)}function d(){const e=process.env.VSCODE_NLS_CONFIG;return e?JSON.parse(e).locale:"en-us"}function h(){c=d();const e=i.join(o.EXTENSION_ROOT_DIR,`package.nls.${c}.json`);if(r.pathExistsSync(e)){const t=r.readFileSync(e,"utf-8");s=JSON.parse(t)}else s={};if(!a){const e=i.join(o.EXTENSION_ROOT_DIR,"package.nls.json");if(r.pathExistsSync(e)){const t=r.readFileSync(e,"utf-8");a=JSON.parse(t)}else a={}}}t._resetCollections=function(){c="",s=void 0,l={}},t._getAskedForCollection=function(){return l},t.getCollectionJSON=function(){return s&&d()===c||h(),JSON.stringify({...a,...s})},t.localize=u,h()},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(166),i=n(248),o=n(66),s=n(156),a=n(47),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=Object(i.a)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(s.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function l(e){if(e||(e=a.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJupyterServerUriStorage=t.IJupyterUriProviderRegistration=t.IJupyterDebugService=t.INotebookCreationTracker=t.IKernelVariableRequester=t.IKernelDependencyService=t.KernelInterpreterDependencyResponse=t.IJupyterServerProvider=t.INotebookProvider=t.INbConvertExportToPythonService=t.INbConvertInterpreterDependencyChecker=t.IJupyterInterpreterDependencyManager=t.IJupyterSubCommandExecutionService=t.IDebugLocationTracker=t.ICellHashListener=t.IPlotViewer=t.IPlotViewerProvider=t.IJupyterVariables=t.IJupyterVariableDataProviderFactory=t.IJupyterVariableDataProvider=t.IJupyterCommandFactory=t.IStatusProvider=t.IThemeFinder=t.ICodeCssGenerator=t.CellState=t.ICodeLensFactory=t.ICodeWatcher=t.IDataScienceCodeLensProvider=t.INotebookEditor=t.INotebookEditorProvider=t.IDataScienceErrorHandler=t.IInteractiveWindowProvider=t.INotebookExporter=t.INotebookImporter=t.IJupyterSessionManagerFactory=t.IJupyterSession=t.IJupyterPasswordConnect=t.IJupyterDebugger=t.IJupyterExecution=t.INotebookExecutionLogger=t.IHoverProvider=t.IJupyterNotebookProvider=t.IRawNotebookProvider=t.IRawNotebookSupportedService=t.INotebookServer=t.InterruptResult=t.IDataScienceCommandListener=t.IDataScience=void 0,t.IDataScience=Symbol("IDataScience"),t.IDataScienceCommandListener=Symbol("IDataScienceCommandListener"),function(e){e.Success="success",e.TimedOut="timeout",e.Restarted="restart"}(t.InterruptResult||(t.InterruptResult={})),t.INotebookServer=Symbol("INotebookServer"),t.IRawNotebookSupportedService=Symbol("IRawNotebookSupportedService"),t.IRawNotebookProvider=Symbol("IRawNotebookProvider"),t.IJupyterNotebookProvider=Symbol("IJupyterNotebookProvider"),t.IHoverProvider=Symbol("IHoverProvider"),t.INotebookExecutionLogger=Symbol("INotebookExecutionLogger"),t.IJupyterExecution=Symbol("IJupyterExecution"),t.IJupyterDebugger=Symbol("IJupyterDebugger"),t.IJupyterPasswordConnect=Symbol("IJupyterPasswordConnect"),t.IJupyterSession=Symbol("IJupyterSession"),t.IJupyterSessionManagerFactory=Symbol("IJupyterSessionManagerFactory"),t.INotebookImporter=Symbol("INotebookImporter"),t.INotebookExporter=Symbol("INotebookExporter"),t.IInteractiveWindowProvider=Symbol("IInteractiveWindowProvider"),t.IDataScienceErrorHandler=Symbol("IDataScienceErrorHandler"),t.INotebookEditorProvider=Symbol("INotebookEditorProvider"),t.INotebookEditor=Symbol("INotebookEditor"),t.IDataScienceCodeLensProvider=Symbol("IDataScienceCodeLensProvider"),t.ICodeWatcher=Symbol("ICodeWatcher"),t.ICodeLensFactory=Symbol("ICodeLensFactory"),function(e){e[e.editing=-1]="editing",e[e.init=0]="init",e[e.executing=1]="executing",e[e.finished=2]="finished",e[e.error=3]="error"}(t.CellState||(t.CellState={})),t.ICodeCssGenerator=Symbol("ICodeCssGenerator"),t.IThemeFinder=Symbol("IThemeFinder"),t.IStatusProvider=Symbol("IStatusProvider"),t.IJupyterCommandFactory=Symbol("IJupyterCommandFactory"),t.IJupyterVariableDataProvider=Symbol("IJupyterVariableDataProvider"),t.IJupyterVariableDataProviderFactory=Symbol("IJupyterVariableDataProviderFactory"),t.IJupyterVariables=Symbol("IJupyterVariables"),t.IPlotViewerProvider=Symbol("IPlotViewerProvider"),t.IPlotViewer=Symbol("IPlotViewer"),t.ICellHashListener=Symbol("ICellHashListener"),t.IDebugLocationTracker=Symbol("IDebugLocationTracker"),t.IJupyterSubCommandExecutionService=Symbol("IJupyterSubCommandExecutionService"),t.IJupyterInterpreterDependencyManager=Symbol("IJupyterInterpreterDependencyManager"),t.INbConvertInterpreterDependencyChecker=Symbol("INbConvertInterpreterDependencyChecker"),t.INbConvertExportToPythonService=Symbol("INbConvertExportToPythonService"),t.INotebookProvider=Symbol("INotebookProvider"),t.IJupyterServerProvider=Symbol("IJupyterServerProvider"),function(e){e[e.ok=0]="ok",e[e.cancel=1]="cancel",e[e.failed=2]="failed",e[e.selectDifferentKernel=3]="selectDifferentKernel"}(t.KernelInterpreterDependencyResponse||(t.KernelInterpreterDependencyResponse={})),t.IKernelDependencyService=Symbol("IKernelDependencyService"),t.IKernelVariableRequester=Symbol("IKernelVariableRequester"),t.INotebookCreationTracker=Symbol("INotebookCreationTracker"),t.IJupyterDebugService=Symbol("IJupyterDebugService"),t.IJupyterUriProviderRegistration=Symbol("IJupyterUriProviderRegistration"),t.IJupyterServerUriStorage=Symbol("IJupyterServerUriStorage")},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};function o(){return"1"===process.env.VSC_JUPYTER_UNIT_TEST}Object.defineProperty(t,"__esModule",{value:!0}),t.isUnitTestExecution=t.isTestExecution=t.isCI=t.STANDARD_OUTPUT_CHANNEL=t.DEFAULT_INTERPRETER_SETTING=t.Delays=t.Text=t.Octicons=t.AppinsightsKey=t.JVSC_EXTENSION_DisplayName=t.JVSC_EXTENSION_ID=t.GITHUB_ISSUE_MARKDOWN_FILE=t.PYTHON_ALLFILES=t.PYTHON=t.PYTHON_CELL=t.PYTHON_FILE=t.PYTHON_UNTITLED=t.NotebookCellScheme=t.JUPYTER_LANGUAGE=t.MARKDOWN_LANGUAGE=t.PYTHON_LANGUAGE=void 0,t.PYTHON_LANGUAGE="python",t.MARKDOWN_LANGUAGE="markdown",t.JUPYTER_LANGUAGE="jupyter",t.NotebookCellScheme="vscode-notebook-cell",t.PYTHON_UNTITLED={scheme:"untitled",language:t.PYTHON_LANGUAGE},t.PYTHON_FILE={scheme:"file",language:t.PYTHON_LANGUAGE},t.PYTHON_CELL={scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},t.PYTHON=[t.PYTHON_UNTITLED,t.PYTHON_FILE,t.PYTHON_CELL],t.PYTHON_ALLFILES=[{language:t.PYTHON_LANGUAGE}],t.GITHUB_ISSUE_MARKDOWN_FILE=[{language:t.MARKDOWN_LANGUAGE,scheme:"untitled",pattern:"**/issue.md"}],t.JVSC_EXTENSION_ID="ms-toolsai.jupyter",t.JVSC_EXTENSION_DisplayName="Jupyter",t.AppinsightsKey="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",function(e){e.Downloading="$(cloud-download)",e.Installing="$(desktop-download)"}(t.Octicons||(t.Octicons={})),function(e){e.CodeLensRunUnitTest="Run Test",e.CodeLensDebugUnitTest="Debug Test"}(t.Text||(t.Text={})),function(e){e.MaxUnitTestCodeLensDelay=5e3}(t.Delays||(t.Delays={})),t.DEFAULT_INTERPRETER_SETTING="python",t.STANDARD_OUTPUT_CHANNEL="STANDARD_OUTPUT_CHANNEL",t.isCI=void 0!==process.env.TF_BUILD||"true"===process.env.GITHUB_ACTIONS,t.isTestExecution=function(){return"1"===process.env.VSC_JUPYTER_CI_TEST||o()},t.isUnitTestExecution=o,i(n(107),t)},function(e,t,n){"use strict";String.prototype.splitLines=function(e={removeEmptyEntries:!0,trim:!0}){let t=this.split(/\r?\n/g);return e&&e.trim&&(t=t.map(e=>e.trim())),e&&e.removeEmptyEntries&&(t=t.filter(e=>e.length>0)),t},String.prototype.toCommandArgument=function(){return this?this.indexOf(" ")>=0&&!this.startsWith('"')&&!this.endsWith('"')?`"${this}"`:this.toString():this},String.prototype.fileToCommandArgument=function(){return this?this.toCommandArgument().replace(/\\/g,"/"):this},String.prototype.trimQuotes=function(){return this?this.replace(/(^['"])|(['"]$)/g,""):this},Promise.prototype.ignoreErrors=function(){this.catch(()=>{})},String.prototype.format||(String.prototype.format=function(){const e=arguments;return this.replace(/{(\d+)}/g,(t,n)=>void 0===e[n]?t:e[n])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFileSystem=t.FileType=t.IFileSystemPathUtils=t.IPlatformService=t.IsWindows=void 0;const r=n(1);t.IsWindows=Symbol("IS_WINDOWS"),t.IPlatformService=Symbol("IPlatformService"),t.IFileSystemPathUtils=Symbol("IFileSystemPathUtils"),t.FileType=r.FileType,t.IFileSystem=Symbol("IFileSystem")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenIterator=t.iterable=t.mapToIterator=t.chain=t.NEVER=t.iterEmpty=t.createDeferredFromPromise=t.createDeferredFrom=t.createDeferred=t.isPromise=t.isThenable=t.waitForPromise=t.sleep=t.TimedOutError=void 0;const r=n(29);class i extends r.BaseError{constructor(e){super("timeout",e)}}t.TimedOutError=i,t.sleep=async function(e){return new Promise(t=>{setTimeout(()=>t(e),e)})},t.waitForPromise=async function(e,t){return new Promise((n,r)=>{const i=setTimeout(()=>n(null),t);e.then(e=>{clearTimeout(i),n(e)}).catch(e=>{clearTimeout(i),r(e)})})},t.isThenable=function(e){return"function"==typeof(null==e?void 0:e.then)},t.isPromise=function(e){return"function"==typeof(null==e?void 0:e.then)&&"function"==typeof(null==e?void 0:e.catch)};class o{constructor(e=null){this.scope=e,this._resolved=!1,this._rejected=!1,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this._resolve.apply(this.scope?this.scope:this,arguments),this._resolved=!0}reject(e){this._reject.apply(this.scope?this.scope:this,arguments),this._rejected=!0}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}}function s(e=null){return new o(e)}async function a(e,t){const n=void 0===t?-1:t;try{return{index:n,result:await e.next(),err:null}}catch(e){return{index:n,err:e,result:null}}}async function*c(e,n){const r=e.map(a);let i=e.length;for(;i>0;){const{index:o,result:s,err:c}=await Promise.race(r);null!==c?(r[o]=t.NEVER,i-=1,void 0!==n&&await n(c,o)):s.done?(r[o]=t.NEVER,i-=1,void 0!==s.value&&(yield s.value)):(r[o]=a(e[o],o),yield s.value)}}function l(e){const t=e;return void 0===t[Symbol.asyncIterator]&&(t[Symbol.asyncIterator]=()=>t),t}t.createDeferred=s,t.createDeferredFrom=function(...e){const t=s();return Promise.all(e).then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.createDeferredFromPromise=function(e){const t=s();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.iterEmpty=function(){return async function*(){}()},t.NEVER=new Promise(()=>{}),t.chain=c,t.mapToIterator=async function*(e,t,n=!0){if(n){const n=e.map(e=>async function*(){yield t(e)}());yield*l(c(n))}else yield*e.map(t)},t.iterable=l,t.flattenIterator=async function(e){const t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(11),i=n(81),o=n(170),s=n(21),a=n(102),c=n(47),l=n(83),u=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i)}return s}return r.b(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.a),d=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=a,c._error=r,c._complete=s,c}return r.b(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(l.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(l.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(30),i=n(122),o=n(81),s=n(103),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u){n[u].remove(this)}if(Object(o.a)(a))try{a.call(this)}catch(e){t=e instanceof s.a?c(e.errors):[e]}if(Object(r.a)(l)){u=-1;for(var d=l.length;++u<d;){var h=l[u];if(Object(i.a)(h))try{h.unsubscribe()}catch(e){t=t||[],e instanceof s.a?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.a?t.errors:t)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetryForPythonKernelExecutable=t.findPreferredKernel=t.isLocalLaunch=t.cleanEnvironment=t.detectDefaultKernelName=t.areKernelConnectionsEqual=t.createInterpreterKernelSpec=t.isKernelRegisteredByUs=t.getInterpreterKernelSpecName=t.getLanguageInKernelSpec=t.getLanguageInNotebookMetadata=t.getKernelConnectionLanguage=t.isPythonKernelConnection=t.getInterpreterFromKernelConnectionMetadata=t.getDetailOfKernelConnection=t.getDescriptionOfKernelConnection=t.getKernelPathFromKernelConnection=t.getNameOfKernelConnection=t.getDisplayNameOrNameOfKernelConnection=t.getSysInfoReasonHeader=t.getKernelId=t.kernelConnectionMetadataHasKernelModel=t.kernelConnectionMetadataHasKernelSpec=t.findIndexOfConnectionFile=t.connectionFilePlaceholder=void 0;const r=n(6),i=n(297),o=n(430),s=n(127),a=n(14),c=n(24),l=n(10),u=n(5),d=n(62),h=n(8),p=n(4),f=n(190),m=n(68),g=n(55),v=n(1),y=n(54),b=n(73),_=n(304),w=n(191);function S(e){return"connectToLiveKernel"!==e.kind}function E(e){return"connectToLiveKernel"===e.kind}function x(e,t=""){var n,r;if(!e)return t;const i="connectToLiveKernel"===e.kind?e.kernelModel.display_name:null===(n=e.kernelSpec)||void 0===n?void 0:n.display_name,o="connectToLiveKernel"===e.kind?e.kernelModel.name:null===(r=e.kernelSpec)||void 0===r?void 0:r.name,s="startUsingPythonInterpreter"===e.kind?e.interpreter.displayName:void 0,a="startUsingDefaultKernel"===e.kind?"Python 3":void 0;return i||o||s||a||t}function C(e){var t,n;if(!e)return;const r=E(e)?e.kernelModel:void 0,i=S(e)?e.kernelSpec:void 0;return(null==r?void 0:r.path)||(null===(n=null===(t=null==i?void 0:i.metadata)||void 0===t?void 0:t.interpreter)||void 0===n?void 0:n.path)||(null==i?void 0:i.interpreterPath)||(null==i?void 0:i.path)}function k(e){if(!e)return!1;if("startUsingPythonInterpreter"===e.kind)return!0;const t=E(e)?e.kernelModel:void 0,n=S(e)?e.kernelSpec:void 0;return(null==t?void 0:t.language)===a.PYTHON_LANGUAGE||D(n)}function D(e){return((null==e?void 0:e.language)||"").toLowerCase()===a.PYTHON_LANGUAGE}function T(e){if(!e)return;if("startUsingPythonInterpreter"===e.kind)return a.PYTHON_LANGUAGE;const t=E(e)?e.kernelModel:void 0,n=S(e)?e.kernelSpec:void 0;return(null==t?void 0:t.language)||I(n)}function I(e){return null==e?void 0:e.language}t.connectionFilePlaceholder="{connection_file}",t.findIndexOfConnectionFile=function(e){return e.argv.findIndex(e=>e.includes(t.connectionFilePlaceholder))},t.kernelConnectionMetadataHasKernelSpec=S,t.kernelConnectionMetadataHasKernelModel=E,t.getKernelId=function(e,t){t=D(e)?t:void 0;let n=e.name;j(e)&&n.includes(M)&&(n=n.substring(n.indexOf(M)));let r="";return r=D(e)?e.argv.slice(1).filter(e=>!["-f","{connection_file}"].includes(e)).join("#").toLowerCase():e.argv.join("#").toLowerCase(),`${e.id||""}.${n}.${e.interpreterPath||e.path}.${(null==t?void 0:t.path)||""}.${r}`},t.getSysInfoReasonHeader=function(e,t){const n=x(t);switch(e){case b.SysInfoReason.Start:case b.SysInfoReason.New:return l.DataScience.startedNewKernelHeader().format(n);case b.SysInfoReason.Restart:return l.DataScience.restartedKernelHeader().format(n);case b.SysInfoReason.Interrupt:return l.DataScience.pythonInterruptFailedHeader();case b.SysInfoReason.Connect:return l.DataScience.connectKernelHeader().format(n);default:return p.traceError("Invalid SysInfoReason"),""}},t.getDisplayNameOrNameOfKernelConnection=x,t.getNameOfKernelConnection=function(e,t=""){var n;return e?"connectToLiveKernel"===e.kind?e.kernelModel.name:null===(n=e.kernelSpec)||void 0===n?void 0:n.name:t},t.getKernelPathFromKernelConnection=C,t.getDescriptionOfKernelConnection=function(e,t=""){return"connectToLiveKernel"===(null==e?void 0:e.kind)?l.DataScience.jupyterSelectURIRunningDetailFormat().format(e.kernelModel.lastActivityTime.toLocaleString(),e.kernelModel.numberOfConnections.toString()):t},t.getDetailOfKernelConnection=function(e,t,n=""){const r=C(e),i="connectToLiveKernel"===(null==e?void 0:e.kind)?`(${e.kernelModel.session.path})`:"";return`${r?t.getDisplayName(r):n} ${i}`},t.getInterpreterFromKernelConnectionMetadata=function(e){var t,n;if(!e)return;if(e.interpreter)return e.interpreter;const r=E(e)?e.kernelModel:void 0;if(null===(t=null==r?void 0:r.metadata)||void 0===t?void 0:t.interpreter)return r.metadata.interpreter;const i=S(e)?e.kernelSpec:void 0;return null===(n=null==i?void 0:i.metadata)||void 0===n?void 0:n.interpreter},t.isPythonKernelConnection=k,t.getKernelConnectionLanguage=T,t.getLanguageInNotebookMetadata=function(e){var t;if(!e)return;return I(e.kernelspec)||(null===(t=e.language_info)||void 0===t?void 0:t.name)},t.getLanguageInKernelSpec=I;const M="jvsc74a57bd0";function P(e){const t=((null==e?void 0:e.sysVersion)?m.getTelemetrySafeVersion(e.sysVersion)||"3":"").replace(/\./g,"");return e?`${e?"python"+t:""}${M}${f.getInterpreterHash(e)}`:"python3"}function j(e){var t;return(null===(t=e.metadata)||void 0===t?void 0:t.interpreter)&&e.name.toLowerCase().search(/[a-f0-9]{32}$/)?"oldVersion":e.name.includes(M)?"newVersion":void 0}t.getInterpreterKernelSpecName=P,t.isKernelRegisteredByUs=j,t.createInterpreterKernelSpec=function(e,n){const o={name:P(e),language:"python",display_name:(null==e?void 0:e.displayName)||"Python 3",metadata:{interpreter:e},argv:["python","-m","ipykernel_launcher","-f",t.connectionFilePlaceholder],env:{},resources:{}},s=n&&o.name?r.join(n,o.name,"kernel.json"):void 0;return new i.JupyterKernelSpec(o,s,null==e?void 0:e.path)},t.areKernelConnectionsEqual=function(e,t){return!e&&!t||!(!e&&t)&&(!(e&&!t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id))},t.detectDefaultKernelName=function(e){return o("python\\s*(?<version>(\\d+))","g").exec(e.toLowerCase())},t.cleanEnvironment=function(e){const t=s(e);if(t.env){Object.keys(t.env).forEach(e=>{if(t.env){const n=t.env[e];null!=n&&(t.env[e]=n.toString())}})}return t},t.isLocalLaunch=function(e){const t=e.getSettings(void 0).jupyterServerType;return!t||t.toLowerCase()===u.Settings.JupyterServerLocalLaunch},t.findPreferredKernel=function(e,t,n,r,i,o){var s,l,d,m,g,v,b,w,S,E,C,k,I,M,L,O,A,N,R,F,B;p.traceInfo(`Find preferred kernel for ${null==t?void 0:t.toString()} with metadata ${JSON.stringify(r||{})} & preferred interpreter ${JSON.stringify(i||{})}`);let U=-1;if(U<0&&t&&o){const n=o.getPreferredRemoteKernelId(t);n&&(U=e.findIndex(e=>"connectToLiveKernel"===e.kind&&e.kernelModel.id===n))}if(!r&&"interactive"===y.getResourceType(t)&&i){const t=e.find(e=>"startUsingPythonInterpreter"===e.kind&&e.interpreter.path===i.path);if(t)return t;h.sendTelemetryEvent(u.Telemetry.FailedToFindKernelSpecInterpreterForInteractive)}if(U<0){const n=!!(null===(s=null==r?void 0:r.language_info)||void 0===s?void 0:s.name);let o;o="interactive"===y.getResourceType(t)?a.PYTHON_LANGUAGE:r&&!c.isPythonNotebook(r)&&n?null===(m=(null===(l=null==r?void 0:r.kernelspec)||void 0===l?void 0:l.language)||(null===(d=null==r?void 0:r.language_info)||void 0===d?void 0:d.name))||void 0===m?void 0:m.toLowerCase():a.PYTHON_LANGUAGE;let u=-1;const h=i?e.findIndex(e=>!("startUsingPythonInterpreter"!==e.kind||!e.kernelSpec||e.kernelSpec.language!==a.PYTHON_LANGUAGE||e.interpreter.path!==i.path)):-1;for(let t=0;e&&t<(null==e?void 0:e.length);t+=1){const n=e[t],s="connectToLiveKernel"!==n.kind?n.kernelSpec:void 0,c=T(n);let l=-1,d=0;if(s){if(!r&&"newVersion"===j(s)&&D(s)&&i&&s.name===P(i)&&(l+=100),(null===(g=null==r?void 0:r.kernelspec)||void 0===g?void 0:g.name)&&j(s)&&r.kernelspec.name===s.name&&(l+=100),"object"==typeof r&&"interpreter"in r&&r.interpreter&&"object"==typeof r.interpreter&&"hash"in r.interpreter&&("startUsingKernelSpec"===n.kind||"startUsingPythonInterpreter"===n.kind)&&n.interpreter&&f.getInterpreterHash(n.interpreter)===r.interpreter.hash&&(l+=100),s&&s.path&&s.path.length>0&&i&&s.path===i.path&&o===a.PYTHON_LANGUAGE&&(l+=r?1:8),i&&i.version&&s&&s.name&&o===a.PYTHON_LANGUAGE&&!j(s)){const e=/\D+(\d+)/.exec(s.name);if(e&&null!==e&&e.length>0){const t=parseInt(e[1][0],10);t&&t===i.version.major&&(l+=4)}}s.display_name&&s.display_name===(null===(v=null==r?void 0:r.kernelspec)||void 0===v?void 0:v.display_name)&&(l+=16),(null===(b=n.interpreter)||void 0===b?void 0:b.envName)&&(null===(w=n.interpreter)||void 0===w?void 0:w.envName)===(null===(S=null==r?void 0:r.kernelspec)||void 0===S?void 0:S.name)&&o===a.PYTHON_LANGUAGE&&!(null===(E=null==r?void 0:r.kernelspec)||void 0===E?void 0:E.name.toLowerCase().match(_.isDefaultPythonKernelSpecName))&&(l+=16),s.display_name&&s.display_name===(null==i?void 0:i.displayName)&&!(null===(C=null==r?void 0:r.kernelspec)||void 0===C?void 0:C.display_name)&&o===a.PYTHON_LANGUAGE&&(l+=10),l<=0&&o&&c===(o||"")&&(p.traceInfo(`findPreferredKernel score for speclanguage=${o}, ${x(n)} is ${l}`),d=1,l=1),o===a.PYTHON_LANGUAGE&&((null===(I=null===(k=n.interpreter)||void 0===k?void 0:k.sysVersion)||void 0===I?void 0:I.startsWith("3"))||3===(null===(L=null===(M=n.interpreter)||void 0===M?void 0:M.version)||void 0===L?void 0:L.major)||(null===(A=null===(O=n.interpreter)||void 0===O?void 0:O.displayName)||void 0===A?void 0:A.toLowerCase().includes("python 3"))||(null===(R=null===(N=n.interpreter)||void 0===N?void 0:N.displayName)||void 0===R?void 0:R.toLowerCase().includes("python3"))||(null===(B=null===(F=n.interpreter)||void 0===F?void 0:F.path)||void 0===B?void 0:B.toLowerCase().includes("python3"))||s.argv[0].toLocaleLowerCase().includes("python3"))&&(l+=1,d+=1,p.traceInfo(`findPreferredKernel score for Python3, ${x(n)} is ${l}`)),!(null==r?void 0:r.kernelspec)&&i&&s.interpreterPath===(null==i?void 0:i.path)&&(l+=10)}p.traceInfo(`findPreferredKernel score for ${x(n)} is ${l}`),2===d&&2===l&&("startUsingPythonInterpreter"===n.kind||"startUsingKernelSpec"===n.kind&&n.kernelSpec.language===a.PYTHON_LANGUAGE)&&h>=0&&u<=2?U=h:l>u&&(U=t,u=l)}}return U<0&&(U=e.findIndex(e=>"startUsingKernelSpec"===e.kind?n.find(t=>t===e.kernelSpec.language):"connectToLiveKernel"===e.kind&&n.find(t=>t===e.kernelModel.language))),U>=0?e[U]:void 0},t.sendTelemetryForPythonKernelExecutable=async function(e,t,n,r){if(n.interpreter&&k(n)&&("startUsingKernelSpec"===n.kind||"startUsingPythonInterpreter"===n.kind)){try{p.traceInfoIf(a.isCI,"Begin sendTelemetryForPythonKernelExecutable");const i=await w.executeSilently(e.session,"import sys\nprint(sys.executable)");if(0===i.length)return;const o=i[0];if("stdout"!==o.name&&"stream"!==o.output_type)return;const s=d.concatMultilineString(o.text).trim().toLowerCase(),c=n.interpreter.path.toLowerCase()===s;if(c)return h.sendTelemetryEvent(u.Telemetry.PythonKerneExecutableMatches,void 0,{match:c?"true":"false",kernelConnectionType:n.kind}),void g.trackKernelResourceInformation(v.Uri.file(t),{interpreterMatchesKernel:c});const l=await r.createActivatedEnvironment({interpreter:n.interpreter,allowEnvironmentFetchExceptions:!0,bypassCondaExecution:!0}),f=await l.exec(["-c","import sys;print(sys.executable)"],{throwOnStdErr:!1});if(f.stdout.trim().length>0){const e=f.stdout.trim().toLowerCase()===s;h.sendTelemetryEvent(u.Telemetry.PythonKerneExecutableMatches,void 0,{match:e?"true":"false",kernelConnectionType:n.kind}),g.trackKernelResourceInformation(v.Uri.file(t),{interpreterMatchesKernel:e})}}catch(e){}p.traceInfoIf(a.isCI,"End sendTelemetryForPythonKernelExecutable")}}},function(e,t,n){"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:n(741)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAssociatedNotebookDocument=t.hasErrorOutput=t.getTextOutputValue=t.translateErrorOutput=t.translateCellDisplayOutput=t.translateCellErrorOutput=t.getOutputStreamType=t.isStreamOutput=t.cellOutputToVSCCellOutput=t.createVSCCellOutputsFromOutputs=t.createVSCNotebookCellDataFromCell=t.traceCellMessage=t.NotebookCellStateTracker=t.getNotebookCellMetadata=t.createJupyterCellFromVSCNotebookCell=t.notebookModelToVSCNotebookData=t.isPythonNotebook=t.updateNotebookDocumentMetadata=t.getNotebookMetadata=t.isResourceNativeNotebook=t.isJupyterNotebook=void 0;const r=n(1),i=n(62),o=n(14);n(15);const s=n(4),a=n(8),c=n(5),l=n(429),u=n(100),d=n(127),h=n(115);function p(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom;return JSON.parse(JSON.stringify((null==n?void 0:n.metadata)||{}))}function f(e){const t={};return["metadata","attachments"].forEach(n=>{e[n]&&(t[n]=d(e[n]))}),t}t.isJupyterNotebook=function(e){return"string"==typeof e?e===u.JupyterNotebookView||e===u.InteractiveWindowView:e.notebookType===u.JupyterNotebookView||e.notebookType===u.InteractiveWindowView},t.isResourceNativeNotebook=function(e,t,n){return!!e&&t.notebookDocuments.some(t=>n.arePathsSame(t.uri,e))},t.getNotebookMetadata=p,t.updateNotebookDocumentMetadata=async function(e,t,n,i){let o=p(e)||{orig_nbformat:3};const{changed:s}=l.updateNotebookMetadata(o,n,i);if(s){const n=new r.WorkspaceEdit,i=JSON.parse(JSON.stringify(e.metadata||{custom:{}}));i.custom=i.custom||{},i.custom.metadata=o,n.replaceNotebookMetadata(e.uri,{...e.metadata||{},custom:i.custom}),await t.applyEdit(n)}},t.isPythonNotebook=function(e){var t,n;const r=null==e?void 0:e.kernelspec;return(!(null===(t=null==e?void 0:e.language_info)||void 0===t?void 0:t.name)||e.language_info.name===o.PYTHON_LANGUAGE)&&(!!(null==r?void 0:r.name.includes(o.PYTHON_LANGUAGE))||((null==r?void 0:r.language)===o.PYTHON_LANGUAGE||(null===(n=null==e?void 0:e.language_info)||void 0===n?void 0:n.name)===o.PYTHON_LANGUAGE))},t.notebookModelToVSCNotebookData=function(e,t,n,i){const o=t.map(e=>y(n,e)).filter(e=>!!e).map(e=>e);0===o.length&&0===Object.keys(i).length&&o.push(new r.NotebookCellData(r.NotebookCellKind.Code,"",n));const s=new r.NotebookData(o);return s.metadata={custom:e},s},t.createJupyterCellFromVSCNotebookCell=function(e){let t;return t=e.kind===r.NotebookCellKind.Markup?function(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom,r={cell_type:"markdown",source:i.splitMultilineString("document"in e?e.document.getText():e.value),metadata:(null==n?void 0:n.metadata)||{}};(null==n?void 0:n.attachments)&&(r.attachments=n.attachments);return r}(e):"document"in e&&"raw"===e.document.languageId||"languageId"in e&&"raw"===e.languageId?function(e){var t;const n=null===(t=e.metadata)||void 0===t?void 0:t.custom,r={cell_type:"raw",source:i.splitMultilineString("document"in e?e.document.getText():e.value),metadata:(null==n?void 0:n.metadata)||{}};(null==n?void 0:n.attachments)&&(r.attachments=n.attachments);return r}(e):function(e){var t,n,r;const o=null===(t=e.metadata)||void 0===t?void 0:t.custom,s="document"in e?e.document.getText():e.value;return{cell_type:"code",execution_count:null!==(r=null===(n=e.executionSummary)||void 0===n?void 0:n.executionOrder)&&void 0!==r?r:null,source:i.splitMultilineString(s),outputs:(e.outputs||[]).map(P),metadata:(null==o?void 0:o.metadata)||{}}}(e),t},t.getNotebookCellMetadata=f;const m=["application/vnd.*","application/vdom.*","application/geo+json","application/x-nteract-model-debug+json","text/html","application/javascript","image/gif","text/latex","text/markdown","image/png","image/svg+xml","image/jpeg","application/json","text/plain"];function g(e){if(e.mime.startsWith("application/vnd."))try{return 0===Buffer.from(e.data).toString().length}catch(e){}return!1}class v{static getCellState(e){return v.cellStates.get(e)}static setCellState(e,t){v.cellStates.set(e,t)}}function y(e,t){switch(t.cell_type){case"raw":return function(e){const t=new r.NotebookCellData(r.NotebookCellKind.Code,i.concatMultilineString(e.source),"raw");return t.outputs=[],t.metadata={custom:f(e)},t}(t);case"markdown":return function(e){const t=new r.NotebookCellData(r.NotebookCellKind.Markup,i.concatMultilineString(e.source),o.MARKDOWN_LANGUAGE);return t.outputs=[],t.metadata={custom:f(e)},t}(t);case"code":return function(e,t){const n=b(Array.isArray(e.outputs)?e.outputs:[]),o="number"==typeof e.execution_count&&e.execution_count>0,s=i.concatMultilineString(e.source),a=o?{executionOrder:e.execution_count}:{},c=new r.NotebookCellData(r.NotebookCellKind.Code,s,t);return c.outputs=n,c.metadata={custom:f(e)},c.executionSummary=a,c}(t,e);default:s.traceError("Conversion of Cell into VS Code NotebookCell not supported "+t.cell_type)}}function b(e){return(Array.isArray(e)?e:[]).map(w)}t.NotebookCellStateTracker=v,v.cellStates=new WeakMap,t.traceCellMessage=function(e,t){var n;s.traceInfoIf(o.isCI,`Cell Index:${e.index}, state:${v.getCellState(e)}, exec: ${null===(n=e.executionSummary)||void 0===n?void 0:n.executionOrder}. ${t}`)},t.createVSCNotebookCellDataFromCell=y,t.createVSCCellOutputsFromOutputs=b;const _=new Map;function w(e){const t=_.get(e.output_type);let n;return t?n=t(e):(s.traceWarning(`Unable to translate cell from ${e.output_type} to NotebookCellData for VS Code.`),n=E(e)),n}function S(e){const t={outputType:e.output_type};switch(e.transient&&(t.transient=e.transient),e.output_type){case"display_data":case"execute_result":case"update_display_data":t.executionCount=e.execution_count,t.metadata=e.metadata?d(e.metadata):{}}return t}function E(e){const t=S(e);("image/svg+xml"in e.data||"image/png"in e.data)&&(t.__displayOpenPlotIcon=!0);const n=[];if(e.data)for(const t in e.data)n.push(I(t,e.data[t]));return new r.NotebookCellOutput(n.sort((e,t)=>{const n=(e,t)=>(e.endsWith(".*")&&(e=e.substr(0,e.indexOf(".*"))),t.startsWith(e));let r=m.findIndex(t=>n(t,e.mime)),i=m.findIndex(e=>n(e,t.mime));return g(e)&&(r=-1),g(t)&&(i=-1),r=-1==r?100:r,i=-1==i?100:i,r-i}),t)}function x(e){if(e.items.length>0)return e.items[0].mime===h.CellOutputMimeTypes.stderr?"stderr":"stdout"}function C(e){var t;const n=e.items[0];if(!n.data)return{output_type:"error",ename:"",evalue:"",traceback:[]};const r=null===(t=e.metadata)||void 0===t?void 0:t.originalError,o=JSON.parse(Buffer.from(n.data).toString("utf8"));return{output_type:"error",ename:o.name,evalue:o.message,traceback:(null==r?void 0:r.traceback)||i.splitMultilineString(o.stack||o.message||"")}}_.set("display_data",E),_.set("error",j),_.set("execute_result",E),_.set("stream",(function(e){const t=i.concatMultilineString(e.text),n="stderr"===e.name?r.NotebookCellOutputItem.stderr:r.NotebookCellOutputItem.stdout;return new r.NotebookCellOutput([n(t)],S(e))})),_.set("update_display_data",E),t.cellOutputToVSCCellOutput=w,t.isStreamOutput=function(e,t){const n=e.metadata;return"stream"===(null==n?void 0:n.outputType)&&x(e)===t},t.getOutputStreamType=x,t.translateCellErrorOutput=C;const k=new TextDecoder,D=["text/plain","text/markdown",h.CellOutputMimeTypes.stderr,h.CellOutputMimeTypes.stdout];function T(e,t){if(!t)return"";try{if(e===h.CellOutputMimeTypes.error){const e=k.decode(t);return JSON.parse(e)}if(e.startsWith("text/")||D.includes(e)){const e=k.decode(t);return i.splitMultilineString(e)}if(e.startsWith("image/")&&"image/svg+xml"!==e){if("undefined"!=typeof Buffer&&"function"==typeof Buffer.from)return Buffer.from(t).toString("base64");{const e=k.decode(t);return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number.parseInt("0x"+t))})))}}if(e.toLowerCase().includes("json")){const e=k.decode(t);return e.length>0?JSON.parse(e):e}return k.decode(t)}catch(n){return s.traceError(`Failed to convert ${e} output from a buffer ${typeof t}, ${t}`,n),""}}function I(e,t){if(!t)return r.NotebookCellOutputItem.text("",e);try{if(!e.startsWith("text/")&&!D.includes(e)||!Array.isArray(t)&&"string"!=typeof t){if(e.startsWith("image/")&&"string"==typeof t&&"image/svg+xml"!==e){if("undefined"!=typeof Buffer&&"function"==typeof Buffer.from)return new r.NotebookCellOutputItem(Buffer.from(t,"base64"),e);{const n=Uint8Array.from(atob(t),e=>e.charCodeAt(0));return new r.NotebookCellOutputItem(n,e)}}return"object"!=typeof t||null===t||Array.isArray(t)?(t=Array.isArray(t)?i.concatMultilineString(t):t,r.NotebookCellOutputItem.text(t,e)):r.NotebookCellOutputItem.text(JSON.stringify(t),e)}{const n=Array.isArray(t)?i.concatMultilineString(t):t;return r.NotebookCellOutputItem.text(n,e)}}catch(n){return s.traceError(`Failed to convert ${e} output to a buffer ${typeof t}, ${t}`,n),r.NotebookCellOutputItem.text("")}}function M(e){const t=[];e.items.filter(e=>e.mime===h.CellOutputMimeTypes.stderr||e.mime===h.CellOutputMimeTypes.stdout).map(e=>k.decode(e.data)).forEach(e=>{const n=e.split("\n");t.length&&n.length&&n[0].length>0&&(t[t.length-1]=`${t[t.length-1]}${n.shift()}`);for(const e of n)t.push(e)});for(let e=0;e<t.length-1;e++)t[e]=t[e]+"\n";t.length&&0===t[t.length-1].length&&t.pop();return{output_type:"stream",name:x(e)||"stdout",text:t}}function P(e){const t=e.metadata;let n;switch(null==t?void 0:t.outputType){case"error":n=C(e);break;case"stream":n=M(e);break;case"display_data":n={output_type:"display_data",data:e.items.reduce((e,t)=>(e[t.mime]=T(t.mime,t.data),e),{}),metadata:(null==t?void 0:t.metadata)||{}};break;case"execute_result":n={output_type:"execute_result",data:e.items.reduce((e,t)=>(e[t.mime]=T(t.mime,t.data),e),{}),metadata:(null==t?void 0:t.metadata)||{},execution_count:"number"==typeof(null==t?void 0:t.executionCount)?null==t?void 0:t.executionCount:null};break;case"update_display_data":n={output_type:"update_display_data",data:e.items.reduce((e,t)=>(e[t.mime]=T(t.mime,t.data),e),{}),metadata:(null==t?void 0:t.metadata)||{}};break;default:{const r=1===e.items.length&&e.items.every(e=>e.mime===h.CellOutputMimeTypes.error),i=e.items.every(e=>e.mime===h.CellOutputMimeTypes.stderr||e.mime===h.CellOutputMimeTypes.stdout);if(r)return C(e);const o=(null==t?void 0:t.outputType)||(i?"stream":"display_data");let s;if(a.sendTelemetryEvent(c.Telemetry.VSCNotebookCellTranslationFailed,void 0,{isErrorOutput:"error"===o}),"stream"===o)s=M(e);else if("display_data"===o){s={data:{},metadata:{},output_type:"display_data"}}else s={output_type:o};(null==t?void 0:t.metadata)&&(s.metadata=t.metadata),e.items.length>0&&(s.data=e.items.reduce((e,t)=>(e[t.mime]=T(t.mime,t.data),e),{})),n=s;break}}return n&&t&&t.transient&&(n.transient=t.transient),n}function j(e){return e=e||{output_type:"error",ename:"",evalue:"",traceback:[]},new r.NotebookCellOutput([r.NotebookCellOutputItem.error({name:(null==e?void 0:e.ename)||"",message:(null==e?void 0:e.evalue)||"",stack:((null==e?void 0:e.traceback)||[]).join("\n")})],{...S(e),originalError:e})}t.translateCellDisplayOutput=P,t.translateErrorOutput=j,t.getTextOutputValue=function(e){const t=e.items.find(e=>e.mime===h.CellOutputMimeTypes.stdout||e.mime===h.CellOutputMimeTypes.stderr||"text/plain"===e.mime||"text/markdown"===e.mime);if(t){const e=T(t.mime,t.data);return Array.isArray(e)?e.join(""):e}return""},t.hasErrorOutput=function(e){return!!e.find(e=>e.items.length&&!e.items.some(e=>e.mime!==h.CellOutputMimeTypes.error))},t.findAssociatedNotebookDocument=function(e,t,n){return t.notebookDocuments.find(t=>t.getCells().some(t=>n.arePathsSame(t.document.uri,e)))}},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILanguageServerProvider=t.IPythonDebuggerPathProvider=t.IPythonInstaller=t.JupyterProductToInstall=t.IPythonExtensionChecker=t.IPythonApiProvider=void 0,t.IPythonApiProvider=Symbol("IPythonApi"),t.IPythonExtensionChecker=Symbol("IPythonExtensionChecker"),function(e){e.jupyter="jupyter",e.ipykernel="ipykernel",e.notebook="notebook",e.kernelspec="kernelspec",e.nbconvert="nbconvert",e.pandas="pandas"}(t.JupyterProductToInstall||(t.JupyterProductToInstall={})),t.IPythonInstaller=Symbol("IPythonInstaller"),t.IPythonDebuggerPathProvider=Symbol("IPythonDebuggerPathProvider"),t.ILanguageServerProvider=Symbol("ILanguageServerProvider")},function(e,t,n){try{var r=n(18);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(760)}},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCategory=t.WrappedError=t.BaseError=void 0;const r=n(28);class i extends Error{constructor(e,t){super(t),this.category=e}}t.BaseError=i;class o extends i{constructor(e,t){super(s(t),e),this.originalException=t,t&&(this.stack=`${new Error("").stack}${r.EOL}${r.EOL}${t.stack}`)}static from(e,t){return t instanceof i?t:new o(e,t)}}function s(e){return e&&e instanceof i?e.category:"unknown"}t.WrappedError=o,t.getErrorCategory=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0;t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterService=void 0,t.IInterpreterService=Symbol("IInterpreterService")},function(e,t,n){var r=n(84),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t){e.exports=require("events")},function(e,t,n){var r,i,o=n(25),s=n(900),a=n(901),c=n(902),l=n(18);function u(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var d=function(){};if(l.debuglog?d=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var h=global[r]||[];u(o,h),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(o[r]),n(109).equal(o[r].length,0)}))}function p(e){s(e),e.gracefulify=p,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),m()):f([e,[n,r,i]])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),m()):f([e,[t,r,i,o]])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),m()):f([e,[t,n,i,o]])}))}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){"function"==typeof n&&(r=n,n=0);return i(e,t,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof r&&r.apply(this,arguments),m()):f([i,[e,t,n,r]])}))});var o=e.readdir;function c(t){return o.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),m()):f([c,[r]])})),c(r)},"v0.8"===process.version.substr(0,4)){var l=a(e);v=l.ReadStream,y=l.WriteStream}var u=e.ReadStream;u&&(v.prototype=Object.create(u.prototype),v.prototype.open=function(){var e=this;_(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var d=e.WriteStream;d&&(y.prototype=Object.create(d.prototype),y.prototype.open=function(){var e=this;_(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return v},set:function(e){v=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=v;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var g=y;function v(e,t){return this instanceof v?(u.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}function y(e,t){return this instanceof y?(d.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0});var b=e.open;function _(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return b(t,n,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),m()):f([e,[t,n,r,i]])}))}(e,t,n,r)}return e.open=_,e}function f(e){d("ENQUEUE",e[0].name,e[1]),o[r].push(e)}function m(){var e=o[r].shift();e&&(d("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}global[r]||u(global,o[r]),e.exports=p(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=p(o),o.__patched=!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cancellation=t.wrapCancellationTokens=t.createPromiseFromCancellation=t.CancellationError=void 0;const r=n(1),i=n(29),o=n(19),s=n(10);class a extends i.BaseError{constructor(){super("cancelled",s.Common.canceled())}}t.CancellationError=a,t.createPromiseFromCancellation=function(e){return new Promise((t,n)=>{if(!e.token)return;e.token.onCancellationRequested(()=>{if(e.token.isCancellationRequested){if("resolve"===e.cancelAction)return t(e.defaultValue);if("reject"===e.cancelAction)return n(new a)}})})},t.wrapCancellationTokens=function(...e){const t=new r.CancellationTokenSource;for(const n of e)if(n){if(n.isCancellationRequested)return n;n.onCancellationRequested(()=>t.cancel())}return t.token},function(e){function t(e){return!!e&&e.isCancellationRequested}e.race=function(e,t){if(t){const n=o.createDeferred();return t.onCancellationRequested(()=>{n.completed||n.reject(new a)}),t.isCancellationRequested?n.reject(new a):e(t).then(e=>{n.completed||n.resolve(e)}).catch(e=>{n.completed||n.reject(e)}),n.promise}return e()},e.isCanceled=t,e.throwIfCanceled=function(e){if(t(e))throw new a}}(t.Cancellation||(t.Cancellation={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405),i=n(405);t.makePatchingRequire=i.makePatchingRequire;var o=function(e){return!0},s=function(){function e(){this.version=n(825).version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=o);var r=this.subscribers[e];if(r)for(var i=0;i<r.length;++i)if(r[i].listener===t&&r[i].filter===n)return r.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new s,n(406).prototype.require=r.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));t.channel=global.diagnosticsSource},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StdErrError=t.IPythonExecutionService=t.isDaemonPoolCreationOption=t.IPythonExecutionFactory=t.IProcessServiceFactory=t.IProcessLogger=t.IBufferDecoder=void 0;const r=n(29);t.IBufferDecoder=Symbol("IBufferDecoder"),t.IProcessLogger=Symbol("IProcessLogger"),t.IProcessServiceFactory=Symbol("IProcessServiceFactory"),t.IPythonExecutionFactory=Symbol("IPythonExecutionFactory"),t.isDaemonPoolCreationOption=function(e){return!("dedicated"in e)||!0!==e.dedicated},t.IPythonExecutionService=Symbol("IPythonExecutionService");class i extends r.BaseError{constructor(e){super("unknown",e)}}t.StdErrError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IServiceContainer=t.IServiceManager=void 0,t.IServiceManager=Symbol("IServiceManager"),t.IServiceContainer=Symbol("IServiceContainer")},function(e,t,n){var r=n(1139),i=n(1140);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n(11),i=n(12),o=n(20),s=n(21),a=n(67),c=n(158),l=n(102),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.b(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.b(t,e),t.prototype[l.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new c.a(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.a),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.b(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11),i=n(20);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.b(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}(this,l(t).call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n"))),Error.captureStackTrace(i(i(n)),t),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),t}(o(Error));e.exports=function(e){if(e.length>2)throw new u(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function n(e){return new t(e)}return t.prototype.transform=e,n.Format=t,n}},function(e,t,n){"use strict";var r=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();e.exports=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1252)),r(n(1253)),r(n(1254)),r(n(516)),r(n(1255)),r(n(1256))},function(e,t,n){"use strict";class r extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,r)}}e.exports=e=>{if(e.length>2)throw new r(e);function t(e={}){this.options=e}function n(e){return new t(e)}return t.prototype.transform=e,n.Format=t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendNotebookOrKernelLanguageTelemetry=t.parseSemVer=t.tryGetRealPath=t.generateNewNotebookUri=t.translateKernelLanguageToMonaco=t.traceCellResults=t.pruneCell=t.getResourceType=t.AllowedCellOutputKeys=void 0;const r=n(28),i=n(97),o=n(108),s=n(1),a=n(62),c=n(4),l=n(10),u=n(8),d=n(5),h=n(68);function p(e){let n;switch(e.output_type){case"stream":case"error":case"execute_result":case"display_data":n=t.AllowedCellOutputKeys[e.output_type];break;default:return e}const r={...e};for(const t of Object.keys(e))n.has(t)||delete r[t];return r}t.AllowedCellOutputKeys={stream:new Set(Object.keys({output_type:"stream",name:"stdout",text:""})),error:new Set(Object.keys({output_type:"error",ename:"",evalue:"",traceback:[""]})),display_data:new Set(Object.keys({output_type:"display_data",data:{},metadata:{}})),execute_result:new Set(Object.keys({output_type:"execute_result",name:"",execution_count:0,data:{},metadata:{}}))},t.getResourceType=function(e){return e&&e.fsPath.toLowerCase().endsWith("ipynb")?"notebook":"interactive"},t.pruneCell=function(e){const t={...e,source:a.splitMultilineString(e.source)};return"code"!==t.cell_type?(delete t.outputs,delete t.execution_count):t.outputs=t.outputs?t.outputs.map(p):[],t},t.traceCellResults=function(e,t){if(t.length>0&&"code"===t[0].data.cell_type){const n=t[0].data,r=n.outputs&&n.outputs[0]?n.outputs[0].evalue:void 0;if(r)c.traceError(`${e} Error : ${r}`);else if(n.outputs&&n.outputs[0])if(n.outputs[0].output_type.includes("image"))c.traceInfo(e+" Output: image");else{const t=n.outputs[0].data,r=n.outputs[0].text;c.traceInfo(`${e} Output: ${r||JSON.stringify(t)}`)}}else c.traceInfo(e+" no output.")},t.translateKernelLanguageToMonaco=function(e){return 2===(e=e.toLowerCase()).length&&e.endsWith("#")?e.substring(0,1)+"sharp":d.jupyterLanguageToMonacoLanguageMapping.get(e)||e},t.generateNewNotebookUri=function(e,t,n){const i=`${l.DataScience.untitledNotebookFileName()}-${e}.ipynb`;return n?s.Uri.file(i).with({scheme:"untitled",path:i}):s.Uri.joinPath(t?s.Uri.file(t):s.Uri.file(r.tmpdir()),i).with({scheme:"untitled"})},t.tryGetRealPath=async function(e){try{return await i.realpath(e)}catch(t){return e}},t.parseSemVer=function(e){var t;const n=/^\s*(\d+)\.(\d+)\.(.+)\s*$/.exec(e);if(n&&n.length>2){const e=parseInt(n[1],10),r=parseInt(n[2],10),i=parseInt(n[3],10);return null!==(t=o.parse(`${e}.${r}.${i}`,!0))&&void 0!==t?t:void 0}},t.sendNotebookOrKernelLanguageTelemetry=function(e,t){t=h.getTelemetrySafeLanguage(t),u.sendTelemetryEvent(e,void 0,{language:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTrackedInformation=t.trackKernelResourceInformation=t.sendKernelTelemetryWhenDone=t.sendKernelTelemetryEvent=void 0;const r=n(127),i=n(129),o=n(8),s=n(32),a=n(5),c=n(439),l=n(13),u=n(54),d=n(14),h=n(440),p=n(68),f=n(130),m=n(400),g=n(19),v=new Map,y=i.getOSType(),b=new Map;function _(e,t){if(!e)return;const n=S(e),[r,i]=v.get(n)||[{resourceType:u.getResourceType(e)},{previouslySelectedKernelConnectionId:""}];t.restartKernel&&(r.interruptCount=0,r.restartCount=(r.restartCount||0)+1),t.interruptKernel&&(r.interruptCount=(r.interruptCount||0)+1),t.startFailed&&(r.startFailureCount=(r.startFailureCount||0)+1),r.kernelSpecCount=t.kernelSpecCount||r.kernelSpecCount||0,r.kernelLiveCount=t.kernelLiveCount||r.kernelLiveCount||0,r.kernelInterpreterCount=t.kernelInterpreterCount||r.kernelInterpreterCount||0,r.pythonEnvironmentCount=h.InterpreterCountTracker.totalNumberOfInterpreters;const o=t.kernelConnection;if(o){const n=o.id;let s;switch(i.previouslySelectedKernelConnectionId!==n&&(C(e),function(e){if(!e)return;const t=S(e),n=v.get(t);n&&(n[0].restartCount=0,n[0].startFailureCount=0)}(e)),i.previouslySelectedKernelConnectionId&&i.previouslySelectedKernelConnectionId!==n&&(r.switchKernelCount=(r.switchKernelCount||0)+1),t.kernelConnectionChanged&&(r.switchKernelCount=(r.switchKernelCount||0)+1),o.kind){case"connectToLiveKernel":s=o.kernelModel.language;break;case"startUsingKernelSpec":s=o.kernelSpec.language;break;case"startUsingPythonInterpreter":s=d.PYTHON_LANGUAGE}r.kernelLanguage=p.getTelemetrySafeLanguage(s),i.previouslySelectedKernelConnectionId=o.id;const a=o.interpreter;if(a){if(r.isUsingActiveInterpreter=c.WorkspaceInterpreterTracker.isActiveWorkspaceInterpreter(e,a),r.pythonEnvironmentType=a.envType,r.pythonEnvironmentPath=p.getTelemetrySafeHashedString(a.path),b.set(r.pythonEnvironmentPath,a),a.version){const{major:e,minor:t,patch:n}=a.version;r.pythonEnvironmentVersion=`${e}.${t}.${n}`}else r.pythonEnvironmentVersion=void 0;w(r)}r.kernelConnectionType=r.kernelConnectionType||(null==o?void 0:o.kind)}else i.previouslySelectedKernelConnectionId="";v.set(n,[r,i])}function w(e,t){if(!e.pythonEnvironmentPath)return;const n=g.createDeferred();e.waitBeforeSending=n.promise,t&&(t.waitBeforeSending=n.promise),async function(e){let t;t="interpreter"in e?e.interpreter:b.get(e.interpreterHash);if(!t)return"{}";const n=await f.InterpreterPackages.getPackageVersions(t).catch(()=>new Map);if(!n||0===n.size)return"{}";return JSON.stringify(Object.fromEntries(n))}({interpreterHash:e.pythonEnvironmentPath}).then(n=>{e.pythonEnvironmentPackages=n||e.pythonEnvironmentPackages,t&&(t.pythonEnvironmentPackages=n||t.pythonEnvironmentPackages)}).catch(()=>{}).finally(()=>{n.resolve(),e.waitBeforeSending=void 0,t&&(t.waitBeforeSending=void 0)})}function S(e){return y?e.fsPath.toLowerCase():e.fsPath}function E(e){if(!e)return{};const t=v.get(S(e)),n=u.getResourceType(e);if(!t&&n)return{resourceType:n};if(!t)return{};const i=r(t[0]);return w(t[0],i),i}function x(e,t,n){if(t===a.Telemetry.NotebookInterrupt){const t=n;t&&"result"in t&&t.result===l.InterruptResult.Success&&C(e)}if(t===a.Telemetry.NotebookRestart){const t=n;!(!t||!("failed"in t))&&t.failed||C(e)}}function C(e){if(!e)return;const t=S(e),n=v.get(t);n&&(n[0].interruptCount=0)}function k(e,t,n){if(t===a.Telemetry.NotebookStart){const t=n;t&&"failed"in t&&t.failed&&_(e,{startFailed:!0})}}t.sendKernelTelemetryEvent=function(e,t,n,r,i){t!==a.Telemetry.ExecuteCell&&t!==a.Telemetry.ExecuteNativeCell||o.setSharedProperty("userExecutedCell","true");const s=E(e);Object.assign(s,r||{}),o.sendTelemetryEvent(t,n,s,i,!0),x(e,t,s),k(e,t,s)},t.sendKernelTelemetryWhenDone=function(e,t,n,r,i){t!==a.Telemetry.ExecuteCell&&t!==a.Telemetry.ExecuteNativeCell||o.setSharedProperty("userExecutedCell","true");const c=i||{};r=r||new s.StopWatch,"function"==typeof n.then&&n.then(n=>{const s=E(e);return Object.assign(s,i||{}),o.sendTelemetryEvent(t,r.elapsedTime,s),n},n=>{const s=E(e);return Object.assign(s,i||{}),m.populateTelemetryWithErrorInfo(s,n),o.sendTelemetryEvent(t,r.elapsedTime,s,n,!0),k(e,t,s),Promise.reject(n)}).finally(()=>{x(e,t,c)})},t.trackKernelResourceInformation=_,t.deleteTrackedInformation=function(e){v.delete(S(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKernelProvider=t.NotebookCellRunState=void 0,function(e){e[e.Running=1]="Running",e[e.Idle=2]="Idle",e[e.Success=3]="Success",e[e.Error=4]="Error"}(t.NotebookCellRunState||(t.NotebookCellRunState={})),t.IKernelProvider=Symbol("IKernelProvider")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(91),o=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return r.connect(this,e,t)},e.prototype.disconnect=function(e,t){return r.disconnect(this,e,t)},e.prototype.emit=function(e){r.emit(this,e)},e}();t.Signal=o,function(e){e.disconnectBetween=function(e,t){r.disconnectBetween(e,t)},e.disconnectSender=function(e){r.disconnectSender(e)},e.disconnectReceiver=function(e){r.disconnectReceiver(e)},e.disconnectAll=function(e){r.disconnectAll(e)},e.clearData=function(e){r.disconnectAll(e)},e.getExceptionHandler=function(){return r.exceptionHandler},e.setExceptionHandler=function(e){var t=r.exceptionHandler;return r.exceptionHandler=e,t}}(o=t.Signal||(t.Signal={})),t.Signal=o,function(e){e.exceptionHandler=function(e){console.error(e)},e.connect=function(e,r,i){i=i||void 0;var o=t.get(e.sender);if(o||(o=[],t.set(e.sender,o)),s(o,e,r,i))return!1;var a=i||r,c=n.get(a);c||(c=[],n.set(a,c));var l={signal:e,slot:r,thisArg:i};return o.push(l),c.push(l),!0},e.disconnect=function(e,r,i){i=i||void 0;var o=t.get(e.sender);if(!o||0===o.length)return!1;var a=s(o,e,r,i);if(!a)return!1;var l=i||r,u=n.get(l);return a.signal=null,c(o),c(u),!0},e.disconnectBetween=function(e,r){var o=t.get(e);if(o&&0!==o.length){var s=n.get(r);s&&0!==s.length&&(i.each(s,(function(t){t.signal&&t.signal.sender===e&&(t.signal=null)})),c(o),c(s))}},e.disconnectSender=function(e){var r=t.get(e);r&&0!==r.length&&(i.each(r,(function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,c(n.get(t))}})),c(r))},e.disconnectReceiver=function(e){var r=n.get(e);r&&0!==r.length&&(i.each(r,(function(e){if(e.signal){var n=e.signal.sender;e.signal=null,c(t.get(n))}})),c(r))},e.disconnectAll=function(e){var r=t.get(e);r&&r.length>0&&(i.each(r,(function(e){e.signal=null})),c(r));var o=n.get(e);o&&o.length>0&&(i.each(o,(function(e){e.signal=null})),c(o))},e.emit=function(e,n){var r=t.get(e.sender);if(r&&0!==r.length)for(var i=0,o=r.length;i<o;++i){var s=r[i];s.signal===e&&a(s,n)}};var t=new WeakMap,n=new WeakMap,r=new Set,o="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function s(e,t,n,r){return i.find(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===r}))}function a(t,n){var r=t.signal,i=t.slot,o=t.thisArg;try{i.call(o,r.sender,n)}catch(t){e.exceptionHandler(t)}}function c(e){0===r.size&&o(l),r.add(e)}function l(){r.forEach(u),r.clear()}function u(e){i.ArrayExt.removeAllWhere(e,d)}function d(e){return null===e.signal}}(r||(r={}))},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(12),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));var i=r()},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseForComments=t.generateMarkdownFromCodeLines=t.appendLineFeed=t.formatStreamText=t.stripComments=t.removeLinesFromFrontAndBack=t.splitMultilineString=t.concatMultilineString=void 0;const r=n(9);function i(e,t){return e.map((n,r)=>{const i=t?t(n):n;return r===e.length-1?""+i:i+"\n"})}function o(e,t,n){let r,i,o=0;for(const s of e){const e=s.trim(),a=e.startsWith("'''")?"'''":e.startsWith('"""')?'"""':void 0,c=e.includes("'''")?"'''":e.includes('"""')?'"""':void 0;if(i)i===c&&(i=void 0),n(s,o);else if(r)r===a&&(r=void 0),r&&t(s,o);else if(c&&!a){const t=e.indexOf(c);i=e.lastIndexOf(c)!==t?void 0:c,n(s,o)}else if(a){const n=e.indexOf(a,3);r=n>=0?void 0:a,e.length>3&&t(e.slice(3,n>=0?n:void 0),o)}else e.startsWith("#")?t(e.slice(1),o):n(s,o);o+=1}}t.concatMultilineString=function(e,t){const n=/(^[\t\f\v\r ]+|[\t\f\v\r ]+$)/g;if(Array.isArray(e)){let r="";for(let t=0;t<e.length;t+=1){const n=e[t];r=t<e.length-1&&!n.endsWith("\n")?r.concat(n+"\n"):r.concat(n)}return t?r.replace(n,""):r}return t?e.toString().replace(n,""):e.toString()},t.splitMultilineString=function(e){if(Array.isArray(e))return e;const t=e.toString();if(t.length>0){const e=t.split("\n");return e.map((t,n)=>n<e.length-1?t+"\n":t).filter(e=>e.length>0)}return[]},t.removeLinesFromFrontAndBack=function(e){const t=e.splitLines({trim:!1,removeEmptyEntries:!1});let n=!1,r=-1,i=[];return o(t,(e,n)=>{i.push(t[n]),r=n},(e,o)=>{const s=e.trim();(n||s)&&(i.push(t[o]),n=!0),s&&(r=o)}),r<t.length-1&&(i=i.slice(0,i.length-(t.length-1-r))),i.join("\n")},t.stripComments=function(e){let t="";return o(e.splitLines({trim:!1,removeEmptyEntries:!1}),e=>r.noop,e=>t=t.concat(e+"\n")),t},t.formatStreamText=function(e){return function(e){let t="",n=0;for(let r=0;r<e.length;r+=1)"\r"===e[r]?r<e.length-1&&"\n"===e[r+1]?(t+=e.substr(n,r-n),t+="\n",n=r+2,r+=1):n=r+1:"\n"===e[r]&&(t+=e.substr(n,r-n+1),n=r+1);return t+=e.substr(n,e.length-n),t}(function(e){let t=e;do{t=(e=t).replace(/[^\n]\x08/gm,"")}while(t.length<e.length);return e}(e))},t.appendLineFeed=i,t.generateMarkdownFromCodeLines=function(e){return i(function(e){const t=[];return o(e,e=>t.push(e),e=>r.noop()),t}(e.slice(e.length>1?1:0)))},t.parseForComments=o},function(e,t,n){"use strict";var r,i=n(84),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),a.alloc||(a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},function(e,t,n){"use strict";var r=n(463),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1232)),r(n(1249)),r(n(1250)),r(n(1251)),r(n(1257)),r(n(1262)),r(n(518)),r(n(1264)),r(n(1265)),r(n(1267)),r(n(1307)),r(n(1308)),r(n(1309)),r(n(1311)),r(n(517))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTelemetrySafeHashedString=t.getTelemetrySafeVersion=t.getTelemetrySafeLanguage=void 0;const r=n(180),i=n(4),o=n(5);function s(e){return r.sha256().update(e).digest("hex")}t.getTelemetrySafeLanguage=function(e="unknown"){return e=(e||"unknown").toLowerCase(),e=o.KnownKernelLanguageAliases.get(e)||e,o.VSCodeKnownNotebookLanguages.includes(e)||"unknown"==e||(e=s(e)),e},t.getTelemetrySafeVersion=function(e){try{const[t,n,r]=(e.trim()+"...").split(".").map(e=>parseInt(e,10));if(isNaN(t))return;return isNaN(n)?t.toString():isNaN(r)?`${t}.${n}`:`${t}.${n}.${r}`}catch(t){i.traceError("Failed to parse version "+e,t)}},t.getTelemetrySafeHashedString=s},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=(e,r)=>{if(e)return n(e);t(r)},arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)}),"name",{value:e.name})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(857)),r(n(411)),r(n(872))},function(e,t,n){"use strict";const r=(0,n(69).fromCallback)(n(906)),i=n(907);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInteractiveWindowMapping=t.SysInfoReason=t.IPyWidgetMessages=t.InteractiveWindowMessages=void 0;const r=n(187);var i,o;!function(e){e.FinishCell="finish_cell",e.RestartKernel="restart_kernel",e.Interrupt="interrupt",e.SettingsUpdated="settings_updated",e.Started="started",e.ConvertUriForUseInWebViewRequest="ConvertUriForUseInWebViewRequest",e.ConvertUriForUseInWebViewResponse="ConvertUriForUseInWebViewResponse",e.Activate="activate",e.ShowDataViewer="show_data_explorer",e.GetVariablesRequest="get_variables_request",e.GetVariablesResponse="get_variables_response",e.VariableExplorerToggle="variable_explorer_toggle",e.SetVariableExplorerHeight="set_variable_explorer_height",e.VariableExplorerHeightResponse="variable_explorer_height_response",e.ForceVariableRefresh="force_variable_refresh",e.UpdateVariableViewExecutionCount="update_variable_view_execution_count",e.Sync="sync_message_used_to_broadcast_and_sync_editors",e.OpenLink="open_link",e.SavePng="save_png",e.NotebookClose="close",e.NativeCommand="native_command",e.VariablesComplete="variables_complete",e.ExecutionRendered="rendered_execution",e.SelectKernel="select_kernel",e.SelectJupyterServer="select_jupyter_server",e.UpdateModel="update_model",e.ReceivedUpdateModel="received_update_model",e.OpenSettings="open_settings",e.IPyWidgetLoadSuccess="ipywidget_load_success",e.IPyWidgetLoadFailure="ipywidget_load_failure",e.IPyWidgetRenderFailure="ipywidget_render_failure",e.IPyWidgetUnhandledKernelMessage="ipywidget_unhandled_kernel_message",e.IPyWidgetWidgetVersionNotSupported="ipywidget_widget_version_not_supported",e.KernelIdle="kernel_idle",e.UpdateExternalCellButtons="update_external_cell_buttons",e.ExecuteExternalCommand="execute_external_command",e.GetHTMLByIdRequest="get_html_by_id_request",e.GetHTMLByIdResponse="get_html_by_id_response"}(i=t.InteractiveWindowMessages||(t.InteractiveWindowMessages={})),function(e){e.IPyWidgets_IsReadyRequest="IPyWidgets_IsReadyRequest",e.IPyWidgets_Ready="IPyWidgets_Ready",e.IPyWidgets_onRestartKernel="IPyWidgets_onRestartKernel",e.IPyWidgets_onKernelChanged="IPyWidgets_onKernelChanged",e.IPyWidgets_updateRequireConfig="IPyWidgets_updateRequireConfig",e.IPyWidgets_WidgetScriptSourceRequest="IPyWidgets_WidgetScriptSourceRequest",e.IPyWidgets_WidgetScriptSourceResponse="IPyWidgets_WidgetScriptSource_Response",e.IPyWidgets_msg="IPyWidgets_msg",e.IPyWidgets_binary_msg="IPyWidgets_binary_msg",e.IPyWidgets_msg_received="IPyWidgets_msg_received",e.IPyWidgets_iopub_msg_handled="IPyWidgets_iopub_msg_handled",e.IPyWidgets_kernelOptions="IPyWidgets_kernelOptions",e.IPyWidgets_registerCommTarget="IPyWidgets_registerCommTarget",e.IPyWidgets_RegisterMessageHook="IPyWidgets_RegisterMessageHook",e.IPyWidgets_ExtensionOperationHandled="IPyWidgets_ExtensionOperationHandled",e.IPyWidgets_RemoveMessageHook="IPyWidgets_RemoveMessageHook",e.IPyWidgets_MessageHookCall="IPyWidgets_MessageHookCall",e.IPyWidgets_MessageHookResult="IPyWidgets_MessageHookResult",e.IPyWidgets_mirror_execute="IPyWidgets_mirror_execute"}(o=t.IPyWidgetMessages||(t.IPyWidgetMessages={})),function(e){e[e.Start=0]="Start",e[e.Restart=1]="Restart",e[e.Interrupt=2]="Interrupt",e[e.New=3]="New",e[e.Connect=4]="Connect"}(t.SysInfoReason||(t.SysInfoReason={}));t.IInteractiveWindowMapping=class{},o.IPyWidgets_kernelOptions,o.IPyWidgets_WidgetScriptSourceRequest,o.IPyWidgets_WidgetScriptSourceResponse,o.IPyWidgets_Ready,o.IPyWidgets_onRestartKernel,o.IPyWidgets_onKernelChanged,o.IPyWidgets_registerCommTarget,o.IPyWidgets_binary_msg,o.IPyWidgets_msg,o.IPyWidgets_msg_received,o.IPyWidgets_iopub_msg_handled,o.IPyWidgets_RegisterMessageHook,o.IPyWidgets_ExtensionOperationHandled,o.IPyWidgets_RemoveMessageHook,o.IPyWidgets_MessageHookCall,o.IPyWidgets_MessageHookResult,o.IPyWidgets_mirror_execute,i.ForceVariableRefresh,i.UpdateVariableViewExecutionCount,i.FinishCell,i.RestartKernel,i.SelectKernel,i.SelectJupyterServer,i.OpenSettings,i.Interrupt,i.SettingsUpdated,i.Started,i.Activate,i.ShowDataViewer,i.GetVariablesRequest,i.GetVariablesResponse,i.VariableExplorerToggle,i.SetVariableExplorerHeight,i.VariableExplorerHeightResponse,r.CssMessages.GetCssRequest,r.CssMessages.GetCssResponse,i.OpenLink,i.SavePng,i.NotebookClose,i.Sync,i.NativeCommand,i.VariablesComplete,i.ExecutionRendered,i.UpdateModel,i.ReceivedUpdateModel,r.SharedMessages.UpdateSettings,r.SharedMessages.LocInit,i.IPyWidgetLoadSuccess,i.IPyWidgetLoadFailure,i.IPyWidgetWidgetVersionNotSupported,i.ConvertUriForUseInWebViewRequest,i.ConvertUriForUseInWebViewResponse,i.IPyWidgetRenderFailure,i.IPyWidgetUnhandledKernelMessage,i.KernelIdle,i.UpdateExternalCellButtons,i.ExecuteExternalCommand,i.GetHTMLByIdRequest,i.GetHTMLByIdResponse},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpyKernelNotInstalledError=t.PythonKernelDiedError=t.KernelProcessExited=t.KernelDiedError=t.IRemoteKernelFinder=t.ILocalKernelFinder=t.IKernelLauncher=void 0;const r=n(29);t.IKernelLauncher=Symbol("IKernelLauncher"),t.ILocalKernelFinder=Symbol("ILocalKernelFinder"),t.IRemoteKernelFinder=Symbol("IRemoteKernelFinder");class i extends r.WrappedError{constructor(e,t,n){super(e,n),this.stdErr=t}}t.KernelDiedError=i;class o extends r.BaseError{constructor(e=-1){super("kerneldied","Kernel process Exited"),this.exitCode=e}}t.KernelProcessExited=o;class s extends r.BaseError{constructor(e){super("kerneldied","exitCode"in e?`Kernel died with exit code ${e.exitCode}. ${e.reason}`:"Kernel died "+e.error.message),this.stdErr=e.stdErr,"exitCode"in e?(this.exitCode=e.exitCode,this.reason=e.reason):(this.exitCode=-1,this.reason=e.error.message,this.stack=e.error.stack,this.name=e.error.name)}}t.PythonKernelDiedError=s;class a extends r.BaseError{constructor(e,t){super("noipykernel",e),this.reason=t}}t.IpyKernelNotInstalledError=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(20).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(157),i=n(104),o=n(12);function s(e,t,n,s,a){if(void 0===a&&(a=new r.a(e,n,s)),!a.closed)return t instanceof o.a?t.subscribe(a):Object(i.a)(t)(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),i=n(104),o=n(255);function s(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},function(e,t,n){var r=n(370),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},function(e,t,n){"use strict";function r(e){return"function"==typeof e.iter?e.iter():new i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.iter=r,t.iterKeys=function(e){return new o(e)},t.iterValues=function(e){return new s(e)},t.iterItems=function(e){return new a(e)},t.iterFn=function(e){return new c(e)},t.each=function(e,t){for(var n,i=0,o=r(e);void 0!==(n=o.next());)if(!1===t(n,i++))return},t.every=function(e,t){for(var n,i=0,o=r(e);void 0!==(n=o.next());)if(!t(n,i++))return!1;return!0},t.some=function(e,t){for(var n,i=0,o=r(e);void 0!==(n=o.next());)if(t(n,i++))return!0;return!1},t.toArray=function(e){for(var t,n=0,i=[],o=r(e);void 0!==(t=o.next());)i[n++]=t;return i},t.toObject=function(e){for(var t,n=r(e),i={};void 0!==(t=n.next());)i[t[0]]=t[1];return i};var i=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();t.ArrayIterator=i;var o=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}},e}();t.KeyIterator=o;var s=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}},e}();t.ValueIterator=s;var a=function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}},e}();t.ItemIterator=a;var c=function(){function e(e){this._fn=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)},e}();t.FnIterator=c},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(95),i=new(n(94).a)(r.a)},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testOnlyMethod=t.trace=t.displayProgress=t.swallowExceptions=t.cache=t.makeDebounceAsyncDecorator=t.makeDebounceDecorator=t.debounceAsync=t.debounceSync=void 0;const r=n(1);n(15);const i=n(14),o=n(4),s=n(19),a=n(398),c=n(9),l=n(810);function u(e){return function(t,n,r){const i=r.value,o=l((function(){return i.apply(this,arguments)}),e,{});r.value=o}}function d(e){return function(t,n,r){const i=r.value,o={started:!1,deferred:void 0,timer:void 0};r.value=function(){const t=o.deferred;if(t&&o.started)return t.promise;const n=t&&t.completed,r=o.deferred=!t||n?s.createDeferred():t;return o.timer&&clearTimeout(o.timer),o.timer=setTimeout(async()=>{o.started=!0,i.apply(this).then(e=>{o.started=!1,r.resolve(e)}).catch(e=>{o.started=!1,r.reject(e)})},e||0),r.promise}}}t.debounceSync=function(e){return i.isTestExecution()&&(e=void 0),u(e)},t.debounceAsync=function(e){return i.isTestExecution()&&(e=void 0),d(e)},t.makeDebounceDecorator=u,t.makeDebounceAsyncDecorator=d;const h=a.getGlobalCacheStore();t.cache=function(e){return function(t,n,r){const s=r.value,c=`Cache_Method_Output_${"constructor"in t&&t.constructor.name?t.constructor.name:""}.${n}`;r.value=async function(...t){if(i.isTestExecution())return s.apply(this,t);const n=a.getCacheKeyFromFunctionArgs(c,t),r=h.get(n);if(r&&!r.expired)return o.traceVerbose("Cached data exists "+n),Promise.resolve(r.data);const l=s.apply(this,t);return l.then(t=>h.set(n,new a.DataWithExpiry(e,t))).ignoreErrors(),l}}},t.swallowExceptions=function(e){return function(t,n,r){const s=r.value,a=`Jupyter Extension (Error in ${e||n}, method:${n}):`;r.value=function(...e){try{const t=s.apply(this,e);if(t&&"function"==typeof t.then&&"function"==typeof t.catch)return t.catch(e=>{i.isTestExecution()||o.traceError(a,e)})}catch(e){if(i.isTestExecution())return;o.traceError(a,e)}}}},t.displayProgress=function(e,t=r.ProgressLocation.Window){return function(n,o,s){const a=s.value;s.value=async function(...n){const o={location:t,title:e},s=a.apply(this,n);return i.isTestExecution()||r.window.withProgress(o,()=>s),s}}},t.trace=function(e){return function(t,n,r){const i=r.value;return r.value=function(...n){const r={kind:"Class",name:t&&t.constructor?t.constructor.name:"",args:n},o=this;return c.tracing(t=>e(r,t),()=>i.apply(o,n))},r}},t.testOnlyMethod=function(){return function(e,t,n){const r=n.value;return n.value=function(...e){if(!i.isTestExecution())throw new Error(`Function: ${t} can only be called from test code`);return r.apply(this,e)},n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliceOperationSource=t.CheckboxState=t.PlatformErrors=t.EventName=void 0,function(e){e.EXTENSION_LOAD="EXTENSION.LOAD",e.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES="PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES",e.ENVFILE_VARIABLE_SUBSTITUTION="ENVFILE_VARIABLE_SUBSTITUTION",e.ENVFILE_WORKSPACE="ENVFILE_WORKSPACE",e.JUPYTER_EXPERIMENTS_OPT_IN_OUT="JUPYTER_EXPERIMENTS_OPT_IN_OUT",e.PLATFORM_INFO="PLATFORM.INFO",e.HASHED_PACKAGE_NAME="HASHED_PACKAGE_NAME",e.HASHED_PACKAGE_PERF="HASHED_PACKAGE_PERF",e.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST="OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST_EX",e.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR="OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR_EX",e.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS="OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS_EX"}(t.EventName||(t.EventName={})),function(e){e.FailedToParseVersion="FailedToParseVersion",e.FailedToDetermineOS="FailedToDetermineOS"}(t.PlatformErrors||(t.PlatformErrors={})),function(e){e.Checked="checked",e.Unchecked="unchecked"}(t.CheckboxState||(t.CheckboxState={})),function(e){e.Dropdown="dropdown",e.TextBox="textbox",e.Checkbox="checkbox"}(t.SliceOperationSource||(t.SliceOperationSource={}))},function(e,t,n){"use strict";var r=n(181),i=n(27);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=s(i)),n+=c(i.toString(16))}return n},t.zero2=a,t.zero8=c,t.join32=function(e,t,n,i){var o=n-t;r(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=l>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,s=(o<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,s,a){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+o>>>0)<o?1:0,e+n+i+s+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,s,a){return t+r+o+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,s,a,c,l){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+o>>>0)<o?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+i+s+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,s,a,c,l){return t+r+o+a+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(48),o=n(58),s=n(31),a=n(222),c=n(51),l=n(186),u=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++){n=o[s];if((n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[s].length);break}}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++){if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[l.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var o=r[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,l){n&&0===n.indexOf("//")&&(n="https:"+n);var u=s.parse(n),d=r({},a,{host:u.hostname,port:u.port,path:u.pathname}),h=void 0;if("https:"===u.protocol&&(h=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(h=t.proxyHttpUrl||void 0),h){0===h.indexOf("//")&&(h="http:"+h);var p=s.parse(h);"https:"===p.protocol?(c.info("Proxies that use HTTPS are not supported"),h=void 0):d=r({},d,{host:p.hostname,port:p.port||"80",path:n,headers:r({},d.headers,{Host:u.hostname})})}var f="https:"===u.protocol&&!h;return f&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(d.agent=e.tlsRestrictedAgent):d.agent=t.httpAgent,f?o.request(d,l):i.request(d,l)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(l.requestContextHeader,l.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=l.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(l.requestContextHeader,n+","+l.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=u},function(e,t){e.exports=require("./node_modules/@jupyterlab/services")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExportDialog=t.IExport=t.IExportManager=t.ExportFormat=void 0,function(e){e.pdf="pdf",e.html="html",e.python="python",e.ipynb="ipynb"}(t.ExportFormat||(t.ExportFormat={})),t.IExportManager=Symbol("IExportManager"),t.IExport=Symbol("IExport"),t.IExportDialog=Symbol("IExportDialog")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1233)),r(n(1234)),r(n(1235)),r(n(1236)),r(n(1237)),r(n(1238)),r(n(80)),r(n(1239)),r(n(1240)),r(n(1241)),r(n(1242)),r(n(1243)),r(n(1244)),r(n(1245)),r(n(1246)),r(n(1247)),r(n(1248))},function(e,t,n){"use strict";function r(e){return"function"==typeof e.iter?e.iter():new i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.iter=r,t.each=function(e,t){for(var n,i=0,o=r(e);void 0!==(n=o.next());)if(!1===t(n,i++))return},t.every=function(e,t){for(var n,i=0,o=r(e);void 0!==(n=o.next());)if(!t(n,i++))return!1;return!0},t.some=function(e,t){for(var n,i=0,o=r(e);void 0!==(n=o.next());)if(t(n,i++))return!0;return!1},t.toArray=function(e){for(var t,n=0,i=[],o=r(e);void 0!==(t=o.next());)i[n++]=t;return i};var i=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();t.ArrayIterator=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),i=n(162),o=n(167);function s(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11),i=n(135),o=function(e){function t(n,r){void 0===r&&(r=i.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.b(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.b(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.b(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(21).a))},function(e,t,n){"use strict";const r=t.format=n(53);function i(e,t){t=t||e,Object.defineProperty(r,e,{get:()=>n(745)(`./${t}.js`),configurable:!0})}t.levels=n(258),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,n){"use strict";const r=n(899),i={};r(i,n(418)),r(i,n(903)),r(i,n(421)),r(i,n(72)),r(i,n(223)),r(i,n(911)),r(i,n(915)),r(i,n(916)),r(i,n(917)),r(i,n(918)),r(i,n(924)),r(i,n(113)),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disposeAllDisposables=t.isNotInstalledError=void 0;const r=n(444);t.isNotInstalledError=function(e){const t=e;if(!("object"==typeof e&&null!==e))return!1;if(e instanceof r.ModuleNotInstalledError)return!0;const n=e.message.indexOf("No module named")>=0;return"ENOENT"===t.code||127===t.code||n},t.disposeAllDisposables=function(e=[]){for(;e.length;){const t=e.shift();if(t)try{t.dispose()}catch(e){}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWindowView=t.RendererExtensionDownloadUri=t.RendererExtensionId=t.JupyterNotebookRenderer=t.JupyterNotebookView=void 0,t.JupyterNotebookView="jupyter-notebook",t.JupyterNotebookRenderer="jupyter-notebook-renderer",t.RendererExtensionId="ms-toolsai.notebook-renderers",t.RendererExtensionDownloadUri="https://aka.ms/NotebookRendererDownloadLink",t.InteractiveWindowView="interactive"},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(162),i=n(159),o=n(160),s=n(250),a=n(163),c=n(164),l=n(122),u=n(60),d=n(66),h=function(e){if(e&&"function"==typeof e[d.a])return Object(s.a)(e);if(Object(a.a)(e))return Object(r.a)(e);if(Object(c.a)(e))return Object(i.a)(e);if(e&&"function"==typeof e[u.a])return Object(o.a)(e);var t=Object(l.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(30);function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MillisecondsInADay=t.HiddenFileFormatString=t.EXTENSION_ROOT_DIR=void 0;const r=n(6),i=r.basename(__dirname);t.EXTENSION_ROOT_DIR="client"===i?r.join(__dirname,"..",".."):r.join(__dirname,"..","..","..",".."),t.HiddenFileFormatString="_HiddenFile_{0}.py",t.MillisecondsInADay=864e5},function(e,t){var n;t=e.exports=q,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var l=s++;o[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var h=s++;o[h]="(?:"+o[a]+"|"+o[l]+")";var p=s++;o[p]="(?:"+o[c]+"|"+o[l]+")";var f=s++;o[f]="(?:-("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="(?:-?("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var y=s++,b="v?"+o[u]+o[f]+"?"+o[v]+"?";o[y]="^"+b+"$";var _="[v=\\s]*"+o[d]+o[m]+"?"+o[v]+"?",w=s++;o[w]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var E=s++;o[E]=o[c]+"|x|X|\\*";var x=s++;o[x]=o[a]+"|x|X|\\*";var C=s++;o[C]="[v=\\s]*("+o[x]+")(?:\\.("+o[x]+")(?:\\.("+o[x]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var k=s++;o[k]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[m]+")?"+o[v]+"?)?)?";var D=s++;o[D]="^"+o[S]+"\\s*"+o[C]+"$";var T=s++;o[T]="^"+o[S]+"\\s*"+o[k]+"$";var I=s++;o[I]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=s++;o[M]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[M]+"\\s+",i[P]=new RegExp(o[P],"g");var j=s++;o[j]="^"+o[M]+o[C]+"$";var L=s++;o[L]="^"+o[M]+o[k]+"$";var O=s++;o[O]="(?:\\^)";var A=s++;o[A]="(\\s*)"+o[O]+"\\s+",i[A]=new RegExp(o[A],"g");var N=s++;o[N]="^"+o[O]+o[C]+"$";var R=s++;o[R]="^"+o[O]+o[k]+"$";var F=s++;o[F]="^"+o[S]+"\\s*("+_+")$|^$";var B=s++;o[B]="^"+o[S]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[C]+")",i[U]=new RegExp(o[U],"g");var Y=s++;o[Y]="^\\s*("+o[C]+")\\s+-\\s+("+o[C]+")\\s*$";var W=s++;o[W]="^\\s*("+o[k]+")\\s+-\\s+("+o[k]+")\\s*$";var H=s++;o[H]="(<|>)?=?\\s*\\*";for(var V=0;V<35;V++)n(V,o[V]),i[V]||(i[V]=new RegExp(o[V]));function K(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[w]:i[y]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof q))return new q(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[w]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=K,t.valid=function(e,t){var n=K(e,t);return n?n.version:null},t.clean=function(e,t){var n=K(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),$(this.major,e.major)||$(this.minor,e.minor)||$(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return $(r,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new q(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(X(e,t))return null;var n=K(e),r=K(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=$;var J=/^[0-9]+$/;function $(e,t){var n=J.test(e),r=J.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function z(e,t,n){return new q(e,n).compare(new q(t,n))}function G(e,t,n){return z(e,t,n)>0}function Q(e,t,n){return z(e,t,n)<0}function X(e,t,n){return 0===z(e,t,n)}function Z(e,t,n){return 0!==z(e,t,n)}function ee(e,t,n){return z(e,t,n)>=0}function te(e,t,n){return z(e,t,n)<=0}function ne(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return X(e,n,r);case"!=":return Z(e,n,r);case">":return G(e,n,r);case">=":return ee(e,n,r);case"<":return Q(e,n,r);case"<=":return te(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function re(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return $(t,e)},t.major=function(e,t){return new q(e,t).major},t.minor=function(e,t){return new q(e,t).minor},t.patch=function(e,t){return new q(e,t).patch},t.compare=z,t.compareLoose=function(e,t){return z(e,t,!0)},t.rcompare=function(e,t,n){return z(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=G,t.lt=Q,t.eq=X,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=re;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,c,l,u,d,h){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(c)?"":se(l)?"<"+(+c+1)+".0.0":se(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,r){var i,o,s,a,c;switch(e=new q(e,r),t=new oe(t,r),n){case">":i=G,o=te,s=Q,a=">",c=">=";break;case"<":i=Q,o=ee,s=G,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,h=null;if(u.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),d=d||e,h=h||e,i(e.semver,d.semver,r)?d=e:s(e.semver,h.semver,r)&&(h=e)})),d.operator===a||d.operator===c)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[F]:i[B],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new q(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[W]:i[Y];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[P],"$1~")).replace(i[A],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[B],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[R]:i[N];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[L]:i[j];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[T]:i[D];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=se(i),l=c||se(o),u=l||se(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[H],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new q(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new q(r=e,n)))})),r},t.minVersion=function(e,t){e=new oe(e,t);var n=new q("0.0.0");if(e.test(n))return n;if(n=new q("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!G(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=K(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(i[I]);if(null==t)return null;return K(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDataViewer=t.IDataViewerFactory=t.ColumnType=t.DataViewerMessages=t.DataViewerRowStates=t.ColumnWarningSize=t.MaxStringCompare=t.CellFetchSizeSubsequent=t.CellFetchSizeFirst=t.CellFetchAllLimit=void 0;const r=n(187);t.CellFetchAllLimit=1e5,t.CellFetchSizeFirst=1e5,t.CellFetchSizeSubsequent=1e6,t.MaxStringCompare=200,t.ColumnWarningSize=1e3,function(e){e.Fetching="fetching",e.Skipped="skipped"}(t.DataViewerRowStates||(t.DataViewerRowStates={})),function(e){e.Started=r.SharedMessages.Started,e.UpdateSettings=r.SharedMessages.UpdateSettings,e.InitializeData="init",e.GetAllRowsRequest="get_all_rows_request",e.GetAllRowsResponse="get_all_rows_response",e.GetRowsRequest="get_rows_request",e.GetRowsResponse="get_rows_response",e.CompletedData="complete",e.GetSliceRequest="get_slice_request",e.RefreshDataViewer="refresh_data_viewer",e.SliceEnablementStateChanged="slice_enablement_state_changed"}(t.DataViewerMessages||(t.DataViewerMessages={})),function(e){e.String="string",e.Number="number",e.Bool="bool"}(t.ColumnType||(t.ColumnType={})),t.IDataViewerFactory=Symbol("IDataViewerFactory"),t.IDataViewer=Symbol("IDataViewer")},function(e,t,n){"use strict";const r=n(69).fromPromise,i=n(418);e.exports={pathExists:r((function(e){return i.access(e).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(43);function o(e,t,n,i,o){var s={},a="number"==typeof o,c=void 0!==o&&a?o.toString():n;if(a&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(s=Reflect.getMetadata(e,t));var l=s[c];if(Array.isArray(l))for(var u=0,d=l;u<d.length;u++){var h=d[u];if(h.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else l=[];l.push(i),s[c]=l,Reflect.defineMetadata(e,s,t)}function s(e,t){Reflect.decorate(e,t)}function a(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?s([a(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):s([e],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellOutputMimeTypes=t.INotebookControllerManager=t.INotebookKernelResolver=void 0,t.INotebookKernelResolver=Symbol("INotebookKernelResolver"),t.INotebookControllerManager=Symbol("INotebookControllerManager"),function(e){e.error="application/vnd.code.notebook.error",e.stderr="application/vnd.code.notebook.stderr",e.stdout="application/vnd.code.notebook.stdout"}(t.CellOutputMimeTypes||(t.CellOutputMimeTypes={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionSyncActivationService=t.IExtensionSingleActivationService=t.IPlatformData=t.PlatformName=t.IDownloadChannelRule=t.IExtensionActivationService=t.IExtensionActivationManager=void 0,t.IExtensionActivationManager=Symbol("IExtensionActivationManager"),t.IExtensionActivationService=Symbol("IExtensionActivationService"),t.IDownloadChannelRule=Symbol("IDownloadChannelRule"),function(e){e.Windows32Bit="win-x86",e.Windows64Bit="win-x64",e.Mac64Bit="osx-x64",e.Linux64Bit="linux-x64"}(t.PlatformName||(t.PlatformName={})),t.IPlatformData=Symbol("IPlatformData"),t.IExtensionSingleActivationService=Symbol("IExtensionSingleActivationService"),t.IExtensionSyncActivationService=Symbol("IExtensionSyncActivationService")},function(e,t,n){"use strict";let r;function i(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(i||(i={})),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportAction=t.disposeRegisteredReporters=t.registerReporter=void 0;const r=n(4),i=new Set;function o(e){try{i.forEach(t=>t.report(e))}catch(e){r.traceError("Failed to report progress",e)}}t.registerReporter=function(e){i.add(e)},t.disposeRegisteredReporters=function(){i.clear()},t.reportAction=function(e){return function(t,n,r){const i=r.value;r.value=async function(...t){return o({action:e,phase:"started"}),i.apply(this,t).finally(()=>{o({action:e,phase:"completed"})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReportableAction=void 0,function(e){e.KernelsGetKernelForLocalConnection="KernelsStartGetKernelForLocalConnection",e.KernelsGetKernelForRemoteConnection="KernelsGetKernelForRemoteConnection",e.KernelsRegisterKernel="KernelsRegisterKernel",e.KernelsGetKernelSpecs="KernelsGetKernelSpecs",e.NotebookStart="NotebookStart",e.NotebookConnect="NotebookConnect",e.JupyterSessionWaitForIdleSession="JupyterSessionWaitForIdleSession",e.RawKernelConnecting="RawKernelConnecting",e.CheckingIfImportIsSupported="CheckingIfImportIsSupported",e.InstallingMissingDependencies="InstallingMissingDependencies",e.ExportNotebookToPython="ExportNotebookToPython",e.PerformingExport="PerformingExport",e.ConvertingToPDF="ConvertingToPDF"}(t.ReportableAction||(t.ReportableAction={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1312)),r(n(655)),r(n(331)),r(n(1316)),r(n(134)),r(n(669)),r(n(671)),r(n(672)),r(n(673)),r(n(668))},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";const r=n(18),i=n(759),{LEVEL:o}=n(23),s=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",e=>{this.levels=e.levels,this.parent=e}),this.once("unpipe",e=>{e===this.parent&&(this.parent=null,this.close&&this.close())})};r.inherits(s,i),s.prototype._write=function(e,t,n){if(this.silent||!0===e.exception&&!this.handleExceptions)return n(null);const r=this.level||this.parent&&this.parent.level;if(!r||this.levels[r]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,n);let t,r;try{r=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!r){if(n(),t)throw t;return}return this.log(r,n)}return n(null)},s.prototype._writev=function(e,t){if(this.logv){const n=e.filter(this._accept,this);return n.length?this.logv(n,t):t(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let r,i;try{i=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(e){r=e}if(r||!i){if(e[n].callback(),r)throw t(null),r}else this.log(i,e[n].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const n=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&n&&!(this.levels[n]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLevel=t.resolveLevel=t.getLevelName=t.resolveLevelName=t.configLevels=t.LogLevel=void 0;const r=n(171);var i;!function(e){e[e.Error=40]="Error",e[e.Warn=30]="Warn",e[e.Info=20]="Info",e[e.Debug=10]="Debug",e[e.Trace=5]="Trace"}(i=t.LogLevel||(t.LogLevel={}));const o={[i.Error]:"ERROR",[i.Warn]:"WARNING",[i.Info]:"INFORMATION",[i.Debug]:"DEBUG",[i.Trace]:"DEBUG-TRACE"};t.configLevels={ERROR:0,WARNING:1,INFORMATION:2,DEBUG:4,"DEBUG-TRACE":5};const s={[i.Error]:"error",[i.Warn]:"warn",[i.Info]:"info",[i.Debug]:"debug",[i.Trace]:"silly"};function a(e){return o[e]}function c(e,n){let i;if(void 0===n)i=o;else if(n===t.configLevels)i=o;else{if(n!==r.config.npm.levels)return;i=s}for(const t of Object.keys(i))if("string"!=typeof t&&o[t]===e)return t}t.resolveLevelName=function(e,n){return void 0===n||n===t.configLevels?a(e):n===r.config.npm.levels?s[e]:void 0},t.getLevelName=a,t.resolveLevel=c,t.getLevel=function(e){return c(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.id=function(){return r++}},function(e,t,n){var r=n(956);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(968),i=n(971);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r;function i(e=process.platform){return/^win/.test(e)?r.Windows:/^darwin/.test(e)?r.OSX:/^linux/.test(e)?r.Linux:r.Unknown}function o(e){return process.env[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserHomeDir=t.getPathEnvironmentVariable=t.getEnvironmentVariable=t.getOSType=t.OSType=void 0,function(e){e.Unknown="Unknown",e.Windows="Windows",e.OSX="OSX",e.Linux="Linux"}(r=t.OSType||(t.OSType={})),t.getOSType=i,t.getEnvironmentVariable=o,t.getPathEnvironmentVariable=function(){return o("Path")||o("PATH")},t.getUserHomeDir=function(){return i()===r.Windows?o("USERPROFILE"):o("HOME")||o("HOMEPATH")}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPackages=void 0;const s=n(0),a=n(26),c=n(39),l=n(3),u=n(19),d=n(9),h=n(33),p=n(68),f=new Set(["ipykernel","ipython-genutils","jupyter","jupyter-client","jupyter-core","ipywidgets","nbconvert","nbformat","notebook","pyzmq","pyzmq32","tornado","traitlets"].map(e=>e.toLowerCase()));let m=r=class{constructor(e,t,n,i,o){this.pythonExtensionChecker=e,this.interpreterService=t,this.executionFactory=n,this.apiProvider=i,this.disposables=o,this.pendingInterpreterBeforeActivation=new Set,r.instance=this,this.apiProvider.onDidActivatePythonExtension(()=>this.pendingInterpreterBeforeActivation.forEach(e=>this.trackPackages(e)),this,this.disposables)}static getPackageVersions(e){let t=r.interpreterInformation.get(e.path);return t||(t=u.createDeferred(),r.interpreterInformation.set(e.path,t),r.instance&&r.instance.trackInterpreterPackages(e).catch(d.noop)),t.promise}static async getPackageVersion(e,t){const n=await r.getPackageVersions(e),i=p.getTelemetrySafeHashedString(t.toLocaleLowerCase());if(!n.has(i))return;const o=n.get(i);return o?"NOT INSTALLED"===o?void 0:o:void 0}trackPackages(e,t){this.trackPackagesInternal(e,t).catch(d.noop)}async trackPackagesInternal(e,t){if(!this.pythonExtensionChecker.isPythonExtensionActive)return void this.pendingInterpreterBeforeActivation.add(e);let n;if(d.isResource(e)){const t=await this.interpreterService.getActiveInterpreter(e);if(!t)return;n=t}else n=e;this.trackInterpreterPackages(n,t).catch(d.noop)}async trackInterpreterPackages(e,t){const n=e.path;if(r.pendingInterpreterInformation.has(n)&&!t)return;const i=this.getPackageInformation(e);i.finally(()=>{r.pendingInterpreterInformation.get(n)===i&&r.pendingInterpreterInformation.delete(n)}),r.pendingInterpreterInformation.set(n,i)}async getPackageInformation(e){const t=await this.executionFactory.createActivatedEnvironment({allowEnvironmentFetchExceptions:!0,bypassCondaExecution:!0,interpreter:e}),n=await t.execModule("pip",["list"],{throwOnStdErr:!1,mergeStdOutErr:!0}),i=new Map;f.forEach(e=>{i.set(p.getTelemetrySafeHashedString(e),"NOT INSTALLED")}),n.stdout.split("\n").map(e=>e.trim().toLowerCase()).filter(e=>e.length>0).forEach(e=>{const t=e.split(" ").filter(e=>e.trim().length);if(t.length<2)return;const[n,r]=t;if(!f.has(n.toLowerCase().trim()))return;const o=p.getTelemetrySafeVersion(r);i.set(p.getTelemetrySafeHashedString(n),o||"")});let o=r.interpreterInformation.get(e.path);o||(o=u.createDeferred(),r.interpreterInformation.set(e.path,o)),o.resolve(i)}};m.interpreterInformation=new Map,m.pendingInterpreterInformation=new Map,m=r=i([s.injectable(),o(0,s.inject(a.IPythonExtensionChecker)),o(1,s.inject(h.IInterpreterService)),o(2,s.inject(c.IPythonExecutionFactory)),o(3,s.inject(a.IPythonApiProvider)),o(4,s.inject(l.IDisposableRegistry))],m),t.InterpreterPackages=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEmptyCell=t.generateTestState=t.ServerStatus=t.activeDebugState=t.DebugState=t.CursorPos=void 0;const r=n(14),i=n(5),o=n(13),s=n(231),a=n(1016);var c,l;!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Current=2]="Current"}(t.CursorPos||(t.CursorPos={})),function(e){e[e.Break=0]="Break",e[e.Design=1]="Design",e[e.Run=2]="Run"}(c=t.DebugState||(t.DebugState={})),t.activeDebugState=function(e){return e===c.Break||e===c.Run},function(e){e.NotStarted="Not Started",e.Busy="Busy",e.Idle="Idle",e.Dead="Dead",e.Starting="Starting",e.Restarting="Restarting"}(l=t.ServerStatus||(t.ServerStatus={}));t.generateTestState=function(e="",t=!1){return{busy:!1,skipNextScroll:!1,submittedText:!1,rootStyle:"\n        :root {\n            --code-comment-color: #6A9955;\n            --code-numeric-color: #b5cea8;\n            --code-string-color: #ce9178;\n            --code-variable-color: #9CDCFE;\n            --code-type-color: #4EC9B0;\n            --code-font-family: Consolas, 'Courier New', monospace;\n            --code-font-size: 14px;\n        }\n",currentExecutionCount:0,knownDark:!1,baseTheme:"vscode-light",debugging:!1,isAtBottom:!1,font:{size:14,family:"Consolas, 'Courier New', monospace"},dirty:!1,codeTheme:"Foo",settings:a.getDefaultSettings(),focusPending:0,loaded:!1,testMode:!0,kernel:{serverName:"",kernelName:"Python",jupyterServerStatus:l.NotStarted,language:r.PYTHON_LANGUAGE},externalButtons:[]}},t.createEmptyCell=function(e,t){const n=s.createCodeCell();return n.execution_count=null!=t?t:null,{data:n,id:e||i.Identifiers.EditCellId,file:i.Identifiers.EmptyFileName,line:0,state:o.CellState.finished}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKey=void 0;t.ContextKey=class{constructor(e,t){this.name=e,this.commandManager=t}get value(){return this.lastValue}async set(e){this.lastValue!==e&&(this.lastValue=e,await this.commandManager.executeCommand("setContext",this.name,this.lastValue))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCellsFromNotebookDocument=t.generateCellsFromDocument=t.generateCellRangesFromDocument=t.generateCellsFromString=t.hasCells=t.generateCells=t.getCellResource=void 0,n(15);const r=n(41),i=n(1),o=n(62),s=n(231),a=n(9),c=n(148),l=n(5),u=n(13),d=n(24);function h(e,t,n,r,i){return{data:s.createCodeCell(e,i),id:r,file:t,line:n,state:u.CellState.init}}function p(e,t,n,r,i=!1){return{id:r,file:t,line:n,state:u.CellState.finished,data:s.createMarkdownCell(e,i)}}function f(e,t,n,i,s,l){const u=t.splitLines({trim:!1}),d=u[0],f=new c.CellMatcher(e),{magicCommandsAsComments:m=!1}=e||{};if(f.isMarkdown(d)){let e=-1;return o.parseForComments(u,(e,t)=>a.noop(),(t,n)=>{t&&t.length>0&&-1===e&&(e=s?n:-1)}),e>=0?[p(u.slice(0,e),n,i,l),h(u.slice(e),n,i+e,r(),m)]:[p(u,n,i,l)]}return[h(u,n,i,l,m)]}function m(e,t){const n=new c.CellMatcher(t),r=[];for(let t=0;t<e.lineCount;t+=1){const o=e.lineAt(t);if(n.isCell(o.text)){if(r.length>0){const n=r[r.length-1];n.range=new i.Range(n.range.start,e.lineAt(t-1).range.end)}const s=n.exec(o.text);void 0!==s&&r.push({range:o.range,title:s,cell_type:n.getCellType(o.text)})}}if(r.length>=1){const t=e.lineAt(e.lineCount-1),n=r[r.length-1];n.range=new i.Range(n.range.start,t.range.end)}return r}t.getCellResource=function(e){var t;if(void 0!==(null===(t=e.metadata.interactive)||void 0===t?void 0:t.file)&&e.metadata.interactive.file!==l.Identifiers.EmptyFileName)return i.Uri.file(e.metadata.interactive.file)},t.generateCells=f,t.hasCells=function(e,t){const n=new c.CellMatcher(t);for(let t=0;t<e.lineCount;t+=1){const r=e.lineAt(t);if(n.isCell(r.text))return!0}return!1},t.generateCellsFromString=function(e,t){const n=e.splitLines({trim:!1,removeEmptyEntries:!1}),i=new c.CellMatcher(t),o=[];let s;for(let e=0;e<n.length;e+=1){const t=n[e];if(i.isCell(t)){if(o.length>0&&s){o[o.length-1].code=s}const n=i.exec(t);void 0!==n&&o.push({startLine:e+1,title:n,cell_type:i.getCellType(t),code:""}),s=void 0}s=s?`${s}\n${t}`:t}if(o.length>=1&&s){o[o.length-1].code=s}return Array.prototype.concat(...o.map(e=>f(t,e.code,"",e.startLine,!1,r())))},t.generateCellRangesFromDocument=m,t.generateCellsFromDocument=function(e,t){const n=m(e,t);return Array.prototype.concat(...n.map(n=>{const i=e.getText(n.range);return f(t,i,"",n.range.start.line,!1,r())}))},t.generateCellsFromNotebookDocument=function(e,t){return e.getCells().filter(e=>!e.metadata.isInteractiveWindowMessageCell).map(e=>{let n=e.document.getText().splitLines({trim:!1,removeEmptyEntries:!1});void 0!==e.metadata.interactiveWindowCellMarker&&n.unshift(e.metadata.interactiveWindowCellMarker+"\n");const a=d.createJupyterCellFromVSCNotebookCell(e);return a.source=e.kind===i.NotebookCellKind.Code?o.appendLineFeed(n,t?s.uncommentMagicCommands:void 0):o.appendLineFeed(n),{data:a,id:r(),file:"",line:0,state:u.CellState.init}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65);let i,o,s,a;if("undefined"==typeof window){let e=n(1318);i=global.fetch||e,s=global.Request||e.Request,o=global.Headers||e.Headers,a=global.WebSocket||n(1338)}else i=fetch,s=Request,o=Headers,a=WebSocket;var c,l;!function(e){e.makeSettings=function(e){return l.makeSettings(e)},e.makeRequest=function(e,t,n){return l.handleRequest(e,t,n)};class t extends Error{constructor(e,t){super(t=t||`Invalid response: ${e.status} ${e.statusText}`),this.response=e}}e.ResponseError=t;class n extends TypeError{constructor(e){super(e.message),this.stack=e.stack}}e.NetworkError=n,e.defaultSettings={baseUrl:r.PageConfig.getBaseUrl(),appUrl:r.PageConfig.getOption("appUrl"),wsUrl:r.PageConfig.getWsUrl(),token:r.PageConfig.getToken(),init:{cache:"no-store",credentials:"same-origin"},fetch:i,Headers:o,Request:s,WebSocket:a}}(c=t.ServerConnection||(t.ServerConnection={})),function(e){e.makeSettings=function(e={}){const t=c.defaultSettings,n=r.URLExt.normalize(e.baseUrl)||t.baseUrl;let i=e.wsUrl;return i||n!==t.baseUrl||(i=t.wsUrl),i||0!==n.indexOf("http")||(i="ws"+n.slice(4)),i=i||t.wsUrl,Object.assign({},t,e,{wsUrl:i})},e.handleRequest=function(e,t,n){if(0!==e.indexOf(n.baseUrl))throw new Error("Can only be used for notebook server requests");"no-store"===(t.cache||n.init.cache)&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());const r=new n.Request(e,Object.assign({},n.init,t));let i=!1;if(n.token&&(i=!0,r.headers.append("Authorization","token "+n.token)),"undefined"!=typeof document&&document&&document.cookie){const e=function(e){const t=document.cookie.match("\\b"+e+"=([^;]*)\\b");return t?t[1]:void 0}("_xsrf");void 0!==e&&(i=!0,r.headers.append("X-XSRFToken",e))}return!r.bodyUsed&&i&&r.headers.set("Content-Type","application/json"),n.fetch.call(null,r).catch(e=>{throw new c.NetworkError(e)})}}(l||(l={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,i=n(59),o=n(161),s=n(249);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracing=t.traceDecorators=t.logWarning=t.logVerbose=t.logInfoIf=t.logInfo=t.logErrorIf=t.logError=t.addOutputChannelLogging=t.setLoggingLevel=void 0;var r=n(138);Object.defineProperty(t,"setLoggingLevel",{enumerable:!0,get:function(){return r.setLoggingLevel}}),Object.defineProperty(t,"addOutputChannelLogging",{enumerable:!0,get:function(){return r.addOutputChannelLogging}}),Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return r.logError}}),Object.defineProperty(t,"logErrorIf",{enumerable:!0,get:function(){return r.logErrorIf}}),Object.defineProperty(t,"logInfo",{enumerable:!0,get:function(){return r.logInfo}}),Object.defineProperty(t,"logInfoIf",{enumerable:!0,get:function(){return r.logInfoIf}}),Object.defineProperty(t,"logVerbose",{enumerable:!0,get:function(){return r.logVerbose}}),Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return r.logWarning}}),Object.defineProperty(t,"traceDecorators",{enumerable:!0,get:function(){return r.traceDecorators}}),Object.defineProperty(t,"tracing",{enumerable:!0,get:function(){return r.tracing}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traceDecorators=t.tracing=t.logWarning=t.logErrorIf=t.logInfoIf=t.logInfo=t.logError=t.logVerbose=t.log=t.addOutputChannelLogging=t.addLogfile=t.setLoggingLevel=t.ConsoleForegroundColors=void 0;const r=n(171),i=n(395),o=n(125),s=n(396),a=n(283),c=n(397),l=s.createLogger();function u(e,...t){s.logToAll([l],e,t)}s.configureLogger(l,s.getPreDefinedConfiguration()),function(e){e.Green="[32m"}(t.ConsoleForegroundColors||(t.ConsoleForegroundColors={})),t.setLoggingLevel=function(e){if("off"===e)l.clear();else{const t=o.resolveLevelName(e,r.config.npm.levels);t&&(l.level=t)}},t.addLogfile=function(e){const t=i.getFormatter(),n=c.getFileTransport(e,t);l.add(n)},t.addOutputChannelLogging=function(e){const t=i.getFormatter(),n=c.getJupyterOutputChannelTransport(e,t);l.add(n)},t.log=u,t.logVerbose=function(...e){u(o.LogLevel.Trace,...e)},t.logError=function(...e){u(o.LogLevel.Error,...e)},t.logInfo=function(...e){u(o.LogLevel.Info,...e)},t.logInfoIf=function(e,...t){e&&u(o.LogLevel.Info,...t)},t.logErrorIf=function(e,...t){e&&u(o.LogLevel.Error,...t)},t.logWarning=function(...e){u(o.LogLevel.Warn,...e)},t.tracing=function(e,t,n){return a.tracing([l],e,t,n)},function(e){const t=a.TraceOptions.Arguments|a.TraceOptions.ReturnValue;e.verbose=function(e,n=t){return a.createTracingDecorator([l],{message:e,opts:n})},e.error=function(e){const n=t,r=o.LogLevel.Error;return a.createTracingDecorator([l],{message:e,opts:n,level:r})},e.info=function(e){const t=a.TraceOptions.None;return a.createTracingDecorator([l],{message:e,opts:t})},e.warn=function(e){const n=t,r=o.LogLevel.Warn;return a.createTracingDecorator([l],{message:e,opts:n,level:r})}}(t.traceDecorators||(t.traceDecorators={}))},function(e,t){e.exports=r,r.default=r,r.stable=o,r.stableStringify=o;var n=[];function r(e,t,r){!function e(t,r,i,o){var s;if("object"==typeof t&&null!==t){for(s=0;s<i.length;s++)if(i[s]===t)return o[r]="[Circular]",void n.push([o,r,t]);if(i.push(t),Array.isArray(t))for(s=0;s<t.length;s++)e(t[s],s,i,t);else{var a=Object.keys(t);for(s=0;s<a.length;s++){var c=a[s];e(t[c],c,i,t)}}i.pop()}}(e,"",[],void 0);for(var i=JSON.stringify(e,t,r);0!==n.length;){var o=n.pop();o[0][o[1]]=o[2]}return i}function i(e,t){return e<t?-1:e>t?1:0}function o(e,t,r){for(var o=function e(t,r,o,s){var a;if("object"==typeof t&&null!==t){for(a=0;a<o.length;a++)if(o[a]===t)return s[r]="[Circular]",void n.push([s,r,t]);if("function"==typeof t.toJSON)return;if(o.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,o,t);else{var c={},l=Object.keys(t).sort(i);for(a=0;a<l.length;a++){var u=l[a];e(t[u],u,o,t),c[u]=t[u]}if(void 0===s)return c;n.push([s,r,t]),s[r]=c}o.pop()}}(e,"",[],void 0)||e,s=JSON.stringify(o,t,r);0!==n.length;){var a=n.pop();a[0][a[1]]=a[2]}return s}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";const r={};function i(e,t,n){n||(n=Error);class i extends n{constructor(e,n,r){super(function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(e,n,r))}}i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map(e=>String(e)),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){let r;var i,s;let a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a=`The ${e} ${r} ${o(t,"type")}`;else{a=`The "${e}" ${function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument"} ${r} ${o(t,"type")}`}return a+=". Received type "+typeof n,a}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=n(381),o=n(385);n(27)(l,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var c=s[a];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,n){"use strict";var r=n(88),i=n(51),o=function(){function e(){}return e.queryCorrelationId=function(t,n){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))n(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(n);else{e.pendingLookups[o]=[n];var s=function(){if(e.pendingLookups[o]){var n={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,n);var a=r.makeRequest(t,o,n,(function(n){if(200===n.statusCode){var r="";n.setEncoding("utf-8"),n.on("data",(function(e){r+=e})),n.on("end",(function(){i.info(e.TAG,r);var t=e.correlationIdPrefix+r;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){i.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter((function(e){return e!=n})),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,o)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentVariablesProvider=t.IEnvironmentVariablesService=void 0,t.IEnvironmentVariablesService=Symbol("IEnvironmentVariablesService"),t.IEnvironmentVariablesProvider=Symbol("IEnvironmentVariablesProvider")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeWorkingDirectory=t.createRemoteConnectionInfo=t.expandWorkingDir=void 0,n(15);const r=n(97),i=n(6),o=n(1),s=n(9),a=n(308),c=n(445);t.expandWorkingDir=function(e,t,n){if(e){return new a.SystemVariables(t?o.Uri.file(t):void 0,n.rootPath,n).resolve(e)}if(t)return i.dirname(t);const r=n.getWorkspaceFolder(void 0);return r?r.uri.fsPath:process.cwd()},t.createRemoteConnectionInfo=function(e,t){let n;try{n=new URL(e),"/lab"===n.pathname&&(e=e.replace("lab","")),n=new URL(e)}catch(e){throw e}const r=t(e),i=r?r.baseUrl:`${n.protocol}//${n.host}${n.pathname}`,o=r?r.token:""+n.searchParams.get("token");return{type:"jupyter",baseUrl:i,token:o,hostName:r?new URL(r.baseUrl).hostname:n.hostname,localLaunch:!1,localProcExitCode:void 0,valid:!0,displayName:r&&r.displayName?r.displayName:c.getJupyterConnectionDisplayName(o,i),disconnected:e=>({dispose:s.noop}),dispose:s.noop,rootDirectory:"",getAuthHeader:r?()=>{var n;return null===(n=t(e))||void 0===n?void 0:n.authorizationHeader}:void 0,url:e}},t.computeWorkingDirectory=async function(e,t){var n;const o=!(!e||"file"!==e.scheme)&&await r.pathExists(e.fsPath);return!(!e||"file"!==e.scheme)&&await r.pathExists(i.dirname(e.fsPath))&&e&&e.fsPath.includes(".")?i.dirname(e.fsPath):o&&e&&(await r.stat(e.fsPath)).isDirectory()?e.fsPath:(null===(n=t.getWorkspaceFolder(e))||void 0===n?void 0:n.uri.fsPath)||t.rootPath||process.cwd()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentActivationService=void 0,t.IEnvironmentActivationService=Symbol("IEnvironmentActivationService")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInterpreterService=void 0;const o=n(0),s=n(1),a=n(37);n(15);const c=n(9),l=n(33),u=n(8),d=n(5),h=n(320),p=n(482),f=n(483),m=n(321);let g=class{constructor(e,t,n,r,i){this.oldVersionCacheStateStore=e,this.interpreterSelectionState=t,this.jupyterInterpreterSelector=n,this.interpreterConfiguration=r,this.interpreterService=i,this._onDidChangeInterpreter=new s.EventEmitter}get onDidChangeInterpreter(){return this._onDidChangeInterpreter.event}async getSelectedInterpreter(e){return await this.setInitialInterpreter(e),this._selectedInterpreter}async setInitialInterpreter(e){return this.getInitialInterpreterPromise||(this.getInitialInterpreterPromise=this.getInitialInterpreterImpl(e).then(e=>(e&&this.changeSelectedInterpreterProperty(e),e))),this.getInitialInterpreterPromise}async selectInterpreter(e){const t=a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:void 0,token:e}),n=await Promise.race([this.jupyterInterpreterSelector.selectInterpreter(),t]);if(!n)return void u.sendTelemetryEvent(d.Telemetry.SelectJupyterInterpreter,void 0,{result:"notSelected"});switch(await this.interpreterConfiguration.installMissingDependencies(n,void 0,e)){case h.JupyterInterpreterDependencyResponse.ok:return await this.setAsSelectedInterpreter(n),n;case h.JupyterInterpreterDependencyResponse.cancel:return void u.sendTelemetryEvent(d.Telemetry.SelectJupyterInterpreter,void 0,{result:"installationCancelled"});default:return this.selectInterpreter(e)}}async installMissingDependencies(e){const t=await this.getSelectedInterpreter();let n=t;if(!n&&(n=await this.interpreterService.getActiveInterpreter(void 0),!n))return void await this.selectInterpreter();const r=await this.interpreterConfiguration.installMissingDependencies(n,e);r===h.JupyterInterpreterDependencyResponse.selectAnotherInterpreter?await this.selectInterpreter():r===h.JupyterInterpreterDependencyResponse.ok&&n!==t&&await this.setAsSelectedInterpreter(n)}async setAsSelectedInterpreter(e){await this.setInitialInterpreter(),this.changeSelectedInterpreterProperty(e)}getInterpreterFromChangeOfOlderVersionOfExtension(){const e=this.oldVersionCacheStateStore.getCachedInterpreterPath();if(e)return this.oldVersionCacheStateStore.clearCache().ignoreErrors(),e}changeSelectedInterpreterProperty(e){this._selectedInterpreter=e,this._onDidChangeInterpreter.fire(e),this.interpreterSelectionState.updateSelectedPythonPath(e.path),u.sendTelemetryEvent(d.Telemetry.SelectJupyterInterpreter,void 0,{result:"selected"})}async validateInterpreterPath(e,t){try{const n=a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:void 0,token:t}),r=await Promise.race([this.interpreterService.getInterpreterDetails(e,void 0),n]);if(r&&await this.interpreterConfiguration.areDependenciesInstalled(r,t))return r}catch(e){c.noop()}}async getInitialInterpreterImpl(e){let t;const n=this.getInterpreterFromChangeOfOlderVersionOfExtension();if(n&&(t=await this.validateInterpreterPath(n,e)),!t&&this.interpreterSelectionState.selectedPythonPath&&(t=await this.validateInterpreterPath(this.interpreterSelectionState.selectedPythonPath,e),t||this.interpreterSelectionState.updateSelectedPythonPath(void 0)),!t){const n=await this.interpreterService.getActiveInterpreter(void 0);n&&await this.interpreterConfiguration.areDependenciesInstalled(n,e)&&(t=n)}return t}};g=r([o.injectable(),i(0,o.inject(p.JupyterInterpreterOldCacheStateStore)),i(1,o.inject(m.JupyterInterpreterStateStore)),i(2,o.inject(f.JupyterInterpreterSelector)),i(3,o.inject(h.JupyterInterpreterDependencyService)),i(4,o.inject(l.IInterpreterService))],g),t.JupyterInterpreterService=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellMatcher=void 0,n(15);const r=n(9),i=n(5);t.CellMatcher=class{constructor(e){this.codeMatchRegEx=this.createRegExp(e?e.codeRegularExpression:void 0,i.RegExpValues.PythonCellMarker),this.markdownMatchRegEx=this.createRegExp(e?e.markdownRegularExpression:void 0,i.RegExpValues.PythonMarkdownCellMarker),this.codeExecRegEx=new RegExp(this.codeMatchRegEx.source+"(.*)"),this.markdownExecRegEx=new RegExp(this.markdownMatchRegEx.source+"(.*)"),this.defaultCellMarker=(null==e?void 0:e.defaultCellMarker)?e.defaultCellMarker:"# %%",this.defaultCellMarkerExec=this.createRegExp(this.defaultCellMarker+"(.*)",/# %%(.*)/)}isCell(e){return this.isCode(e)||this.isMarkdown(e)}isMarkdown(e){return this.markdownMatchRegEx.test(e)}isCode(e){return this.codeMatchRegEx.test(e)||e.trim()===this.defaultCellMarker}getCellType(e){return this.isMarkdown(e)?"markdown":"code"}stripFirstMarker(e){const t=e.splitLines({trim:!1,removeEmptyEntries:!1});return t.length>0&&(this.isCode(t[0])||this.isMarkdown(t[0]))?t.slice(1).join("\n"):e}getFirstMarker(e){const t=e.splitLines({trim:!1,removeEmptyEntries:!1});if(t.length>0&&(this.isCode(t[0])||this.isMarkdown(t[0])))return t[0]}exec(e){let t=null;if(this.defaultCellMarkerExec.test(e)?(this.defaultCellMarkerExec.lastIndex=-1,t=this.defaultCellMarkerExec.exec(e)):this.codeMatchRegEx.test(e)?(this.codeExecRegEx.lastIndex=-1,t=this.codeExecRegEx.exec(e)):this.markdownMatchRegEx.test(e)&&(this.markdownExecRegEx.lastIndex=-1,t=this.markdownExecRegEx.exec(e)),t)return t.length>1?t[t.length-1].trim():""}createRegExp(e,t){try{if(e)return new RegExp(e)}catch(e){r.noop()}return t}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressReporter=void 0;const o=n(0),s=n(1),a=n(7),c=n(19),l=n(9),u=n(118),d=n(1194);let h=class{constructor(e){this.appShell=e,this.progressReporters=[],this.actionPhases=new Map,this.currentActions=[],u.registerReporter(this)}get currentAction(){return 0===this.currentActions.length?void 0:this.currentActions[this.currentActions.length-1]}createProgressIndicator(e,t=!1){const n=new s.CancellationTokenSource,r=c.createDeferred(),i={location:s.ProgressLocation.Notification,cancellable:t,title:e};return this.appShell.withProgress(i,async(e,t)=>{t.onCancellationRequested(()=>{t.isCancellationRequested&&n.cancel(),r.resolve()}),n.token.onCancellationRequested(()=>{r.resolve()}),this.progressReporters.push(e),await r.promise}).then(l.noop,l.noop),{token:n.token,dispose:()=>r.resolve()}}report(e){if(0!==this.progressReporters.length&&(this.actionPhases.set(e.action,e.phase),"started"===e.phase&&this.currentActions.push(e.action),this.currentAction)){for(;this.actionPhases.get(this.currentAction)&&"started"!==this.actionPhases.get(this.currentAction);)this.actionPhases.delete(this.currentAction),this.currentActions.pop();this.updateProgressMessage()}}updateProgressMessage(){if(!this.currentAction||0===this.progressReporters.length)return;const e=d.getUserMessageForAction(this.currentAction);e&&this.progressReporters.forEach(t=>t.report({message:e}))}};h=r([o.injectable(),i(0,o.inject(a.IApplicationShell))],h),t.ProgressReporter=h},function(e,t,n){"use strict";function r(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",s=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+s+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t){switch(e.length){case 1:return r(e[0],t,!0);default:var n="",i=o(e);for(var s in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(s,t,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:c,escapeQuotes:l,equal:n(189),ucs2length:n(1271),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(u,"").replace(d,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(p);n&&2==n.length&&(e=t?e.replace(m,"").replace(g,"return data;"):e.replace(f,"").replace("return errors === 0;","validate.errors = null; return true;"));return(n=e.match(v))&&3===n.length?e.replace(y,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var n in e)if(!t[n])return n},toQuotedString:b,getPathExpr:function(e,t,n,r){return S(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var r=b(n?"/"+E(t):c(t));return S(e,r)},getData:function(e,t,n){var r,i,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!_.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(s=e.match(w)))throw new Error("Invalid JSON-pointer: "+e);if(r=+s[1],"#"==(i=s[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var a=o,l=i.split("/"),u=0;u<l.length;u++){var d=l[u];d&&(o+=c(x(d)),a+=" && "+o)}return a},unescapeFragment:function(e){return x(decodeURIComponent(e))},unescapeJsonPointer:x,escapeFragment:function(e){return encodeURIComponent(E(e))},escapeJsonPointer:E};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var u=/else\s*{\s*}/g,d=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var p=/[^v.]errors/g,f=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,g=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,v=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,y=/if \(rootData === undefined\) rootData = data;/;function b(e){return"'"+l(e)+"'"}var _=/^\/(?:[^~]|~0|~1)*$/,w=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function S(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function E(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function x(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,n){"use strict";var r=n(243),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=Object.create(n(42));o.inherits=n(27);var s=n(686),a=n(689);o.inherits(d,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(245),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=Object.create(n(42));o.inherits=n(27);var s=n(695),a=n(698);o.inherits(d,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(247),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=n(42);o.inherits=n(27);var s=n(707),a=n(710);o.inherits(d,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(121);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.b(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(20).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.b(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(21).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(83),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.a),t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(60),i=function(e){return function(t){for(var n=e[r.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(49),i=n(93),o=n(167);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),Object(o.a)(e,n)):Object(i.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),i=n(77),o=n(59);function s(e){return new r.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),i=n(21);function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(11),i=n(199),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.b(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.a.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.a.clearImmediate(n),t.scheduled=void 0)},t}(n(95).a),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(94).a))(o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(11),i=n(45),o=n(254),s=n(21),a=n(20),c=n(136);var l=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.b(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(c.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(c.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(c.a.createComplete()),this.unsubscribe()},t}(a.a),u=function(){return function(e,t){this.notification=e,this.destination=t}}(),d=n(67),h=n(158),p=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.b(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new d.a;if(this.isStopped||this.hasError?t=s.a.EMPTY:(this.observers.push(e),t=new h.a(this,e)),i&&e.add(e=new l(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.b),f=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(47),i=n(83),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";const r=n(96),{warn:i}=n(364),o=t;o.version=n(756).version,o.transports=n(757),o.config=n(280),o.addColors=r.levels,o.format=r.format,o.createLogger=n(390),o.ExceptionHandler=n(391),o.RejectionHandler=n(394),o.Container=n(809),o.Transport=n(123),o.loggers=new o.Container;const s=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure"]).forEach(e=>o[e]=(...t)=>s[e](...t)),Object.defineProperty(o,"level",{get:()=>s.level,set(e){s.level=e}}),Object.defineProperty(o,"exceptions",{get:()=>s.exceptions}),["exitOnError"].forEach(e=>{Object.defineProperty(o,e,{get:()=>s[e],set(t){s[e]=t}})}),Object.defineProperty(o,"default",{get:()=>({exceptionHandlers:s.exceptionHandlers,rejectionHandlers:s.rejectionHandlers,transports:s.transports})}),i.deprecated(o,"setLevels"),i.forFunctions(o,"useFormat",["cli"]),i.forProperties(o,"useFormat",["padLevels","stripColors"]),i.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(o,"deprecated",["emitErrs","levelLength"]),i.moved(o,"createLogger","Logger")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(201),s=n(23),a=s.LEVEL,c=s.MESSAGE;o.enabled=!0;var l=/\s+/,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,n,s;return t=e,s=[{key:"addColors",value:function(t){var n=Object.keys(t).reduce((function(e,n){return e[n]=l.test(t[n])?t[n].split(l):t[n],e}),{});return e.allColors=Object.assign({},e.allColors||{},n),e.allColors}}],(n=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,n,r){if(void 0===r&&(r=n),!Array.isArray(e.allColors[t]))return o[e.allColors[t]](r);for(var i=0,s=e.allColors[t].length;i<s;i++)r=o[e.allColors[t][i]](r);return r}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[c]&&(e[c]=this.colorize(e[a],e.level,e[c])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[a],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[a],e.level,e.message)),e}}])&&i(t.prototype,n),s&&i(t,s),e}();e.exports=function(e){return new u(e)},e.exports.Colorizer=e.exports.Format=u},function(e,t,n){e.exports=n(18).deprecate},function(e,t,n){var r=n(369),i=n(371);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(176),i=n(766),o=n(767),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(78).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(17);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(381)).Stream=r||t,t.Readable=t,t.Writable=n(385),t.Duplex=n(142),t.Transform=n(387),t.PassThrough=n(786),t.finished=n(279),t.pipeline=n(787))},function(e,t,n){"use strict";var r=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};r.writable=function(e){return r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},r.readable=function(e){return r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},r.duplex=function(e){return r.writable(e)&&r.readable(e)},r.transform=function(e){return r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,n){var r=t;r.utils=n(87),r.common=n(182),r.sha=n(815),r.ripemd=n(819),r.hmac=n(820),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=n(87),i=n(181);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51),i=n(286),o=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new s(r)}:null},e.runWithContext=function(t,n){return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n();var r},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=n(839):this.cls=n(850)),e.session=this.cls.createNamespace("AI-CLS-Session"),i.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=o;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n))r.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===t)return void(o.value=n)}this.props.push({key:t,value:n})}},e.bannedCharacters=/[,=]/,e}()},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(r=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((o={})[i.PROCESSOR_TIME]=r.PROCESSOR_TIME,o[i.REQUEST_RATE]=r.REQUEST_RATE,o[i.REQUEST_DURATION]=r.REQUEST_DURATION,o[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,o[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,o[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,o[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,o[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,o[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,o),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability}},function(e,t,n){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedMessages=t.CssMessages=void 0,function(e){e.GetCssRequest="get_css_request",e.GetCssResponse="get_css_response"}(t.CssMessages||(t.CssMessages={})),function(e){e.UpdateSettings="update_settings",e.Started="started",e.LocInit="loc_init",e.StyleUpdate="style_update"}(t.SharedMessages||(t.SharedMessages={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=o(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=o},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s,a,c,l=r(t),u=r(n);if(l&&u){if((a=t.length)!=n.length)return!1;for(s=a;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(l!=u)return!1;var d=t instanceof Date,h=n instanceof Date;if(d!=h)return!1;if(d&&h)return t.getTime()==n.getTime();var p=t instanceof RegExp,f=n instanceof RegExp;if(p!=f)return!1;if(p&&f)return t.toString()==n.toString();var m=i(t);if((a=m.length)!==i(n).length)return!1;for(s=a;0!=s--;)if(!o.call(n,m[s]))return!1;for(s=a;0!=s--;)if(!e(t[c=m[s]],n[c]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterHash=t.getInterpreterInfo=t.extractInterpreterInfo=void 0;const r=n(180),i=n(295),o=n(296),s=n(955);function a(e,t){const n=`${t.versionInfo.slice(0,3).join(".")}-${t.versionInfo[3]}`;return{path:e,version:s.parsePythonVersion(n),sysVersion:t.sysVersion,sysPrefix:t.sysPrefix}}t.extractInterpreterInfo=a,t.getInterpreterInfo=async function(e,t,n){const[r,s]=i.interpreterInfo(),c=o.copyPythonExecInfo(e,r),l=[c.command,...c.args],u=l.reduce((e,t)=>e?`${e} "${t}"`:`"${t.replace("\\","\\\\")}"`,""),d=await t(u,15e3);if(d.stderr)return void(n&&n.error(`Failed to parse interpreter information for ${l} stderr: ${d.stderr}`));const h=s(d.stdout);return n&&n.info("Found interpreter for "+l),a(e.pythonExecutable,h)},t.getInterpreterHash=function(e){return r.sha256().update(e.path).digest("hex")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlainTextOrStreamOutput=t.executeSilently=t.Kernel=void 0;const r=n(306),i=n(6),o=n(1),s=n(131),a=n(4),c=n(9),l=n(32),u=n(8),d=n(5),h=n(55),p=n(24),f=n(22),m=n(1017),g=n(73),v=n(14),y=n(100),b=n(232),_=n(10),w=n(307),S=n(145),E=n(62);async function x(e,t){const r=n(89),i=e.requestExecute({code:t,silent:!1,stop_on_error:!1,allow_stdin:!0,store_history:!1},!0);if(!i)return[];const o=[];return i.onIOPub=e=>{if(r.KernelMessage.isStreamMsg(e))if(o.length>0&&"stream"===o[o.length-1].output_type&&o[o.length-1].name===e.content.name){o[o.length-1].text+=e.content.text}else{const t={name:e.content.name,text:e.content.text,output_type:"stream"};o.push(t)}else if(r.KernelMessage.isExecuteResultMsg(e)){const t={data:e.content.data,execution_count:e.content.execution_count,metadata:e.content.metadata,output_type:"execute_result"};o.push(t)}else if(r.KernelMessage.isDisplayDataMsg(e)){const t={data:e.content.data,metadata:e.content.metadata,output_type:"display_data"};o.push(t)}else if(r.KernelMessage.isErrorMsg(e)){const t={ename:e.content.ename,evalue:e.content.evalue,traceback:e.content.traceback,output_type:"error"};o.push(t)}},await i.done,o}t.Kernel=class{constructor(e,t,n,i,s,c,l,u,h,p,g,v,y,b,_,w,S){this.notebookUri=e,this.resourceUri=t,this.kernelConnectionMetadata=n,this.notebookProvider=i,this.disposables=s,this.launchTimeout=c,this.errorHandler=u,this.editorProvider=h,this.appShell=p,this.fs=g,this.serverStorage=v,this.configService=b,this.workspaceService=w,this.cellHashProviderFactory=S,this._kernelSocket=new r.Subject,this._onStatusChanged=new o.EventEmitter,this._onRestarted=new o.EventEmitter,this._onWillRestart=new o.EventEmitter,this._onWillInterrupt=new o.EventEmitter,this._onDisposed=new o.EventEmitter,this.hookedNotebookForEvents=new WeakSet,this.startCancellation=new o.CancellationTokenSource,this.changeDirectoryIfPossible=async e=>{this.connection&&this.connection.localLaunch&&f.isPythonKernelConnection(this.kernelConnectionMetadata)&&await this.fs.localDirectoryExists(e)&&(a.traceInfo("changeDirectoryIfPossible"),await this.executeSilently(d.CodeSnippets.UpdateCWDAndPath.format(e)))},this.kernelExecution=new m.KernelExecution(this,u,p,n,l,s,y,_,S)}get connection(){var e;return null===(e=this.notebook)||void 0===e?void 0:e.connection}get onStatusChanged(){return this._onStatusChanged.event}get onRestarted(){return this._onRestarted.event}get onWillRestart(){return this._onWillRestart.event}get onWillInterrupt(){return this._onWillInterrupt.event}get onDisposed(){return this._onDisposed.event}get info(){return this._info}get status(){var e,t;return null!==(t=null===(e=this.notebook)||void 0===e?void 0:e.status)&&void 0!==t?t:s.ServerStatus.NotStarted}get disposed(){var e;return!0===this._disposed||!0===(null===(e=this.notebook)||void 0===e?void 0:e.disposed)}get kernelSocket(){return this._kernelSocket.asObservable()}async executeCell(e){const t=new l.StopWatch,n=this.startNotebook({disableUI:!1,document:e.notebook});e.notebook.notebookType===y.InteractiveWindowView&&await this.cellHashProviderFactory.getOrCreate(this).addCellHash(e);const r=this.kernelExecution.executeCell(n,e);return this.trackNotebookCellPerceivedColdTime(t,n,r).catch(c.noop),await r,r}async executeHidden(e,t){const n=new l.StopWatch,r=this.startNotebook({disableUI:!1,document:t}),i=r.then(t=>x(t.session,e));this.trackNotebookCellPerceivedColdTime(n,r,i).catch(c.noop),await i}async start(e){await this.startNotebook(e)}async interrupt(e){this._onWillInterrupt.fire(),this.restarting&&(a.traceInfo("Interrupt requested & currently restarting "+e.uri),h.trackKernelResourceInformation(e.uri,{interruptKernel:!0}),await this.restarting.promise),a.traceInfo("Interrupt requested "+e.uri),this.startCancellation.cancel();const t=this.kernelExecution.interrupt(e,this._notebookPromise);return await t,t}async dispose(){a.traceInfo("Dispose kernel "+this.notebookUri.toString()),this.restarting=void 0,this._notebookPromise=void 0,this.notebook&&(await this.notebook.dispose(),this._disposed=!0,this._onDisposed.fire(),this._onStatusChanged.fire(s.ServerStatus.Dead),this.notebook=void 0),this.kernelExecution.dispose()}async restart(e){if(this._onWillRestart.fire(),this.restarting)return this.restarting.promise;a.traceInfo("Restart requested "+e.uri),this.startCancellation.cancel();const t=this.kernelExecution.restart(e,this._notebookPromise);await t,a.traceInfoIf(v.isCI,"Restarted "+e.uri),await this.initializeAfterStart(g.SysInfoReason.Restart,e),a.traceInfoIf(v.isCI,"Initialized after restart "+e.uri),this._onRestarted.fire(),a.traceInfoIf(v.isCI,"Event fired after restart "+e.uri)}async trackNotebookCellPerceivedColdTime(e,t,n){if(this.perceivedJupyterStartupTelemetryCaptured)return;await t&&(this.perceivedJupyterStartupTelemetryCaptured||(this.perceivedJupyterStartupTelemetryCaptured=!0,u.sendTelemetryEvent(d.Telemetry.PerceivedJupyterStartupNotebook,e.elapsedTime),n.finally(()=>u.sendTelemetryEvent(d.Telemetry.StartExecuteNotebookCellPerceivedCold,e.elapsedTime))))}async startNotebook(e){return this.restarting&&await this.restarting.promise,this._notebookPromise||(this.startCancellation=new o.CancellationTokenSource,this._notebookPromise=new Promise(async(t,n)=>{var r;const i=new l.StopWatch;try{try{if(await this.populateStartKernelInfoForInteractive(e.document,this.kernelConnectionMetadata),a.traceInfo("Starting Notebook in kernel.ts id = "+this.kernelConnectionMetadata.id),this.notebook=await this.notebookProvider.getOrCreateNotebook({identity:this.notebookUri,resource:this.resourceUri,disableUI:null==e?void 0:e.disableUI,getOnly:!1,metadata:p.getNotebookMetadata(e.document),kernelConnection:this.kernelConnectionMetadata,token:this.startCancellation.token}),!this.notebook)throw new Error("Kernel has not been started")}catch(t){throw a.traceError("failed to create INotebook in kernel, UI Disabled = "+e.disableUI,t),t}await this.initializeAfterStart(g.SysInfoReason.Start,e.document),h.sendKernelTelemetryEvent(this.resourceUri,d.Telemetry.PerceivedJupyterStartupNotebook,i.elapsedTime),(null===(r=this.notebook)||void 0===r?void 0:r.connection)&&this.updateRemoteUriList(this.notebook.connection).catch(c.noop),t(this.notebook)}catch(t){h.sendKernelTelemetryEvent(e.document.uri,d.Telemetry.NotebookStart,i.elapsedTime,void 0,t),e.disableUI?u.sendTelemetryEvent(d.Telemetry.KernelStartFailedAndUIDisabled):this.errorHandler.handleError(t).ignoreErrors(),a.traceError("failed to start INotebook in kernel, UI Disabled = "+e.disableUI,t),this.startCancellation.cancel(),this._notebookPromise=void 0,n(t)}})),this._notebookPromise}async updateRemoteUriList(e){e.localLaunch||await this.serverStorage.addToUriList(e.url||e.displayName,Date.now(),e.displayName)}async populateStartKernelInfoForInteractive(e,t){e.notebookType===y.InteractiveWindowView&&await b.chainWithPendingUpdates(e,n=>{var r,i;const s=new o.NotebookCellData(o.NotebookCellKind.Markup,(null===(r=t.interpreter)||void 0===r?void 0:r.displayName)?_.DataScience.startingNewKernelCustomHeader().format(null===(i=t.interpreter)||void 0===i?void 0:i.displayName):_.DataScience.startingNewKernelHeader(),v.MARKDOWN_LANGUAGE);s.metadata={isInteractiveWindowMessageCell:!0,isPlaceholder:!0},n.replaceNotebookCells(e.uri,new o.NotebookRange(e.cellCount,e.cellCount),[s])})}async initializeAfterStart(e,t){var n;if(a.traceInfoIf(v.isCI,"Step A"),!this.notebook)return;const r=this.editorProvider.editors.find(e=>this.fs.arePathsSame(e.file,this.notebookUri));r&&(r.notebook=this.notebook),a.traceInfoIf(v.isCI,"Step B"),this.hookedNotebookForEvents.has(this.notebook)||(this.hookedNotebookForEvents.add(this.notebook),this.notebook.kernelSocket.subscribe(this._kernelSocket),this.notebook.onDisposed(()=>{a.traceInfo("Kernel got disposed as a result of notebook.onDisposed "+this.notebookUri.toString()),this._notebookPromise=void 0,this._onDisposed.fire()}),this.notebook.onSessionStatusChanged(e=>{var t;a.traceInfo(`Notebook Session status ${null===(t=this.notebook)||void 0===t?void 0:t.identity} # ${e}`),this._onStatusChanged.fire(e)},this,this.disposables),a.traceInfoIf(v.isCI,"Step C")),f.isPythonKernelConnection(this.kernelConnectionMetadata)&&(a.traceInfoIf(v.isCI,"Step D"),await this.updateWorkingDirectoryAndPath(null===(n=this.resourceUri)||void 0===n?void 0:n.fsPath),a.traceInfoIf(v.isCI,"Step H"),a.traceInfoIf(v.isCI,"Step I"),await this.disableJedi(),a.traceInfoIf(v.isCI,"Step J"),await this.initializeMatplotLib(),a.traceInfoIf(v.isCI,"Step L")),a.traceInfoIf(v.isCI,"Step M"),await this.runStartupCommands(),a.traceInfoIf(v.isCI,"Step N"),await this.notebook.requestKernelInfo().then(async n=>{this._info=n.content,a.traceInfoIf(v.isCI,"Step N1"),await this.addSysInfoForInteractive(e,t,n),a.traceInfoIf(v.isCI,"Step N2")}).catch(a.traceWarning.bind("Failed to request KernelInfo")),a.traceInfoIf(v.isCI,"Step O"),await this.notebook.waitForIdle(this.launchTimeout),a.traceInfoIf(v.isCI,"Step P")}async disableJedi(){await this.executeSilently(d.CodeSnippets.disableJedi)}async addSysInfoForInteractive(e,t,n){var r,i;if(t.notebookType!==y.InteractiveWindowView||void 0===this.notebook)return;const s=f.getSysInfoReasonHeader(e,this.kernelConnectionMetadata),a=(null===(r=n.content)||void 0===r?void 0:r.banner)||"",c=a?a.split("\n"):[];if(c){let n="";return e===g.SysInfoReason.Start&&(n=(null===(i=this.connection)||void 0===i?void 0:i.displayName)||""),c.unshift(s),n&&n.length&&c.unshift(n),b.chainWithPendingUpdates(t,e=>{if(t.cellCount){const n=t.cellAt(t.cellCount-1);if(n.kind===o.NotebookCellKind.Markup&&n.metadata.isInteractiveWindowMessageCell&&n.metadata.isPlaceholder)return e.replace(n.document.uri,new o.Range(0,0,n.document.lineCount,0),c.join("  \n")),void e.replaceNotebookCellMetadata(t.uri,n.index,{isInteractiveWindowMessageCell:!0})}const n=new o.NotebookCellData(o.NotebookCellKind.Markup,c.join("  \n"),v.MARKDOWN_LANGUAGE);n.metadata={isInteractiveWindowMessageCell:!0},e.replaceNotebookCells(t.uri,new o.NotebookRange(t.cellCount,t.cellCount),[n])})}}async initializeMatplotLib(){const e=this.configService.getSettings(this.resourceUri);if(e&&e.themeMatplotlibPlots){a.traceInfoIf(v.isCI,"Initialize config for plots for "+(this.resourceUri||this.notebookUri).toString());const t=!e||e.generateSVGPlots?d.CodeSnippets.MatplotLibInitSvg:d.CodeSnippets.MatplotLibInitPng;a.traceInfo("Initialize matplotlib for "+(this.resourceUri||this.notebookUri).toString()),await this.executeSilently(t);const n=this.appShell.activeColorTheme.kind===o.ColorThemeKind.Dark;e.ignoreVscodeTheme||await this.executeSilently(n?"matplotlib.style.use('dark_background')":`matplotlib.rcParams.update(${d.Identifiers.MatplotLibDefaultParams})`)}else{const t=e&&e.generateSVGPlots?d.CodeSnippets.ConfigSvg:d.CodeSnippets.ConfigPng;a.traceInfoIf(v.isCI,"Initialize config for plots for "+(this.resourceUri||this.notebookUri).toString()),await this.executeSilently(t)}}async runStartupCommands(){const e=this.configService.getSettings(this.resourceUri);let t=e.runStartupCommands||e.runMagicCommands;if(Array.isArray(t)&&(t=t.join("\n")),t){a.traceInfoIf(v.isCI,"Begin Run startup code for notebook");const e=t.replace(/\\n/g,"\n");await this.executeSilently(e),a.traceInfoIf(v.isCI,"Run startup code for notebook: "+e)}}async updateWorkingDirectoryAndPath(e){if(a.traceInfo("UpdateWorkingDirectoryAndPath in Kernel"),this.connection&&this.connection.localLaunch){a.traceInfoIf(v.isCI,"Step E");const t=await w.calculateWorkingDirectory(this.configService,this.workspaceService,this.fs);if(a.traceInfoIf(v.isCI,"Step F"),t&&await this.fs.localDirectoryExists(t))return this._workingDirectory=t,this.changeDirectoryIfPossible(this._workingDirectory);if(e&&await this.fs.localFileExists(e)&&await this.fs.localDirectoryExists(i.dirname(e))&&(this._workingDirectory=S.expandWorkingDir(t,e,this.workspaceService),this._workingDirectory))return this.changeDirectoryIfPossible(this._workingDirectory)}a.traceInfoIf(v.isCI,"Step G")}async executeSilently(e){this.notebook&&await x(this.notebook.session,e)}},t.executeSilently=x,t.getPlainTextOrStreamOutput=function(e){if(e.length>0){const t=e[0].data;if(t&&t.hasOwnProperty("text/plain"))return E.concatMultilineString(t["text/plain"]);if("stream"===e[0].output_type){const t=e[0];return E.concatMultilineString(t.text,!0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNames=void 0;const r=n(3);t.ProductNames=new Map,t.ProductNames.set(r.Product.jupyter,"jupyter"),t.ProductNames.set(r.Product.notebook,"notebook"),t.ProductNames.set(r.Product.ipykernel,"ipykernel"),t.ProductNames.set(r.Product.nbconvert,"nbconvert"),t.ProductNames.set(r.Product.kernelspec,"kernelspec"),t.ProductNames.set(r.Product.pandas,"pandas")},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(1062);o.default.install();const s=n(457),a=n(6),c=n(28),l=n(61),u=n(110);i(n(457),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),s.Disposable.create(()=>this.process.off("message",e))}}t.IPCMessageReader=d;class h extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=h;class p extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(o.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class f extends s.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=f;class m extends s.ReadableStreamMessageReader{constructor(e,t){super(o.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=m;class g extends s.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=g;const v=process.env.XDG_RUNTIME_DIR,y=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=l.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?a.join(v,`vscode-ipc-${e}.sock`):a.join(c.tmpdir(),`vscode-${e}.sock`);const n=y.get(process.platform);return void 0!==n&&t.length>=n&&o.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let s=u.createServer(e=>{s.close(),n([new p(e,t),new f(e,t)])});s.on("error",o),s.listen(e,()=>{s.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=u.createConnection(e);return[new p(n,t),new f(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{const s=u.createServer(e=>{s.close(),n([new p(e,t),new f(e,t)])});s.on("error",o),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=u.createConnection(e,"127.0.0.1");return[new p(n,t),new f(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=s.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new m(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new g(t):t;return s.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),s.createMessageConnection(i,o,n,r)}},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(117);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(e){r.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInstallError=void 0;const r=n(29);n(15);const i=n(5);class o extends r.BaseError{constructor(e,t){super("jupyterinstall",e),this.action=i.HelpLinks.PythonInteractiveHelpLink,this.actionTitle=t.format(i.HelpLinks.PythonInteractiveHelpLink)}}t.JupyterInstallError=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerSelector=void 0;const o=n(0),s=n(224),a=n(1),c=n(7),l=n(10),u=n(9),d=n(235),h=n(137),p=n(8),f=n(5),m=n(13),g="https://hostname:8080/?token=849d61a414abafab97bc4aab1f3547755ddc232c2b8cb7fe";let v=class{constructor(e,t,n,r,i){this.clipboard=e,this.multiStepFactory=t,this.cmdManager=n,this.extraUriProviders=r,this.serverUriStorage=i,this.localLabel="$(zap) "+l.DataScience.jupyterSelectURILocalLabel(),this.newLabel="$(server) "+l.DataScience.jupyterSelectURINewLabel(),this.remoteLabel="$(server) "+l.DataScience.jupyterSelectURIRemoteLabel(),this.validateSelectJupyterURI=async e=>{try{if(new URL(e),!e.toLowerCase().includes("http"))throw new Error("Has to be http")}catch(e){return l.DataScience.jupyterSelectURIInvalidURI()}}}selectJupyterURI(e,t="nonUser"){p.sendTelemetryEvent(f.Telemetry.SetJupyterURIUIDisplayed,void 0,{commandSource:t});return this.multiStepFactory.create().run(this.startSelectingURI.bind(this,e),{})}async setJupyterURIToLocal(){const e=await this.serverUriStorage.getUri();await this.serverUriStorage.setUri(f.Settings.JupyterServerLocalLaunch),e!==f.Settings.JupyterServerLocalLaunch&&this.cmdManager.executeCommand("jupyter.reloadVSCode",l.DataScience.reloadAfterChangingJupyterServerConnection()).then(u.noop,u.noop)}async setJupyterURIToRemote(e){const t=await this.serverUriStorage.getUri();await this.serverUriStorage.setUri(e),p.sendTelemetryEvent(f.Telemetry.SetJupyterURIToUserSpecified,void 0,{azure:e.toLowerCase().includes("azure")}),t!==e&&this.cmdManager.executeCommand("jupyter.reloadVSCode",l.DataScience.reloadAfterChangingJupyterServerConnection()).then(u.noop,u.noop)}async startSelectingURI(e,t,n){const r=await this.getUriPickList(e),i=await this.serverUriStorage.getUri(),o=r.find(e=>e.url===i||e.label===this.localLabel&&i===f.Settings.JupyterServerLocalLaunch),a=i===f.Settings.JupyterServerLocalLaunch?l.DataScience.jupyterSelectURILocalLabel():null==o?void 0:o.label,c=a?l.DataScience.jupyterSelectURIQuickPickCurrent().format(a):l.DataScience.jupyterSelectURIQuickPickPlaceholder(),u=await t.showQuickPick({placeholder:c,items:await this.getUriPickList(e),activeItem:o,title:e?l.DataScience.jupyterSelectURIQuickPickTitle():l.DataScience.jupyterSelectURIQuickPickTitleRemoteOnly()});if(u.label===this.localLabel)await this.setJupyterURIToLocal();else{if(u.newChoice||u.provider)return u.provider?this.selectProviderURI.bind(this,u.provider,u):this.selectRemoteURI.bind(this);await this.setJupyterURIToRemote(s.isNil(u.url)?u.label:u.url)}}async selectProviderURI(e,t,n,r){const i=await e.handleQuickPick(t,!0);if("back"===i)throw d.InputFlowAction.back;i&&await this.handleProviderQuickPick(e.id,i)}async handleProviderQuickPick(e,t){if(t){const n=this.generateUriFromRemoteProvider(e,t);await this.setJupyterURIToRemote(n)}}generateUriFromRemoteProvider(e,t){return`${f.Identifiers.REMOTE_URI}?${f.Identifiers.REMOTE_URI_ID_PARAM}=${e}&${f.Identifiers.REMOTE_URI_HANDLE_PARAM}=${encodeURI(t)}`}async selectRemoteURI(e,t){let n=g;try{const e=await this.clipboard.readText().catch(()=>""),t=a.Uri.parse(e.trim(),!0);n=e&&t&&t.scheme.toLowerCase().startsWith("http")?e:g}catch(e){}const r=await e.showInputBox({title:l.DataScience.jupyterSelectURIPrompt(),value:n||g,validate:this.validateSelectJupyterURI,prompt:""});r&&await this.setJupyterURIToRemote(r)}async getUriPickList(e){let t=[];const n=await this.extraUriProviders.getProviders();n&&n.forEach(e=>{const n=e.getQuickPickEntryItems().map(t=>({...t,newChoice:!1,provider:e}));t=t.concat(n)});let r=[];e?(r.push({label:this.localLabel,detail:l.DataScience.jupyterSelectURILocalDetail(),newChoice:!1}),r=r.concat(t),r.push({label:this.newLabel,detail:l.DataScience.jupyterSelectURINewDetail(),newChoice:!0})):(r=r.concat(t),r.push({label:this.remoteLabel,detail:l.DataScience.jupyterSelectURIRemoteDetail(),newChoice:!0}));return(await this.serverUriStorage.getSavedUriList()).forEach(e=>{if(e.uri){const t=new Date(e.time);r.push({label:s.isNil(e.displayName)?e.uri:e.displayName,detail:l.DataScience.jupyterSelectURIMRUDetail().format(t.toLocaleString()),newChoice:!1,url:e.uri})}}),r}};r([p.captureTelemetry(f.Telemetry.SelectJupyterURI),h.traceDecorators.error("Failed to select Jupyter Uri")],v.prototype,"selectJupyterURI",null),r([p.captureTelemetry(f.Telemetry.SetJupyterURIToLocal)],v.prototype,"setJupyterURIToLocal",null),v=r([o.injectable(),i(0,o.inject(c.IClipboard)),i(1,o.inject(d.IMultiStepInputFactory)),i(2,o.inject(c.ICommandManager)),i(3,o.inject(m.IJupyterUriProviderRegistration)),i(4,o.inject(m.IJupyterServerUriStorage))],v),t.JupyterServerSelector=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52);!function(e){e.createMessage=function(e){if("comm_info_request"===e.msgType){const t=e.content;void 0===t.target_name&&(t.target_name=t.target),delete t.target}return{buffers:e.buffers||[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:e.msgId||r.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:e.username||"",version:"5.2"},metadata:e.metadata||{},parent_header:e.parentHeader||{}}},e.isStreamMsg=function(e){return"stream"===e.header.msg_type},e.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},e.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},e.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},e.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},e.isErrorMsg=function(e){return"error"===e.header.msg_type},e.isStatusMsg=function(e){return"status"===e.header.msg_type},e.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},e.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},e.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},e.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},e.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},e.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},e.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},e.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},e.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},e.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},e.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type}}(t.KernelMessage||(t.KernelMessage={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=1,i=function(){return Promise.resolve()}(),o={};function s(e){return e in o&&(delete o[e],!0)}var a={setImmediate:function(e){var t=r++;return o[t]=!0,i.then((function(){return s(t)&&e()})),t},clearImmediate:function(e){s(e)}}},function(e,t,n){"use strict";const r=n(201),{LEVEL:i,MESSAGE:o}=n(23);r.enabled=!0;const s=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce((t,n)=>(t[n]=s.test(e[n])?e[n].split(s):e[n],t),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,n){if(void 0===n&&(n=t),!Array.isArray(a.allColors[e]))return r[a.allColors[e]](n);for(let t=0,i=a.allColors[e].length;t<i;t++)n=r[a.allColors[e][t]](n);return n}transform(e,t){return t.all&&"string"==typeof e[o]&&(e[o]=this.colorize(e[i],e.level,e[o])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},function(e,t,n){var r=n(731);e.exports=r},function(e,t,n){"use strict";var r=n(172).Colorizer;e.exports=function(e){return r.addColors(e.colors||e),e}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(23),a=s.configs,c=s.LEVEL,l=s.MESSAGE,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:a.npm.levels};i(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,n,s;return t=e,s=[{key:"getLongestLevel",value:function(e){var t=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,r(t))}},{key:"paddingForLevel",value:function(e,t,n){var r=n+1-e.length,i=Math.floor(r/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,r)}},{key:"paddingForLevels",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,n,r),t}),{})}}],(n=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[c]]).concat(e.message),e[l]&&(e[l]="".concat(this.paddings[e[c]]).concat(e[l])),e}}])&&o(t.prototype,n),s&&o(t,s),e}();e.exports=function(e){return new u(e)},e.exports.Padder=e.exports.Format=u},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=i)return s(e,t,i,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,n){"use strict";var r=n(205),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=n(42);o.inherits=n(27);var s=n(761),a=n(365);o.inherits(d,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var r,i=n(768),o=(r=i)&&r.__esModule?r:{default:r};var s="function"==typeof Symbol;function a(e){return s&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,o.default)(e):e},t.isAsync=a},function(e,t,n){var r=n(374),i=n(781),o=n(174);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){"use strict";var r=n(788),i=n(796),o=n(798),s=n(18),a=n(211).isatty(1),c=process.stdout;function l(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?o(e,r(e)):e,t.stream=t.stream||c,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=s.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach((function(t){t.write(e)}))}):function(){}}l.to=function(e){return c=e,l},e.exports=l},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("string_decoder")},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return I})),n.d(t,"Request",(function(){return H})),n.d(t,"Response",(function(){return R})),n.d(t,"FetchError",(function(){return h}));var r=n(17),i=n(48),o=n(31),s=n(58),a=n(44);const c=r.Readable,l=Symbol("buffer"),u=Symbol("type");class d{constructor(){this[u]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof d?i[l]:Buffer.from("string"==typeof i?i:String(i)),r+=o.length,n.push(o)}}this[l]=Buffer.concat(n);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[u]=i)}get size(){return this[l].length}get type(){return this[u]}text(){return Promise.resolve(this[l].toString())}arrayBuffer(){const e=this[l],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[l]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,i;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(i-r,0),s=this[l].slice(r,r+o),a=new d([],{type:arguments[2]});return a[l]=s,a}}function h(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let p;Object.defineProperties(d.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(d.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="FetchError";try{p=require("encoding").convert}catch(e){}const f=Symbol("Body internals"),m=r.PassThrough;function g(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.size;let o=void 0===i?0:i;var s=n.timeout;let a=void 0===s?0:s;null==e?e=null:y(e)?e=Buffer.from(e.toString()):b(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof r||(e=Buffer.from(String(e)))),this[f]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=a,e instanceof r&&e.on("error",(function(e){const n="AbortError"===e.name?e:new h(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=n}))}function v(){var e=this;if(this[f].disturbed)return g.Promise.reject(new TypeError("body used already for: "+this.url));if(this[f].disturbed=!0,this[f].error)return g.Promise.reject(this[f].error);let t=this.body;if(null===t)return g.Promise.resolve(Buffer.alloc(0));if(b(t)&&(t=t.stream()),Buffer.isBuffer(t))return g.Promise.resolve(t);if(!(t instanceof r))return g.Promise.resolve(Buffer.alloc(0));let n=[],i=0,o=!1;return new g.Promise((function(r,s){let a;e.timeout&&(a=setTimeout((function(){o=!0,s(new h(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(o=!0,s(t)):s(new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!o&&null!==t){if(e.size&&i+t.length>e.size)return o=!0,void s(new h(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=t.length,n.push(t)}})),t.on("end",(function(){if(!o){clearTimeout(a);try{r(Buffer.concat(n,i))}catch(t){s(new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function b(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function _(e){let t,n,i=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof r&&"function"!=typeof i.getBoundary&&(t=new m,n=new m,i.pipe(t),i.pipe(n),e[f].body=t,i=n),i}function w(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":y(e)?"application/x-www-form-urlencoded;charset=UTF-8":b(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof r?null:"text/plain;charset=UTF-8"}function S(e){const t=e.body;return null===t?0:b(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}g.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return v.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return v.call(this).then((function(t){return Object.assign(new d([],{type:e.toLowerCase()}),{[l]:t})}))},json(){var e=this;return v.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return g.Promise.reject(new h(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return v.call(this).then((function(e){return e.toString()}))},buffer(){return v.call(this)},textConverted(){var e=this;return v.call(this).then((function(t){return function(e,t){if("function"!=typeof p)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,i,o="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));i=e.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));r&&(o=r.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return p(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(g.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),g.mixIn=function(e){for(const t of Object.getOwnPropertyNames(g.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(g.prototype,t);Object.defineProperty(e,t,n)}},g.Promise=global.Promise;const E=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function C(e){if(e=""+e,E.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function k(e){if(e=""+e,x.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function D(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const T=Symbol("map");class I{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[T]=Object.create(null),e instanceof I){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){C(e=""+e);const t=D(this[T],e);return void 0===t?null:this[T][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=M(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],s=i[1];e.call(t,s,o,this),n=M(this),r++}}set(e,t){t=""+t,C(e=""+e),k(t);const n=D(this[T],e);this[T][void 0!==n?n:e]=[t]}append(e,t){t=""+t,C(e=""+e),k(t);const n=D(this[T],e);void 0!==n?this[T][n].push(t):this[T][e]=[t]}has(e){return C(e=""+e),void 0!==D(this[T],e)}delete(e){C(e=""+e);const t=D(this[T],e);void 0!==t&&delete this[T][t]}raw(){return this[T]}keys(){return j(this,"key")}values(){return j(this,"value")}[Symbol.iterator](){return j(this,"key+value")}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[T]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[T][t].join(", ")}:function(t){return[t.toLowerCase(),e[T][t].join(", ")]})}I.prototype.entries=I.prototype[Symbol.iterator],Object.defineProperty(I.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(I.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const P=Symbol("internal");function j(e,t){const n=Object.create(L);return n[P]={target:e,kind:t,index:0},n}const L=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==L)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[P];const t=e.target,n=e.kind,r=e.index,i=M(t,n);return r>=i.length?{value:void 0,done:!0}:(this[P].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function O(e){const t=Object.assign({__proto__:null},e[T]),n=D(e[T],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(L,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const A=Symbol("Response internals"),N=i.STATUS_CODES;class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.call(this,e,t);const n=t.status||200,r=new I(t.headers);if(null!=e&&!r.has("Content-Type")){const t=w(e);t&&r.append("Content-Type",t)}this[A]={url:t.url,status:n,statusText:t.statusText||N[n],headers:r,counter:t.counter}}get url(){return this[A].url||""}get status(){return this[A].status}get ok(){return this[A].status>=200&&this[A].status<300}get redirected(){return this[A].counter>0}get statusText(){return this[A].statusText}get headers(){return this[A].headers}clone(){return new R(_(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}g.mixIn(R.prototype),Object.defineProperties(R.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(R.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const F=Symbol("Request internals"),B=o.parse,U=o.format,Y="destroy"in r.Readable.prototype;function W(e){return"object"==typeof e&&"object"==typeof e[F]}class H{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(e)?t=B(e.url):(t=e&&e.href?B(e.href):B(""+e),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||W(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:W(e)&&null!==e.body?_(e):null;g.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new I(n.headers||e.headers||{});if(null!=i&&!o.has("Content-Type")){const e=w(i);e&&o.append("Content-Type",e)}let s=W(e)?e.signal:null;if("signal"in n&&(s=n.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[F]={method:r,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:s},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[F].method}get url(){return U(this[F].parsedURL)}get headers(){return this[F].headers}get redirect(){return this[F].redirect}get signal(){return this[F].signal}clone(){return new H(this)}}function V(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}g.mixIn(H.prototype),Object.defineProperty(H.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(H.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V.prototype.name="AbortError";const K=r.PassThrough,q=o.resolve;function J(e,t){if(!J.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return g.Promise=J.Promise,new J.Promise((function(n,o){const c=new H(e,t),l=function(e){const t=e[F].parsedURL,n=new I(e[F].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof r.Readable&&!Y)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(i="0"),null!=e.body){const t=S(e);"number"==typeof t&&(i=String(t))}i&&n.set("Content-Length",i),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(t)),n.has("Connection")||o||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:O(n),agent:o})}(c),u=("https:"===l.protocol?s:i).request,d=c.signal;let p=null;const f=function(){let e=new V("The user aborted a request.");o(e),c.body&&c.body instanceof r.Readable&&c.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(d&&d.aborted)return void f();const m=function(){f(),y()},g=u(l);let v;function y(){g.abort(),d&&d.removeEventListener("abort",m),clearTimeout(v)}d&&d.addEventListener("abort",m),c.timeout&&g.once("socket",(function(e){v=setTimeout((function(){o(new h("network timeout at: "+c.url,"request-timeout")),y()}),c.timeout)})),g.on("error",(function(e){o(new h(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),y()})),g.on("response",(function(e){clearTimeout(v);const t=function(e){const t=new I;for(const n of Object.keys(e))if(!E.test(n))if(Array.isArray(e[n]))for(const r of e[n])x.test(r)||(void 0===t[T][n]?t[T][n]=[r]:t[T][n].push(r));else x.test(e[n])||(t[T][n]=[e[n]]);return t}(e.headers);if(J.isRedirect(e.statusCode)){const r=t.get("Location"),i=null===r?null:q(c.url,r);switch(c.redirect){case"error":return o(new h("uri requested responds with a redirect, redirect mode is set to error: "+c.url,"no-redirect")),void y();case"manual":if(null!==i)try{t.set("Location",i)}catch(e){o(e)}break;case"follow":if(null===i)break;if(c.counter>=c.follow)return o(new h("maximum redirect reached at: "+c.url,"max-redirect")),void y();const r={headers:new I(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==e.statusCode&&c.body&&null===S(c)?(o(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void y()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),n(J(new H(i,r))),void y())}}e.once("end",(function(){d&&d.removeEventListener("abort",m)}));let r=e.pipe(new K);const i={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},s=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===s||204===e.statusCode||304===e.statusCode)return p=new R(r,i),void n(p);const l={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if("gzip"==s||"x-gzip"==s)return r=r.pipe(a.createGunzip(l)),p=new R(r,i),void n(p);if("deflate"!=s&&"x-deflate"!=s){if("br"==s&&"function"==typeof a.createBrotliDecompress)return r=r.pipe(a.createBrotliDecompress()),p=new R(r,i),void n(p);p=new R(r,i),n(p)}else{e.pipe(new K).once("data",(function(e){r=8==(15&e[0])?r.pipe(a.createInflate()):r.pipe(a.createInflateRaw()),p=new R(r,i),n(p)}))}})),function(e,t){const n=t.body;null===n?e.end():b(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(g,c)}))}J.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},J.Promise=global.Promise,t.default=J},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(11),i=n(49),o=n(30),s=n(75),a=n(76),c=n(93),l={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(i.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(c.a)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.b(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===l?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(12);function i(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var i=0,s=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(s++),r.closed)break}}))}function o(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(11),i=n(20),o=n(21),s=n(12),a=n(45);i.a;var c=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.b(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.a),l=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.b(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new u(n)),t.add(r.subscribe(e)),t},t}(s.a),u=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.b(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggingTelemetry=t.pythonKernelDebugAdapter=void 0,t.pythonKernelDebugAdapter="Python Kernel Debug Adapter",function(e){e.clickedOnSetup="DATASCIENCE.DEBUGGING.CLICKED_ON_SETUP",e.closedModal="DATASCIENCE.DEBUGGING.CLOSED_MODAL",e.ipykernel6Status="DATASCIENCE.DEBUGGING.IPYKERNEL6_STATUS",e.clickedRunByLine="DATASCIENCE.DEBUGGING.CLICKED_RUNBYLINE",e.successfullyStartedRunByLine="DATASCIENCE.DEBUGGING.SUCCESSFULLY_STARTED_RUNBYLINE",e.clickedRunAndDebugCell="DATASCIENCE.DEBUGGING.CLICKED_RUN_AND_DEBUG_CELL",e.successfullyStartedRunAndDebugCell="DATASCIENCE.DEBUGGING.SUCCESSFULLY_STARTED_RUN_AND_DEBUG_CELL",e.endedSession="DATASCIENCE.DEBUGGING.ENDED_SESSION"}(t.DebuggingTelemetry||(t.DebuggingTelemetry={}))},function(e,t,n){"use strict";var r=n(48),i=n(58),o=n(51),s=n(88),a=n(186),c=n(877),l=n(183),u=n(143),d=n(416),h=n(286),p=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),h.IsInitialized&&(n(878).enable(e,this._client),n(879).enable(e,this._client),n(880).enable(e,this._client),n(881).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;r.get;var n=r.request,o=i.request,s=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(l.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};r.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=n.call.apply(n,[r,e].concat(t));return s(o,e),o},i.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=o.call.apply(o,[i,e].concat(t));return s(r,e),r},r.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,o=(i=r.request).call.apply(i,[r,e].concat(t));return o.end(),o},i.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=(r=i.request).call.apply(r,[i,e].concat(t));return o.end(),o}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,h=new c(n.options,n.request),p=l.CorrelationContextManager.getCurrentContext();if(p&&p.operation&&p.operation.traceparent&&d.isValidTraceId(p.operation.traceparent.traceId))p.operation.traceparent.updateSpanId(),r=p.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){i=(m=new d).toString(),r=m.getBackCompatRequestId()}else r=p&&p.operation&&p.operation.parentId+e.requestNumber+++".";if(s.canIncludeCorrelationHeader(t,h.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var f=n.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,n.request,f)}catch(e){o.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(p&&p.operation)try{if(n.request.setHeader(a.requestIdHeader,r),n.request.setHeader(a.parentIdHeader,p.operation.id),n.request.setHeader(a.rootIdHeader,r),i||p.operation.traceparent)n.request.setHeader(a.traceparentHeader,i||p.operation.traceparent.toString());else if(u.w3cEnabled){var m=(new d).toString();n.request.setHeader(a.traceparentHeader,m)}if(p.operation.tracestate){var g=p.operation.tracestate.toString();g&&n.request.setHeader(a.traceStateHeader,g)}var v=p.customProperties.serializeToHeader();v&&n.request.setHeader(a.correlationContextHeader,v)}catch(e){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){h.onResponse(e);var i=h.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),n.request.on("error",(function(e){h.onError(e);var i=h.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)})))}else o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},function(e,t){e.exports=require("constants")},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(910);e.exports={remove:r(i),removeSync:i.sync}},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",f="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",k="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",M="[object Uint16Array]",P="[object Uint32Array]",j=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,O=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,R=RegExp(A.source),F=RegExp(N.source),B=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,q=RegExp(K.source),J=/^\s+/,$=/\s/,z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,ue=/['\n\r\u2028\u2029\\]/g,de="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",fe="["+he+"]",me="["+de+"]",ge="\\d+",ve="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+he+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",we="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ce="(?:"+ye+"|"+be+")",ke="(?:"+xe+"|"+be+")",De="(?:"+me+"|"+_e+")"+"?",Te="[\\ufe0e\\ufe0f]?"+De+("(?:\\u200d(?:"+[we,Se,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+De+")*"),Ie="(?:"+[ve,Se,Ee].join("|")+")"+Te,Me="(?:"+[we+me+"?",me,Se,Ee,pe].join("|")+")",Pe=RegExp("[']","g"),je=RegExp(me,"g"),Le=RegExp(_e+"(?="+_e+")|"+Me+Te,"g"),Oe=RegExp([xe+"?"+ye+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[fe,xe,"$"].join("|")+")",ke+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[fe,xe+Ce,"$"].join("|")+")",xe+"?"+Ce+"+(?:['](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Ie].join("|"),"g"),Ae=RegExp("[\\u200d\\ud800-\\udfff"+de+"\\ufe0e\\ufe0f]"),Ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Be={};Be[x]=Be[C]=Be[k]=Be[D]=Be[T]=Be[I]=Be["[object Uint8ClampedArray]"]=Be[M]=Be[P]=!0,Be[a]=Be[c]=Be[S]=Be[l]=Be[E]=Be[u]=Be[d]=Be[h]=Be[f]=Be[m]=Be[g]=Be[v]=Be[y]=Be[b]=Be[w]=!1;var Ue={};Ue[a]=Ue[c]=Ue[S]=Ue[E]=Ue[l]=Ue[u]=Ue[x]=Ue[C]=Ue[k]=Ue[D]=Ue[T]=Ue[f]=Ue[m]=Ue[g]=Ue[v]=Ue[y]=Ue[b]=Ue[_]=Ue[I]=Ue["[object Uint8ClampedArray]"]=Ue[M]=Ue[P]=!0,Ue[d]=Ue[h]=Ue[w]=!1;var Ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},We=parseFloat,He=parseInt,Ve="object"==typeof global&&global&&global.Object===Object&&global,Ke="object"==typeof self&&self&&self.Object===Object&&self,qe=Ve||Ke||Function("return this")(),Je=t&&!t.nodeType&&t,$e=Je&&"object"==typeof e&&e&&!e.nodeType&&e,ze=$e&&$e.exports===Je,Ge=ze&&Ve.process,Qe=function(){try{var e=$e&&$e.require&&$e.require("util").types;return e||Ge&&Ge.binding&&Ge.binding("util")}catch(e){}}(),Xe=Qe&&Qe.isArrayBuffer,Ze=Qe&&Qe.isDate,et=Qe&&Qe.isMap,tt=Qe&&Qe.isRegExp,nt=Qe&&Qe.isSet,rt=Qe&&Qe.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ut(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ht(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var vt=xt("length");function yt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function _t(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,St,n)}function wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function St(e){return e!=e}function Et(e,t){var n=null==e?0:e.length;return n?Dt(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function Ct(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Dt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Tt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function It(e){return e?e.slice(0,Jt(e)+1).replace(J,""):e}function Mt(e){return function(t){return e(t)}}function Pt(e,t){return ht(t,(function(t){return e[t]}))}function jt(e,t){return e.has(t)}function Lt(e,t){for(var n=-1,r=e.length;++n<r&&_t(t,e[n],0)>-1;);return n}function Ot(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function At(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Nt=Ct({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Rt=Ct({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+Ye[e]}function Bt(e){return Ae.test(e)}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Yt(e,t){return function(n){return e(t(n))}}function Wt(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function Ht(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Kt(e){return Bt(e)?function(e){var t=Le.lastIndex=0;for(;Le.test(e);)++t;return t}(e):vt(e)}function qt(e){return Bt(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.split("")}(e)}function Jt(e){for(var t=e.length;t--&&$.test(e.charAt(t)););return t}var $t=Ct({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var zt=function e(t){var n,r=(t=null==t?qe:zt.defaults(qe.Object(),t,zt.pick(qe,Re))).Array,$=t.Date,de=t.Error,he=t.Function,pe=t.Math,fe=t.Object,me=t.RegExp,ge=t.String,ve=t.TypeError,ye=r.prototype,be=he.prototype,_e=fe.prototype,we=t["__core-js_shared__"],Se=be.toString,Ee=_e.hasOwnProperty,xe=0,Ce=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ke=_e.toString,De=Se.call(fe),Te=qe._,Ie=me("^"+Se.call(Ee).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=ze?t.Buffer:void 0,Le=t.Symbol,Ae=t.Uint8Array,Ye=Me?Me.allocUnsafe:void 0,Ve=Yt(fe.getPrototypeOf,fe),Ke=fe.create,Je=_e.propertyIsEnumerable,$e=ye.splice,Ge=Le?Le.isConcatSpreadable:void 0,Qe=Le?Le.iterator:void 0,vt=Le?Le.toStringTag:void 0,Ct=function(){try{var e=eo(fe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gt=t.clearTimeout!==qe.clearTimeout&&t.clearTimeout,Qt=$&&$.now!==qe.Date.now&&$.now,Xt=t.setTimeout!==qe.setTimeout&&t.setTimeout,Zt=pe.ceil,en=pe.floor,tn=fe.getOwnPropertySymbols,nn=Me?Me.isBuffer:void 0,rn=t.isFinite,on=ye.join,sn=Yt(fe.keys,fe),an=pe.max,cn=pe.min,ln=$.now,un=t.parseInt,dn=pe.random,hn=ye.reverse,pn=eo(t,"DataView"),fn=eo(t,"Map"),mn=eo(t,"Promise"),gn=eo(t,"Set"),vn=eo(t,"WeakMap"),yn=eo(fe,"create"),bn=vn&&new vn,_n={},wn=To(pn),Sn=To(fn),En=To(mn),xn=To(gn),Cn=To(vn),kn=Le?Le.prototype:void 0,Dn=kn?kn.valueOf:void 0,Tn=kn?kn.toString:void 0;function In(e){if(Ks(e)&&!Os(e)&&!(e instanceof Ln)){if(e instanceof jn)return e;if(Ee.call(e,"__wrapped__"))return Io(e)}return new jn(e)}var Mn=function(){function e(){}return function(t){if(!Vs(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Pn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function An(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new An(e);this.size=t.size}function Bn(e,t){var n=Os(e),r=!n&&Ls(e),i=!n&&!r&&Fs(e),o=!n&&!r&&!i&&Zs(e),s=n||r||i||o,a=s?Tt(e.length,ge):[],c=a.length;for(var l in e)!t&&!Ee.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ao(l,c))||a.push(l);return a}function Un(e){var t=e.length;return t?e[Rr(0,t-1)]:void 0}function Yn(e,t){return Co(yi(e),Gn(t,0,e.length))}function Wn(e){return Co(yi(e))}function Hn(e,t,n){(void 0!==n&&!Ms(e[t],n)||void 0===n&&!(t in e))&&$n(e,t,n)}function Vn(e,t,n){var r=e[t];Ee.call(e,t)&&Ms(r,n)&&(void 0!==n||t in e)||$n(e,t,n)}function Kn(e,t){for(var n=e.length;n--;)if(Ms(e[n][0],t))return n;return-1}function qn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Jn(e,t){return e&&bi(t,wa(t),e)}function $n(e,t,n){"__proto__"==t&&Ct?Ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function zn(e,t){for(var n=-1,i=t.length,o=r(i),s=null==e;++n<i;)o[n]=s?void 0:ga(e,t[n]);return o}function Gn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qn(e,t,n,r,i,o){var s,c=1&t,d=2&t,w=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!Vs(e))return e;var j=Os(e);if(j){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return yi(e,s)}else{var L=ro(e),O=L==h||L==p;if(Fs(e))return hi(e,c);if(L==g||L==a||O&&!i){if(s=d||O?{}:oo(e),!c)return d?function(e,t){return bi(e,no(e),t)}(e,function(e,t){return e&&bi(t,Sa(t),e)}(s,e)):function(e,t){return bi(e,to(e),t)}(e,Jn(s,e))}else{if(!Ue[L])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case S:return pi(e);case l:case u:return new r(+e);case E:return function(e,t){var n=t?pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case x:case C:case k:case D:case T:case I:case"[object Uint8ClampedArray]":case M:case P:return fi(e,n);case f:return new r;case m:case b:return new r(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case _:return i=e,Dn?fe(Dn.call(i)):{}}var i}(e,L,c)}}o||(o=new Fn);var A=o.get(e);if(A)return A;o.set(e,s),Gs(e)?e.forEach((function(r){s.add(Qn(r,t,n,r,e,o))})):qs(e)&&e.forEach((function(r,i){s.set(i,Qn(r,t,n,i,e,o))}));var N=j?void 0:(w?d?Ji:qi:d?Sa:wa)(e);return st(N||e,(function(r,i){N&&(r=e[i=r]),Vn(s,i,Qn(r,t,n,i,e,o))})),s}function Xn(e,t,n){var r=n.length;if(null==e)return!r;for(e=fe(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ve(i);return wo((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=ut,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=ht(t,Mt(n))),r?(o=dt,s=!1):t.length>=200&&(o=jt,s=!1,t=new Rn(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else o(t,d,r)||c.push(u)}return c}In.templateSettings={escape:B,evaluate:U,interpolate:Y,variable:"",imports:{_:In}},In.prototype=Pn.prototype,In.prototype.constructor=In,jn.prototype=Mn(Pn.prototype),jn.prototype.constructor=jn,Ln.prototype=Mn(Pn.prototype),Ln.prototype.constructor=Ln,On.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},On.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},On.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},On.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Ee.call(t,e)},On.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},An.prototype.clear=function(){this.__data__=[],this.size=0},An.prototype.delete=function(e){var t=this.__data__,n=Kn(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},An.prototype.get=function(e){var t=this.__data__,n=Kn(t,e);return n<0?void 0:t[n][1]},An.prototype.has=function(e){return Kn(this.__data__,e)>-1},An.prototype.set=function(e,t){var n=this.__data__,r=Kn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new On,map:new(fn||An),string:new On}},Nn.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Nn.prototype.get=function(e){return Xi(this,e).get(e)},Nn.prototype.has=function(e){return Xi(this,e).has(e)},Nn.prototype.set=function(e,t){var n=Xi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new An,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof An){var r=n.__data__;if(!fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(e,t),this.size=n.size,this};var tr=Si(lr),nr=Si(ur,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Xs(s):n(s,a)))var a=s,c=o}return c}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function sr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=so),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?sr(a,t-1,n,r,i):pt(i,a):r||(i[i.length]=a)}return i}var ar=Ei(),cr=Ei(!0);function lr(e,t){return e&&ar(e,t,wa)}function ur(e,t){return e&&cr(e,t,wa)}function dr(e,t){return lt(t,(function(t){return Ys(e[t])}))}function hr(e,t){for(var n=0,r=(t=ci(t,e)).length;null!=e&&n<r;)e=e[Do(t[n++])];return n&&n==r?e:void 0}function pr(e,t,n){var r=t(e);return Os(e)?r:pt(r,n(e))}function fr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in fe(e)?function(e){var t=Ee.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var i=ke.call(e);r&&(t?e[vt]=n:delete e[vt]);return i}(e):function(e){return ke.call(e)}(e)}function mr(e,t){return e>t}function gr(e,t){return null!=e&&Ee.call(e,t)}function vr(e,t){return null!=e&&t in fe(e)}function yr(e,t,n){for(var i=n?dt:ut,o=e[0].length,s=e.length,a=s,c=r(s),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=ht(d,Mt(t))),l=cn(d.length,l),c[a]=!n&&(t||o>=120&&d.length>=120)?new Rn(a&&d):void 0}d=e[0];var h=-1,p=c[0];e:for(;++h<o&&u.length<l;){var f=d[h],m=t?t(f):f;if(f=n||0!==f?f:0,!(p?jt(p,m):i(u,m,n))){for(a=s;--a;){var g=c[a];if(!(g?jt(g,m):i(e[a],m,n)))continue e}p&&p.push(m),u.push(f)}}return u}function br(e,t,n){var r=null==(e=vo(e,t=ci(t,e)))?e:e[Do(Uo(t))];return null==r?void 0:it(r,e,n)}function _r(e){return Ks(e)&&fr(e)==a}function wr(e,t,n,r,i){return e===t||(null==e||null==t||!Ks(e)&&!Ks(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=Os(e),h=Os(t),p=s?c:ro(e),w=h?c:ro(t),x=(p=p==a?g:p)==g,C=(w=w==a?g:w)==g,k=p==w;if(k&&Fs(e)){if(!Fs(t))return!1;s=!0,x=!1}if(k&&!x)return o||(o=new Fn),s||Zs(e)?Vi(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!o(new Ae(e),new Ae(t)));case l:case u:case m:return Ms(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case f:var a=Ut;case y:var c=1&r;if(a||(a=Ht),e.size!=t.size&&!c)return!1;var h=s.get(e);if(h)return h==t;r|=2,s.set(e,t);var p=Vi(a(e),a(t),r,i,o,s);return s.delete(e),p;case _:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,p,n,r,i,o);if(!(1&n)){var D=x&&Ee.call(e,"__wrapped__"),T=C&&Ee.call(t,"__wrapped__");if(D||T){var I=D?e.value():e,M=T?t.value():t;return o||(o=new Fn),i(I,M,n,r,o)}}if(!k)return!1;return o||(o=new Fn),function(e,t,n,r,i,o){var s=1&n,a=qi(e),c=a.length,l=qi(t).length;if(c!=l&&!s)return!1;var u=c;for(;u--;){var d=a[u];if(!(s?d in t:Ee.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);var m=s;for(;++u<c;){d=a[u];var g=e[d],v=t[d];if(r)var y=s?r(v,g,d,t,e,o):r(g,v,d,e,t,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o)}(e,t,n,r,wr,i))}function Sr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=fe(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],l=e[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Fn;if(r)var h=r(l,u,c,e,t,d);if(!(void 0===h?wr(u,l,3,r,d):h))return!1}}return!0}function Er(e){return!(!Vs(e)||(t=e,Ce&&Ce in t))&&(Ys(e)?Ie:oe).test(To(e));var t}function xr(e){return"function"==typeof e?e:null==e?Ja:"object"==typeof e?Os(e)?Mr(e[0],e[1]):Ir(e):nc(e)}function Cr(e){if(!po(e))return sn(e);var t=[];for(var n in fe(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function kr(e){if(!Vs(e))return function(e){var t=[];if(null!=e)for(var n in fe(e))t.push(n);return t}(e);var t=po(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Tr(e,t){var n=-1,i=Ns(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ir(e){var t=Zi(e);return 1==t.length&&t[0][2]?mo(t[0][0],t[0][1]):function(n){return n===e||Sr(n,e,t)}}function Mr(e,t){return lo(e)&&fo(t)?mo(Do(e),t):function(n){var r=ga(n,e);return void 0===r&&r===t?va(n,e):wr(t,r,3)}}function Pr(e,t,n,r,i){e!==t&&ar(t,(function(o,s){if(i||(i=new Fn),Vs(o))!function(e,t,n,r,i,o,s){var a=bo(e,n),c=bo(t,n),l=s.get(c);if(l)return void Hn(e,n,l);var u=o?o(a,c,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=Os(c),p=!h&&Fs(c),f=!h&&!p&&Zs(c);u=c,h||p||f?Os(a)?u=a:Rs(a)?u=yi(a):p?(d=!1,u=hi(c,!0)):f?(d=!1,u=fi(c,!0)):u=[]:$s(c)||Ls(c)?(u=a,Ls(a)?u=aa(a):Vs(a)&&!Ys(a)||(u=oo(c))):d=!1}d&&(s.set(c,u),i(u,c,r,o,s),s.delete(c));Hn(e,n,u)}(e,t,s,n,Pr,r,i);else{var a=r?r(bo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),Hn(e,s,a)}}),Sa)}function jr(e,t){var n=e.length;if(n)return ao(t+=t<0?n:0,n)?e[t]:void 0}function Lr(e,t,n){t=t.length?ht(t,(function(e){return Os(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[Ja];var r=-1;return t=ht(t,Mt(Qi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Tr(e,(function(e,n,i){return{criteria:ht(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var c=mi(i[r],o[r]);if(c){if(r>=a)return c;var l=n[r];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Or(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=hr(e,s);n(a,s)&&Wr(o,ci(s,e),a)}return o}function Ar(e,t,n,r){var i=r?wt:_t,o=-1,s=t.length,a=e;for(e===t&&(t=yi(t)),n&&(a=ht(e,Mt(n)));++o<s;)for(var c=0,l=t[o],u=n?n(l):l;(c=i(a,u,c,r))>-1;)a!==e&&$e.call(a,c,1),$e.call(e,c,1);return e}function Nr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ao(i)?$e.call(e,i,1):ei(e,i)}}return e}function Rr(e,t){return e+en(dn()*(t-e+1))}function Fr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Br(e,t){return So(go(e,t,Ja),e+"")}function Ur(e){return Un(Ma(e))}function Yr(e,t){var n=Ma(e);return Co(n,Gn(t,0,n.length))}function Wr(e,t,n,r){if(!Vs(e))return e;for(var i=-1,o=(t=ci(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=Do(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=Vs(u)?u:ao(t[i+1])?[]:{})}Vn(a,c,l),a=a[c]}return e}var Hr=bn?function(e,t){return bn.set(e,t),e}:Ja,Vr=Ct?function(e,t){return Ct(e,"toString",{configurable:!0,enumerable:!1,value:Va(t),writable:!0})}:Ja;function Kr(e){return Co(Ma(e))}function qr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function Jr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function $r(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Xs(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return zr(e,t,Ja,n)}function zr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,c=Xs(t),l=void 0===t;i<o;){var u=en((i+o)/2),d=n(e[u]),h=void 0!==d,p=null===d,f=d==d,m=Xs(d);if(s)var g=r||f;else g=l?f&&(r||h):a?f&&h&&(r||!p):c?f&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);g?i=u+1:o=u}return cn(o,4294967294)}function Gr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ms(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function Qr(e){return"number"==typeof e?e:Xs(e)?NaN:+e}function Xr(e){if("string"==typeof e)return e;if(Os(e))return ht(e,Xr)+"";if(Xs(e))return Tn?Tn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zr(e,t,n){var r=-1,i=ut,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=dt;else if(o>=200){var l=t?null:Fi(e);if(l)return Ht(l);s=!1,i=jt,c=new Rn}else c=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(u)}else i(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function ei(e,t){return null==(e=vo(e,t=ci(t,e)))||delete e[Do(Uo(t))]}function ti(e,t,n,r){return Wr(e,t,n(hr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?qr(e,r?0:o,r?o+1:i):qr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof Ln&&(n=n.value()),ft(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?Zr(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=er(s[o]||a,e[c],t,n));return Zr(sr(s,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s}function si(e){return Rs(e)?e:[]}function ai(e){return"function"==typeof e?e:Ja}function ci(e,t){return Os(e)?e:lo(e,t)?[e]:ko(ca(e))}var li=Br;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:qr(e,t,n)}var di=Gt||function(e){return qe.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function pi(e){var t=new e.constructor(e.byteLength);return new Ae(t).set(new Ae(e)),t}function fi(e,t){var n=t?pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Xs(e),s=void 0!==t,a=null===t,c=t==t,l=Xs(t);if(!a&&!l&&!o&&e>t||o&&s&&c&&!a&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}function gi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,l=t.length,u=an(s-a,0),d=r(l+u),h=!i;++c<l;)d[c]=t[c];for(;++o<a;)(h||o<s)&&(d[n[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}function vi(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,l=-1,u=t.length,d=an(s-c,0),h=r(d+u),p=!i;++o<d;)h[o]=e[o];for(var f=o;++l<u;)h[f+l]=t[l];for(;++a<c;)(p||o<s)&&(h[f+n[a]]=e[o++]);return h}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function bi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=r?r(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),i?$n(n,a,c):Vn(n,a,c)}return n}function _i(e,t){return function(n,r){var i=Os(n)?ot:qn,o=t?t():{};return i(n,e,Qi(r,2),o)}}function wi(e){return Br((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&co(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=fe(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function Si(e,t){return function(n,r){if(null==n)return n;if(!Ns(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=fe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=fe(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function xi(e){return function(t){var n=Bt(t=ca(t))?qt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Ci(e){return function(t){return ft(Ya(La(t).replace(Pe,"")),e,"")}}function ki(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mn(e.prototype),r=e.apply(n,t);return Vs(r)?r:n}}function Di(e){return function(t,n,r){var i=fe(t);if(!Ns(t)){var o=Qi(n,3);t=wa(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Ti(e){return Ki((function(t){var n=t.length,r=n,o=jn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ve(i);if(o&&!a&&"wrapper"==zi(s))var a=new jn([],!0)}for(r=a?r:n;++r<n;){var c=zi(s=t[r]),l="wrapper"==c?$i(s):void 0;a=l&&uo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[zi(l[0])].apply(a,l[3]):1==s.length&&uo(s)?a[c]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Os(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ii(e,t,n,i,o,s,a,c,l,u){var d=128&t,h=1&t,p=2&t,f=24&t,m=512&t,g=p?void 0:ki(e);return function v(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(f)var w=Gi(v),S=At(b,w);if(i&&(b=gi(b,i,o,f)),s&&(b=vi(b,s,a,f)),y-=S,f&&y<u){var E=Wt(b,w);return Ni(e,t,Ii,v.placeholder,n,b,E,c,l,u-y)}var x=h?n:this,C=p?x[e]:e;return y=b.length,c?b=yo(b,c):m&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==qe&&this instanceof v&&(C=g||ki(C)),C.apply(x,b)}}function Mi(e,t){return function(n,r){return function(e,t,n,r){return lr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Pi(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Xr(n),r=Xr(r)):(n=Qr(n),r=Qr(r)),i=e(n,r)}return i}}function ji(e){return Ki((function(t){return t=ht(t,Mt(Qi())),Br((function(n){var r=this;return e(t,(function(e){return it(e,r,n)}))}))}))}function Li(e,t){var n=(t=void 0===t?" ":Xr(t)).length;if(n<2)return n?Fr(t,e):t;var r=Fr(t,Zt(e/Kt(t)));return Bt(t)?ui(qt(r),0,e).join(""):r.slice(0,e)}function Oi(e){return function(t,n,i){return i&&"number"!=typeof i&&co(t,n,i)&&(n=i=void 0),t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n,i){for(var o=-1,s=an(Zt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:ra(i),e)}}function Ai(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function Ni(e,t,n,r,i,o,s,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,i,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,c,l],h=n.apply(void 0,d);return uo(e)&&_o(h,d),h.placeholder=r,Eo(h,e,t)}function Ri(e){var t=pe[e];return function(e,n){if(e=sa(e),(n=null==n?0:cn(ia(n),292))&&rn(e)){var r=(ca(e)+"e").split("e");return+((r=(ca(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Fi=gn&&1/Ht(new gn([,-0]))[1]==1/0?function(e){return new gn(e)}:Xa;function Bi(e){return function(t){var n=ro(t);return n==f?Ut(t):n==y?Vt(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,n,s,a,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(i);var h=s?s.length:0;if(h||(t&=-97,s=a=void 0),l=void 0===l?l:an(ia(l),0),u=void 0===u?u:ia(u),h-=a?a.length:0,64&t){var p=s,f=a;s=a=void 0}var m=d?void 0:$i(e),g=[e,t,n,s,a,p,f,c,l,u];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?gi(l,c,t[4]):c,e[4]=l?Wt(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?vi(l,c,t[6]):c,e[6]=l?Wt(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&r&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,m),e=g[0],t=g[1],n=g[2],s=g[3],a=g[4],!(u=g[9]=void 0===g[9]?d?0:e.length:an(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=ki(e);return function o(){for(var s=arguments.length,a=r(s),c=s,l=Gi(o);c--;)a[c]=arguments[c];var u=s<3&&a[0]!==l&&a[s-1]!==l?[]:Wt(a,l);if((s-=u.length)<n)return Ni(e,t,Ii,o.placeholder,void 0,a,u,void 0,void 0,n-s);var d=this&&this!==qe&&this instanceof o?i:e;return it(d,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ii.apply(void 0,g):function(e,t,n,i){var o=1&t,s=ki(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=i.length,d=r(u+c),h=this&&this!==qe&&this instanceof t?s:e;++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++a];return it(h,o?n:this,d)}}(e,t,n,s);else var v=function(e,t,n){var r=1&t,i=ki(e);return function t(){var o=this&&this!==qe&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Eo((m?Hr:_o)(v,g),e,t)}function Yi(e,t,n,r){return void 0===e||Ms(e,_e[n])&&!Ee.call(r,n)?t:e}function Wi(e,t,n,r,i,o){return Vs(e)&&Vs(t)&&(o.set(t,e),Pr(e,t,void 0,Wi,o),o.delete(t)),e}function Hi(e){return $s(e)?void 0:e}function Vi(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,p=2&n?new Rn:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var f=e[d],m=t[d];if(r)var g=s?r(m,f,d,t,e,o):r(f,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!gt(t,(function(e,t){if(!jt(p,t)&&(f===e||i(f,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Ki(e){return So(go(e,void 0,Ao),e+"")}function qi(e){return pr(e,wa,to)}function Ji(e){return pr(e,Sa,no)}var $i=bn?function(e){return bn.get(e)}:Xa;function zi(e){for(var t=e.name+"",n=_n[t],r=Ee.call(_n,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Gi(e){return(Ee.call(In,"placeholder")?In:e).placeholder}function Qi(){var e=In.iteratee||$a;return e=e===$a?xr:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){for(var t=wa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=fe(e),lt(tn(e),(function(t){return Je.call(e,t)})))}:oc,no=tn?function(e){for(var t=[];e;)pt(t,to(e)),e=Ve(e);return t}:oc,ro=fr;function io(e,t,n){for(var r=-1,i=(t=ci(t,e)).length,o=!1;++r<i;){var s=Do(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Hs(i)&&ao(s,i)&&(Os(e)||Ls(e))}function oo(e){return"function"!=typeof e.constructor||po(e)?{}:Mn(Ve(e))}function so(e){return Os(e)||Ls(e)||!!(Ge&&e&&e[Ge])}function ao(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function co(e,t,n){if(!Vs(n))return!1;var r=typeof t;return!!("number"==r?Ns(n)&&ao(t,n.length):"string"==r&&t in n)&&Ms(n[t],e)}function lo(e,t){if(Os(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xs(e))||(H.test(e)||!W.test(e)||null!=t&&e in fe(t))}function uo(e){var t=zi(e),n=In[t];if("function"!=typeof n||!(t in Ln.prototype))return!1;if(e===n)return!0;var r=$i(n);return!!r&&e===r[0]}(pn&&ro(new pn(new ArrayBuffer(1)))!=E||fn&&ro(new fn)!=f||mn&&"[object Promise]"!=ro(mn.resolve())||gn&&ro(new gn)!=y||vn&&ro(new vn)!=w)&&(ro=function(e){var t=fr(e),n=t==g?e.constructor:void 0,r=n?To(n):"";if(r)switch(r){case wn:return E;case Sn:return f;case En:return"[object Promise]";case xn:return y;case Cn:return w}return t});var ho=we?Ys:sc;function po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function fo(e){return e==e&&!Vs(e)}function mo(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in fe(n)))}}function go(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=an(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),it(e,this,c)}}function vo(e,t){return t.length<2?e:hr(e,qr(t,0,-1))}function yo(e,t){for(var n=e.length,r=cn(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=ao(o,n)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _o=xo(Hr),wo=Xt||function(e,t){return qe.setTimeout(e,t)},So=xo(Vr);function Eo(e,t,n){var r=t+"";return So(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(z,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ut(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(G);return t?t[1].split(Q):[]}(r),n)))}function xo(e){var t=0,n=0;return function(){var r=ln(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Co(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Rr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var ko=function(e){var t=xs(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}));function Do(e){if("string"==typeof e||Xs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function To(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Io(e){if(e instanceof Ln)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mo=Br((function(e,t){return Rs(e)?er(e,sr(t,1,Rs,!0)):[]})),Po=Br((function(e,t){var n=Uo(t);return Rs(n)&&(n=void 0),Rs(e)?er(e,sr(t,1,Rs,!0),Qi(n,2)):[]})),jo=Br((function(e,t){var n=Uo(t);return Rs(n)&&(n=void 0),Rs(e)?er(e,sr(t,1,Rs,!0),void 0,n):[]}));function Lo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),bt(e,Qi(t,3),i)}function Oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?an(r+i,0):cn(i,r-1)),bt(e,Qi(t,3),i,!0)}function Ao(e){return(null==e?0:e.length)?sr(e,1):[]}function No(e){return e&&e.length?e[0]:void 0}var Ro=Br((function(e){var t=ht(e,si);return t.length&&t[0]===e[0]?yr(t):[]})),Fo=Br((function(e){var t=Uo(e),n=ht(e,si);return t===Uo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Qi(t,2)):[]})),Bo=Br((function(e){var t=Uo(e),n=ht(e,si);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Uo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Yo=Br(Wo);function Wo(e,t){return e&&e.length&&t&&t.length?Ar(e,t):e}var Ho=Ki((function(e,t){var n=null==e?0:e.length,r=zn(e,t);return Nr(e,ht(t,(function(e){return ao(e,n)?+e:e})).sort(mi)),r}));function Vo(e){return null==e?e:hn.call(e)}var Ko=Br((function(e){return Zr(sr(e,1,Rs,!0))})),qo=Br((function(e){var t=Uo(e);return Rs(t)&&(t=void 0),Zr(sr(e,1,Rs,!0),Qi(t,2))})),Jo=Br((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,Zr(sr(e,1,Rs,!0),void 0,t)}));function $o(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Rs(e))return t=an(e.length,t),!0})),Tt(t,(function(t){return ht(e,xt(t))}))}function zo(e,t){if(!e||!e.length)return[];var n=$o(e);return null==t?n:ht(n,(function(e){return it(t,void 0,e)}))}var Go=Br((function(e,t){return Rs(e)?er(e,t):[]})),Qo=Br((function(e){return ii(lt(e,Rs))})),Xo=Br((function(e){var t=Uo(e);return Rs(t)&&(t=void 0),ii(lt(e,Rs),Qi(t,2))})),Zo=Br((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,ii(lt(e,Rs),void 0,t)})),es=Br($o);var ts=Br((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,zo(e,n)}));function ns(e){var t=In(e);return t.__chain__=!0,t}function rs(e,t){return t(e)}var is=Ki((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return zn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Ln&&ao(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new jn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var os=_i((function(e,t,n){Ee.call(e,n)?++e[n]:$n(e,n,1)}));var ss=Di(Lo),as=Di(Oo);function cs(e,t){return(Os(e)?st:tr)(e,Qi(t,3))}function ls(e,t){return(Os(e)?at:nr)(e,Qi(t,3))}var us=_i((function(e,t,n){Ee.call(e,n)?e[n].push(t):$n(e,n,[t])}));var ds=Br((function(e,t,n){var i=-1,o="function"==typeof t,s=Ns(e)?r(e.length):[];return tr(e,(function(e){s[++i]=o?it(t,e,n):br(e,t,n)})),s})),hs=_i((function(e,t,n){$n(e,n,t)}));function ps(e,t){return(Os(e)?ht:Tr)(e,Qi(t,3))}var fs=_i((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ms=Br((function(e,t){if(null==e)return[];var n=t.length;return n>1&&co(e,t[0],t[1])?t=[]:n>2&&co(t[0],t[1],t[2])&&(t=[t[0]]),Lr(e,sr(t,1),[])})),gs=Qt||function(){return qe.Date.now()};function vs(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ys(e,t){var n;if("function"!=typeof t)throw new ve(i);return e=ia(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bs=Br((function(e,t,n){var r=1;if(n.length){var i=Wt(n,Gi(bs));r|=32}return Ui(e,r,t,n,i)})),_s=Br((function(e,t,n){var r=3;if(n.length){var i=Wt(n,Gi(_s));r|=32}return Ui(t,r,e,n,i)}));function ws(e,t,n){var r,o,s,a,c,l,u=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new ve(i);function f(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function m(e){return u=e,c=wo(v,t),d?f(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=s}function v(){var e=gs();if(g(e))return y(e);c=wo(v,function(e){var n=t-(e-l);return h?cn(n,s-(e-u)):n}(e))}function y(e){return c=void 0,p&&r?f(e):(r=o=void 0,a)}function b(){var e=gs(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===c)return m(l);if(h)return di(c),c=wo(v,t),f(l)}return void 0===c&&(c=wo(v,t)),a}return t=sa(t)||0,Vs(n)&&(d=!!n.leading,s=(h="maxWait"in n)?an(sa(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==c&&di(c),u=0,r=l=o=c=void 0},b.flush=function(){return void 0===c?a:y(gs())},b}var Ss=Br((function(e,t){return Zn(e,1,t)})),Es=Br((function(e,t,n){return Zn(e,sa(t)||0,n)}));function xs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(xs.Cache||Nn),n}function Cs(e){if("function"!=typeof e)throw new ve(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xs.Cache=Nn;var ks=li((function(e,t){var n=(t=1==t.length&&Os(t[0])?ht(t[0],Mt(Qi())):ht(sr(t,1),Mt(Qi()))).length;return Br((function(r){for(var i=-1,o=cn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return it(e,this,r)}))})),Ds=Br((function(e,t){return Ui(e,32,void 0,t,Wt(t,Gi(Ds)))})),Ts=Br((function(e,t){return Ui(e,64,void 0,t,Wt(t,Gi(Ts)))})),Is=Ki((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function Ms(e,t){return e===t||e!=e&&t!=t}var Ps=Ai(mr),js=Ai((function(e,t){return e>=t})),Ls=_r(function(){return arguments}())?_r:function(e){return Ks(e)&&Ee.call(e,"callee")&&!Je.call(e,"callee")},Os=r.isArray,As=Xe?Mt(Xe):function(e){return Ks(e)&&fr(e)==S};function Ns(e){return null!=e&&Hs(e.length)&&!Ys(e)}function Rs(e){return Ks(e)&&Ns(e)}var Fs=nn||sc,Bs=Ze?Mt(Ze):function(e){return Ks(e)&&fr(e)==u};function Us(e){if(!Ks(e))return!1;var t=fr(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!$s(e)}function Ys(e){if(!Vs(e))return!1;var t=fr(e);return t==h||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ws(e){return"number"==typeof e&&e==ia(e)}function Hs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Vs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ks(e){return null!=e&&"object"==typeof e}var qs=et?Mt(et):function(e){return Ks(e)&&ro(e)==f};function Js(e){return"number"==typeof e||Ks(e)&&fr(e)==m}function $s(e){if(!Ks(e)||fr(e)!=g)return!1;var t=Ve(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Se.call(n)==De}var zs=tt?Mt(tt):function(e){return Ks(e)&&fr(e)==v};var Gs=nt?Mt(nt):function(e){return Ks(e)&&ro(e)==y};function Qs(e){return"string"==typeof e||!Os(e)&&Ks(e)&&fr(e)==b}function Xs(e){return"symbol"==typeof e||Ks(e)&&fr(e)==_}var Zs=rt?Mt(rt):function(e){return Ks(e)&&Hs(e.length)&&!!Be[fr(e)]};var ea=Ai(Dr),ta=Ai((function(e,t){return e<=t}));function na(e){if(!e)return[];if(Ns(e))return Qs(e)?qt(e):yi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ro(e);return(t==f?Ut:t==y?Ht:Ma)(e)}function ra(e){return e?(e=sa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ia(e){var t=ra(e),n=t%1;return t==t?n?t-n:t:0}function oa(e){return e?Gn(ia(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Xs(e))return NaN;if(Vs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Vs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=It(e);var n=ie.test(e);return n||se.test(e)?He(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return bi(e,Sa(e))}function ca(e){return null==e?"":Xr(e)}var la=wi((function(e,t){if(po(t)||Ns(t))bi(t,wa(t),e);else for(var n in t)Ee.call(t,n)&&Vn(e,n,t[n])})),ua=wi((function(e,t){bi(t,Sa(t),e)})),da=wi((function(e,t,n,r){bi(t,Sa(t),e,r)})),ha=wi((function(e,t,n,r){bi(t,wa(t),e,r)})),pa=Ki(zn);var fa=Br((function(e,t){e=fe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&co(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Sa(o),a=-1,c=s.length;++a<c;){var l=s[a],u=e[l];(void 0===u||Ms(u,_e[l])&&!Ee.call(e,l))&&(e[l]=o[l])}return e})),ma=Br((function(e){return e.push(void 0,Wi),it(xa,void 0,e)}));function ga(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function va(e,t){return null!=e&&io(e,t,vr)}var ya=Mi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),e[t]=n}),Va(Ja)),ba=Mi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]}),Qi),_a=Br(br);function wa(e){return Ns(e)?Bn(e):Cr(e)}function Sa(e){return Ns(e)?Bn(e,!0):kr(e)}var Ea=wi((function(e,t,n){Pr(e,t,n)})),xa=wi((function(e,t,n,r){Pr(e,t,n,r)})),Ca=Ki((function(e,t){var n={};if(null==e)return n;var r=!1;t=ht(t,(function(t){return t=ci(t,e),r||(r=t.length>1),t})),bi(e,Ji(e),n),r&&(n=Qn(n,7,Hi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var ka=Ki((function(e,t){return null==e?{}:function(e,t){return Or(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function Da(e,t){if(null==e)return{};var n=ht(Ji(e),(function(e){return[e]}));return t=Qi(t),Or(e,n,(function(e,n){return t(e,n[0])}))}var Ta=Bi(wa),Ia=Bi(Sa);function Ma(e){return null==e?[]:Pt(e,wa(e))}var Pa=Ci((function(e,t,n){return t=t.toLowerCase(),e+(n?ja(t):t)}));function ja(e){return Ua(ca(e).toLowerCase())}function La(e){return(e=ca(e))&&e.replace(ce,Nt).replace(je,"")}var Oa=Ci((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Aa=Ci((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Na=xi("toLowerCase");var Ra=Ci((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fa=Ci((function(e,t,n){return e+(n?" ":"")+Ua(t)}));var Ba=Ci((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ua=xi("toUpperCase");function Ya(e,t,n){return e=ca(e),void 0===(t=n?void 0:t)?function(e){return Ne.test(e)}(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.match(X)||[]}(e):e.match(t)||[]}var Wa=Br((function(e,t){try{return it(e,void 0,t)}catch(e){return Us(e)?e:new de(e)}})),Ha=Ki((function(e,t){return st(t,(function(t){t=Do(t),$n(e,t,bs(e[t],e))})),e}));function Va(e){return function(){return e}}var Ka=Ti(),qa=Ti(!0);function Ja(e){return e}function $a(e){return xr("function"==typeof e?e:Qn(e,1))}var za=Br((function(e,t){return function(n){return br(n,e,t)}})),Ga=Br((function(e,t){return function(n){return br(e,n,t)}}));function Qa(e,t,n){var r=wa(t),i=dr(t,r);null!=n||Vs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=dr(t,wa(t)));var o=!(Vs(n)&&"chain"in n&&!n.chain),s=Ys(e);return st(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Xa(){}var Za=ji(ht),ec=ji(ct),tc=ji(gt);function nc(e){return lo(e)?xt(Do(e)):function(e){return function(t){return hr(t,e)}}(e)}var rc=Oi(),ic=Oi(!0);function oc(){return[]}function sc(){return!1}var ac=Pi((function(e,t){return e+t}),0),cc=Ri("ceil"),lc=Pi((function(e,t){return e/t}),1),uc=Ri("floor");var dc,hc=Pi((function(e,t){return e*t}),1),pc=Ri("round"),fc=Pi((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new ve(i);return e=ia(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=vs,In.assign=la,In.assignIn=ua,In.assignInWith=da,In.assignWith=ha,In.at=pa,In.before=ys,In.bind=bs,In.bindAll=Ha,In.bindKey=_s,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Os(e)?e:[e]},In.chain=ns,In.chunk=function(e,t,n){t=(n?co(e,t,n):void 0===t)?1:an(ia(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=r(Zt(i/t));o<i;)a[s++]=qr(e,o,o+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(Os(n)?yi(n):[n],sr(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Qi();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new ve(i);return[n(e[0]),e[1]]})):[],Br((function(n){for(var r=-1;++r<t;){var i=e[r];if(it(i[0],this,n))return it(i[1],this,n)}}))},In.conforms=function(e){return function(e){var t=wa(e);return function(n){return Xn(n,e,t)}}(Qn(e,1))},In.constant=Va,In.countBy=os,In.create=function(e,t){var n=Mn(e);return null==t?n:Jn(n,t)},In.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},In.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},In.debounce=ws,In.defaults=fa,In.defaultsDeep=ma,In.defer=Ss,In.delay=Es,In.difference=Mo,In.differenceBy=Po,In.differenceWith=jo,In.drop=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=n||void 0===t?1:ia(t))<0?0:t,r):[]},In.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,0,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!0):[]},In.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&co(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},In.filter=function(e,t){return(Os(e)?lt:or)(e,Qi(t,3))},In.flatMap=function(e,t){return sr(ps(e,t),1)},In.flatMapDeep=function(e,t){return sr(ps(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ia(n),sr(ps(e,t),n)},In.flatten=Ao,In.flattenDeep=function(e){return(null==e?0:e.length)?sr(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?sr(e,t=void 0===t?1:ia(t)):[]},In.flip=function(e){return Ui(e,512)},In.flow=Ka,In.flowRight=qa,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},In.functions=function(e){return null==e?[]:dr(e,wa(e))},In.functionsIn=function(e){return null==e?[]:dr(e,Sa(e))},In.groupBy=us,In.initial=function(e){return(null==e?0:e.length)?qr(e,0,-1):[]},In.intersection=Ro,In.intersectionBy=Fo,In.intersectionWith=Bo,In.invert=ya,In.invertBy=ba,In.invokeMap=ds,In.iteratee=$a,In.keyBy=hs,In.keys=wa,In.keysIn=Sa,In.map=ps,In.mapKeys=function(e,t){var n={};return t=Qi(t,3),lr(e,(function(e,r,i){$n(n,t(e,r,i),e)})),n},In.mapValues=function(e,t){var n={};return t=Qi(t,3),lr(e,(function(e,r,i){$n(n,r,t(e,r,i))})),n},In.matches=function(e){return Ir(Qn(e,1))},In.matchesProperty=function(e,t){return Mr(e,Qn(t,1))},In.memoize=xs,In.merge=Ea,In.mergeWith=xa,In.method=za,In.methodOf=Ga,In.mixin=Qa,In.negate=Cs,In.nthArg=function(e){return e=ia(e),Br((function(t){return jr(t,e)}))},In.omit=Ca,In.omitBy=function(e,t){return Da(e,Cs(Qi(t)))},In.once=function(e){return ys(2,e)},In.orderBy=function(e,t,n,r){return null==e?[]:(Os(t)||(t=null==t?[]:[t]),Os(n=r?void 0:n)||(n=null==n?[]:[n]),Lr(e,t,n))},In.over=Za,In.overArgs=ks,In.overEvery=ec,In.overSome=tc,In.partial=Ds,In.partialRight=Ts,In.partition=fs,In.pick=ka,In.pickBy=Da,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},In.pull=Yo,In.pullAll=Wo,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ar(e,t,Qi(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ar(e,t,void 0,n):e},In.pullAt=Ho,In.range=rc,In.rangeRight=ic,In.rearg=Is,In.reject=function(e,t){return(Os(e)?lt:or)(e,Cs(Qi(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Qi(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Nr(e,i),n},In.rest=function(e,t){if("function"!=typeof e)throw new ve(i);return Br(e,t=void 0===t?t:ia(t))},In.reverse=Vo,In.sampleSize=function(e,t,n){return t=(n?co(e,t,n):void 0===t)?1:ia(t),(Os(e)?Yn:Yr)(e,t)},In.set=function(e,t,n){return null==e?e:Wr(e,t,n)},In.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Wr(e,t,n,r)},In.shuffle=function(e){return(Os(e)?Wn:Kr)(e)},In.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&co(e,t,n)?(t=0,n=r):(t=null==t?0:ia(t),n=void 0===n?r:ia(n)),qr(e,t,n)):[]},In.sortBy=ms,In.sortedUniq=function(e){return e&&e.length?Gr(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Gr(e,Qi(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&co(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ca(e))&&("string"==typeof t||null!=t&&!zs(t))&&!(t=Xr(t))&&Bt(e)?ui(qt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ve(i);return t=null==t?0:an(ia(t),0),Br((function(n){var r=n[t],i=ui(n,0,t);return r&&pt(i,r),it(e,this,i)}))},In.tail=function(e){var t=null==e?0:e.length;return t?qr(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?qr(e,0,(t=n||void 0===t?1:ia(t))<0?0:t):[]},In.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t,r):[]},In.takeRightWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?ni(e,Qi(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ve(i);return Vs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ws(e,t,{leading:r,maxWait:t,trailing:o})},In.thru=rs,In.toArray=na,In.toPairs=Ta,In.toPairsIn=Ia,In.toPath=function(e){return Os(e)?ht(e,Do):Xs(e)?[e]:yi(ko(ca(e)))},In.toPlainObject=aa,In.transform=function(e,t,n){var r=Os(e),i=r||Fs(e)||Zs(e);if(t=Qi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Vs(e)&&Ys(o)?Mn(Ve(e)):{}}return(i?st:lr)(e,(function(e,r,i){return t(n,e,r,i)})),n},In.unary=function(e){return vs(e,1)},In.union=Ko,In.unionBy=qo,In.unionWith=Jo,In.uniq=function(e){return e&&e.length?Zr(e):[]},In.uniqBy=function(e,t){return e&&e.length?Zr(e,Qi(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zr(e,void 0,t):[]},In.unset=function(e,t){return null==e||ei(e,t)},In.unzip=$o,In.unzipWith=zo,In.update=function(e,t,n){return null==e?e:ti(e,t,ai(n))},In.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,ai(n),r)},In.values=Ma,In.valuesIn=function(e){return null==e?[]:Pt(e,Sa(e))},In.without=Go,In.words=Ya,In.wrap=function(e,t){return Ds(ai(t),e)},In.xor=Qo,In.xorBy=Xo,In.xorWith=Zo,In.zip=es,In.zipObject=function(e,t){return oi(e||[],t||[],Vn)},In.zipObjectDeep=function(e,t){return oi(e||[],t||[],Wr)},In.zipWith=ts,In.entries=Ta,In.entriesIn=Ia,In.extend=ua,In.extendWith=da,Qa(In,In),In.add=ac,In.attempt=Wa,In.camelCase=Pa,In.capitalize=ja,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Gn(sa(e),t,n)},In.clone=function(e){return Qn(e,4)},In.cloneDeep=function(e){return Qn(e,5)},In.cloneDeepWith=function(e,t){return Qn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Qn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Xn(e,t,wa(t))},In.deburr=La,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=lc,In.endsWith=function(e,t,n){e=ca(e),t=Xr(t);var r=e.length,i=n=void 0===n?r:Gn(ia(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},In.eq=Ms,In.escape=function(e){return(e=ca(e))&&F.test(e)?e.replace(N,Rt):e},In.escapeRegExp=function(e){return(e=ca(e))&&q.test(e)?e.replace(K,"\\$&"):e},In.every=function(e,t,n){var r=Os(e)?ct:rr;return n&&co(e,t,n)&&(t=void 0),r(e,Qi(t,3))},In.find=ss,In.findIndex=Lo,In.findKey=function(e,t){return yt(e,Qi(t,3),lr)},In.findLast=as,In.findLastIndex=Oo,In.findLastKey=function(e,t){return yt(e,Qi(t,3),ur)},In.floor=uc,In.forEach=cs,In.forEachRight=ls,In.forIn=function(e,t){return null==e?e:ar(e,Qi(t,3),Sa)},In.forInRight=function(e,t){return null==e?e:cr(e,Qi(t,3),Sa)},In.forOwn=function(e,t){return e&&lr(e,Qi(t,3))},In.forOwnRight=function(e,t){return e&&ur(e,Qi(t,3))},In.get=ga,In.gt=Ps,In.gte=js,In.has=function(e,t){return null!=e&&io(e,t,gr)},In.hasIn=va,In.head=No,In.identity=Ja,In.includes=function(e,t,n,r){e=Ns(e)?e:Ma(e),n=n&&!r?ia(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Qs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),_t(e,t,i)},In.inRange=function(e,t,n){return t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n){return e>=cn(t,n)&&e<an(t,n)}(e=sa(e),t,n)},In.invoke=_a,In.isArguments=Ls,In.isArray=Os,In.isArrayBuffer=As,In.isArrayLike=Ns,In.isArrayLikeObject=Rs,In.isBoolean=function(e){return!0===e||!1===e||Ks(e)&&fr(e)==l},In.isBuffer=Fs,In.isDate=Bs,In.isElement=function(e){return Ks(e)&&1===e.nodeType&&!$s(e)},In.isEmpty=function(e){if(null==e)return!0;if(Ns(e)&&(Os(e)||"string"==typeof e||"function"==typeof e.splice||Fs(e)||Zs(e)||Ls(e)))return!e.length;var t=ro(e);if(t==f||t==y)return!e.size;if(po(e))return!Cr(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},In.isEqual=function(e,t){return wr(e,t)},In.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},In.isError=Us,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Ys,In.isInteger=Ws,In.isLength=Hs,In.isMap=qs,In.isMatch=function(e,t){return e===t||Sr(e,t,Zi(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Sr(e,t,Zi(t),n)},In.isNaN=function(e){return Js(e)&&e!=+e},In.isNative=function(e){if(ho(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Js,In.isObject=Vs,In.isObjectLike=Ks,In.isPlainObject=$s,In.isRegExp=zs,In.isSafeInteger=function(e){return Ws(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Gs,In.isString=Qs,In.isSymbol=Xs,In.isTypedArray=Zs,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return Ks(e)&&ro(e)==w},In.isWeakSet=function(e){return Ks(e)&&"[object WeakSet]"==fr(e)},In.join=function(e,t){return null==e?"":on.call(e,t)},In.kebabCase=Oa,In.last=Uo,In.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?an(r+i,0):cn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,St,i,!0)},In.lowerCase=Aa,In.lowerFirst=Na,In.lt=ea,In.lte=ta,In.max=function(e){return e&&e.length?ir(e,Ja,mr):void 0},In.maxBy=function(e,t){return e&&e.length?ir(e,Qi(t,2),mr):void 0},In.mean=function(e){return Et(e,Ja)},In.meanBy=function(e,t){return Et(e,Qi(t,2))},In.min=function(e){return e&&e.length?ir(e,Ja,Dr):void 0},In.minBy=function(e,t){return e&&e.length?ir(e,Qi(t,2),Dr):void 0},In.stubArray=oc,In.stubFalse=sc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?jr(e,ia(t)):void 0},In.noConflict=function(){return qe._===this&&(qe._=Te),this},In.noop=Xa,In.now=gs,In.pad=function(e,t,n){e=ca(e);var r=(t=ia(t))?Kt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Li(en(i),n)+e+Li(Zt(i),n)},In.padEnd=function(e,t,n){e=ca(e);var r=(t=ia(t))?Kt(e):0;return t&&r<t?e+Li(t-r,n):e},In.padStart=function(e,t,n){e=ca(e);var r=(t=ia(t))?Kt(e):0;return t&&r<t?Li(t-r,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ca(e).replace(J,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&co(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=dn();return cn(e+i*(t-e+We("1e-"+((i+"").length-1))),t)}return Rr(e,t)},In.reduce=function(e,t,n){var r=Os(e)?ft:kt,i=arguments.length<3;return r(e,Qi(t,4),n,i,tr)},In.reduceRight=function(e,t,n){var r=Os(e)?mt:kt,i=arguments.length<3;return r(e,Qi(t,4),n,i,nr)},In.repeat=function(e,t,n){return t=(n?co(e,t,n):void 0===t)?1:ia(t),Fr(ca(e),t)},In.replace=function(){var e=arguments,t=ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var r=-1,i=(t=ci(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Do(t[r])];void 0===o&&(r=i,o=n),e=Ys(o)?o.call(e):o}return e},In.round=pc,In.runInContext=e,In.sample=function(e){return(Os(e)?Un:Ur)(e)},In.size=function(e){if(null==e)return 0;if(Ns(e))return Qs(e)?Kt(e):e.length;var t=ro(e);return t==f||t==y?e.size:Cr(e).length},In.snakeCase=Ra,In.some=function(e,t,n){var r=Os(e)?gt:Jr;return n&&co(e,t,n)&&(t=void 0),r(e,Qi(t,3))},In.sortedIndex=function(e,t){return $r(e,t)},In.sortedIndexBy=function(e,t,n){return zr(e,t,Qi(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=$r(e,t);if(r<n&&Ms(e[r],t))return r}return-1},In.sortedLastIndex=function(e,t){return $r(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return zr(e,t,Qi(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=$r(e,t,!0)-1;if(Ms(e[n],t))return n}return-1},In.startCase=Fa,In.startsWith=function(e,t,n){return e=ca(e),n=null==n?0:Gn(ia(n),0,e.length),t=Xr(t),e.slice(n,n+t.length)==t},In.subtract=fc,In.sum=function(e){return e&&e.length?Dt(e,Ja):0},In.sumBy=function(e,t){return e&&e.length?Dt(e,Qi(t,2)):0},In.template=function(e,t,n){var r=In.templateSettings;n&&co(e,t,n)&&(t=void 0),e=ca(e),t=da({},t,r,Yi);var i,o,s=da({},t.imports,r.imports,Yi),a=wa(s),c=Pt(s,a),l=0,u=t.interpolate||le,d="__p += '",h=me((t.escape||le).source+"|"+u.source+"|"+(u===Y?te:le).source+"|"+(t.evaluate||le).source+"|$","g"),p="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,r,s,a,c){return r||(r=s),d+=e.slice(l,c).replace(ue,Ft),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var f=Ee.call(t,"variable")&&t.variable;if(f){if(Z.test(f))throw new de("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(j,""):d).replace(L,"$1").replace(O,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Wa((function(){return he(a,p+"return "+d).apply(void 0,c)}));if(m.source=d,Us(m))throw m;return m},In.times=function(e,t){if((e=ia(e))<1||e>9007199254740991)return[];var n=4294967295,r=cn(e,4294967295);e-=4294967295;for(var i=Tt(r,t=Qi(t));++n<e;)t(n);return i},In.toFinite=ra,In.toInteger=ia,In.toLength=oa,In.toLower=function(e){return ca(e).toLowerCase()},In.toNumber=sa,In.toSafeInteger=function(e){return e?Gn(ia(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ca,In.toUpper=function(e){return ca(e).toUpperCase()},In.trim=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return It(e);if(!e||!(t=Xr(t)))return e;var r=qt(e),i=qt(t);return ui(r,Lt(r,i),Ot(r,i)+1).join("")},In.trimEnd=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.slice(0,Jt(e)+1);if(!e||!(t=Xr(t)))return e;var r=qt(e);return ui(r,0,Ot(r,qt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.replace(J,"");if(!e||!(t=Xr(t)))return e;var r=qt(e);return ui(r,Lt(r,qt(t))).join("")},In.truncate=function(e,t){var n=30,r="...";if(Vs(t)){var i="separator"in t?t.separator:i;n="length"in t?ia(t.length):n,r="omission"in t?Xr(t.omission):r}var o=(e=ca(e)).length;if(Bt(e)){var s=qt(e);o=s.length}if(n>=o)return e;var a=n-Kt(r);if(a<1)return r;var c=s?ui(s,0,a).join(""):e.slice(0,a);if(void 0===i)return c+r;if(s&&(a+=c.length-a),zs(i)){if(e.slice(a).search(i)){var l,u=c;for(i.global||(i=me(i.source,ca(ne.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Xr(i),a)!=a){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},In.unescape=function(e){return(e=ca(e))&&R.test(e)?e.replace(A,$t):e},In.uniqueId=function(e){var t=++xe;return ca(e)+t},In.upperCase=Ba,In.upperFirst=Ua,In.each=cs,In.eachRight=ls,In.first=No,Qa(In,(dc={},lr(In,(function(e,t){Ee.call(In.prototype,t)||(dc[t]=e)})),dc),{chain:!1}),In.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),st(["drop","take"],(function(e,t){Ln.prototype[e]=function(n){n=void 0===n?1:an(ia(n),0);var r=this.__filtered__&&!t?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=cn(n,r.__takeCount__):r.__views__.push({size:cn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Qi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ln.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ln.prototype[e]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(Ja)},Ln.prototype.find=function(e){return this.filter(e).head()},Ln.prototype.findLast=function(e){return this.reverse().find(e)},Ln.prototype.invokeMap=Br((function(e,t){return"function"==typeof e?new Ln(this):this.map((function(n){return br(n,e,t)}))})),Ln.prototype.reject=function(e){return this.filter(Cs(Qi(e)))},Ln.prototype.slice=function(e,t){e=ia(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ln(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ia(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},lr(Ln.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=In[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(In.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Ln,c=s[0],l=a||Os(t),u=function(e){var t=i.apply(In,pt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,f=a&&!h;if(!o&&l){t=f?t:new Ln(this);var m=e.apply(t,s);return m.__actions__.push({func:rs,args:[u],thisArg:void 0}),new jn(m,d)}return p&&f?e.apply(this,s):(m=this.thru(u),p?r?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Os(i)?i:[],e)}return this[n]((function(n){return t.apply(Os(n)?n:[],e)}))}})),lr(Ln.prototype,(function(e,t){var n=In[t];if(n){var r=n.name+"";Ee.call(_n,r)||(_n[r]=[]),_n[r].push({name:t,func:n})}})),_n[Ii(void 0,2).name]=[{name:"wrapper",func:void 0}],Ln.prototype.clone=function(){var e=new Ln(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Ln.prototype.reverse=function(){if(this.__filtered__){var e=new Ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Os(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=cn(t,e+s);break;case"takeRight":e=an(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,l=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,p=cn(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return ri(e,this.__actions__);var f=[];e:for(;c--&&h<p;){for(var m=-1,g=e[l+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}f[h++]=g}return f},In.prototype.at=is,In.prototype.chain=function(){return ns(this)},In.prototype.commit=function(){return new jn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof Pn;){var r=Io(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ln){var t=e;return this.__actions__.length&&(t=new Ln(this)),(t=t.reverse()).__actions__.push({func:rs,args:[Vo],thisArg:void 0}),new jn(t,this.__chain__)}return this.thru(Vo)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Qe&&(In.prototype[Qe]=function(){return this}),In}();qe._=zt,void 0===(r=function(){return zt}.call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n(124)(e))},function(e,t,n){var r=n(958),i=n(959),o=n(960),s=n(961),a=n(962);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(431);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(128)(Object,"create");e.exports=r},function(e,t,n){var r=n(981);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(433),i=n(434);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),s?i(n,l,u):r(n,l,u)}return n}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterPaths=t.baseKernelPath=void 0;const o=n(0),s=n(6),a=n(16),c=n(3),l=n(144),u=n(54),d=s.join("AppData","Roaming","jupyter","kernels"),h=s.join(".local","share","jupyter","kernels"),p=s.join("Library","Jupyter","kernels");t.baseKernelPath=s.join("share","jupyter","kernels");let f=class{constructor(e,t,n){this.platformService=e,this.pathUtils=t,this.envVarsProvider=n}async getKernelSpecRootPath(){return this.platformService.isWindows?u.tryGetRealPath(s.join(this.pathUtils.home,d)):this.platformService.isMac?s.join(this.pathUtils.home,p):s.join(this.pathUtils.home,h)}async getKernelSpecRootPaths(e){const t=await this.getJupyterPathPaths(e);if(this.platformService.isWindows){const e=await this.getKernelSpecRootPath();e&&t.push(e),process.env.ALLUSERSPROFILE&&t.push(s.join(process.env.ALLUSERSPROFILE,"jupyter","kernels"))}else{const e=this.platformService.isMac?p:h;t.push(s.join("/","usr","share","jupyter","kernels"),s.join("/","usr","local","share","jupyter","kernels"),s.join(this.pathUtils.home,e))}return t}async getJupyterPathPaths(e){const t=[],n=await this.envVarsProvider.getEnvironmentVariables();if(null==e?void 0:e.isCancellationRequested)return[];const r=n.JUPYTER_PATH?n.JUPYTER_PATH.split(s.delimiter).map(e=>s.join(e,"kernels")):[];return r.length>0&&r.forEach(async e=>{const n=await u.tryGetRealPath(e);n&&t.push(n)}),t}};f=r([o.injectable(),i(0,o.inject(a.IPlatformService)),i(1,o.inject(c.IPathUtils)),i(2,o.inject(l.IEnvironmentVariablesProvider))],f),t.JupyterPaths=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCellFrom=t.cloneCell=t.createCodeCell=t.createErrorOutput=t.createMarkdownCell=t.uncommentMagicCommands=void 0;const r=n(127);n(15);const i=n(62);function o(e){return/^#\s*!/.test(e)?/^#\s*!\s*%%?/.test(e)?e.replace(/^#\s*!\s*/,""):e.replace(/^#\s*/,""):e}function s(e){var t,n,i;const o=r(e),s=Array.isArray(o.source)||"string"==typeof o.source?o.source:"";switch(e.cell_type){case"code":return{cell_type:"code",metadata:null!==(t=o.metadata)&&void 0!==t?t:{},execution_count:"number"==typeof o.execution_count?o.execution_count:null,outputs:Array.isArray(o.outputs)?o.outputs:[],source:s};case"markdown":return{cell_type:"markdown",metadata:null!==(n=o.metadata)&&void 0!==n?n:{},source:s,attachments:o.attachments};case"raw":return{cell_type:"raw",metadata:null!==(i=o.metadata)&&void 0!==i?i:{},source:s,attachments:o.attachments};default:return o}}t.uncommentMagicCommands=o,t.createMarkdownCell=function(e,t=!1){return e=Array.isArray(e)?e:[e],{cell_type:"markdown",metadata:{},source:t?e:i.generateMarkdownFromCodeLines(e)}},t.createErrorOutput=function(e){return{output_type:"error",ename:e.name||e.message||"Error",evalue:e.message||e.name||"Error",traceback:(e.stack||"").splitLines()}},t.createCodeCell=function(e,t){const n="boolean"==typeof t&&t;return e=e||"",{cell_type:"code",execution_count:null,metadata:{},outputs:"boolean"==typeof t?[]:t||[],source:Array.isArray(e)?i.appendLineFeed(e,n?o:void 0):e}},t.cloneCell=s,t.createCellFrom=function(e,t){const n=e.cell_type===t?s(e):{source:e.source,cell_type:t,metadata:r(e.metadata)};switch(t){case"code":{const e=n;return e.execution_count=null,e.outputs=[],e}case"markdown":case"raw":return n;default:throw new Error("Unsupported target type, "+t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPendingChainedUpdatesForTests=t.chainWithPendingUpdates=void 0;const r=n(1),i=n(19),o=n(9),s=new WeakMap;t.chainWithPendingUpdates=async function(e,t){const n=e;if(e.isClosed)return!0;const a=s.has(n)?s.get(n):Promise.resolve(),c=i.createDeferred(),l=a.finally(async()=>{const e=new r.WorkspaceEdit,n=t(e);i.isPromise(n)&&await n,await r.workspace.applyEdit(e).then(e=>c.resolve(e),e=>c.reject(e))}).catch(o.noop);return s.set(n,l),c.promise},t.clearPendingChainedUpdatesForTests=function(){const e=r.window.activeNotebookEditor;(null==e?void 0:e.document)&&s.delete(e.document)}},function(e,t){e.exports=require("./node_modules/diff-match-patch")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemPathUtils=t.Executables=t.FileSystemPaths=void 0;const r=n(6),i=n(129),o=n(475);class s{constructor(e,t){this.isCaseInsensitive=e,this.raw=t}static withDefaults(e){return void 0===e&&(e=i.getOSType()===i.OSType.Windows),new s(e,r)}get sep(){return this.raw.sep}join(...e){return this.raw.join(...e)}dirname(e){return this.raw.dirname(e)}basename(e,t){return this.raw.basename(e,t)}normalize(e){return this.raw.normalize(e)}normCase(e){return e=this.raw.normalize(e),this.isCaseInsensitive?e.toUpperCase():e}}t.FileSystemPaths=s;class a{constructor(e,t){this.delimiter=e,this.osType=t}static withDefaults(){return new a(r.delimiter,i.getOSType())}get envVar(){return this.osType===i.OSType.Windows?"Path":"PATH"}}t.Executables=a;class c{constructor(e,t,n,r){this.home=e,this.paths=t,this.executables=n,this.raw=r}static withDefaults(e){return void 0===e&&(e=s.withDefaults()),new c(o("~"),e,a.withDefaults(),r)}arePathsSame(e,t){return(e=this.paths.normCase(e))===(t=this.paths.normCase(t))}getDisplayName(e,t){return t&&e.startsWith(t)?`.${this.paths.sep}${this.raw.relative(t,e)}`:e.startsWith(this.home)?`~${this.paths.sep}${this.raw.relative(this.home,e)}`:e}}t.FileSystemPathUtils=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInputFactory=t.IMultiStepInputFactory=t.MultiStepInput=t.InputFlowAction=void 0;const o=n(0),s=n(1),a=n(7);class c{constructor(){}}t.InputFlowAction=c,c.back=new c,c.cancel=new c,c.resume=new c;class l{constructor(e){this.shell=e,this.steps=[]}run(e,t){return this.stepThrough(e,t)}async showQuickPick({title:e,step:t,totalSteps:n,items:r,activeItem:i,placeholder:o,buttons:a,shouldResume:l,matchOnDescription:u,matchOnDetail:d,acceptFilterBoxTextAsSelection:h}){const p=[];try{return await new Promise((f,m)=>{const g=this.shell.createQuickPick();g.title=e,g.step=t,g.totalSteps=n,g.placeholder=o,g.ignoreFocusOut=!0,g.items=r,g.matchOnDescription=u||!1,g.matchOnDetail=d||!1,g.activeItems=i?[i]:[],g.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...a||[]],p.push(g.onDidTriggerButton(e=>{e===s.QuickInputButtons.Back?m(c.back):f(e)}),g.onDidChangeSelection(e=>f(e[0])),g.onDidHide(()=>{(async()=>{m(l&&await l()?c.resume:c.cancel)})().catch(m)})),h&&p.push(g.onDidAccept(()=>{f(g.value)})),this.current&&this.current.dispose(),this.current=g,this.current.show()})}finally{p.forEach(e=>e.dispose())}}async showInputBox({title:e,step:t,totalSteps:n,value:r,prompt:i,validate:o,password:a,buttons:l,shouldResume:u}){const d=[];try{return await new Promise((h,p)=>{const f=this.shell.createInputBox();f.title=e,f.step=t,f.totalSteps=n,f.password=!!a,f.value=r||"",f.prompt=i,f.ignoreFocusOut=!0,f.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...l||[]];let m=o("");d.push(f.onDidTriggerButton(e=>{e===s.QuickInputButtons.Back?p(c.back):h(e)}),f.onDidAccept(async()=>{const e=f.value;f.enabled=!1,f.busy=!0,await o(e)||h(e),f.enabled=!0,f.busy=!1}),f.onDidChangeValue(async e=>{const t=o(e);m=t;const n=await t;t===m&&(f.validationMessage=n)}),f.onDidHide(()=>{(async()=>{p(u&&await u()?c.resume:c.cancel)})().catch(p)})),this.current&&this.current.dispose(),this.current=f,this.current.show()})}finally{d.forEach(e=>e.dispose())}}async stepThrough(e,t){let n=e;for(;n;){this.steps.push(n),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{n=await n(this,t)}catch(e){if(e===c.back)this.steps.pop(),n=this.steps.pop();else if(e===c.resume)n=this.steps.pop();else{if(e!==c.cancel)throw e;n=void 0}}}this.current&&this.current.dispose()}}t.MultiStepInput=l,t.IMultiStepInputFactory=Symbol("IMultiStepInputFactory");let u=class{constructor(e){this.shell=e}create(){return new l(this.shell)}};u=r([o.injectable(),i(0,o.inject(a.IApplicationShell))],u),t.MultiStepInputFactory=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDaemonPool=void 0;const o=n(0),s=n(7),a=n(4),c=n(16),l=n(39),u=n(9),d=n(144),h=n(33),p=n(5),f=n(13),m=n(1148);let g=class{constructor(e,t,n,r,i,o){this.workspaceService=e,this.envVars=t,this.fs=n,this.interpreterService=r,this.pythonExecutionFactory=i,this.kernelDependencyService=o,this.disposables=[],this.daemonPool=[]}get daemons(){return this.daemonPool.length}async preWarmKernelDaemons(){if(this.initialized)return;this.initialized=!0,this.envVars.onDidEnvironmentVariablesChange(this.onDidEnvironmentVariablesChange.bind(this)),this.interpreterService.onDidChangeInterpreter(this.onDidChangeInterpreter.bind(this));const e=[];this.workspaceService.hasWorkspaceFolders?e.push(...(this.workspaceService.workspaceFolders||[]).map(e=>this.preWarmKernelDaemon(e.uri))):e.push(this.preWarmKernelDaemon(void 0)),await Promise.all(e)}dispose(){this.disposables.forEach(e=>e.dispose())}async get(e,t,n){const r=(null==n?void 0:n.path)||t.argv[0];if(t.env&&Object.keys(t.env).length>0)return this.createDaemon(e,r);const i=this.getDaemonKey(e,r),o=this.daemonPool.findIndex(e=>e.key===i);try{if(o>=0){const e=this.daemonPool[o].daemon;return this.daemonPool.splice(o,1),e}return this.createDaemon(e,r)}finally{o>=0&&this.preWarmKernelDaemon(e).ignoreErrors()}}getDaemonKey(e,t){return`${this.workspaceService.getWorkspaceFolderIdentifier(e)}#${t}`}createDaemon(e,t){const n=this.pythonExecutionFactory.createDaemon({daemonModule:p.KernelLauncherDaemonModule,pythonPath:t,daemonClass:m.PythonKernelDaemon,dedicated:!0,resource:e});return n.then(e=>{"dispose"in e&&this.disposables.push(e)}).catch(u.noop),n}async onDidEnvironmentVariablesChange(e){const t=this.workspaceService.getWorkspaceFolderIdentifier(e);this.daemonPool=this.daemonPool.filter(e=>e.workspaceFolderIdentifier!==t||(e.daemon.then(e=>{"dispose"in e&&e.dispose()}).catch(u.noop),!1))}async preWarmKernelDaemon(e){const t=await this.interpreterService.getActiveInterpreter(e);if(!t||!await this.kernelDependencyService.areDependenciesInstalled(t))return;const n=this.getDaemonKey(e,t.path);if(this.daemonPool.some(e=>e.key===n))return;const r=this.workspaceService.getWorkspaceFolderIdentifier(e),i=this.createDaemon(e,t.path);i.then(e=>{"preWarm"in e&&e.preWarm().catch(a.traceError.bind("Failed to prewarm kernel daemon "+t.path))}).catch(e=>{a.traceError("Failed to load deamon: "+e)}),this.daemonPool.push({daemon:i,interpreterPath:t.path,key:n,workspaceFolderIdentifier:r,workspaceResource:e})}async onDidChangeInterpreter(){const e=new Map;this.daemonPool.forEach(t=>{e.set(t.workspaceFolderIdentifier,t)});const t=new Map;await Promise.all(Array.from(e.entries()).map(async e=>{const n=e[1].workspaceResource;try{const r=await this.interpreterService.getActiveInterpreter(n);if(!r)return;t.set(e[1].key,r.path)}catch(e){a.traceError("Failed to get interpreter information for workspace "+(null==n?void 0:n.fsPath))}})),this.daemonPool=this.daemonPool.filter(e=>{const n=t.get(e.key);return!(!n||!this.fs.areLocalPathsSame(n,e.interpreterPath))||(e.daemon.then(e=>{"dispose"in e&&e.dispose()}).catch(u.noop),!1)})}};g=r([o.injectable(),i(0,o.inject(s.IWorkspaceService)),i(1,o.inject(d.IEnvironmentVariablesProvider)),i(2,o.inject(c.IFileSystem)),i(3,o.inject(h.IInterpreterService)),i(4,o.inject(l.IPythonExecutionFactory)),i(5,o.inject(f.IKernelDependencyService))],g),t.KernelDaemonPool=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeInteractiveWindow=t.getInteractiveCellMetadata=void 0;const r=n(6),i=n(1),o=n(14),s=n(132);n(15);const a=n(4),c=n(41),l=n(19),u=n(9),d=n(133),h=n(148),p=n(5),f=n(90),m=n(73),g=n(56),v=n(429),y=n(502),b=n(62),_=n(232),w=n(1181);function S(e){return e.metadata}t.getInteractiveCellMetadata=S;t.NativeInteractiveWindow=class{constructor(e,t,n,r,o,s,a,c,u,d,h,p,f,m,g){this.applicationShell=e,this.documentManager=t,this.fs=n,this.configuration=r,this.commandManager=o,this.jupyterExporter=s,this.workspaceService=a,this.extensionChecker=d,this.exportDialog=h,this.notebookControllerManager=p,this.kernelProvider=f,this.disposables=m,this.jupyterDebugger=g,this._onDidChangeViewState=new i.EventEmitter,this.closedEvent=new i.EventEmitter,this._identity=y.createInteractiveIdentity(),this._submitters=[],this.mode="multiple",this.isDisposed=!1,this._owner=c,this.mode=u,c&&this._submitters.push(c),this.initialControllerSelected=l.createDeferred(),this._editorReadyPromise=this.createReadyPromise(),i.workspace.onDidCloseNotebookDocument(e=>{e===this.notebookDocument&&this.closedEvent.fire(this)})}get onDidChangeViewState(){return this._onDidChangeViewState.event}get readyPromise(){return this._editorReadyPromise}get closed(){return this.closedEvent.event}get owner(){return this._owner}get submitters(){return this._submitters}get identity(){return this._identity}get notebookUri(){var e;return null===(e=this.notebookDocument)||void 0===e?void 0:e.uri}async createReadyPromise(){const e=await this.notebookControllerManager.getInteractiveController(),t=e?`${o.JVSC_EXTENSION_ID}/${e.id}`:void 0;a.traceInfo("Starting interactive window with controller ID "+t);const n=void 0!==this.owner,{notebookEditor:r}=await this.commandManager.executeCommand("interactive.open",{viewColumn:i.ViewColumn.Beside,preserveFocus:n},void 0,t,this.owner&&"perFile"===this.mode?y.getInteractiveWindowTitle(this.owner):void 0);if(!r)throw new Error("Failed to request creation of interactive window from VS Code.");return this.notebookDocument=r.document,this.loadController(r.document),this.initializeRendererCommunication(),r}initializeRendererCommunication(){const e=i.notebooks.createRendererMessaging("jupyter-error-renderer");this.disposables.push(e.onDidReceiveMessage(async e=>{const t=e.message;if(t.message===m.InteractiveWindowMessages.OpenLink){const e=t.payload;if(e.startsWith("file"))await this.openFile(e);else if(e.startsWith("https://command:")){const t=e.split(":")[2],n=t.includes("/?")?t.split("/?")[1].split(","):[];let r=t.split("/?")[0];r.endsWith("/")&&(r=r.substring(0,r.length-1)),w.linkCommandAllowList.includes(r)&&await i.commands.executeCommand(r,n)}else this.applicationShell.openUrl(e)}}))}async openFile(e){const t=i.Uri.parse(e);let n=new i.Range(new i.Position(0,0),new i.Position(0,0));if(t.query){const e=w.LineQueryRegex.exec(t.query);if(e){const t=parseInt(e[1],10);n=new i.Range(new i.Position(t,0),new i.Position(t,0))}}let r=this.documentManager.visibleTextEditors.find(e=>this.fs.arePathsSame(e.document.uri,t));return r?this.documentManager.showTextDocument(r.document,{selection:n,viewColumn:r.viewColumn}).then(e=>{e.revealRange(n,i.TextEditorRevealType.InCenter)}):this.commandManager.executeCommand("vscode.open",t).then(()=>{r=this.documentManager.visibleTextEditors.find(e=>this.fs.arePathsSame(e.document.uri,t)),r&&(r.revealRange(n),r.selection=new i.Selection(n.start,n.start))})}loadController(e){const t=this.notebookControllerManager.getSelectedNotebookController(e);void 0!==t&&(this.registerKernel(e,t),this.initialControllerSelected.resolve()),this.notebookControllerManager.onNotebookControllerSelected(t=>{if(t.notebook!==e)return;const n=(this.notebookController||t.controller).controller.onDidChangeSelectedNotebooks(t=>{!1===t.selected&&t.notebook===e&&(this.kernelLoadPromise=void 0,this.kernel=void 0,this.notebookController=void 0,n.dispose())},this,this.disposables);this.registerKernel(t.notebook,t.controller),this.initialControllerSelected.resolve()},this,this.disposables)}registerKernel(e,t){const n=this.kernelProvider.getOrCreate(e,{metadata:t.connection,controller:t.controller,resourceUri:this.owner});this.kernelLoadPromise=null==n?void 0:n.start({disableUI:!1,document:e}),this.kernel=n,this.notebookController=t}async show(){await this.commandManager.executeCommand("interactive.open",{preserveFocus:!0},this.notebookUri,void 0,void 0)}dispose(){this.kernel&&this.kernel.dispose().ignoreErrors(),this.closedEvent&&this.closedEvent.fire(this),this.isDisposed=!0}async addMessage(e){const t=await this._editorReadyPromise,n=new i.WorkspaceEdit,r=new i.NotebookCellData(i.NotebookCellKind.Markup,e,o.MARKDOWN_LANGUAGE);r.metadata={isInteractiveWindowMessageCell:!0},n.replaceNotebookCells(t.document.uri,new i.NotebookRange(t.document.cellCount,t.document.cellCount),[r]),await i.workspace.applyEdit(n)}changeMode(e){this.mode!==e&&(this.mode=e)}async addCode(e,t,n){return this.submitCodeImpl(e,t,n,!1)}async debugCode(e,t,n){let r=!0;const i=t.fsPath,o=this.documentManager.textDocuments.find(e=>this.fs.areLocalPathsSame(e.fileName,i));if(o&&o.isUntitled){const e=[...this.documentManager.textDocuments];if(r=await o.save(),r){const n=this.documentManager.textDocuments.filter(t=>-1===e.indexOf(t));n&&n.length>0&&(t=n[0].uri,await this.documentManager.openTextDocument(t))}}return!r||this.submitCodeImpl(e,t,n,!0)}async submitCodeImpl(e,t,n,r){return 0===new h.CellMatcher(this.configuration.getSettings(this.owningResource)).stripFirstMarker(e).length||(this.executionPromise?this.executionPromise=this.executionPromise.then(()=>this.createExecutionPromise(e,t,n,r)):this.executionPromise=this.createExecutionPromise(e,t,n,r),this.executionPromise)}async createExecutionPromise(e,t,n,r){var i;const o=await this._editorReadyPromise;await this.updateOwners(t);const s=c(),l=null==o?void 0:o.visibleRanges.find(e=>e.end===o.document.cellCount-1),u=await this.addNotebookCell(o.document,e,t,n,s);(this.configuration.getSettings().alwaysScrollOnNewCell||l)&&this.revealCell(u,o);const d=null===(i=this.kernel)||void 0===i?void 0:i.notebook;if(!d)return!1;const h=t.fsPath;let f=!0;try{h!==p.Identifiers.EmptyFileName&&await d.setLaunchingFile(h),r&&(await this.kernel.executeHidden(`import os;os.environ["IPYKERNEL_CELL_NAME"] = '${h.replace(/\\/g,"\\\\")}'`,o.document),await this.jupyterDebugger.startDebugging(this.kernel)),await this.setFileInKernel(h,o.document),f=await this.kernel.executeCell(u)===g.NotebookCellRunState.Success,a.traceInfo("Finished execution for "+s)}finally{r&&await this.jupyterDebugger.stopDebugging(this.kernel)}return f}undoCells(){throw new Error("Method not implemented.")}redoCells(){throw new Error("Method not implemented.")}removeAllCells(){throw new Error("Method not implemented.")}async exportCells(){throw new Error("Method not implemented.")}async expandAllCells(){const e=await this._editorReadyPromise,t=new i.WorkspaceEdit;e.document.getCells().forEach((n,r)=>{const i={...n.metadata||{},inputCollapsed:!1,outputCollapsed:!1};t.replaceNotebookCellMetadata(e.document.uri,r,i)}),await i.workspace.applyEdit(t)}async collapseAllCells(){const e=await this._editorReadyPromise,t=new i.WorkspaceEdit;e.document.getCells().forEach((n,r)=>{if(n.kind!==i.NotebookCellKind.Code)return;const o={...n.metadata||{},inputCollapsed:!0,outputCollapsed:!1};t.replaceNotebookCellMetadata(e.document.uri,r,o)}),await i.workspace.applyEdit(t)}async scrollToCell(e){const t=await this._editorReadyPromise,n=t.document.getCells().find(t=>S(t).id===e);n&&this.revealCell(n,t)}revealCell(e,t){const n=new i.NotebookRange(e.index,e.index+1);setTimeout(()=>{t.revealRange(n,i.NotebookEditorRevealType.Default)},200)}async hasCell(e){const t=await this._editorReadyPromise;return!!t&&t.document.getCells().some(t=>S(t).id===e)}get owningResource(){if(this.owner)return this.owner;const e=this.workspaceService.rootPath;return e?i.Uri.file(e):void 0}async onViewStateChanged(e){this._onDidChangeViewState.fire()}get notebookMetadata(){}get kernelConnection(){return this._kernelConnection}async updateNotebookOptions(e){this._kernelConnection=e}get notebookIdentity(){return{resource:this._identity,type:"interactive"}}updateContexts(e){new s.ContextKey(p.EditorContexts.HaveInteractive,this.commandManager).set(!this.isDisposed).catch(u.noop);const t=new s.ContextKey(p.EditorContexts.HaveInteractiveCells,this.commandManager),n=new s.ContextKey(p.EditorContexts.HaveRedoableCells,this.commandManager),r=new s.ContextKey(p.EditorContexts.HaveCellSelected,this.commandManager);e?(t.set(e.cellCount>0).catch(u.noop),n.set(e.redoCount>0).catch(u.noop),r.set(!!e.selectedCell).catch(u.noop)):(t.set(!1).catch(u.noop),n.set(!1).catch(u.noop),r.set(!1).catch(u.noop))}async setFileInKernel(e,t){"perFile"===this.mode&&!this.fileInKernel&&this.kernel&&e!==p.Identifiers.EmptyFileName?(this.fileInKernel=e,await this.kernel.executeHidden(`__file__ = '${e.replace(/\\/g,"\\\\")}'`,t)):this.fileInKernel&&this.fs.areLocalPathsSame(this.fileInKernel,e)||"perFile"===this.mode||!this.kernel||e===p.Identifiers.EmptyFileName||(this.fileInKernel=e,await this.kernel.executeHidden(`__file__ = '${e.replace(/\\/g,"\\\\")}'`,t))}async updateOwners(e){this._owner||(this._owner=e),this._submitters.find(t=>this.fs.areLocalPathsSame(t.fsPath,e.fsPath))||this._submitters.push(e),await this.show()}async addNotebookCell(e,t,n,r,s){var a,c,l;this.notebookController||await this.commandManager.executeCommand("notebook.selectKernel"),await this.initialControllerSelected.promise,await this.kernelLoadPromise,await this.commandManager.executeCommand("interactive.open",{preserveFocus:!0},e.uri,null===(a=this.notebookController)||void 0===a?void 0:a.id,void 0);const u=this.configuration.getSettings(),d=new h.CellMatcher(u),p=d.getCellType(t)===o.MARKDOWN_LANGUAGE,f=p?b.generateMarkdownFromCodeLines(t.splitLines()).join(""):d.stripFirstMarker(t).trim(),m=d.getFirstMarker(t),g=null!==(l=null===(c=i.workspace.textDocuments.find(e=>{var t;return e.uri.toString()===(null===(t=this.owner)||void 0===t?void 0:t.toString())}))||void 0===c?void 0:c.languageId)&&void 0!==l?l:o.PYTHON_LANGUAGE,v=new i.NotebookCellData(p?i.NotebookCellKind.Markup:i.NotebookCellKind.Code,f,p?o.MARKDOWN_LANGUAGE:g);return v.metadata={inputCollapsed:!p&&u.collapseCellInputCodeByDefault,interactiveWindowCellMarker:m,interactive:{file:n.fsPath,line:r,originalSource:t},id:s},await _.chainWithPendingUpdates(e,t=>{t.replaceNotebookCells(e.uri,new i.NotebookRange(e.cellCount,e.cellCount),[v])}),e.cellAt(e.cellCount-1)}async export(){const e=await this._editorReadyPromise;if(!this.extensionChecker.isPythonExtensionInstalled)return this.extensionChecker.showPythonExtensionInstallRequiredPrompt();const{magicCommandsAsComments:t}=this.configuration.getSettings(),n=d.generateCellsFromNotebookDocument(e.document,t);if(n&&this.exportDialog){const e=await this.exportDialog.showDialog(f.ExportFormat.ipynb,this.owningResource);e&&await this.jupyterExporter.exportToFile(n,e.fsPath)}}async exportAs(){var e;const t=await this._editorReadyPromise;if(!this.extensionChecker.isPythonExtensionInstalled)return this.extensionChecker.showPythonExtensionInstallRequiredPrompt();const{magicCommandsAsComments:n}=this.configuration.getSettings(),i=d.generateCellsFromNotebookDocument(t.document,n),o={orig_nbformat:p.defaultNotebookFormat.major};this.kernel&&v.updateNotebookMetadata(o,this.kernel.kernelConnectionMetadata);const s=await this.jupyterExporter.translateToNotebook(i,void 0,o.kernelspec),a=JSON.stringify(s,void 0,4);let c;if(this.submitters&&this.submitters.length){const e=this.submitters[this.submitters.length-1];c=r.basename(e.fsPath,r.extname(e.fsPath))}this.commandManager.executeCommand(p.Commands.Export,a,this.owningResource,c,null===(e=this.kernel)||void 0===e?void 0:e.kernelConnectionMetadata.interpreter).then(u.noop,u.noop)}get title(){return""}onMessage(e,t){u.noop()}async submitNewCell(e){u.noop()}createWebviewCellButton(e,t,n,r,i){return{dispose:u.noop}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportBase=void 0;const o=n(0),s=n(6),a=n(1),c=n(16),l=n(39),u=n(118),d=n(119),h=n(13);let p=class{constructor(e,t,n,r){this.pythonExecutionFactory=e,this.jupyterService=t,this.fs=n,this.importer=r}async export(e,t,n,r){}async executeCommand(e,t,n,r,i){if(i.isCancellationRequested)return;const o=await this.getExecutionService(e,r);if(!o)return;if(i.isCancellationRequested)return;const c=await this.fs.createTemporaryLocalFile(s.extname(t.fsPath)),l=[e.fsPath,"--to",n,"--output",s.basename(c.filePath),"--output-dir",s.dirname(c.filePath),"--debug"],u=await o.execModule("jupyter",["nbconvert"].concat(l),{throwOnStdErr:!1,encoding:"utf8",token:i});if(i.isCancellationRequested)c.dispose();else try{if(!((await this.fs.stat(a.Uri.file(c.filePath))).size>1))throw new Error("File size is zero during conversion. Outputting error.");await this.fs.copyLocal(c.filePath,t.fsPath)}catch(e){throw new Error(u.stderr)}finally{c.dispose()}}async getExecutionService(e,t){return this.pythonExecutionFactory.createActivatedEnvironment({resource:e,interpreter:t,allowEnvironmentFetchExceptions:!1,bypassCondaExecution:!0})}};r([u.reportAction(d.ReportableAction.PerformingExport)],p.prototype,"executeCommand",null),p=r([o.injectable(),i(0,o.inject(l.IPythonExecutionFactory)),i(1,o.inject(h.IJupyterSubCommandExecutionService)),i(2,o.inject(c.IFileSystem)),i(3,o.inject(h.INotebookImporter))],p),t.ExportBase=p},function(e,t,n){"use strict";const r=n(663),i=n(44),o=n(240),{kStatusCode:s,NOOP:a}=n(151),c=Buffer.from([0,0,255,255]),l=Buffer.from([0]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");let m;function g(e){this[p].push(e),this[d]+=e.length}function v(e){this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload?this[p].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f][s]=1009,this.removeListener("data",v),this.reset())}function y(e){this[u]._inflate=null,e[s]=1007,this[h](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!m){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;m=new r({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate[h]&&this._deflate[h](),this._deflate.close(),this._deflate=null)}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){m.push(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){m.push(r=>{this._compress(e,t,(e,t)=>{r(),(e||t)&&n(e,t)})})}_decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=r+"_max_window_bits",t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",y),this._inflate.on("data",v)}this._inflate[h]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=o.concat(this._inflate[p],this._inflate[d]);t&&this.params[r+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[]),n(null,i)})}_compress(e,t,n){if(!e||0===e.length)return void process.nextTick(n,null,l);const r=this._isServer?"server":"client";if(!this._deflate){const e=r+"_max_window_bits",t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("error",a),this._deflate.on("data",g)}this._deflate[h]=n,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),this._deflate[h]=null,t&&this.params[r+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[d]=0,this._deflate[p]=[]),n(null,e)})}}},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(151);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,i),i+=r.length}return i<t?n.slice(0,i):n}function o(e,t,n,r,i){for(let o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function s(e,t){const n=e.length;for(let r=0;r<n;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=function(e){const t=Buffer.from(e.buffer);if(e.byteLength!==e.buffer.byteLength)return t.slice(e.byteOffset,e.byteOffset+e.byteLength);return t}(e):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=n(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,n,i,s){s<48?o(e,t,n,i,s):r.mask(e,t,n,i,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s}}},function(e,t,n){"use strict";const r=n(663),i=n(44),o=n(335),{kStatusCode:s,NOOP:a}=n(152),c=Buffer.from([0,0,255,255]),l=Buffer.from([0]),u=Symbol("permessage-deflate"),d=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),f=Symbol("error");let m;function g(e){this[p].push(e),this[d]+=e.length}function v(e){this[d]+=e.length,this[u]._maxPayload<1||this[d]<=this[u]._maxPayload?this[p].push(e):(this[f]=new RangeError("Max payload size exceeded"),this[f][s]=1009,this.removeListener("data",v),this.reset())}function y(e){this[u]._inflate=null,e[s]=1007,this[h](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!m){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;m=new r({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate&&(this._deflate.close(),this._deflate=null)}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{var n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){m.push(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){m.push(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=r+"_max_window_bits",t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:t})),this._inflate[u]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",y),this._inflate.on("data",v)}this._inflate[h]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[f];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=o.concat(this._inflate[p],this._inflate[d]);t&&this.params[r+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[]),n(null,i)})}_compress(e,t,n){if(!e||0===e.length)return void process.nextTick(n,null,l);const r=this._isServer?"server":"client";if(!this._deflate){const e=r+"_max_window_bits",t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw(Object.assign({},this._options.zlibDeflateOptions,{windowBits:t})),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("error",a),this._deflate.on("data",g)}this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(this._deflate){var e=o.concat(this._deflate[p],this._deflate[d]);t&&(e=e.slice(0,e.length-4)),t&&this.params[r+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[d]=0,this._deflate[p]=[]),n(null,e)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendKernelListTelemetry=void 0;const r=n(5),i=n(55);t.sendKernelListTelemetry=function(e,t,n){let o={kernelSpecCount:0,kernelInterpreterCount:0,kernelLiveCount:0};t.forEach(e=>{switch(e.kind){case"connectToLiveKernel":o.kernelLiveCount+=1;break;case"startUsingDefaultKernel":case"startUsingKernelSpec":o.kernelSpecCount+=1;break;case"startUsingPythonInterpreter":o.kernelInterpreterCount+=1}}),i.trackKernelResourceInformation(e,o),n&&i.sendKernelTelemetryEvent(e,r.Telemetry.KernelCount,n.elapsedTime,o)}},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,n){var r=n(17);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(695)).Stream=r||t,t.Readable=t,t.Writable=n(698),t.Duplex=n(154),t.Transform=n(700),t.PassThrough=n(1393))},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,n){var r=n(702);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20),i=n(102),o=n(170);function s(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(12);function i(e,t){return t?new r.a((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(66),i=function(e){return function(t){var n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(66);function i(e){return e&&"function"==typeof e[r.a]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(60);function i(e){return e&&"function"==typeof e[r.a]}},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.b(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(95).a),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.b(t,e),t}(n(94).a))(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(12),i=n(21),o=n(66);var s=n(256),a=n(167),c=n(257),l=n(251),u=n(164),d=n(163),h=n(252);function p(e,t){if(null!=e){if(Object(l.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(u.a)(e))return Object(s.a)(e,t);if(Object(d.a)(e))return Object(a.a)(e,t);if(Object(h.a)(e)||"string"==typeof e)return Object(c.a)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),i=n(21);function o(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),i=n(21),o=n(60);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,s=new i.a;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o.a](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},function(e,t,n){"use strict";const{Colorizer:r}=n(200);e.exports=e=>(r.addColors(e.colors||e),e)},function(e,t,n){"use strict";const{configs:r,LEVEL:i,MESSAGE:o}=n(23);class s{constructor(e={levels:r.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map(e=>e.length);return Math.max(...t)}static paddingForLevel(e,t,n){const r=n+1-e.length,i=Math.floor(r/t.length);return`${t}${t.repeat(i)}`.slice(0,r)}static paddingForLevels(e,t=" "){const n=s.getLongestLevel(e);return Object.keys(e).reduce((e,r)=>(e[r]=s.paddingForLevel(r,t,n),e),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=e=>new s(e),e.exports.Padder=e.exports.Format=s},function(e,t,n){"use strict";const r=n(53),{MESSAGE:i}=n(23),o=n(139);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=r((e,t={})=>(e[i]=o(e,t.replacer||s,t.space),e))},function(e,t,n){"use strict";var r=n(50);e.exports=r((function(e){return e.message="\t".concat(e.message),e}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(172).Colorizer,s=n(203).Padder,a=n(23),c=a.configs,l=a.MESSAGE,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),t.levels||(t.levels=c.npm.levels),this.colorizer=new o(t),this.padder=new s(t),this.options=t}var t,n,a;return t=e,(n=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[l]="".concat(e.level,":").concat(e.message),e}}])&&i(t.prototype,n),a&&i(t,a),e}();e.exports=function(e){return new u(e)},e.exports.Format=u},function(e,t,n){"use strict";var r=n(50);function i(e){if(e.every(o))return function(t){for(var n=t,r=0;r<e.length;r++)if(!(n=e[r].transform(n,e[r].options)))return!1;return n}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=r(i(t)),s=o();return s.Format=o.Format,s},e.exports.cascade=i},function(e,t,n){"use strict";var r=n(50),i=n(23).MESSAGE,o=n(139);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=r((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=o(e,t.replacer||s,t.space),e}))},function(e,t,n){"use strict";var r=n(50);e.exports=r((function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)}))},function(e,t,n){"use strict";var r=n(50),i=n(23).MESSAGE,o=n(139);e.exports=r((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},function(e,t,n){"use strict";var r=n(50);function i(e,t,n){var r,i,o,s=t.reduce((function(t,n){return t[n]=e[n],delete e[n],t}),{}),a=Object.keys(e).reduce((function(t,n){return t[n]=e[n],delete e[n],t}),{});return Object.assign(e,s,(o=a,(i=n)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r)),e}function o(e,t,n){return e[n]=t.reduce((function(t,n){return t[n]=e[n],delete e[n],t}),{}),e}e.exports=r((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="metadata";t.key&&(n=t.key);var r=[];return t.fillExcept||t.fillWith||(r.push("level"),r.push("message")),t.fillExcept&&(r=t.fillExcept),r.length>0?i(e,r,n):t.fillWith?o(e,t.fillWith,n):e}))},function(e,t,n){"use strict";var r=n(18).inspect,i=n(50),o=n(23),s=o.LEVEL,a=o.MESSAGE,c=o.SPLAT;e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);return delete n[s],delete n[a],delete n[c],e[a]=r(n,!1,t.depth||null,t.colorize),e}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(23).MESSAGE,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,n,o;return t=e,(n=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=function(e){return new o(e)},e.exports.Printf=e.exports.Format=o},function(e,t,n){"use strict";var r=n(50),i=n(23).MESSAGE,o=n(139);e.exports=r((function(e){var t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),n=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(n," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(n," ").concat(e.message),e}))},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(18),s=n(23).SPLAT,a=/%[scdjifoO%]/g,c=/%%/g,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,n,l;return t=e,(n=[{key:"_splat",value:function(e,t){var n=e.message,i=e[s]||e.splat||[],a=n.match(c),l=a&&a.length||0,u=t.length-l-i.length,d=u<0?i.splice(u,-1*u):[],h=d.length;if(h)for(var p=0;p<h;p++)Object.assign(e,d[p]);return e.message=o.format.apply(o,[n].concat(r(i))),e}},{key:"transform",value:function(e){var t=e.message,n=e[s]||e.splat;if(!n||!n.length)return e;var r=t&&t.match&&t.match(a);if(!r&&(n||n.length)){var i=n.length>1?n.splice(0):n,o=i.length;if(o)for(var c=0;c<o;c++)Object.assign(e,i[c]);return e}return r?this._splat(e,r):e}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=function(e){return new l(e)}},function(e,t,n){"use strict";var r=n(358),i=n(50);e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():r.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},function(e,t,n){"use strict";var r=n(201),i=n(50),o=n(23).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=r.strip(e.level)),!1!==t.message&&(e.message=r.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=r.strip(e[o])),e}))},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r},e.exports=t.default},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(370),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(124)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";var r=n(141).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},p=function(e){o.call(t,e)},f=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",u),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",u),!1!==n.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,n){"use strict";const r=n(96),{configs:i}=n(23);t.cli=r.levels(i.cli),t.npm=r.levels(i.npm),t.syslog=r.levels(i.syslog),t.addColors=r.levels},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,r.default)(e,(0,i.default)((0,o.default)(t)),n)};var r=s(n(805)),i=s(n(806)),o=s(n(208));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var o=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=n,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,i=null,o=null,s=null,a=null,c="native"===n[5];if(n[1]){var l=(o=n[1]).lastIndexOf(".");if("."==o[l-1]&&l--,l>0){r=o.substr(0,l),i=o.substr(l+1);var u=r.indexOf(".Module");u>0&&(o=o.substr(u+1),r=r.substr(0,u))}s=null}i&&(s=r,a=i),"<anonymous>"===i&&(a=null,o=null);var d={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(n[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new n(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracing=t.createTracingDecorator=t.TraceOptions=void 0;const r=n(85),i=n(9),o=n(8),s=n(125),a=n(396),c=n(897);var l;function u(e,t,n,r){const i=function(e,t,n){n=function(e){let{kind:t,name:n,args:r}=e;return t&&""!==t||(t="Function"),n&&""!==n||(n="<anon>"),r||(r=[]),{kind:t,name:n,args:r}}(n);const r=[e.message];return r.push(`${n.kind} name = ${n.name}`.trim(),`completed in ${t.elapsed}ms`,`has a ${t.returnValue?"truthy":"falsy"} return value`),(e.opts&l.Arguments)===l.Arguments&&r.push(c.argsToLogString(n.args)),(e.opts&l.ReturnValue)===l.ReturnValue&&r.push(c.returnValueToLogString(t.returnValue)),r.join(", ")}(t,n,r);void 0===n.err?(!t.level||t.level>s.LogLevel.Error)&&a.logToAll(e,s.LogLevel.Info,[i]):(a.logToAll(e,s.LogLevel.Error,[i,n.err]),o.sendTelemetryEvent("ERROR",void 0,void 0,n.err))}!function(e){e[e.None=0]="None",e[e.Arguments=1]="Arguments",e[e.ReturnValue=2]="ReturnValue"}(l=t.TraceOptions||(t.TraceOptions={})),t.createTracingDecorator=function(e,t){return r.trace((n,r)=>u(e,t,r,n))},t.tracing=function(e,t,n,r){return i.tracing(n=>u(e,t,n,r),n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_WINDOWS=t.NON_WINDOWS_PATH_VARIABLE_NAME=t.WINDOWS_PATH_VARIABLE_NAME=void 0,t.WINDOWS_PATH_VARIABLE_NAME="Path",t.NON_WINDOWS_PATH_VARIABLE_NAME="PATH",t.IS_WINDOWS=/^win/.test(process.platform)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastFrameFromPythonTraceback=t.getErrorMessageFromPythonTraceback=t.ErrorUtils=void 0;t.ErrorUtils=class{static outputHasModuleNotInstalledError(e,t){return!(!t||!(t.indexOf("No module named "+e)>0||t.indexOf(`No module named '${e}'`)>0))}},t.getErrorMessageFromPythonTraceback=function(e){if(!e)return;const t=e.split("\n").filter(e=>e.trim().length).reverse();if(0===t.length)return;const n=t[0],r=((n.match(/\S+Error: /g)?n:void 0)||"").split(":");return r.length&&r[0].endsWith("Error")?r[0]:void 0},t.getLastFrameFromPythonTraceback=function(e){if(!e)return;const t=(Array.isArray(e)?e[0]:e).split("\n").map(e=>e.trim().toLowerCase()).filter(e=>e.length).reverse().find(e=>e.startsWith("file ")&&e.includes(", line ")&&e.includes(".py")&&e.includes(".py"));if(!t)return;const n=(t.substring(0,t.lastIndexOf(".py"))+".py").replace(/\\/g,"/").split("/"),r=n.indexOf("site-packages");let i=r>=0&&n.length>r+1?n[r+1]:"";const o=n.reverse();return o.length<2?void 0:{fileName:o[0],folderName:o[1],packageName:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var i="DiagnosticChannel";if(t.IsInitialized){var o=n(823),s=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:o.bunyan,console:o.console,mongodb:o.mongodb,mongodbCore:o.mongodbCore,mysql:o.mysql,redis:o.redis,pg:o.pg,pgPool:o.pgPool,winston:o.winston};for(var c in a)-1===s.indexOf(c)&&(a[c].enable(),r.info(i,"Subscribed to "+c+" events"));s.length>0&&r.info(i,"Some modules will not be patched",s)}else r.info(i,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&n(38).channel.addContextPreservation(e)}},function(e,t,n){"use strict";var r=n(288),i=r.wrap,o=r.unwrap,s="wrap@before";function a(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function c(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function l(e,t,n){var r=c(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[s];if("function"==typeof o)o(i);else if(Array.isArray(o))for(var a=o.length,c=0;c<a;c++)o[c](i)}}(e,r)}function u(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}e.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function r(e){return function(t,n){var o=c(this,t).slice();try{var s=e.call(this,t,n);return l(this,t,o),s}finally{this.on.__wrapped||i(this,"on",r),this.addListener.__wrapped||i(this,"addListener",r)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(i(e,"addListener",r),i(e,"on",r),i(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var r=this._events[t];function s(e){return function(){this._events[t]=r;try{return e.apply(this,arguments)}finally{r=this._events[t],this._events[t]=u(r,n)}}}i(this,"removeListener",s);try{return this._events[t]=u(r,n),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=r}}})),a(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},function(e,t,n){"use strict";function r(e){return"function"==typeof e}var i=console.error.bind(console);function o(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function s(e){e&&e.logger&&(r(e.logger)?i=e.logger:i("new logger isn't a function, not replacing"))}function a(e,t,n){if(e&&e[t]){if(!n)return i("no wrapper function"),void i((new Error).stack);if(r(e[t])&&r(n)){var s=e[t],a=n(s,t);return o(a,"__original",s),o(a,"__unwrap",(function(){e[t]===a&&o(e,t,s)})),o(a,"__wrapped",!0),o(e,t,a),a}i("original object and wrapper must be functions")}else i("no original function "+t+" to wrap")}function c(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void i("no original to unwrap to -- has "+t+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}s.wrap=a,s.massWrap=function(e,t,n){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t,n)}))})):i("must provide one or more functions to wrap on modules")},s.unwrap=c,s.massUnwrap=function(e,t){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){c(e,t)}))})):i("must provide one or more functions to unwrap on modules")},e.exports=s},function(e,t,n){"use strict";var r=n(28),i=n(185),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var l=e[c],u=this._lastCpus[c],d=(l.model,l.speed,l.times),h=u.times;t+=d.user-h.user||0,n+=d.sys-h.sys||0,o+=d.nice-h.nice||0,s+=d.idle-h.idle||0,a+=d.irq-h.irq||0}var p=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),m=process.hrtime(),g=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;if(void 0!==this._lastHrtime&&2===this._lastHrtime.length)p=100*g/((1e6*(m[0]-this._lastHrtime[0])+(m[1]-this._lastHrtime[1])/1e3||0)*e.length);this._lastAppCpuUsage=f,this._lastHrtime=m}var v=t+n+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(v-s)/v*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:p||t/v*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var l=r/a,u=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var l=r/a,u=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=r/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=o},function(e,t,n){"use strict";var r=n(143),i=n(885),o=n(185),s=n(31),a=function(){function e(t){var n=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var r=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(r),l=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||l||c.instrumentationkey||e._getInstrumentationKey(),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=a},function(e,t,n){"use strict";var r=n(28),i=n(25),o=n(6),s=n(71),a=n(51),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(912);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(294),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(293),i=n(428),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualstudio_py_testlauncher=t.testlauncher=t.shell_exec=t.printEnvVariablesToFile=t.printEnvVariables=t.symbolProvider=t.normalizeSelection=t.refactor=t.sortImports=t.completion=t.interpreterInfo=t.testing_tools=t._SCRIPTS_DIR=void 0;const r=n(6),i=n(14);t._SCRIPTS_DIR=r.join(i.EXTENSION_ROOT_DIR,"pythonFiles");const o=t._SCRIPTS_DIR;t.testing_tools=n(954),t.interpreterInfo=function(){const e=[r.join(o,"interpreterInfo.py")];return[e,function(t){let n;try{n=JSON.parse(t)}catch(n){throw Error(`python ${e} returned bad JSON (${t}) (${n})`)}return n}]},t.completion=function(e){const t=[r.join(o,"completion.py")];return e&&(t.push("custom"),t.push(e)),[t,function(e){return e.splitLines().map(e=>JSON.parse(e))}]},t.sortImports=function(e,t){const n=[r.join(o,"sortImports.py"),e,"--diff"];return t&&n.push(...t),[n,function(e){return e}]},t.refactor=function(e){return[[r.join(o,"refactor.py"),e],function(e){return e.split(/\r?\n/g).filter(e=>e.length>0).map(e=>JSON.parse(e))}]},t.normalizeSelection=function(){return[[r.join(o,"normalizeSelection.py")],function(e){return e}]},t.symbolProvider=function(e,t){const n=[r.join(o,"symbolProvider.py"),e];return t&&n.push(t),[n,function(e){return JSON.parse(e)}]},t.printEnvVariables=function(){return[[r.join(o,"printEnvVariables.py").fileToCommandArgument()],function(e){return JSON.parse(e)}]},t.printEnvVariablesToFile=function(e){return[[r.join(o,"printEnvVariablesToFile.py"),e.fileToCommandArgument()],function(e){return JSON.parse(e)}]},t.shell_exec=function(e,t,n){return[r.join(o,"shell_exec.py"),e.fileToCommandArgument(),...n,t.fileToCommandArgument()]},t.testlauncher=function(e){return[r.join(o,"testlauncher.py"),...e]},t.visualstudio_py_testlauncher=function(e){return[r.join(o,"visualstudio_py_testlauncher.py"),...e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPythonExecInfo=t.buildPythonExecInfo=void 0,t.buildPythonExecInfo=function(e,t){if(Array.isArray(e)){const n=e.slice(1);return t&&n.push(...t),{args:n,command:e[0],python:[...e],pythonExecutable:e[e.length-1]}}return{command:e,args:t||[],python:[e],pythonExecutable:e}},t.copyPythonExecInfo=function(e,t){const n={command:e.command,args:[...e.args],python:[...e.python],pythonExecutable:e.pythonExecutable};return t&&n.args.push(...t),void 0===n.pythonExecutable&&(n.pythonExecutable=n.python[n.python.length-1]),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKernelSpecs=t.JupyterKernelSpec=void 0;const r=n(6),i=n(37),o=n(4),s=n(54);class a{constructor(e,t,n){this.specFile=t,this.interpreterPath=n,this.name=e.name,this.argv=e.argv,this.language=e.language,this.path=e.argv&&e.argv.length>0?e.argv[0]:"",this.display_name=e.display_name,this.metadata=e.metadata,this.env=e.env,this.interrupt_mode=e.interrupt_mode}}t.JupyterKernelSpec=a,t.parseKernelSpecs=async function(e,t){o.traceInfo("Parsing kernelspecs from jupyter");const n=JSON.parse(e.trim()).kernelspecs;return(await Promise.race([Promise.all(Object.keys(n).map(async e=>{const t={...n[e].spec,name:e},i=await s.tryGetRealPath(r.join(n[e].resource_dir,"kernel.json"));if(i)return new a(t,i)})),i.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:[],token:t})])).filter(e=>!!e).map(e=>e)}},function(e,t,n){var r=n(128)(n(78),"Map");e.exports=r},function(e,t,n){var r=n(374),i=n(989),o=n(174);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(994),i=n(435),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(998),i=n(298),o=n(999),s=n(1e3),a=n(1001),c=n(175),l=n(432),u=l(r),d=l(i),h=l(o),p=l(s),f=l(a),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(1004);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalPythonAndRelatedNonPythonKernelSpecFinder=t.isDefaultPythonKernelSpecName=void 0;const o=n(0),s=n(6),a=n(7),c=n(14),l=n(4),u=n(16),d=n(33),h=n(22),p=n(441),f=n(230),m=n(26),g=n(305),v=n(8),y=n(5);t.isDefaultPythonKernelSpecName=/python\d*.?\d*$/;let b=class extends p.LocalKernelSpecFinderBase{constructor(e,t,n,r,i,o){super(t,n,i),this.interpreterService=e,this.jupyterPaths=r,this.kernelSpecsFromKnownLocations=o}async listKernelSpecs(e,t){const n=this.workspaceService.getWorkspaceFolderIdentifier(e,(null==e?void 0:e.fsPath)||this.workspaceService.rootPath)||"root";return this.listKernelsWithCache(n,!0,()=>this.listKernelsImplementation(e,t))}async listKernelsImplementation(e,t){const n=this.extensionChecker.isPythonExtensionInstalled?await this.interpreterService.getInterpreters(e):[];return 0!==n.length&&this.extensionChecker.isPythonExtensionInstalled?this.listPythonAndRelatedNonPythonKernelSpecs(e,n,t):this.listGlobalPythonKernelSpecs(!1,t)}async listGlobalPythonKernelSpecs(e,t){return(await this.kernelSpecsFromKnownLocations.listKernelSpecs(!0,t)).filter(e=>e.kernelSpec.language===c.PYTHON_LANGUAGE).filter(t=>!!e||!h.isKernelRegisteredByUs(t.kernelSpec)).map(e=>e)}async listPythonAndRelatedNonPythonKernelSpecs(e,n,r){const i=this.jupyterPaths.getKernelSpecRootPath(),o=this.interpreterService.getActiveInterpreter(e),[s,a,u,d]=await Promise.all([this.findKernelSpecsInInterpreters(n,r),i,o,this.listGlobalPythonKernelSpecs(!0,r)]),p=d.filter(e=>h.isKernelRegisteredByUs(e.kernelSpec));let f=[...n];const m=!!(n.length>0||u),g=new Map;await Promise.all(d.filter(e=>!h.isKernelRegisteredByUs(e.kernelSpec)&&(e=>{if(e.kernelSpec.language!==c.PYTHON_LANGUAGE)return!1;const t=e.kernelSpec.argv.map(e=>e.toLowerCase()),n=t.indexOf("-m");if(-1===n)return!1;const r=t.length-1>=n?t[n+1]:void 0;return!!r&&"ipykernel_launcher"!==r})(e)).map(async e=>{const t=await this.findMatchingInterpreter(e.kernelSpec,n);if(!t)return void l.traceInfo(`Kernel Spec for ${e.kernelSpec.display_name} ignored as we cannot find a matching interpreter ${JSON.stringify(e)}`);const r={kind:"startUsingKernelSpec",kernelSpec:e.kernelSpec,interpreter:t,id:h.getKernelId(e.kernelSpec,t)};g.set(r.id,r)})),await Promise.all([...s,...p.map(e=>e.kernelSpec)].filter(e=>e.language!==c.PYTHON_LANGUAGE||!m||!e.name.toLowerCase().match(t.isDefaultPythonKernelSpecName)&&"python 3 (ipykernel)"!==e.display_name.toLowerCase()||(l.traceInfo(`Hiding default kernel spec ${e.display_name}, ${e.argv[0]}`),!1)).map(async e=>{var t,r,i,o,s,a,d,p;const m=await this.findMatchingInterpreter(e,n);if(m){const t={kind:"startUsingPythonInterpreter",kernelSpec:e,interpreter:m,id:h.getKernelId(e,m)};return!h.isKernelRegisteredByUs(t.kernelSpec)&&Object.keys(t.kernelSpec.env||{}).length>0||(f=f.filter(e=>m!==e)),t}{let n=e.language===c.PYTHON_LANGUAGE?u:void 0;if(e.language===c.PYTHON_LANGUAGE&&(null===(r=null===(t=e.metadata)||void 0===t?void 0:t.interpreter)||void 0===r?void 0:r.path)&&(null===(o=null===(i=e.metadata)||void 0===i?void 0:i.interpreter)||void 0===o?void 0:o.path)!==(null==u?void 0:u.path))try{n=await this.interpreterService.getInterpreterDetails(null===(a=null===(s=e.metadata)||void 0===s?void 0:s.interpreter)||void 0===a?void 0:a.path)}catch(t){return void l.traceError(`Failed to get interpreter details for Kernel Spec ${e.specFile} with interpreter path ${null===(p=null===(d=e.metadata)||void 0===d?void 0:d.interpreter)||void 0===p?void 0:p.path}`,t)}return{kind:"startUsingKernelSpec",kernelSpec:e,interpreter:n,id:h.getKernelId(e,n)}}}).map(async e=>{const t=await e;t&&!g.has(t.id)&&g.set(t.id,t)}));return[...Array.from(g.values()),...f.map(e=>{const t=h.createInterpreterKernelSpec(e,a);return{kind:"startUsingPythonInterpreter",kernelSpec:t,interpreter:e,id:h.getKernelId(t,e)}})].sort((e,t)=>{var n,r;return e.kernelSpec.display_name.toUpperCase()===t.kernelSpec.display_name.toUpperCase()?0:(null===(n=e.interpreter)||void 0===n?void 0:n.path)===(null==u?void 0:u.path)&&e.kernelSpec.display_name.toUpperCase()===(null===(r=null==u?void 0:u.displayName)||void 0===r?void 0:r.toUpperCase())?-1:1})}async findMatchingInterpreter(e,t){if(e.language&&e.language!==c.PYTHON_LANGUAGE)return void l.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,`Kernel ${e.name} is not python based so does not have an interpreter.`);const n=t.find(t=>{var n,r,i,o;return!(!(null===(r=null===(n=e.metadata)||void 0===n?void 0:n.interpreter)||void 0===r?void 0:r.path)||!this.fs.areLocalPathsSame(null===(o=null===(i=e.metadata)||void 0===i?void 0:i.interpreter)||void 0===o?void 0:o.path,t.path))&&(l.traceInfo(`Kernel ${e.name} matches ${t.displayName} based on metadata path.`),!0)});if(n)return n;const r=e&&Array.isArray(e.argv)&&e.argv.length>0?e.argv[0]:void 0;if(r&&s.basename(r)!==r){const n=t.find(t=>!!this.fs.areLocalPathsSame(r,t.path)&&(l.traceInfo(`Kernel ${e.name} matches ${t.displayName} based on path in argv.`),!0));if(n)return n;const i=await this.interpreterService.getInterpreterDetails(r);if(i)return i}if(e.interpreterPath){const n=t.find(t=>!(!e.interpreterPath||!this.fs.areLocalPathsSame(e.interpreterPath,t.path))&&(l.traceInfo(`Kernel ${e.name} matches ${t.displayName} based on interpreter path.`),!0));if(n)return n}return t.find(t=>e.display_name===t.displayName?(l.traceInfo(`Kernel ${e.name} matches ${t.displayName} based on display name.`),!0):(l.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,`Kernel ${e.name} does not match ${t.displayName} interpreter.`),!1))}async findKernelSpecsInInterpreters(e,t){const n=await this.findKernelPathsOfAllInterpreters(e),r=await this.findKernelSpecsInPaths(n,t);let i=[];await Promise.all(r.map(async e=>{const n=await this.getKernelSpec(e.kernelSpecFile,e.interpreter,t);n&&i.push(n)}));const o=new Set;i.forEach(e=>{var t,n;(null===(t=e.metadata)||void 0===t?void 0:t.originalSpecFile)&&o.add(null===(n=e.metadata)||void 0===n?void 0:n.originalSpecFile)}),i=i.filter(e=>!e.specFile||!o.has(e.specFile));const s=[],a=new Map;return i.forEach(e=>{const t=a.get(e.display_name);t&&t.path!==e.path?s.push(e):t||(s.push(e),a.set(e.display_name,e))}),s}async findKernelPathsOfAllInterpreters(e){const t=new Set;return e.map(e=>({interpreter:e,kernelSearchPath:s.join(e.sysPrefix,f.baseKernelPath)})).filter(e=>!t.has(e.kernelSearchPath)&&(t.add(e.kernelSearchPath),!0))}};r([v.captureTelemetry(y.Telemetry.KernelListingPerf,{kind:"localPython"})],b.prototype,"listKernelSpecs",null),b=r([o.injectable(),i(0,o.inject(d.IInterpreterService)),i(1,o.inject(u.IFileSystem)),i(2,o.inject(a.IWorkspaceService)),i(3,o.inject(f.JupyterPaths)),i(4,o.inject(m.IPythonExtensionChecker)),i(5,o.inject(g.LocalKnownPathKernelSpecFinder))],b),t.LocalPythonAndRelatedNonPythonKernelSpecFinder=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalKnownPathKernelSpecFinder=void 0;const o=n(0),s=n(7),a=n(16),c=n(22),l=n(441),u=n(230),d=n(14),h=n(26),p=n(8),f=n(5);let m=class extends l.LocalKernelSpecFinderBase{constructor(e,t,n,r){super(e,t,r),this.jupyterPaths=n}async listKernelSpecs(e,t){return this.listKernelsWithCache(e?"IncludePython":"ExcludePython",!1,async()=>(await this.findKernelSpecs(t)).filter(t=>!!e||t.language!==d.PYTHON_LANGUAGE).map(e=>({kind:"startUsingKernelSpec",kernelSpec:e,interpreter:void 0,id:c.getKernelId(e)})))}async findKernelSpecs(e){let t=[];const n=await this.jupyterPaths.getKernelSpecRootPaths(e),r=await this.findKernelSpecsInPaths(n,e);await Promise.all(r.map(async n=>{const r=await this.getKernelSpec(n.kernelSpecFile,n.interpreter,e);r&&t.push(r)}));const i=new Set;t.forEach(e=>{var t,n;(null===(t=e.metadata)||void 0===t?void 0:t.originalSpecFile)&&i.add(null===(n=e.metadata)||void 0===n?void 0:n.originalSpecFile)}),t=t.filter(e=>!e.specFile||!i.has(e.specFile));const o=[],s=new Map;return t.forEach(e=>{const t=s.get(e.display_name);t&&t.path!==e.path?o.push(e):t||(o.push(e),s.set(e.display_name,e))}),o}};r([p.captureTelemetry(f.Telemetry.KernelListingPerf,{kind:"localKernelSpec"})],m.prototype,"listKernelSpecs",null),m=r([o.injectable(),i(0,o.inject(a.IFileSystem)),i(1,o.inject(s.IWorkspaceService)),i(2,o.inject(u.JupyterPaths)),i(3,o.inject(h.IPythonExtensionChecker))],m),t.LocalKnownPathKernelSpecFinder=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1015))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateCellStateFromNative=t.translateCellToNative=t.calculateWorkingDirectory=void 0;const r=n(6),i=n(1),o=n(62),s=n(13),a=n(56);t.calculateWorkingDirectory=async function(e,t,n){let i;const o=e.getSettings(void 0).notebookFileRoot;if(o&&t.hasWorkspaceFolders){const e=t.workspaceFolders[0].uri.fsPath;if(r.isAbsolute(o))i=await n.localDirectoryExists(o)?o:e;else if(o.includes("${"))i=o;else{const t=r.join(e,o);i=await n.localDirectoryExists(t)?t:e}}return i},t.translateCellToNative=function(e,t){if(e&&e.data&&e.data.source){const n="?query#";return{index:0,metadata:{},executionSummary:{executionOrder:e.data.execution_count,success:!0,timing:{startTime:0,endTime:0}},outputs:[],kind:i.NotebookCellKind.Code,code:o.concatMultilineString(e.data.source),document:{languageId:t,getText:()=>o.concatMultilineString(e.data.source),uri:i.Uri.parse(e.file+n+e.id)}}}},t.translateCellStateFromNative=function(e){switch(e){case a.NotebookCellRunState.Error:return s.CellState.error;case a.NotebookCellRunState.Idle:return s.CellState.init;case a.NotebookCellRunState.Running:return s.CellState.executing;case a.NotebookCellRunState.Success:return s.CellState.finished;default:return s.CellState.init}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemVariables=void 0;const r=n(6),i=n(1),o=n(1020);t.SystemVariables=class extends class{resolve(e){return o.isString(e)?this.__resolveString(e):o.isArray(e)?this.__resolveArray(e):o.isObject(e)?this.__resolveLiteral(e):e}resolveAny(e){return o.isString(e)?this.__resolveString(e):o.isArray(e)?this.__resolveAnyArray(e):o.isObject(e)?this.__resolveAnyLiteral(e):e}__resolveString(e){return e.replace(/\$\{(.*?)\}/g,(e,t)=>{const n=this[t];return o.isString(n)?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e})}__resolveLiteral(e){const t=Object.create(null);return Object.keys(e).forEach(n=>{const r=e[n];t[n]=this.resolve(r)}),t}__resolveAnyLiteral(e){const t=Object.create(null);return Object.keys(e).forEach(n=>{const r=e[n];t[n]=this.resolveAny(r)}),t}__resolveArray(e){return e.map(e=>this.__resolveString(e))}__resolveAnyArray(e){return e.map(e=>this.resolveAny(e))}}{constructor(e,t,n,o){super();const s=n&&e?n.getWorkspaceFolder(e):void 0;this._workspaceFolder=s?s.uri.fsPath:t||__dirname,this._workspaceFolderName=r.basename(this._workspaceFolder),this._filePath=e?e.fsPath:void 0,o&&o.activeTextEditor&&(this._lineNumber=o.activeTextEditor.selection.anchor.line+1,this._selectedText=o.activeTextEditor.document.getText(new i.Range(o.activeTextEditor.selection.start,o.activeTextEditor.selection.end))),this._execPath=process.execPath,Object.keys(process.env).forEach(e=>{this["env:"+e]=this["env."+e]=process.env[e]})}get cwd(){return this.workspaceFolder}get workspaceRoot(){return this._workspaceFolder}get workspaceFolder(){return this._workspaceFolder}get workspaceRootFolderName(){return this._workspaceFolderName}get workspaceFolderBasename(){return this._workspaceFolderName}get file(){return this._filePath}get relativeFile(){return this.file?r.relative(this._workspaceFolder,this.file):void 0}get relativeFileDirname(){return this.relativeFile?r.dirname(this.relativeFile):void 0}get fileBasename(){return this.file?r.basename(this.file):void 0}get fileBasenameNoExtension(){return this.file?r.parse(this.file).name:void 0}get fileDirname(){return this.file?r.dirname(this.file):void 0}get fileExtname(){return this.file?r.extname(this.file):void 0}get lineNumber(){return this._lineNumber}get selectedText(){return this._selectedText}get execPath(){return this._execPath}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInstaller=t.DataScienceInstaller=t.BaseInstaller=t.isModulePresentInEnvironment=t.clearInstalledIntoInterpreterMemento=t.trackPackageInstalledIntoInterpreter=t.Product=void 0;const o=n(0),s=n(26);n(15);const a=n(10),c=n(5),l=n(130),u=n(33),d=n(40),h=n(190),p=n(8),f=n(7),m=n(14),g=n(4),v=n(39),y=n(3),b=n(19),_=n(9),w=n(32),S=n(192),E=n(449);var x=n(3);async function C(e,t,n){if(_.isResource(n))return;const r=`${h.getInterpreterHash(n)}#${S.ProductNames.get(t)}`;if(e.get(r,!1))return!0;const i=I(t),o=l.InterpreterPackages.getPackageVersion(n,i).then(e=>"string"==typeof e?"found":"notfound").catch(e=>g.traceError("Failed to get interpreter package version",e));try{const e=await Promise.race([b.sleep(500),o]);if("string"==typeof e)return"found"===e}catch(e){g.traceError("Failed to check if package exists "+S.ProductNames.get(t))}}Object.defineProperty(t,"Product",{enumerable:!0,get:function(){return x.Product}}),t.trackPackageInstalledIntoInterpreter=async function(e,t,n){if(_.isResource(n))return;const r=`${h.getInterpreterHash(n)}#${S.ProductNames.get(t)}`;await e.update(r,!0)},t.clearInstalledIntoInterpreterMemento=async function(e,t,n){const r=`${h.getInterpreterHash({path:n})}#${S.ProductNames.get(t)}`;await e.update(r,void 0)},t.isModulePresentInEnvironment=C;class k{constructor(e,t){this.serviceContainer=e,this.outputChannel=t,this.appShell=e.get(f.IApplicationShell),this.configService=e.get(y.IConfigurationService),this.workspaceService=e.get(f.IWorkspaceService)}promptToInstall(e,t,n){const r=t&&_.isResource(t)?this.workspaceService.getWorkspaceFolder(t):void 0,i=`${e}${r?r.uri.fsPath:""}`;if(k.PromptPromises.has(i))return k.PromptPromises.get(i);const o=this.promptToInstallImplementation(e,t,n);return k.PromptPromises.set(i,o),o.then(()=>k.PromptPromises.delete(i)).ignoreErrors(),o.catch(()=>k.PromptPromises.delete(i)).ignoreErrors(),o}async install(e,t,n,r){return this.serviceContainer.get(s.IPythonInstaller).install(e,t,n,r)}async isInstalled(e,t){const n=_.isResource(t)?void 0:t,r=_.isResource(t)?t:void 0,i=this.getExecutableNameFromSettings(e,r);if(this.isExecutableAModule(e,r)){return(await this.serviceContainer.get(v.IPythonExecutionFactory).createActivatedEnvironment({resource:r,interpreter:n,allowEnvironmentFetchExceptions:!0})).isModuleInstalled(i)}return(await this.serviceContainer.get(v.IProcessServiceFactory).create(r)).exec(i,["--version"],{mergeStdOutErr:!0}).then(()=>!0).catch(()=>!1)}getExecutableNameFromSettings(e,t){return this.serviceContainer.get(E.IProductPathService).getExecutableNameFromSettings(e,t)}isExecutableAModule(e,t){return this.serviceContainer.get(E.IProductPathService).isExecutableAModule(e,t)}}t.BaseInstaller=k,k.PromptPromises=new Map;class D extends k{async install(e,t,n,r){if(_.isResource(t))throw new Error("All data science packages require an interpreter be passed in");const i=this.serviceContainer.get(s.IPythonInstaller),o=t,a=await i.install(e,o,n,r);return a===y.InstallerResponse.Disabled||a===y.InstallerResponse.Ignore?a:this.isInstalled(e,o).then(e=>e?y.InstallerResponse.Installed:y.InstallerResponse.Ignore)}async promptToInstallImplementation(e,t,n){const r=S.ProductNames.get(e),i=await C(this.serviceContainer.get(y.IMemento,y.GLOBAL_MEMENTO),e,t);p.sendTelemetryEvent(c.Telemetry.PythonModuleInstal,void 0,{action:"displayed",isModulePresent:i?"true":void 0,moduleName:r});const o=i?a.DataScience.libraryNotInstalledCorrectlyOrOutdated().format(r):a.DataScience.libraryNotInstalled().format(r),s=this.serviceContainer.get(y.IsCodeSpace)?a.Common.bannerLabelYes():await this.appShell.showErrorMessage(o,{modal:!0},a.Common.bannerLabelYes(),a.Common.bannerLabelNo()),l=s===a.Common.bannerLabelYes()?"install":s===a.Common.bannerLabelNo()?"donotinstall":"dismissed";if(p.sendTelemetryEvent(c.Telemetry.PythonModuleInstal,void 0,{action:l,isModulePresent:i?"true":void 0,moduleName:r}),s===a.Common.bannerLabelYes()){const o=new w.StopWatch;try{const s=await this.install(e,t,n,!0===i),a=e===y.Product.jupyter?c.Telemetry.UserInstalledJupyter:c.Telemetry.UserInstalledModule;return p.sendTelemetryEvent(a,o.elapsedTime,{product:r}),s}catch(t){throw e===y.Product.jupyter&&p.sendTelemetryEvent(c.Telemetry.JupyterInstallFailed),t}}return y.InstallerResponse.Ignore}}t.DataScienceInstaller=D;let T=class{constructor(e,t){this.serviceContainer=e,this.outputChannel=t,this.interpreterService=this.serviceContainer.get(u.IInterpreterService)}dispose(){}async promptToInstall(e,t,n){return(_.isResource(t)?await this.interpreterService.getActiveInterpreter(t):t)?this.createInstaller().promptToInstall(e,t,n):y.InstallerResponse.Ignore}async install(e,t,n,r){return this.createInstaller().install(e,t,n,r)}async isInstalled(e,t){return this.createInstaller().isInstalled(e,t)}translateProductToModuleName(e,t){return I(e)}createInstaller(){return new D(this.serviceContainer,this.outputChannel)}};function I(e){switch(e){case y.Product.jupyter:return"jupyter";case y.Product.notebook:return"notebook";case y.Product.pandas:return"pandas";case y.Product.ipykernel:return"ipykernel";case y.Product.nbconvert:return"nbconvert";case y.Product.kernelspec:return"kernelspec";default:throw new Error(`Product ${e} cannot be installed as a Python Module.`)}}T=r([o.injectable(),i(0,o.inject(d.IServiceContainer)),i(1,o.inject(y.IOutputChannel)),i(1,o.named(m.STANDARD_OUTPUT_CHANNEL))],T),t.ProductInstaller=T},function(e){e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessService=void 0;const r=n(184),i=n(35),o=n(454),s=n(4),a=n(19),c=n(453),l=n(39);class u extends i.EventEmitter{constructor(e,t){super(),this.decoder=e,this.env=t,this.processesToKill=new Set}static isAlive(e){try{return process.kill(e,0),!0}catch(e){return!1}}static kill(e){try{"win32"===process.platform?r.execSync(`taskkill /pid ${e} /T /F`):process.kill(e)}catch(e){}}dispose(){this.removeAllListeners(),this.processesToKill.forEach(e=>{try{e.dispose()}catch(e){}})}execObservable(e,t,n={}){const i=this.getDefaultOptions(n),s=i.encoding?i.encoding:"utf8",a=r.spawn(e,t,i);let c=!1;const d={dispose:function(){!a||a.killed||c||u.kill(a.pid),a&&a.unref()}};this.processesToKill.add(d);const h=new o.Observable(e=>{const t=[],r=(e,n,r)=>{e.on(n,r),t.push({dispose:()=>e.removeListener(n,r)})};n.token&&t.push(n.token.onCancellationRequested(()=>{c||a.killed||(a.kill(),c=!0)}));const i=(t,r)=>{const i=this.decoder.decode([r],s);"stderr"===t&&n.throwOnStdErr?e.error(new l.StdErrError(i)):e.next({source:t,out:i})};r(a.stdout,"data",e=>i("stdout",e)),r(a.stderr,"data",e=>i("stderr",e)),a.once("close",()=>{c=!0,e.complete(),t.forEach(e=>e.dispose())}),a.once("exit",()=>{c=!0,e.complete(),t.forEach(e=>e.dispose())}),a.once("error",n=>{c=!0,e.error(n),t.forEach(e=>e.dispose())})});return this.emit("exec",e,t,n),{proc:a,out:h,dispose:d.dispose}}exec(e,t,n={}){const i=this.getDefaultOptions(n),o=i.encoding?i.encoding:"utf8",s=r.spawn(e,t,i),c=a.createDeferred(),u={dispose:()=>{s.killed||c.completed||s.kill()}};this.processesToKill.add(u);const d=[],h=(e,t,n)=>{e.on(t,n),d.push({dispose:()=>e.removeListener(t,n)})};n.token&&d.push(n.token.onCancellationRequested(u.dispose));const p=[];h(s.stdout,"data",e=>p.push(e));const f=[];return h(s.stderr,"data",e=>{n.mergeStdOutErr?(p.push(e),f.push(e)):f.push(e)}),s.once("close",()=>{if(c.completed)return;const e=0===f.length?void 0:this.decoder.decode(f,o);if(e&&e.length>0&&n.throwOnStdErr)c.reject(new l.StdErrError(e));else{const t=this.decoder.decode(p,o);c.resolve({stdout:t,stderr:e})}d.forEach(e=>e.dispose())}),s.once("error",e=>{c.reject(e),d.forEach(e=>e.dispose())}),this.emit("exec",e,t,n),c.promise}shellExec(e,t={}){const n=this.getDefaultOptions(t);return new Promise((t,i)=>{s.traceInfo(`Execing command ${e} with options ${JSON.stringify(n)}`);const o=r.exec(e,n,(e,r,o)=>{e&&null!==e?i(e):n.throwOnStdErr&&o&&o.length?i(new Error(o)):t({stderr:o&&o.length>0?o:void 0,stdout:r})}),a={dispose:()=>{o.killed||o.kill()}};this.processesToKill.add(a)})}getDefaultOptions(e){const t={...e},n=t;if(n){const e=n.encoding="string"==typeof n.encoding&&n.encoding.length>0?n.encoding:c.DEFAULT_ENCODING;delete n.encoding,n.encoding=e}if(t.env&&0!==Object.keys(t.env).length)t.env={...t.env};else{const e=this.env?this.env:process.env;t.env={...e}}return t.env.PYTHONUNBUFFERED="1",t.env.PYTHONIOENCODING||(t.env.PYTHONIOENCODING="utf-8"),t}}t.ProcessService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePythonDaemon=t.DaemonError=t.ConnectionClosedError=void 0;const r=n(28),i=n(306),o=n(18),s=n(193),a=n(29),c=n(4),l=n(19),u=n(9),d=n(39);class h extends a.BaseError{constructor(e){super("daemon",e)}}t.ConnectionClosedError=h;class p extends a.BaseError{constructor(e){super("daemon",e)}}t.DaemonError=p;t.BasePythonDaemon=class{constructor(e,t,n,r,o){this.pythonExecutionService=e,this.platformService=t,this.pythonPath=n,this.proc=r,this.connection=o,this.outputObservable=new i.Subject,this.connectionClosedMessage="",this.disposables=[],this.disposed=!1,this.connectionClosedDeferred=l.createDeferred(),this.connectionClosedDeferred.promise.catch(u.noop),this.monitorConnection()}get isAlive(){return""===this.connectionClosedMessage}get closed(){return this.connectionClosedDeferred.promise}dispose(){if(this.connectionClosedMessage="Daemon disposed from dispose()",!this.disposed){try{this.disposed=!0,this.platformService.isWindows?this.proc.kill():this.proc.kill("SIGKILL")}catch(e){u.noop()}this.disposables.forEach(e=>e.dispose())}}execObservable(e,t){if(!this.isAlive||!this.canExecFileUsingDaemon(e,t))return this.pythonExecutionService.execObservable(e,t);try{return this.execAsObservable({fileName:e[0]},e.slice(1),t)}catch(n){if(n instanceof p||n instanceof h)return c.traceWarning("Falling back to Python Execution Service due to failure in daemon",n),this.pythonExecutionService.execObservable(e,t);throw n}}execModuleObservable(e,t,n){if(!this.isAlive||!this.canExecModuleUsingDaemon(e,t,n))return this.pythonExecutionService.execModuleObservable(e,t,n);try{return this.execAsObservable({moduleName:e},t,n)}catch(r){if(r instanceof p||r instanceof h)return c.traceWarning("Falling back to Python Execution Service due to failure in daemon",r),this.pythonExecutionService.execModuleObservable(e,t,n);throw r}}async exec(e,t){if(!this.isAlive||!this.canExecFileUsingDaemon(e,t))return this.pythonExecutionService.exec(e,t);try{return await this.execFileWithDaemon(e[0],e.slice(1),t)}catch(n){if(n instanceof p||n instanceof h)return c.traceWarning("Falling back to Python Execution Service due to failure in daemon",n),this.pythonExecutionService.exec(e,t);throw n}}async execModule(e,t,n){if(!this.isAlive||!this.canExecModuleUsingDaemon(e,t,n))return this.pythonExecutionService.execModule(e,t,n);try{return await this.execModuleWithDaemon(e,t,n)}catch(r){if(r instanceof p||r instanceof h)return c.traceWarning("Falling back to Python Execution Service due to failure in daemon",r),this.pythonExecutionService.execModule(e,t,n);throw r}}canExecFileUsingDaemon(e,t){return e[0].toLowerCase().endsWith(".py")&&this.areOptionsSupported(t)}canExecModuleUsingDaemon(e,t,n){return this.areOptionsSupported(n)}areOptionsSupported(e){const t=["cwd","env","throwOnStdErr","token","encoding","mergeStdOutErr"];return Object.keys(e).every(e=>t.indexOf(e)>=0)}sendRequestWithoutArgs(e){return this.isAlive&&this.proc&&"number"!=typeof this.proc.exitCode?Promise.race([this.connection.sendRequest(e),this.connectionClosedDeferred.promise]):this.connectionClosedDeferred.promise}sendRequest(e,t){return this.isAlive&&"number"!=typeof this.proc.exitCode||c.traceError("Daemon is handling a request after death."),this.isAlive&&this.proc&&"number"!=typeof this.proc.exitCode?Promise.race([this.connection.sendRequest(e,t),this.connectionClosedDeferred.promise]):this.connectionClosedDeferred.promise}throwIfRPCConnectionIsDead(){if(!this.isAlive)throw new h(this.connectionClosedMessage)}execAsObservable(e,t,n){var r;const o=new i.Subject;let a="";null===(r=this.proc.stderr)||void 0===r||r.on("data",e=>a+=e.toString());const l=this.outputObservable.subscribe(e=>{"stderr"===e.source&&n.throwOnStdErr?o.error(new d.StdErrError(e.out)):"stderr"===e.source&&n.mergeStdOutErr?o.next({source:"stdout",out:e.out}):o.next(e)});return(async()=>{let r;if("fileName"in e){const i=new s.RequestType("exec_file_observable");r=await this.sendRequest(i,{file_name:e.fileName,args:t,cwd:n.cwd,env:n.env})}else{const i=new s.RequestType("exec_module_observable");r=await this.sendRequest(i,{module_name:e.moduleName,args:t,cwd:n.cwd,env:n.env})}if(r&&r.error)throw new p(r.error)})().catch(n=>{const r=`Failed to run ${"fileName"in e?e.fileName:e.moduleName} as observable with args ${t.join(" ")}`;c.traceError(r,n),o.next({source:"stderr",out:`${r}\n${a}`}),o.error(n)}).finally(()=>{setTimeout(()=>{l.unsubscribe(),o.complete()},100)}).ignoreErrors(),{proc:this.proc,dispose:()=>this.dispose(),out:o}}processResponse(e,t){if(e.error)throw new p("Failed to execute using the daemon, "+e.error);if(e.stderr&&t.throwOnStdErr)throw new d.StdErrError(e.stderr);e.stderr&&t.mergeStdOutErr&&(e.stdout=`${e.stdout||""}${r.EOL}${e.stderr}`)}async execFileWithDaemon(e,t,n){const r=new s.RequestType("exec_file"),i=await this.sendRequest(r,{file_name:e,args:t,cwd:n.cwd,env:n.env});return this.processResponse(i,n),i}async execModuleWithDaemon(e,t,n){const r=new s.RequestType("exec_module"),i=await this.sendRequest(r,{module_name:e,args:t,cwd:n.cwd,env:n.env});return this.processResponse(i,n),i}monitorConnection(){const e=(e,t)=>{this.disposed||(this.connectionClosedMessage+=e+(t?", With Error: "+o.format(t):""),this.connectionClosedDeferred.reject(new h(this.connectionClosedMessage)),c.traceWarning(e),t&&c.traceError("Connection errored",t))};this.disposables.push(this.connection.onClose(()=>e("Daemon Connection Closed"))),this.disposables.push(this.connection.onDispose(()=>e("Daemon Connection disposed"))),this.disposables.push(this.connection.onError(t=>e("Daemon Connection errored",t))),this.proc.on("exit",t=>e("Daemon Processed died with exit code",t));const t=new s.NotificationType("output");this.connection.onNotification(t,e=>this.outputObservable.next(e));const n=new s.NotificationType("log");this.connection.onNotification(n,e=>{const t=`Python Daemon${e.pid?` (pid: ${e.pid})`:""}: ${e.msg}`;"DEBUG"===e.level||"NOTSET"===e.level?c.traceVerbose(t):"INFO"===e.level?c.traceInfo(t):"WARN"===e.level||"WARNING"===e.level?c.traceWarning(t):c.traceError(t)}),this.connection.onUnhandledNotification(c.traceError)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModuleVersion=t.isModuleInstalled=t.isValid=t.getUserSitePackages=t.getSitePackages=t.getExecutable=t.getSysPrefix=t.getVersion=t.execModule=t.execCode=void 0,t.execCode=function(e){return["-c",e]},t.execModule=function(e,t){return["-m",e,...t]},t.getVersion=function(){return[["--version"],function(e){return e.trim()}]},t.getSysPrefix=function(){return[["-c","import sys;print(sys.prefix)"],function(e){return e.trim()}]},t.getExecutable=function(){return[["-c","import sys;print(sys.executable)"],function(e){return e.trim()}]},t.getSitePackages=function(){return[["-c","from distutils.sysconfig import get_python_lib; print(get_python_lib())"],function(e){return e.trim()}]},t.getUserSitePackages=function(){return[["site","--user-site"],function(e){return e.trim()}]},t.isValid=function(){return[["-c","print(1234)"],function(e){return e.startsWith("1234")}]},t.isModuleInstalled=function(e){return[["-c","import "+e],function(e){return!0}]},t.getModuleVersion=function(e){return[["-c",`import ${e}; print(${e}.__version__)`],function(e){return e.trim()}]}},function(e,t,n){"use strict";var r=n(64);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";var r=n(467);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t){e.exports=require("./node_modules/request")},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookStarter=void 0;const s=n(184),a=n(31),c=n(0),l=n(28),u=n(6),d=n(41),h=n(37),p=n(29),f=n(4),m=n(16),g=n(3),v=n(10),y=n(32),b=n(40),_=n(8),w=n(5),S=n(118),E=n(119),x=n(13),C=n(445),k=n(196);let D=r=class{constructor(e,t,n,r){this.jupyterInterpreterService=e,this.fs=t,this.serviceContainer=n,this.jupyterOutputChannel=r,this.disposables=[]}static get usedPorts(){return Array.from(r._usedPorts)}dispose(){for(;this.disposables.length>0;){const e=this.disposables.shift();try{e&&e.dispose()}catch(e){}}}async start(e,t,n,i){f.traceInfo("Starting Notebook");let o,s=0;try{const c=this.generateTempDir();c.then(e=>this.disposables.push(e)).ignoreErrors();const l=await this.generateArguments(e,t,c,n);if(i&&i.isCancellationRequested)throw new h.CancellationError;f.traceInfo("Starting Jupyter Notebook");const u=new y.StopWatch,[d,p]=await Promise.all([this.jupyterInterpreterService.startNotebook(l||[],{throwOnStdErr:!1,encoding:"utf8",token:i}),c]);if(d.proc&&(d.proc.on("exit",e=>s=e),d.out.subscribe(e=>this.jupyterOutputChannel.append(e.out))),d&&i&&i.onCancellationRequested(()=>{d.dispose()}),f.traceInfo("Waiting for Jupyter Notebook"),o=new C.JupyterConnectionWaiter(d,p.path,n,this.jupyterInterpreterService.getRunningJupyterServers.bind(this.jupyterInterpreterService),this.serviceContainer,i),i&&i.isCancellationRequested)throw new h.CancellationError;const m=await Promise.race([o.waitForConnection(),h.createPromiseFromCancellation({cancelAction:"reject",defaultValue:new h.CancellationError,token:i})]);if(m instanceof h.CancellationError)throw m;_.sendTelemetryEvent(w.Telemetry.StartJupyterProcess,u.elapsedTime);try{const e=parseInt(a.parse(m.baseUrl).port||"0",10);e&&!isNaN(e)&&(d.proc&&d.proc.on("exit",()=>r._usedPorts.delete(e)),r._usedPorts.add(e))}catch(e){f.traceError("Parsing failed "+m.baseUrl,e)}return m}catch(e){if(e instanceof h.CancellationError)throw e;if(!await this.jupyterInterpreterService.isNotebookSupported())throw new k.JupyterInstallError(await this.jupyterInterpreterService.getReasonForJupyterNotebookNotBeingSupported(),v.DataScience.pythonInteractiveHelpLink());throw 0!==s?new Error(v.DataScience.jupyterServerCrashed().format(null==s?void 0:s.toString())):p.WrappedError.from(v.DataScience.jupyterNotebookFailure().format(e),e)}finally{null==o||o.dispose()}}async generateDefaultArguments(e,t,n){const r=[];r.push(Promise.resolve("--no-browser")),r.push(Promise.resolve(this.getNotebookDirArgument(n))),e&&r.push(this.getConfigArgument(t)),r.push(Promise.resolve("--NotebookApp.iopub_data_rate_limit=10000000000.0"));const[i,o]=await Promise.all([Promise.all(r),this.getDockerArguments()]);return[...i,...o,...process.env&&process.env.VSCODE_JUPYTER_DEBUG_JUPYTER?["--debug"]:[]]}async generateCustomArguments(e){return["--no-browser","--NotebookApp.iopub_data_rate_limit=10000000000.0",...e]}async generateArguments(e,t,n,r){return t&&0!==t.length?this.generateCustomArguments(t):this.generateDefaultArguments(e,n,r)}getNotebookDirArgument(e){return`--notebook-dir="${e.replace(/\\/g,"\\\\")}"`}async getConfigArgument(e){const t=await e,n=u.join(t.path,"jupyter_notebook_config.py");return await this.fs.writeLocalFile(n,""),f.traceInfo("Generating custom default config at "+n),"--config="+n}async getDockerArguments(){const e=[];try{const t=await this.fs.readLocalFile("/proc/self/cgroup").catch(()=>"");return t.includes("docker")||t.includes("kubepods")?(e.push("--ip"),e.push("127.0.0.1"),new Promise(t=>{s.exec("id",{encoding:"utf-8"},(n,r)=>{r&&r.toString().includes("(root)")&&e.push("--allow-root"),t(e)})})):e}catch(t){return e}}async generateTempDir(){const e=u.join(l.tmpdir(),d());return await this.fs.createLocalDirectory(e),{path:e,dispose:async()=>{let t=0;for(;t<10;)try{await this.fs.deleteLocalDirectory(e),t=10}catch(e){t+=1}}}}};D._usedPorts=new Set,i([S.reportAction(E.ReportableAction.NotebookStart)],D.prototype,"start",null),D=r=i([c.injectable(),o(0,c.inject(x.IJupyterSubCommandExecutionService)),o(1,c.inject(m.IFileSystem)),o(2,c.inject(b.IServiceContainer)),o(3,c.inject(g.IOutputChannel)),o(3,c.named(w.JUPYTER_OUTPUT_CHANNEL))],D),t.NotebookStarter=D},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelEnvironmentVariablesService=void 0;const o=n(0),s=n(4),a=n(9),c=n(144),l=n(146),u=n(33),d=n(1149);let h=class{constructor(e,t,n,r){this.interpreterService=e,this.envActivation=t,this.envVarsService=n,this.customEnvVars=r}async getEnvironmentVariables(e,t,n){let r=n.env&&Object.keys(n.env).length>0?n.env:void 0;if(!t){if(!n.interpreterPath)return s.traceInfo("No custom variables for Kernel as interpreter path is not defined for kernel "+n.display_name),r;t=await this.interpreterService.getInterpreterDetails(n.interpreterPath).catch(e=>{s.traceError("Failed to fetch interpreter information for interpreter that owns a kernel",e)})}if((null==t?void 0:t.envType)!==d.EnvironmentType.Conda)return s.traceInfo("No custom variables for Kernel as interpreter is not conda, but is "+(null==t?void 0:t.envType)),r;let[i,o]=await Promise.all([this.customEnvVars.getCustomEnvironmentVariables(e).catch(a.noop),this.envActivation.getActivatedEnvironmentVariables(e,t,!1).catch(e=>{s.traceError("Failed to get env variables for interpreter, hence no variables for Kernel",e)})]);if(!o)return s.traceInfo("No custom variables for Kernel even thought interpreter is conda"),r;const c={...process.env};r=r||{},i=i||{},this.envVarsService.mergeVariables(o,c),this.envVarsService.mergeVariables(r,c),this.envVarsService.mergeVariables(i,c);let l=Object.keys(o).find(e=>"path"==e.toLowerCase());const u=Object.keys(c).find(e=>"path"==e.toLowerCase())||l;return l&&u&&(c[u]=o[l]),o.PYTHONPATH&&(c.PYTHONPATH=o.PYTHONPATH),l=Object.keys(i).find(e=>"path"==e.toLowerCase()),l&&i[l]&&this.envVarsService.appendPath(c,i[l]),l=Object.keys(r).find(e=>"path"==e.toLowerCase()),l&&r[l]&&this.envVarsService.appendPath(c,r[l]),i.PYTHONPATH&&this.envVarsService.appendPythonPath(c,i.PYTHONPATH),r.PYTHONPATH&&this.envVarsService.appendPythonPath(c,r.PYTHONPATH),c}};h=r([o.injectable(),i(0,o.inject(u.IInterpreterService)),i(1,o.inject(l.IEnvironmentActivationService)),i(2,o.inject(c.IEnvironmentVariablesService)),i(3,o.inject(c.IEnvironmentVariablesProvider))],h),t.KernelEnvironmentVariablesService=h},function(e,t,n){
/*!
 * Tmp
 *
 * Copyright (c) 2011-2015 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
var r=n(25),i=n(6),o=n(61),s=n(1151),a=n(222),c=s(),l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u=/XXXXXX/,d=a.O_CREAT|a.O_EXCL|a.O_RDWR,h=[],p=!1,f=!1;function m(e){var t=[],n=null;try{n=o.randomBytes(e)}catch(t){n=o.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(l[n[r]%l.length]);return t.join("")}function g(e,t){if("function"==typeof e){var n=e;e=t||{},t=n}else void 0===e&&(e={});return[e,t]}function v(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(u,m(6));var t=[e.prefix||"tmp-",process.pid,m(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function y(e,t){var n=g(e,t),i=n[0],o=n[1],s=i.tries||3;return isNaN(s)||s<0?o(new Error("Invalid tries")):i.template&&!i.template.match(u)?o(new Error("Invalid template provided")):void function e(){var t=v(i);r.stat(t,(function(n){if(!n)return s-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)}))}()}function b(e){var t=g(e)[0],n=t.tries||3;if(isNaN(n)||n<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(u))throw new Error("Invalid template provided");do{var i=v(t);try{r.statSync(i)}catch(e){return i}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function _(e){var t=[e];do{for(var n=t.pop(),o=!1,s=r.readdirSync(n),a=0,c=s.length;a<c;a++){var l=i.join(n,s[a]);r.lstatSync(l).isDirectory()?(o||(o=!0,t.push(n)),t.push(l)):r.unlinkSync(l)}o||r.rmdirSync(n)}while(0!==t.length)}function w(e,t,n){var i=E((function(e){try{r.closeSync(e[0])}catch(e){if(e.errno!=-a.EBADF&&e.errno!=-a.ENOENT)throw e}r.unlinkSync(e[1])}),[t,e]);return n.keep||h.unshift(i),i}function S(e,t){var n=E(t.unsafeCleanup?_:r.rmdirSync.bind(r),e);return t.keep||h.unshift(n),n}function E(e,t){var n=!1;return function r(){if(!n){var i=h.indexOf(r);i>=0&&h.splice(i,1),n=!0,e(t)}}}function x(){if(!f||p)for(var e=0,t=h.length;e<t;e++)try{h[e].call(null)}catch(e){}}var C=process.versions.node.split(".").map((function(e){return parseInt(e,10)}));0===C[0]&&(C[1]<9||9===C[1]&&C[2]<5)&&process.addListener("uncaughtException",(function(e){throw f=!0,x(),e})),process.addListener("exit",(function(e){e&&(f=!0),x()})),e.exports.tmpdir=c,e.exports.dir=function(e,t){var n=g(e,t),i=n[0],o=n[1];y(i,(function(e,t){if(e)return o(e);r.mkdir(t,i.mode||448,(function(e){if(e)return o(e);o(null,t,S(t,i))}))}))},e.exports.dirSync=function(e){var t=g(e)[0],n=b(t);return r.mkdirSync(n,t.mode||448),{name:n,removeCallback:S(n,t)}},e.exports.file=function(e,t){var n=g(e,t),i=n[0],o=n[1];i.postfix=void 0===i.postfix?".tmp":i.postfix,y(i,(function(e,t){if(e)return o(e);r.open(t,d,i.mode||384,(function(e,n){if(e)return o(e);o(null,t,n,w(t,n,i))}))}))},e.exports.fileSync=function(e){var t=g(e)[0];t.postfix=t.postfix||".tmp";var n=b(t),i=r.openSync(n,d,t.mode||384);return{name:n,fd:i,removeCallback:w(n,i,t)}},e.exports.tmpName=y,e.exports.tmpNameSync=b,e.exports.setGracefulCleanup=function(){p=!0}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInterpreterDependencyService=t.getMessageForLibrariesNotInstalled=t.JupyterInterpreterDependencyResponse=void 0;const o=n(0),s=n(7),a=n(37),c=n(192),l=n(4),u=n(3),d=n(10),h=n(9),p=n(8),f=n(5),m=n(118),g=n(119),v=n(13);var y;function b(e,t){const n=e.map(e=>c.ProductNames.get(e)).filter(e=>!!e).map(e=>e);switch(n.length){case 0:return"";case 1:return t?d.DataScience.libraryRequiredToLaunchJupyterNotInstalledInterpreter().format(t,n[0]):d.DataScience.libraryRequiredToLaunchJupyterNotInstalled().format(n[0]);default:{const e=n.pop();return t?d.DataScience.librariesRequiredToLaunchJupyterNotInstalledInterpreter().format(t,`${n.join(", ")} ${d.Common.and()} ${e}`):d.DataScience.librariesRequiredToLaunchJupyterNotInstalled().format(`${n.join(", ")} ${d.Common.and()} ${e}`)}}}!function(e){e[e.ok=0]="ok",e[e.selectAnotherInterpreter=1]="selectAnotherInterpreter",e[e.cancel=2]="cancel"}(y=t.JupyterInterpreterDependencyResponse||(t.JupyterInterpreterDependencyResponse={})),t.getMessageForLibrariesNotInstalled=b;let _=class{constructor(e,t,n){this.applicationShell=e,this.installer=t,this.commandFactory=n,this.dependenciesInstalledInInterpreter=new Set}async installMissingDependencies(e,t,n){const r=await this.getDependenciesNotInstalled(e,n);if(a.Cancellation.isCanceled(n))return y.cancel;if(0===r.length)return y.ok;const i=b(r,e.displayName);p.sendTelemetryEvent(f.Telemetry.PythonModuleInstal,void 0,{action:"displayed",moduleName:c.ProductNames.get(u.Product.jupyter)}),p.sendTelemetryEvent(f.Telemetry.JupyterNotInstalledErrorShown);const o=await this.applicationShell.showErrorMessage(i,{modal:!0},d.DataScience.jupyterInstall(),d.DataScience.selectDifferentJupyterInterpreter());if(a.Cancellation.isCanceled(n))return y.cancel;switch(o){case d.DataScience.jupyterInstall():{r.includes(u.Product.kernelspec)&&!r.includes(u.Product.jupyter)&&r.push(u.Product.jupyter);const t=r.filter(e=>e!==u.Product.kernelspec);t.sort((e,t)=>e===u.Product.jupyter?-1:t===u.Product.jupyter?1:e===u.Product.notebook?-1:t===u.Product.notebook?1:0);let i=t.shift();const o=a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:u.InstallerResponse.Ignore,token:n});for(;i;){if(await Promise.race([this.installer.install(i,e,a.wrapCancellationTokens(n)),o])!==u.InstallerResponse.Installed)return y.cancel;i=t.shift()}return p.sendTelemetryEvent(f.Telemetry.UserInstalledJupyter),this.checkKernelSpecAvailability(e)}case d.DataScience.selectDifferentJupyterInterpreter():return p.sendTelemetryEvent(f.Telemetry.UserDidNotInstallJupyter),y.selectAnotherInterpreter;case d.DataScience.pythonInteractiveHelpLink():return this.applicationShell.openUrl(f.HelpLinks.PythonInteractiveHelpLink),p.sendTelemetryEvent(f.Telemetry.UserDidNotInstallJupyter),y.cancel;default:return p.sendTelemetryEvent(f.Telemetry.UserDidNotInstallJupyter),y.cancel}}async areDependenciesInstalled(e,t){return this.getDependenciesNotInstalled(e,t).then(e=>0===e.length)}async getDependenciesNotInstalled(e,t){if(this.dependenciesInstalledInInterpreter.has(e.path))return[];const n=[];if(await Promise.race([Promise.all([this.installer.isInstalled(u.Product.jupyter,e).then(e=>e?h.noop():n.push(u.Product.jupyter)),this.installer.isInstalled(u.Product.notebook,e).then(e=>e?h.noop():n.push(u.Product.notebook))]),a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:void 0,token:t})]),n.length>0)return n;if(a.Cancellation.isCanceled(t))return[];const r=await this.isKernelSpecAvailable(e,t).then(e=>e?[]:[u.Product.kernelspec]);return 0===r.length&&this.dependenciesInstalledInInterpreter.add(e.path),r}async isKernelSpecAvailable(e,t){return this.commandFactory.createInterpreterCommand(f.JupyterCommands.KernelSpecCommand,"jupyter",["-m","jupyter","kernelspec"],e,!1).exec(["--version"],{throwOnStdErr:!0}).then(()=>!0).catch(e=>(l.traceError("Kernel spec not found: ",e),p.sendTelemetryEvent(f.Telemetry.KernelSpecNotFound),!1))}async checkKernelSpecAvailability(e,t){if(await this.isKernelSpecAvailable(e))return y.ok;if(p.sendTelemetryEvent(f.Telemetry.JupyterInstalledButNotKernelSpecModule),a.Cancellation.isCanceled(t))return y.cancel;return await this.applicationShell.showErrorMessage(d.DataScience.jupyterKernelSpecModuleNotFound().format(e.path),d.DataScience.selectDifferentJupyterInterpreter(),d.Common.cancel())===d.DataScience.selectDifferentJupyterInterpreter()?y.selectAnotherInterpreter:y.cancel}};r([m.reportAction(g.ReportableAction.InstallingMissingDependencies)],_.prototype,"installMissingDependencies",null),_=r([o.injectable(),i(0,o.inject(s.IApplicationShell)),i(1,o.inject(u.IInstaller)),i(2,o.inject(v.IJupyterCommandFactory))],_),t.JupyterInterpreterDependencyService=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MigrateJupyterInterpreterStateService=t.JupyterInterpreterStateStore=void 0;const o=n(0),s=n(26),a=n(3),c=n(9),l="INTERPRETER_PATH_SELECTED_FOR_JUPYTER_SERVER",u="INTERPRETER_PATH_WAS_SELECTED_FOR_JUPYTER_SERVER";let d=class{constructor(e){this.memento=e}get interpreterSetAtleastOnce(){return!!this.selectedPythonPath||this.memento.get(u,!1)}get selectedPythonPath(){return this._interpreterPath||this.memento.get(l,void 0)}updateSelectedPythonPath(e){this._interpreterPath=e,this.memento.update(l,e).then(c.noop,c.noop),this.memento.update(u,!0).then(c.noop,c.noop)}};d=r([o.injectable(),i(0,o.inject(a.IMemento)),i(0,o.named(a.GLOBAL_MEMENTO))],d),t.JupyterInterpreterStateStore=d;let h=class{constructor(e,t,n,r){this.api=e,this.memento=t,this.checker=n,this.disposables=r}async activate(){this.activateBackground().catch(c.noop),this.api.onDidActivatePythonExtension(this.activateBackground,this,this.disposables)}async activateBackground(){!this.memento.get(l)&&this.checker.isPythonExtensionActive&&await this.migrateSettings()}async migrateSettings(){if(this.settingsMigrated)return;this.settingsMigrated=!0;const e=(await this.api.getApi()).getInterpreterPathSelectedForJupyterServer();await this.memento.update(l,e),await this.memento.update(u,!0)}};h=r([o.injectable(),i(0,o.inject(s.IPythonApiProvider)),i(1,o.inject(a.IMemento)),i(1,o.named(a.GLOBAL_MEMENTO)),i(2,o.inject(s.IPythonExtensionChecker)),i(3,o.inject(a.IDisposableRegistry))],h),t.MigrateJupyterInterpreterStateService=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDebuggingManager=void 0,t.IDebuggingManager=Symbol("IDebuggingManager")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CellHashProviderFactory=void 0;const o=n(0),s=n(7),a=n(16),c=n(3),l=n(40),u=n(56),d=n(13),h=n(1182);let p=class{constructor(e,t,n,r,i,o){this.documentManager=e,this.configService=t,this.debugService=n,this.fs=r,this.svcContainer=i,this.listeners=o,this.cellHashProvidersIndexedByKernels=new WeakMap}get kernelProvider(){return this._kernelProvider||(this._kernelProvider=this.svcContainer.get(u.IKernelProvider)),this._kernelProvider}get cellHashProviders(){const e=new Set;return this.kernelProvider.kernels.forEach(t=>{const n=this.get(t);n&&e.add(n)}),Array.from(e)}getOrCreate(e){const t=this.get(e);if(t)return t;const n=new h.CellHashProvider(this.documentManager,this.configService,this.debugService,this.fs,this.listeners);return this.cellHashProvidersIndexedByKernels.set(e,n),n}get(e){return this.cellHashProvidersIndexedByKernels.get(e)}};p=r([o.injectable(),i(0,o.inject(s.IDocumentManager)),i(1,o.inject(c.IConfigurationService)),i(2,o.inject(s.IDebugService)),i(3,o.inject(a.IFileSystem)),i(4,o.inject(l.IServiceContainer)),i(5,o.multiInject(d.ICellHashListener)),i(5,o.optional())],p),t.CellHashProviderFactory=p},function(e,t,n){"use strict";const r=n(1183),i=e=>"string"==typeof e?e.replace(r(),""):e;e.exports=i,e.exports.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSelfCertsError=void 0;const r=n(29);n(15);class i extends r.BaseError{constructor(e){super("jupyterselfcert",e)}}t.JupyterSelfCertsError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){let t=new DataView(e),n=t.getUint32(0),r=[];if(n<2)throw new Error("Invalid incoming Kernel Message");for(let e=1;e<=n;e++)r.push(t.getUint32(4*e));let i=new Uint8Array(e.slice(r[0],r[1])),o=JSON.parse(new TextDecoder("utf8").decode(i));o.buffers=[];for(let t=1;t<n;t++){let n=r[t],i=r[t+1]||e.byteLength;o.buffers.push(new DataView(e.slice(n,i)))}return o}(e),t},t.serialize=function(e){let t;return t=e.buffers&&e.buffers.length?function(e){let t=[],n=[],r=new TextEncoder,i=[];void 0!==e.buffers&&(i=e.buffers,delete e.buffers);let o=r.encode(JSON.stringify(e));n.push(o.buffer);for(let e=0;e<i.length;e++){let t=i[e];n.push(t instanceof ArrayBuffer?t:t.buffer)}let s=n.length;t.push(4*(s+1));for(let e=0;e+1<n.length;e++)t.push(t[t.length-1]+n[e].byteLength);let a=new Uint8Array(t[t.length-1]+n[n.length-1].byteLength),c=new DataView(a.buffer);c.setUint32(0,s);for(let e=0;e<t.length;e++)c.setUint32(4*(e+1),t[e]);for(let e=0;e<n.length;e++)a.set(new Uint8Array(n[e]),t[e]);return a.buffer}(e):JSON.stringify(e),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseJupyterSession=t.JupyterSessionStartError=void 0;const r=n(1227),i=n(1),o=n(131),s=n(29),a=n(4),c=n(19),l=n(10),u=n(9),d=n(8),h=n(54),p=n(5),f=n(511),m=n(512),g=n(22),v=n(513),y=n(514),b=n(55);class _ extends s.WrappedError{constructor(e){super(e.message,e),d.sendTelemetryEvent(p.Telemetry.StartSessionFailedJupyter,void 0,void 0,e,!0)}}t.JupyterSessionStartError=_;t.BaseJupyterSession=class{constructor(e,t,n){this.resource=e,this.restartSessionUsed=t,this.workingDirectory=n,this.onStatusChangedEvent=new i.EventEmitter,this.connected=!1,this._kernelSocket=new r.ReplaySubject,this.ioPubEventEmitter=new i.EventEmitter,this.statusHandler=this.onStatusChanged.bind(this),this.ioPubHandler=(e,t)=>this.ioPubEventEmitter.fire(t)}get session(){return this._session}get kernelSocket(){return this._kernelSocket}get jupyterLab(){return this._jupyterLab||(this._jupyterLab=n(89)),this._jupyterLab}get onSessionStatusChanged(){return this.onStatusChangedEvent||(this.onStatusChangedEvent=new i.EventEmitter),this.onStatusChangedEvent.event}get onIOPubMessage(){return this.ioPubEventEmitter||(this.ioPubEventEmitter=new i.EventEmitter),this.ioPubEventEmitter.event}get status(){return this.getServerStatus()}get isConnected(){return this.connected}get sessionId(){return this._session?this._session.id:""}dispose(){return this.shutdown()}async shutdown(){if(this.session){try{if(a.traceInfo("Shutdown session - current session"),await this.shutdownSession(this.session,this.statusHandler,!1),a.traceInfo("Shutdown session - get restart session"),this.restartSessionPromise){const e=await this.restartSessionPromise;a.traceInfo("Shutdown session - shutdown restart session"),await this.shutdownSession(e,void 0,!0)}}catch(e){u.noop()}this.setSession(void 0),this.restartSessionPromise=void 0}this.onStatusChangedEvent&&this.onStatusChangedEvent.dispose(),a.traceInfo("Shutdown session -- complete")}async interrupt(e){this.session&&this.session.kernel&&(a.traceInfo("Interrupting kernel: "+this.session.kernel.name),this.session.statusChanged.connect(this.statusHandler),await this.waitForKernelPromise(this.session.kernel.interrupt(),e,l.DataScience.interruptingKernelFailed()))}async requestKernelInfo(){if(!this.session)throw new Error("Cannot request KernelInfo, Session not initialized.");if(this.session.kernel.info){const e={content:this.session.kernel.info,channel:"shell",metadata:{},parent_header:{},header:{}};return Promise.resolve(e)}return this.session.kernel.requestKernelInfo()}async changeKernel(e,t,n){var r,i;let o;this.resource=e;const s=this.kernelConnectionMetadata&&g.kernelConnectionMetadataHasKernelSpec(this.kernelConnectionMetadata)?this.kernelConnectionMetadata.kernelSpec:void 0,c=g.kernelConnectionMetadataHasKernelSpec(t)?t.kernelSpec:void 0;this.session&&s&&c&&this.kernelConnectionMetadata&&this.kernelConnectionMetadata.id===t.id?a.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"Kernels are the same, no switching necessary."):(b.trackKernelResourceInformation(e,{kernelConnection:t}),o=await this.createNewKernelSession(e,t,n),this.session&&(this.shutdownSession(this.session,this.statusHandler,!1).ignoreErrors(),null===(r=this.restartSessionPromise)||void 0===r||r.then(e=>this.shutdownSession(e,void 0,!0)).ignoreErrors()),a.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"Switched notebook kernel to "+(null==c?void 0:c.display_name)),this.kernelConnectionMetadata=t,this.setSession(o),null===(i=this.session)||void 0===i||i.statusChanged.connect(this.statusHandler))}async restart(e){var t,n;if(null===(t=this.session)||void 0===t?void 0:t.isRemoteSession)await this.session.kernel.restart();else{if(this.restartSessionPromise||this.startRestartSession(e),!this.restartSessionPromise)throw new Error(l.DataScience.sessionDisposed());{a.traceInfo("Restarting "+(null===(n=this.session)||void 0===n?void 0:n.kernel.id));const e=this.session,t=this.statusHandler;if(this.setSession(await this.restartSessionPromise),!this.session)throw new Error(l.DataScience.sessionDisposed());this.restartSessionUsed(this.session.kernel),a.traceInfo("Got new session "+this.session.kernel.id),this.session.statusChanged.connect(this.statusHandler),this.restartSessionPromise=void 0,a.traceInfo("Started new restart session"),t&&e&&e.statusChanged.disconnect(t),this.shutdownSession(e,void 0,!1).ignoreErrors()}}}requestExecute(e,t,n){return this.session&&this.session.kernel?this.session.kernel.requestExecute(e,t,n):void 0}requestDebug(e,t){return this.session&&this.session.kernel?this.session.kernel.requestDebug(e,t):void 0}requestInspect(e){return this.session&&this.session.kernel?this.session.kernel.requestInspect(e):Promise.resolve(void 0)}requestComplete(e){return this.session&&this.session.kernel?this.session.kernel.requestComplete(e):Promise.resolve(void 0)}sendInputReply(e){this.session&&this.session.kernel&&this.session.kernel.sendInputReply({value:e,status:"ok"})}registerCommTarget(e,t){if(!this.session||!this.session.kernel)throw new Error(l.DataScience.sessionDisposed());this.session.kernel.registerCommTarget(e,t)}sendCommMessage(e,t,n,r){if(this.session&&this.session.kernel&&this.jupyterLab){const i=this.jupyterLab.KernelMessage.createMessage({msgType:"comm_msg",channel:"shell",buffers:e,content:t,metadata:n,msgId:r,session:this.session.kernel.clientId,username:this.session.kernel.username});return this.session.kernel.sendShellMessage(i,!1,!0)}throw new Error(l.DataScience.sessionDisposed())}requestCommInfo(e){var t;if(null===(t=this.session)||void 0===t?void 0:t.kernel)return this.session.kernel.requestCommInfo(e);throw new Error(l.DataScience.sessionDisposed())}registerMessageHook(e,t){var n;if(null===(n=this.session)||void 0===n?void 0:n.kernel)return this.session.kernel.registerMessageHook(e,t);throw new Error(l.DataScience.sessionDisposed())}removeMessageHook(e,t){var n;if(null===(n=this.session)||void 0===n?void 0:n.kernel)return this.session.kernel.removeMessageHook(e,t);throw new Error(l.DataScience.sessionDisposed())}async waitForIdleOnSession(e,t,n){if(e&&e.kernel){a.traceInfo(`Waiting for idle on (kernel): ${e.kernel.id} -> ${e.kernel.status}`);const r=(t,r,i)=>{if("idle"===i)t();else if("dead"===i){a.traceError("Kernel died while waiting for idle"),this.shutdownSession(e,this.statusHandler,n).ignoreErrors();const t={...e.kernel,lastActivityTime:new Date,numberOfConnections:0,session:e.model};r(new f.JupyterInvalidKernelError({kernelModel:t,kind:"connectToLiveKernel",id:t.id}))}};let i;const o=new Promise((t,n)=>{i=(e,i)=>r(t,n,i),e.statusChanged.connect(i)});let s;const d=new Promise((t,n)=>{s=(e,i)=>{var o;return r(t,n,null===(o=i.newValue)||void 0===o?void 0:o.status)},e.kernelChanged.connect(s)}),h=new Promise(async n=>{const r=Date.now();for(;e&&e.kernel&&"idle"!==e.kernel.status&&Date.now()-r<t;)await c.sleep(100);n()});if(await Promise.race([o,d,h]),a.traceInfo(`Finished waiting for idle on (kernel): ${e.kernel.id} -> ${e.kernel.status}`),i&&e&&e.statusChanged&&e.statusChanged.disconnect(i),s&&e&&e.kernelChanged&&e.kernelChanged.disconnect(s),e.kernel&&"idle"===e.kernel.status)return void e.kernel.registerCommTarget(p.Identifiers.DefaultCommTarget,u.noop);throw this.shutdownSession(e,this.statusHandler,n).ignoreErrors(),new m.JupyterWaitForIdleError(l.DataScience.jupyterLaunchTimedOut())}}setSession(e){const t=this._session;this.ioPubHandler&&t&&t.iopubMessage.disconnect(this.ioPubHandler),this._session=e,e&&e.iopubMessage.connect(this.ioPubHandler),e&&t!==e&&(e.kernelSocketInformation?this._kernelSocket.next({options:{clientId:e.kernel.clientId,id:e.kernel.id,model:{...e.kernel.model},userName:e.kernel.username},socket:e.kernelSocketInformation.socket}):(a.traceError("Unable to find WebSocket connection associated with kernel "+e.kernel.id),this._kernelSocket.next(void 0)))}async shutdownSession(e,t,n){var r,i,o;if(e&&e.kernel){const s=`${e.kernel.id}, ${null===(r=e.kernelConnectionMetadata)||void 0===r?void 0:r.id}`;a.traceInfo(`shutdownSession ${s} - start`);try{if(t&&e.statusChanged.disconnect(t),!this.canShutdownSession(e,n))return a.traceInfo("Session cannot be shutdown "+(null===(i=e.kernelConnectionMetadata)||void 0===i?void 0:i.id)),void e.dispose();try{a.traceInfo("Session can be shutdown "+(null===(o=e.kernelConnectionMetadata)||void 0===o?void 0:o.id)),y.suppressShutdownErrors(e.kernel),e.isDisposed||await c.waitForPromise(e.shutdown(),1e3)}catch(e){u.noop()}e&&!e.isDisposed&&e.dispose()}catch(e){a.traceWarning(e)}a.traceInfo(`shutdownSession ${s} - shutdown complete`)}}canShutdownSession(e,t){var n;return"connectToLiveKernel"!==(null===(n=e.kernelConnectionMetadata)||void 0===n?void 0:n.kind)&&(!!t||(!(!e.resource||"interactive"!==h.getResourceType(e.resource))||(!e.resource||"notebook"!==h.getResourceType(e.resource)||!0!==e.isRemoteSession)))}getServerStatus(){if(this.session)switch(this.session.kernel.status){case"busy":return o.ServerStatus.Busy;case"dead":return o.ServerStatus.Dead;case"idle":case"connected":return o.ServerStatus.Idle;case"restarting":case"autorestarting":case"reconnecting":return o.ServerStatus.Restarting;case"starting":return o.ServerStatus.Starting;default:return o.ServerStatus.NotStarted}return o.ServerStatus.NotStarted}async waitForKernelPromise(e,t,n){try{await c.waitForPromise(e,t)}catch(e){if(!e)throw new v.JupyterKernelPromiseFailedError(n);throw e}}onStatusChanged(e){this.onStatusChangedEvent&&this.onStatusChangedEvent.fire(this.getServerStatus())}}},function(e,t,n){"use strict";var r=n(1270),i=n(189),o=n(150),s=n(519),a=n(1272);function c(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return c.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof s)return f(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,a,u=l.call(this,t,n);return u&&(i=u.schema,t=u.root,a=u.baseId),i instanceof s?o=i.validate||e.call(this,i.schema,t,void 0,a):void 0!==i&&(o=f(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,a)),o}function l(e,t){var n=r.parse(t),i=g(n),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var a=y(i),c=this._refs[a];if("string"==typeof c)return u.call(this,e,c,n);if(c instanceof s)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[a])instanceof s))return;if(c.validate||this._compile(c),a==y(t))return{schema:c,root:e,baseId:o};e=c}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,n,o,e.schema,e)}function u(e,t,n){var r=l.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var s=this._getId(i);return s&&(o=b(o,s)),h.call(this,n,o,i,e)}}e.exports=c,c.normalizeId=y,c.fullPath=m,c.url=b,c.ids=function(e){var t=y(this._getId(e)),n={"":t},s={"":m(t,!1)},c={},l=this;return a(e,{allKeys:!0},(function(e,t,a,u,d,h,p){if(""!==t){var f=l._getId(e),m=n[u],g=s[u]+"/"+d;if(void 0!==p&&(g+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof f){f=m=y(m?r.resolve(m,f):f);var v=l._refs[f];if("string"==typeof v&&(v=l._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=y(g))if("#"==f[0]){if(c[f]&&!i(e,c[f]))throw new Error('id "'+f+'" resolves to more than one schema');c[f]=e}else l._refs[f]=g}n[t]=m,s[t]=g}})),c},c.inlineRef=f,c.schema=l;var d=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),s=1;s<i.length;s++){var a=i[s];if(a){if(void 0===(n=n[a=o.unescapeFragment(a)]))break;var c;if(!d[a]&&((c=this._getId(n))&&(t=b(t,c)),n.$ref)){var u=b(t,n.$ref),h=l.call(this,r,u);h&&(n=h.schema,r=h.root,t=h.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var p=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(p[o])r++;else if("object"==typeof(n=t[o])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),g(r.parse(e))}function g(e){return r.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function y(e){return e?e.replace(v,""):""}function b(e,t){return t=y(t),r.resolve(e,t)}},function(e,t,n){"use strict";var r=n(328);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),s=n(57),a=function(){function e(e){this._fn=e}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},e}();t.DisposableDelegate=a;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new s.Signal(t),t}return i(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),s.Signal.clearData(this))},t}(a);t.ObservableDisposableDelegate=c;var l=function(){function e(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(e){e.dispose()})),this._items.clear())},e.prototype.contains=function(e){return this._items.has(e)},e.prototype.add=function(e){this._items.add(e)},e.prototype.remove=function(e){this._items.delete(e)},e.prototype.clear=function(){this._items.clear()},e}();t.DisposableSet=l,function(e){e.from=function(t){var n=new e;return o.each(t,(function(e){n.add(e)})),n}}(l=t.DisposableSet||(t.DisposableSet={})),t.DisposableSet=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new s.Signal(t),t}return i(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),s.Signal.clearData(this))},t}(l);t.ObservableDisposableSet=u,function(e){e.from=function(t){var n=new e;return o.each(t,(function(e){n.add(e)})),n}}(u=t.ObservableDisposableSet||(t.ObservableDisposableSet={})),t.ObservableDisposableSet=u},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(656)),r(n(1315)),r(n(198))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["username","version","session","msg_id","msg_type"],i={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:"string"},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function o(e,t,n){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);if(void 0!==n){let r=!0,i=e[t];switch(n){case"array":r=Array.isArray(i);break;case"object":r=void 0!==i;break;default:r=typeof i===n}if(!r)throw new Error(`Property '${t}' is not of type '${n}`)}}function s(e){let t=e.spec;if(!t)throw new Error("Invalid kernel spec");o(e,"name","string"),o(e,"resources","object"),o(t,"language","string"),o(t,"display_name","string"),o(t,"argv","array");let n=null;t.hasOwnProperty("metadata")&&(o(t,"metadata","object"),n=t.metadata);let r=null;return t.hasOwnProperty("env")&&(o(t,"env","object"),r=t.env),{name:e.name,resources:e.resources,language:t.language,display_name:t.display_name,argv:t.argv,metadata:n,env:r}}t.validateMessage=function(e){o(e,"metadata","object"),o(e,"content","object"),o(e,"channel","string"),function(e){for(let t=0;t<r.length;t++)o(e,r[t],"string")}(e.header),"iopub"===e.channel&&function(e){if("iopub"===e.channel){let t=i[e.header.msg_type];if(void 0===t)return;let n=Object.keys(t),r=e.content;for(let e=0;e<n.length;e++)o(r,n[e],t[n[e]])}}(e)},t.validateModel=function(e){o(e,"name","string"),o(e,"id","string")},t.validateSpecModel=s,t.validateSpecModels=function(e){if(!e.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let t=Object.keys(e.kernelspecs),n=Object.create(null),r=e.default;for(let r=0;r<t.length;r++){let i=e.kernelspecs[t[r]];try{n[t[r]]=s(i)}catch(e){console.warn("Removing errant kernel spec: "+t[r])}}if(t=Object.keys(n),!t.length)throw new Error("No valid kernelspecs found");return r&&"string"==typeof r&&r in n||(r=t[0],console.warn(`Default kernel not found, using '${t[0]}'`)),{default:r,kernelspecs:n}}},function(e){e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1346);!function(e){e.isAvailable=function(){return r.DefaultTerminalSession.isAvailable()},e.startNew=function(e){return r.DefaultTerminalSession.startNew(e)},e.connectTo=function(e,t){return r.DefaultTerminalSession.connectTo(e,t)},e.listRunning=function(e){return r.DefaultTerminalSession.listRunning(e)},e.shutdown=function(e,t){return r.DefaultTerminalSession.shutdown(e,t)},e.shutdownAll=function(e){return r.DefaultTerminalSession.shutdownAll(e)}}(t.TerminalSession||(t.TerminalSession={}))},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(152);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);for(var i=0,o=0;o<e.length;o++){const t=e[o];t.copy(n,i),i+=t.length}return n}function o(e,t,n,r,i){for(var o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function s(e,t){const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){return c.readOnly=!0,Buffer.isBuffer(e)?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=function(e){const t=Buffer.from(e.buffer);if(e.byteLength!==e.buffer.byteLength)return t.slice(e.byteOffset,e.byteOffset+e.byteLength);return t}(e):(t=Buffer.from(e),c.readOnly=!1),t);var t}try{const t=n(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,n,i,s){s<48?o(e,t,n,i,s):r.mask(e,t,n,i,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCellLanguageService=t.LastSavedNotebookCellLanguage=void 0;const o=n(0),s=n(1),a=n(26),c=n(7),l=n(14),u=n(4),d=n(3),h=n(85),p=n(54),f=n(5),m=n(22),g=n(24);t.LastSavedNotebookCellLanguage="DATASCIENCE.LAST_SAVED_CELL_LANGUAGE";let v=class{constructor(e,t,n,r){this.vscNotebook=e,this.disposables=t,this.globalMemento=n,this.pythonExtensionChecker=r}getPreferredLanguage(e){var t,n;const r=(null===(t=null==e?void 0:e.language_info)||void 0===t?void 0:t.name)||(null===(n=null==e?void 0:e.kernelspec)||void 0===n?void 0:n.language)||this.lastSavedNotebookCellLanguage,i=this.pythonExtensionChecker.isPythonExtensionInstalled?l.PYTHON_LANGUAGE:"plaintext";return p.translateKernelLanguageToMonaco(r||i)}async activate(){this.vscNotebook.onDidSaveNotebookDocument(this.onDidSaveNotebookDocument,this,this.disposables)}getSupportedLanguages(e){if(m.isPythonKernelConnection(e))return f.LanguagesSupportedByPythonkernel;{const t=p.translateKernelLanguageToMonaco(m.getKernelConnectionLanguage(e)||"");return t&&f.VSCodeKnownNotebookLanguages.includes(t)?[t]:[]}}get lastSavedNotebookCellLanguage(){return this.globalMemento.get(t.LastSavedNotebookCellLanguage)}async onDidSaveNotebookDocument(e){if(!g.isJupyterNotebook(e))return;const n=this.getLanguageOfFirstCodeCell(e);n&&n!==this.lastSavedNotebookCellLanguage&&await this.globalMemento.update(t.LastSavedNotebookCellLanguage,n)}getLanguageOfFirstCodeCell(e){var t;try{return m.getLanguageInNotebookMetadata(g.getNotebookMetadata(e))||(null===(t=e.getCells().find(e=>e.kind===s.NotebookCellKind.Code))||void 0===t?void 0:t.document.languageId)}catch(e){u.traceWarning("Failed to determine language of first cell",e)}}};r([h.swallowExceptions("Saving last saved cell language")],v.prototype,"onDidSaveNotebookDocument",null),v=r([o.injectable(),i(0,o.inject(c.IVSCodeNotebook)),i(1,o.inject(d.IDisposableRegistry)),i(2,o.inject(d.IMemento)),i(2,o.named(d.GLOBAL_MEMENTO)),i(3,o.inject(a.IPythonExtensionChecker))],v),t.NotebookCellLanguageService=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferredRemoteKernelIdProvider=t.MaximumKernelIdListSize=t.ActiveKernelIdList=void 0;const o=n(0),s=n(224),a=n(4),c=n(3),l=n(8),u=n(5);t.ActiveKernelIdList="Active_Kernel_Id_List",t.MaximumKernelIdListSize=100;let d=class{constructor(e,t){this.globalMemento=e,this.crypto=t}getPreferredRemoteKernelId(e){const n=this.globalMemento.get(t.ActiveKernelIdList,[]);if(n){const t=this.crypto.createHash(e.toString(),"string"),r=n.find(e=>e.fileHash===t);return a.traceInfo(`Preferred kernel for ${e.toString()} is ${null==r?void 0:r.kernelId}`),null==r?void 0:r.kernelId}}async storePreferredRemoteKernelId(e,n){const r=s.cloneDeep(this.globalMemento.get(t.ActiveKernelIdList,[])),i=this.crypto.createHash(e.toString(),"string"),o=r.findIndex(e=>e.fileHash===i);for(o>=0&&r.splice(o,1),n&&r.push({fileHash:i,kernelId:n}),l.sendTelemetryEvent(u.Telemetry.NumberOfSavedRemoteKernelIds,void 0,{count:r.length});r.length>t.MaximumKernelIdListSize;)r.shift();a.traceInfo(`Preferred kernel for ${e.toString()} is ${n}`),await this.globalMemento.update(t.ActiveKernelIdList,r)}};d=r([o.injectable(),i(0,o.inject(c.IMemento)),i(0,o.named(c.GLOBAL_MEMENTO)),i(1,o.inject(c.ICryptoUtils))],d),t.PreferredRemoteKernelIdProvider=d},function(e,t,n){"use strict";const r=n(1381),i=n(179),o=n(1382);e.exports=()=>e=>{if(!Buffer.isBuffer(e)&&!i(e))return Promise.reject(new TypeError("Expected a Buffer or Stream, got "+typeof e));if(Buffer.isBuffer(e)&&(!r(e)||"tar"!==r(e).ext))return Promise.resolve([]);const t=o.extract(),n=[];t.on("entry",(e,t,r)=>{const i=[];t.on("data",e=>i.push(e)),t.on("end",()=>{const t={data:Buffer.concat(i),mode:e.mode,mtime:e.mtime,path:e.name,type:e.type};"symlink"!==e.type&&"link"!==e.type||(t.linkname=e.linkname),n.push(t),r()})});const s=new Promise((r,i)=>{Buffer.isBuffer(e)||e.on("error",i),t.on("finish",()=>r(n)),t.on("error",i)});return t.then=s.then.bind(s),t.catch=s.catch.bind(s),Buffer.isBuffer(e)?t.end(e):e.pipe(t),t}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,c=s(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(r){a=r(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(c[a[d]]=n[a[d]])}}return c}},function(e,t,n){"use strict";const r=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];e.exports=(e,t)=>{const n=new Set(Object.keys(e).concat(r));for(const r of n)r in t||(t[r]="function"==typeof e[r]?e[r].bind(e):e[r])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IVariableViewProvider=t.INotebookWatcher=t.IVariableViewPanelMapping=void 0;const r=n(73),i=n(187);t.IVariableViewPanelMapping=class{},r.InteractiveWindowMessages.ForceVariableRefresh,r.InteractiveWindowMessages.SettingsUpdated,r.InteractiveWindowMessages.Activate,r.InteractiveWindowMessages.ShowDataViewer,r.InteractiveWindowMessages.GetVariablesRequest,r.InteractiveWindowMessages.GetVariablesResponse,r.InteractiveWindowMessages.VariableExplorerToggle,r.InteractiveWindowMessages.SetVariableExplorerHeight,r.InteractiveWindowMessages.VariableExplorerHeightResponse,i.CssMessages.GetCssRequest,i.CssMessages.GetCssResponse,r.InteractiveWindowMessages.OpenLink,r.InteractiveWindowMessages.VariablesComplete,i.SharedMessages.UpdateSettings,i.SharedMessages.LocInit,r.InteractiveWindowMessages.FinishCell,r.InteractiveWindowMessages.UpdateVariableViewExecutionCount,r.InteractiveWindowMessages.GetHTMLByIdRequest,r.InteractiveWindowMessages.GetHTMLByIdResponse,r.InteractiveWindowMessages.RestartKernel,t.INotebookWatcher=Symbol("INotebookWatcher"),t.IVariableViewProvider=Symbol("IVariableViewProvider")},function(e,t,n){e.exports=b;var r=n(25),i=n(726),o=n(343),s=(o.Minimatch,n(27)),a=n(35).EventEmitter,c=n(6),l=n(109),u=n(344),d=n(1572),h=n(727),p=(h.alphasort,h.alphasorti,h.setopts),f=h.ownProp,m=n(1573),g=(n(18),h.childrenIgnored),v=h.isIgnored,y=n(246);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return d(e,t)}return new w(e,t,n)}b.sync=d;var _=b.GlobSync=d.GlobSync;function w(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new _(e,t)}if(!(this instanceof w))return new w(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=y(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return s();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new w(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},b.Glob=w,s(w,a),w.prototype._finish=function(){if(l(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},w.prototype._mark=function(e){return h.mark(this,e)},w.prototype._makeAbs=function(e){return h.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(e,t,n,r){if(l(this instanceof w),l("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":u(i)||u(e.join("/"))?(i&&u(i)||(i="/"+i),a=i):a=i;var d=this._makeAbs(a);if(g(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,d,c,t,n,r):this._processReaddir(i,a,d,c,t,n,r)}},w.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){return a._processReaddir2(e,t,n,r,i,o,l,s)}))},w.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var l=r[0],u=!!this.minimatch.negate,d=l._glob,h=this.dot||"."===d.charAt(0),p=[],f=0;f<s.length;f++){if("."!==(g=s[f]).charAt(0)||h)(u&&!e?!g.match(l):g.match(l))&&p.push(g)}var m=p.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(f=0;f<m;f++){var g=p[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(i,g)}return a()}r.shift();for(f=0;f<m;f++){g=p[f];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,a)}a()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!v(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=m("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));i&&r.lstat(e,i)}},w.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},w.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},w.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},w.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){a._processGlobStar2(e,t,n,r,i,o,l,s)}))},w.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var d=this.symlinks[n],h=s.length;if(d&&o)return a();for(var p=0;p<h;p++){if("."!==s[p].charAt(0)||this.dot){var f=l.concat(s[p],c);this._process(f,i,!0,a);var m=l.concat(s[p],r);this._process(m,i,!0,a)}}a()},w.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},w.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},w.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,l=m("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)}));c._stat2(e,n,i,o,t)}));l&&r.lstat(n,l)},w.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},function(e,t,n){e.exports=u,u.Minimatch=d;var r={sep:"/"};try{r=n(6)}catch(e){}var i=u.GLOBSTAR=d.GLOBSTAR={},o=n(1569),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function l(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function u(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new d(t,n).match(e))}function d(e,t){if(!(this instanceof d))return new d(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof d?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}u.filter=function(e,t){return t=t||{},function(n,r,i){return u(n,e,t)}},u.defaults=function(e){if(!e||!Object.keys(e).length)return u;var t=u,n=function(n,r,i){return t.minimatch(n,r,l(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,l(e,r))},n},d.defaults=function(e){return e&&Object.keys(e).length?u.defaults(e).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},u.braceExpand=function(e,t){return h(e,t)},d.prototype.braceExpand=h,d.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",c=!!n.nocase,l=!1,u=[],d=[],h=!1,f=-1,m=-1,g="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function y(){if(r){switch(r){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+r}v.debug("clearStateChar %j %j",r,o),r=!1}}for(var b,_=0,w=e.length;_<w&&(b=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,o,b),l&&a[b])o+="\\"+b,l=!1;else switch(b){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,o,b),h){this.debug("  in class"),"!"===b&&_===m+1&&(b="^"),o+=b;continue}v.debug("call clearStateChar %j",r),y(),r=b,n.noext&&y();continue;case"(":if(h){o+="(";continue}if(!r){o+="\\(";continue}u.push({type:r,start:_-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(h||!u.length){o+="\\)";continue}y(),c=!0;var S=u.pop();o+=S.close,"!"===S.type&&d.push(S),S.reEnd=o.length;continue;case"|":if(h||!u.length||l){o+="\\|",l=!1;continue}y(),o+="|";continue;case"[":if(y(),h){o+="\\"+b;continue}h=!0,m=_,f=o.length,o+=b;continue;case"]":if(_===m+1||!h){o+="\\"+b,l=!1;continue}if(h){var E=e.substring(m+1,_);try{RegExp("["+E+"]")}catch(e){var x=this.parse(E,p);o=o.substr(0,f)+"\\["+x[0]+"\\]",c=c||x[1],h=!1;continue}}c=!0,h=!1,o+=b;continue;default:y(),l?l=!1:!a[b]||"^"===b&&h||(o+="\\"),o+=b}h&&(E=e.substr(m+1),x=this.parse(E,p),o=o.substr(0,f)+"\\["+x[0],c=c||x[1]);for(S=u.pop();S;S=u.pop()){var C=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",C,C,S,o);var k="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;c=!0,o=o.slice(0,S.reStart)+k+"\\("+C}y(),l&&(o+="\\\\");var D=!1;switch(o.charAt(0)){case".":case"[":case"(":D=!0}for(var T=d.length-1;T>-1;T--){var I=d[T],M=o.slice(0,I.reStart),P=o.slice(I.reStart,I.reEnd-8),j=o.slice(I.reEnd-8,I.reEnd),L=o.slice(I.reEnd);j+=L;var O=M.split("(").length-1,A=L;for(_=0;_<O;_++)A=A.replace(/\)[+*?]?/,"");var N="";""===(L=A)&&t!==p&&(N="$"),o=M+P+L+N+j}""!==o&&c&&(o="(?=.)"+o);D&&(o=g+o);if(t===p)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var R=n.nocase?"i":"";try{var F=new RegExp("^"+o+"$",R)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=o,F};var p={};u.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},u.match=function(e,t,n){var r=new d(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],l=e;if(n.matchBase&&1===a.length&&(l=[i]),this.matchOne(l,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,u=t[s],d=e[o];if(this.debug(t,u,d),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,d]);var h=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(l=r.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return u})),n.d(t,"GroupedObservable",(function(){return h.a})),n.d(t,"observable",(function(){return p.a})),n.d(t,"Subject",(function(){return o.b})),n.d(t,"BehaviorSubject",(function(){return m})),n.d(t,"ReplaySubject",(function(){return g.a})),n.d(t,"AsyncSubject",(function(){return v})),n.d(t,"asapScheduler",(function(){return y.a})),n.d(t,"asyncScheduler",(function(){return b.a})),n.d(t,"queueScheduler",(function(){return _.a})),n.d(t,"animationFrameScheduler",(function(){return x})),n.d(t,"VirtualTimeScheduler",(function(){return C})),n.d(t,"VirtualAction",(function(){return k})),n.d(t,"Scheduler",(function(){return D.a})),n.d(t,"Subscription",(function(){return a.a})),n.d(t,"Subscriber",(function(){return s.a})),n.d(t,"Notification",(function(){return T.a})),n.d(t,"NotificationKind",(function(){return T.b})),n.d(t,"pipe",(function(){return I.a})),n.d(t,"noop",(function(){return M.a})),n.d(t,"identity",(function(){return P.a})),n.d(t,"isObservable",(function(){return j})),n.d(t,"ArgumentOutOfRangeError",(function(){return L.a})),n.d(t,"EmptyError",(function(){return O.a})),n.d(t,"ObjectUnsubscribedError",(function(){return f.a})),n.d(t,"UnsubscriptionError",(function(){return A.a})),n.d(t,"TimeoutError",(function(){return N.a})),n.d(t,"bindCallback",(function(){return Y})),n.d(t,"bindNodeCallback",(function(){return V})),n.d(t,"combineLatest",(function(){return $.b})),n.d(t,"concat",(function(){return ie})),n.d(t,"defer",(function(){return oe.a})),n.d(t,"empty",(function(){return se.b})),n.d(t,"forkJoin",(function(){return ce})),n.d(t,"from",(function(){return Z.a})),n.d(t,"fromEvent",(function(){return de})),n.d(t,"fromEventPattern",(function(){return he})),n.d(t,"generate",(function(){return pe})),n.d(t,"iif",(function(){return me})),n.d(t,"interval",(function(){return ve})),n.d(t,"merge",(function(){return _e})),n.d(t,"never",(function(){return Se})),n.d(t,"of",(function(){return z.a})),n.d(t,"onErrorResumeNext",(function(){return Ee})),n.d(t,"pairs",(function(){return xe})),n.d(t,"partition",(function(){return Pe})),n.d(t,"race",(function(){return je})),n.d(t,"range",(function(){return Ae.b})),n.d(t,"throwError",(function(){return Ne.a})),n.d(t,"timer",(function(){return Re})),n.d(t,"using",(function(){return Be})),n.d(t,"zip",(function(){return Ye})),n.d(t,"scheduled",(function(){return Je.a})),n.d(t,"EMPTY",(function(){return se.a})),n.d(t,"NEVER",(function(){return we})),n.d(t,"config",(function(){return $e.a}));var r=n(12),i=n(11),o=n(45),s=n(20),a=n(21);var c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.b(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(s.a),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i.b(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new c(e));var e},t}(r.a),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.b(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.c),h=(s.a,n(216)),p=n(66),f=n(67),m=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.b(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.b),g=n(169),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.b(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.b),y=n(168),b=n(82),_=n(254),w=n(95),S=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.b(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(w.a),E=n(94),x=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.b(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(E.a))(S),C=function(e){function t(t,n){void 0===t&&(t=k),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i.b(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(E.a),k=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return i.b(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(w.a),D=n(135),T=n(136),I=n(156),M=n(121),P=n(101);function j(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var L=n(217),O=n(218),A=n(103),N=n(219),R=n(46),F=n(166),B=n(30),U=n(49);function Y(e,t,n){if(t){if(!Object(U.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Y(e,n).apply(void 0,r).pipe(Object(R.a)((function(e){return Object(B.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var i={args:t,subscriber:r,params:a};return n.schedule(W,0,i)}if(!o){o=new v;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){Object(F.a)(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function W(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new v;try{o.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule(H,0,{value:r,subject:c}))}]))}catch(e){c.error(e)}}this.add(c.subscribe(r))}function H(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function V(e,t,n){if(t){if(!Object(U.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return V(e,n).apply(void 0,r).pipe(Object(R.a)((function(e){return Object(B.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var i=o.context,s=o.subject;if(n)return n.schedule(K,0,{params:o,subscriber:r,context:i});if(!s){s=o.subject=new v;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){Object(F.a)(s)?s.error(e):console.warn(e)}}return s.subscribe(r)}))}}function K(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,s=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new v;try{o.apply(i,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(J,0,{err:r,subject:c}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(q,0,{value:i,subject:c}))}}]))}catch(e){this.add(a.schedule(J,0,{err:e,subject:c}))}}this.add(c.subscribe(r))}function q(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function J(e){var t=e.err;e.subject.error(t)}var $=n(214),z=n(161),G=n(76),Q=n(75),X=n(157),Z=n(77);var ee=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.project,this.concurrent))},e}(),te=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i.b(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new X.a(this,t,n),i=this.destination;i.add(r);var o=Object(G.a)(this,e,void 0,void 0,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Q.a);function ne(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function e(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(e((function(e,r){return Object(Z.a)(t(e,r)).pipe(Object(R.a)((function(t,i){return n(e,t,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(e){return e.lift(new ee(t,r))})}(P.a,e)}function re(){return ne(1)}function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return re()(z.a.apply(void 0,e))}var oe=n(165),se=n(59),ae=n(122);function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(B.a)(n))return le(n,null);if(Object(ae.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return le(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return le(e=1===e.length&&Object(B.a)(e[0])?e[0]:e,null).pipe(Object(R.a)((function(e){return i.apply(void 0,e)})))}return le(e,null)}function le(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var c=Object(Z.a)(e[a]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)a(c);else n.complete()}))}var ue=n(81);function de(e,t,n,i){return Object(ue.a)(n)&&(i=n,n=void 0),i?de(e,t,n).pipe(Object(R.a)((function(e){return Object(B.a)(e)?i.apply(void 0,e):i(e)}))):new r.a((function(r){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,r),s=function(){return c.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,r),s=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,d=t.length;u<d;u++)e(t[u],n,r,i,o)}i.add(s)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function he(e,t,n){return n?he(e,t).pipe(Object(R.a)((function(e){return Object(B.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if(Object(ue.a)(t))return function(){return t(i,r)}}))}function pe(e,t,n,i,o){var s,a;if(1==arguments.length){var c=e;a=c.initialState,t=c.condition,n=c.iterate,s=c.resultSelector||P.a,o=c.scheduler}else void 0===i||Object(U.a)(i)?(a=e,s=P.a,o=i):(a=e,s=i);return new r.a((function(e){var r=a;if(o)return o.schedule(fe,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var c=void 0;try{c=s(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function fe(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function me(e,t,n){return void 0===t&&(t=se.a),void 0===n&&(n=se.a),Object(oe.a)((function(){return e()?t:n}))}var ge=n(105);function ve(e,t){return void 0===e&&(e=0),void 0===t&&(t=b.a),(!Object(ge.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=b.a),new r.a((function(n){return n.add(t.schedule(ye,e,{subscriber:n,counter:0,period:e})),n}))}function ye(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var be=n(93);function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return Object(U.a)(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof r.a?e[0]:ne(n)(Object(be.a)(e,i))}var we=new r.a(M.a);function Se(){return we}function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return se.a;var n=e[0],i=e.slice(1);return 1===e.length&&Object(B.a)(n)?Ee.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(Ee.apply(void 0,i).subscribe(e))};return Object(Z.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function xe(e,t){return t?new r.a((function(n){var r=Object.keys(e),i=new a.a;return i.add(t.schedule(Ce,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function Ce(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var ke=n(253),De=n(104);function Te(e,t){return function(n){return n.lift(new Ie(e,t))}}var Ie=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Me(e,this.predicate,this.thisArg))},e}(),Me=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i.b(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(s.a);function Pe(e,t,n){return[Te(t,n)(new r.a(Object(De.a)(e))),Te(Object(ke.a)(t,n))(new r.a(Object(De.a)(e)))]}function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(B.a)(e[0]))return e[0];e=e[0]}return Object(be.a)(e,void 0).lift(new Le)}var Le=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Oe(e))},e}(),Oe=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.b(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(G.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(Q.a),Ae=n(215),Ne=n(249);function Re(e,t,n){void 0===e&&(e=0);var i=-1;return Object(ge.a)(t)?i=Number(t)<1?1:Number(t):Object(U.a)(t)&&(n=t),Object(U.a)(n)||(n=b.a),new r.a((function(t){var r=Object(ge.a)(e)?e:+e-n.now();return n.schedule(Fe,r,{index:0,period:i,subscriber:t})}))}function Fe(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Be(e,t){return new r.a((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?Object(Z.a)(i):se.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var Ue=n(60);function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(be.a)(e,void 0).lift(new We(n))}var We=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new He(e,this.resultSelector))},e}(),He=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return i.b(t,e),t.prototype._next=function(e){var t=this.iterators;Object(B.a)(e)?t.push(new Ke(e)):"function"==typeof e[Ue.a]?t.push(new Ve(e[Ue.a]())):t.push(new qe(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.a),Ve=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),Ke=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Ue.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),qe=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i.b(t,e),t.prototype[Ue.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(G.a)(this,this.observable,this,t)},t}(Q.a),Je=n(255),$e=n(47)},function(e,t,n){"use strict";function r(e,t){void 0===t&&(t=!1);var n=0,r=e.length,a="",c=0,l=16,u=0,d=0,h=0,p=0,f=0;function m(t,r){for(var i=0,o=0;i<t||!r;){var s=e.charCodeAt(n);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}n++,i++}return i<t&&(o=-1),o}function g(){if(a="",f=0,c=n,d=u,p=h,n>=r)return c=r,l=17;var t=e.charCodeAt(n);if(i(t)){do{n++,a+=String.fromCharCode(t),t=e.charCodeAt(n)}while(i(t));return l=15}if(o(t))return n++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,a+="\n"),u++,h=n,l=14;switch(t){case 123:return n++,l=1;case 125:return n++,l=2;case 91:return n++,l=3;case 93:return n++,l=4;case 58:return n++,l=6;case 44:return n++,l=5;case 34:return n++,a=function(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),f=2;break}var s=e.charCodeAt(n);if(34===s){t+=e.substring(i,n),n++;break}if(92!==s){if(s>=0&&s<=31){if(o(s)){t+=e.substring(i,n),f=2;break}f=6}n++}else{if(t+=e.substring(i,n),++n>=r){f=2;break}switch(s=e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=m(4,!0);a>=0?t+=String.fromCharCode(a):f=4;break;default:f=5}i=n}}return t}(),l=10;case 47:var g=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!o(e.charCodeAt(n));)n++;return a=e.substring(g,n),l=12}if(42===e.charCodeAt(n+1)){n+=2;for(var y=r-1,b=!1;n<y;){var _=e.charCodeAt(n);if(42===_&&47===e.charCodeAt(n+1)){n+=2,b=!0;break}n++,o(_)&&(13===_&&10===e.charCodeAt(n)&&n++,u++,h=n)}return b||(n++,f=1),a=e.substring(g,n),l=13}return a+=String.fromCharCode(t),n++,l=16;case 45:if(a+=String.fromCharCode(t),++n===r||!s(e.charCodeAt(n)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&s(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&s(e.charCodeAt(n))))return f=3,e.substring(t,n);for(n++;n<e.length&&s(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&s(e.charCodeAt(n))){for(n++;n<e.length&&s(e.charCodeAt(n));)n++;r=n}else f=3;return e.substring(t,r)}(),l=11;default:for(;n<r&&v(t);)n++,t=e.charCodeAt(n);if(c!==n){switch(a=e.substring(c,n)){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return a+=String.fromCharCode(t),n++,l=16}}function v(e){if(i(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){n=e,a="",c=0,l=16,f=0},getPosition:function(){return n},scan:t?function(){var e;do{e=g()}while(e>=12&&e<=15);return e}:g,getToken:function(){return l},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return n-c},getTokenStartLine:function(){return d},getTokenStartCharacter:function(){return c-p},getTokenError:function(){return f}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,n){var i,o,s,a,u;if(t){for(a=t.offset,u=a+t.length,s=a;s>0&&!l(e,s-1);)s--;for(var d=u;d<e.length&&!l(e,d);)d++;o=e.substring(s,d),i=function(e,t){var n=0,r=0,i=t.tabSize||4;for(;n<e.length;){var o=e.charAt(n);if(" "===o)r++;else{if("\t"!==o)break;r+=i}n++}return Math.floor(r/i)}(o,n)}else o=e,i=0,s=0,a=0,u=e.length;var h,p=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),f=!1,m=0;h=n.insertSpaces?c(" ",n.tabSize||4):"\t";var g=r(o,!1),v=!1;function y(){return p+c(h,i+m)}function b(){var e=g.scan();for(f=!1;15===e||14===e;)f=f||14===e,e=g.scan();return v=16===e||0!==g.getTokenError(),e}var _=[];function w(t,n,r){!v&&n<u&&r>a&&e.substring(n,r)!==t&&_.push({offset:n,length:r-n,content:t})}var S=b();if(17!==S){var E=g.getTokenOffset()+s;w(c(h,i),s,E)}for(;17!==S;){for(var x=g.getTokenOffset()+g.getTokenLength()+s,C=b(),k="";!f&&(12===C||13===C);){w(" ",x,g.getTokenOffset()+s),x=g.getTokenOffset()+g.getTokenLength()+s,k=12===C?y():"",C=b()}if(2===C)1!==S&&(m--,k=y());else if(4===C)3!==S&&(m--,k=y());else{switch(S){case 3:case 1:m++,k=y();break;case 5:case 12:k=y();break;case 13:k=f?y():" ";break;case 6:k=" ";break;case 10:if(6===C){k="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===C||13===C?k=" ":5!==C&&17!==C&&(v=!0);break;case 16:v=!0}!f||12!==C&&13!==C||(k=y())}w(k,x,g.getTokenOffset()+s),S=C}return _}function c(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function l(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var u;function d(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=u.DEFAULT);var r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function o(e){return r.children.push(e),e}p(e,{onObjectBegin:function(e){r=o({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,n){(r=o({type:"property",offset:t,length:-1,parent:r,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onArrayBegin:function(e,t){r=o({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onLiteralValue:function(e,t,n){o({type:f(e),offset:t,length:n,parent:r,value:e}),i(t+n)},onSeparator:function(e,t,n){"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&i(t))},onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n);var s=r.children[0];return s&&delete s.parent,s}function h(e,t){if(e){for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if("string"==typeof o){if("object"!==n.type||!Array.isArray(n.children))return;for(var s=!1,a=0,c=n.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){n=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if("array"!==n.type||u<0||!Array.isArray(n.children)||u>=n.children.length)return;n=n.children[u]}}return n}}function p(e,t,n){void 0===n&&(n=u.DEFAULT);var i=r(e,!1);function o(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=o(t.onObjectBegin),c=s(t.onObjectProperty),l=o(t.onObjectEnd),d=o(t.onArrayBegin),h=o(t.onArrayEnd),p=s(t.onLiteralValue),f=s(t.onSeparator),m=o(t.onComment),g=s(t.onError),v=n&&n.disallowComments,y=n&&n.allowTrailingComma;function b(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:v||_(11);break;case 2:_(12);break;case 6:_(16)}switch(e){case 12:case 13:v?_(10):m();break;case 16:_(1);break;case 15:case 14:break;default:return e}}}function _(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),g(e),t.length+n.length>0)for(var r=i.getToken();17!==r;){if(-1!==t.indexOf(r)){b();break}if(-1!==n.indexOf(r))break;r=b()}}function w(e){var t=i.getTokenValue();return e?p(t):c(t),b(),!0}function S(){switch(i.getToken()){case 3:return function(){d(),b();for(var e=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||_(4,[],[]),f(","),b(),4===i.getToken()&&y)break}else e&&_(6,[],[]);S()||_(4,[],[4,5]),e=!0}return h(),4!==i.getToken()?_(8,[4],[]):b(),!0}();case 1:return function(){a(),b();for(var e=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(e||_(4,[],[]),f(","),b(),2===i.getToken()&&y)break}else e&&_(6,[],[]);(10!==i.getToken()?(_(3,[],[2,5]),0):(w(!1),6===i.getToken()?(f(":"),b(),S()||_(4,[],[2,5])):_(5,[],[2,5]),1))||_(4,[],[2,5]),e=!0}return l(),2!==i.getToken()?_(7,[2],[]):b(),!0}();case 10:return w(!0);default:return function(){switch(i.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(i.getTokenValue()))&&(_(2),e=0)}catch(e){_(2)}p(e);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return b(),!0}()}}return b(),17===i.getToken()||(S()?(17!==i.getToken()&&_(9,[],[]),!0):(_(4,[],[]),!1))}function f(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function m(e,t,n,r,i){for(var o,s=t.slice(),a=d(e,[]),c=void 0,l=void 0;s.length>0&&(l=s.pop(),void 0===(c=h(a,s))&&void 0!==n);)"string"==typeof l?((o={})[l]=n,n=o):n=[n];if(c){if("object"===c.type&&"string"==typeof l&&Array.isArray(c.children)){var u=h(c,[l]);if(void 0!==u){if(void 0===n){if(!u.parent)throw new Error("Malformed AST");var p=c.children.indexOf(u.parent),f=void 0,m=u.parent.offset+u.parent.length;if(p>0)f=(S=c.children[p-1]).offset+S.length;else if(f=c.offset+1,c.children.length>1)m=c.children[1].offset;return g(e,{offset:f,length:m-f,content:""},r)}return g(e,{offset:u.offset,length:u.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var v=JSON.stringify(l)+": "+JSON.stringify(n),y=i?i(c.children.map((function(e){return e.children[0].value}))):c.children.length,b=void 0;return g(e,b=y>0?{offset:(S=c.children[y-1]).offset+S.length,length:0,content:","+v}:0===c.children.length?{offset:c.offset+1,length:0,content:v}:{offset:c.offset+1,length:0,content:v+","},r)}if("array"===c.type&&"number"==typeof l&&Array.isArray(c.children)){if(-1===l){v=""+JSON.stringify(n),b=void 0;if(0===c.children.length)b={offset:c.offset+1,length:0,content:v};else b={offset:(S=c.children[c.children.length-1]).offset+S.length,length:0,content:","+v};return g(e,b,r)}if(void 0===n&&c.children.length>=0){var _=l,w=c.children[_];b=void 0;if(1===c.children.length)b={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===_){var S,E=(S=c.children[_-1]).offset+S.length;b={offset:E,length:c.offset+c.length-2-E,content:""}}else b={offset:w.offset,length:c.children[_+1].offset-w.offset,content:""};return g(e,b,r)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof l?"index":"property")+" to parent of type "+c.type)}if(void 0===n)throw new Error("Can not delete in empty document");return g(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(n)},r)}function g(e,t,n){var r=v(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!l(r,i-1);)i--;for(;o<r.length&&!l(r,o);)o++}for(var s=a(r,{offset:i,length:o-i},n),c=s.length-1;c>=0;c--){var u=s[c];r=v(r,u),i=Math.min(i,u.offset),o=Math.max(o,u.offset+u.length),o+=u.content.length-u.length}return[{offset:i,length:e.length-(r.length-o)-i,content:r.substring(i,o)}]}function v(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}n.r(t),n.d(t,"createScanner",(function(){return y})),n.d(t,"getLocation",(function(){return b})),n.d(t,"parse",(function(){return _})),n.d(t,"parseTree",(function(){return w})),n.d(t,"findNodeAtLocation",(function(){return S})),n.d(t,"findNodeAtOffset",(function(){return E})),n.d(t,"getNodePath",(function(){return x})),n.d(t,"getNodeValue",(function(){return C})),n.d(t,"visit",(function(){return k})),n.d(t,"stripComments",(function(){return D})),n.d(t,"printParseErrorCode",(function(){return T})),n.d(t,"format",(function(){return I})),n.d(t,"modify",(function(){return M})),n.d(t,"applyEdits",(function(){return P})),function(e){e.DEFAULT={allowTrailingComma:!1}}(u||(u={}));var y=r,b=function(e,t){var n=[],r=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,n,r){o.value=e,o.offset=t,o.length=n,o.type=r,o.colonOffset=void 0,i=o}try{p(e,{onObjectBegin:function(e,o){if(t<=e)throw r;i=void 0,s=t>e,n.push("")},onObjectProperty:function(e,i,o){if(t<i)throw r;if(a(e,i,o,"property"),n[n.length-1]=e,t<=i+o)throw r},onObjectEnd:function(e,o){if(t<=e)throw r;i=void 0,n.pop()},onArrayBegin:function(e,o){if(t<=e)throw r;i=void 0,n.push(0)},onArrayEnd:function(e,o){if(t<=e)throw r;i=void 0,n.pop()},onLiteralValue:function(e,n,i){if(t<n)throw r;if(a(e,n,i,f(e)),t<=n+i)throw r},onSeparator:function(e,o,a){if(t<=o)throw r;if(":"===e&&i&&"property"===i.type)i.colonOffset=o,s=!1,i=void 0;else if(","===e){var c=n[n.length-1];"number"==typeof c?n[n.length-1]=c+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(e){if(e!==r)throw e}return{path:n,previousNode:i,isAtPropertyKey:s,matches:function(e){for(var t=0,r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},_=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=u.DEFAULT);var r=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):r&&(i[r]=e)}return p(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),i[0]},w=d,S=h,E=function e(t,n,r){if(void 0===r&&(r=!1),function(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){var i=t.children;if(Array.isArray(i))for(var o=0;o<i.length&&i[o].offset<=n;o++){var s=e(i[o],n,r);if(s)return s}return t}},x=function e(t){if(!t.parent||!t.parent.children)return[];var n=e(t.parent);if("property"===t.parent.type){var r=t.parent.children[0].value;n.push(r)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&n.push(i)}return n},C=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var n=Object.create(null),r=0,i=t.children;r<i.length;r++){var o=i[r],s=o.children[1];s&&(n[o.children[0].value]=e(s))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}},k=p,D=function(e,t){var n,i,o=r(e),s=[],a=0;do{switch(i=o.getPosition(),n=o.scan()){case 12:case 13:case 17:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(17!==n);return s.join("")};function T(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function I(e,t,n){return a(e,t,n)}function M(e,t,n,r){return m(e,t,n,r.formattingOptions,r.getInsertionIndex)}function P(e,t){for(var n=t.length-1;n>=0;n--)e=v(e,t[n]);return e}},function(e,t,n){"use strict";const r=n(53);e.exports=r(e=>(e.message="\t"+e.message,e))},function(e,t,n){"use strict";const{Colorizer:r}=n(200),{Padder:i}=n(259),{configs:o,MESSAGE:s}=n(23);class a{constructor(e={}){e.levels||(e.levels=o.npm.levels),this.colorizer=new r(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},function(e,t,n){"use strict";const r=n(53);function i(e){if(e.every(o))return t=>{let n=t;for(let t=0;t<e.length;t++)if(n=e[t].transform(n,e[t].options),!n)return!1;return n}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=r(i(e)),n=t();return n.Format=t.Format,n},e.exports.cascade=i},function(e,t,n){"use strict";const r=n(53);e.exports=r((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e))},function(e,t,n){"use strict";const r=n(53),{MESSAGE:i}=n(23),o=n(139);e.exports=r(e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e})},function(e,t,n){"use strict";const r=n(53);e.exports=r((e,t={})=>{let n="metadata";t.key&&(n=t.key);let r=[];return t.fillExcept||t.fillWith||(r.push("level"),r.push("message")),t.fillExcept&&(r=t.fillExcept),r.length>0?function(e,t,n){const r=t.reduce((t,n)=>(t[n]=e[n],delete e[n],t),{}),i=Object.keys(e).reduce((t,n)=>(t[n]=e[n],delete e[n],t),{});return Object.assign(e,r,{[n]:i}),e}(e,r,n):t.fillWith?function(e,t,n){return e[n]=t.reduce((t,n)=>(t[n]=e[n],delete e[n],t),{}),e}(e,t.fillWith,n):e})},function(e,t,n){"use strict";const r=n(18).inspect,i=n(53),{LEVEL:o,MESSAGE:s,SPLAT:a}=n(23);e.exports=i((e,t={})=>{const n=Object.assign({},e);return delete n[o],delete n[s],delete n[a],e[s]=r(n,!1,t.depth||null,t.colorize),e})},function(e,t,n){"use strict";const{MESSAGE:r}=n(23);class i{constructor(e){this.template=e}transform(e){return e[r]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},function(e,t,n){"use strict";const r=n(53),{MESSAGE:i}=n(23),o=n(139);e.exports=r(e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),n=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${n} ${e.message} ${t}`:`${e.level}:${n} ${e.message}`,e})},function(e,t,n){"use strict";const r=n(18),{SPLAT:i}=n(23),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const n=e.message,o=e[i]||e.splat||[],a=n.match(s),c=a&&a.length||0,l=t.length-c-o.length,u=l<0?o.splice(l,-1*l):[],d=u.length;if(d)for(let t=0;t<d;t++)Object.assign(e,u[t]);return e.message=r.format(n,...o),e}transform(e){const t=e.message,n=e[i]||e.splat;if(!n||!n.length)return e;const r=t&&t.match&&t.match(o);if(!r&&(n||n.length)){const t=n.length>1?n.splice(0):n,r=t.length;if(r)for(let n=0;n<r;n++)Object.assign(e,t[n]);return e}return r?this._splat(e,r):e}}e.exports=e=>new a(e)},function(e,t,n){"use strict";const r=n(358),i=n(53);e.exports=i((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():r.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e))},function(e,t,n){var r;!function(i){"use strict";var o={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,l=/\[([^]*?)\]/gm,u=function(){};function d(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}function h(e){return function(t,n,r){var i=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)}}function p(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],g=d(m,3),v=d(f,3);o.i18n={dayNamesShort:v,dayNames:f,monthNamesShort:g,monthNames:m,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var y={D:function(e){return e.getDate()},DD:function(e){return p(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return p(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return p(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return p(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return p(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return p(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return p(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return p(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return p(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return p(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+p(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},b={D:[a,function(e,t){e.day=t}],Do:[new RegExp(a.source+c.source),function(e,t){e.day=parseInt(t,10)}],M:[a,function(e,t){e.month=t-1}],YY:[a,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[a,function(e,t){e.hour=t}],m:[a,function(e,t){e.minute=t}],s:[a,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[a,u],ddd:[c,u],MMM:[c,h("monthNamesShort")],MMMM:[c,h("monthNames")],a:[c,function(e,t,n){var r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var n,r=(t+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),e.timezoneOffset="+"===r[0]?n:-n)}]};b.dd=b.d,b.dddd=b.ddd,b.DD=b.D,b.mm=b.m,b.hh=b.H=b.HH=b.h,b.MM=b.M,b.ss=b.s,b.A=b.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,n){var r=n||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=o.masks[t]||t||o.masks.default;var i=[];return(t=(t=t.replace(l,(function(e,t){return i.push(t),"??"}))).replace(s,(function(t){return t in y?y[t](e,r):t.slice(1,t.length-1)}))).replace(/\?\?/g,(function(){return i.shift()}))},o.parse=function(e,t,n){var r=n||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var i=!0,a={};if(t.replace(s,(function(t){if(b[t]){var n=b[t],o=e.search(n[0]);~o?e.replace(n[0],(function(t){return n[1](a,t,r),e=e.substr(o+t.length),t})):i=!1}return b[t]?"":t.slice(1,t.length-1)})),!i)return!1;var c,l=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):c=new Date(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),c},e.exports?e.exports=o:void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";const r=n(201),i=n(53),{MESSAGE:o}=n(23);e.exports=i((e,t)=>(!1!==t.level&&(e.level=r.strip(e.level)),!1!==t.message&&(e.message=r.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=r.strip(e[o])),e))},function(e,t,n){"use strict";var r=t.format=n(50);t.levels=n(202),Object.defineProperty(r,"align",{value:n(261)}),Object.defineProperty(r,"cli",{value:n(262)}),Object.defineProperty(r,"combine",{value:n(263)}),Object.defineProperty(r,"colorize",{value:n(172)}),Object.defineProperty(r,"json",{value:n(264)}),Object.defineProperty(r,"label",{value:n(265)}),Object.defineProperty(r,"logstash",{value:n(266)}),Object.defineProperty(r,"metadata",{value:n(267)}),Object.defineProperty(r,"padLevels",{value:n(203)}),Object.defineProperty(r,"prettyPrint",{value:n(268)}),Object.defineProperty(r,"printf",{value:n(269)}),Object.defineProperty(r,"simple",{value:n(270)}),Object.defineProperty(r,"splat",{value:n(271)}),Object.defineProperty(r,"timestamp",{value:n(272)}),Object.defineProperty(r,"uncolorize",{value:n(273)})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(50),o=n(23),s=o.LEVEL,a=o.MESSAGE;e.exports=i((function(e,t){var n=t.stack;if(e instanceof Error){var i,o=Object.assign({},e,(r(i={level:e.level},s,e[s]||e.level),r(i,"message",e.message),r(i,a,e[a]||e.message),i));return n&&(o.stack=e.stack),o}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);var c=e.message;return e.message=c.message,e[a]=c.message,n&&(e.stack=c.stack),e}))},function(e,t,n){"use strict";var r=t.format=n(50);function i(e,t){t=t||e,Object.defineProperty(r,e,{get:function(){return n(747)("./".concat(t,".js"))},configurable:!0})}t.levels=n(202),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},function(e,t,n){"use strict";var r=n(50),i=n(204);e.exports=r((function(e){var t=+new Date;return(void 0).diff=t-((void 0).prevTime||t),(void 0).prevTime=t,e.ms="+".concat(i((void 0).diff)),e}))},function(e,t,n){"use strict";const{format:r}=n(18);t.warn={deprecated:e=>()=>{throw new Error(r("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([r("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,n,r){r.forEach(r=>{e[r]=t.warn[n](r)})},moved(e,t,n){function i(){return()=>{throw new Error([r("winston.%s was moved in winston@3.0.0.",n),r("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,n,{get:i,set:i})},forProperties(e,n,r){r.forEach(r=>{const i=t.warn[n](r);Object.defineProperty(e,r,{get:i,set:i})})}}},function(e,t,n){"use strict";var r=n(205);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var a=n(42);a.inherits=n(27);var c={deprecate:n(173)},l=n(366),u=n(34).Buffer,d=global.Uint8Array||function(){};var h,p=n(367);function f(){}function m(e,t){o=o||n(206),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(y,e,n,a,o):y(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(206),!(h.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(v(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=f),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){e.exports=n(17)},function(e,t,n){"use strict";var r=n(205);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(34).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var r=n(175),i=n(106);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){(0,r.default)(t)(e,(0,i.default)(n),o)};var r=o(n(772)),i=o(n(208));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,n){var r=n(775),i=n(375),o=n(177),s=n(376),a=n(778),c=n(779),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t,n){var r=n(776),i=n(140),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var r=n(78),i=n(777),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,n(124)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n,r,i){return e(n,t,r,i)}},e.exports=t.default},function(e,t,n){"use strict";var r;e.exports=E,E.ReadableState=S;n(35).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=n(382),s=n(84).Buffer,a=global.Uint8Array||function(){};var c,l=n(18);c=l&&l.debuglog?l.debuglog("stream"):function(){};var u,d,h=n(783),p=n(383),f=n(384).getHighWaterMark,m=n(141).codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_=n(784).emitExperimentalWarning;n(27)(E,o);var w=["error","close","destroy","pause","resume"];function S(e,t,i){r=r||n(142),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=f(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=n(386).StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function E(e){if(r=r||n(142),!(this instanceof E))return new E(e);var t=this instanceof r;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,n,r,i){c("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,l);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(l,t)),o)e.emit("error",o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)l.endEmitted?e.emit("error",new b):C(e,l,t,!0);else if(l.ended)e.emit("error",new v);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?C(e,l,t,!1):I(e,l)):C(e,l,t,!1)}else r||(l.reading=!1,I(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),I(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},E.prototype.unshift=function(e){return x(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){return u||(u=n(386).StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=this._readableState.decoder.encoding,this};function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function I(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function N(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(R,t,e))}function R(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):D(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){this.emit("error",new y("_read()"))},E.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){c("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",m),n.removeListener("data",d),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function a(){c("onend"),e.end()}r.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",l);var u=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!u&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){c("onerror",t),m(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",f),m()}function f(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?D(this):r.reading||process.nextTick(j,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),n},E.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<w.length;o++)e.on(w[o],this.emit.bind(this,w[o]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return _("Readable[Symbol.asyncIterator]"),void 0===d&&(d=n(785)),d(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=A,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,n){e.exports=n(17)},function(e,t,n){"use strict";function r(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(process.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(141).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=E,E.WritableState=S;var o={deprecate:n(173)},s=n(382),a=n(84).Buffer,c=global.Uint8Array||function(){};var l,u=n(383),d=n(384).getHighWaterMark,h=n(141).codes,p=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING;function w(){}function S(e,t,o){i=i||n(142),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}(e,n,r,t,i);else{var o=D(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),r?process.nextTick(C,e,n,o,i):C(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function E(e){var t=this instanceof(i=i||n(142));if(!t&&!l.call(E,this))return new E(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function x(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function C(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),I(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,x(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(x(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var n=D(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}n(27)(E,s),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===E&&(e&&e._writableState instanceof S)}})):l=function(e){return e instanceof this},E.prototype.pipe=function(){this.emit("error",new g)},E.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,a.isBuffer(r)||r instanceof c);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=w),i.ending?function(e,t){var n=new b;e.emit("error",n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new y:"string"==typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var c=t.objectMode?1:r.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,c,r,i,o);return l}(this,i,s,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new f("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=u.destroy,E.prototype._undestroy=u.undestroy,E.prototype._destroy=function(e,t){t(e)}},function(e,t,n){"use strict";var r=n(34).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=u;var r=n(141).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(142);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(27)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(388),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=s[a].channels,l=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:c}),Object.defineProperty(s[a],"labels",{value:l})}s.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),c=a-s;return a===s?t=0:r===a?t=(i-o)/c:i===a?t=2+(o-r)/c:o===a&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(s+a)/2,[t,100*(a===s?0:n<=.5?c/(a+s):c/(2-a-s)),100*n]},s.rgb.hsv=function(e){var t,n,r,i,o,s=e[0]/255,a=e[1]/255,c=e[2]/255,l=Math.max(s,a,c),u=l-Math.min(s,a,c),d=function(e){return(l-e)/6/u+.5};return 0===u?i=o=0:(o=u/l,t=d(s),n=d(a),r=d(c),s===l?i=r-n:a===l?i=1/3+t-r:c===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},s.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},s.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,s,a=1/0;for(var c in r)if(r.hasOwnProperty(c)){var l=r[c],u=(o=e,s=l,Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));u<a&&(a=u,n=c)}return n},s.keyword.rgb=function(e){return r[e]},s.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(e){var t,n,r,i,o,s=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[o=255*c,o,o];t=2*c-(n=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var l=0;l<3;l++)(r=s+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},s.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,c,s];case 1:return[a,r,s];case 2:return[s,r,c];case 3:return[s,a,r];case 4:return[c,s,r];case 5:return[r,s,a]}},s.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return r=(2-o)*s,n=o*a,[i,100*(n=(n/=(t=(2-o)*a)<=1?t:2-t)||0),100*(r/=2)]},s.hwb.rgb=function(e){var t,n,r,i,o,s,a,c=e[0]/360,l=e[1]/100,u=e[2]/100,d=l+u;switch(d>1&&(l/=d,u/=d),r=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(r=1-r),i=l+r*((n=1-u)-l),t){default:case 6:case 0:o=n,s=i,a=l;break;case 1:o=i,s=n,a=l;break;case 2:o=l,s=n,a=i;break;case 3:o=l,s=i,a=n;break;case 4:o=i,s=l,a=n;break;case 5:o=n,s=l,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},s.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,s=e[2]/100;return n=-.9689*i+1.8758*o+.0415*s,r=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},s.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},s.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),s=Math.pow(t,3),a=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},s.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},s.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},s.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),s=Math.min(Math.min(n,r),i),a=o-s;return t=a<=0?0:o===n?(r-i)/a%6:o===r?2+(i-n)/a:4+(n-r)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},s.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},s.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],s=t%1*6,a=s%1,c=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},s.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},s.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},s.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},s.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";const{LEVEL:r}=n(23),i=n(280),o=n(804),s=n(210)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends o{constructor(e){super(e)}}const n=new t(e);return Object.keys(e.levels).forEach((function(e){s('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||n;if(1===t.length){const[o]=t,s=o&&o.message&&o||{message:o};return s.level=s[r]=e,i._addDefaultMeta(s),i.write(s),this||n}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||n).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),n}},function(e,t,n){"use strict";const r=n(28),i=n(281),o=n(210)("winston:exception"),s=n(392),a=n(282),c=n(393);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["uncaughtException: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:r.loadavg(),uptime:r.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),n=this._getExceptionHandlers();let r,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(r&&clearTimeout(r),process.exit(1))}if(!n.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!n||0===n.length)return process.nextTick(c);i(n,(e,t)=>{const n=s(t),r=e.transport||e;function i(e){return()=>{o(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(r=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}},function(e,t,n){"use strict";e.exports=function(e){var t,n=0;function r(){return n||(n=1,t=e.apply(this,arguments),e=null),t}return r.displayName=e.displayName||e.name||r.displayName||r.name,r}},function(e,t,n){"use strict";const{Writable:r}=n(178);e.exports=class extends r{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,n){return e.exception?this.transport.log(e,n):(n(),!0)}}},function(e,t,n){"use strict";const r=n(28),i=n(281),o=n(210)("winston:rejection"),s=n(392),a=n(282),c=n(393);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(e=>{if(Array.isArray(e))return e.forEach(e=>this._addHandler(e));this._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["unhandledRejection: "+(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:r.loadavg(),uptime:r.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map(e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),n=this._getRejectionHandlers();let r,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(r&&clearTimeout(r),process.exit(1))}if(!n.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!n||0===n.length)return process.nextTick(c);i(n,(e,t)=>{const n=s(t),r=e.transport||e;function i(e){return()=>{o(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},()=>a&&c()),this.logger.log(t),a&&(r=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormatter=void 0;const r=n(171),i=n(14),o=n(125),s={[o.LogLevel.Error]:"Error",[o.LogLevel.Warn]:"Warn",[o.LogLevel.Info]:"Info",[o.LogLevel.Debug]:"Debug",[o.LogLevel.Trace]:"Trace"};function a(e){const t=o.getLevel(e);if(t){const e=s[t];if(e)return e}return`${e.substring(0,1).toUpperCase()}${e.substring(1).toLowerCase()}`}function c(){return r.format.combine(r.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),r.format.printf(({level:e,message:t,timestamp:n})=>function(e,t,n){const r=a(e);return i.isTestExecution()?`${process.pid} ${r} ${t}: ${n}`:`${r} ${t}: ${n}`}(e,n,t)))}function l(e){return r.format.combine(r.format.label({label:e}),r.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),r.format.printf(({level:e,message:t,label:n,timestamp:r})=>function(e,t,n,r){const o=a(e);return i.isTestExecution()?`${process.pid} ${o} ${n} ${t}: ${r}`:`${o} ${n} ${t}: ${r}`}(e,r,n,t)))}t.getFormatter=function(e={}){return e.label?l(e.label):c()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logToAll=t.configureLogger=t.getPreDefinedConfiguration=t.createLogger=void 0;const r=n(18),i=n(171),o=n(395),s=n(125),a=n(397);function c(e,t){if(t.level){const n=s.resolveLevelName(t.level);n&&(e.level=n)}if(t.file){const n=o.getFormatter(),r=a.getFileTransport(t.file.logfile,n);e.add(r)}if(t.console){const n=o.getFormatter({label:t.console.label}),r=a.getConsoleTransport(n);e.add(r)}}function l(e){for(const t of e.transports)if(a.isConsoleTransport(t))return!0;return!1}function u(e,t,n){const r=s.resolveLevelName(e,t);return r||(n?"silly":s.resolveLevelName(s.LogLevel.Info,t)||"info")}t.createLogger=function(e){const t=i.createLogger({exitOnError:!1});return e&&c(t,e),t},t.getPreDefinedConfiguration=function(){const e={};if(process.env.VSC_JUPYTER_FORCE_LOGGING){e.console={};void 0!==process.env.TF_BUILD||"true"===process.env.GITHUB_ACTIONS||(e.console.label="Jupyter Extension:")}return process.env.VSC_JUPYTER_LOG_FILE&&(e.file={logfile:process.env.VSC_JUPYTER_LOG_FILE}),e},t.configureLogger=c,t.logToAll=function(e,t,n){const i=0===n.length?"":r.format(n[0],...n.slice(1));for(const n of e)if(n.transports.length>0){const e=u(t,n.levels,l(n));n.log(e,i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileTransport=t.getJupyterOutputChannelTransport=t.getConsoleTransport=t.isConsoleTransport=void 0;const r=n(6),i=n(171),o=n(123),s=n(125),a=r.dirname(__dirname),c="client"===r.basename(a)?r.join(a,"..",".."):r.join(a,"..","..","..",".."),l=Symbol.for("message");t.isConsoleTransport=function(e){return e.isConsole};class u extends o{constructor(e,t){super(e),this.levels=t,this.isConsole=!0}log(e,t){setImmediate(()=>this.emit("logged",e));const n=s.resolveLevel(e.level,this.levels),r=e[l]||e.message;this.logToConsole(n,r),t&&t()}logToConsole(e,t){let n=u.defaultFunc;e&&(n=u.funcByLevel[e]||n),n(t)}}u.funcByLevel={[s.LogLevel.Error]:console.error,[s.LogLevel.Warn]:console.warn,[s.LogLevel.Info]:console.info,[s.LogLevel.Debug]:console.debug,[s.LogLevel.Trace]:console.trace},u.defaultFunc=console.log,t.getConsoleTransport=function(e){return new u({format:e})};class d extends o{constructor(e,t){super(t),this.channel=e}log(e,t){setImmediate(()=>this.emit("logged",e)),this.channel.appendLine(e[l]||e.message),t&&t()}}t.getJupyterOutputChannelTransport=function(e,t){return new d(e,{format:t})},t.getFileTransport=function(e,t){return r.isAbsolute(e)||(e=r.join(c,e)),new i.transports.File({format:t,filename:e,handleExceptions:!0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=t.clearCache=t.getCacheKeyFromFunctionArgs=t.getGlobalCacheStore=t.DataWithExpiry=void 0,n(15);const r=new Map;class i{constructor(e,t){this._data=t,this.expiryTime=e+Date.now()}get expired(){const e=this.expiryTime<=Date.now();return e&&(this._data=void 0),e}get data(){return this.expired&&(this._data=void 0),this._data}}t.DataWithExpiry=i;const o=new Map;t.getGlobalCacheStore=function(){return o},t.getCacheKeyFromFunctionArgs=function(e,t){return`KeyPrefix=${e}-Args=${t.map(e=>""+JSON.stringify(e)).join("-Arg-Separator-")}`},t.clearCache=function(){o.clear(),r.clear()};t.InMemoryCache=class{constructor(e,t=""){this.expiryDurationMs=e,this.cacheKey=t}get hasData(){const e=o.get(this.cacheKey);return!(!e||e.expired)}get data(){if(!this.hasData)return;const e=o.get(this.cacheKey);return null==e?void 0:e.data}set data(e){const t=new i(this.expiryDurationMs,e);o.set(this.cacheKey,t)}clear(){o.delete(this.cacheKey)}}},function(e,t,n){var r=n(175),i=n(140);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateTelemetryWithErrorInfo=void 0;const r=n(213),i=n(282),o=n(68),s=n(821),a=n(285),c=n(29);function l(e){const t=[];return"string"==typeof e.getTypeName()&&e.getTypeName().length>0&&t.push(e.getTypeName()),"string"==typeof e.getMethodName()&&e.getMethodName().length>0&&t.push(e.getMethodName()),"string"==typeof e.getFunctionName()&&e.getFunctionName().length>0&&(2===t.length&&t.join(".")===e.getFunctionName()||t.push(e.getFunctionName())),t.join(".")}t.populateTelemetryWithErrorInfo=function(e,t){e.failed=!0,e.failureCategory=e.failureCategory||c.getErrorCategory(t),"unknown"===e.failureCategory&&function(e,t){if(e instanceof t)return!0;if(e instanceof c.WrappedError&&e.originalException instanceof t)return!0;return!1}(t,r.FetchError)&&(e.failureCategory="fetcherror"),e.stackTrace=function(e){let t="";for(const n of function(e){if(e.stack&&Array.isArray(e.stack)){const t={...e,stack:e.stack.join("\n")};return i.parse(t)}return i.parse(e)}(e)){const e=n.getFileName();if(e){const r=n.getLineNumber(),i=n.getColumnNumber();t+=`\n\tat ${l(n)} ${e}:${r}:${i}`}else t+="\n\tat <anonymous>"}return t.trim().replace(/\\/g,"/")}(t),"string"==typeof t&&(e.failureSubCategory="errorisstring");const n=(t instanceof c.BaseError?t.stdErr:t.stack)||"";if(!n)return;e.failureSubCategory=e.failureSubCategory||s.getErrorTags(n);const u=a.getLastFrameFromPythonTraceback(n);u&&(e.pythonErrorFile=e.pythonErrorFile||o.getTelemetrySafeHashedString(u.fileName),e.pythonErrorFolder=e.pythonErrorFolder||o.getTelemetrySafeHashedString(u.folderName),e.pythonErrorPackage=e.pythonErrorPackage||o.getTelemetrySafeHashedString(u.packageName))}},function(e,t,n){"use strict";var r=n(87).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?s(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(87),i=n(182),o=n(401),s=n(181),a=r.sum32,c=r.sum32_4,l=r.sum32_5,u=o.ch32,d=o.maj32,h=o.s0_256,p=o.s1_256,f=o.g0_256,m=o.g1_256,g=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(m(n[r-2]),n[r-7],f(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var S=l(w,p(y),u(y,b,_),this.k[r],n[r]),E=a(h(i),d(i,o,g));w=_,_=b,b=y,y=a(v,S),v=g,g=o,o=i,i=a(S,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(87),i=n(182),o=n(181),s=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,l=r.shr64_lo,u=r.sum64,d=r.sum64_hi,h=r.sum64_lo,p=r.sum64_4_hi,f=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,v=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function _(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i,o){var s=t&r^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i,o){var s=t&r^t&o^r&o;return s<0&&(s+=4294967296),s}function x(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function D(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function T(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function M(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function P(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=M(n[r-4],n[r-3]),o=P(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],c=T(n[r-30],n[r-29]),l=I(n[r-30],n[r-29]),u=n[r-32],d=n[r-31];n[r]=p(i,o,s,a,c,l,u,d),n[r+1]=f(i,o,s,a,c,l,u,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],p=this.h[6],f=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],I=this.h[12],M=this.h[13],P=this.h[14],j=this.h[15];o(this.k.length===n.length);for(var L=0;L<n.length;L+=2){var O=P,A=j,N=k(v,y),R=D(v,y),F=_(v,y,b,T,I),B=w(v,y,b,T,I,M),U=this.k[L],Y=this.k[L+1],W=n[L],H=n[L+1],V=m(O,A,N,R,F,B,U,Y,W,H),K=g(O,A,N,R,F,B,U,Y,W,H);O=x(r,i),A=C(r,i),N=S(r,i,s,a,c),R=E(r,i,s,a,c,l);var q=d(O,A,N,R),J=h(O,A,N,R);P=I,j=M,I=b,M=T,b=v,T=y,v=d(p,f,V,K),y=h(f,f,V,K),p=c,f=l,c=s,l=a,s=r,a=i,r=d(V,K,q,J),i=h(V,K,q,J)}u(this.h,0,r,i),u(this.h,2,s,a),u(this.h,4,c,l),u(this.h,6,p,f),u(this.h,8,v,y),u(this.h,10,b,T),u(this.h,12,I,M),u(this.h,14,P,j)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var r=n(25),i=n(28),o=n(6),s=n(1),a=n(822),c=function(){function e(e,t,n,i){var a=this;this.extensionId=e,this.extensionVersion=t,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!i;var c=process.env.VSCODE_LOGS||"";c&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(c=o.join(c,e+".txt"),this.logStream=r.createWriteStream(c,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(n),this.configListener=s.workspace.onDidChangeConfiguration((function(){return a.updateUserOptIn(n)}))}return e.prototype.updateUserOptIn=function(t){var n=s.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID);this.userOptIn!==n.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=n.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),s&&s.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=s.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=s.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},e.prototype.getCommonProperties=function(){var e=Object.create(null);if(e["common.os"]=i.platform(),e["common.platformversion"]=(i.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,s&&s.env){switch(e["common.vscodemachineid"]=s.env.machineId,e["common.vscodesessionid"]=s.env.sessionId,e["common.vscodeversion"]=s.version,s.env.uiKind){case s.UIKind.Web:e["common.uikind"]="web";break;case s.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(s.env.remoteName)}return e},e.prototype.cleanRemoteName=function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(n){0===e.indexOf(n+"+")&&(t=n)})),t},e.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||("other"!==this.cleanRemoteName(s.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==s.ExtensionKind.Workspace&&s.env.uiKind!==s.UIKind.Web)},Object.defineProperty(e.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=s.extensions.getExtension(this.extensionId)),this._extension},enumerable:!0,configurable:!0}),e.prototype.cloneAndChange=function(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;var n={};for(var r in e)n[r]=t(e[r]);return n},e.prototype.anonymizeFilePaths=function(e,t){var n=[new RegExp(s.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var r=e;if(t){for(var i=[],o=0,a=n;o<a.length;o++)for(var c=a[o];;){var l=c.exec(e);if(!l)break;i.push([l.index,c.lastIndex])}var u=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,d=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,h=0;r="";for(var p=function(){var t=d.exec(e);if(!t)return"break";!u.test(t[0])&&i.every((function(e){var n=e[0],r=e[1];return t.index<n||t.index>=r}))&&(r+=e.substring(h,t.index)+"<REDACTED: user-file-path>",h=d.lastIndex)};;){if("break"===p())break}h<e.length&&(r+=e.substr(h))}for(var f=0,m=n;f<m.length;f++){c=m[f];r=r.replace(c,"")}return r},e.prototype.sendTelemetryEvent=function(e,t,n){var r=this;if(this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e){return r.anonymizeFilePaths(e,r.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:i,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.sendTelemetryErrorEvent=function(e,t,n,r){var i=this;if(this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e){return i.shouldSendErrorTelemetry()?i.anonymizeFilePaths(e,i.firstParty):void 0===r||-1!==r.indexOf(e)?"REDACTED":i.anonymizeFilePaths(e,i.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:o,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.sendTelemetryException=function(e,t,n){var r=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e){return r.anonymizeFilePaths(e,r.firstParty)}));this.appInsightsClient.trackException({exception:e,properties:i,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.dispose=function(){var e=this;this.configListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),n=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([n,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(108),o=n(406),s=Object.keys(process.binding("natives")),a=o.prototype.require;t.makePatchingRequire=function(e){var t={};return function(n){var c=a.apply(this,arguments);if(e[n]){var l=o._resolveFilename(n,this);if(t.hasOwnProperty(l))return t[l];var u=void 0;if(s.indexOf(n)<0)try{u=a.call(this,r.join(n,"package.json")).version}catch(e){return c}else u=process.version.substring(1);var d=u.indexOf("-");d>=0&&(u=u.substring(0,d));for(var h=c,p=0,f=e[n];p<f.length;p++){var m=f[p];i.satisfies(u,m.versionSpecifier)&&(h=m.patch(h,l))}return t[l]=h}return c}}},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("timers")},function(e){e.exports=JSON.parse('{"name":"async-hook-jl","description":"Inspect the life of handle objects in node","version":"1.7.6","author":"Andreas Madsen <amwebdk@gmail.com>","main":"./index.js","scripts":{"test":"node ./test/runner.js && eslint ."},"repository":{"type":"git","url":"git://github.com/jeff-lewis/async-hook-jl.git"},"keywords":["async","async hooks","inspect","async wrap"],"license":"MIT","dependencies":{"stack-chain":"^1.3.7"},"devDependencies":{"async":"1.5.x","cli-color":"1.1.x","eslint":"^3.4.0","endpoint":"0.4.x"},"engines":{"node":"^4.7 || >=6.9 || >=7.3"},"_resolved":"https://registry.npmjs.org/async-hook-jl/-/async-hook-jl-1.7.6.tgz","_integrity":"sha512-gFaHkFfSxTjvoxDMYqDuGHlcRyUuamF8s+ZTtJdDzqjws4mCt7v0vuV79/E2Wr2/riMQgtG4/yUtXWs1gZ7JMg==","_from":"async-hook-jl@1.7.6"}')},function(e,t,n){if(global._stackChain){if(global._stackChain.version!==n(410).version)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=n(848)},function(e){e.exports=JSON.parse('{"name":"stack-chain","description":"API for combining call site modifiers","version":"1.3.7","author":"Andreas Madsen <amwebdk@gmail.com>","scripts":{"test":"tap ./test/simple"},"repository":{"type":"git","url":"git://github.com/AndreasMadsen/stack-chain.git"},"keywords":["stack","chain","trace","call site","concat","format"],"devDependencies":{"tap":"2.x.x","uglify-js":"2.5.x"},"license":"MIT","_resolved":"https://registry.npmjs.org/stack-chain/-/stack-chain-1.3.7.tgz","_integrity":"sha1-0ZLJ/06moiyUxN1FkXHj8AzqEoU=","_from":"stack-chain@1.3.7"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(858),t.Base=n(412),t.ContextTagKeys=n(859),t.Data=n(860),t.DataPoint=n(861),t.DataPointType=n(413),t.Domain=n(111),t.Envelope=n(862),t.EventData=n(414),t.ExceptionData=n(863),t.ExceptionDetails=n(864),t.MessageData=n(865),t.MetricData=n(866),t.PageViewData=n(867),t.RemoteDependencyData=n(868),t.RequestData=n(869),t.SeverityLevel=n(870),t.StackFrame=n(871)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=r},function(e,t,n){"use strict";var r=n(88),i=n(143),o=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var a=i.getRootId(n);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==n.indexOf("|")&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=a,this.spanId=n}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=o},function(e,t,n){"use strict";var r=n(48),i=n(58),o=n(51),s=n(88),a=n(186),c=n(882),l=n(183),u=n(289),d=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?l.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){l.CorrelationContextManager.wrapEmitter(r),l.CorrelationContextManager.wrapEmitter(i);var o=r&&!r[e.alreadyAutoCollectedFlag];if(r&&o){var s=new c(r),a=t._generateCorrelationContext(s);l.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:i},s)),"function"==typeof n&&n(r,i)}))}else"function"==typeof n&&n(r,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},s=r.createServer;r.createServer=function(e){var t=s(n(e));return o(t),t};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return o(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=l.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=l.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,a,n,null,r)}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,l.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=d},function(e,t,n){const r=n(69).fromCallback,i=n(36),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{t[e]=i[e]}),o.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise((s,a)=>{i.read(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})})})},t.write=function(e,t,n,r,o,s){return"function"==typeof arguments[arguments.length-1]?i.write(e,t,n,r,o,s):new Promise("string"==typeof t?(o,s)=>{i.write(e,t,n,r,(e,t,n)=>{if(e)return s(e);o({bytesWritten:t,buffer:n})})}:(s,a)=>{i.write(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesWritten:t,buffer:n})})})}},function(e,t,n){var r=n(36),i=n(6),o=n(905);e.exports=function(e,t,n,s){s||(s=n,n={});var a=process.cwd(),c=i.resolve(a,e),l=i.resolve(a,t),u=n.filter,d=n.transform,h=n.overwrite;void 0===h&&(h=n.clobber),void 0===h&&(h=!0);var p=n.errorOnExist,f=n.dereference,m=!0===n.preserveTimestamps,g=0,v=0,y=0,b=!1;function _(e){if(g++,u)if(u instanceof RegExp){if(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),!u.test(e))return D(!0)}else if("function"==typeof u&&!u(e,t))return D(!0);return function(e){var t=f?r.stat:r.lstat;y++,t(e,(function(t,n){if(t)return k(t);var o,s,u={name:e,mode:n.mode,mtime:n.mtime,atime:n.atime,stats:n};if(!n.isDirectory())return n.isFile()||n.isCharacterDevice()||n.isBlockDevice()?function(e){var t=e.name.replace(c,l.replace("$","$$$$"));C(t,(function(n){n?w(e,t):h?S(t,(function(){w(e,t)})):p?k(new Error(t+" already exists")):D()}))}(u):n.isSymbolicLink()?function(e){var t=e.replace(c,l);r.readlink(e,(function(e,n){if(e)return k(e);!function(e,t){f&&(e=i.resolve(a,e));C(t,(function(n){if(n)return x(e,t);r.readlink(t,(function(n,r){return n?k(n):(f&&(r=i.resolve(a,r)),r===e?D():S(t,(function(){x(e,t)})))}))}))}(n,t)}))}(e):void 0;C(s=(o=u).name.replace(c,l.replace("$","$$$$")),(function(e){if(e)return function(e,t){r.mkdir(t,e.mode,(function(n){if(n)return k(n);r.chmod(t,e.mode,(function(t){if(t)return k(t);E(e.name)}))}))}(o,s);E(o.name)}))}))}(e)}function w(e,t){var n=r.createReadStream(e.name),i=r.createWriteStream(t,{mode:e.mode});n.on("error",k),i.on("error",k),d?d(n,i,e):i.on("open",(function(){n.pipe(i)})),i.once("close",(function(){r.chmod(t,e.mode,(function(n){if(n)return k(n);m?o.utimesMillis(t,e.atime,e.mtime,(function(e){return e?k(e):D()})):D()}))}))}function S(e,t){r.unlink(e,(function(e){return e?k(e):t()}))}function E(e){r.readdir(e,(function(t,n){return t?k(t):(n.forEach((function(t){_(i.join(e,t))})),D())}))}function x(e,t){r.symlink(e,t,(function(e){return e?k(e):D()}))}function C(e,t){r.lstat(e,(function(e){return e&&"ENOENT"===e.code?t(!0):t(!1)}))}function k(e){if(!b&&void 0!==s)return b=!0,s(e)}function D(e){if(e||y--,v++,g===v&&0===y&&void 0!==s)return s(null)}_(c)}},function(e,t,n){"use strict";const r=n(6);function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const o=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),o.test(e)}}},function(e,t,n){e.exports={copySync:n(908)}},function(e,t){e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(43),o=n(79),s=n(114),a=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=a,t.inject=function(e){return function(t,n,a){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(i.INJECT_TAG,e);"number"==typeof a?s.tagParameter(t,n,a,c):s.tagProperty(t,n,c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(126),o=n(79),s=n(935),a=function(){function e(e,t,n,a){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new s.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof a?c=new o.Metadata(r.NAMED_TAG,a):a instanceof o.Metadata&&(c=a),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(293),i=n(294),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var s=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=s;var a=s(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseNotebookModel=t.getDefaultNotebookContent=t.updateNotebookMetadata=void 0;const r=n(189),i=n(224),o=n(1),s=n(14),a=n(190),c=n(5),l=n(22);function u(e=3){return{metadata:{language_info:{codemirror_mode:{name:"ipython",version:e},file_extension:".py",mimetype:"text/x-python",name:"python",nbconvert_exporter:"python",pygments_lexer:"ipython"+e,version:e},orig_nbformat:c.defaultNotebookFormat.major},nbformat:c.defaultNotebookFormat.major,nbformat_minor:c.defaultNotebookFormat.minor}}t.updateNotebookMetadata=function(e,t,n){var o,c,u;let d,h,p=!1;if(!e)return{changed:p,kernelId:d};switch((null===(o=null==e?void 0:e.language_info)||void 0===o?void 0:o.name)||((e=e||{orig_nbformat:3,language_info:{name:""}}).language_info=e.language_info||{name:""}),null==t?void 0:t.kind){case"connectToLiveKernel":h=t.kernelModel.language;break;case"startUsingKernelSpec":h=t.kernelSpec.language;break;case"startUsingPythonInterpreter":h=s.PYTHON_LANGUAGE}if(e.language_info.name!==h&&h&&(e.language_info.name=h,p=!0),n&&"language_info"in n&&n.language_info)r(e.language_info,n.language_info)||(e.language_info=i.cloneDeep(n.language_info),p=!0);else{const n=l.isPythonKernelConnection(t),r=n?l.getInterpreterFromKernelConnectionMetadata(t):void 0;r&&r.version&&e&&e.language_info&&e.language_info.version!==r.version.raw?(e.language_info.version=r.version.raw,p=!0):!r&&(null==e?void 0:e.language_info)&&n&&(e.language_info=void 0,p=!0)}const f=t&&l.kernelConnectionMetadataHasKernelModel(t)?t.kernelModel:null==t?void 0:t.kernelSpec;if("startUsingPythonInterpreter"===(null==t?void 0:t.kind)){const n=t.kernelSpec,r=t.interpreter.displayName||"",i=l.isKernelRegisteredByUs(n)?"python3":n.name;(null===(c=e.kernelspec)||void 0===c?void 0:c.name)===i&&(null===(u=e.kernelspec)||void 0===u?void 0:u.display_name)===i||(p=!0,e.kernelspec={name:i,display_name:r},l.isKernelRegisteredByUs(n)&&(e.interpreter={hash:a.getInterpreterHash(t.interpreter)}))}else if(f&&!e.kernelspec)e.kernelspec={name:f.name||f.display_name||"",display_name:f.display_name||f.name||""},d=f.id,p=!0;else if(f&&e.kernelspec){const t=f.name||f.display_name||"",n=f.display_name||f.name||"",r=f.language||f.language||"";e.kernelspec.name===t&&e.kernelspec.language===r&&e.kernelspec.display_name===n&&d===f.id||(p=!0,e.kernelspec.name=t,e.kernelspec.display_name=n,e.kernelspec.language=r,d=f.id);try{delete e.kernelspec.metadata}catch(e){}}return{changed:p,kernelId:d}},t.getDefaultNotebookContent=u;t.BaseNotebookModel=class{constructor(e,t,n={},r=" ",i=3,s=!0){this._file=e,this.globalMemento=t,this.notebookJson=n,this.indentAmount=r,this.pythonNumber=i,this._disposed=new o.EventEmitter,s&&this.ensureNotebookJson()}get file(){return this._file}dispose(){this._isDisposed=!0,this._disposed.fire()}getDefaultNotebookContent(){return u(this.pythonNumber)}ensureNotebookJson(){this.notebookJson&&this.notebookJson.metadata||(this.notebookJson=this.getDefaultNotebookContent())}}},function(e,t,n){"use strict";!function(t){var n,r=/^[$_a-z][$_a-z0-9]*$/i;function i(e){var t,n,i,o,s,a,c,l={},u=0,d="",h=!1;for(t=0;t<e.length;++t)if(n=e[t],o=(i=e[t+1])+e[t+2],d+=n,"\\"===n)if(h||"k<"!==o)d+=i,++t;else{if((s=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named backreference.");if(!(c=l[a=e.substring(t+3,s)]))throw new Error("Named group '"+a+"' is not defined in backreference.");if("number"!=typeof c)throw new Error("Named backreference referencing duplicate named group '"+a+"'.");t=s,d+=c}else if(h)"]"===n&&(h=!1);else if("["===n)h=!0;else if("("===n&&"?:"!==o&&"?="!==o&&"?!"!==o&&(u++,"?<"===o||":<"===o)){if((s=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named group.");if(a=e.substring(t+3,s),!r.test(a))throw new Error("Invalide group name '"+a+"'. Regexp group name should start with '_$a-zA-Z' and can contain only '_$a-zA-Z0-9'.");void 0===(c=l[a])?l[a]=u:"number"==typeof c?l[a]=[c,u]:c.push(u),t=s}return{mapper:l,regexText:d}}e.exports=function(e,t){if("boolean"!=typeof e){"string"!=typeof e&&(t=(e.global?"g":"")+(e.multiline?"m":"")+(e.ignoreCase?"i":""),e=e.source);var r=n?n[e]||(n[e]=i(e)):i(e),o=new RegExp(r.regexText,t);return o.groupsIndices=r.mapper,o.exec=function(e){var t=RegExp.prototype.exec.call(this,e);return t&&s(t),t},o.execGroups=function(e,t){var n=this.exec(e);return n?n.groups(t):null},o.replace=function(e,t){if("function"==typeof t)return e.replace(o,(function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-2);return s(e),t.apply(e,arguments)}));var n=function(e,t){var n,r,i,o,s,a,c="";for(n=0;n<e.length;++n)if(r=e[n],i=e[n+1],c+=r,"$"===r)if("$"===i)c+=i,++n;else if("{"===i){if((s=e.indexOf("}",n+2))<0)throw new Error("'>' missing in replacement named group.");if(void 0===(a=t[o=e.substring(n+2,s)]))throw new Error("Named group '"+o+"' is not defined in replacement text.");if("number"!=typeof a)throw new Error("Named replacement referencing duplicate named group '"+o+"'.");c+=a,n=s}return c}(t,this.groupsIndices);return e.replace(this,n)},o}function s(e){var t,n,i=r.mapper;return e.group=function(t,n){var r=i[t];if("number"==typeof r)return e[r];if(n)return r.map((function(t){return e[t]}));if(r)for(var o=0;o<r.length;++o){var s=e[r[o]];if(void 0!==s)return s}},e.groups=function(r){var o=r?n:t;if(o)return o;for(var s in o={},i)o[s]=e.group(s,r);return r?n=o:t=o},e}!1===e?n=void 0:n||(n={})}}("undefined"==typeof window||window)},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(434),i=n(431),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(986);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(301),i=n(437),o=n(300),s=n(435),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:s;e.exports=a},function(e,t,n){var r=n(377)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(301),i=n(177);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceInterpreterTracker=void 0;const s=n(3),a=n(7),c=n(0),l=n(33),u=n(26);let d=r=class{constructor(e,t,n,i,o){this.extensions=e,this.workspaceService=t,this.pythonExtensionChecker=n,this.disposables=i,this.interpreterService=o,r.getWorkspaceIdentifier=this.workspaceService.getWorkspaceFolderIdentifier.bind(this.workspaceService)}activate(){this.trackActiveInterpreters(),this.extensions.onDidChange(this.trackActiveInterpreters,this,this.disposables)}static isActiveWorkspaceInterpreter(e,t){if(!t)return!1;const n=r.getWorkspaceIdentifier(e),i=r.workspaceInterpreters.get(n);return!!i&&i===t.path}trackActiveInterpreters(){!this.trackingInterpreters&&this.pythonExtensionChecker.isPythonExtensionActive&&(this.trackingInterpreters=!0,this.interpreterService.onDidChangeInterpreter(async()=>{const e=Array.isArray(this.workspaceService.workspaceFolders)?this.workspaceService.workspaceFolders.map(e=>e.uri):[];await Promise.all(e.map(async e=>{try{const t=this.workspaceService.getWorkspaceFolderIdentifier(e),n=await this.interpreterService.getActiveInterpreter(e);r.workspaceInterpreters.set(t,null==n?void 0:n.path)}catch(e){}}))},this,this.disposables))}};d.workspaceInterpreters=new Map,d.getWorkspaceIdentifier=()=>"",d=r=i([c.injectable(),o(0,c.inject(s.IExtensions)),o(1,c.inject(a.IWorkspaceService)),o(2,c.inject(u.IPythonExtensionChecker)),o(3,c.inject(s.IDisposableRegistry)),o(4,c.inject(l.IInterpreterService))],d),t.WorkspaceInterpreterTracker=d},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterCountTracker=void 0;const s=n(0),a=n(33),c=n(26),l=n(9),u=n(3);let d=r=class{constructor(e,t,n,r){this.pythonExtensionChecker=e,this.disposables=t,this.pythonApi=n,this.interpreterService=r}static get totalNumberOfInterpreters(){return r.interpreterCount}async activate(){this.pythonExtensionChecker.isPythonExtensionActive?this.trackInterpreters():this.pythonApi.onDidActivatePythonExtension(this.trackInterpreters,this,this.disposables)}trackInterpreters(){this.interpretersTracked||this.pythonExtensionChecker.isPythonExtensionActive&&(this.interpretersTracked=!0,this.interpreterService.getInterpreters().then(e=>r.interpreterCount=e.length).catch(l.noop))}};d.interpreterCount=0,d=r=i([s.injectable(),o(0,s.inject(c.IPythonExtensionChecker)),o(1,s.inject(u.IDisposableRegistry)),o(2,s.inject(c.IPythonApiProvider)),o(3,s.inject(a.IInterpreterService))],d),t.InterpreterCountTracker=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalKernelSpecFinderBase=t.isDefaultPythonKernelSpecSpecName=void 0;const o=n(0),s=n(6),a=n(7),c=n(14),l=n(4),u=n(16),d=n(85),h=n(22),p=n(297);t.isDefaultPythonKernelSpecSpecName=/python\s\d*.?\d*$/;let f=class{constructor(e,t,n){this.fs=e,this.workspaceService=t,this.extensionChecker=n,this.kernelSpecCache=new Map,this.pathToKernelSpec=new Map}clearCache(){this.kernelSpecCache.clear()}async listKernelsWithCache(e,t,n){const r=this.kernelSpecCache.get(e);if(r){if(r.usesPython&&r.wasPythonExtInstalled===this.extensionChecker.isPythonExtensionInstalled)return r.promise;if(!r.usesPython)return r.promise}const i=n().then(t=>{const n=new Map;return l.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,`Kernel specs for ${(null==e?void 0:e.toString())||"undefined"} are \n ${JSON.stringify(t,void 0,4)}`),t.map(e=>{n.has(e.id)||n.set(e.id,e)}),Array.from(n.values()).sort((e,t)=>{const n=e.kernelSpec.display_name.toUpperCase(),r=t.kernelSpec.display_name.toUpperCase();return n===r?0:n<r?-1:1})}),o=this.extensionChecker.isPythonExtensionInstalled;return this.kernelSpecCache.set(e,{usesPython:t,promise:i,wasPythonExtInstalled:o}),this.kernelSpecCache.get(e).promise}async getKernelSpec(e,t,n){return this.pathToKernelSpec.has(e)||this.pathToKernelSpec.set(e,this.loadKernelSpec(e,t,n)),this.pathToKernelSpec.get(e).then(t=>{var n;if(t)return t;this.pathToKernelSpec.delete(e),this.cache=null===(n=this.cache)||void 0===n?void 0:n.filter(t=>t.kernelSpecFile!==e)})}async loadKernelSpec(e,n,r){var i,o,a,u;let d;try{l.traceInfo(`Loading kernelspec from ${e} for ${null==n?void 0:n.path}`),d=JSON.parse(await this.fs.readLocalFile(e))}catch(t){return void l.traceError("Failed to parse kernelspec "+e)}if(null==r?void 0:r.isCancellationRequested)return;d.name=n?h.getInterpreterKernelSpecName(n):d.name;const f=d.display_name.toLowerCase().match(t.isDefaultPythonKernelSpecSpecName);if(!f&&d.language===c.PYTHON_LANGUAGE&&d.argv.length>2){const e=d.argv.slice(1).map(e=>e.toLowerCase()).filter(e=>!["-m","ipykernel","ipykernel_launcher","-f","{connection_file}"].includes(e));e.length&&(d.name=`${d.name}.${e.join("#")}`)}d.display_name=d.language===c.PYTHON_LANGUAGE&&f&&(null==n?void 0:n.displayName)||d.display_name;const m=new p.JupyterKernelSpec(d,e,(null==n?void 0:n.path)||(null===(o=null===(i=null==d?void 0:d.metadata)||void 0===i?void 0:i.interpreter)||void 0===o?void 0:o.path));m.name=(null==d?void 0:d.name)||s.basename(s.dirname(e));const g=(null==n?void 0:n.path)||(null===(u=null===(a=null==d?void 0:d.metadata)||void 0===a?void 0:a.interpreter)||void 0===u?void 0:u.path);return!g||await this.fs.localFileExists(g)?m:void 0}async findKernelSpecsInPaths(e,t){const n=await Promise.all(e.map(async e=>{const t="string"==typeof e?e:e.kernelSearchPath;if(await this.fs.localDirectoryExists(t)){const n=await this.fs.searchLocal("**/kernel.json",t,!0);return{interpreter:"string"==typeof e?void 0:e.interpreter,kernelSpecFiles:n.map(e=>s.join(t,e))}}}));if(null==t?void 0:t.isCancellationRequested)return[];const r=[];return n.forEach(e=>{if(e)for(const t of e.kernelSpecFiles)r.push({interpreter:e.interpreter,kernelSpecFile:t})}),r}};r([d.testOnlyMethod()],f.prototype,"clearCache",null),r([l.traceDecorators.error("List kernels failed")],f.prototype,"listKernelsWithCache",null),f=r([o.injectable(),i(0,o.inject(u.IFileSystem)),i(1,o.inject(a.IWorkspaceService))],f),t.LocalKernelSpecFinderBase=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefBool=void 0;t.RefBool=class{constructor(e){this.val=e}get value(){return this.val}update(e){this.val=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleTensorBoardDisplayDataOutput=void 0,t.handleTensorBoardDisplayDataOutput=function(e){if(e.hasOwnProperty("text/html")){const t=e["text/html"];"string"==typeof t&&t.includes('<iframe id="tensorboard-frame-')&&(e["text/html"]=t.replace(/new URL\((.*), window.location\)/,'new URL("http://localhost")'))}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleNotInstalledError=void 0;const r=n(29);class i extends r.BaseError{constructor(e){super("notinstalled",`Module '${e}' not installed.`)}}t.ModuleNotInstalledError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJupyterConnectionDisplayName=t.JupyterConnectionWaiter=void 0,n(15);const r=n(1),i=n(37),o=n(4),s=n(16),a=n(3),c=n(19),l=n(10),u=n(5),d=n(1021),h=n(430)(u.RegExpValues.UrlPatternRegEx);t.JupyterConnectionWaiter=class{constructor(e,t,n,r,h,p){this.launchResult=e,this.notebookDir=t,this.rootDir=n,this.getServerInfo=r,this.cancelToken=p,this.stderr=[],this.connectionDisposed=!1,this.subscriptions=[],this.extractConnectionInformation=e=>{this.output(e);u.RegExpValues.HttpPattern.exec(e)&&this.notebookDir&&this.startPromise&&!this.startPromise.completed&&this.getServerInfo&&this.getServerInfo(this.cancelToken).then(t=>this.getJupyterURL(t,e)).catch(e=>o.traceWarning("Failed to get server info",e))},this.launchTimedOut=()=>{this.startPromise.completed||this.rejectStartPromise(l.DataScience.jupyterLaunchTimedOut())},this.resolveStartPromise=(e,t,n)=>{if(clearTimeout(this.launchTimeout),!this.startPromise.rejected){const r=this.createConnection(e,t,n,this.launchResult),i=r.dispose.bind(r);r.dispose=()=>(this.connectionDisposed=!0,i()),this.startPromise.resolve(r)}},this.rejectStartPromise=e=>{clearTimeout(this.launchTimeout),this.startPromise.resolved||this.startPromise.reject(i.Cancellation.isCanceled(this.cancelToken)?new i.CancellationError:new d.JupyterConnectError(e,this.stderr.join("\n")))},this.configService=h.get(a.IConfigurationService),this.fs=h.get(s.IFileSystem),p&&p.onCancellationRequested(()=>this.startPromise.reject(new i.CancellationError)),this.startPromise=c.createDeferred();const f=this.configService.getSettings(void 0).jupyterLaunchTimeout;this.launchTimeout=setTimeout(()=>{this.launchTimedOut()},f);let m="0";e.proc&&e.proc.on("exit",e=>m=e?e.toString():"0");let g="";this.subscriptions.push(e.out.subscribe(e=>{"stderr"===e.source?(g+=e.out,this.stderr.push(e.out),this.extractConnectionInformation(g)):this.output(e.out)},e=>this.rejectStartPromise(e.message),()=>this.rejectStartPromise(l.DataScience.jupyterServerCrashed().format(m))))}dispose(){clearTimeout(this.launchTimeout),this.subscriptions.forEach(e=>e.unsubscribe())}waitForConnection(){return this.startPromise.promise}createConnection(e,t,n,r){return new p(e,t,n,this.rootDir,r,this.launchResult.proc)}output(e){this.connectionDisposed||o.traceInfo(e.toString("utf8"))}getJupyterURL(e,t){if(e&&e.length>0&&!this.startPromise.completed){const t=e.find(e=>this.fs.areLocalPathsSame(this.notebookDir,e.notebook_dir));if(t){const e=t.url,n=t.token,r=t.hostname;this.resolveStartPromise(e,n,r)}}this.startPromise.completed||this.getJupyterURLFromString(t)}getJupyterURLFromString(e){const t=h.exec(e),r=t.groups();if(t&&!this.startPromise.completed&&r&&(r.LOCAL||r.IP)){const e=r.LOCAL?r.LOCAL:r.IP,t=`${r.PREFIX}${e}${r.REST}`,i=n(31).URL;let o;try{o=new i(t)}catch(e){return void this.rejectStartPromise(l.DataScience.jupyterLaunchNoURL())}this.resolveStartPromise(`${o.protocol}//${o.host}${o.pathname}`,""+o.searchParams.get("token"),o.hostname)}}};class p{constructor(e,t,n,i,o,s){this.baseUrl=e,this.token=t,this.hostName=n,this.rootDirectory=i,this.disposable=o,this.localLaunch=!0,this.type="jupyter",this.valid=!0,this.eventEmitter=new r.EventEmitter,s&&s.on("exit",e=>{const t="number"==typeof e?e:0;this.valid=!1,this.localProcExitCode=t,this.eventEmitter.fire(t)})}get displayName(){return f(this.token,this.baseUrl)}get disconnected(){return this.eventEmitter.event}dispose(){this.disposable&&this.disposable.dispose()}}function f(e,t){return`${t}${e.length>0?"?token="+e:""}`}t.getJupyterConnectionDisplayName=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvFileTelemetryTests=t.sendActivationTelemetry=t.sendFileCreationTelemetry=t.sendSettingTelemetry=void 0;const r=n(308),i=n(8),o=n(86);let s,a=!1;function c(e=!1){i.sendTelemetryEvent(o.EventName.ENVFILE_WORKSPACE,void 0,{hasCustomEnvPath:e}),a=!0}function l(){return!a}function u(e){var t;if(!s){const n=e.getConfiguration("python");s=(null===(t=n.inspect("envFile"))||void 0===t?void 0:t.defaultValue)||""}return s}t.sendSettingTelemetry=function(e,t){l()&&t!==u(e)&&c(!0)},t.sendFileCreationTelemetry=function(){l()&&c()},t.sendActivationTelemetry=async function(e,t,n){if(l()){const i=new r.SystemVariables(n,void 0,t).resolveAny(u(t));await e.localFileExists(i)&&c()}},function(e){e.setState=function({telemetrySent:e,defaultSetting:t}){void 0!==e&&(a=e),void 0!==u&&(s=t)},e.resetState=function(){s=void 0,a=!1}}(t.EnvFileTelemetryTests||(t.EnvFileTelemetryTests={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterSelector=void 0,t.IInterpreterSelector=Symbol("IInterpreterSelector")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWindowsStoreInterpreter=void 0,t.IWindowsStoreInterpreter=Symbol("IWindowsStoreInterpreter")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IProductPathService=void 0,t.IProductPathService=Symbol("IProductPathService")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Webview=void 0,n(15);const r=n(6),i=n(1),o=n(5),s=n(4),a=n(10);t.Webview=class{constructor(e,t,n,r=[]){this.fs=e,this.disposableRegistry=t,this.options=n,this.loadFailedEmitter=new i.EventEmitter;const o={enableScripts:!0,localResourceRoots:[i.Uri.file(this.options.rootPath),i.Uri.file(this.options.cwd),...r]};n.webviewHost?(this.webviewHost=n.webviewHost,this.webviewHost.webview.options=o):this.webviewHost=this.createWebview(o),this.loadPromise=this.load()}get loadFailed(){return this.loadFailedEmitter.event}asWebviewUri(e){var t;if(!(null===(t=this.webviewHost)||void 0===t?void 0:t.webview))throw new Error("WebView not initialized, too early to get a Uri");return this.webviewHost.webview.asWebviewUri(e)}postMessage(e){var t,n;(null===(t=this.webviewHost)||void 0===t?void 0:t.webview)&&(null===(n=this.webviewHost)||void 0===n||n.webview.postMessage(e))}async generateLocalReactHtml(){var e,t;if(!(null===(e=this.webviewHost)||void 0===e?void 0:e.webview))throw new Error("WebView not initialized, too early to get a Uri");const n=null===(t=this.webviewHost)||void 0===t?void 0:t.webview.asWebviewUri(i.Uri.file(this.options.cwd)).toString(),s=this.options.scripts.map(e=>this.webviewHost.webview.asWebviewUri(i.Uri.file(e)));(await this.fs.getFiles(i.Uri.file(this.options.rootPath))).filter(e=>e.fsPath.toLowerCase().endsWith(".js")||e.fsPath.toLowerCase().endsWith(".js.map")).forEach(e=>{var t;return null===(t=this.webviewHost)||void 0===t?void 0:t.webview.asWebviewUri(e)});const a=this.webviewHost.webview.asWebviewUri(i.Uri.file(this.options.rootPath)).toString(),c=this.webviewHost.webview.asWebviewUri(i.Uri.file(r.join(this.options.rootPath,"out","fontAwesome","node_modules","font-awesome","css","font-awesome.min.css"))).toString(),l=process.env.VSC_JUPYTER_WEBVIEW_TEST_MIDDLEWARE||"false";return`<!doctype html>\n        <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">\n                <meta http-equiv="Content-Security-Policy" content="img-src 'self' data: https: http: blob: ${this.webviewHost.webview.cspSource}; default-src 'unsafe-inline' 'unsafe-eval' data: https: http: blob: ${this.webviewHost.webview.cspSource};">\n                <meta name="theme-color" content="#000000">\n                <meta name="theme" content="${o.Identifiers.GeneratedThemeName}"/>\n                <title>VS Code Python React UI</title>\n                <base href="${n}${n.endsWith("/")?"":"/"}"/>\n                <link rel="stylesheet" href="${c}">\n                </head>\n            <body>\n                <noscript>You need to enable JavaScript to run this app.</noscript>\n                <div id="root"></div>\n                <script type="text/javascript">\n                    // Public path that will be used by webpack.\n                    window.__PVSC_Public_Path = "${a}/";\n                    function resolvePath(relativePath) {\n                        if (relativePath && relativePath[0] == '.' && relativePath[1] != '.') {\n                            return "${n}" + relativePath.substring(1);\n                        }\n\n                        return "${n}" + relativePath;\n                    }\n                    function forceTestMiddleware() {\n                        return ${l};\n                    }\n                <\/script>\n                ${s.map(e=>`<script type="text/javascript" src="${e}"><\/script>`).join("\n")}\n            </body>\n        </html>`}async load(){var e;try{if(null===(e=this.webviewHost)||void 0===e?void 0:e.webview){if((await Promise.all(this.options.scripts.map(e=>this.fs.localFileExists(e)))).every(e=>!0===e))this.webviewHost.webview.html=await this.generateLocalReactHtml(),this.postLoad(this.webviewHost);else{const e=a.DataScience.badWebPanelFormatString();this.webviewHost.webview.html=e.format(this.options.scripts.join(", "))}}}catch(e){s.traceError("Error Loading WebviewPanel: "+e),this.loadFailedEmitter.fire()}}}},function(e){e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENCODING=void 0,t.DEFAULT_ENCODING="utf8"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1059))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDaemonFactory=void 0;const i=n(6),o=n(1061),s=n(107),a=n(4),c=n(19),l=n(312),u=n(460);class d{constructor(e,t,n,r,o){if(this.disposables=e,this.options=t,this.pythonExecutionService=n,this.platformService=r,this.activatedEnvVariables=o,!t.pythonPath)throw new Error("options.pythonPath is empty when it shoud not be");this.pythonPath=t.pythonPath;const a=`${i.join(s.EXTENSION_ROOT_DIR,"pythonFiles")}${i.delimiter}${i.join(s.EXTENSION_ROOT_DIR,"pythonFiles","lib","python")}`;this.envVariables=this.activatedEnvVariables?{...this.activatedEnvVariables}:{...process.env},this.envVariables.PYTHONPATH=this.envVariables.PYTHONPATH?`${this.envVariables.PYTHONPATH}${i.delimiter}${a}`:a,this.envVariables.PYTHONUNBUFFERED="1"}async createDaemonService(){var e,t;const n=(this.options.daemonModule?["--daemon-module="+this.options.daemonModule]:[]).concat(["-v"]),r=this.envVariables,i=this.pythonExecutionService.execModuleObservable("vscode_datascience_helpers.daemon",n,{env:r});if(!i.proc)throw new Error("Failed to create Daemon Proc");const o=this.createConnection(i.proc);o.listen();let s,c="";null===(e=i.proc.stderr)||void 0===e||e.on("data",e=>{e="string"==typeof e?e:e.toString("utf8"),c+=e}),i.proc.on("error",e=>s=e);try{await this.testDaemon(o);const e=null!==(t=this.options.daemonClass)&&void 0!==t?t:u.PythonDaemonExecutionService,n=new e(this.pythonExecutionService,this.platformService,this.pythonPath,i.proc,o);if(n instanceof l.BasePythonDaemon)return this.disposables.push(n),n;throw new Error(`Daemon class ${e.name} must inherit BasePythonDaemon.`)}catch(e){throw a.traceError("Failed to start the Daemon, StdErr: ",c),a.traceError("Failed to start the Daemon, ProcEndEx",s||e),a.traceError("Failed  to start the Daemon, Ex",e),e}}createConnection(e){return o.createMessageConnection(new o.StreamMessageReader(e.stdout),new o.StreamMessageWriter(e.stdin))}async testDaemon(e){const t=c.createDeferred(),n=setTimeout(()=>t.reject(new Error("Timeout waiting for daemon to start")),5e3),r=new o.RequestType("ping"),i=await Promise.race([t.promise,e.sendRequest(r,{data:"hello"})]);if(clearTimeout(n),"hello"!==i.pong)throw new Error("Daemon did not reply to the ping, received: "+i.pong)}}r([a.traceDecorators.error("Failed to create daemon")],d.prototype,"createDaemonService",null),r([a.traceDecorators.error("Pinging Daemon Failed")],d.prototype,"testDaemon",null),t.PythonDaemonFactory=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const r=n(458);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(456);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const o=n(195);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return o.Emitter}});const s=n(459);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const a=n(1064);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return a.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return a.ReadableStreamMessageReader}});const c=n(1065);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const l=n(1067);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const u=n(117);t.RAL=u.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(194);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e){this.kind=e}static is(e){return e===s.auto||e===s.byName||e===s.byPosition}toString(){return this.kind}}t.ParameterStructures=s,s.auto=new s("auto"),s.byPosition=new s("byPosition"),s.byName=new s("byName");class a{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return s.auto}}t.AbstractMessageSignature=a;t.RequestType0=class extends a{constructor(e){super(e,0)}};t.RequestType=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType1=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType2=class extends a{constructor(e){super(e,2)}};t.RequestType3=class extends a{constructor(e){super(e,3)}};t.RequestType4=class extends a{constructor(e){super(e,4)}};t.RequestType5=class extends a{constructor(e){super(e,5)}};t.RequestType6=class extends a{constructor(e){super(e,6)}};t.RequestType7=class extends a{constructor(e){super(e,7)}};t.RequestType8=class extends a{constructor(e){super(e,8)}};t.RequestType9=class extends a{constructor(e){super(e,9)}};t.NotificationType=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType0=class extends a{constructor(e){super(e,0)}};t.NotificationType1=class extends a{constructor(e,t=s.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType2=class extends a{constructor(e){super(e,2)}};t.NotificationType3=class extends a{constructor(e){super(e,3)}};t.NotificationType4=class extends a{constructor(e){super(e,4)}};t.NotificationType5=class extends a{constructor(e){super(e,5)}};t.NotificationType6=class extends a{constructor(e){super(e,6)}};t.NotificationType7=class extends a{constructor(e){super(e,7)}};t.NotificationType8=class extends a{constructor(e){super(e,8)}};t.NotificationType9=class extends a{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(117),i=n(194),o=n(195);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=r.default().timer.setTimeout(e.bind(t),0);return{dispose(){r.default().timer.clearTimeout(n)}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDaemonExecutionService=t.DaemonError=t.ConnectionClosedError=void 0;const r=n(193),i=n(190),o=n(29),s=n(4),a=n(312);class c extends o.BaseError{constructor(e){super("daemon",e)}}t.ConnectionClosedError=c;class l extends o.BaseError{constructor(e){super("daemon",e)}}t.DaemonError=l;class u extends a.BasePythonDaemon{constructor(e,t,n,r,i){super(e,t,n,r,i)}async getInterpreterInformation(){try{this.throwIfRPCConnectionIsDead();const e=new r.RequestType0("get_interpreter_information"),t=await this.sendRequestWithoutArgs(e);if(t.error)throw Error(t.error);return i.extractInterpreterInfo(this.pythonPath,t)}catch(e){return s.traceWarning("Falling back to Python Execution Service due to failure in daemon",e),this.pythonExecutionService.getInterpreterInformation()}}async getExecutablePath(){try{this.throwIfRPCConnectionIsDead();const e=new r.RequestType0("get_executable"),t=await this.sendRequestWithoutArgs(e);if(t.error)throw new l(t.error);return t.path}catch(e){return s.traceWarning("Falling back to Python Execution Service due to failure in daemon",e),this.pythonExecutionService.getExecutablePath()}}getExecutionInfo(e){return this.pythonExecutionService.getExecutionInfo(e)}async isModuleInstalled(e){try{this.throwIfRPCConnectionIsDead();const t=new r.RequestType("is_module_installed"),n=await this.sendRequest(t,{module_name:e});if(n.error)throw new l(n.error);return n.exists}catch(t){return s.traceWarning("Falling back to Python Execution Service due to failure in daemon",t),this.pythonExecutionService.isModuleInstalled(e)}}execObservable(e,t){if(!this.isAlive||!this.canExecFileUsingDaemon(e,t))return this.pythonExecutionService.execObservable(e,t);try{return this.execAsObservable({fileName:e[0]},e.slice(1),t)}catch(n){if(n instanceof l||n instanceof c)return s.traceWarning("Falling back to Python Execution Service due to failure in daemon",n),this.pythonExecutionService.execObservable(e,t);throw n}}execModuleObservable(e,t,n){if(!this.isAlive||!this.canExecModuleUsingDaemon(e,t,n))return this.pythonExecutionService.execModuleObservable(e,t,n);try{return this.execAsObservable({moduleName:e},t,n)}catch(r){if(r instanceof l||r instanceof c)return s.traceWarning("Falling back to Python Execution Service due to failure in daemon",r),this.pythonExecutionService.execModuleObservable(e,t,n);throw r}}}t.PythonDaemonExecutionService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SMOKE_TEST_EXTENSIONS_DIR=t.JVSC_EXTENSION_ID_FOR_TESTS=t.EXTENSION_ROOT_DIR_FOR_TESTS=t.TEST_DEBUGGER=t.IS_CONDA_TEST=t.IS_MULTI_ROOT_TEST=t.IS_WEBVIEW_BUILD_SKIPPED=t.IS_NON_RAW_NATIVE_TEST=t.IS_REMOTE_NATIVE_TEST=t.IS_PERF_TEST=t.IS_SMOKE_TEST=t.TEST_RETRYCOUNT=t.TEST_TIMEOUT=t.MAX_EXTENSION_ACTIVATION_TIME=void 0;const r=n(6),i=n(1085);t.MAX_EXTENSION_ACTIVATION_TIME=18e4,t.TEST_TIMEOUT=25e3,t.TEST_RETRYCOUNT=0,t.IS_SMOKE_TEST="1"===process.env.VSC_JUPYTER_SMOKE_TEST,t.IS_PERF_TEST="1"===process.env.VSC_JUPYTER_PERF_TEST,t.IS_REMOTE_NATIVE_TEST="true"===(process.env.VSC_JUPYTER_REMOTE_NATIVE_TEST||"").toLowerCase(),t.IS_NON_RAW_NATIVE_TEST="true"===(process.env.VSC_JUPYTER_NON_RAW_NATIVE_TEST||"").toLowerCase(),t.IS_WEBVIEW_BUILD_SKIPPED="true"===(process.env.VSC_JUPYTER_SKIP_WEBVIEW_BUILD||"").toLowerCase(),t.IS_MULTI_ROOT_TEST=function(){if(t.IS_SMOKE_TEST||t.IS_PERF_TEST)return!1;try{const e=n(1).workspace;return Array.isArray(e.workspaceFolders)&&e.workspaceFolders.length>1}catch(e){return!1}}(),t.IS_CONDA_TEST="true"===(process.env.VSC_JUPYTER_CI_IS_CONDA||"").toLowerCase(),t.TEST_DEBUGGER=!i.IS_CI_SERVER||i.IS_CI_SERVER_TEST_DEBUGGER,t.EXTENSION_ROOT_DIR_FOR_TESTS=r.join(__dirname,"..",".."),t.JVSC_EXTENSION_ID_FOR_TESTS="ms-toolsai.jupyter",t.SMOKE_TEST_EXTENSIONS_DIR=r.join(t.EXTENSION_ROOT_DIR_FOR_TESTS,"tmp","ext","smokeTestExtensionsFolder")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);class i{constructor(e,t,n){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=n}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case o.ApplicationVersion:return i.trimVersionSuffix(r.version);case o.Build:return r.env.appName;case o.ClientId:return r.env.machineId;case o.ExtensionName:return this.extensionName;case o.ExtensionVersion:return i.trimVersionSuffix(this.extensionVersion);case o.Language:return r.env.language;case o.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(o);for(let n of t)e.set(n,this.getFilterValue(n));return e}}var o;t.VSCodeFilterProvider=i,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(o=t.Filters||(t.Filters={})),function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"}(t.TargetPopulation||(t.TargetPopulation={}))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(64),i=n(1108),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=n(1109):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=n(1115)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c},function(e,t,n){"use strict";var r=n(315);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(1111),i=n(1112);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){var r=n(31),i=r.URL,o=n(48),s=n(58),a=n(17).Writable,c=n(109),l=n(1116),u=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){u[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var d=S("ERR_FR_REDIRECTION_FAILURE",""),h=S("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=S("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),f=S("ERR_STREAM_WRITE_AFTER_END","write after end");function m(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function g(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit("timeout")}),t)}function v(){clearTimeout(this._timeout)}function y(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(o){var s=o+":",a=n[s]=e[o],u=t[o]=Object.create(a);Object.defineProperties(u,{request:{value:function(e,o,a){if("string"==typeof e){var u=e;try{e=_(new i(u))}catch(t){e=r.parse(u)}}else i&&e instanceof i?e=_(e):(a=o,o=e,e={protocol:s});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,o)).nativeProtocols=n,c.equal(o.protocol,s,"protocol mismatch"),l("options",o),new m(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var r=u.request(e,t,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),t}function b(){}function _(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n}function S(e,t){function n(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n.prototype.code=e,n}m.prototype=Object.create(a.prototype),m.prototype.write=function(e,t,n){if(this._ending)throw new f;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new p),this.abort()):n&&n()},m.prototype.end=function(e,t,n){if("function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null),e){var r=this,i=this._currentRequest;this.write(e,t,(function(){r._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},m.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},m.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},m.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)g(this,e);else{var n=this;this._currentRequest.once("socket",(function(){g(n,e)}))}return this.once("response",v),this.once("error",v),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){m.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(m.prototype,e,{get:function(){return this._currentRequest[e]}})})),m.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},m.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.substr(0,e.length-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=r.format(this._options),i._redirectable=this,u)o&&i.on(o,u[o]);if(this._isRedirect){var s=0,a=this,c=this._requestBodyBuffers;!function e(t){if(i===a._currentRequest)if(t)a.emit("error",t);else if(s<c.length){var n=c[s++];i.finished||i.write(n.data,n.encoding,e)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},m.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(n&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",b),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var i=w(/^host$/i,this._options.headers)||r.parse(this._currentUrl).hostname,o=r.resolve(this._currentUrl,n);l("redirecting to",o),this._isRedirect=!0;var s=r.parse(o);if(Object.assign(this._options,s),s.hostname!==i&&w(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var c=new d("Redirected request failed: "+e.message);c.cause=e,this.emit("error",c)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=y({http:o,https:s}),e.exports.wrap=y},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n})),t.formatArgs.call(e,s);var l=n.log||t.log||console.log.bind(console);l.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1119),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";var r=n(64);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(o,l),r.forEach(s,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var u=i.concat(o).concat(s).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,l),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Experiments=void 0,function(e){e.EnhancedTooltips="jupyterEnhancedTensorTooltips"}(t.Experiments||(t.Experiments={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserService=t.launch=void 0;const i=n(0),o=n(1);function s(e){o.env.openExternal(o.Uri.parse(e))}t.launch=s;let a=class{launch(e){s(e)}};a=r([i.injectable()],a),t.BrowserService=a},function(e,t,n){"use strict";const r=n(28).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return r?e.replace(/^~(?=$|\/|\\)/,r):e}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelLauncher=void 0;const s=n(97),a=n(0),c=n(28),l=n(6),u=n(1141),d=n(18),h=n(41),p=n(26),f=n(14),m=n(4),g=n(16),v=n(39),y=n(3),b=n(5),_=n(13),w=n(236),S=n(318),E=n(1150),x=n(37),C=n(55),k=n(8),D="kernelLauncherPortStart_{0}.tmp";let T=r=class{constructor(e,t,n,r,i,o,s){this.processExecutionFactory=e,this.fs=t,this.daemonPool=n,this.extensionChecker=r,this.kernelEnvVarsService=i,this.kernelDependencyService=o,this.disposables=s}static get usedPorts(){return Array.from(r._usedPorts)}static async cleanupStartPort(){try{const e=await r.startPortPromise;m.traceInfo("Cleaning up port start file : "+e);const t=l.join(c.tmpdir(),D.format(e.toString()));await s.remove(t)}catch(e){m.traceInfo("Kernel port mutex failed to cleanup: ",e)}}static async computeStartPort(){if(f.isTestExecution()){let e=9e3,t=0;for(;0===t&&e<65e3;)try{const n=l.join(c.tmpdir(),D.format(e.toString()));await s.open(n,"wx"),t=e}catch(t){e+=1e3}return m.traceInfo("Computed port start for KernelLauncher is : "+t),t}return 9e3}async launch(e,t,n,r,i,o){const s=(async()=>(e.interpreter&&await this.kernelDependencyService.installMissingDependencies(n,e.interpreter,i,o),await this.launchProcess(e,n,r,t,i)))();return C.sendKernelTelemetryWhenDone(n,b.Telemetry.KernelLauncherPerf,s),s}async launchProcess(e,t,n,i,o){const s=await this.getKernelConnection(e),a=new E.KernelProcess(this.processExecutionFactory,this.daemonPool,s,e,this.fs,t,this.extensionChecker,this.kernelEnvVarsService);if(await a.launch(n,i,o),a.exited(({exitCode:e,reason:t})=>{k.sendTelemetryEvent(b.Telemetry.RawKernelSessionKernelProcessExited,void 0,{reason:t,exitCode:e}),r._usedPorts.delete(s.control_port),r._usedPorts.delete(s.hb_port),r._usedPorts.delete(s.iopub_port),r._usedPorts.delete(s.shell_port),r._usedPorts.delete(s.stdin_port)},this,this.disposables),null==o?void 0:o.isCancellationRequested)throw await a.dispose(),new x.CancellationError;return a}async chainGetConnectionPorts(){return this.portChain&&await this.portChain,this.portChain=this.getConnectionPorts(),this.portChain}static async findNextFreePort(e){const t=await r.getPorts(5,{host:"127.0.0.1",port:e});if(t.some(e=>r._usedPorts.has(e))){const e=Math.max(...r._usedPorts,...t);return r.findNextFreePort(e)}return t.forEach(e=>r._usedPorts.add(e)),t}async getConnectionPorts(){const e=await r.startPortPromise,t=await r.findNextFreePort(e);return m.traceInfo(`Kernel launching with ports ${t.toString()}. Start port is ${e}`),t}async getKernelConnection(e){var t;const n=await this.chainGetConnectionPorts();return{key:h(),signature_scheme:"hmac-sha256",transport:"tcp",ip:"127.0.0.1",hb_port:n[0],control_port:n[1],shell_port:n[2],stdin_port:n[3],iopub_port:n[4],kernel_name:(null===(t=e.kernelSpec)||void 0===t?void 0:t.name)||"python"}}};T.startPortPromise=r.computeStartPort(),T._usedPorts=new Set,T.getPorts=d.promisify(u.getPorts),T=r=i([a.injectable(),o(0,a.inject(v.IProcessServiceFactory)),o(1,a.inject(g.IFileSystem)),o(2,a.inject(w.KernelDaemonPool)),o(3,a.inject(p.IPythonExtensionChecker)),o(4,a.inject(S.KernelEnvironmentVariablesService)),o(5,a.inject(_.IKernelDependencyService)),o(6,a.inject(y.IDisposableRegistry))],T),t.KernelLauncher=T},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=s,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var l=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;l++;var i=r.formatters[n];if("function"==typeof i){var s=t[l];e=i.call(o,s),t.splice(l,1),l--}return e})),r.formatArgs.call(o,t);var u=o.log||r.log;u.apply(o,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(204),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){"use strict";const r=n(28),i=n(1146),o=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e);(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(204),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IProtocolParser=void 0,t.IProtocolParser=Symbol("IProtocolParser")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveEditorContextService=void 0;const o=n(0),s=n(131),a=n(7),c=n(14),l=n(132),u=n(4),d=n(3),h=n(9),p=n(5),f=n(24),m=n(13);let g=class{constructor(e,t,n,r,i,o){this.interactiveProvider=e,this.docManager=t,this.commandManager=n,this.notebookProvider=i,this.vscNotebook=o,this.disposables=[],this.isPythonFileActive=!1,r.push(this),this.nativeContext=new l.ContextKey(p.EditorContexts.IsNativeActive,this.commandManager),this.canRestartNotebookKernelContext=new l.ContextKey(p.EditorContexts.CanRestartNotebookKernel,this.commandManager),this.canInterruptNotebookKernelContext=new l.ContextKey(p.EditorContexts.CanInterruptNotebookKernel,this.commandManager),this.interactiveContext=new l.ContextKey(p.EditorContexts.IsInteractiveActive,this.commandManager),this.interactiveOrNativeContext=new l.ContextKey(p.EditorContexts.IsInteractiveOrNativeActive,this.commandManager),this.pythonOrNativeContext=new l.ContextKey(p.EditorContexts.IsPythonOrNativeActive,this.commandManager),this.pythonOrInteractiveContext=new l.ContextKey(p.EditorContexts.IsPythonOrInteractiveActive,this.commandManager),this.pythonOrInteractiveOrNativeContext=new l.ContextKey(p.EditorContexts.IsPythonOrInteractiveOrNativeActive,this.commandManager),this.hasNativeNotebookCells=new l.ContextKey(p.EditorContexts.HaveNativeCells,this.commandManager),this.isPythonNotebook=new l.ContextKey(p.EditorContexts.IsPythonNotebook,this.commandManager),this.hasNativeNotebookOpen=new l.ContextKey(p.EditorContexts.HasNativeNotebookOpen,this.commandManager)}dispose(){this.disposables.forEach(e=>e.dispose())}async activate(){var e;this.docManager.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor,this,this.disposables),this.notebookProvider.onSessionStatusChanged(this.onDidKernelStatusChange,this,this.disposables),this.interactiveProvider.onDidChangeActiveInteractiveWindow(this.onDidChangeActiveInteractiveWindow,this,this.disposables),this.vscNotebook.activeNotebookEditor&&this.onDidChangeActiveNotebookEditor(this.vscNotebook.activeNotebookEditor),this.vscNotebook.onDidChangeActiveNotebookEditor(this.onDidChangeActiveNotebookEditor,this,this.disposables),(null===(e=this.docManager.activeTextEditor)||void 0===e?void 0:e.document.languageId)===c.PYTHON_LANGUAGE&&this.onDidChangeActiveTextEditor(this.docManager.activeTextEditor),this.vscNotebook.onDidChangeNotebookEditorSelection(this.updateNativeNotebookContext,this,this.disposables),this.vscNotebook.onDidCloseNotebookDocument(this.updateNativeNotebookContext,this,this.disposables)}updateNativeNotebookCellContext(){var e;const t=((null===(e=this.vscNotebook.activeNotebookEditor)||void 0===e?void 0:e.document.cellCount)||0)>0;this.hasNativeNotebookCells.set(t).ignoreErrors()}onDidChangeActiveInteractiveWindow(e){this.interactiveContext.set(!!e).ignoreErrors(),this.updateMergedContexts()}onDidChangeActiveNotebookEditor(e){const t=!!e&&f.isJupyterNotebook(e.document);this.nativeContext.set(t).ignoreErrors(),this.isPythonNotebook.set(!(!e||!t)&&f.isPythonNotebook(f.getNotebookMetadata(e.document))).ignoreErrors(),this.updateContextOfActiveNotebookKernel(e),this.updateNativeNotebookContext(),this.updateNativeNotebookCellContext(),this.updateMergedContexts()}updateNativeNotebookContext(){this.hasNativeNotebookOpen.set(this.vscNotebook.notebookDocuments.some(f.isJupyterNotebook)).ignoreErrors()}updateContextOfActiveNotebookKernel(e){e&&f.isJupyterNotebook(e.document)?this.notebookProvider.getOrCreateNotebook({identity:e.document.uri,resource:e.document.uri,getOnly:!0}).then(async t=>{if(e===this.vscNotebook.activeNotebookEditor){const e=t&&t.status!==s.ServerStatus.NotStarted;this.canRestartNotebookKernelContext.set(!!e).ignoreErrors();const n=t&&t.status===s.ServerStatus.Busy;this.canInterruptNotebookKernelContext.set(!!n).ignoreErrors()}}).catch(u.traceError.bind(void 0,"Failed to determine if a notebook is active for the current editor")):(this.canRestartNotebookKernelContext.set(!1).ignoreErrors(),this.canInterruptNotebookKernelContext.set(!1).ignoreErrors())}onDidKernelStatusChange({notebook:e}){const t=this.vscNotebook.activeNotebookEditor;t&&t.document.uri.toString()===e.identity.toString()&&this.updateContextOfActiveNotebookKernel(t)}onDidChangeActiveTextEditor(e){this.isPythonFileActive=(null==e?void 0:e.document.languageId)===c.PYTHON_LANGUAGE&&!h.isNotebookCell(e.document.uri),this.updateNativeNotebookCellContext(),this.updateMergedContexts()}updateMergedContexts(){this.interactiveOrNativeContext.set(!0===this.nativeContext.value&&!0===this.interactiveContext.value).ignoreErrors(),this.pythonOrNativeContext.set(!0===this.nativeContext.value||!0===this.isPythonFileActive).ignoreErrors(),this.pythonOrInteractiveContext.set(!0===this.interactiveContext.value||!0===this.isPythonFileActive).ignoreErrors(),this.pythonOrInteractiveOrNativeContext.set(!0===this.nativeContext.value||!0===this.interactiveContext.value&&!0===this.isPythonFileActive).ignoreErrors()}};g=r([o.injectable(),i(0,o.inject(m.IInteractiveWindowProvider)),i(1,o.inject(a.IDocumentManager)),i(2,o.inject(a.ICommandManager)),i(3,o.inject(d.IDisposableRegistry)),i(4,o.inject(m.INotebookProvider)),i(5,o.inject(a.IVSCodeNotebook))],g),t.ActiveEditorContextService=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInterpreterOldCacheStateStore=void 0;const o=n(0),s=n(7),a=n(3);let c=class{constructor(e,t){this.workspace=e;const n=t.createWorkspacePersistentState("DS-VSC-JupyterInterpreter"),r=t.createGlobalPersistentState("DS-VSC-JupyterInterpreter");this.workspaceJupyterInterpreter={state:n},this.globalJupyterInterpreter={state:r}}get cacheStore(){return this.workspace.hasWorkspaceFolders?this.workspaceJupyterInterpreter:this.globalJupyterInterpreter}getCachedInterpreterPath(){return this.cacheStore.state.value}async clearCache(){await this.cacheStore.state.updateValue(void 0)}};c=r([o.injectable(),i(0,o.inject(s.IWorkspaceService)),i(1,o.inject(a.IPersistentStateFactory))],c),t.JupyterInterpreterOldCacheStateStore=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInterpreterSelector=void 0;const o=n(0),s=n(7),a=n(37),c=n(3),l=n(10),u=n(447),d=n(321);let h=class{constructor(e,t,n,r,i){this.interpreterSelector=e,this.applicationShell=t,this.interpreterSelectionState=n,this.workspace=r,this.pathUtils=i}async selectInterpreter(e){const t=this.workspace.getWorkspaceFolder(void 0),n=this.interpreterSelectionState.selectedPythonPath?this.pathUtils.getDisplayName(this.interpreterSelectionState.selectedPythonPath,null==t?void 0:t.uri.fsPath):void 0,r=await this.interpreterSelector.getSuggestions(void 0);if(a.Cancellation.isCanceled(e))return;const i={matchOnDetail:!0,matchOnDescription:!0,placeHolder:n?l.DataScience.currentlySelectedJupyterInterpreterForPlaceholder().format(n):""},o=await this.applicationShell.showQuickPick(r,i);return o?o.interpreter:void 0}};h=r([o.injectable(),i(0,o.inject(u.IInterpreterSelector)),i(1,o.inject(s.IApplicationShell)),i(2,o.inject(d.JupyterInterpreterStateStore)),i(3,o.inject(s.IWorkspaceService)),i(4,o.inject(c.IPathUtils))],h),t.JupyterInterpreterSelector=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDaemonPreWarmer=void 0;const o=n(0),s=n(26),a=n(7);n(15);const c=n(3),l=n(85),u=n(13),d=n(236);let h=class{constructor(e,t,n,r,i,o,s,a,c){this.notebookEditorProvider=e,this.interactiveProvider=t,this.disposables=n,this.usageTracker=r,this.kernelDaemonPool=i,this.rawNotebookSupported=o,this.configService=s,this.vscodeNotebook=a,this.extensionChecker=c}async activate(e){this.rawNotebookSupported.supported()&&!this.configService.getSettings().disableJupyterAutoStart&&this.extensionChecker.isPythonExtensionInstalled&&(this.disposables.push(this.interactiveProvider.onDidChangeActiveInteractiveWindow(this.preWarmKernelDaemonPool,this)),this.disposables.push(this.vscodeNotebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this)),this.extensionChecker.isPythonExtensionActive&&(this.notebookEditorProvider.editors.length>0||this.interactiveProvider.windows.length>0)&&await this.preWarmKernelDaemonPool(),await this.preWarmDaemonPoolIfNecessary())}async preWarmDaemonPoolIfNecessary(){this.shouldPreWarmDaemonPool(this.usageTracker.lastPythonNotebookCreated)&&this.extensionChecker.isPythonExtensionActive&&await this.preWarmKernelDaemonPool()}async preWarmKernelDaemonPool(){await this.kernelDaemonPool.preWarmKernelDaemons()}async onDidOpenNotebookDocument(e){}shouldPreWarmDaemonPool(e){if(!e)return!1;const t=(new Date).getTime()-e.getTime();return Math.floor(t/864e5)<=7}};r([l.swallowExceptions("PreWarmKernelDaemon")],h.prototype,"preWarmKernelDaemonPool",null),h=r([o.injectable(),i(0,o.inject(u.INotebookEditorProvider)),i(1,o.inject(u.IInteractiveWindowProvider)),i(2,o.inject(c.IDisposableRegistry)),i(3,o.inject(u.INotebookCreationTracker)),i(4,o.inject(d.KernelDaemonPool)),i(5,o.inject(u.IRawNotebookSupportedService)),i(6,o.inject(c.IConfigurationService)),i(7,o.inject(a.IVSCodeNotebook)),i(8,o.inject(s.IPythonExtensionChecker))],h),t.KernelDaemonPreWarmer=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterCommandLineSelectorCommand=void 0;const o=n(0),s=n(7),a=n(5),c=n(486);let l=class{constructor(e,t){this.commandManager=e,this.commandSelector=t,this.disposables=[]}register(){this.disposables.push(this.commandManager.registerCommand(a.Commands.SelectJupyterCommandLine,this.commandSelector.selectJupyterCommandLine,this.commandSelector))}dispose(){this.disposables.forEach(e=>e.dispose())}};l=r([o.injectable(),i(0,o.inject(s.ICommandManager)),i(1,o.inject(c.JupyterCommandLineSelector))],l),t.JupyterCommandLineSelectorCommand=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterCommandLineSelector=void 0;const o=n(0),s=n(1172),a=n(1),c=n(7),l=n(3),u=n(10),d=n(235),h=n(8),p=n(5);let f=class{constructor(e,t,n,r,i){this.multiStepFactory=e,this.configuration=t,this.appShell=r,this.commandManager=i,this.defaultLabel="$(zap) "+u.DataScience.jupyterCommandLineDefaultLabel(),this.customLabel="$(gear) "+u.DataScience.jupyterCommandLineCustomLabel(),this.validate=async e=>{},n.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))}selectJupyterCommandLine(e){return this.multiStepFactory.create().run(this.startSelectingCommandLine.bind(this,e),{})}async onDidChangeConfiguration(e){if(e.affectsConfiguration("jupyter.jupyterCommandLineArguments")){const e=u.DataScience.jupyterCommandLineReloadAnswer();await this.appShell.showInformationMessage(u.DataScience.jupyterCommandLineReloadQuestion(),e)===e&&this.commandManager.executeCommand("workbench.action.reloadWindow")}}async startSelectingCommandLine(e,t,n){if((await t.showQuickPick({placeholder:u.DataScience.jupyterCommandLineQuickPickPlaceholder(),items:this.getPickList(),title:u.DataScience.jupyterCommandLineQuickPickTitle()})).label!==this.defaultLabel)return this.selectCustomCommandLine.bind(this,e);await this.setJupyterCommandLine("")}async selectCustomCommandLine(e,t,n){const r=await t.showInputBox({title:u.DataScience.jupyterCommandLinePrompt(),value:this.configuration.getSettings(e).jupyterCommandLineArguments.join(" "),validate:this.validate,prompt:""});r&&await this.setJupyterCommandLine(r)}async setJupyterCommandLine(e){e&&h.sendTelemetryEvent(p.Telemetry.JupyterCommandLineNonDefault);const t=s.default(e);await this.configuration.updateSetting("jupyterCommandLineArguments",t,void 0,a.ConfigurationTarget.Workspace)}getPickList(){const e=[];return e.push({label:this.defaultLabel,detail:u.DataScience.jupyterCommandLineDefaultDetail()}),e.push({label:this.customLabel,detail:u.DataScience.jupyterCommandLineCustomDetail()}),e}};r([h.captureTelemetry(p.Telemetry.SelectJupyterURI)],f.prototype,"selectJupyterCommandLine",null),f=r([o.injectable(),i(0,o.inject(d.IMultiStepInputFactory)),i(1,o.inject(l.IConfigurationService)),i(2,o.inject(c.IWorkspaceService)),i(3,o.inject(c.IApplicationShell)),i(4,o.inject(c.ICommandManager))],f),t.JupyterCommandLineSelector=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRegistry=void 0;const o=n(0),s=n(1),a=n(7),c=n(4),l=n(16),u=n(3),d=n(10),h=n(9),p=n(125),f=n(8),m=n(86),g=n(5),v=n(112),y=n(488),b=n(489),_=n(491),w=n(13),S=n(485),E=n(493),x=n(495),C=n(496);let k=class{constructor(e,t,n,r,i,o,s,a,c,l,u,d,h,p,f,m,g,v,b){this.documentManager=e,this.dataScienceCodeLensProvider=t,this.commandListeners=n,this.commandManager=r,this.serverSelectedCommand=i,this.notebookCommands=o,this.commandLineCommand=s,this.debugService=a,this.configService=c,this.appShell=l,this.jupyterOutput=u,this.exportCommand=d,this.fs=h,this.jupyterVariableDataProviderFactory=p,this.dataViewerFactory=f,this.serverUriStorage=m,this.variableProvider=g,this.nativeNotebookCreator=v,this.workspace=b,this.disposables=[],this.disposables.push(this.serverSelectedCommand),this.disposables.push(this.notebookCommands),this.dataViewerChecker=new y.DataViewerChecker(c,l),this.workspace.isTrusted||this.workspace.onDidGrantWorkspaceTrust(this.registerCommandsIfTrusted,this,this.disposables)}register(){this.registerCommandsIfTrusted(),this.registerCommand(g.Commands.InsertCellBelowPosition,this.insertCellBelowPosition),this.registerCommand(g.Commands.InsertCellBelow,this.insertCellBelow),this.registerCommand(g.Commands.InsertCellAbove,this.insertCellAbove),this.registerCommand(g.Commands.DeleteCells,this.deleteCells),this.registerCommand(g.Commands.SelectCell,this.selectCell),this.registerCommand(g.Commands.SelectCellContents,this.selectCellContents),this.registerCommand(g.Commands.ExtendSelectionByCellAbove,this.extendSelectionByCellAbove),this.registerCommand(g.Commands.ExtendSelectionByCellBelow,this.extendSelectionByCellBelow),this.registerCommand(g.Commands.MoveCellsUp,this.moveCellsUp),this.registerCommand(g.Commands.MoveCellsDown,this.moveCellsDown),this.registerCommand(g.Commands.ChangeCellToMarkdown,this.changeCellToMarkdown),this.registerCommand(g.Commands.ChangeCellToCode,this.changeCellToCode),this.registerCommand(g.Commands.GotoNextCellInFile,this.gotoNextCellInFile),this.registerCommand(g.Commands.GotoPrevCellInFile,this.gotoPrevCellInFile),this.registerCommand(g.Commands.AddCellBelow,this.addCellBelow),this.registerCommand(g.Commands.CreateNewNotebook,this.createNewNotebook),this.registerCommand(g.Commands.ViewJupyterOutput,this.viewJupyterOutput),this.registerCommand(g.Commands.LatestExtension,this.openPythonExtensionPage),this.registerCommand(g.Commands.EnableDebugLogging,this.enableDebugLogging),this.registerCommand(g.Commands.ResetLoggingLevel,this.resetLoggingLevel),this.registerCommand(g.Commands.EnableLoadingWidgetsFrom3rdPartySource,this.enableLoadingWidgetScriptsFromThirdParty),this.registerCommand(g.Commands.ClearSavedJupyterUris,this.clearJupyterUris),this.commandListeners&&this.commandListeners.forEach(e=>{e.register(this.commandManager)})}dispose(){this.disposables.forEach(e=>e.dispose())}registerCommandsIfTrusted(){this.workspace.isTrusted&&(this.commandLineCommand.register(),this.serverSelectedCommand.register(),this.notebookCommands.register(),this.exportCommand.register(),this.registerCommand(g.Commands.RunAllCells,this.runAllCells),this.registerCommand(g.Commands.RunCell,this.runCell),this.registerCommand(g.Commands.RunCurrentCell,this.runCurrentCell),this.registerCommand(g.Commands.RunCurrentCellAdvance,this.runCurrentCellAndAdvance),this.registerCommand(g.Commands.ExecSelectionInInteractiveWindow,e=>{this.runSelectionOrLine(e)}),this.registerCommand(g.Commands.RunAllCellsAbove,this.runAllCellsAbove),this.registerCommand(g.Commands.RunCellAndAllBelow,this.runCellAndAllBelow),this.registerCommand(g.Commands.RunAllCellsAbovePalette,this.runAllCellsAboveFromCursor),this.registerCommand(g.Commands.RunCellAndAllBelowPalette,this.runCellAndAllBelowFromCursor),this.registerCommand(g.Commands.RunCurrentCellAndAddBelow,this.runCurrentCellAndAddBelow),this.registerCommand(g.Commands.DebugCell,this.debugCell),this.registerCommand(g.Commands.DebugStepOver,this.debugStepOver),this.registerCommand(g.Commands.DebugContinue,this.debugContinue),this.registerCommand(g.Commands.DebugStop,this.debugStop),this.registerCommand(g.Commands.DebugCurrentCellPalette,this.debugCurrentCellFromCursor),this.registerCommand(g.Commands.OpenVariableView,this.openVariableView),this.registerCommand(g.Commands.ShowDataViewer,this.onVariablePanelShowDataViewerRequest),this.registerCommand(g.Commands.RunToLine,this.runToLine),this.registerCommand(g.Commands.RunFromLine,this.runFromLine),this.registerCommand(g.Commands.RunFileInInteractiveWindows,this.runFileInteractive),this.registerCommand(g.Commands.DebugFileInInteractiveWindows,this.debugFileInteractive))}registerCommand(e,t){const n=this.commandManager.registerCommand(e,t,this);this.disposables.push(n)}getCodeWatcher(e){if(e){const t=this.documentManager.textDocuments.filter(t=>this.fs.arePathsSame(t.uri,e));if(t&&1===t.length)return this.dataScienceCodeLensProvider.getCodeWatcher(t[0]);if(t&&t.length>1)throw new Error(d.DataScience.documentMismatch().format(e.fsPath))}}async enableDebugLogging(){this.configService.getSettings().logging.level!==p.LogLevel.Debug&&(await this.configService.updateSetting("logging.level","debug",void 0,s.ConfigurationTarget.Global),this.commandManager.executeCommand("jupyter.reloadVSCode",d.DataScience.reloadRequired()).then(h.noop,h.noop))}async resetLoggingLevel(){this.configService.getSettings().logging.level!==p.LogLevel.Error&&(await this.configService.updateSetting("logging.level","error",void 0,s.ConfigurationTarget.Global),this.commandManager.executeCommand("jupyter.reloadVSCode",d.DataScience.reloadRequired()).then(h.noop,h.noop))}enableLoadingWidgetScriptsFromThirdParty(){this.configService.getSettings(void 0).widgetScriptSources.length>0||this.configService.updateSetting("widgetScriptSources",["jsdelivr.com","unpkg.com"],void 0,s.ConfigurationTarget.Global).then(()=>{this.appShell.showInformationMessage(d.DataScience.loadThirdPartyWidgetScriptsPostEnabled()).then(h.noop,h.noop)}).catch(h.noop)}async clearJupyterUris(){return this.serverUriStorage.clearUriList()}async runAllCells(e){let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.runAllCells():void 0}async runFileInteractive(e){let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.runFileInteractive():void 0}async debugFileInteractive(e){let t=this.getCodeWatcher(e);return t||(t=this.getCurrentCodeWatcher()),t?t.debugFileInteractive():void 0}async runCell(e,t,n,r,i){const o=this.getCodeWatcher(e);if(o)return o.runCell(new s.Range(t,n,r,i))}async runAllCellsAbove(e,t,n){if(e){const r=this.getCodeWatcher(e);if(r)return r.runAllCellsAbove(t,n)}}async runCellAndAllBelow(e,t,n){if(e){const r=this.getCodeWatcher(e);if(r)return r.runCellAndAllBelow(t,n)}}async runToLine(){const e=this.getCurrentCodeWatcher(),t=this.documentManager.activeTextEditor;if(e&&t&&t.selection)return e.runToLine(t.selection.start.line)}async runFromLine(){const e=this.getCurrentCodeWatcher(),t=this.documentManager.activeTextEditor;if(e&&t&&t.selection)return e.runFromLine(t.selection.start.line)}async runCurrentCell(){const e=this.getCurrentCodeWatcher();return e?e.runCurrentCell():void 0}async runCurrentCellAndAdvance(){const e=this.getCurrentCodeWatcher();return e?e.runCurrentCellAndAdvance():void 0}async runSelectionOrLine(e){const t=this.getCurrentCodeWatcher();return t?t.runSelectionOrLine(this.documentManager.activeTextEditor,h.isUri(e)?void 0:e):void 0}async debugCell(e,t,n,r,i){if(e){const o=this.getCodeWatcher(e);if(o)return o.debugCell(new s.Range(t,n,r,i))}}async debugStepOver(){this.debugService.activeDebugSession&&this.commandManager.executeCommand("workbench.action.debug.stepOver")}async debugStop(){this.debugService.activeDebugSession&&this.commandManager.executeCommand("workbench.action.debug.stop")}async debugContinue(){this.debugService.activeDebugSession&&this.commandManager.executeCommand("workbench.action.debug.continue")}async addCellBelow(){var e;await(null===(e=this.getCurrentCodeWatcher())||void 0===e?void 0:e.addEmptyCellToBottom())}async runCurrentCellAndAddBelow(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.runCurrentCellAndAddBelow()}async insertCellBelowPosition(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.insertCellBelowPosition()}async insertCellBelow(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.insertCellBelow()}async insertCellAbove(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.insertCellAbove()}async deleteCells(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.deleteCells()}async selectCell(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.selectCell()}async selectCellContents(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.selectCellContents()}async extendSelectionByCellAbove(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.extendSelectionByCellAbove()}async extendSelectionByCellBelow(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.extendSelectionByCellBelow()}async moveCellsUp(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.moveCellsUp()}async moveCellsDown(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.moveCellsDown()}async changeCellToMarkdown(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.changeCellToMarkdown()}async changeCellToCode(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.changeCellToCode()}async gotoNextCellInFile(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.gotoNextCell()}async gotoPrevCellInFile(){var e;null===(e=this.getCurrentCodeWatcher())||void 0===e||e.gotoPreviousCell()}async runAllCellsAboveFromCursor(){const e=this.getCurrentCodeLens();if(e){const t=this.getCurrentCodeWatcher();if(t)return t.runAllCellsAbove(e.range.start.line,e.range.start.character)}}async runCellAndAllBelowFromCursor(){const e=this.getCurrentCodeLens();if(e){const t=this.getCurrentCodeWatcher();if(t)return t.runCellAndAllBelow(e.range.start.line,e.range.start.character)}}async debugCurrentCellFromCursor(){if(this.getCurrentCodeLens()){const e=this.getCurrentCodeWatcher();if(e)return e.debugCurrentCell()}}async createNewNotebook(){await this.nativeNotebookCreator.createNewNotebook()}viewJupyterOutput(){this.jupyterOutput.show(!0)}getCurrentCodeLens(){const e=this.documentManager.activeTextEditor,t=this.getCurrentCodeWatcher();if(e&&t)return t.getCodeLenses().find(t=>t.range.end.line>=e.selection.anchor.line&&t.range.start.line<=e.selection.anchor.line)}getCurrentCodeWatcher(){const e=this.documentManager.activeTextEditor;if(e&&e.document)return this.dataScienceCodeLensProvider.getCodeWatcher(e.document)}openPythonExtensionPage(){s.env.openExternal(s.Uri.parse("https://marketplace.visualstudio.com/items?itemName=ms-toolsai.jupyter"))}async openVariableView(){return this.commandManager.executeCommand("jupyterViewVariables.focus")}async onVariablePanelShowDataViewerRequest(e){var t;if(f.sendTelemetryEvent(m.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_REQUEST),this.debugService.activeDebugSession)try{const n=b.convertDebugProtocolVariableToIJupyterVariable(e.variable),r=await this.variableProvider.getFullVariable(n),i=await this.jupyterVariableDataProviderFactory.create(r),o=await i.getDataFrameInfo(),s=null===(t=null==o?void 0:o.columns)||void 0===t?void 0:t.length;if(s&&await this.dataViewerChecker.isRequestedColumnSizeAllowed(s)){const e=`${d.DataScience.dataExplorerTitle()} - ${r.name}`;await this.dataViewerFactory.create(i,e),f.sendTelemetryEvent(m.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_SUCCESS)}}catch(e){f.sendTelemetryEvent(m.EventName.OPEN_DATAVIEWER_FROM_VARIABLE_WINDOW_ERROR,void 0,void 0,e),c.traceError(e),this.appShell.showErrorMessage(e.toString())}}};r([f.captureTelemetry(g.Telemetry.DebugStepOver)],k.prototype,"debugStepOver",null),r([f.captureTelemetry(g.Telemetry.DebugStop)],k.prototype,"debugStop",null),r([f.captureTelemetry(g.Telemetry.DebugContinue)],k.prototype,"debugContinue",null),r([f.captureTelemetry(g.Telemetry.AddCellBelow)],k.prototype,"addCellBelow",null),k=r([o.injectable(),i(0,o.inject(a.IDocumentManager)),i(1,o.inject(w.IDataScienceCodeLensProvider)),i(2,o.multiInject(w.IDataScienceCommandListener)),i(2,o.optional()),i(3,o.inject(a.ICommandManager)),i(4,o.inject(C.JupyterServerSelectorCommand)),i(5,o.inject(x.NotebookCommands)),i(6,o.inject(S.JupyterCommandLineSelectorCommand)),i(7,o.inject(a.IDebugService)),i(8,o.inject(u.IConfigurationService)),i(9,o.inject(a.IApplicationShell)),i(10,o.inject(u.IOutputChannel)),i(10,o.named(g.JUPYTER_OUTPUT_CHANNEL)),i(11,o.inject(E.ExportCommands)),i(12,o.inject(l.IFileSystem)),i(13,o.inject(w.IJupyterVariableDataProviderFactory)),i(14,o.inject(v.IDataViewerFactory)),i(15,o.inject(w.IJupyterServerUriStorage)),i(16,o.inject(w.IJupyterVariables)),i(16,o.named(g.Identifiers.DEBUGGER_VARIABLES)),i(17,o.inject(_.NotebookCreator)),i(18,o.inject(a.IWorkspaceService))],k),t.CommandRegistry=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerChecker=void 0;const r=n(1),i=n(10),o=n(112);t.DataViewerChecker=class{constructor(e,t){this.configuration=e,this.applicationShell=t}async isRequestedColumnSizeAllowed(e,t){if(e>o.ColumnWarningSize&&await this.shouldAskForLargeData(t)){const e=i.DataScience.tooManyColumnsMessage(),t=i.DataScience.tooManyColumnsYes(),n=i.DataScience.tooManyColumnsNo(),r=i.DataScience.tooManyColumnsDontAskAgain(),o=await this.applicationShell.showWarningMessage(e,t,n,r);return o===r&&await this.disableAskForLargeData(),o===t}return!0}async shouldAskForLargeData(e){const t=e?this.configuration.getSettings(e):this.configuration.getSettings();return t&&!0===t.askForLargeDataFrames}async disableAskForLargeData(e){const t=e?this.configuration.getSettings(e):this.configuration.getSettings();t&&(t.askForLargeDataFrames=!1,this.configuration.updateSetting("askForLargeDataFrames",!1,void 0,r.ConfigurationTarget.Global).ignoreErrors())}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.convertDebugProtocolVariableToIJupyterVariable=t.DebuggerVariables=void 0;const o=n(0),s=n(6),a=n(1),c=n(7),l=n(4),u=n(3),d=n(322),h=n(8),p=n(5),f=n(490),m=n(13),g=new Set(["DataFrame","list","dict","ndarray","Series","Tensor","EagerTensor","DataArray"]),v=new Set(["In","Out","exit","quit"]);let y=class extends f.DebugLocationTracker{constructor(e,t,n,r){super(void 0),this.debugService=e,this.debuggingManager=t,this.configService=n,this.vscNotebook=r,this.refreshEventEmitter=new a.EventEmitter,this.lastKnownVariables=[],this.importedDataFrameScriptsIntoKernel=new Set,this.importedGetVariableInfoScriptsIntoKernel=new Set,this.watchedNotebooks=new Map,this.debuggingStarted=!1,this.currentVariablesReference=0,this.currentSeqNumsForVariables=new Set}get refreshRequired(){return this.refreshEventEmitter.event}get active(){return(void 0!==this.debugService.activeDebugSession||void 0!==this.getDebuggingManagerSession())&&this.debuggingStarted}async getVariables(e,t){t&&this.watchNotebook(t);const n={executionCount:e.executionCount,pageStartIndex:0,pageResponse:[],totalCount:0,refreshCount:e.refreshCount};if(this.active){const t=e.sortColumn,r=(n,r)=>{const i=n[t]?n[t]:"",o=r[t]?r[t]:"";return e.sortAscending?i.localeCompare(o,void 0,{sensitivity:"base"}):o.localeCompare(i,void 0,{sensitivity:"base"})};this.lastKnownVariables.sort(r);const i=e.startIndex?e.startIndex:0,o=e.pageSize?e.pageSize:100;n.pageStartIndex=i;for(let e=i;e<i+o&&e<this.lastKnownVariables.length;e+=1){const t=this.lastKnownVariables[e].truncated?await this.getFullVariable(this.lastKnownVariables[e]):this.lastKnownVariables[e];this.lastKnownVariables[e]=t,n.pageResponse.push(t)}n.totalCount=this.lastKnownVariables.length}return n}async getMatchingVariable(e,t){if(this.active){const n=this.lastKnownVariables.find(t=>t.name===e);return n&&t&&t.identity.fsPath.endsWith(".ipynb")&&h.sendTelemetryEvent(p.Telemetry.RunByLineVariableHover),n}}async getDataFrameInfo(e,t,n,r){var i;if(!this.active)return e;r&&(e=await this.getFullVariable(e)),t&&this.watchNotebook(t),await this.importDataFrameScripts();let o=e.name;n&&(o=`${e.name}${n}`);const a=await this.evaluate(`${p.DataFrameLoading.DataFrameInfoImportFunc}(${o})`,e.frameId);let c=t?s.basename(t.identity.path):"";return!c&&(null===(i=this.debugLocation)||void 0===i?void 0:i.fileName)&&(c=s.basename(this.debugLocation.fileName)),a?{...e,...JSON.parse(a.result),maximumRowChunkSize:100,fileName:c}:e}async getDataFrameRows(e,t,n,r,i){if(n-t>100)throw new Error("Debugger cannot provide more than 100 rows at once");if(!this.debugService.activeDebugSession||void 0===e.columns)return{};r&&this.watchNotebook(r);let o=e.name;i&&(o=`${e.name}${i}`),await this.importDataFrameScripts();const s=await this.evaluate(`${p.DataFrameLoading.DataFrameRowImportFunc}(${o}, ${t}, ${n})`,e.frameId);return JSON.parse(s.result)}onWillReceiveMessage(e){super.onWillReceiveMessage(e),"request"===e.type&&"variables"===e.command&&e.arguments&&this.currentVariablesReference===e.arguments.variablesReference&&this.currentSeqNumsForVariables.add(e.seq)}onDidSendMessage(e){var t;if(super.onDidSendMessage(e),"response"===e.type&&"initialize"===e.command)this.debuggingStarted=!0;else if("response"===e.type&&"scopes"===e.command&&e.body&&e.body.scopes){const t=e.body.scopes[0].variablesReference;t!==this.currentVariablesReference&&(this.currentVariablesReference=t,this.currentSeqNumsForVariables.clear())}else if("response"===e.type&&"variables"===e.command&&e.body&&this.currentSeqNumsForVariables.has(e.request_seq))this.updateVariables(void 0,e),this.monkeyPatchDataViewableVariables(e);else if("event"===e.type&&"terminated"===e.event){this.lastKnownVariables=[],this.topMostFrameId=0,this.debuggingStarted=!1,this.refreshEventEmitter.fire();const e=null===(t=this.debugService.activeDebugSession)||void 0===t?void 0:t.id;e&&(this.importedDataFrameScriptsIntoKernel.delete(e),this.importedGetVariableInfoScriptsIntoKernel.delete(e))}}watchNotebook(e){const t=e.identity.toString();if(!this.watchedNotebooks.has(t)){const n=[];n.push(e.onKernelChanged(this.resetImport.bind(this,t))),n.push(e.onKernelRestarted(this.resetImport.bind(this,t))),n.push(e.onDisposed(()=>{this.resetImport(t),n.forEach(e=>e.dispose()),this.watchedNotebooks.delete(t)})),this.watchedNotebooks.set(t,n)}}resetImport(e){this.importedDataFrameScriptsIntoKernel.delete(e),this.importedGetVariableInfoScriptsIntoKernel.delete(e)}async evaluate(e,t){if(this.debugService.activeDebugSession){const n=await this.debugService.activeDebugSession.customRequest("evaluate",{expression:e,frameId:this.topMostFrameId||t,context:"repl",format:{rawString:!0}});return n&&"None"!==n.result?n:void l.traceError("Cannot evaluate "+e)}throw Error("Debugger is not active, cannot evaluate.")}async importDataFrameScripts(){var e;try{const t=null===(e=this.debugService.activeDebugSession)||void 0===e?void 0:e.id;t&&!this.importedDataFrameScriptsIntoKernel.has(t)&&(await this.evaluate(p.DataFrameLoading.DataFrameSysImport),this.importedDataFrameScriptsIntoKernel.add(t))}catch(e){l.traceError("Error attempting to import in debugger",e)}}async importGetVariableInfoScripts(){var e;try{const t=null===(e=this.debugService.activeDebugSession)||void 0===e?void 0:e.id;t&&!this.importedGetVariableInfoScriptsIntoKernel.has(t)&&(await this.evaluate(p.GetVariableInfo.GetVariableInfoSysImport),this.importedGetVariableInfoScriptsIntoKernel.add(t))}catch(e){l.traceError("Error attempting to import in debugger",e)}}async getFullVariable(e){await this.importGetVariableInfoScripts();const t=await this.evaluate(`${p.GetVariableInfo.VariableInfoImportFunc}(${e.name})`,e.frameId);return t&&t.result?{...e,truncated:!1,...JSON.parse(t.result)}:e}monkeyPatchDataViewableVariables(e){e.body.variables.forEach(e=>{e.type&&g.has(e.type)&&(e.__vscodeVariableMenuContext="viewableInDataViewer")})}updateVariables(e,t){var n;const r=this.configService.getSettings(e).variableExplorerExclude?null===(n=this.configService.getSettings().variableExplorerExclude)||void 0===n?void 0:n.split(";"):[],i=t.body.variables.filter(e=>!!(e.name&&e.type&&e.value)&&((!r||!r.includes(e.type))&&(!e.name.startsWith("_")&&(!v.has(e.name)&&"NoneType"!==e.type))));this.lastKnownVariables=i.map(e=>b(e)),this.refreshEventEmitter.fire()}getDebuggingManagerSession(){const e=this.vscNotebook.activeNotebookEditor;if(e)return this.debuggingManager.getDebugSession(e.document)}};function b(e){var t;return{name:null!==(t=e.evaluateName)&&void 0!==t?t:e.name,type:e.type,count:0,shape:"",size:0,supportsDataExplorer:g.has(e.type||""),value:e.value,truncated:!0,frameId:e.variablesReference}}y=r([o.injectable(),i(0,o.inject(m.IJupyterDebugService)),i(0,o.named(p.Identifiers.MULTIPLEXING_DEBUGSERVICE)),i(1,o.inject(d.IDebuggingManager)),i(2,o.inject(u.IConfigurationService)),i(3,o.inject(c.IVSCodeNotebook))],y),t.DebuggerVariables=y,t.convertDebugProtocolVariableToIJupyterVariable=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLocationTracker=void 0;const i=n(0),o=n(1);let s=class{constructor(e){this._sessionId=e,this.topMostFrameId=0,this.sequenceNumbersOfRequestsPendingResponses=new Set,this.waitingForStackTrace=!1,this.debugLocationUpdatedEvent=new o.EventEmitter,this.sessionEndedEmitter=new o.EventEmitter,this.DebugLocation=void 0}get sessionId(){return this._sessionId}get sessionEnded(){return this.sessionEndedEmitter.event}get debugLocationUpdated(){return this.debugLocationUpdatedEvent.event}get debugLocation(){return this._debugLocation}onDidSendMessage(e){var t;if(this.isResponseForRequestToFetchAllFrames(e)){const n=e.body.stackFrames[0];this.topMostFrameId=null==n?void 0:n.id,this.sequenceNumbersOfRequestsPendingResponses.delete(e.request_seq),this.waitingForStackTrace&&(this.DebugLocation={lineNumber:null==n?void 0:n.line,fileName:this.normalizeFilePath(null===(t=null==n?void 0:n.source)||void 0===t?void 0:t.path),column:n.column},this.waitingForStackTrace=!1)}this.isStopEvent(e)&&(this.waitingForStackTrace=!0),this.isContinueEvent(e)&&(this.DebugLocation=void 0,this.waitingForStackTrace=!1)}onWillStopSession(){this.sessionEndedEmitter.fire(this)}onWillReceiveMessage(e){this.isRequestToFetchAllFrames(e)&&this.sequenceNumbersOfRequestsPendingResponses.add(e.seq)}set DebugLocation(e){const t=this._debugLocation;this._debugLocation=e,this._debugLocation!==t&&this.debugLocationUpdatedEvent.fire()}normalizeFilePath(e){return"win32"!==process.platform?e.replace(/\\/g,"/"):e}isStopEvent(e){if("event"===e.type){if("stopped"===e.event)return!0}return!1}isContinueEvent(e){if("event"===e.type){if("continue"===e.event)return!0}else if("response"===e.type){if("continue"===e.command)return!0}return!1}isResponseForRequestToFetchAllFrames(e){return"response"===e.type&&"stackTrace"===e.command&&e.body.stackFrames[0]&&this.sequenceNumbersOfRequestsPendingResponses.has(e.request_seq)}isRequestToFetchAllFrames(e){return"request"===e.type&&"stackTrace"===e.command&&(0===e.arguments.startFrame||void 0===e.arguments.startFrame)}};s=r([i.injectable()],s),t.DebugLocationTracker=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCreator=void 0;const o=n(0),s=n(7),a=n(14),c=n(10),l=n(8),u=n(5),d=n(13),h=n(492);let p=class{constructor(e,t,n){this.editorProvider=e,this.appShell=t,this.creationOptionsService=n}async createNewNotebook(){if(0===this.creationOptionsService.registrations.length)return void await this.editorProvider.createNew();const e=this.creationOptionsService.registrations.map(e=>({label:e.displayName,detail:e.extensionId,extensionId:e.extensionId,defaultCellLanguage:e.defaultCellLanguage}));e.splice(0,0,{defaultCellLanguage:a.PYTHON_LANGUAGE,detail:a.JVSC_EXTENSION_ID,extensionId:a.JVSC_EXTENSION_ID,label:a.JVSC_EXTENSION_DisplayName});const t=c.DataScience.placeHolderToSelectOptionForNotebookCreation(),n=await this.appShell.showQuickPick(e,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:t});l.sendTelemetryEvent(u.Telemetry.OpenNotebookSelection,void 0,{extensionId:null==n?void 0:n.extensionId}),n&&await this.editorProvider.createNew({defaultCellLanguage:n.defaultCellLanguage})}};p=r([o.injectable(),i(0,o.inject(d.INotebookEditorProvider)),i(1,o.inject(s.IApplicationShell)),i(2,o.inject(h.CreationOptionService))],p),t.NotebookCreator=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreationOptionService=void 0;const o=n(0),s=n(4),a=n(3),c=n(8),l=n(5);let u=class{constructor(e){this._registrations=[];e.all.filter(e=>!(!e.packageJSON.contributes||!e.packageJSON.contributes["jupyter.kernels"])).forEach(e=>{try{e.packageJSON.contributes["jupyter.kernels"].forEach(t=>{c.sendTelemetryEvent(l.Telemetry.OpenNotebookSelectionRegistered,void 0,{extensionId:e.id}),this._registrations.push({extensionId:e.id,displayName:t.title,defaultCellLanguage:t.defaultlanguage||t.defaultLanguage})})}catch(t){s.traceError(e.id+" is not contributing jupyter kernels as expected.")}})}async registerNewNotebookContent(e){this._registrations.push({displayName:e,defaultCellLanguage:e,extensionId:"<bogus>"})}get registrations(){return this._registrations}clear(){this._registrations.splice(0,this._registrations.length)}};u=r([o.injectable(),i(0,o.inject(a.IExtensions))],u),t.CreationOptionService=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportCommands=void 0;const o=n(0),s=n(494),a=n(7),c=n(16),l=n(10),u=n(9),d=n(8),h=n(5),p=n(90),f=n(24),m=n(13);let g=class{constructor(e,t,n,r,i){this.commandManager=e,this.exportManager=t,this.applicationShell=n,this.notebookProvider=r,this.fs=i,this.disposables=[]}register(){this.registerCommand(h.Commands.ExportAsPythonScript,(e,t,n)=>this.export(e,t,p.ExportFormat.python,void 0,n)),this.registerCommand(h.Commands.ExportToHTML,(e,t,n,r)=>this.export(e,t,p.ExportFormat.html,n,r)),this.registerCommand(h.Commands.ExportToPDF,(e,t,n,r)=>this.export(e,t,p.ExportFormat.pdf,n,r)),this.registerCommand(h.Commands.Export,(e,t,n,r)=>this.export(e,t,void 0,n,r)),this.registerCommand(h.Commands.NativeNotebookExport,e=>this.nativeNotebookExport(e))}dispose(){this.disposables.forEach(e=>e.dispose())}registerCommand(e,t){const n=this.commandManager.registerCommand(e,t,this);this.disposables.push(n)}async nativeNotebookExport(e){var t;const n=u.isUri(e)?e:null==e?void 0:e.notebookEditor.notebookUri,r=n?this.notebookProvider.editors.find(e=>this.fs.arePathsSame(e.file,n)):this.notebookProvider.activeEditor;if(r){const e=r.getContent(),n=null===(t=r.notebook)||void 0===t?void 0:t.getMatchingInterpreter();return this.export(e,r.file,void 0,void 0,n)}return this.export(void 0,void 0,void 0,void 0)}async export(e,t,n,r,i){var o;if(!e||!t){const r=this.notebookProvider.activeEditor;if(!r)return;e=e||r.getContent(),t=t||r.file,i||(i=null===(o=r.notebook)||void 0===o?void 0:o.getMatchingInterpreter()),n&&d.sendTelemetryEvent(h.Telemetry.ExportNotebookAsCommand,void 0,{format:n})}if(n)await this.exportManager.export(n,e,t,r,i);else{const n=await this.showExportQuickPickMenu(e,t,r,i).then(e=>e);void 0!==n?n.handler():d.sendTelemetryEvent(h.Telemetry.ClickedExportNotebookAsQuickPick)}}getExportQuickPickItems(e,t,n,r){const i=[],o=JSON.parse(e);return(r||o.metadata&&f.isPythonNotebook(o.metadata))&&i.push({label:l.DataScience.exportPythonQuickPickLabel(),picked:!0,handler:()=>{d.sendTelemetryEvent(h.Telemetry.ClickedExportNotebookAsQuickPick,void 0,{format:p.ExportFormat.python}),this.commandManager.executeCommand(h.Commands.ExportAsPythonScript,e,t,r)}}),i.push({label:l.DataScience.exportHTMLQuickPickLabel(),picked:!1,handler:()=>{d.sendTelemetryEvent(h.Telemetry.ClickedExportNotebookAsQuickPick,void 0,{format:p.ExportFormat.html}),this.commandManager.executeCommand(h.Commands.ExportToHTML,e,t,n,r)}},{label:l.DataScience.exportPDFQuickPickLabel(),picked:!1,handler:()=>{d.sendTelemetryEvent(h.Telemetry.ClickedExportNotebookAsQuickPick,void 0,{format:p.ExportFormat.pdf}),this.commandManager.executeCommand(h.Commands.ExportToPDF,e,t,n,r)}}),i}async showExportQuickPickMenu(e,t,n,r){const i=this.getExportQuickPickItems(e,t,n,r),o={ignoreFocusOut:!1,matchOnDescription:!0,matchOnDetail:!0,placeHolder:s.getLocString("DataScience.exportAsQuickPickPlaceholder","Export As...")};return this.applicationShell.showQuickPick(i,o)}};g=r([o.injectable(),i(0,o.inject(a.ICommandManager)),i(1,o.inject(p.IExportManager)),i(2,o.inject(a.IApplicationShell)),i(3,o.inject(m.INotebookEditorProvider)),i(4,o.inject(c.IFileSystem))],g),t.ExportCommands=g},function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.format=t.storeLocStrings=t.getLocString=void 0,t.getLocString=function(e,t){return r&&r.hasOwnProperty(e)?r[e]:t},t.storeLocStrings=function(e){r=e},t.format=function(e,...t){return e.replace(/{(\d+)}/g,(e,n)=>void 0===t[n]?e:t[n])}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCommands=void 0;const o=n(0),s=n(7),a=n(5),c=n(13);let l=class{constructor(e,t){this.commandManager=e,this.notebookEditorProvider=t,this.disposables=[]}register(){this.disposables.push(this.commandManager.registerCommand(a.Commands.NotebookEditorCollapseAllCells,this.collapseAll,this),this.commandManager.registerCommand(a.Commands.NotebookEditorExpandAllCells,this.expandAll,this))}dispose(){this.disposables.forEach(e=>e.dispose())}collapseAll(){this.notebookEditorProvider.activeEditor&&this.notebookEditorProvider.activeEditor.collapseAllCells()}expandAll(){this.notebookEditorProvider.activeEditor&&this.notebookEditorProvider.activeEditor.expandAllCells()}};l=r([o.injectable(),i(0,o.inject(s.ICommandManager)),i(1,o.inject(c.INotebookEditorProvider))],l),t.NotebookCommands=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerSelectorCommand=void 0;const o=n(0),s=n(7),a=n(5),c=n(197);let l=class{constructor(e,t){this.commandManager=e,this.serverSelector=t,this.disposables=[]}register(){this.disposables.push(this.commandManager.registerCommand(a.Commands.SelectJupyterURI,(e,t="commandPalette")=>this.serverSelector.selectJupyterURI(!0,t),this.serverSelector))}dispose(){this.disposables.forEach(e=>e.dispose())}};l=r([o.injectable(),i(0,o.inject(s.ICommandManager)),i(1,o.inject(c.JupyterServerSelector))],l),t.JupyterServerSelectorCommand=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterDataRateLimitError=void 0;const r=n(29),i=n(10);class o extends r.BaseError{constructor(){super("unknown",i.DataScience.jupyterDataRateExceeded())}}t.JupyterDataRateLimitError=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewPanelHost=void 0,n(15);const o=n(0),s=n(9),a=n(499);let c=class extends a.WebviewHost{constructor(e,t,n,r,i,o,s,a,c,l){super(e,n,r,i,s,a),this.configService=e,this.provider=t,this.themeFinder=r,this.workspaceService=i,this._title=c,this.viewColumn=l,this.viewState={visible:!1,active:!1},this.webPanelViewStateChanged=e=>{const t=e.isVisible(),n=e.isActive(),r={visible:t,active:n},i={visible:this.viewState.visible,active:this.viewState.active};this.viewState.visible=t,this.viewState.active=n,this.onViewStateChanged({current:r,previous:i})},this.messageListener=o(this.onMessage.bind(this),this.webPanelViewStateChanged.bind(this),this.dispose.bind(this))}get isDisposed(){return this.disposed}get webPanel(){if(this.webview)return this.webview}async show(e){this.isDisposed||this.webPanel&&await this.webPanel.show(e)}updateCwd(e){this.webPanel&&this.webPanel.updateCwd(e)}dispose(){this.isDisposed||this.webPanel&&this.webPanel.close(),super.dispose()}get title(){return this._title}setTitle(e){this._title=e,!this.isDisposed&&this.webPanel&&this.webPanel.setTitle(e)}onViewStateChanged(e){s.noop()}async provideWebview(e,t,n,r){return this.provider.create({viewColumn:this.viewColumn,listener:this.messageListener,title:this.title,rootPath:this.rootPath,scripts:this.scripts,settings:t,cwd:e,webviewHost:r,additionalPaths:n?[n.fsPath]:[]})}};c=r([o.injectable(),i(0,o.unmanaged()),i(1,o.unmanaged()),i(2,o.unmanaged()),i(3,o.unmanaged()),i(4,o.unmanaged()),i(5,o.unmanaged()),i(6,o.unmanaged()),i(7,o.unmanaged()),i(8,o.unmanaged()),i(9,o.unmanaged())],c),t.WebviewPanelHost=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewHost=void 0,n(15);const o=n(0),s=n(1),a=n(14),c=n(4),l=n(19),u=n(10),d=n(32),h=n(8),p=n(5),f=n(73),m=n(187),g=n(85);let v=class{constructor(e,t,n,r,i,o){this.configService=e,this.cssGenerator=t,this.themeFinder=n,this.workspaceService=r,this.rootPath=i,this.scripts=o,this.disposed=!1,this.themeIsDarkPromise=l.createDeferred(),this.webviewInit=l.createDeferred(),this._disposables=[],this.startupStopwatch=new d.StopWatch,this.onMessageListeners=[],this._onDidDisposeWebviewPanel=new s.EventEmitter,this.onDataScienceSettingsChanged=async()=>{const e=JSON.stringify(await this.generateDataScienceExtraSettings());this.postMessageInternal(m.SharedMessages.UpdateSettings,e).ignoreErrors()},this.onWebViewLoadFailed=async()=>{this.dispose()},this.onPossibleSettingsChange=async e=>{if(e.affectsConfiguration("workbench.colorTheme")||e.affectsConfiguration("editor.fontSize")||e.affectsConfiguration("editor.fontFamily")||e.affectsConfiguration("editor.cursorStyle")||e.affectsConfiguration("editor.cursorBlinking")||e.affectsConfiguration("editor.autoClosingBrackets")||e.affectsConfiguration("editor.autoClosingQuotes")||e.affectsConfiguration("editor.autoSurround")||e.affectsConfiguration("editor.autoIndent")||e.affectsConfiguration("editor.scrollBeyondLastLine")||e.affectsConfiguration("editor.fontLigatures")||e.affectsConfiguration("editor.scrollbar.verticalScrollbarSize")||e.affectsConfiguration("editor.scrollbar.horizontalScrollbarSize")||e.affectsConfiguration("files.autoSave")||e.affectsConfiguration("files.autoSaveDelay")||e.affectsConfiguration("jupyter.widgetScriptSources")){const e=await this.generateDataScienceExtraSettings();if(e){const t=JSON.stringify(e);this.postMessageInternal(m.SharedMessages.UpdateSettings,t).ignoreErrors()}}},this._disposables.push(this.workspaceService.onDidChangeConfiguration(this.onPossibleSettingsChange,this)),this._disposables.push(this.configService.getSettings(void 0).onDidChange(this.onDataScienceSettingsChanged.bind(this)))}get onDidDispose(){return this._onDidDisposeWebviewPanel.event}dispose(){this.disposed||(this.disposed=!0,this.themeIsDarkPromise=void 0,this._disposables.forEach(e=>e.dispose())),this.webviewInit=void 0,this._onDidDisposeWebviewPanel.fire()}setTheme(e){this.themeIsDarkPromise&&!this.themeIsDarkPromise.resolved||(this.themeIsDarkPromise=l.createDeferred()),this.themeIsDarkPromise.resolve(e)}getHTMLById(e){if(this.activeHTMLRequest)throw new Error("getHTMLById request already in progress");return this.activeHTMLRequest=l.createDeferred(),this.postMessageInternal(f.InteractiveWindowMessages.GetHTMLByIdRequest,e).ignoreErrors(),this.activeHTMLRequest.promise}addMessageListener(e){this.onMessageListeners.push(e)}removeMessageListener(e){const t=this.onMessageListeners.indexOf(e);t>=0&&this.onMessageListeners.splice(t,1)}asWebviewUri(e){var t;if(!this.webview)throw new Error("asWebViewUri called too early");return null===(t=this.webview)||void 0===t?void 0:t.asWebviewUri(e)}postMessage(e,t){return this.postMessageInternal(e.toString(),t)}onMessage(e,t){switch(e){case m.SharedMessages.Started:this.webViewRendered();break;case m.CssMessages.GetCssRequest:this.handleCssRequest(t).ignoreErrors();break;case f.InteractiveWindowMessages.GetHTMLByIdResponse:this.activeHTMLRequest&&(this.activeHTMLRequest.resolve(t),this.activeHTMLRequest=void 0)}this.onMessageListeners.forEach(n=>{n(e,t)})}async loadWebview(e,t){var n;if(this.disposed=!1,this.webviewInit=this.webviewInit||l.createDeferred(),this.themeIsDarkPromise=this.themeIsDarkPromise?this.themeIsDarkPromise:l.createDeferred(),c.traceInfo("Loading webview. View is "+(this.webview?"set":"notset")),void 0===this.webview){const r=await this.generateDataScienceExtraSettings();c.traceInfo("Loading web view...");const i=null===(n=this.workspaceService.getWorkspaceFolder(s.Uri.file(e)))||void 0===n?void 0:n.uri;this.webview=await this.provideWebview(e,r,i,t),this._disposables.push(this.webview.loadFailed(this.onWebViewLoadFailed,this)),c.traceInfo("Webview panel created.")}this.onDataScienceSettingsChanged().ignoreErrors(),this.sendLocStrings().ignoreErrors()}async generateDataScienceExtraSettings(){const e=this.owningResource,t=this.workspaceService.getConfiguration("editor"),n=this.workspaceService.getConfiguration("workbench"),r=n?n.get("colorTheme",p.DefaultTheme):p.DefaultTheme,i=s.extensions.getExtension(p.PythonExtension);return{...JSON.parse(JSON.stringify(this.configService.getSettings(e))),extraSettings:{editor:{cursor:this.getValue(t,"cursorStyle","line"),cursorBlink:this.getValue(t,"cursorBlinking","blink"),autoClosingBrackets:this.getValue(t,"autoClosingBrackets","languageDefined"),autoClosingQuotes:this.getValue(t,"autoClosingQuotes","languageDefined"),autoSurround:this.getValue(t,"autoSurround","languageDefined"),autoIndent:this.getValue(t,"autoIndent",!1),fontLigatures:this.getValue(t,"fontLigatures",!1),scrollBeyondLastLine:this.getValue(t,"scrollBeyondLastLine",!0),verticalScrollbarSize:this.getValue(t,"scrollbar.verticalScrollbarSize",14),horizontalScrollbarSize:this.getValue(t,"scrollbar.horizontalScrollbarSize",10),fontSize:this.getValue(t,"fontSize",14),fontFamily:this.getValue(t,"fontFamily","Consolas, 'Courier New', monospace")},theme:r,hasPythonExtension:void 0!==i},intellisenseOptions:{quickSuggestions:{other:this.getValue(t,"quickSuggestions.other",!0),comments:this.getValue(t,"quickSuggestions.comments",!1),strings:this.getValue(t,"quickSuggestions.strings",!1)},acceptSuggestionOnEnter:this.getValue(t,"acceptSuggestionOnEnter","on"),quickSuggestionsDelay:this.getValue(t,"quickSuggestionsDelay",10),suggestOnTriggerCharacters:this.getValue(t,"suggestOnTriggerCharacters",!0),tabCompletion:this.getValue(t,"tabCompletion","on"),suggestLocalityBonus:this.getValue(t,"suggest.localityBonus",!0),suggestSelection:this.getValue(t,"suggestSelection","recentlyUsed"),wordBasedSuggestions:this.getValue(t,"wordBasedSuggestions",!0),parameterHintsEnabled:this.getValue(t,"parameterHints.enabled",!0)}}}async sendLocStrings(){const e=a.isTestExecution()?"{}":u.getCollectionJSON();this.postMessageInternal(m.SharedMessages.LocInit,e).ignoreErrors()}async postMessageInternal(e,t){var n;this.webviewInit&&(await this.webviewInit.promise,null===(n=this.webview)||void 0===n||n.postMessage({type:e.toString(),payload:t}))}isDark(){return this.themeIsDarkPromise?this.themeIsDarkPromise.promise:Promise.resolve(!1)}webViewRendered(){this.webviewInit&&!this.webviewInit.resolved&&(h.sendTelemetryEvent(p.Telemetry.WebviewStartup,this.startupStopwatch.elapsedTime,{type:this.title}),this.webviewInit.resolve(),c.traceInfo("Web view react rendered")),this.sendLocStrings().ignoreErrors(),this.onDataScienceSettingsChanged().ignoreErrors()}async handleCssRequest(e){const t=await this.generateDataScienceExtraSettings(),n=!t.ignoreVscodeTheme&&(null==e?void 0:e.isDark);this.setTheme(n);const r=!t.ignoreVscodeTheme&&await this.themeFinder.isThemeDark(t.extraSettings.theme),i=this.owningResource,o=await this.cssGenerator.generateThemeCss(i,n,t.extraSettings.theme);return this.postMessageInternal(m.CssMessages.GetCssResponse,{css:o,theme:t.extraSettings.theme,knownDark:r})}getValue(e,t,n){return e?e.get(t,n):n}};r([g.testOnlyMethod()],v.prototype,"getHTMLById",null),r([g.testOnlyMethod()],v.prototype,"addMessageListener",null),r([g.testOnlyMethod()],v.prototype,"removeMessageListener",null),r([h.captureTelemetry(p.Telemetry.WebviewStyleUpdate)],v.prototype,"handleCssRequest",null),v=r([o.injectable(),i(0,o.unmanaged()),i(1,o.unmanaged()),i(2,o.unmanaged()),i(3,o.unmanaged()),i(4,o.unmanaged()),i(5,o.unmanaged())],v),t.WebviewHost=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerDependencyService=void 0;const o=n(0),s=n(7),a=n(37),c=n(192),l=n(4),u=n(39),d=n(3),h=n(10),p=n(33),f=n(8),m=n(54),g=n(5);let v=class{constructor(e,t,n,r,i){this.applicationShell=e,this.installer=t,this.pythonFactory=n,this.interpreterService=r,this.isCodeSpace=i}async checkAndInstallMissingDependencies(e,t){const n=await this.getVersionOfPandas(e,t);if(!a.Cancellation.isCanceled(t)){if(n){if(n.compare("0.20.0")>0)return;f.sendTelemetryEvent(g.Telemetry.PandasTooOld);const e=`${n.major}.${n.minor}.${n.build}`;throw new Error(h.DataScience.pandasTooOldForViewingFormat().format(e))}f.sendTelemetryEvent(g.Telemetry.PandasNotInstalled),await this.installMissingDependencies(e,t)}}async installMissingDependencies(e,t){f.sendTelemetryEvent(g.Telemetry.PythonModuleInstal,void 0,{action:"displayed",moduleName:c.ProductNames.get(d.Product.pandas)});const n=this.isCodeSpace?h.Common.install():await this.applicationShell.showErrorMessage(h.DataScience.pandasRequiredForViewing(),h.Common.install()),r=e||await this.interpreterService.getActiveInterpreter();if(!a.Cancellation.isCanceled(t)){if(n!==h.Common.install())throw f.sendTelemetryEvent(g.Telemetry.UserDidNotInstallPandas),new Error(h.DataScience.pandasRequiredForViewing());{const e=a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:d.InstallerResponse.Ignore,token:t});await Promise.race([this.installer.install(d.Product.pandas,r,a.wrapCancellationTokens(t)),e])===d.InstallerResponse.Installed&&f.sendTelemetryEvent(g.Telemetry.UserInstalledPandas)}}}async getVersionOfPandas(e,t){const n=await this.pythonFactory.createActivatedEnvironment({resource:void 0,interpreter:e,allowEnvironmentFetchExceptions:!0,bypassCondaExecution:!0});try{const e=await n.exec(["-c","import pandas;print(pandas.__version__)"],{throwOnStdErr:!0,token:t});return m.parseSemVer(e.stdout)}catch(e){return void l.traceWarning("Failed to get version of Pandas to use Data Viewer",e)}}};v=r([o.injectable(),i(0,o.inject(s.IApplicationShell)),i(1,o.inject(d.IInstaller)),i(2,o.inject(u.IPythonExecutionFactory)),i(3,o.inject(p.IInterpreterService)),i(4,o.inject(d.IsCodeSpace))],v),t.DataViewerDependencyService=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateCommand=t.CodeLensFactory=void 0;const o=n(0),s=n(1),a=n(7),c=n(4),l=n(16),u=n(3),d=n(10),h=n(133),p=n(5),f=n(237),m=n(56),g=n(100),v=n(323);let y=class{constructor(e,t,n,r,i,o,a,c){this.configService=e,this.fs=t,this.documentManager=n,this.workspace=r,this.cellHashProviderFactory=a,this.updateEvent=new s.EventEmitter,this.notebookData=new Map,this.codeLensCache=new Map,this.documentManager.onDidCloseTextDocument(this.onClosedDocument,this,o),this.workspace.onDidGrantWorkspaceTrust(()=>this.codeLensCache.clear(),this,o),this.configService.getSettings(void 0).onDidChange(this.onChangedSettings,this,o),i.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,o),c.onDidDisposeKernel(e=>this.notebookData.delete(e.notebookUri.toString()),this,o)}get updateRequired(){return this.updateEvent.event}createCodeLenses(e){const t=this.getCodeLensCacheData(e);return[...t.documentLenses,...t.gotoCellLens]}getCellRanges(e){return this.getCodeLensCacheData(e).cellRanges}getCodeLensCacheData(e){const t=e.fileName.toLocaleLowerCase();let n=this.codeLensCache.get(t),r=!1;n||(n={cachedDocumentVersion:void 0,cachedExecutionCounts:new Set,documentLenses:[],cellRanges:[],gotoCellLens:[]},r=!0,this.codeLensCache.set(t,n)),n.cachedDocumentVersion!==e.version&&(n.cellRanges=h.generateCellRangesFromDocument(e,this.configService.getSettings(e.uri)),n.documentLenses=[],n.gotoCellLens=[],n.cachedDocumentVersion=e.version,r=!0);const i=this.getDocumentExecutionCounts(t);if((i.length!==n.cachedExecutionCounts.size||i.find(e=>!(null==n?void 0:n.cachedExecutionCounts.has(e))))&&(n.gotoCellLens=[],n.cachedExecutionCounts=new Set(i),r=!0),0===n.documentLenses.length&&r&&n.cellRanges.length){const t=r?this.enumerateCommands(e.uri):[];let i=!0;n.cellRanges.forEach(r=>{t.forEach(t=>{const o=this.createCodeLens(e,r,t,i);o&&(null==n||n.documentLenses.push(o))}),i=!1})}if(r&&0===n.gotoCellLens.length&&n.cellRanges.length&&this.configService.getSettings(e.uri).addGotoCodeLenses){const t=this.getHashes();t&&t.length&&n.cellRanges.forEach(r=>{const i=this.createExecutionLens(e,r.range,t);i&&(null==n||n.gotoCellLens.push(i))})}return n}getDocumentExecutionCounts(e){return[...this.notebookData.values()].map(t=>t.documentExecutionCounts.get(e)).filter(e=>void 0!==e)}onDidChangeNotebookCellExecutionState(e){var t;if(e.cell.notebook.notebookType!==g.InteractiveWindowView)return;if(e.state!==s.NotebookCellExecutionState.Idle||!(null===(t=e.cell.executionSummary)||void 0===t?void 0:t.executionOrder))return;const n=f.getInteractiveCellMetadata(e.cell);let r=this.notebookData.get(e.cell.notebook.uri.toString());r||(r={cellExecutionCounts:new Map,documentExecutionCounts:new Map},this.notebookData.set(e.cell.notebook.uri.toString(),r)),r&&(r.cellExecutionCounts.set(n.id,e.cell.executionSummary.executionOrder),r.documentExecutionCounts.set(n.interactive.file.toLowerCase(),e.cell.executionSummary.executionOrder),this.updateEvent.fire())}getHashProviders(){return this.cellHashProviderFactory.cellHashProviders}getHashes(){const e=this.getHashProviders();return e&&e.length?e.map(e=>e.getHashes()).reduce((e,t)=>[...e,...t]):[]}onClosedDocument(e){this.codeLensCache.delete(e.fileName.toLocaleLowerCase())}onChangedSettings(){this.codeLensCache.clear(),this.updateEvent.fire()}enumerateCommands(e){let t;const n=this.configService.getSettings(e).codeLenses;t=n?n.split(",").map(e=>e.trim()):p.CodeLensCommands.DefaultDesignLenses;const r=this.configService.getSettings(e).debugCodeLenses;if(t=r?t.concat(r.split(",").map(e=>e.trim())):t.concat(p.CodeLensCommands.DefaultDebuggingLenses),!this.workspace.isTrusted){const e=[...p.CodeLensCommands.DebuggerCommands,...p.CodeLensCommands.DebuggerCommands,p.Commands.RunAllCells,p.Commands.RunAllCellsAbove,p.Commands.RunAllCellsAbovePalette,p.Commands.RunCellAndAllBelowPalette,p.Commands.RunCurrentCell,p.Commands.RunCurrentCellAdvance,p.Commands.RunCurrentCellAndAddBelow,p.Commands.RunFileInInteractiveWindows,p.Commands.InterruptKernel,p.Commands.RunToLine,p.Commands.RunCell,p.Commands.DebugCell,p.Commands.DebugContinue,p.Commands.DebugStepOver,p.Commands.DebugStop,p.Commands.RunCellAndAllBelowPalette];t=t.filter(t=>!e.includes(t))}return t}createCodeLens(e,t,n,r){if(s.workspace.notebookDocuments.find(t=>t.uri.toString()===e.uri.toString()))return;const{range:i,cell_type:o}=t;switch(n){case p.Commands.RunCurrentCellAndAddBelow:return this.generateCodeLens(i,p.Commands.RunCurrentCellAndAddBelow,d.DataScience.runCurrentCellAndAddBelow());case p.Commands.AddCellBelow:return this.generateCodeLens(i,p.Commands.AddCellBelow,d.DataScience.addCellBelowCommandTitle(),[e.uri,i.start.line]);case p.Commands.DebugCurrentCellPalette:return this.generateCodeLens(i,p.Commands.DebugCurrentCellPalette,d.DataScience.debugCellCommandTitle());case p.Commands.DebugCell:if("code"!==o)break;return this.generateCodeLens(i,p.Commands.DebugCell,d.DataScience.debugCellCommandTitle(),[e.uri,i.start.line,i.start.character,i.end.line,i.end.character]);case p.Commands.DebugStepOver:if("code"!==o)break;return this.generateCodeLens(i,p.Commands.DebugStepOver,d.DataScience.debugStepOverCommandTitle());case p.Commands.DebugContinue:if("code"!==o)break;return this.generateCodeLens(i,p.Commands.DebugContinue,d.DataScience.debugContinueCommandTitle());case p.Commands.DebugStop:if("code"!==o)break;return this.generateCodeLens(i,p.Commands.DebugStop,d.DataScience.debugStopCommandTitle());case p.Commands.RunCurrentCell:case p.Commands.RunCell:return this.generateCodeLens(i,p.Commands.RunCell,d.DataScience.runCellLensCommandTitle(),[e.uri,i.start.line,i.start.character,i.end.line,i.end.character]);case p.Commands.RunAllCells:return this.generateCodeLens(i,p.Commands.RunAllCells,d.DataScience.runAllCellsLensCommandTitle(),[e.uri,i.start.line,i.start.character]);case p.Commands.RunAllCellsAbovePalette:case p.Commands.RunAllCellsAbove:return r?this.generateCodeLens(i,p.Commands.RunCellAndAllBelow,d.DataScience.runCellAndAllBelowLensCommandTitle(),[e.uri,i.start.line,i.start.character]):this.generateCodeLens(i,p.Commands.RunAllCellsAbove,d.DataScience.runAllCellsAboveLensCommandTitle(),[e.uri,i.start.line,i.start.character]);case p.Commands.RunCellAndAllBelowPalette:case p.Commands.RunCellAndAllBelow:return this.generateCodeLens(i,p.Commands.RunCellAndAllBelow,d.DataScience.runCellAndAllBelowLensCommandTitle(),[e.uri,i.start.line,i.start.character]);default:c.traceWarning("Invalid command for code lens "+n)}}findMatchingCellExecutionCount(e){const t=[...this.notebookData.values()].find(t=>t.cellExecutionCounts.get(e));return null==t?void 0:t.cellExecutionCounts.get(e)}createExecutionLens(e,t,n){const r=n.filter(t=>this.fs.areLocalPathsSame(t.file,e.fileName)).map(e=>e.hashes).flat();if(r){const n=r.filter(e=>e.line-2===t.start.line).sort((e,t)=>e.timestamp-t.timestamp);if(n&&n.length){const r=n[n.length-1],i=this.findMatchingCellExecutionCount(r.id);if(void 0!==i)return this.generateCodeLens(t,p.Commands.ScrollToCell,d.DataScience.scrollToCellTitleFormatMessage().format(i.toString()),[e.uri,r.id])}}}generateCodeLens(e,t,n,r){return new s.CodeLens(e,b(t,n,r))}};function b(e,t,n){return{arguments:n,title:t,command:e}}y=r([o.injectable(),i(0,o.inject(u.IConfigurationService)),i(1,o.inject(l.IFileSystem)),i(2,o.inject(a.IDocumentManager)),i(3,o.inject(a.IWorkspaceService)),i(4,o.inject(a.IVSCodeNotebook)),i(5,o.inject(u.IDisposableRegistry)),i(6,o.inject(v.CellHashProviderFactory)),i(7,o.inject(m.IKernelProvider))],y),t.CodeLensFactory=y,t.generateCommand=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInteractiveWindowTitle=t.createExportInteractiveIdentity=t.createInteractiveIdentity=t.getDefaultInteractiveIdentity=void 0;const r=n(6),i=n(41),o=n(1);n(15);const s=n(10);let a=[],c=0;t.getDefaultInteractiveIdentity=function(){return a.length<=0&&a.push(i()),o.Uri.parse("history://"+a[0])},t.createInteractiveIdentity=function(){return(c>0||a.length<=0)&&a.push(i()),c+=1,o.Uri.parse("history://"+a[a.length-1])},t.createExportInteractiveIdentity=function(){return o.Uri.parse("history://"+i())},t.getInteractiveWindowTitle=function(e){return s.DataScience.interactiveWindowTitleFormat().format(r.basename(e.fsPath))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICodeExecutionHelper=t.ICodeExecutionService=void 0,t.ICodeExecutionService=Symbol("ICodeExecutionService"),t.ICodeExecutionHelper=Symbol("ICodeExecutionHelper")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterZMQBinariesNotFoundError=void 0;const r=n(29);class i extends r.BaseError{constructor(e){super("zmq",e)}}t.JupyterZMQBinariesNotFoundError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecNotFoundError=void 0;const r=n(29);class i extends r.BaseError{constructor(e){super("kernelspecnotfound","Failed to find a kernelspec to use for ipykernel launch"),this.notebookMetadata=e}}t.KernelSpecNotFoundError=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportFileOpener=void 0;const o=n(0),s=n(1),a=n(7),c=n(14),l=n(16),u=n(3),d=n(10),h=n(8),p=n(5),f=n(90);let m=class{constructor(e,t,n,r){this.documentManager=e,this.fs=t,this.applicationShell=n,this.browserService=r}async openFile(e,t){if(e===f.ExportFormat.python)await this.openPythonFile(t),h.sendTelemetryEvent(p.Telemetry.ExportNotebookAs,void 0,{format:e,successful:!0,opened:!0});else{const n=await this.askOpenFile(t);h.sendTelemetryEvent(p.Telemetry.ExportNotebookAs,void 0,{format:e,successful:!0,opened:n})}}async openPythonFile(e){const t=await this.fs.readFile(e);await this.fs.delete(e);const n=await this.documentManager.openTextDocument({language:c.PYTHON_LANGUAGE,content:t}),r=await this.documentManager.showTextDocument(n);r.edit(e=>{e.insert(new s.Position(r.document.lineCount,0),"\n")})}async askOpenFile(e){const t=d.DataScience.openExportFileYes(),n=[t,d.DataScience.openExportFileNo()];return await this.applicationShell.showInformationMessage(d.DataScience.openExportedFileMessage(),...n).then(e=>e)===t&&(this.browserService.launch(e.toString()),!0)}};m=r([o.injectable(),i(0,o.inject(a.IDocumentManager)),i(1,o.inject(l.IFileSystem)),i(2,o.inject(a.IApplicationShell)),i(3,o.inject(u.IBrowserService))],m),t.ExportFileOpener=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportInterpreterFinder=void 0;const o=n(0),s=n(10),a=n(147),c=n(149),l=n(13);let u=class{constructor(e,t,n,r){this.dependencyManager=e,this.progressReporter=t,this.nbConvertDependencyChecker=n,this.jupyterInterpreterService=r}async getExportInterpreter(e,t){const n=this.progressReporter.createProgressIndicator("Exporting to "+e);try{if(t&&await this.checkNotebookInterpreter(t))return t;const e=await this.jupyterInterpreterService.getSelectedInterpreter();if(e){if(await this.checkNotebookInterpreter(e))return e;if(await this.dependencyManager.installMissingDependencies(),await this.checkNotebookInterpreter(e))return e}throw new Error(s.DataScience.jupyterNbConvertNotSupported())}finally{n.dispose()}}async checkNotebookInterpreter(e){return this.nbConvertDependencyChecker.isNbConvertInstalled(e)}};u=r([o.injectable(),i(0,o.inject(l.IJupyterInterpreterDependencyManager)),i(1,o.inject(c.ProgressReporter)),i(2,o.inject(l.INbConvertInterpreterDependencyChecker)),i(3,o.inject(a.JupyterInterpreterService))],u),t.ExportInterpreterFinder=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportUtil=void 0;const o=n(0),s=n(28),a=n(6),c=n(41),l=n(16),u=n(19);let d=class{constructor(e){this.fs=e}async generateTempDir(){const e=a.join(s.tmpdir(),c());return await this.fs.createLocalDirectory(e),{path:e,dispose:async()=>{let t=0;for(;t<10;)try{await this.fs.deleteLocalDirectory(e),t=10}catch(e){await u.sleep(3e3),t+=1}}}}async makeFileInDirectory(e,t,n){const r=a.join(n,t);return await this.fs.writeLocalFile(r,e),r}async removeSvgs(e){const t=await this.fs.readLocalFile(e.fsPath),n=JSON.parse(t);for(const e of n.cells){const t=e.outputs;Array.isArray(t)&&this.removeSvgFromOutputs(t)}await this.fs.writeFile(e,JSON.stringify(n,void 0,4))}removeSvgFromOutputs(e){const t="image/svg+xml";for(const n of e)if(n.data){const e=n.data;if(!(t in e))continue;"image/png"in e&&delete e[t]}}};d=r([o.injectable(),i(0,o.inject(l.IFileSystem))],d),t.ExportUtil=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandSource=void 0,function(e){e.auto="auto",e.ui="ui",e.codelens="codelens",e.commandPalette="commandpalette"}(t.CommandSource||(t.CommandSource={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetMessageDispatcherFactory=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(73),u=n(13),d=n(1203);class h{constructor(e,t){this.baseMulticaster=e,this.oldMessages=t,this._postMessageEmitter=new s.EventEmitter,this.disposables=[],e.postMessage(this.raisePostMessage,this,this.disposables)}get postMessage(){return this._postMessageEmitter.event}dispose(){for(;this.disposables.length;){const e=this.disposables.shift();null==e||e.dispose()}}async initialize(){return this.baseMulticaster.initialize()}receiveMessage(e){this.baseMulticaster.receiveMessage(e)}raisePostMessage(e){this.oldMessages.forEach(e=>{this._postMessageEmitter.fire(e)}),this.oldMessages=[],this._postMessageEmitter.fire(e)}}let p=class{constructor(e,t,n){this.notebookProvider=e,this.notebook=n,this.messageDispatchers=new Map,this.messagesPerNotebook=new WeakMap,this.disposed=!1,this.disposables=[],t.push(this),e.onNotebookCreated(e=>this.trackDisposingOfNotebook(e.notebook),this,this.disposables),e.activeNotebooks.forEach(e=>e.then(e=>this.trackDisposingOfNotebook(e)).ignoreErrors())}dispose(){var e;for(this.disposed=!0;this.disposables.length;)null===(e=this.disposables.shift())||void 0===e||e.dispose()}create(e){let t=this.messageDispatchers.get(e.fsPath);const n=this.notebook.notebookDocuments.find(t=>t.uri.toString()===e.toString());t||(t=new d.IPyWidgetMessageDispatcher(this.notebookProvider,e),this.messageDispatchers.set(e.fsPath,t),this.disposables.push(t.postMessage(e=>this.onMessage(e,n),this)));let r=[];n&&this.messagesPerNotebook.get(n)&&(r=this.messagesPerNotebook.get(n)||[]);const i=new h(t,r);return this.disposables.push(i),i}trackDisposingOfNotebook(e){this.disposed||e.onDisposed(()=>{const t=this.messageDispatchers.get(e.identity.fsPath);this.messageDispatchers.delete(e.identity.fsPath),null==t||t.dispose()},this,this.disposables)}onMessage(e,t){t&&(this.messagesPerNotebook.set(t,this.messagesPerNotebook.get(t)||[]),e.message!==l.IPyWidgetMessages.IPyWidgets_kernelOptions&&e.message!==l.IPyWidgetMessages.IPyWidgets_registerCommTarget||this.messagesPerNotebook.get(t).push(e))}};p=r([o.injectable(),i(0,o.inject(u.INotebookProvider)),i(1,o.inject(c.IDisposableRegistry)),i(2,o.inject(a.IVSCodeNotebook))],p),t.IPyWidgetMessageDispatcherFactory=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInvalidKernelError=void 0;const r=n(29),i=n(10),o=n(8),s=n(5),a=n(22);class c extends r.BaseError{constructor(e){super("invalidkernel",i.DataScience.kernelInvalid().format(a.getDisplayNameOrNameOfKernelConnection(e))),this.kernelConnectionMetadata=e,o.sendTelemetryEvent(s.Telemetry.KernelInvalid)}}t.JupyterInvalidKernelError=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterWaitForIdleError=void 0;const r=n(29),i=n(8),o=n(5);class s extends r.BaseError{constructor(e){super("timeout",e),i.sendTelemetryEvent(o.Telemetry.SessionIdleTimeout)}}t.JupyterWaitForIdleError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterKernelPromiseFailedError=void 0;const r=n(29);class i extends r.BaseError{constructor(e){super("kernelpromisetimeout",e)}}t.JupyterKernelPromiseFailedError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRawKernel=t.RawKernel=t.suppressShutdownErrors=void 0;const r=n(127),i=n(41),o=n(14),s=n(4),a=n(9),c=n(22),l=n(1229);function u(e){if(o.isTestExecution()){const t=e;if(t&&t._futures){const e=t._futures;e&&e.forEach(e=>{void 0!==e._status&&(e._status|=4)})}t&&t._reconnectLimit&&(t._reconnectLimit=0)}}t.suppressShutdownErrors=u;class d{constructor(e,t,n){this.realKernel=e,this.kernelProcess=n,this.socket=t,t.emit("open")}get terminated(){return this.realKernel.terminated}get statusChanged(){return this.realKernel.statusChanged}get iopubMessage(){return this.realKernel.iopubMessage}get unhandledMessage(){return this.realKernel.unhandledMessage}get anyMessage(){return this.realKernel.anyMessage}get serverSettings(){return this.realKernel.serverSettings}get id(){return this.realKernel.id}get name(){return this.realKernel.name}get model(){return this.realKernel.model}get username(){return this.realKernel.username}get clientId(){return this.realKernel.clientId}get status(){return this.realKernel.status}get info(){return this.realKernel.info}get isReady(){return this.realKernel.isReady}get ready(){return this.realKernel.ready}get handleComms(){return this.realKernel.handleComms}get isDisposed(){return this.realKernel.isDisposed}async shutdown(){u(this.realKernel),await this.kernelProcess.dispose(),this.socket.dispose()}async getSpec(){if("startUsingKernelSpec"===this.kernelProcess.kernelConnectionMetadata.kind){const e=r(this.kernelProcess.kernelConnectionMetadata.kernelSpec),t="resources"in e?e.resources:{};return{...e,resources:t}}return s.traceError("Fetching kernel spec from raw kernel using JLab API"),this.realKernel.getSpec()}sendShellMessage(e,t,n){return this.realKernel.sendShellMessage(e,t,n)}sendControlMessage(e,t,n){return this.realKernel.sendControlMessage(e,t,n)}reconnect(){throw new Error("Reconnect is not supported.")}interrupt(){return this.kernelProcess.interrupt()}restart(){throw new Error("This method should not be called. Restart is implemented at a higher level")}requestKernelInfo(){return this.realKernel.requestKernelInfo()}requestComplete(e){return this.realKernel.requestComplete(e)}requestInspect(e){return this.realKernel.requestInspect(e)}requestHistory(e){return this.realKernel.requestHistory(e)}requestExecute(e,t,n){return this.realKernel.requestExecute(e,t,n)}requestDebug(e,t){return this.realKernel.requestDebug(e,t)}requestIsComplete(e){return this.realKernel.requestIsComplete(e)}requestCommInfo(e){return this.realKernel.requestCommInfo(e)}sendInputReply(e){return this.realKernel.sendInputReply(e)}connectToComm(e,t){return this.realKernel.connectToComm(e,t)}registerCommTarget(e,t){return this.realKernel.registerCommTarget(e,t)}removeCommTarget(e,t){return this.realKernel.removeCommTarget(e,t)}dispose(){a.swallowExceptions(()=>this.realKernel.dispose()),a.swallowExceptions(()=>this.socket.dispose())}registerMessageHook(e,t){this.realKernel.registerMessageHook(e,t)}removeMessageHook(e,t){this.realKernel.removeMessageHook(e,t)}}let h;t.RawKernel=d,t.createRawKernel=function(e,t){const r=n(89),o=n(326);let s;class a extends l.RawSocket{constructor(){super(e.connection,o.serialize,o.deserialize),s=this}}const u=r.ServerConnection.makeSettings({WebSocket:a,wsUrl:"RAW"});h||(h=n(1231));const p=new h.DefaultKernel({name:c.getNameOfKernelConnection(e.kernelConnectionMetadata),serverSettings:u,clientId:t,handleComms:!0},i());return new d(p,s,e)}},function(e,t){e.exports=require("./node_modules/zeromq")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.getRandomValues=function(){var e="undefined"!=typeof window&&(window.crypto||window.msCrypto)||n(61)||null;return e&&"function"==typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:e&&"function"==typeof e.randomFillSync?function(t){return e.randomFillSync(t)}:e&&"function"==typeof e.randomBytes?function(t){for(var n=e.randomBytes(t.length),r=0,i=n.length;r<i;++r)t[r]=n[r]}:function(e){for(var t=0,n=0,r=e.length;n<r;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}}()}(t.Random||(t.Random={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1259));!function(e){function t(e){if("undefined"!=typeof document&&document){let t=document.createElement("a");return t.href=e,t}return i.default(e)}function n(...e){const t=(e=e||[])[0]||"",n=0===t.indexOf("//"),r=t.match(/(\w+)(:)(\/\/)?/),i=r&&r[1],o=i&&r[2],s=o&&r[3],a=n?"//":[i,o,s].filter(e=>e).join("");return a+[0===t.indexOf(a)?t.replace(a,""):t].filter(e=>e).concat(e.slice(1).map(e=>e.replace(/^\//,""))).join("/").replace(/\/+/g,"/")}e.parse=t,e.normalize=function(e){return e&&t(e).toString()},e.join=n,e.encodeParts=function(e){return n(...e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){const t=Object.keys(e).filter(e=>e.length>0);return t.length?"?"+t.map(t=>{const n=encodeURIComponent(String(e[t]));return t+(n?"="+n:"")}).join("&"):""},e.queryStringToObject=function(e){return e.replace(/^\?/,"").split("&").reduce((e,t)=>{const[n,r]=t.split("=");return n.length>0&&(e[n]=decodeURIComponent(r||"")),e},{})},e.isLocal=function(e){const{protocol:n}=t(e);return 0!==e.toLowerCase().indexOf(n)&&0!==e.indexOf("/")}}(t.URLExt||(t.URLExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(57),o="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,s="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;class a{constructor(e){this._disposed=new i.Signal(this),this._tick=new r.PromiseDelegate,this._ticked=new i.Signal(this),this._timeout=-1,this._factory=e.factory,this._standby=e.standby||c.DEFAULT_STANDBY,this._state=Object.assign({},c.DEFAULT_STATE,{timestamp:(new Date).getTime()}),this.frequency=Object.assign({},c.DEFAULT_FREQUENCY,e.frequency||{}),this.name=e.name||c.DEFAULT_NAME,"auto"in e&&!e.auto||o(()=>{this.start()})}get disposed(){return this._disposed}get frequency(){return this._frequency}set frequency(e){if(this.isDisposed||r.JSONExt.deepEqual(e,this.frequency||{}))return;let{backoff:t,interval:n,max:i}=e;if(n=Math.round(n),i=Math.round(i),"number"==typeof t&&t<1)throw new Error("Poll backoff growth factor must be at least 1");if((n<0||n>i)&&n!==a.NEVER)throw new Error("Poll interval must be between 0 and max");if(i>a.MAX_INTERVAL&&i!==a.NEVER)throw new Error("Max interval must be less than "+a.MAX_INTERVAL);this._frequency={backoff:t,interval:n,max:i}}get isDisposed(){return"disposed"===this.state.phase}get standby(){return this._standby}set standby(e){this.isDisposed||this.standby===e||(this._standby=e)}get state(){return this._state}get tick(){return this._tick.promise}get ticked(){return this._ticked}dispose(){this.isDisposed||(this._state=Object.assign({},c.DISPOSED_STATE,{timestamp:(new Date).getTime()}),this._tick.promise.catch(e=>{}),this._tick.reject(new Error(`Poll (${this.name}) is disposed.`)),this._disposed.emit(),i.Signal.clearData(this))}refresh(){return this.schedule({cancel:({phase:e})=>"refreshed"===e,interval:a.IMMEDIATE,phase:"refreshed"})}async schedule(e={}){if(this.isDisposed)return;if(e.cancel&&e.cancel(this.state))return;const t=this.state,n=this._tick,i=new r.PromiseDelegate,c=Object.assign({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime()},e);this._state=c,this._tick=i,t.interval===a.IMMEDIATE?s(this._timeout):clearTimeout(this._timeout),this._ticked.emit(this.state),n.resolve(this),await n.promise;const l=()=>{this.isDisposed||this.tick!==i.promise||this._execute()};this._timeout=c.interval===a.IMMEDIATE?o(l):c.interval===a.NEVER?-1:setTimeout(l,c.interval)}start(){return this.schedule({cancel:({phase:e})=>"constructed"!==e&&"standby"!==e&&"stopped"!==e,interval:a.IMMEDIATE,phase:"started"})}stop(){return this.schedule({cancel:({phase:e})=>"stopped"===e,interval:a.NEVER,phase:"stopped"})}_execute(){let e="function"==typeof this.standby?this.standby():this.standby;if(e="never"!==e&&("when-hidden"!==e||!("undefined"==typeof document||!document||!document.hidden)),e)return void this.schedule();const t=this.tick;this._factory(this.state).then(e=>{this.isDisposed||this.tick!==t||this.schedule({payload:e,phase:"rejected"===this.state.phase?"reconnected":"resolved"})}).catch(e=>{this.isDisposed||this.tick!==t||this.schedule({interval:c.sleep(this.frequency,this.state),payload:e,phase:"rejected"})})}}var c;t.Poll=a,function(e){e.IMMEDIATE=0,e.MAX_INTERVAL=2147483647,e.NEVER=1/0}(a=t.Poll||(t.Poll={})),function(e){e.DEFAULT_BACKOFF=3,e.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},e.DEFAULT_NAME="unknown",e.DEFAULT_STANDBY="when-hidden",e.DEFAULT_STATE={interval:a.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},e.DISPOSED_STATE={interval:a.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},e.sleep=function(t,n){const{backoff:r,interval:i,max:o}=t;if(i===a.NEVER)return i;const s=!0===r?e.DEFAULT_BACKOFF:!1===r?1:r,c=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(i,n.interval*s);return Math.min(o,c)}}(c||(c={}))},function(e,t,n){"use strict";var r=n(150);e.exports=function(e){r.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(s="",n=0;n<c.length;n++){var l=c[n],u=e(t[l]);u&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u)}return o.splice(a,1),"{"+s+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var c="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var l=e.level,u=e.dataLevel,d=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,m="data"+(u||""),g="valid"+l;if(!1===e.schema){e.isTop?f=!0:r+=" var "+g+" = false; ",(Q=Q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;r=Q.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;l=e.level=0,u=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{l=e.level,m="data"+((u=e.dataLevel)||"");if(s&&(e.baseId=e.resolve.url(e.baseId,s)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+l+" = errors;"}g="valid"+l,f=!e.opts.allErrors;var _="",w="",S=e.schema.type,E=Array.isArray(S);if(S&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==S.indexOf("null")&&(S=S.concat("null")):"null"!=S&&(S=[S,"null"],E=!0)),E&&1==S.length&&(S=S[0],E=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var x=e.util.coerceToTypes(e.opts.coerceTypes,S);var C=e.RULES.types[S];if(x||E||!0===C||C&&!X(C)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var k=E?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[k](S,m,!0)+") { ",x){var D="dataType"+l,T="coerced"+l;r+=" var "+D+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+D+" == 'object' && Array.isArray("+m+")) "+D+" = 'array'; "),r+=" var "+T+" = undefined; ";var I="",M=x;if(M)for(var P,j=-1,L=M.length-1;j<L;)P=M[j+=1],j&&(r+=" if ("+T+" === undefined) { ",I+="}"),"array"==e.opts.coerceTypes&&"array"!=P&&(r+=" if ("+D+" == 'array' && "+m+".length == 1) { "+T+" = "+m+" = "+m+"[0]; "+D+" = typeof "+m+";  } "),"string"==P?r+=" if ("+D+" == 'number' || "+D+" == 'boolean') "+T+" = '' + "+m+"; else if ("+m+" === null) "+T+" = ''; ":"number"==P||"integer"==P?(r+=" if ("+D+" == 'boolean' || "+m+" === null || ("+D+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==P&&(r+=" && !("+m+" % 1)"),r+=")) "+T+" = +"+m+"; "):"boolean"==P?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+T+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+T+" = true; ":"null"==P?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(r+=" if ("+D+" == 'string' || "+D+" == 'number' || "+D+" == 'boolean' || "+m+" == null) "+T+" = ["+m+"]; ");r+=" "+I+" if ("+T+" === undefined) {   ",(Q=Q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=E?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";v=r;r=Q.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var O=u?"data"+(u-1||""):"parentData";r+=" "+m+" = "+T+"; ",u||(r+="if ("+O+" !== undefined)"),r+=" "+O+"["+(u?e.dataPathArr[u]:"parentDataProperty")+"] = "+T+"; } "}else{(Q=Q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=E?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";v=r;r=Q.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(r+=" } if (errors === ",r+=y?"0":"errs_"+l,r+=") { ",w+="}");else{var A=e.RULES;if(A)for(var N=-1,R=A.length-1;N<R;)if(X(C=A[N+=1])){if(C.type&&(r+=" if ("+e.util.checkDataType(C.type,m)+") { "),e.opts.useDefaults)if("object"==C.type&&e.schema.properties){d=e.schema.properties;var F=Object.keys(d);if(F)for(var B,U=-1,Y=F.length-1;U<Y;){if(void 0!==(V=d[B=F[U+=1]]).default){var W=m+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+W+" === null || "+W+" === '' "),r+=" ) "+W+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(V.default)+" ":r+=" "+JSON.stringify(V.default)+" ",r+="; "}}}else if("array"==C.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){j=-1;for(var V,K=H.length-1;j<K;)if(void 0!==(V=H[j+=1]).default){W=m+"["+j+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+W+" === null || "+W+" === '' "),r+=" ) "+W+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(V.default)+" ":r+=" "+JSON.stringify(V.default)+" ",r+="; "}}}var q=C.rules;if(q)for(var J,$=-1,z=q.length-1;$<z;)if(Z(J=q[$+=1])){var G=J.code(e,J.keyword,C.type);G&&(r+=" "+G+" ",f&&(_+="}"))}if(f&&(r+=" "+_+" ",_=""),C.type&&(r+=" } ",S&&S===C.type&&!x)){r+=" else { ";var Q;h=e.schemaPath+".type",p=e.errSchemaPath+"/type";(Q=Q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=E?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";v=r;r=Q.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}f&&(r+=" if (errors === ",r+=y?"0":"errs_"+l,r+=") { ",w+="}")}}function X(e){for(var t=e.rules,n=0;n<t.length;n++)if(Z(t[n]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return f&&(r+=" "+w+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+l+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],g=e.opts.$data&&m&&m.$data,v=p?"<":">",y=p?">":"<",b=void 0;if(g){var _=e.util.getData(m.$data,s,e.dataPathArr),w="exclusive"+o,S="exclType"+o,E="exclIsNumber"+o,x="' + "+(D="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+_+"; ",i+=" var "+w+"; var "+S+" = typeof "+(_="schemaExcl"+o)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var C;b=f;(C=C||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var k=i;i=C.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+_+" "+v+"= "+r+") ? "+d+" "+y+"= "+_+" : "+d+" "+y+" "+r+" ) : ( ("+w+" = "+_+" === true) ? "+d+" "+y+"= "+r+" : "+d+" "+y+" "+r+" ) || "+d+" !== "+d+") { var op"+o+" = "+w+" ? '"+v+"' : '"+v+"='; ",void 0===a&&(b=f,l=e.errSchemaPath+"/"+f,r=_,h=g)}else{x=v;if((E="number"==typeof m)&&h){var D="'"+x+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+d+" "+y+"= "+m+" : "+d+" "+y+" "+r+" ) || "+d+" !== "+d+") { "}else{E&&void 0===a?(w=!0,b=f,l=e.errSchemaPath+"/"+f,r=m,y+="="):(E&&(r=Math[p?"min":"max"](m,a)),m===(!E||r)?(w=!0,b=f,l=e.errSchemaPath+"/"+f,y+="="):(w=!1,x+="="));D="'"+x+"'";i+=" if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+" "+y+" "+r+" || "+d+" !== "+d+") { "}}b=b||t,(C=C||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+D+", limit: "+r+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+x+" ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";k=i;return i=C.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+a,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a;var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+d+".length ":i+=" ucs2length("+d+") ",i+=" "+p+" "+r+") { ";var f=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+r+" + '":""+a,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+r+" + '":""+a,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){const r=n(1304);e.exports={isSpaceSeparator:e=>r.Space_Separator.test(e),isIdStartChar:e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||r.ID_Start.test(e),isIdContinueChar:e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||""===e||""===e||r.ID_Continue.test(e),isDigit:e=>/[0-9]/.test(e),isHexDigit:e=>/[0-9A-Fa-f]/.test(e)}},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,s){var a=r(t),c=i[e][r(t)];return 2===a&&(c=c[n?0:1]),c.replace(/%d/i,t)}},s=["","","","","","","","","","","",""];e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,o,s){var a=n(t),c=r[e][n(t)];return 2===a&&(c=c[i?0:1]),c.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(e){return e>1&&e<5&&1!=~~(e/10)}function s(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":return t||r?i+(o(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(o(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(o(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(o(e)?"dny":"dn"):i+"dny";case"M":return t||r?"msc":"mscem";case"MM":return t||r?i+(o(e)?"msce":"msc"):i+"msci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(o(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,r=this._calendarEl[e],i=t&&t.hours();return((n=r)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(t)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,i,o){var s="";switch(i){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":s=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":s=o?"tunnin":"tuntia";break;case"d":return o?"pivn":"piv";case"dd":s=o?"pivn":"piv";break;case"M":return o?"kuukauden":"kuukausi";case"MM":s=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":s=o?"vuoden":"vuotta"}return s=function(e,r){return e<10?r?n[e]:t[e]:e}(e,o)+" "+s}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],weekdaysShort:["Dom","Lua","Mi","Ca","Da","hAo","Sat"],weekdaysMin:["Do","Lu","M","Ce","D","hA","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?o+(n||i?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function o(e,t,o,s){var a=e+" ";return 1===e?a+n(0,t,o[0],s):t?a+(r(e)?i(o)[1]:i(o)[0]):s?a+i(o)[1]:a+(r(e)?i(o)[1]:i(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i;return"m"===n?t?"":"":e+" "+(r=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"seknd"):o+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?o+(r(e)?"minty":"mint"):o+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodn"):o+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?o+(r(e)?"dni":"dn"):o+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t||2===t?"a":"e")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var o=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}(e);switch(r){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,i;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,i={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(2))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(2))},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(65),o=n(91),s=n(57),a=n(120),c=r(n(1313));var l;!function(e){e.validateContentsModel=function(e){c.validateContentsModel(e)},e.validateCheckpointModel=function(e){c.validateCheckpointModel(e)}}(t.Contents||(t.Contents={}));t.ContentsManager=class{constructor(e={}){this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new s.Signal(this);let t=this.serverSettings=e.serverSettings||a.ServerConnection.makeSettings();this._defaultDrive=e.defaultDrive||new u({serverSettings:t}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getModelDBFactory(e){let[t]=this._driveForPath(e);return t&&t.modelDBFactory||null}localPath(e){const t=e.split("/"),n=t[0].split(":");return 1!==n.length&&this._additionalDrives.has(n[0])?i.PathExt.join(n.slice(1).join(":"),...t.slice(1)):i.PathExt.removeSlash(e)}normalize(e){const t=e.split(":");return 1===t.length?i.PathExt.normalize(e):`${t[0]}:${i.PathExt.normalize(t.slice(1).join(":"))}`}driveName(e){const t=e.split("/")[0].split(":");return 1===t.length?"":this._additionalDrives.has(t[0])?t[0]:""}get(e,t){let[n,r]=this._driveForPath(e);return n.get(r,t).then(e=>{let t=[];return"directory"===e.type&&e.content?(o.each(e.content,e=>{t.push(Object.assign({},e,{path:this._toGlobalPath(n,e.path)}))}),Object.assign({},e,{path:this._toGlobalPath(n,r),content:t})):Object.assign({},e,{path:this._toGlobalPath(n,r)})})}getDownloadUrl(e){let[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){let t=this.normalize(e.path),[n,r]=this._driveForPath(t);return n.newUntitled(Object.assign({},e,{path:r})).then(e=>Object.assign({},e,{path:i.PathExt.join(t,e.name)}))}return this._defaultDrive.newUntitled(e)}delete(e){let[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){let[n,r]=this._driveForPath(e),[i,o]=this._driveForPath(t);if(n!==i)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(r,o).then(e=>Object.assign({},e,{path:this._toGlobalPath(n,o)}))}save(e,t={}){const n=this.normalize(e),[r,i]=this._driveForPath(e);return r.save(i,Object.assign({},t,{path:i})).then(e=>Object.assign({},e,{path:n}))}copy(e,t){let[n,r]=this._driveForPath(e),[i,o]=this._driveForPath(t);if(n===i)return n.copy(r,o).then(e=>Object.assign({},e,{path:this._toGlobalPath(n,e.path)}));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){let[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){let[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){let[n,r]=this._driveForPath(e);return n.restoreCheckpoint(r,t)}deleteCheckpoint(e,t){let[n,r]=this._driveForPath(e);return n.deleteCheckpoint(r,t)}_toGlobalPath(e,t){return e===this._defaultDrive?i.PathExt.removeSlash(t):`${e.name}:${i.PathExt.removeSlash(t)}`}_driveForPath(e){const t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){if(e===this._defaultDrive)this._fileChanged.emit(t);else{let n=null,r=null;t.newValue&&t.newValue.path&&(n=Object.assign({},t.newValue,{path:this._toGlobalPath(e,t.newValue.path)})),t.oldValue&&t.oldValue.path&&(r=Object.assign({},t.oldValue,{path:this._toGlobalPath(e,t.oldValue.path)})),this._fileChanged.emit({type:t.type,newValue:n,oldValue:r})}}};class u{constructor(e={}){this._isDisposed=!1,this._fileChanged=new s.Signal(this),this.name=e.name||"Default",this._apiEndpoint=e.apiEndpoint||"api/contents",this.serverSettings=e.serverSettings||a.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,s.Signal.clearData(this))}get(e,t){let n=this._getUrl(e);if(t){"notebook"===t.type&&delete t.format;let e=t.content?"1":"0",r=Object.assign({},t,{content:e});n+=i.URLExt.objectToQueryString(r)}let r=this.serverSettings;return a.ServerConnection.makeRequest(n,{},r).then(e=>{if(200!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(e=>(c.validateContentsModel(e),e))}getDownloadUrl(e){let t=this.serverSettings.baseUrl,n=i.URLExt.join(t,"files",i.URLExt.encodeParts(e));const r=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(r){const e=new URL(n);e.searchParams.append("_xsrf",r[1]),n=e.toString()}return Promise.resolve(n)}newUntitled(e={}){let t="{}";e&&(e.ext&&(e.ext=l.normalizeExtension(e.ext)),t=JSON.stringify(e));let n=this.serverSettings,r=this._getUrl(e.path||""),i={method:"POST",body:t};return a.ServerConnection.makeRequest(r,i,n).then(e=>{if(201!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(e=>(c.validateContentsModel(e),this._fileChanged.emit({type:"new",oldValue:null,newValue:e}),e))}delete(e){let t=this._getUrl(e),n=this.serverSettings;return a.ServerConnection.makeRequest(t,{method:"DELETE"},n).then(t=>{if(400===t.status)return t.json().then(e=>{throw new a.ServerConnection.ResponseError(t,e.message)});if(204!==t.status)throw new a.ServerConnection.ResponseError(t);this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})})}rename(e,t){let n=this.serverSettings,r=this._getUrl(e),i={method:"PATCH",body:JSON.stringify({path:t})};return a.ServerConnection.makeRequest(r,i,n).then(e=>{if(200!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(t=>(c.validateContentsModel(t),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:t}),t))}save(e,t={}){let n=this.serverSettings,r=this._getUrl(e),i={method:"PUT",body:JSON.stringify(t)};return a.ServerConnection.makeRequest(r,i,n).then(e=>{if(200!==e.status&&201!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(e=>(c.validateContentsModel(e),this._fileChanged.emit({type:"save",oldValue:null,newValue:e}),e))}copy(e,t){let n=this.serverSettings,r=this._getUrl(t),i={method:"POST",body:JSON.stringify({copy_from:e})};return a.ServerConnection.makeRequest(r,i,n).then(e=>{if(201!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(e=>(c.validateContentsModel(e),this._fileChanged.emit({type:"new",oldValue:null,newValue:e}),e))}createCheckpoint(e){let t=this._getUrl(e,"checkpoints");return a.ServerConnection.makeRequest(t,{method:"POST"},this.serverSettings).then(e=>{if(201!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(e=>(c.validateCheckpointModel(e),e))}listCheckpoints(e){let t=this._getUrl(e,"checkpoints");return a.ServerConnection.makeRequest(t,{},this.serverSettings).then(e=>{if(200!==e.status)throw new a.ServerConnection.ResponseError(e);return e.json()}).then(e=>{if(!Array.isArray(e))throw new Error("Invalid Checkpoint list");for(let t=0;t<e.length;t++)c.validateCheckpointModel(e[t]);return e})}restoreCheckpoint(e,t){let n=this._getUrl(e,"checkpoints",t);return a.ServerConnection.makeRequest(n,{method:"POST"},this.serverSettings).then(e=>{if(204!==e.status)throw new a.ServerConnection.ResponseError(e)})}deleteCheckpoint(e,t){let n=this._getUrl(e,"checkpoints",t);return a.ServerConnection.makeRequest(n,{method:"DELETE"},this.serverSettings).then(e=>{if(204!==e.status)throw new a.ServerConnection.ResponseError(e)})}_getUrl(...e){let t=e.map(e=>i.URLExt.encodeParts(e)),n=this.serverSettings.baseUrl;return i.URLExt.join(n,this._apiEndpoint,...t)}}t.Drive=u,function(e){e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e="."+e),e}}(l||(l={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1314);!function(e){e.findById=function(e,t){return r.DefaultKernel.findById(e,t)},e.getSpecs=function(e){return r.DefaultKernel.getSpecs(e)},e.listRunning=function(e){return r.DefaultKernel.listRunning(e)},e.startNew=function(e={}){return r.DefaultKernel.startNew(e)},e.connectTo=function(e,t){return r.DefaultKernel.connectTo(e,t)},e.shutdown=function(e,t){return r.DefaultKernel.shutdown(e,t)},e.shutdownAll=function(e){return r.DefaultKernel.shutdownAll(e)}}(t.Kernel||(t.Kernel={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(330),i=n(198);class o extends r.DisposableDelegate{constructor(e,t,n,r){super(r),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");let r=i.KernelMessage.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:e||{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(r,!1,!0)}send(e,t,n=[],r=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");let o=i.KernelMessage.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(o,!1,!0)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");let r=i.KernelMessage.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e||{}},metadata:t,buffers:n}),o=this._kernel.sendShellMessage(r,!1,!0),s=this._onClose;if(s){s(i.KernelMessage.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e||{}},metadata:t,buffers:n}))}return this.dispose(),o}}t.CommHandler=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(330),o=n(198);class s extends i.DisposableDelegate{constructor(e,t,n,i,o){super(e),this._status=0,this._stdin=a.noOp,this._iopub=a.noOp,this._reply=a.noOp,this._done=new r.PromiseDelegate,this._hooks=new a.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(a.KernelFutureFlag.GotReply),this._disposeOnDone=i,this._kernel=o}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e){this._kernel.sendInputReply(e)}dispose(){this._stdin=a.noOp,this._iopub=a.noOp,this._reply=a.noOp,this._hooks=null,this._testFlag(a.KernelFutureFlag.IsDone)||(this._done.reject(new Error("Canceled")),this._done.promise.catch(()=>{})),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e)}}async _handleReply(e){let t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(a.KernelFutureFlag.GotReply),this._testFlag(a.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){let t=this._stdin;t&&await t(e)}async _handleIOPub(e){let t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),o.KernelMessage.isStatusMsg(e)&&"idle"===e.content.execution_state&&(this._setFlag(a.KernelFutureFlag.GotIdle),this._testFlag(a.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(a.KernelFutureFlag.IsDone)||(this._setFlag(a.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return 0!=(this._status&e)}_setFlag(e){this._status|=e}}t.KernelFutureHandler=s;t.KernelControlFutureHandler=class extends s{};var a;t.KernelShellFutureHandler=class extends s{},function(e){e.noOp=()=>{};const t="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;let n;e.HookList=class{constructor(){this._hooks=[]}add(e){this.remove(e),this._hooks.push(e)}remove(e){let t=this._hooks.indexOf(e);t>=0&&(this._hooks[t]=null,this._scheduleCompact())}async process(e){await this._processing;let t,n=new r.PromiseDelegate;this._processing=n.promise;for(let r=this._hooks.length-1;r>=0;r--){let i=this._hooks[r];if(null!==i){try{t=await i(e)}catch(e){t=!0,console.error(e)}if(!1===t)return n.resolve(void 0),!1}}return n.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,t(()=>{this._processing=this._processing.then(()=>{this._compactScheduled=!1,this._compact()})}))}_compact(){let e=0;for(let t=0,n=this._hooks.length;t<n;t++){let n=this._hooks[t];null===this._hooks[t]?e++:this._hooks[t-e]=n}this._hooks.length-=e}},function(e){e[e.GotReply=1]="GotReply",e[e.GotIdle=2]="GotIdle",e[e.IsDone=4]="IsDone",e[e.DisposeOnDone=8]="DisposeOnDone"}(n=e.KernelFutureFlag||(e.KernelFutureFlag={}))}(a||(a={}))},function(e){e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},function(e,t,n){"use strict";const r=n(35),i=n(58),o=n(48),s=n(110),a=n(662),{randomBytes:c,createHash:l}=n(61),{URL:u}=n(31),d=n(239),h=n(664),p=n(666),{BINARY_TYPES:f,EMPTY_BUFFER:m,GUID:g,kStatusCode:v,kWebSocket:y,NOOP:b}=n(151),{addEventListener:_,removeEventListener:w}=n(1339),{format:S,parse:E}=n(667),{toBuffer:x}=n(240),C=["CONNECTING","OPEN","CLOSING","CLOSED"],k=[8,13];class D extends r{constructor(e,t,n){super(),this.readyState=D.CONNECTING,this.protocol="",this._binaryType=f[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function e(t,n,r,s){const a={protocolVersion:k[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0};if(!k.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${k.join(", ")})`);let h;n instanceof u?(h=n,t.url=n.href):(h=new u(n),t.url=n);const p="ws+unix:"===h.protocol;if(!(h.host||p&&h.pathname))throw new Error("Invalid URL: "+t.url);const f="wss:"===h.protocol||"https:"===h.protocol,m=f?443:80,v=c(16).toString("base64"),y=f?i.get:o.get;let b;a.createConnection=f?I:T,a.defaultPort=a.defaultPort||m,a.port=h.port||m,a.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=h.pathname+h.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(b=new d(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=S({[d.extensionName]:b.offer()}));r&&(a.headers["Sec-WebSocket-Protocol"]=r);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(h.username||h.password)&&(a.auth=`${h.username}:${h.password}`);if(p){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let _=t._req=y(a);a.timeout&&_.on("timeout",()=>{M(t,_,"Opening handshake has timed out")});_.on("error",e=>{t._req.aborted||(_=t._req=null,t.readyState=D.CLOSING,t.emit("error",e),t.emitClose())}),_.on("response",i=>{const o=i.headers.location,c=i.statusCode;if(o&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void M(t,_,"Maximum redirects exceeded");_.abort();const i=new u(o,n);e(t,i,r,s)}else t.emit("unexpected-response",_,i)||M(t,_,"Unexpected server response: "+i.statusCode)}),_.on("upgrade",(e,n,i)=>{if(t.emit("upgrade",e),t.readyState!==D.CONNECTING)return;_=t._req=null;const o=l("sha1").update(v+g).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void M(t,n,"Invalid Sec-WebSocket-Accept header");const s=e.headers["sec-websocket-protocol"],c=(r||"").split(/, */);let u;if(!r&&s?u="Server sent a subprotocol but none was requested":r&&!s?u="Server sent no subprotocol":s&&!c.includes(s)&&(u="Server sent an invalid subprotocol"),u)M(t,n,u);else{if(s&&(t.protocol=s),b)try{const n=E(e.headers["sec-websocket-extensions"]);n[d.extensionName]&&(b.accept(n[d.extensionName]),t._extensions[d.extensionName]=b)}catch(e){return void M(t,n,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(n,i,a.maxPayload)}})}(this,e,t,n)):this._isServer=!0}get CONNECTING(){return D.CONNECTING}get CLOSING(){return D.CLOSING}get CLOSED(){return D.CLOSED}get OPEN(){return D.OPEN}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new h(this._binaryType,this._extensions,n);this._sender=new p(e,this._extensions),this._receiver=r,this._socket=e,r[y]=this,e[y]=this,r.on("conclude",j),r.on("drain",L),r.on("error",O),r.on("message",N),r.on("ping",R),r.on("pong",F),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",B),e.on("data",U),e.on("end",Y),e.on("error",W),this.readyState=D.OPEN,this.emit("open")}emitClose(){this.readyState=D.CLOSED,this._socket?(this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==D.CLOSED){if(this.readyState===D.CONNECTING){const e="WebSocket was closed before the connection was established";return M(this,this._req,e)}this.readyState!==D.CLOSING?(this.readyState=D.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if(this.readyState===D.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===D.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||m,t,n)):P(this,e,n)}pong(e,t,n){if(this.readyState===D.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===D.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||m,t,n)):P(this,e,n)}send(e,t,n){if(this.readyState===D.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==D.OPEN)return void P(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(r.compress=!1),this._sender.send(e||m,r,n)}terminate(){if(this.readyState!==D.CLOSED){if(this.readyState===D.CONNECTING){const e="WebSocket was closed before the connection was established";return M(this,this._req,e)}this._socket&&(this.readyState=D.CLOSING,this._socket.destroy())}}}function T(e){return e.path=e.socketPath,s.connect(e)}function I(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function M(e,t,n){e.readyState=D.CLOSING;const r=new Error(n);Error.captureStackTrace(r,M),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function P(e,t,n){if(t){const n=x(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){n(new Error(`WebSocket is not open: readyState ${e.readyState} (${C[e.readyState]})`))}}function j(e,t){const n=this[y];n._socket.removeListener("data",U),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function L(){this[y]._socket.resume()}function O(e){const t=this[y];t._socket.removeListener("data",U),t.readyState=D.CLOSING,t._closeCode=e[v],t.emit("error",e),t._socket.destroy()}function A(){this[y].emitClose()}function N(e){this[y].emit("message",e)}function R(e){const t=this[y];t.pong(e,!t._isServer,b),t.emit("ping",e)}function F(e){this[y].emit("pong",e)}function B(){const e=this[y];this.removeListener("close",B),this.removeListener("end",Y),e.readyState=D.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",U),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",A),e._receiver.on("finish",A))}function U(e){this[y]._receiver.write(e)||this.pause()}function Y(){const e=this[y];e.readyState=D.CLOSING,e._receiver.end(),this.end()}function W(){const e=this[y];this.removeListener("error",W),this.on("error",b),e&&(e.readyState=D.CLOSING,this.destroy())}C.forEach((e,t)=>{D[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(D.prototype,"on"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const n=this.listeners(e);for(let t=0;t<n.length;t++)n[t]._listener&&this.removeListener(e,n[t]);this.addEventListener(e,t)}})}),D.prototype.addEventListener=_,D.prototype.removeEventListener=w,e.exports=D},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=e||{},this.concurrency=e.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=i.bind(this)}function i(){this.pending--,this._run()}["push","unshift","splice"].forEach((function(e){r.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this._run(),t}})),Object.defineProperty(r.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),r.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var e=this.jobs.shift();this.pending++,e(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var t=this.cbs.pop();process.nextTick(t)}}},r.prototype.onDone=function(e){"function"==typeof e&&(this.cbs.push(e),this._run())},e.exports=r},function(e,t,n){"use strict";const{Writable:r}=n(17),i=n(239),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=n(151),{concat:l,toArrayBuffer:u,unmask:d}=n(240),{isValidStatusCode:h,isValidUTF8:p}=n(665);function f(e,t,n,r){const i=new e(n?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(i,f),i[a]=r,i}e.exports=class extends r{constructor(e,t,n){super(),this._binaryType=e||o[0],this[c]=void 0,this._extensions=t||{},this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,f(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",n)}else{const n=l(t,e);if(!p(n))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",n.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return f(RangeError,"invalid status code "+t,!0,1002);const n=e.slice(2);if(!p(n))return f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,n){"use strict";try{const e=n(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,n){"use strict";const{randomFillSync:r}=n(61),i=n(239),{EMPTY_BUFFER:o}=n(151),{isValidStatusCode:s}=n(665),{mask:a,toBuffer:c}=n(240),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;let i=t.mask?6:2,o=e.length;e.length>=65536?(i+=8,o=127):e.length>125&&(i+=2,o=126);const s=Buffer.allocUnsafe(n?e.length+i:i);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=o,126===o?s.writeUInt16BE(e.length,2):127===o&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(r(l,0,4),s[1]|=128,s[i-4]=l[0],s[i-3]=l[1],s[i-2]=l[2],s[i-1]=l[3],n?(a(e,l,s,i,e.length),[s]):(a(e,l,e,0,e.length),[s,e])):[s,e]}close(e,t,n,r){let i;if(void 0===e)i=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0)):(i=Buffer.allocUnsafe(2+Buffer.byteLength(t)),i.writeUInt16BE(e,0),i.write(t,2))}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,n]):this.doPing(r,t,c.readOnly,n)}doPing(e,t,n,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,n]):this.doPong(r,t,c.readOnly,n)}doPong(e,t,n,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=c(e),o=this._extensions[i.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=r.length>=o._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(u.frame(r,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(u.frame(e,n),r);const o=this._extensions[i.extensionName];this._deflating=!0,o.compress(e,n.fin,(e,t)=>{this._deflating=!1,n.readOnly=!1,this.sendFrame(u.frame(t,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let n,o,s=Object.create(null),a=!1,c=!1,l=!1,u=-1,d=-1,h=0;for(;h<e.length;h++){const p=e.charCodeAt(h);if(void 0===n)if(-1===d&&1===r[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else{if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+h);{if(-1===u)throw new SyntaxError("Unexpected character at index "+h);-1===d&&(d=h);const r=e.slice(u,d);44===p?(i(t,r,s),s=Object.create(null)):n=r,u=d=-1}}else if(void 0===o)if(-1===d&&1===r[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw new SyntaxError("Unexpected character at index "+h);-1===d&&(d=h),i(s,e.slice(u,d),!0),44===p&&(i(t,n,s),s=Object.create(null),n=void 0),u=d=-1}else{if(61!==p||-1===u||-1!==d)throw new SyntaxError("Unexpected character at index "+h);o=e.slice(u,h),u=d=-1}else if(c){if(1!==r[p])throw new SyntaxError("Unexpected character at index "+h);-1===u?u=h:a||(a=!0),c=!1}else if(l)if(1===r[p])-1===u&&(u=h);else if(34===p&&-1!==u)l=!1,d=h;else{if(92!==p)throw new SyntaxError("Unexpected character at index "+h);c=!0}else if(34===p&&61===e.charCodeAt(h-1))l=!0;else if(-1===d&&1===r[p])-1===u&&(u=h);else if(-1===u||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+h);{if(-1===u)throw new SyntaxError("Unexpected character at index "+h);-1===d&&(d=h);let r=e.slice(u,d);a&&(r=r.replace(/\\/g,""),a=!1),i(s,o,r),44===p&&(i(t,n,s),s=Object.create(null),n=void 0),o=void 0,u=d=-1}}else-1===d&&(d=h)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===d&&(d=h);const p=e.slice(u,d);return void 0===n?i(t,p,s):(void 0===o?i(s,p,!0):i(s,o,a?p.replace(/\\/g,""):p),i(t,n,s)),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(134);t.NbConvertManager=class{constructor(e={}){this.serverSettings=e.serverSettings||i.ServerConnection.makeSettings()}getExportFormats(){const e=this.serverSettings.baseUrl,t=r.URLExt.join(e,"api/nbconvert"),{serverSettings:n}=this;return i.ServerConnection.makeRequest(t,{},n).then(e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()}).then(e=>{let t={};return Object.keys(e).forEach((function(n){let r=e[n].output_mimetype;t[n]={output_mimetype:r}})),t})}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1342)),r(n(670))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1343);!function(e){e.listRunning=function(e){return r.DefaultSession.listRunning(e)},e.startNew=function(e){return r.DefaultSession.startNew(e)},e.findById=function(e,t){return r.DefaultSession.findById(e,t)},e.findByPath=function(e,t){return r.DefaultSession.findByPath(e,t)},e.connectTo=function(e,t){return r.DefaultSession.connectTo(e,t)},e.shutdown=function(e,t){return r.DefaultSession.shutdown(e,t)},e.shutdownAll=function(e){return r.DefaultSession.shutdownAll(e)}}(t.Session||(t.Session={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(134);class o extends r.DataConnector{constructor(e={}){super(),this.serverSettings=e.serverSettings||i.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:o,ResponseError:a}=i.ServerConnection,c=n+r,l=s.url(c,e),u=await o(l,{},t);if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");if(200!==u.status)throw new a(u);return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:r,ResponseError:o}=i.ServerConnection,a=t+n,c=s.url(a,""),l=await r(c,{},e);if(200!==l.status)throw new o(l);const u=((await l.json()||{}).settings||[]).map(e=>(e.data={composite:{},user:{}},e));return{ids:u.map(e=>e.id),values:u}}async save(e,t){const{serverSettings:n}=this,{baseUrl:r,appUrl:o}=n,{makeRequest:a,ResponseError:c}=i.ServerConnection,l=r+o,u=s.url(l,e),d={body:t,method:"PUT"},h=await a(u,d,n);if(204!==h.status)throw new c(h)}}var s;t.SettingManager=o,function(e){e.url=function(e,t){return r.URLExt.join(e,"api/settings",t)}}(s||(s={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1345)),r(n(334))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(134);class o extends r.DataConnector{constructor(e={}){super(),this.serverSettings=e.serverSettings||i.ServerConnection.makeSettings()}async fetch(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:o,ResponseError:a}=i.ServerConnection,c=n+r,l=s.url(c,e),u=await o(l,{},t);if(200!==u.status)throw new a(u);return u.json()}async list(){const{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:r,ResponseError:o}=i.ServerConnection,a=t+n,c=s.url(a,""),l=await r(c,{},e);if(200!==l.status)throw new o(l);return(await l.json()).workspaces}async remove(e){const{serverSettings:t}=this,{baseUrl:n,appUrl:r}=t,{makeRequest:o,ResponseError:a}=i.ServerConnection,c=n+r,l=s.url(c,e),u=await o(l,{method:"DELETE"},t);if(204!==u.status)throw new a(u)}async save(e,t){const{serverSettings:n}=this,{baseUrl:r,appUrl:o}=n,{makeRequest:a,ResponseError:c}=i.ServerConnection,l=r+o,u=s.url(l,e),d={body:JSON.stringify(t),method:"PUT"},h=await a(u,d,n);if(204!==h.status)throw new c(h)}}var s;t.WorkspaceManager=o,function(e){e.url=function(e,t){return r.URLExt.join(e,"api/workspaces",t)}}(s||(s={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJupyterWebSocket=t.JupyterWebSockets=void 0;const r=n(1347),i=n(4),o=n(9),s=n(1350);t.JupyterWebSockets=new Map,t.createJupyterWebSocket=function(e,n,a){class c extends(s.KernelSocketWrapper(r)){constructor(r,s){let c,l={};if(n&&(l={...l,rejectUnauthorized:!1}),e&&(c={Cookie:e}),a){const e=a();c=c?{...c,...e}:e}c&&(l={...l,headers:c}),super(r,s,l);const u=/.*\/kernels\/(.*)\/.*/.exec(r);u&&u.length>1&&(this.kernelId=u[1]),this.kernelId?(t.JupyterWebSockets.set(this.kernelId,this),this.on("close",()=>{clearInterval(this.timer),t.JupyterWebSockets.delete(this.kernelId)})):i.traceError("KernelId not extracted from Kernel WebSocket URL"),this.timer=setInterval(()=>this.ping(o.noop),3e4)}}return c}},function(e,t,n){"use strict";const r=n(35),i=n(61),o=n(58),s=n(48),a=n(110),c=n(662),l=n(31),u=n(241),d=n(1348),h=n(676),p=n(677),f=n(679),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:v,kStatusCode:y,kWebSocket:b,NOOP:_}=n(152),w=["CONNECTING","OPEN","CLOSING","CLOSED"],S=[8,13];class E extends r{constructor(e,t,n){super(),this.readyState=E.CONNECTING,this.protocol="",this._binaryType=m[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function e(t,n,r,a){const c=Object.assign({protocolVersion:S[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},a,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0});if(!S.includes(c.protocolVersion))throw new RangeError(`Unsupported protocol version: ${c.protocolVersion} (supported versions: ${S.join(", ")})`);var d;"object"==typeof n&&void 0!==n.href?(d=n,t.url=n.href):(d=l.URL?new l.URL(n):l.parse(n),t.url=n);const p="ws+unix:"===d.protocol;if(!(d.host||p&&d.pathname))throw new Error("Invalid URL: "+t.url);const f="wss:"===d.protocol||"https:"===d.protocol,m=f?443:80,g=i.randomBytes(16).toString("base64"),y=f?o.get:s.get,b=d.search?`${d.pathname||"/"}${d.search}`:d.pathname||"/";var _;c.createConnection=f?C:x,c.defaultPort=c.defaultPort||m,c.port=d.port||m,c.host=d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname,c.headers=Object.assign({"Sec-WebSocket-Version":c.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},c.headers),c.path=b,c.timeout=c.handshakeTimeout,c.perMessageDeflate&&(_=new u(!0!==c.perMessageDeflate?c.perMessageDeflate:{},!1,c.maxPayload),c.headers["Sec-WebSocket-Extensions"]=h.format({[u.extensionName]:_.offer()}));r&&(c.headers["Sec-WebSocket-Protocol"]=r);c.origin&&(c.protocolVersion<13?c.headers["Sec-WebSocket-Origin"]=c.origin:c.headers.Origin=c.origin);d.auth?c.auth=d.auth:(d.username||d.password)&&(c.auth=`${d.username}:${d.password}`);if(p){const e=b.split(":");c.socketPath=e[0],c.path=e[1]}var w=t._req=y(c);c.timeout&&w.on("timeout",()=>{k(t,w,"Opening handshake has timed out")});w.on("error",e=>{t._req.aborted||(w=t._req=null,t.readyState=E.CLOSING,t.emit("error",e),t.emitClose())}),w.on("response",i=>{const o=i.headers.location,s=i.statusCode;if(o&&c.followRedirects&&s>=300&&s<400){if(++t._redirects>c.maxRedirects)return void k(t,w,"Maximum redirects exceeded");w.abort();const i=l.URL?new l.URL(o,n):l.resolve(n,o);e(t,i,r,a)}else t.emit("unexpected-response",w,i)||k(t,w,"Unexpected server response: "+i.statusCode)}),w.on("upgrade",(e,n,o)=>{if(t.emit("upgrade",e),t.readyState!==E.CONNECTING)return;w=t._req=null;const s=i.createHash("sha1").update(g+v).digest("base64");if(e.headers["sec-websocket-accept"]!==s)return void k(t,n,"Invalid Sec-WebSocket-Accept header");const a=e.headers["sec-websocket-protocol"],l=(r||"").split(/, */);var d;if(!r&&a?d="Server sent a subprotocol but none was requested":r&&!a?d="Server sent no subprotocol":a&&!l.includes(a)&&(d="Server sent an invalid subprotocol"),d)k(t,n,d);else{if(a&&(t.protocol=a),_)try{const n=h.parse(e.headers["sec-websocket-extensions"]);n[u.extensionName]&&(_.accept(n[u.extensionName]),t._extensions[u.extensionName]=_)}catch(e){return void k(t,n,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(n,o,c.maxPayload)}})}(this,e,t,n)):this._isServer=!0}get CONNECTING(){return E.CONNECTING}get CLOSING(){return E.CLOSING}get CLOSED(){return E.CLOSED}get OPEN(){return E.OPEN}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new p(this._binaryType,this._extensions,n);this._sender=new f(e,this._extensions),this._receiver=r,this._socket=e,r[b]=this,e[b]=this,r.on("conclude",D),r.on("drain",T),r.on("error",I),r.on("message",P),r.on("ping",j),r.on("pong",L),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",O),e.on("data",A),e.on("end",N),e.on("error",R),this.readyState=E.OPEN,this.emit("open")}emitClose(){this.readyState=E.CLOSED,this._socket?(this._extensions[u.extensionName]&&this._extensions[u.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==E.CLOSED){if(this.readyState===E.CONNECTING){const e="WebSocket was closed before the connection was established";return k(this,this._req,e)}this.readyState!==E.CLOSING?(this.readyState=E.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==E.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} (${w[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,n)}pong(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==E.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} (${w[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,n)}send(e,t,n){if("function"==typeof t&&(n=t,t={}),this.readyState!==E.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} (${w[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString());const r=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this._extensions[u.extensionName]||(r.compress=!1),this._sender.send(e||g,r,n)}terminate(){if(this.readyState!==E.CLOSED){if(this.readyState===E.CONNECTING){const e="WebSocket was closed before the connection was established";return k(this,this._req,e)}this._socket&&(this.readyState=E.CLOSING,this._socket.destroy())}}}function x(e){return e.protocolVersion&&(e.path=e.socketPath),a.connect(e)}function C(e){return e.path=void 0,e.servername=e.servername||e.host,c.connect(e)}function k(e,t,n){e.readyState=E.CLOSING;const r=new Error(n);Error.captureStackTrace(r,k),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function D(e,t){const n=this[b];n._socket.removeListener("data",A),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function T(){this[b]._socket.resume()}function I(e){const t=this[b];t._socket.removeListener("data",A),t.readyState=E.CLOSING,t._closeCode=e[y],t.emit("error",e),t._socket.destroy()}function M(){this[b].emitClose()}function P(e){this[b].emit("message",e)}function j(e){const t=this[b];t.pong(e,!t._isServer,_),t.emit("ping",e)}function L(e){this[b].emit("pong",e)}function O(){const e=this[b];this.removeListener("close",O),this.removeListener("end",N),e.readyState=E.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",A),this[b]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",M),e._receiver.on("finish",M))}function A(e){this[b]._receiver.write(e)||this.pause()}function N(){const e=this[b];e.readyState=E.CLOSING,e._receiver.end(),this.end()}function R(){const e=this[b];this.removeListener("error",R),this.on("error",_),e.readyState=E.CLOSING,this.destroy()}w.forEach((e,t)=>{E[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(E.prototype,"on"+e,{get(){const t=this.listeners(e);for(var n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set(t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(e,n[r]);this.addEventListener(e,t)}})}),E.prototype.addEventListener=d.addEventListener,E.prototype.removeEventListener=d.removeEventListener,e.exports=E},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]}e.exports={format:function(e){return Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t={};if(void 0===e||""===e)return t;for(var n,o,s={},a=!1,c=!1,l=!1,u=-1,d=-1,h=0;h<e.length;h++){const f=e.charCodeAt(h);if(void 0===n)if(-1===d&&1===r[f])-1===u&&(u=h);else if(32===f||9===f)-1===d&&-1!==u&&(d=h);else{if(59!==f&&44!==f)throw new SyntaxError("Unexpected character at index "+h);{if(-1===u)throw new SyntaxError("Unexpected character at index "+h);-1===d&&(d=h);const r=e.slice(u,d);44===f?(i(t,r,s),s={}):n=r,u=d=-1}}else if(void 0===o)if(-1===d&&1===r[f])-1===u&&(u=h);else if(32===f||9===f)-1===d&&-1!==u&&(d=h);else if(59===f||44===f){if(-1===u)throw new SyntaxError("Unexpected character at index "+h);-1===d&&(d=h),i(s,e.slice(u,d),!0),44===f&&(i(t,n,s),s={},n=void 0),u=d=-1}else{if(61!==f||-1===u||-1!==d)throw new SyntaxError("Unexpected character at index "+h);o=e.slice(u,h),u=d=-1}else if(c){if(1!==r[f])throw new SyntaxError("Unexpected character at index "+h);-1===u?u=h:a||(a=!0),c=!1}else if(l)if(1===r[f])-1===u&&(u=h);else if(34===f&&-1!==u)l=!1,d=h;else{if(92!==f)throw new SyntaxError("Unexpected character at index "+h);c=!0}else if(34===f&&61===e.charCodeAt(h-1))l=!0;else if(-1===d&&1===r[f])-1===u&&(u=h);else if(-1===u||32!==f&&9!==f){if(59!==f&&44!==f)throw new SyntaxError("Unexpected character at index "+h);if(-1===u)throw new SyntaxError("Unexpected character at index "+h);-1===d&&(d=h);var p=e.slice(u,d);a&&(p=p.replace(/\\/g,""),a=!1),i(s,o,p),44===f&&(i(t,n,s),s={},n=void 0),o=void 0,u=d=-1}else-1===d&&(d=h)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===d&&(d=h);const f=e.slice(u,d);return void 0===n?i(t,f,{}):(void 0===o?i(s,f,!0):i(s,o,a?f.replace(/\\/g,""):f),i(t,n,s)),t}}},function(e,t,n){"use strict";const{Writable:r}=n(17),i=n(241),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=n(152),{concat:l,toArrayBuffer:u,unmask:d}=n(335),{isValidStatusCode:h,isValidUTF8:p}=n(678);function f(e,t,n,r){const i=new e(n?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(i,f),i[a]=r,i}e.exports=class extends r{constructor(e,t,n){super(),this._binaryType=e||o[0],this[c]=void 0,this._extensions=t||{},this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0];e>=n.length?this._buffers.shift().copy(t,t.length-e):(n.copy(t,t.length-e,0,e),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){var t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,f(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){var t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e="nodebuffer"===this._binaryType?l(n,t):"arraybuffer"===this._binaryType?u(l(n,t)):n,this.emit("message",e)}else{const e=l(n,t);if(!p(e))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",e.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return f(RangeError,"invalid status code "+t,!0,1002);const n=e.slice(2);if(!p(n))return f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,n){"use strict";try{const e=n(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,n){"use strict";const{randomBytes:r}=n(61),i=n(241),{EMPTY_BUFFER:o}=n(152),{isValidStatusCode:s}=n(678),{mask:a,toBuffer:c}=n(335);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;var i=t.mask?6:2,o=e.length;e.length>=65536?(i+=8,o=127):e.length>125&&(i+=2,o=126);const s=Buffer.allocUnsafe(n?e.length+i:i);if(s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=o,126===o?s.writeUInt16BE(e.length,2):127===o&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),!t.mask)return[s,e];const c=r(4);return s[1]|=128,s[i-4]=c[0],s[i-3]=c[1],s[i-2]=c[2],s[i-1]=c[3],n?(a(e,c,s,i,e.length),[s]):(a(e,c,e,0,e.length),[s,e])}close(e,t,n,r){var i;if(void 0===e)i=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0):((i=Buffer.allocUnsafe(2+Buffer.byteLength(t))).writeUInt16BE(e,0),i.write(t,2))}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,n]):this.doPing(r,t,c.readOnly,n)}doPing(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=c(e);this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,n]):this.doPong(r,t,c.readOnly,n)}doPong(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=c(e),o=this._extensions[i.extensionName];var s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=r.length>=o._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(l.frame(r,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(l.frame(e,n),r);const o=this._extensions[i.extensionName];this._deflating=!0,o.compress(e,n.fin,(e,t)=>{this._deflating=!1,n.readOnly=!1,this.sendFrame(l.frame(t,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterKernelService=void 0;const o=n(0),s=n(6),a=n(1),c=n(37),l=n(14);n(15);const u=n(4),d=n(16),h=n(9),p=n(146),f=n(8),m=n(5),g=n(74),v=n(118),y=n(119),b=n(13),_=n(22);let w=class{constructor(e,t,n,r){this.kernelDependencyService=e,this.fs=t,this.activationHelper=n,this.kernelFinder=r}async ensureKernelIsUsable(e,t,n,r){const i=new a.CancellationTokenSource,o=c.wrapCancellationTokens(n,i.token);"connectToLiveKernel"!==t.kind&&t.interpreter&&await this.kernelDependencyService.installMissingDependencies(e,t.interpreter,o,r);var d=void 0;"connectToLiveKernel"!==t.kind&&t.kernelSpec&&t.interpreter&&((d=t.kernelSpec.specFile)&&await this.fs.localFileExists(d)?t.interpreter&&d&&s.basename(s.dirname(d)).toLowerCase()!=t.kernelSpec.name.toLowerCase()&&(d=await this.registerKernel(t,o)):d=await this.registerKernel(t,o)),"connectToLiveKernel"!==t.kind&&t.kernelSpec&&t.interpreter&&d&&(u.traceInfoIf(l.isCI,`updateKernelEnvironment ${t.interpreter.displayName}, ${t.interpreter.path} for ${t.id}`),await this.updateKernelEnvironment(t.interpreter,t.kernelSpec,d,o))}async registerKernel(e,t){var n,r;const i=await this.kernelFinder.getKernelSpecRootPath();if(!i||!e.kernelSpec||(null==t?void 0:t.isCancellationRequested)||!e.kernelSpec.name)return;const o=s.join(i,e.kernelSpec.name,"kernel.json");if(await this.fs.localFileExists(o))return o;const a={...e.kernelSpec};e.kernelSpec.specFile&&!this.fs.areLocalPathsSame(o,e.kernelSpec.specFile)&&(a.metadata={...a.metadata,originalSpecFile:e.kernelSpec.specFile}),e.interpreter&&(a.metadata={...a.metadata,interpreter:e.interpreter}),u.traceInfo("RegisterKernel for "+e.id);try{await this.fs.writeLocalFile(o,JSON.stringify(a,void 0,4))}catch(e){throw f.sendTelemetryEvent(m.Telemetry.FailedToUpdateKernelSpec,void 0,void 0,e,!0),e}if(!(null==t?void 0:t.isCancellationRequested)){if(null===(n=a.metadata)||void 0===n?void 0:n.originalSpecFile){const e=s.dirname(null===(r=a.metadata)||void 0===r?void 0:r.originalSpecFile),t=s.dirname(o),n=await this.fs.searchLocal("*.*[^json]",e);await Promise.all(n.map(async n=>{const r=s.join(e,n),i=s.join(t,n);await this.fs.copyLocal(r,i)}))}return f.sendTelemetryEvent(m.Telemetry.RegisterAndUseInterpreterAsKernel),o}}async updateKernelEnvironment(e,t,n,r,i){var o;const a=await this.kernelFinder.getKernelSpecRootPath(),l=t;if(n&&a){const d=n.includes(t.name)?n:s.join(a,t.name,"kernel.json");if(!await this.fs.localFileExists(d))return;let p=JSON.parse(await this.fs.readLocalFile(d)),g=!1;if(e&&((null===(o=p.metadata)||void 0===o?void 0:o.interpreter)||i)){if("conda"===p.argv[0].toLowerCase()?u.traceInfo("Spec argv[0], not updated as it is using conda."):(u.traceInfo(`Spec argv[0] updated from '${p.argv[0]}' to '${e.path}'`),p.argv[0]=e.path),p.env=await this.activationHelper.getActivatedEnvironmentVariables(void 0,e,!0).catch(h.noop).then(e=>e||{}),c.Cancellation.isCanceled(r))return;p.metadata=p.metadata||{},p.metadata.interpreter=e,g=!0}if(p.env&&(p=_.cleanEnvironment(p),g=!0),g)try{await this.fs.writeLocalFile(d,JSON.stringify(p,void 0,2))}catch(e){throw f.sendTelemetryEvent(m.Telemetry.FailedToUpdateKernelSpec,void 0,void 0,e,!0),e}l.metadata=p.metadata}}};r([u.traceDecorators.verbose("Check if a kernel is usable")],w.prototype,"ensureKernelIsUsable",null),r([f.captureTelemetry(m.Telemetry.RegisterInterpreterAsKernel,void 0,!0),u.traceDecorators.error("Failed to register an interpreter as a kernel"),v.reportAction(y.ReportableAction.KernelsRegisterKernel)],w.prototype,"registerKernel",null),w=r([o.injectable(),i(0,o.inject(b.IKernelDependencyService)),i(1,o.inject(d.IFileSystem)),i(2,o.inject(p.IEnvironmentActivationService)),i(3,o.inject(g.ILocalKernelFinder))],w),t.JupyterKernelService=w},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSelectionProvider=void 0;const o=n(0),s=n(3),a=n(74),c=n(22);let l=class{constructor(e,t,n){this.localKernelFinder=e,this.remoteKernelFinder=t,this.pathUtils=n,this.suggestionsCache=[]}async getKernelSelections(e,t,n){const r=this.getNonCachedSelections(e,t,n).then(e=>this.suggestionsCache=e),i=this.suggestionsCache.length>0?Promise.resolve(this.suggestionsCache):r;return Promise.race([i,r])}async getNonCachedSelections(e,t,n){return(!t||t.localLaunch?await this.localKernelFinder.listKernels(e,n):await this.remoteKernelFinder.listKernels(e,t,n)).map(this.mapKernelToSelection.bind(this))}mapKernelToSelection(e){return{label:c.getDisplayNameOrNameOfKernelConnection(e),detail:c.getDetailOfKernelConnection(e,this.pathUtils),description:c.getDescriptionOfKernelConnection(e),selection:e}}};l=r([o.injectable(),i(0,o.inject(a.ILocalKernelFinder)),i(1,o.inject(a.IRemoteKernelFinder)),i(2,o.inject(s.IPathUtils))],l),t.KernelSelectionProvider=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSelector=void 0;const o=n(0),s=n(127),a=n(7);n(15);const c=n(3),l=n(10),u=n(32),d=n(8),h=n(5),p=n(242),f=n(55),m=n(22),g=n(681),v=n(130);let y=class{constructor(e,t,n,r){this.selectionProvider=e,this.applicationShell=t,this.configService=n,this.interpreterPackages=r,this.kernelSelectionsByResource=new Map}async askForLocalKernel(e,t,n){const r=m.getDisplayNameOrNameOfKernelConnection(n),i=l.DataScience.sessionStartFailedWithKernel().format(r,h.Commands.ViewJupyterOutput),o=l.DataScience.selectDifferentKernel(),a=l.Common.cancel();if(await this.applicationShell.showErrorMessage(i,o,a)===o){const n=await this.selectJupyterKernel(e,t,void 0,r);return s(n)}}async selectJupyterKernel(e,t,n,r){const i=!(t&&!(null==t?void 0:t.localLaunch))||m.isLocalLaunch(this.configService)?h.Telemetry.SelectLocalJupyterKernel:h.Telemetry.SelectRemoteJupyterKernel,o=new u.StopWatch,a=await this.selectionProvider.getKernelSelections(e,t,n),c=await this.selectKernel(e,o,i,a,n,r);return s(c)}async selectKernel(e,t,n,r,i,o){if(e&&this.kernelSelectionsByResource.get(e))return this.kernelSelectionsByResource.get(e);const s=(async()=>{const s=l.DataScience.selectKernel()+(o?` (current: ${o})`:"");d.sendTelemetryEvent(n,t.elapsedTime),p.sendKernelListTelemetry(e,r.map(e=>e.selection),t);const a=await this.applicationShell.showQuickPick(r,{placeHolder:s},i);if(null==a?void 0:a.selection)return a.selection.interpreter&&this.interpreterPackages.trackPackages(a.selection.interpreter),f.sendKernelTelemetryEvent(e,h.Telemetry.SwitchKernel),a.selection})();return e&&(this.kernelSelectionsByResource.set(e,s),s.finally(()=>{this.kernelSelectionsByResource.get(e)===s&&this.kernelSelectionsByResource.delete(e)})),s}};y=r([o.injectable(),i(0,o.inject(g.KernelSelectionProvider)),i(1,o.inject(a.IApplicationShell)),i(2,o.inject(c.IConfigurationService)),i(3,o.inject(v.InterpreterPackages))],y),t.KernelSelector=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CellOutputDisplayIdTracker=void 0;const o=n(0),s=n(7),a=n(24);let c=class{constructor(e){this.displayIdCellOutputMappingPerDocument=new WeakMap,this.cellToDisplayIdMapping=new WeakMap,e.onDidChangeNotebookDocument(e=>{a.isJupyterNotebook(e.document)&&"changeCellOutputs"===e.type&&e.cells.filter(e=>0===e.outputs.length).map(e=>{var t;const n=this.cellToDisplayIdMapping.get(e);n&&(this.cellToDisplayIdMapping.delete(e),null===(t=this.displayIdCellOutputMappingPerDocument.get(e.notebook))||void 0===t||t.delete(n))})})}trackOutputByDisplayId(e,t,n){let r=this.displayIdCellOutputMappingPerDocument.get(e.notebook);r||(r=new Map,this.displayIdCellOutputMappingPerDocument.set(e.notebook,r)),r.set(t,{output:n,cell:e}),this.cellToDisplayIdMapping.set(e,t)}getMappedOutput(e,t){const n=this.displayIdCellOutputMappingPerDocument.get(e);if(!n)return;const r=n.get(t);return(null==r?void 0:r.cell.document.isClosed)||null==r?void 0:r.output}};c=r([o.injectable(),i(0,o.inject(s.IVSCodeNotebook))],c),t.CellOutputDisplayIdTracker=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCompletionProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(14),l=n(4),u=n(16),d=n(19),h=n(9),p=n(5),f=n(1368),m=n(13),g=n(24);let v=class{constructor(e,t,n){this.vscodeNotebook=e,this.notebookProvider=t,this.fs=n}async provideCompletionItems(e,t,n,r){if(!h.isNotebookCell(e))return[];const i=g.findAssociatedNotebookDocument(e.uri,this.vscodeNotebook,this.fs);if(!i)return l.traceError("Notebook not found for Cell "+e.uri.toString()),[];const o=await this.notebookProvider.getOrCreateNotebook({resource:i.uri,identity:i.uri,getOnly:!0});if(n.isCancellationRequested)return l.traceInfoIf(c.isCI,"Getting completions cancelled for "+i.uri.toString()),[];if(!o)return l.traceError("Live Notebook not available for "+i.uri.toString()),[];const a={cursor:{end:0,start:0},matches:[],metadata:{}},u=parseInt(process.env.VSC_JUPYTER_IntellisenseTimeout||"0",10)||p.Settings.IntellisenseTimeout,m=await Promise.race([o.getCompletion(e.getText(),e.offsetAt(t),n),d.sleep(u).then(()=>{if(!n.isCancellationRequested)return l.traceInfoIf(c.isCI,"Notebook completions request timed out for Cell "+e.uri.toString()),a})]);if(!m)return[];const v=m.metadata?m.metadata._jupyter_types_experimental:[];return Array.isArray(v)&&v.length>=m.matches.length&&v.every(e=>"number"==typeof e.start&&"number"==typeof e.end&&"string"==typeof e.text)?v.map((t,n)=>({label:t.text,range:new s.Range(e.positionAt(t.start),e.positionAt(t.end)),kind:t.type?f.mapJupyterKind.get(t.type):s.CompletionItemKind.Field,sortText:y(n)})):m.matches.map((e,t)=>({label:e,sortText:y(t)}))}};function y(e){if(e>=300)return"ZZZZZZZ";if(e<=25)return"A"+String.fromCharCode(65+e);return`${String.fromCharCode(65+Math.ceil(e/25))}${String.fromCharCode(65+e%25)}`}v=r([o.injectable(),i(0,o.inject(a.IVSCodeNotebook)),i(1,o.inject(m.INotebookProvider)),i(2,o.inject(u.IFileSystem))],v),t.NotebookCompletionProvider=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookIPyWidgetCoordinator=void 0;const o=n(0),s=n(1),a=n(7),c=n(37),l=n(14),u=n(99),d=n(4),h=n(3),p=n(19),f=n(9),m=n(40),g=n(138),v=n(73),y=n(1372);class b{constructor(e,t){this.editor=e,this.pendingMessages=[],this.disposables=[],this._onDidReceiveMessage=new s.EventEmitter,this.changeController(t)}changeController(e){var t;this.controller!==e&&(null===(t=this.controllerMessageHandler)||void 0===t||t.dispose(),this.controller=e,this.controllerMessageHandler=e.onDidReceiveMessage(t=>{t.editor===this.editor&&this.controller===e&&(this.eventHandlerListening?(this.sendPendingMessages(),this._onDidReceiveMessage.fire(t.message)):this.pendingMessages.push(t.message))},this,this.disposables))}dispose(){u.disposeAllDisposables(this.disposables)}get onDidReceiveMessage(){return this.eventHandlerListening=!0,setTimeout(()=>this.sendPendingMessages(),0),this._onDidReceiveMessage.event}postMessage(e){return this.controller.postMessage(e,this.editor)}asWebviewUri(e){return this.controller.asWebviewUri(e)}sendPendingMessages(){if(this.pendingMessages.length){let e=this.pendingMessages.shift();for(;e;)this._onDidReceiveMessage.fire(e),e=this.pendingMessages.shift()}}}let _=class{constructor(e,t,n,r){this.serviceContainer=e,this.asyncDisposableRegistry=n,this.notebook=r,this.messageCoordinators=new WeakMap,this.attachedEditors=new WeakMap,this.notebookDisposables=new WeakMap,this.selectedNotebookController=new WeakMap,this.previouslyInitialized=new WeakSet,this.notebookCommunications=new WeakMap,this.notebookEditors=new WeakMap,r.onDidChangeVisibleNotebookEditors(this.onDidChangeVisibleNotebookEditors,this,t),r.onDidCloseNotebookDocument(this.onDidCloseNotebookDocument,this,t)}setActiveController(e,t){if(this.selectedNotebookController.get(e)===t)return;d.traceInfo("Setting setActiveController for "+e.uri);const n=this.messageCoordinators.get(e);n&&(this.messageCoordinators.delete(e),this.attachedEditors.delete(e),this.notebook.notebookEditors.filter(t=>t.document===e).forEach(e=>{const t=this.notebookCommunications.get(e);this.notebookCommunications.delete(e),t&&t.dispose()}),n.then(e=>e.dispose()).catch(f.noop)),this.selectedNotebookController.set(e,t);(this.notebookEditors.get(e)||[]).filter(e=>this.notebookCommunications.has(e)).map(e=>this.notebookCommunications.get(e)).forEach(e=>e.changeController(t)),this.notebook.notebookEditors.map(e=>this.initializeNotebookCommunication(e))}initializeNotebookCommunication(e){const t=e.document,n=this.selectedNotebookController.get(t);if(!n)return void d.traceInfo("No controller, hence notebook communications cannot be initialized for editor "+e.document.uri.toString());if(this.notebookCommunications.has(e))return void d.traceInfo("notebook communications already initialized for editor "+e.document.uri.toString());d.traceInfo("Intiailize notebook communications for editor "+e.document.uri.toString());const r=new b(e,n);this.addNotebookDiposables(t,[r]),this.notebookCommunications.set(e,r);const{token:i}=new s.CancellationTokenSource;this.resolveKernel(t,r,i).catch(f.noop)}resolveKernel(e,t,n){d.traceInfo("Resolving notebook UI Comms (resolve) for "+e.uri.toString());let r=this.messageCoordinators.get(e);return void 0===r&&(r=y.CommonMessageCoordinator.create(e.uri,this.serviceContainer),this.messageCoordinators.set(e,r),this.asyncDisposableRegistry.push({dispose:async()=>null==r?void 0:r.then(e=>e.dispose()).catch(f.noop)})),c.Cancellation.race(()=>r.then(this.attachCoordinator.bind(this,e,t)),n)}addNotebookDiposables(e,t){const n=this.notebookDisposables.get(e)||[];n.push(...t),this.notebookDisposables.set(e,n)}async onDidChangeVisibleNotebookEditors(e){e.map(e=>this.initializeNotebookCommunication(e))}onDidCloseNotebookDocument(e){const t=this.notebookEditors.get(e)||[];u.disposeAllDisposables(this.notebookDisposables.get(e)||[]),t.forEach(e=>{var t;return null===(t=this.notebookCommunications.get(e))||void 0===t?void 0:t.dispose()});const n=this.messageCoordinators.get(e);null==n||n.then(e=>e.dispose()),this.messageCoordinators.delete(e),this.attachedEditors.delete(e)}attachCoordinator(e,t,n){const r=p.createDeferred(),i=this.attachedEditors.get(e)||new Set;if(this.attachedEditors.set(e,i),i.has(t.editor)||this.previouslyInitialized.has(t.editor))d.traceInfo("Coordinator already attached for "+e.uri.toString()),r.resolve();else{i.add(t.editor);const o=[];d.traceInfo("Attach Coordinator for "+e.uri.toString()),n.postMessage(e=>{d.traceInfoIf(l.isCI,`${g.ConsoleForegroundColors.Green}Widget Coordinator sent ${e.message}`),e.message===v.InteractiveWindowMessages.ConvertUriForUseInWebViewRequest?n.onMessage(v.InteractiveWindowMessages.ConvertUriForUseInWebViewResponse,{request:e.payload,response:t.asWebviewUri(e.payload)}):t.postMessage({type:e.message,payload:e.payload})},this,o),t.onDidReceiveMessage(e=>{d.traceInfoIf(l.isCI,`${g.ConsoleForegroundColors.Green}Widget Coordinator received ${e.type}`),n.onMessage(e.type,e.payload),e.type===v.IPyWidgetMessages.IPyWidgets_Ready&&(r.resolve(),this.previouslyInitialized.add(t.editor))},this,o),t.postMessage({type:v.IPyWidgetMessages.IPyWidgets_IsReadyRequest,payload:void 0}).then(f.noop,f.noop),this.addNotebookDiposables(e,o)}return r.promise}};_=r([o.injectable(),i(0,o.inject(m.IServiceContainer)),i(1,o.inject(h.IDisposableRegistry)),i(2,o.inject(h.IAsyncDisposableRegistry)),i(3,o.inject(a.IVSCodeNotebook))],_),t.NotebookIPyWidgetCoordinator=_},function(e,t,n){"use strict";var r=n(243);e.exports=y;var i,o=n(207);y.ReadableState=v;n(35).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(687),c=n(34).Buffer,l=global.Uint8Array||function(){};var u=Object.create(n(42));u.inherits=n(27);var d=n(18),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,f=n(1387),m=n(688);u.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(153));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(690).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||n(153),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):x(e,s)):_(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(690).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),T(e)}function x(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:y;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function f(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I},function(e,t,n){e.exports=n(17)},function(e,t,n){"use strict";var r=n(243);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(243);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var a=Object.create(n(42));a.inherits=n(27);var c={deprecate:n(173)},l=n(687),u=n(34).Buffer,d=global.Uint8Array||function(){};var h,p=n(688);function f(){}function m(e,t){o=o||n(153),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(y,e,n,a,o):y(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(153),!(h.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(v(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=f),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";var r=n(34).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var r=n(153),i=Object.create(n(42));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(27),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(693),i=n(694),o="0".charCodeAt(0),s=parseInt("7777",8),a=function(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r},c=function(e){for(var t=256,n=0;n<148;n++)t+=e[n];for(var r=156;r<512;r++)t+=e[r];return t},l=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var u=function(e,t,n){if(128&(e=e.slice(t,t+n))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var n=!1,r=[],i=e.length-1;i>0;i--){var o=e[i];t?r.push(o):n&&0===o?r.push(0):n?(n=!1,r.push(256-o)):r.push(255-o)}var s=0,a=r.length;for(i=0;i<a;i++)s+=r[i]*Math.pow(256,i);return t?s:-1*s}(e);for(;t<e.length&&32===e[t];)t++;for(var r=(i=a(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<r&&0===e[t];)t++;return r===t?0:parseInt(e.slice(t,r).toString(),8);var i,o,s},d=function(e,t,n,r){return e.slice(t,a(e,0,t,t+n)).toString(r)},h=function(e){var t=Buffer.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e};t.decodeLongPath=function(e,t){return d(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=h(" path="+e.name+"\n")),e.linkname&&(t+=h(" linkpath="+e.linkname+"\n"));var n=e.pax;if(n)for(var i in n)t+=h(" "+i+"="+n[i]+"\n");return r(t)},t.decodePax=function(e){for(var t={};e.length;){for(var n=0;n<e.length&&32!==e[n];)n++;var r=parseInt(e.slice(0,n).toString(),10);if(!r)return t;var i=e.slice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(r)}return t},t.encode=function(e){var t=i(512),n=e.name,r="";if(5===e.typeflag&&"/"!==n[n.length-1]&&(n+="/"),Buffer.byteLength(n)!==n.length)return null;for(;Buffer.byteLength(n)>100;){var a=n.indexOf("/");if(-1===a)return null;r+=r?"/"+n.slice(0,a):n.slice(0,a),n=n.slice(a+1)}return Buffer.byteLength(n)>100||Buffer.byteLength(r)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(n),t.write(l(e.mode&s,6),100),t.write(l(e.uid,6),108),t.write(l(e.gid,6),116),t.write(l(e.size,11),124),t.write(l(e.mtime.getTime()/1e3|0,11),136),t[156]=o+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),t.write("ustar\x0000",257),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(l(e.devmajor||0,6),329),t.write(l(e.devminor||0,6),337),r&&t.write(r,345),t.write(l(c(t),6),148),t)},t.decode=function(e,t){var n=0===e[156]?0:e[156]-o,r=d(e,0,100,t),i=u(e,100,8),s=u(e,108,8),a=u(e,116,8),l=u(e,124,12),h=u(e,136,12),p=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(n),f=0===e[157]?null:d(e,157,100,t),m=d(e,265,32),g=d(e,297,32),v=u(e,329,8),y=u(e,337,8);e[345]&&(r=d(e,345,155,t)+"/"+r),0===n&&r&&"/"===r[r.length-1]&&(n=5);var b=c(e);if(256===b)return null;if(b!==u(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");return{name:r,mode:i,uid:s,gid:a,size:l,mtime:new Date(1e3*h),type:p,linkname:f,uname:m,gname:g,devmajor:v,devminor:y}}},function(e,t){e.exports=function(e,t){if(Buffer.isBuffer(e))return e;if("string"==typeof e)return n(e,t);if(Array.isArray(e))return n(e);throw new Error("Input should be a buffer or a string")};var n=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from:function(e,t){return new Buffer(e,t)}},function(e,t,n){var r=n(1390),i=n(1391);e.exports=function(e,t,n){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(e,t,n);var o=i(e);return 0===e?o:void 0===t?r(o,0):("string"!=typeof n&&(n=void 0),r(o,t,n))}},function(e,t,n){"use strict";var r=n(245);e.exports=y;var i,o=n(207);y.ReadableState=v;n(35).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(696),c=n(34).Buffer,l=global.Uint8Array||function(){};var u=Object.create(n(42));u.inherits=n(27);var d=n(18),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,f=n(1392),m=n(697);u.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(154));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(699).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||n(154),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):x(e,s)):_(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(699).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),T(e)}function x(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:y;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function f(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I},function(e,t,n){e.exports=n(17)},function(e,t,n){"use strict";var r=n(245);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(245);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var a=Object.create(n(42));a.inherits=n(27);var c={deprecate:n(173)},l=n(696),u=n(34).Buffer,d=global.Uint8Array||function(){};var h,p=n(697);function f(){}function m(e,t){o=o||n(154),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(y,e,n,a,o):y(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(154),!(h.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(v(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=f),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";var r=n(34).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var r=n(154),i=Object.create(n(42));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(27),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(246),i=function(){},o=function(e,t,n){if("function"==typeof t)return o(e,null,t);t||(t={}),n=r(n||i);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},d=function(){l=!1,c||n.call(e)},h=function(){c=!1,l||n.call(e)},p=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},f=function(t){n.call(e,t)},m=function(){return(!c||a&&a.ended)&&(!l||s&&s.ended)?void 0:n.call(e,new Error("premature close"))},g=function(){e.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?l&&!s&&(e.on("end",u),e.on("close",u)):(e.on("complete",d),e.on("abort",m),e.req?g():e.on("request",g)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",h),e.on("finish",d),!1!==t.error&&e.on("error",f),e.on("close",m),function(){e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("exit",p),e.removeListener("end",h),e.removeListener("error",f),e.removeListener("close",m)}};e.exports=o},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},function(e,t,n){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof e}\``);return e=e.trim(),t=Object.assign({https:!1},t),/^\.*\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,t.https?"https://":"http://")}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=Object.keys(Object(e)),r=0;r<n.length;r++)t[n[r].toLowerCase()]=e[n[r]];return t}},function(e,t,n){"use strict";var r=n(247);e.exports=y;var i,o=n(207);y.ReadableState=v;n(35).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(708),c=n(34).Buffer,l=global.Uint8Array||function(){};var u=n(42);u.inherits=n(27);var d=n(18),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,f=n(1454),m=n(709);u.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(155));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(711).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||n(155),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):x(e,s)):_(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(711).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),T(e)}function x(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:y;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function f(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I},function(e,t,n){e.exports=n(17)},function(e,t,n){"use strict";var r=n(247);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(247);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var a=n(42);a.inherits=n(27);var c={deprecate:n(173)},l=n(708),u=n(34).Buffer,d=global.Uint8Array||function(){};var h,p=n(709);function f(){}function m(e,t){o=o||n(155),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(y,e,n,a,o):y(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(155),!(h.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(v(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=f),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return c}(this,o,a,e,t,n)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";var r=n(34).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=s;var r=n(155),i=n(42);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(27),i.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),i=Object.prototype.toString,o=e=>t=>typeof t===e,s=e=>{const t=i.call(e).slice(8,-1);return t||null},a=e=>t=>s(t)===e;function c(e){if(null===e)return"null";if(!0===e||!1===e)return"boolean";const t=typeof e;if("undefined"===t)return"undefined";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if(c.function_(e))return"Function";if(Array.isArray(e))return"Array";if(Buffer.isBuffer(e))return"Buffer";const n=s(e);if(n)return n;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}!function(e){const t=e=>"object"==typeof e;e.undefined=o("undefined"),e.string=o("string"),e.number=o("number"),e.function_=o("function"),e.null_=e=>null===e,e.class_=t=>e.function_(t)&&t.toString().startsWith("class "),e.boolean=e=>!0===e||!1===e,e.symbol=o("symbol"),e.array=Array.isArray,e.buffer=Buffer.isBuffer,e.nullOrUndefined=t=>e.null_(t)||e.undefined(t),e.object=n=>!e.nullOrUndefined(n)&&(e.function_(n)||t(n)),e.iterable=t=>!e.nullOrUndefined(t)&&e.function_(t[Symbol.iterator]),e.generator=t=>e.iterable(t)&&e.function_(t.next)&&e.function_(t.throw),e.nativePromise=a("Promise");e.promise=n=>e.nativePromise(n)||(n=>!e.null_(n)&&t(n)&&e.function_(n.then)&&e.function_(n.catch))(n);const n=t=>n=>e.function_(n)&&e.function_(n.constructor)&&n.constructor.name===t;e.generatorFunction=n("GeneratorFunction"),e.asyncFunction=n("AsyncFunction"),e.boundFunction=t=>e.function_(t)&&!t.hasOwnProperty("prototype"),e.regExp=a("RegExp"),e.date=a("Date"),e.error=a("Error"),e.map=a("Map"),e.set=a("Set"),e.weakMap=a("WeakMap"),e.weakSet=a("WeakSet"),e.int8Array=a("Int8Array"),e.uint8Array=a("Uint8Array"),e.uint8ClampedArray=a("Uint8ClampedArray"),e.int16Array=a("Int16Array"),e.uint16Array=a("Uint16Array"),e.int32Array=a("Int32Array"),e.uint32Array=a("Uint32Array"),e.float32Array=a("Float32Array"),e.float64Array=a("Float64Array"),e.arrayBuffer=a("ArrayBuffer"),e.sharedArrayBuffer=a("SharedArrayBuffer"),e.dataView=a("DataView"),e.directInstanceOf=(t,n)=>e.object(t)&&e.object(n)&&Object.getPrototypeOf(t)===n.prototype,e.truthy=e=>Boolean(e),e.falsy=e=>!e,e.nan=e=>Number.isNaN(e);const i=new Set(["undefined","string","number","boolean","symbol"]);e.primitive=t=>e.null_(t)||i.has(typeof t),e.integer=e=>Number.isInteger(e),e.safeInteger=e=>Number.isSafeInteger(e),e.plainObject=e=>{let t;return"Object"===s(e)&&(t=Object.getPrototypeOf(e),null===t||t===Object.getPrototypeOf({}))};const c=new Set(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"]);e.typedArray=e=>{const t=s(e);return null!==t&&c.has(t)};e.arrayLike=t=>!e.nullOrUndefined(t)&&!e.function_(t)&&(t=>e.safeInteger(t)&&t>-1)(t.length),e.inRange=(t,n)=>{if(e.number(n))return t>=Math.min(0,n)&&t<=Math.max(n,0);if(e.array(n)&&2===n.length)return t>=Math.min.apply(null,n)&&t<=Math.max.apply(null,n);throw new TypeError("Invalid range: "+r.inspect(n))};const l=["innerHTML","ownerDocument","style","attributes","nodeValue"];e.domElement=t=>e.object(t)&&1===t.nodeType&&e.string(t.nodeName)&&!e.plainObject(t)&&l.every(e=>e in t),e.nodeStream=n=>!e.nullOrUndefined(n)&&t(n)&&e.function_(n.pipe),e.infinite=e=>e===1/0||e===-1/0;const u=t=>n=>e.integer(n)&&Math.abs(n%2)===t;e.even=u(0),e.odd=u(1);e.empty=t=>e.falsy(t)||(t=>(e.string(t)||e.array(t))&&0===t.length)(t)||(t=>!e.map(t)&&!e.set(t)&&e.object(t)&&0===Object.keys(t).length)(t)||(t=>(e.map(t)||e.set(t))&&0===t.size)(t),e.emptyOrWhitespace=t=>e.empty(t)||(t=>e.string(t)&&!1===/\S/.test(t))(t);const d=(t,n,i)=>{const o=Array.prototype.slice.call(i,1);if(!1===e.function_(n))throw new TypeError("Invalid predicate: "+r.inspect(n));if(0===o.length)throw new TypeError("Invalid number of values");return t.call(o,n)};e.any=function(e){return d(Array.prototype.some,e,arguments)},e.all=function(e){return d(Array.prototype.every,e,arguments)}}(c||(c={})),Object.defineProperties(c,{class:{value:c.class_},function:{value:c.function_},null:{value:c.null_}}),t.default=c,e.exports=c,e.exports.default=c},function(e,t,n){"use strict";class r extends Error{constructor(){super("Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class i{static fn(e){return function(){const t=[].slice.apply(arguments);return new i((n,r,i)=>{t.push(i),e.apply(null,t).then(n,r)})}}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._promise=new Promise((t,n)=>(this._reject=n,e(e=>{this._isPending=!1,t(e)},e=>{this._isPending=!1,n(e)},e=>{this._cancelHandlers.push(e)})))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){if(this._isPending&&!this._isCanceled){if(this._cancelHandlers.length>0)try{for(const e of this._cancelHandlers)e()}catch(e){this._reject(e)}this._isCanceled=!0,this._reject(new r)}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(i.prototype,Promise.prototype),e.exports=i,e.exports.CancelError=r},function(e,t,n){"use strict";const r=n(1468);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}e.exports=(e,t,n)=>new Promise((o,s)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `ms` to be a positive number");const a=setTimeout(()=>{if("function"==typeof n){try{o(n())}catch(r){s(r)}return}const r=n instanceof Error?n:new i("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),s(r)},t);r(e.then(o,s),()=>{clearTimeout(a)})}),e.exports.TimeoutError=i},function(e,t,n){"use strict";const r=(e,t)=>function(...n){return new(0,t.promiseModule)((r,i)=>{t.multiArgs?n.push((...e)=>{t.errorFirst?e[0]?i(e):(e.shift(),r(e)):r(e)}):t.errorFirst?n.push((e,t)=>{e?i(e):r(t)}):n.push(r),e.apply(this,n)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const n=typeof e;if(null===e||"object"!==n&&"function"!==n)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":n}\``);const i=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(n):!t.exclude.some(n)};let o;o="function"===n?function(...n){return t.excludeMain?e(...n):r(e,t).apply(this,n)}:Object.create(Object.getPrototypeOf(e));for(const n in e){const s=e[n];o[n]="function"==typeof s&&i(n)?r(s,t):s}return o}},function(e,t,n){"use strict";var r=n(1483),i=/[\/\?<>\\:\*\|"]/g,o=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,c=/[\. ]+$/;function l(e,t){if("string"!=typeof e)throw new Error("Input must be string");var n=e.replace(i,t).replace(o,t).replace(s,t).replace(a,t).replace(c,t);return r(n,255)}e.exports=function(e,t){var n=t&&t.replacement||"",r=l(e,n);return""===n?r:l(r,"")}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotSaveHandler=void 0;const o=n(0),s=n(1),a=n(7),c=n(16),l=n(10),u=n(6),d=n(719),h=n(4),p={"image/png":"png","image/jpeg":"jpeg","image/gif":"gif","image/svg+xml":"svg"};let f=class{constructor(e,t,n){this.shell=e,this.fs=t,this.workspace=n}async savePlot(e,t,n){if(e.document.isClosed)return;const r=function(e,t,n){for(const r of e.document.getCells())for(const e of r.outputs)if(e.id===t&&e.items.find(e=>e.mime===n))return e}(e,t,n);if(!r)return h.traceError(`Nolot to save ${e.document.uri.toString()}, id: ${t} for ${n}`);if(!(n.toLowerCase()in p))return h.traceError(`Unsupported MimeType ${e.document.uri.toString()}, id: ${t} for ${n}`);const i=await this.getSaveTarget(r,n);i&&(i.fsPath.toLowerCase().endsWith("pdf")?await this.saveAsPdf(r,i):await this.saveAsImage(r,i))}getSaveTarget(e,t){var n;const r=p[t.toLowerCase()],i={};e.items.find(e=>"image/svg+xml"===e.mime.toLowerCase())&&(i[l.DataScience.pdfFilter()]=["pdf"],i[l.DataScience.svgFilter()]=["svg"]),"png"===r&&(i[l.DataScience.pngFilter()]=["png"]),0===Object.keys(i).length&&(i.Images=[r]);const o=((null===(n=this.workspace.workspaceFolders)||void 0===n?void 0:n.length)||0)>0?this.workspace.workspaceFolders[0].uri:void 0,a="output."+r,c=o?s.Uri.joinPath(o,a):s.Uri.file(a);return this.shell.showSaveDialog({defaultUri:c,saveLabel:l.DataScience.exportPlotTitle(),filters:i})}async saveAsImage(e,t){const n=u.extname(t.fsPath).substring(1),r=Object.keys(p).find(e=>p[e]===n),i=e.items.find(e=>e.mime===r);if(!i)throw new Error(`Unsupported MimeType ${t.toString()}, available mime Types: ${e.items.map(e=>e.mime).join(", ")}`);await this.fs.writeFile(t,Buffer.from(i.data))}async saveAsPdf(e,t){const n=Buffer.from(e.items.find(e=>"image/svg+xml"===e.mime).data).toString();await d.saveSvgToPdf(n,this.fs,t)}};f=r([o.injectable(),i(0,o.inject(a.IApplicationShell)),i(1,o.inject(c.IFileSystem)),i(2,o.inject(a.IWorkspaceService))],f),t.PlotSaveHandler=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSvgToPdf=t.PlotViewer=void 0,n(15);const o=n(0),s=n(6),a=n(1),c=n(4),l=n(19),u=n(7),d=n(14),h=n(4),p=n(16),f=n(3),m=n(10),g=n(13),v=n(498),y=n(1491),b=n(1492),_=s.join(d.EXTENSION_ROOT_DIR,"out","datascience-ui","viewers");let w=class extends v.WebviewPanelHost{constructor(e,t,n,r,i,o,c){super(t,e,n,r,i,(e,t,n)=>new y.PlotViewerMessageListener(e,t,n),_,[s.join(_,"plotViewer.js")],m.DataScience.plotViewerTitle(),a.ViewColumn.One),this.applicationShell=o,this.fs=c,this.closedEvent=new a.EventEmitter,this.removedEvent=new a.EventEmitter,this.addPlot=async e=>{this.isDisposed||(await super.show(!1),this.postMessage(b.PlotViewerMessages.SendPlot,e).ignoreErrors())},super.loadWebview(process.cwd()).catch(h.traceError)}get closed(){return this.closedEvent.event}get removed(){return this.removedEvent.event}async show(){if(!this.isDisposed)return super.show(!0)}dispose(){super.dispose(),this.closedEvent&&this.closedEvent.fire(this)}get owningResource(){}onMessage(e,t){switch(e){case b.PlotViewerMessages.CopyPlot:this.copyPlot(t.toString()).ignoreErrors();break;case b.PlotViewerMessages.ExportPlot:this.exportPlot(t).ignoreErrors();break;case b.PlotViewerMessages.RemovePlot:this.removePlot(t)}super.onMessage(e,t)}removePlot(e){this.removedEvent.fire(e)}copyPlot(e){return Promise.resolve()}async exportPlot(e){c.traceInfo("exporting plot...");const t={};t[m.DataScience.pdfFilter()]=["pdf"],t[m.DataScience.pngFilter()]=["png"],t[m.DataScience.svgFilter()]=["svg"];const n=await this.applicationShell.showSaveDialog({saveLabel:m.DataScience.exportPlotTitle(),filters:t});try{if(n){switch(s.extname(n.fsPath).toLowerCase()){case".pdf":await S(e.svg,this.fs,n);break;case".png":const t=new Buffer(e.png.replace("data:image/png;base64",""),"base64");await this.fs.writeLocalFile(n.fsPath,t);break;default:case".svg":await this.fs.writeLocalFile(n.fsPath,e.svg)}}}catch(e){h.traceError(e),this.applicationShell.showErrorMessage(m.DataScience.exportImageFailed().format(e))}}};async function S(e,t,r){c.traceInfo("Attempting pdf write...");const i=n(1493),o=l.createDeferred(),s=new(n(1494)),a=t.createLocalWriteStream(r.fsPath);c.traceInfo("Writing pdf to "+r.fsPath),a.on("finish",()=>o.resolve),i(s,e,0,0,{preserveAspectRatio:"xMinYMin meet"}),s.pipe(a),s.end(),c.traceInfo("Finishing pdf to "+r.fsPath),await o.promise,c.traceInfo("Completed pdf to "+r.fsPath)}w=r([o.injectable(),i(0,o.inject(u.IWebviewPanelProvider)),i(1,o.inject(f.IConfigurationService)),i(2,o.inject(g.ICodeCssGenerator)),i(3,o.inject(g.IThemeFinder)),i(4,o.inject(u.IWorkspaceService)),i(5,o.inject(u.IApplicationShell)),i(6,o.inject(p.IFileSystem))],w),t.PlotViewer=w,t.saveSvgToPdf=S},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewHandler=void 0;const o=n(1495),s=n(0),a=n(4),c=n(13);let l=class{constructor(e){this.plotViewProvider=e}async openPlot(e,t){if(e.document.isClosed)return;const n=u(e,t,"image/svg+xml");let r;if(n)r=(new TextDecoder).decode(n.data);else{const n=u(e,t,"image/png");if(!n)return a.traceError(`No SVG or PNG Plot to open ${e.document.uri.toString()}, id: ${t}`);r=function(e){const t=Buffer.from(e.data),n=t.toString("base64"),r=o.default(t);return`<?xml version="1.0" encoding="utf-8" standalone="no"?>\n<svg height="${r.height}" width="${r.width}" version="1.1" viewBox="0 0 386 248" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g>\n        <image xmlns="http://www.w3.org/2000/svg" x="0" y="0" height="100%" width="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="data:image/png;base64,${n}"/>\n    </g>\n</svg>`}(n)}r&&await this.plotViewProvider.showPlot(r)}};function u(e,t,n){for(const r of e.document.getCells())for(const e of r.outputs)if(e.id===t)return e.items.find(e=>e.mime===n)}l=r([s.injectable(),i(0,s.inject(c.IPlotViewerProvider))],l),t.PlotViewHandler=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;const r=n(1497),i=n(1498),o=n(1499),s=n(1500),a=n(1501),c=n(722),l=n(1502),u=n(1503),d=n(1504),h=n(1505),p=n(1506),f=n(1507),m=n(1508),g=n(1509),v=n(1510),y=n(1511);t.typeHandlers={bmp:r.BMP,cur:i.CUR,dds:o.DDS,gif:s.GIF,icns:a.ICNS,ico:c.ICO,j2c:l.J2C,jp2:u.JP2,jpg:d.JPG,ktx:h.KTX,png:p.PNG,pnm:f.PNM,psd:m.PSD,svg:g.SVG,tiff:v.TIFF,webp:y.WEBP}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0;function r(e,t){const n=e.readUInt8(t);return 0===n?256:n}function i(e,t){const n=6+16*t;return{height:r(e,n+1),width:r(e,n)}}t.ICO={validate:e=>0===e.readUInt16LE(0)&&1===e.readUInt16LE(2),calculate(e){const t=e.readUInt16LE(4),n=i(e,0);if(1===t)return n;const r=[n];for(let n=1;n<t;n+=1)r.push(i(e,n));return{height:n.height,images:r,width:n.width}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt=void 0,t.readUInt=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterNotebookBase=void 0;const r=n(454),i=n(6),o=n(1),s=n(131),a=n(37);n(15);const c=n(4),l=n(19),u=n(10),d=n(9),h=n(32),p=n(8),f=n(133),m=n(148),g=n(5),v=n(13),y=n(145),b=n(127),_=n(62),w=n(442),S=n(443),E=n(22),x=n(191);class C{constructor(e,t,n){this.deferred=l.createDeferred(),this.canceledEvent=new o.EventEmitter,this.cellRef=e,this.subscriber=t,this.promiseComplete=n,this._startTime=Date.now()}get startTime(){return this._startTime}get onCanceled(){return this.canceledEvent.event}get promise(){return this.deferred.promise}get cell(){return this.cellRef}isValid(e){return e&&this.startTime>=e}next(e){this.isValid(e)&&this.subscriber.next(this.cellRef)}error(e,t){this.isValid(e)&&this.subscriber.error(t)}complete(e){this.isValid(e)&&(this.cellRef.state!==v.CellState.error&&(this.cellRef.state=v.CellState.finished),this.subscriber.next(this.cellRef)),this.subscriber.complete(),this.attemptToFinish()}reject(e){this.deferred.completed||(this.cellRef.state=v.CellState.error,this.subscriber.next(this.cellRef),this.subscriber.complete(),this.deferred.reject(e),this.promiseComplete(this))}cancel(){this.canceledEvent.fire(),this.deferred.completed||(this.cellRef.state=v.CellState.error,this.subscriber.next(this.cellRef),this.subscriber.complete(),this.deferred.resolve(),this.promiseComplete(this))}attemptToFinish(){this.deferred.completed||this.cell.state!==v.CellState.finished&&this.cell.state!==v.CellState.error||(this.deferred.resolve(this.cell.state),this.promiseComplete(this))}}t.JupyterNotebookBase=class{constructor(e,t,n,i,s,a,l,h,p,f,y){this._session=e,this.configService=t,this.disposableRegistry=n,this.loggers=s,this.getDisposedError=h,this.workspace=p,this.applicationService=f,this.fs=y,this.pendingCellSubscriptions=[],this._disposed=!1,this.kernelChanged=new o.EventEmitter,this.kernelRestarted=new o.EventEmitter,this.disposedEvent=new o.EventEmitter,this.finishedExecuting=new o.EventEmitter,this.ioPubListeners=new Set,this.generateRequest=(e,t)=>{try{const n=new m.CellMatcher(this.configService.getSettings(this.resource));return this.session?this.session.requestExecute({code:n.stripFirstMarker(e),stop_on_error:!1,allow_stdin:!0,store_history:!0},!1,t):void 0}catch(e){c.traceError(e)}},this.combineObservables=(...e)=>new r.Observable(t=>{const n={};e.forEach(r=>{r.subscribe(r=>{n[r.id]=r;const i=Object.keys(n).map(e=>n[e]);i.length===e.length&&(t.next(i),i.every(e=>e.state===v.CellState.finished||e.state===v.CellState.error)&&t.complete())},e=>{t.error(e)})})}),this.executeMarkdownObservable=e=>new r.Observable(t=>{t.next(e),t.complete()}),this.changeDirectoryIfPossible=async e=>{this._executionInfo&&this._executionInfo.connectionInfo.localLaunch&&E.isPythonKernelConnection(this._executionInfo.kernelConnectionMetadata)&&await this.fs.localDirectoryExists(e)&&(c.traceInfo("changeDirectoryIfPossible"),await x.executeSilently(this.session,g.CodeSnippets.UpdateCWDAndPath.format(e)))},this.handleCodeRequest=e=>{if(e.isValid(this.sessionStartTime)){const t=this.checkForExit();if(t)e.error(this.sessionStartTime,t),e.complete(this.sessionStartTime);else{const t=this.generateRequest(_.concatMultilineString(e.cell.data.source),{...e.cell.data.metadata,cellId:e.cell.id});let n;e.cell.state=v.CellState.executing,this._executionInfo&&this._executionInfo.connectionInfo&&(n=this._executionInfo.connectionInfo.disconnected(t=>{const n=t?t.toString():"";this._disposed||e.error(this.sessionStartTime,new Error(u.DataScience.jupyterServerCrashed().format(n))),e.complete(this.sessionStartTime)}));const r=new w.RefBool(!1);t?(e.onCanceled(()=>{t.onIOPub=d.noop,t.onStdin=d.noop,t.onReply=d.noop}),t.onIOPub=this.handleIOPub.bind(this,e,r),t.onStdin=this.handleInputRequest.bind(this,e),t.onReply=this.handleReply.bind(this,e,r),t.done.then(()=>e.complete(this.sessionStartTime)).catch(t=>{t&&t instanceof Error&&"Canceled"===t.message?e.complete(this.sessionStartTime):e.error(this.sessionStartTime,t)}).finally(()=>{n&&n.dispose()}).ignoreErrors()):e.error(this.sessionStartTime,this.getDisposedError())}}else{const t=new Date(this.sessionStartTime),n=new Date(e.startTime);c.traceInfo(`Session start time is newer than cell : \r\n${t.toTimeString()}\r\n${n.toTimeString()}`),this.handleInterrupted(e.cell),e.cell.state=v.CellState.error,e.complete(this.sessionStartTime)}},this.addToCellData=(e,t,n)=>{const r=e.data;n.value&&(r.outputs=[],n.update(!1)),r.outputs=[...r.outputs,t],e.data=r},this.sessionStartTime=Date.now();this.sessionStatusChanged=this.session.onSessionStatusChanged(e=>{this.onStatusChangedEvent&&this.onStatusChangedEvent.fire(e)}),this._identity=l,this._resource=a,this._executionInfo=b(i)}get onDisposed(){return this.disposedEvent.event}get onDidFinishExecuting(){return this.finishedExecuting.event}get onKernelChanged(){return this.kernelChanged.event}get disposed(){return this._disposed}get onKernelRestarted(){return this.kernelRestarted.event}get kernelSocket(){return this.session.kernelSocket}get session(){return this._session}get connection(){return this._executionInfo.connectionInfo}async dispose(){if(!this._disposed){this._disposed=!0,this.onStatusChangedEvent&&(this.onStatusChangedEvent.dispose(),this.onStatusChangedEvent=void 0),this.sessionStatusChanged&&(this.sessionStatusChanged.dispose(),this.onStatusChangedEvent=void 0),this.loggers.forEach(e=>e.dispose()),this.disposedEvent.fire();try{c.traceInfo("Shutting down session "+this.identity.toString()),this.session&&await this.session.dispose().catch(c.traceError.bind("Failed to dispose session from JupyterNotebook"))}catch(e){c.traceError("Exception shutting down session ",e)}}}async requestKernelInfo(){return this.session.requestKernelInfo()}get onSessionStatusChanged(){return this.onStatusChangedEvent||(this.onStatusChangedEvent=new o.EventEmitter),this.onStatusChangedEvent.event}get status(){return this.session?this.session.status:s.ServerStatus.NotStarted}get resource(){return this._resource}get identity(){return this._identity}waitForIdle(e){return this.session?this.session.waitForIdle(e):Promise.resolve()}execute(e,t,n,r,i){const o=l.createDeferred();let s;return this.executeObservable(e,t,n,r).subscribe(e=>{s=e},e=>{o.reject(e)},()=>{o.resolve(s)}),i&&i.onCancellationRequested&&this.disposableRegistry.push(i.onCancellationRequested(()=>o.reject(new a.CancellationError))),o.promise}inspect(e,t=0,n){const r=l.createDeferred(),i=this.checkForExit();return i?r.reject(i):this.session.requestInspect({code:e,cursor_pos:t,detail_level:0}).then(e=>{e&&"ok"===e.content.status?r.resolve(e.content.data):r.resolve(void 0)}).catch(e=>{r.reject(e)}),n&&this.disposableRegistry.push(n.onCancellationRequested(()=>r.reject(new a.CancellationError))),r.promise}setLaunchingFile(e){return this.updateWorkingDirectoryAndPath(e)}executeObservable(e,t,n,i){const o=new h.StopWatch,s=this.executeObservableImpl(e,t,n,i);return new r.Observable(e=>{s.subscribe(t=>{e.next(t),t.forEach(e=>{e.state!==v.CellState.finished&&e.state!==v.CellState.error||this.finishedExecuting.fire(e)})},t=>{e.error(t)},()=>{e.complete(),p.sendTelemetryEvent(g.Telemetry.ExecuteCellTime,o.elapsedTime)})})}fireRestart(){this.kernelRestarted.fire()}async getCompletion(e,t,n){if(this.session){if(this.session.status===s.ServerStatus.Busy)return{matches:[],cursor:{start:0,end:0},metadata:{}};const r=await Promise.race([this.session.requestComplete({code:e,cursor_pos:t}),a.createPromiseFromCancellation({defaultValue:void 0,cancelAction:"resolve",token:n})]);return r&&r.content&&"matches"in r.content?{matches:r.content.matches,cursor:{start:r.content.cursor_start,end:r.content.cursor_end},metadata:r.content.metadata}:{matches:[],cursor:{start:0,end:0},metadata:{}}}throw new Error(u.DataScience.sessionDisposed())}getMatchingInterpreter(){return E.getInterpreterFromKernelConnectionMetadata(this.getKernelConnection())}getKernelConnection(){return this._executionInfo.kernelConnectionMetadata}registerCommTarget(e,t){if(!this.session)throw new Error(u.DataScience.sessionDisposed());this.session.registerCommTarget(e,t)}registerMessageHook(e,t){if(this.session)return this.session.registerMessageHook(e,t);throw new Error(u.DataScience.sessionDisposed())}removeMessageHook(e,t){if(this.session)return this.session.removeMessageHook(e,t);throw new Error(u.DataScience.sessionDisposed())}executeObservableImpl(e,t,n,i){if(this.session){const r=f.generateCells(this.configService.getSettings(this.resource),e,t,n,!0,i);if(r.length>1)return this.combineObservables(this.executeMarkdownObservable(r[0]),this.executeCodeObservable(r[1]));if(r.length>0)return this.combineObservables("code"===r[0].data.cell_type?this.executeCodeObservable(r[0]):this.executeMarkdownObservable(r[0]))}return c.traceError("No session during execute observable"),new r.Observable(e=>{e.error(this.getDisposedError()),e.complete()})}async updateWorkingDirectoryAndPath(e){if(c.traceInfo("UpdateWorkingDirectoryAndPath in Jupyter Notebook"),this._executionInfo&&this._executionInfo.connectionInfo.localLaunch&&!this._workingDirectory){const t=this._executionInfo.workingDir;if(t&&await this.fs.localDirectoryExists(t))return this._workingDirectory=t,this.changeDirectoryIfPossible(this._workingDirectory);if(e&&await this.fs.localFileExists(e)&&await this.fs.localDirectoryExists(i.dirname(e))&&(this._workingDirectory=y.expandWorkingDir(this._executionInfo.workingDir,e,this.workspace),this._workingDirectory))return this.changeDirectoryIfPossible(this._workingDirectory)}}handleIOPub(e,t,r){const i=n(89),o=this.trimOutput.bind(this);let s=!0;try{if(i.KernelMessage.isExecuteResultMsg(r))this.handleExecuteResult(r,t,e.cell,o);else if(i.KernelMessage.isExecuteInputMsg(r))this.handleExecuteInput(r,t,e.cell);else if(i.KernelMessage.isStatusMsg(r)){const n=r;n.content.execution_state===e.executionState&&(s=!1),e.executionState=n.content.execution_state,this.handleStatusMessage(n,t,e.cell)}else i.KernelMessage.isStreamMsg(r)?this.handleStreamMesssage(r,t,e.cell,o):i.KernelMessage.isDisplayDataMsg(r)?this.handleDisplayData(r,t,e.cell):i.KernelMessage.isUpdateDisplayDataMsg(r)?s=!1:i.KernelMessage.isClearOutputMsg(r)?this.handleClearOutput(r,t,e.cell):i.KernelMessage.isErrorMsg(r)?this.handleError(r,t,e.cell):i.KernelMessage.isCommOpenMsg(r)||i.KernelMessage.isCommMsgMsg(r)||i.KernelMessage.isCommCloseMsg(r)?s=!1:c.traceWarning(`Unknown message ${r.header.msg_type} : hasData=${"data"in r.content}`);"execution_count"in r.content&&"number"==typeof r.content.execution_count&&(e.cell.data.execution_count=r.content.execution_count),[...this.ioPubListeners].forEach(e=>e(r,r.header.msg_id)),s&&e.next(this.sessionStartTime)}catch(t){e.error(this.sessionStartTime,t)}}checkForExit(){if(this._executionInfo&&this._executionInfo.connectionInfo&&!this._executionInfo.connectionInfo.valid&&"jupyter"===this._executionInfo.connectionInfo.type&&this._executionInfo.connectionInfo.localProcExitCode){const e=this._executionInfo.connectionInfo.localProcExitCode;return c.traceError("Jupyter crashed with code "+e),new Error(u.DataScience.jupyterServerCrashed().format(e.toString()))}}handleInputRequest(e,t){if(t.content&&"prompt"in t.content){const e=null!==t.content.password&&t.content.password;this.applicationService.showInputBox({prompt:t.content.prompt?t.content.prompt.toString():"",ignoreFocusOut:!0,password:e}).then(e=>{this.session.sendInputReply(e||"")},d.noop)}}handleReply(e,t,r){const i=n(89),o=this.trimOutput.bind(this);i.KernelMessage.isExecuteReplyMsg(r)&&(this.handleExecuteReply(r,t,e.cell,o),"execution_count"in r.content&&"number"==typeof r.content.execution_count&&(e.cell.data.execution_count=r.content.execution_count),e.next(this.sessionStartTime))}executeCodeObservable(e){return new r.Observable(t=>{t.next(e);const n=new C(e,t,e=>{this.pendingCellSubscriptions=this.pendingCellSubscriptions.filter(t=>t!==e)});this.pendingCellSubscriptions.push(n),this.handleCodeRequest(n)})}handleExecuteResult(e,t,n,r){e.content.data&&e.content.data.hasOwnProperty("text/plain")&&(e.content.data["text/plain"]=_.splitMultilineString(r(_.concatMultilineString(e.content.data["text/plain"])))),this.addToCellData(n,{output_type:"execute_result",data:e.content.data,metadata:e.content.metadata,transient:e.content.transient,execution_count:e.content.execution_count},t)}handleExecuteReply(e,t,n,r){const i=e.content;i.payload&&i.payload.forEach(e=>{if(e.data&&e.data.hasOwnProperty("text/plain")){const o=_.concatMultilineString(e.data["text/plain"]),s=r(o);this.addToCellData(n,{output_type:"stream",text:_.splitMultilineString(s),name:"stdout",metadata:{},execution_count:i.execution_count},t)}})}handleExecuteInput(e,t,n){n.data.execution_count=e.content.execution_count}handleStatusMessage(e,t,n){c.traceInfo("Kernel switching to "+e.content.execution_state)}handleStreamMesssage(e,t,n,r){const i=n.data;let o=0,s=0;t.value&&(i.outputs=[],t.update(!1));const a=i.outputs.length>0&&"stream"===i.outputs[i.outputs.length-1].output_type?i.outputs[i.outputs.length-1]:void 0;if(a){const t=_.formatStreamText(`${_.concatMultilineString(a.text)}${_.concatMultilineString(e.content.text)}`);o=t.length;const n=r(t);s=n.length,a.text=_.splitMultilineString(n)}else{const t=_.formatStreamText(_.concatMultilineString(e.content.text));o=t.length;const a={output_type:"stream",name:e.content.name,text:[r(t)]};i.outputs=[...i.outputs,a],s=a.text[0].length,n.data=i}s<o&&(void 0===i.metadata.tags&&(i.metadata.tags=[]),i.metadata.tags=i.metadata.tags.filter(e=>"outputPrepend"!==e),i.metadata.tags.push("outputPrepend"))}handleDisplayData(e,t,n){const r={output_type:"display_data",data:S.handleTensorBoardDisplayDataOutput(e.content.data),metadata:e.content.metadata,transient:e.content.transient};this.addToCellData(n,r,t)}handleClearOutput(e,t,n){if(e&&e.content.wait)t.update(!0);else{n.data.outputs=[]}}handleInterrupted(e){this.handleError({channel:"iopub",parent_header:{},metadata:{},header:{username:"",version:"",session:"",msg_id:"",msg_type:"error",date:""},content:{ename:"KeyboardInterrupt",evalue:"",traceback:["[1;31m---------------------------------------------------------------------------[0m","[1;31mKeyboardInterrupt[0m: "]}},new w.RefBool(!1),e)}handleError(e,t,n){const r={output_type:"error",ename:e.content.ename,evalue:e.content.evalue,traceback:e.content.traceback};e.content.hasOwnProperty("transient")&&(r.transient=e.content.transient),this.addToCellData(n,r,t),n.state=v.CellState.error,this.configService.getSettings(this.resource).stopOnError&&this.pendingCellSubscriptions.forEach(e=>{e.cell.id!==n.id&&e.cancel()})}trimOutput(e){const t=this.configService.getSettings(this.resource).textOutputLimit;return!t||0===t||e.length<=t?e:e.substr(e.length-t)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceService=void 0;const i=n(0),o=n(6),s=n(1),a=n(129);let c=class{get onDidChangeConfiguration(){return s.workspace.onDidChangeConfiguration}get rootPath(){return Array.isArray(s.workspace.workspaceFolders)&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].uri.fsPath:void 0}get workspaceFolders(){return s.workspace.workspaceFolders}get onDidChangeWorkspaceFolders(){return s.workspace.onDidChangeWorkspaceFolders}get hasWorkspaceFolders(){return Array.isArray(s.workspace.workspaceFolders)&&s.workspace.workspaceFolders.length>0}get workspaceFile(){return s.workspace.workspaceFile}getConfiguration(e,t){return s.workspace.getConfiguration(e,t||null)}getWorkspaceFolder(e){return e?s.workspace.getWorkspaceFolder(e):void 0}asRelativePath(e,t){return s.workspace.asRelativePath(e,t)}get isTrusted(){return s.workspace.isTrusted}get onDidGrantWorkspaceTrust(){return s.workspace.onDidGrantWorkspaceTrust}createFileSystemWatcher(e,t,n,r){return s.workspace.createFileSystemWatcher(e,n,n,r)}findFiles(e,t,n,r){return s.workspace.findFiles(e,t,n,r)}getWorkspaceFolderIdentifier(e,t=""){const n=e?s.workspace.getWorkspaceFolder(e):void 0;return n?o.normalize(a.getOSType()===a.OSType.Windows?n.uri.fsPath.toUpperCase():n.uri.fsPath):t}};c=r([i.injectable()],c),t.WorkspaceService=c},function(e,t,n){e.exports=u,u.realpath=u,u.sync=d,u.realpathSync=d,u.monkeypatch=function(){r.realpath=u,r.realpathSync=d},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(25),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(1568);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){l(r)?c.realpath(e,t,n):n(r,i)}))}function d(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=l,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:l));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!h(e,t)})));e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=d(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=h,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(6),o=n(343),s=n(344),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function l(e,t){return e.localeCompare(t)}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function h(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDirNotEmptyError=t.isNoPermissionsError=t.isNotDirError=t.isFileIsDirError=t.isFileExistsError=t.isFileNotFoundError=t.createDirNotEmptyError=void 0;const r=n(1);var i;function o(e,t){const n=e.code;if(n)return n===t}!function(e){const t=r.FileSystemError.FileNotFound().name,n=r.FileSystemError.FileExists().name,i=r.FileSystemError.FileIsADirectory().name,o=r.FileSystemError.FileNotADirectory().name,s=r.FileSystemError.NoPermissions().name,a=[t,n,i,o,s];function c(e,t){if(a.includes(e.name))return e.name===t}e.isFileNotFound=function(e){return c(e,t)},e.isFileExists=function(e){return c(e,n)},e.isFileIsDir=function(e){return c(e,i)},e.isNotDir=function(e){return c(e,o)},e.isNoPermissions=function(e){return c(e,s)}}(i||(i={})),t.createDirNotEmptyError=function(e){const t=new Error(`directory "${e}" not empty`);return t.name="SystemError",t.code="ENOTEMPTY",t.path=e,t.syscall="rmdir",t},t.isFileNotFoundError=function(e){const t=i.isFileNotFound(e);return void 0!==t?t:o(e,"ENOENT")},t.isFileExistsError=function(e){const t=i.isFileExists(e);return void 0!==t?t:o(e,"EEXIST")},t.isFileIsDirError=function(e){const t=i.isFileIsDir(e);return void 0!==t?t:o(e,"EISDIR")},t.isNotDirError=function(e){const t=i.isNotDir(e);return void 0!==t?t:o(e,"ENOTDIR")},t.isNoPermissionsError=function(e){const t=i.isNoPermissions(e);return void 0!==t?t:o(e,"EACCES")},t.isDirNotEmptyError=function(e){return o(e,"ENOTEMPTY")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0,void 0===Reflect.metadata&&n(730),n(4);const r={},i=new(n(32).StopWatch),o=n(1),s=n(898),a=n(7),c=n(4),l=n(3),u=n(19),d=n(10),h=n(925),p=n(1579),f=n(1582),m=n(9);let g;r.codeLoadingTime=i.elapsedTime,t.activate=async function(e){try{let t,n,a;return[t,n,a]=await async function(e,t,n){const r=u.createDeferred();try{!function(e){const t={location:o.ProgressLocation.Window,title:d.Common.loadingExtension()};o.window.withProgress(t,()=>e).then(m.noop,m.noop)}(r.promise),n.startActivateTime=t.elapsedTime;const[i,a]=p.initializeGlobals(e);g=a;const{activationPromise:c}=await h.activateComponents(e,i,a);n.endActivateTime=t.elapsedTime,r.resolve();return[s.buildApi(c,i,a,e),c,a]}finally{r.completed||r.reject()}}(e,i,r),f.sendStartupTelemetry(n,r,i,a).ignoreErrors(),await n,t}catch(e){return await async function(e,t){(function(e){try{let t=o.window;g&&(t=g.get(a.IApplicationShell)),t.showErrorMessage(e).ignoreErrors()}catch(e){c.traceError("failed to notify user",e)}})("Extension activation failed, run the 'Developer: Toggle Developer Tools' command for more information."),console.error("extension activation failed",e),c.traceError("extension activation failed",e),await f.sendErrorTelemetry(e,t,g)}(e,r),c.traceError("Failed to active the Jupyter Extension",e),{createBlankNotebook:()=>Promise.resolve(),ready:Promise.resolve(),registerPythonApi:m.noop,registerRemoteServerProvider:m.noop,showDataViewer:()=>Promise.resolve()}}},t.deactivate=function(){if(g){const e=g.get(l.IAsyncDisposableRegistry);if(e)return e.dispose()}return Promise.resolve()}},function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return j(Object.create(null))}:s?function(){return j({__proto__:null})}:function(){return j({})},has:a?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:a?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}():Map,h=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,p=new(u||"function"!=typeof WeakMap?function(){var e=c.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+s()}while(c.has(e,t));return e[t]=!0,t}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function f(e,t,n){var r=p.get(e);if(_(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(_(i)){if(!n)return;i=new d,r.set(t,i)}return i}function m(e,t,n){var r=f(t,n,!1);return!_(r)&&!!r.has(e)}function g(e,t,n){var r=f(t,n,!1);if(!_(r))return r.get(e)}function v(e,t,n,r){f(n,r,!0).set(e,t)}function y(e,t){var n=[],r=f(e,t,!1);if(_(r))return n;for(var o=function(e){var t=T(e,i);if(!k(t))throw new TypeError;var n=t.call(e);if(!S(n))throw new TypeError;return n}(r.keys()),s=0;;){var a=I(o);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(e){try{M(o)}finally{throw e}}s++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function w(e){return null===e}function S(e){return"object"==typeof e?null!==e:"function"==typeof e}function E(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=T(e,r);if(void 0!==i){var o=i.call(e,n);if(S(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(k(n))if(!S(i=n.call(e)))return i;if(k(r=e.valueOf))if(!S(i=r.call(e)))return i}else{var r;if(k(r=e.valueOf))if(!S(i=r.call(e)))return i;var i,o=e.toString;if(k(o))if(!S(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}function x(e){var t=E(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function C(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"==typeof e}function D(e){return"function"==typeof e}function T(e,t){var n=e[t];if(null!=n){if(!k(n))throw new TypeError;return n}}function I(e){var t=e.next();return!t.done&&t}function M(e){var t=e.return;t&&t.call(e)}function P(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function j(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(_(n)){if(!C(e))throw new TypeError;if(!D(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!_(r)&&!w(r)){if(!D(r))throw new TypeError;t=r}}return t}(e,t)}if(!C(e))throw new TypeError;if(!S(t))throw new TypeError;if(!S(r)&&!_(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!_(o)&&!w(o)){if(!S(o))throw new TypeError;r=o}}return r}(e,t,n=x(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!S(n))throw new TypeError;if(!_(r)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;v(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!S(n))throw new TypeError;return _(r)||(r=x(r)),v(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!S(t))throw new TypeError;return _(n)||(n=x(n)),function e(t,n,r){if(m(t,n,r))return!0;var i=P(n);return!w(i)&&e(t,i,r)}(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!S(t))throw new TypeError;return _(n)||(n=x(n)),m(e,t,n)})),e("getMetadata",(function(e,t,n){if(!S(t))throw new TypeError;return _(n)||(n=x(n)),function e(t,n,r){if(m(t,n,r))return g(t,n,r);var i=P(n);return w(i)?void 0:e(t,i,r)}(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!S(t))throw new TypeError;return _(n)||(n=x(n)),g(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return _(t)||(t=x(t)),function e(t,n){var r=y(t,n),i=P(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var s=new h,a=[],c=0,l=r;c<l.length;c++){var u=l[c];s.has(u)||(s.add(u),a.push(u))}for(var d=0,p=o;d<p.length;d++){u=p[d];s.has(u)||(s.add(u),a.push(u))}return a}(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!S(e))throw new TypeError;return _(t)||(t=x(t)),y(e,t)})),e("deleteMetadata",(function(e,t,n){if(!S(t))throw new TypeError;_(n)||(n=x(n));var r=f(t,n,!1);if(_(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||p.delete(t),!0}))}(r)}()}(n||(n={}))},function(e,t,n){var r={};e.exports=r,r.themes={};var i=n(18),o=r.styles=n(732),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);r.supportsColor=n(733).supportsColor,void 0===r.enabled&&(r.enabled=!1!==r.supportsColor()),r.enable=function(){r.enabled=!0},r.disable=function(){r.enabled=!1},r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};r.stylize=function(e,t){return r.enabled?o[t].open+e+o[t].close:e+""};var c=/[|\\{}()[\]^$+*?.]/g;function l(e){var t=function e(){return p.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var u,d=(u={},o.grey=o.gray,Object.keys(o).forEach((function(e){o[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(c,"\\$&")}(o[e].close),"g"),u[e]={get:function(){return l(this._styles.concat(e))}}})),u),h=s((function(){}),d);function p(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return void 0!==e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!r.enabled||!t)return t;for(var n=-1!=t.indexOf("\n"),s=this._styles,c=s.length;c--;){var l=o[s[c]];t=l.open+t.replace(l.closeRe,l.open)+l.close,n&&(t=t.replace(a,(function(e){return l.close+e+l.open})))}return t}r.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){r[t]=function(n){if("object"==typeof e[t]){var i=n;for(var o in e[t])i=r[e[t][o]](i);return i}return r[e[t]](n)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(var m in r.trap=n(735),r.zalgo=n(736),r.maps={},r.maps.america=n(737)(r),r.maps.zebra=n(738)(r),r.maps.rainbow=n(739)(r),r.maps.random=n(740)(r),r.maps)!function(e){r[e]=function(t){return f(r.maps[e],t)}}(m);s(r,function(){var e={};return Object.keys(d).forEach((function(t){e[t]={get:function(){return l([t])}}})),e}())},function(e,t){var n={};e.exports=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var t=r[e],i=n[e]=[];i.open="["+t[0]+"m",i.close="["+t[1]+"m"}))},function(e,t,n){"use strict";var r=n(28),i=n(734),o=process.env,s=void 0;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var n=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in o}))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(t=t||process.argv).indexOf("--"),r=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(r+e);return-1!==i&&(-1===n||i<n)}},function(e,t){e.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var r={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=r[e]||[" "],i=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][i]:e})),n}},function(e,t){e.exports=function(e,t){e=e||"   he is here   ";var n={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},r=[].concat(n.up,n.down,n.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return r.filter((function(n){t=n===e})),t}return function(e,t){var r,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],r={up:0,down:0,mid:0},t.size){case"mini":r.up=i(8),r.mid=i(2),r.down=i(8);break;case"maxi":r.up=i(16)+3,r.mid=i(4)+1,r.down=i(64)+3;break;default:r.up=i(8)+1,r.mid=i(6)/2,r.down=i(8)+1}var c=["up","mid","down"];for(var l in c)for(var u=c[l],d=0;d<=r[u];d++)t[u]&&(a+=n[u][i(n[u].length)])}return a}(e,t)}},function(e,t){e.exports=function(e){return function(t,n,r){if(" "===t)return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e.exports=function(e){return function(t,n,r){return n%2==0?t:e.inverse(t)}}},function(e,t){e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,r,i){return" "===n?n:e[t[r++%t.length]](n)}}},function(e,t){e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(n,r,i){return" "===n?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"cli",{value:n(742)}),Object.defineProperty(t,"npm",{value:n(743)}),Object.defineProperty(t,"syslog",{value:n(744)})},function(e,t,n){"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,t,n){"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,t,n){"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,t,n){var r={"./align.js":347,"./browser.js":746,"./cli.js":348,"./colorize.js":200,"./combine.js":349,"./dist/align.js":261,"./dist/browser.js":360,"./dist/cli.js":262,"./dist/colorize.js":172,"./dist/combine.js":263,"./dist/errors.js":361,"./dist/format.js":50,"./dist/index.js":362,"./dist/json.js":264,"./dist/label.js":265,"./dist/levels.js":202,"./dist/logstash.js":266,"./dist/metadata.js":267,"./dist/ms.js":363,"./dist/pad-levels.js":203,"./dist/pretty-print.js":268,"./dist/printf.js":269,"./dist/simple.js":270,"./dist/splat.js":271,"./dist/timestamp.js":272,"./dist/uncolorize.js":273,"./errors.js":748,"./examples/combine.js":749,"./examples/filter.js":750,"./examples/invalid.js":751,"./examples/metadata.js":752,"./examples/padLevels.js":753,"./examples/volume.js":754,"./format.js":53,"./index.js":96,"./json.js":260,"./label.js":350,"./levels.js":258,"./logstash.js":351,"./metadata.js":352,"./ms.js":755,"./pad-levels.js":259,"./pretty-print.js":353,"./printf.js":354,"./simple.js":355,"./splat.js":356,"./timestamp.js":357,"./uncolorize.js":359};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=745},function(e,t,n){"use strict";const r=t.format=n(53);t.levels=n(258),Object.defineProperty(r,"align",{value:n(347)}),Object.defineProperty(r,"cli",{value:n(348)}),Object.defineProperty(r,"combine",{value:n(349)}),Object.defineProperty(r,"colorize",{value:n(200)}),Object.defineProperty(r,"json",{value:n(260)}),Object.defineProperty(r,"label",{value:n(350)}),Object.defineProperty(r,"logstash",{value:n(351)}),Object.defineProperty(r,"metadata",{value:n(352)}),Object.defineProperty(r,"padLevels",{value:n(259)}),Object.defineProperty(r,"prettyPrint",{value:n(353)}),Object.defineProperty(r,"printf",{value:n(354)}),Object.defineProperty(r,"simple",{value:n(355)}),Object.defineProperty(r,"splat",{value:n(356)}),Object.defineProperty(r,"timestamp",{value:n(357)}),Object.defineProperty(r,"uncolorize",{value:n(359)})},function(e,t,n){var r={"./align.js":261,"./browser.js":360,"./cli.js":262,"./colorize.js":172,"./combine.js":263,"./errors.js":361,"./format.js":50,"./index.js":362,"./json.js":264,"./label.js":265,"./levels.js":202,"./logstash.js":266,"./metadata.js":267,"./ms.js":363,"./pad-levels.js":203,"./pretty-print.js":268,"./printf.js":269,"./simple.js":270,"./splat.js":271,"./timestamp.js":272,"./uncolorize.js":273};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=747},function(e,t,n){"use strict";const r=n(53),{LEVEL:i,MESSAGE:o}=n(23);e.exports=r((e,{stack:t})=>{if(e instanceof Error){const n=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[o]:e[o]||e.message});return t&&(n.stack=e.stack),n}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);const n=e.message;return e.message=n.message,e[o]=n.message,t&&(e.stack=n.stack),e})},function(e,t,n){const{format:r}=n(96),{combine:i,timestamp:o,label:s}=r,a=i(s({label:"right meow!"}),o()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},function(e,t,n){const{format:r}=n(96),{combine:i,timestamp:o,label:s}=r,a=r((e,t)=>!e.private&&e)();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const c=r.combine(r(e=>!1)(),r(e=>{throw new Error("Never reached")})());console.dir(c.transform({level:"info",message:"wow such testing"}))},function(e,t,n){const{format:r}=n(96);r((function(e,t,n,r){return e}))},function(e,t,n){const{format:r}=n(96),{combine:i,json:o,metadata:s,timestamp:a}=r,c=i(a(),s(),o()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(c);const l=i(a(),s({fillExcept:["message","level","timestamp"]}),o()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(l);const u=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(u);const d=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),s({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),s({fillExcept:["level","message","label","timestamp"]}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},function(e,t,n){const{format:r}=n(96),{combine:i,padLevels:o,simple:s}=r,{MESSAGE:a}=n(23),c=i(o({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),s()),l=c.transform({level:"info",message:"This is an info level message."}),u=c.transform({level:"error",message:"This is an error level message."}),d=c.transform({level:"verbose",message:"This is a verbose level message."});console.dir(l[a]),console.dir(u[a]),console.dir(d[a])},function(e,t,n){const{format:r}=n(96),i=r((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e)),o=i({yell:!0});console.dir(o.transform({level:"info",message:"sorry for making you YELL in your head!"},o.options));const s=i({whisper:!0});console.dir(s.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},s.options))},function(e,t,n){"use strict";const r=n(53),i=n(204);e.exports=r(e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms="+"+i(this.diff),e})},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.2.1","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^2.6.1","diagnostics":"^1.1.1","is-stream":"^1.1.0","logform":"^2.1.1","one-time":"0.0.4","readable-stream":"^3.1.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.3.0"},"devDependencies":{"@babel/cli":"^7.2.3","@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@types/node":"^10.12.19","abstract-winston-transport":">= 0.5.1","assume":"^2.1.0","colors":"^1.3.3","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.3.3","mocha":"^5.2.0","nyc":"^13.1.0","rimraf":"^2.6.3","split2":"^3.1.0","std-mocks":"^1.0.1","through2":"^3.0.0","winston-compat":"^0.1.4"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT","_resolved":"https://registry.npmjs.org/winston/-/winston-3.2.1.tgz","_integrity":"sha512-zU6vgnS9dAWCEKg/QYigd6cgMVVNwyTzKs81XZtTFuRwJOcDdBg7AU0mXVyNbs7O5RH2zdv+BdNZUlx7mXPuOw==","_from":"winston@3.2.1"}')},function(e,t,n){"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>n(758)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>n(763)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>n(802)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>n(803)})},function(e,t,n){"use strict";const r=n(28),{LEVEL:i,MESSAGE:o}=n(23),s=n(123);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||r.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.error(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.warn(e[o]),void(t&&t())):(console._stdout?console._stdout.write(`${e[o]}${this.eol}`):console.log(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce((e,n)=>{if("string"!=typeof n)throw new Error(t);return e[n]=!0,e},{})}}},function(e,t,n){var r=n(17),i=n(365);"disable"===process.env.READABLE_STREAM?e.exports=r&&r.Writable||i:e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r=n(205);e.exports=y;var i,o=n(207);y.ReadableState=v;n(35).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(366),c=n(34).Buffer,l=global.Uint8Array||function(){};var u=n(42);u.inherits=n(27);var d=n(18),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,f=n(762),m=n(367);u.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(206));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(368).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||n(206),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,s)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):x(e,s)):_(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(368).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),T(e)}function x(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:y;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",f),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function f(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",g),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=I},function(e,t,n){"use strict";var r=n(34).Buffer,i=n(18);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";const r=n(25),i=n(6),o=n(764),s=n(44),{MESSAGE:a}=n(23),{Stream:c,PassThrough:l}=n(178),u=n(123),d=n(210)("winston:file"),h=n(28),p=n(801);e.exports=class extends u{constructor(e={}){function t(t,...n){n.slice(1).forEach(n=>{if(e[n])throw new Error(`Cannot set ${n} and ${t} together`)})}if(super(e),this.name=e.name||"file",this._stream=new l,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",()=>{this._drain=!1,this.log(e,t)});if(this._rotate)return void this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,t)});const n=`${e[a]}${this.eol}`,r=Buffer.byteLength(n);this._pendingSize+=r,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(n,function(){this._size+=r,this._pendingSize-=r,d("logged %s %s",this._size,n),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,t()})),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from));return e.order=e.order||"desc",e.fields=e.fields,e}(e);const n=i.join(this.dirname,this.filename);let o="",s=[],a=0;const c=r.createReadStream(n,{encoding:"utf8"});function l(t,n){try{const n=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const n=new Date(t.timestamp);if(e.from&&n<e.from||e.until&&n>e.until||e.level&&e.level!==t.level)return;return!0})(n)&&function(t){if(e.rows&&s.length>=e.rows&&"desc"!==e.order)return void(c.readable&&c.destroy());e.fields&&(t=e.fields.reduce((e,n)=>(e[n]=t[n],e),{}));"desc"===e.order&&s.length>=e.rows&&s.shift();s.push(t)}(n)}catch(e){n||c.emit("error",e)}}c.on("error",e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)}),c.on("data",t=>{const n=(t=(o+t).split(/\n+/)).length-1;let r=0;for(;r<n;r++)(!e.start||a>=e.start)&&l(t[r]),a++;o=t[n]}),c.on("close",()=>{o&&l(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)})}stream(e={}){const t=i.join(this.dirname,this.filename),n=new c,r={file:t,start:e.start};return n.destroy=p(r,(e,t)=>{if(e)return n.emit("error",e);try{n.emit("data",t),t=JSON.parse(t),n.emit("log",t)}catch(e){n.emit("error",e)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){const t=this._getFile(),n=i.join(this.dirname,t);r.stat(n,(r,i)=>r&&"ENOENT"===r.code?(d("ENOENTok",n),this.filename=t,e(null,0)):r?(d(`err ${r.code} ${n}`),e(r)):!i||this._needsNewFile(i.size)?this._incFile(()=>this.stat(e)):(this.filename=t,void e(null,i.size)))}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const n=r.createWriteStream(t,this.options).on("error",e=>d(e)).on("close",()=>d("close",n.path,n.bytesWritten)).on("open",()=>{d("file open ok",t),this.emit("open",t),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new l,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});if(d("create stream ok",t),this.zippedArchive){const e=s.createGzip();return e.pipe(n),e}return n}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),n=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,n,e):(this._created+=1,this._checkMaxFilesIncrementing(t,n,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created,r=!this.tailable&&this._created?`${t}${n}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?r+".gz":r}_checkMaxFilesIncrementing(e,t,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);r.unlink(a,n)}_checkMaxFilesTailable(e,t,n){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let n=this.maxFiles-1;n>1;n--)s.push(function(n,o){let s=`${t}${n-1}${e}${a}`;const c=i.join(this.dirname,s);r.exists(c,l=>{if(!l)return o(null);s=`${t}${n}${e}${a}`,r.rename(c,i.join(this.dirname,s),o)})}.bind(this,n));o(s,()=>{r.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),n)})}_createLogDirIfNotExist(e){r.existsSync(e)||r.mkdirSync(e,{recursive:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(i.default,e,t)};var r=o(n(765)),i=o(n(771));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){n=n||r.default;var a=(0,i.default)(t)?[]:{};e(t,(function(e,t,n){(0,s.default)(e)((function(e,r){arguments.length>2&&(r=(0,o.default)(arguments,1)),a[t]=r,n(e)}))}),(function(e){n(e,a)}))};var r=a(n(274)),i=a(n(174)),o=a(n(275)),s=a(n(208));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){var r=n(176),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)((function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}(0,r.default)(i)&&"function"==typeof i.then?i.then((function(e){a(n,null,e)}),(function(e){a(n,e.message?e:new Error(e))})):n(null,i)}))};var r=s(n(106)),i=s(n(769)),o=s(n(770));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){try{e(t,n)}catch(e){(0,o.default)(c,e)}}function c(e){throw e}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,o.default)(arguments),n=t.pop();e.call(this,t,n)}};var r,i=n(275),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=l,t.wrap=u;var r,i=n(275),o=(r=i)&&r.__esModule?r:{default:r};var s,a=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,c=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function l(e){setTimeout(e,0)}function u(e){return function(t){var n=(0,o.default)(arguments,1);e((function(){t.apply(null,n)}))}}s=a?setImmediate:c?process.nextTick:l,t.default=u(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(372)),i=o(n(380));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(r.default,1),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,c){if(c=(0,i.default)(c||r.default),e<=0||!t)return c(null);var l=(0,o.default)(t),u=!1,d=0,h=!1;function p(e,t){if(d-=1,e)u=!0,c(e);else{if(t===a.default||u&&d<=0)return u=!0,c(null);h||f()}}function f(){for(h=!0;d<e&&!u;){var t=l();if(null===t)return u=!0,void(d<=0&&c(null));d+=1,n(t.value,t.key,(0,s.default)(p))}h=!1}f()}};var r=c(n(274)),i=c(n(373)),o=c(n(773)),s=c(n(378)),a=c(n(379));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):(n=e,s=(0,o.default)(n),a=-1,c=s.length,function(){var e=s[++a];return a<c?{value:n[e],key:e}:null});var n,s,a,c};var r=s(n(174)),i=s(n(774)),o=s(n(209));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(175),i=n(140);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(780),i=n(276),o=n(277),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(175),i=n(371),o=n(140),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},function(e,t,n){var r=n(278),i=n(782),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(377)(Object.keys,Object);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(84).Buffer,o=n(18).inspect,s=o&&o.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,n,r,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,r=a,i.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return o},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,s),0===(e-=s)){s===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(s));break}++r}return this.length-=r,t},t[s]=function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,n){"use strict";var r=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!r.has(e)){var t=e+" is an experimental feature. This feature could change at any time";r.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(279),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[u]=null,e[s]=null,e[a]=null,t(p(n,!1)))}}function m(e){process.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[u];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[d])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[u]=null,n[s]=null,n[a]=null,e(p(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[u]=null,n[s]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[u]=null,n[s]=null,n[a]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",m.bind(null,n)),n}},function(e,t,n){"use strict";e.exports=i;var r=n(387);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(27)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(141).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(279)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(l),o||(s.forEach(l),i(r))}))}));return t.reduce(u)}},function(e,t,n){"use strict";var r=n(789),i=n(795);e.exports=function(e,t){var n=e.split(t||":"),o=i(n[0]);if(!n.length)return o;for(var s=0,a=n.length-1;s<a;s++)o=r(o).mix(r(i(n[s+1]))).saturate(1).hex();return o}},function(e,t,n){"use strict";var r=n(790),i=n(793),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach((function(e){a[o.call(i[e].labels).sort().join("")]=e}));var c={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in s&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,u;if(e)if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,u=i[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"==typeof d.value[u]?d.value[u]:1}else if(e.length){this.model=t||"rgb",u=i[this.model].channels;var h=o.call(e,0,u);this.color=p(h,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var f=Object.keys(e);"alpha"in e&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=f.sort().join("");if(!(m in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[m];var g=i[this.model].labels,v=[];for(n=0;n<g.length;n++)v.push(e[g[n]]);this.color=p(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(u=i[this.model].channels,n=0;n<u;n++){var y=c[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(c[e]||(c[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function p(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(100)),y:u("xyz",1,d(100)),z:u("xyz",2,d(100)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=n.alpha()-r.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return l.rgb(a*n.red()+c*r.red(),a*n.green()+c*r.green(),a*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===s.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new l(h(i[this.model][e].raw(this.color)).concat(n),e)},l[e]=function(n){return"number"==typeof n&&(n=p(o.call(arguments),t)),new l(n,e)}}})),e.exports=l},function(e,t,n){var r=n(388),i=n(791),o={};for(var s in r)r.hasOwnProperty(s)&&(o[r[s]]=s);var a=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),n="hsl";break;case"hwb":t=a.get.hwb(e),n="hwb";break;default:t=a.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(t.slice(s,s+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=c(o[n],0,255);return o[3]=c(o[3],0,1),o},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,n){"use strict";var r=n(792),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var a=e[n];r(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(389),i=n(794),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},function(e,t,n){var r=n(389);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),s=o.length,a=0;a<s;a++){var c=o[a],l=t[c];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(c))}return t}function o(e,t){return function(n){return t(e(n))}}function s(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],s=t[e].parent;t[s].parent;)n.unshift(t[s].parent),i=o(r[t[s].parent][s],i),s=t[s].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,a=0;a<o;a++){var c=r[a];null!==t[c].parent&&(n[c]=s(c,t))}return n}},function(e,t,n){"use strict";e.exports=function(e){for(var t=0,n=0;t<e.length;n=e.charCodeAt(t++)+((n<<5)-n));var r=Math.floor(Math.abs(1e4*Math.sin(n)%1*16777216)).toString(16);return"#"+Array(6-r.length+1).join("0")+r}},function(e,t,n){"use strict";var r=n(797);e.exports=function(e,t){var n,i=r(),o=0;for(t=t||["diagnostics","debug"];o<t.length&&!(n=i[t[o]]);o++);if(!n)return!1;for(t=n.split(/[\s,]+/),o=0;o<t.length;o++)if("-"!==(n=t[o].replace("*",".*?")).charAt(0)){if(new RegExp("^"+n+"$").test(e))return!0}else if(new RegExp("^"+n.substr(1)+"$").test(e))return!1;return!1}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&i.merge(e,process.env),"undefined"!=typeof window){if("string"===window.name&&window.name.length&&i.merge(e,i.parse(window.name)),window.localStorage)try{i.merge(e,i.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&i.merge(e,i.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,n;for(t in e)(n=t.toLowerCase())in e||(e[n]=e[t]);return e}i.merge=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},i.parse=function(e){var t,n=/([^=?&]+)=([^&]*)/g,r={};if(!e)return r;for(;t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r.env||r},e.exports=i},function(e,t,n){"use strict";var r=n(799);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),n=e.substring(2,4),r=e.substring(4,6);return[parseInt(t,16),parseInt(n,16),parseInt(r,16)]},i.prototype.rgb=function(e,t,n){var r=e/255*5,i=t/255*5,o=n/255*5;return this.ansi(r,i,o)},i.prototype.ansi=function(e,t,n){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(n)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=r(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},function(e,t,n){var r=n(800),i=r.filter((function(e){return!!e.css})),o=r.filter((function(e){return!!e.vga}));e.exports=function(t){var n=e.exports.get(t);return n&&n.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),r.filter((function(t){return t.name.toLowerCase()===e})).pop()},e.exports.all=e.exports.get.all=function(){return r},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter((function(t){return t.name.toLowerCase()===e})).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),o.filter((function(t){return t.name.toLowerCase()===e})).pop()):o}},function(e,t){e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},function(e,t,n){"use strict";const r=n(25),{StringDecoder:i}=n(212),{Stream:o}=n(178);function s(){}e.exports=(e,t)=>{const n=Buffer.alloc(65536),a=new i("utf8"),c=new o;let l="",u=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},r.open(e.file,"a+","0644",(i,o)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return r.read(o,n,0,n.length,u,(r,o)=>{if(r)return t?t(r):c.emit("error",r),void c.destroy();if(!o)return l&&((null==e.start||d>e.start)&&(t?t(null,l):c.emit("line",l)),d++,l=""),setTimeout(i,1e3);let s=a.write(n.slice(0,o));t||c.emit("data",s),s=(l+s).split(/\n+/);const h=s.length-1;let p=0;for(;p<h;p++)(null==e.start||d>e.start)&&(t?t(null,s[p]):c.emit("line",s[p])),d++;return l=s[h],u+=o,i()});r.close(o,s)}()}),t?c.destroy:c}},function(e,t,n){"use strict";const r=n(48),i=n(58),{Stream:o}=n(178),s=n(123);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,(t,n)=>{n&&200!==n.statusCode&&(t=new Error("Invalid HTTP Status Code: "+n.statusCode)),t?this.emit("warn",t):this.emit("logged",e)}),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(e,n,r)=>{if(n&&200!==n.statusCode&&(e=new Error("Invalid HTTP Status Code: "+n.statusCode)),e)return t(e);if("string"==typeof r)try{r=JSON.parse(r)}catch(e){return t(e)}t(null,r)})}stream(e={}){const t=new o;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let n="";const r=this._request(e);return t.destroy=()=>r.destroy(),r.on("data",e=>{const r=(e=(n+e).split(/\n+/)).length-1;let i=0;for(;i<r;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}n=e[r]}),r.on("error",e=>t.emit("error",e)),t}_request(e,t){const n=(e=e||{}).auth||this.auth,o=e.path||this.path||"";delete e.auth,delete e.path;const s=(this.ssl?i:r).request({method:"POST",host:this.host,port:this.port,path:"/"+o.replace(/^\//,""),headers:this.headers,auth:n?`${n.username}:${n.password}`:"",agent:this.agent});s.on("error",t),s.on("response",e=>e.on("end",()=>t(null,e)).resume()),s.end(Buffer.from(JSON.stringify(e),"utf8"))}}},function(e,t,n){"use strict";const r=n(179),{MESSAGE:i}=n(23),o=n(28),s=n(123);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!r(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||o.EOL}log(e,t){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},function(e,t,n){"use strict";const{Stream:r,Transform:i}=n(178),o=n(281),{LEVEL:s,SPLAT:a}=n(23),c=n(179),l=n(391),u=n(394),d=n(807),h=n(808),{warn:p}=n(364),f=n(280),m=/%[scdjifoO%]/g;class g extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(n){const r=Object.assign({},e,n);n instanceof Error&&(r.stack=n.stack,r.message=n.message),t.write(r)}}})}configure({silent:e,format:t,defaultMeta:r,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:p,rewriters:m,stripColors:g,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||n(260)(),this.defaultMeta=r||null,this.levels=i||this.levels||f.npm.levels,this.level=o,this.exceptions=new l(this),this.rejections=new u(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a]).forEach(e=>this.add(e)),c||d||h||p||m||g)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const n=v(this.levels,this.level);if(null===n)return!1;if(!this.transports||0===this.transports.length)return n>=t;return-1!==this.transports.findIndex(e=>{let r=v(this.levels,e.level);return null===r&&(r=n),r>=t})}log(e,t,...n){if(1===arguments.length)return e[s]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[s]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[s]:e,level:e,message:t}),this);const[r]=n;if("object"==typeof r&&null!==r){if(!(t&&t.match&&t.match(m))){const i=Object.assign({},this.defaultMeta,r,{[s]:e,[a]:n,level:e,message:t});return r.message&&(i.message+=""+r.message),r.stack&&(i.stack=r.stack),this.write(i),this}}return this.write(Object.assign({},this.defaultMeta,{[s]:e,[a]:n,level:e,message:t})),this}_transform(e,t,n){if(this.silent)return n();e[s]||(e[s]=e.level),this.levels[e[s]]||0===this.levels[e[s]]||console.error("[winston] Unknown logger level: %s",e[s]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{n()}}_final(e){const t=this.transports.slice();o(t,(e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter(t=>t.transport===e)[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){p.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const n={},r=Object.assign({},e.query||{});o(this.transports.filter(e=>!!e.query),(function(t,i){!function(t,n){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(r)),t.query(e,(r,i)=>{if(r)return n(r);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),n(null,i)})}(t,(e,r)=>{i&&((r=e||r)&&(n[t.name]=r),i()),i=null})}),()=>t(null,n))}stream(e={}){const t=new r,n=[];return t._streams=n,t.destroy=()=>{let e=n.length;for(;e--;)n[e].destroy()},this.transports.filter(e=>!!e.stream).forEach(r=>{const i=r.stream(e);i&&(n.push(i),i.on("log",e=>{e.transport=e.transport||[],e.transport.push(r.name),t.emit("log",e)}),i.on("error",e=>{e.transport=e.transport||[],e.transport.push(r.name),t.emit("error",e)}))}),t}startTimer(){return new h(this)}profile(e,...t){const n=Date.now();if(this.profilers[e]){const r=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=n-r,i.message=i.message||e,this.write(i)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(n){this.emit(e,n,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const n=e[t];return n||0===n?n:null}Object.defineProperty(g.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){((0,r.default)(e)?h:p)(e,(0,u.default)(t),n)};var r=d(n(174)),i=d(n(379)),o=d(n(372)),s=d(n(380)),a=d(n(274)),c=d(n(373)),l=d(n(378)),u=d(n(208));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){n=(0,c.default)(n||a.default);var r=0,o=0,s=e.length;function u(e,t){e?n(e):++o!==s&&t!==i.default||n(null)}for(0===s&&n(null);r<s;r++)t(e[r],r,(0,l.default)(u))}var p=(0,s.default)(o.default,1/0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){return e(t,r)}},e.exports=t.default},function(e,t,n){"use strict";const r=n(18),{LEVEL:i}=n(23),o=n(123),s=e.exports=function(e={}){if(o.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};r.inherits(s,o),s.prototype._write=function(e,t,n){if(this.silent||!0===e.exception&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),n(null)},s.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},s.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,t,n){"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},function(e,t,n){"use strict";const r=n(390);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const n=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=n?n.slice():[];const i=r(t);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((e,t)=>this._removeLogger(t))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}},function(e,t,n){var r=n(106),i=n(811),o=n(812),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c,l,u,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,f=t,d=e.apply(r,n)}function b(e){return f=e,h=setTimeout(w,t),m?y(e):d}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function w(){var e=i();if(_(e))return S(e);h=setTimeout(w,function(e){var n=t-(e-p);return g?a(n,u-(e-f)):n}(e))}function S(e){return h=void 0,v&&c?y(e):(c=l=void 0,d)}function E(){var e=i(),n=_(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return b(p);if(g)return clearTimeout(h),h=setTimeout(w,t),y(p)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?s(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=p=l=h=void 0},E.flush=function(){return void 0===h?d:S(i())},E}},function(e,t,n){var r=n(78);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(813),i=n(106),o=n(399),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}},function(e,t,n){var r=n(814),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){"use strict";t.sha1=n(816),t.sha224=n(817),t.sha256=n(402),t.sha384=n(818),t.sha512=n(403)},function(e,t,n){"use strict";var r=n(87),i=n(182),o=n(401),s=r.rotl32,a=r.sum32,c=r.sum32_5,l=o.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,u),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],u=this.h[2],h=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var f=~~(r/20),m=c(s(i,5),l(f,o,u,h),p,n[r],d[f]);p=h,h=u,u=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(87),i=n(402);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(87),i=n(403);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(87),i=n(182),o=r.rotl32,s=r.sum32,a=r.sum32_3,c=r.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],y=n,b=r,_=i,w=l,S=u,E=0;E<80;E++){var x=s(o(c(n,d(E,r,i,l),e[f[E]+t],h(E)),g[E]),u);n=u,u=l,l=o(i,10),i=r,r=x,x=s(o(c(y,d(79-E,b,_,w),e[m[E]+t],p(E)),v[E]),S),y=S,S=w,w=o(_,10),_=b,b=x}x=a(this.h[1],i,w),this.h[1]=a(this.h[2],l,S),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],n,b),this.h[4]=a(this.h[0],r,_),this.h[0]=x},u.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(87),i=n(181);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorTags=void 0;const r=[function(e,t=[]){e.includes("ImportError: No module named 'win32api'".toLowerCase())&&t.push("win32api");e.includes("ImportError: No module named 'win32api'".toLowerCase())&&t.push("win32api")},function(e,t=[]){e.includes("ImportError: cannot import name".toLowerCase())&&e.includes("from partially initialized module".toLowerCase())&&e.includes("zmq.backend.cython".toLowerCase())&&t.push("zmq.backend.cython");e.includes("zmq".toLowerCase())&&e.includes("cython".toLowerCase())&&e.includes("__init__.py".toLowerCase())&&t.push("zmq.cython");e.includes("zmq.error.ZMQError")&&t.push("zmq.error")},function(e,t=[]){e.includes("ImportError: DLL load failed".toLowerCase())&&t.push("dll.load.failed")},function(e,t=[]){e.includes("NotImplementedError".toLowerCase())&&e.includes("asyncio".toLowerCase())&&e.includes("events.py".toLowerCase())&&t.push("oldipykernel")},function(e,t=[]){e.includes("AssertionError: Couldn't find Class NSProcessInfo".toLowerCase())&&t.push("oldipython")},function(e,t=[]){e.includes("ChildProcess.exithandler".toLowerCase())&&t.push("childproc.exit")},function(e,t=[]){e.includes("KernelRestarter: restart failed".toLowerCase())&&t.push("KernelRestarter.failed")}];t.getErrorTags=function(e){const t=[];let n=Array.isArray(e)?e[0].toLowerCase():e.toLowerCase();return r.forEach(e=>e(n,t)),Array.from(new Set(t)).join(",")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(183),o=n(855),s=n(876),a=n(289),c=n(221),l=n(417),u=n(143),d=n(51),h=n(884),p=n(888);t.TelemetryClient=n(889),t.Contracts=n(71),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(r=t.DistributedTracingModes||(t.DistributedTracingModes={}));var f,m,g,v,y,b,_,w,S,E=!0,x=!1,C=!0,k=!0,D=!0,T=!0,I=!0,M=!0,P=!1,j=!0,L=void 0,O=void 0,A=!1;function N(){return t.defaultClient?(A=!0,g.enable(E,x),v.enable(C),y.enable(k),b.enable(j,m),_.useAutoCorrelation(M,f),_.enable(D),w.enable(T),t.liveMetricsClient&&P&&t.liveMetricsClient.enable(P)):d.warn("Start cannot be called before setup"),R}t.setup=function(e){return t.defaultClient?d.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),g=new o(t.defaultClient),v=new s(t.defaultClient),y=new a(t.defaultClient),_=new l(t.defaultClient),w=new c(t.defaultClient),b||(b=new p.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(I,L,O),R},t.start=N,t.getCorrelationContext=function(){return M?i.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return i.CorrelationContextManager.wrapCallback(e)};var R=function(){function e(){}return e.setDistributedTracingMode=function(t){return u.w3cEnabled=t===r.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),E=t,x=n,A&&g.enable(t,n),e},e.setAutoCollectExceptions=function(t){return C=t,A&&v.enable(t),e},e.setAutoCollectPerformance=function(t,n){void 0===n&&(n=!0),k=t;var r=p.AutoCollectNativePerformance.parseEnabled(n);return j=r.isEnabled,m=r.disabledMetrics,A&&(y.enable(t),b.enable(r.isEnabled,r.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return D=t,A&&_.enable(t),e},e.setAutoCollectDependencies=function(t){return T=t,A&&w.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return M=t,f=n,A&&_.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(n,r,i){return I=n,L=r,O=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(n,r,i),e},e.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),d.enableDebug=t,d.disableWarnings=!n,e},e.setSendLiveMetrics=function(n){return void 0===n&&(n=!1),t.defaultClient?(!t.liveMetricsClient&&n?(t.liveMetricsClient=new h(t.defaultClient.config.instrumentationKey),S=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(S),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(n),P=n,e):(d.warn("Live metrics client cannot be setup without the default client"),e)},e.start=N,e}();t.Configuration=R,t.dispose=function(){t.defaultClient=null,A=!1,g&&g.dispose(),v&&v.dispose(),y&&y.dispose(),b&&b.dispose(),_&&_.dispose(),w&&w.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),P=!1,t.liveMetricsClient=void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(824);t.azuresdk=r;var i=n(826);t.bunyan=i;var o=n(827);t.console=o;var s=n(829);t.mongodbCore=s;var a=n(830);t.mongodb=a;var c=n(831);t.mysql=c;var l=n(834);t.pgPool=l;var u=n(835);t.pg=u;var d=n(836);t.redis=d;var h=n(837);t.tedious=h;var p=n(838);t.winston=p,t.enable=function(){i.enable(),o.enable(),s.enable(),a.enable(),c.enable(),u.enable(),l.enable(),d.enable(),p.enable(),r.enable(),h.enable()}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(38);t.AzureMonitorSymbol="Azure_Monitor_Tracer";var o=function(){function e(){}return e.prototype.onStart=function(e){},e.prototype.onEnd=function(e){i.channel.publish("azure-coretracing",e)},e.prototype.shutdown=function(){},e}();t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){try{var s=new(0,n(!function(){var e=new Error("Cannot find module '@opentelemetry/tracing'");throw e.code="MODULE_NOT_FOUND",e}()).BasicTracer)(i.channel.spanContextPropagator?{scopeManager:i.channel.spanContextPropagator}:void 0),a=s.startSpan;s.startSpan=function(e,t){if(!t||!t.parent){var n=s.getCurrentSpan();n&&n.operation&&n.operation.traceparent&&(t=r({},t,{parent:{traceId:n.operation.traceparent.traceId,spanId:n.operation.traceparent.spanId}}))}var i=a.call(this,e,t);return i.addEvent("Application Insights Integration enabled"),i},s.addSpanProcessor(new o),s[t.AzureMonitorSymbol]=!0,e.setTracer(s)}catch(e){}return e}},t.enable=function(){i.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}},function(e){e.exports=JSON.parse('{"name":"diagnostic-channel","version":"0.2.0","main":"./dist/src/channel.js","types":"./dist/src/channel.d.ts","scripts":{"build":"tsc","lint":"tslint -c tslint.json -p tsconfig.json","clean":"rimraf ./dist","test":"mocha ./dist/tests/**/*.js"},"homepage":"https://github.com/Microsoft/node-diagnostic-channel","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"repository":{"type":"git","url":"https://github.com/Microsoft/node-diagnostic-channel.git"},"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","dependencies":{"semver":"^5.3.0"},"devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"license":"MIT","_resolved":"https://registry.npmjs.org/diagnostic-channel/-/diagnostic-channel-0.2.0.tgz","_integrity":"sha1-zJmvlhLCP7H/8TYSxy8sv6qNWhc=","_from":"diagnostic-channel@0.2.0"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,n){var i=t.apply(this,arguments);if(!n){var o=i;o||(o=t.call(this,e,!0)),r.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},t.enable=function(){r.channel.registerMonkeyPatch("bunyan",t.bunyan)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=n(17);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,n=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t}),!0},n.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t,stderr:!0}),!0};for(var o=new e.Console(t,n),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++){s(c[a])}return e}},t.enable=function(){r.channel.registerMonkeyPatch("console",t.console),n(828)}},function(e,t){e.exports=require("console")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(38);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return i.channel.bindToContext((function(e){return e()}))}}}),n={};return t.on("started",(function(e){n[e.requestId]||(n[e.requestId]=r({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),n={},o={};return t.on("started",(function(e){n[e.requestId]||(o[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=r({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=i.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var r=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=i.channel.bindToContext(arguments[1])),r.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},r={};return t.on("started",(function(e){n[e.requestId]||(r[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete r[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete r[e.requestId])})),e}},t.enable=function(){i.channel.registerMonkeyPatch("mongodb",t.mongo2),i.channel.registerMonkeyPatch("mongodb",t.mongo3),i.channel.registerMonkeyPatch("mongodb",t.mongo330)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=n(6);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var o=function(e,t){return function(t,n){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=r.channel.bindToContext(n(s,o))):arguments[e]=r.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(832)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,t){return function(n){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;r.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:o,time:e.startDate}),t.apply(this,arguments)}}));var c=n(833)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},t.enable=function(){r.channel.registerMonkeyPatch("mysql",t.mysql)}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=832},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=833},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=r.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=n(35);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var n=e.Client.prototype.query;return e.Client.prototype.query=function(e,t,o){var s,a={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime();function l(e){e&&e.__diagnosticOriginalFunc&&(e=e.__diagnosticOriginalFunc);var t=r.channel.bindToContext((function(t,n){var o=process.hrtime(c);if(a.result=n&&{rowCount:n.rowCount,command:n.command},a.error=t,a.duration=Math.ceil(1e3*o[0]+o[1]/1e6),r.channel.publish("postgres",a),t){if(e)return e.apply(this,arguments);s&&s instanceof i.EventEmitter&&s.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,"__diagnosticOriginalFunc",{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(a.query.preparable={text:e,args:t},o=l(o)):(a.query.text=e,o?o=l(o):t=l(t)):("string"==typeof e.name?a.query.plan=e.name:e.values instanceof Array?a.query.preparable={text:e.text,args:e.values}:a.query.text=e.text,o?o=l(o):t?t=l(t):e.callback=l(e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,s=n.apply(this,arguments)},e}},t.postgres7={versionSpecifier:"7.*",patch:function(e,t){var n=e.Client.prototype.query;return e.Client.prototype.query=function(e,t,o){var s,a=this,c=!!o,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function d(e){e&&e.__diagnosticOriginalFunc&&(e=e.__diagnosticOriginalFunc);var t=r.channel.bindToContext((function(t,n){var o=process.hrtime(u);if(l.result=n&&{rowCount:n.rowCount,command:n.command},l.error=t,l.duration=Math.ceil(1e3*o[0]+o[1]/1e6),r.channel.publish("postgres",l),t){if(e)return e.apply(this,arguments);s&&s instanceof i.EventEmitter&&s.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,"__diagnosticOriginalFunc",{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},o=(c="function"==typeof o)?d(o):o):(l.query.text=e,o?o=(c="function"==typeof o)?d(o):o:t=(c="function"==typeof t)?d(t):t):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,o?(c="function"==typeof o,o=d(o)):t?t=(c="function"==typeof t)?d(t):t:(c="function"==typeof e.callback,e.callback=c?d(e.callback):e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,s=n.apply(this,arguments),c?s:s.then((function(e){return d()(void 0,e),new a._Promise((function(t,n){t(e)}))})).catch((function(e){return d()(e,void 0),new a._Promise((function(t,n){n(e)}))}))},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg",t.postgres6),r.channel.registerMonkeyPatch("pg",t.postgres7)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38);t.redis={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=r.channel.bindToContext((function(t,a){var c=process.hrtime(o),l=1e3*c[0]+c[1]/1e6|0;r.channel.publish("redis",{duration:l,address:i,commandObj:e,err:t,result:a,time:s}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){r.channel.registerMonkeyPatch("redis",t.redis)}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(38);t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var t=process.hrtime(),n={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return i.channel.bindToContext((function(o,s,a){var c=process.hrtime(t);n=r({},n,{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),i.channel.publish("tedious",n),e.call(this,o,s,a)}))}var n=arguments[0];arguments[0].callback=e(n.callback),t.apply(this,arguments)},e}},t.enable=function(){i.channel.registerMonkeyPatch("tedious",t.tedious)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(38);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return i(t,e),t.prototype.log=function(e,t){var n=e.message,r=e.level,i=e.meta,a=o(e,["message","level","meta"]);r="function"==typeof Symbol.for?e[Symbol.for("level")]:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,r);for(var l in i=i||{},a)a.hasOwnProperty(l)&&(i[l]=a[l]);s.channel.publish("winston",{message:n,level:r,levelKind:c,meta:i}),t()},t}(e.Transport);function n(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var r=e.createLogger;e.createLogger=function(){var i,o=arguments[0].levels||e.config.npm.levels;for(var s in o)o.hasOwnProperty(s)&&(i=void 0===i||o[s]>o[i]?s:i);var a=r.apply(this,arguments);a.add(new t(e,{level:i}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),n.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),n.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,i){var o;return o=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",s.channel.publish("winston",{level:n,message:r,meta:i,levelKind:o}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},t.enable=function(){s.channel.registerMonkeyPatch("winston",t.winston2),s.channel.registerMonkeyPatch("winston",t.winston3)}},function(e,t,n){"use strict";const r=n(108);process&&r.gte(process.versions.node,"8.0.0")?e.exports=n(840):e.exports=n(842)},function(e,t,n){"use strict";const r=n(18),i=n(109),o=n(287),s=n(841),a=process.env.DEBUG_CLS_HOOKED;let c=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function u(e){return process.namespaces[e]}function d(e){let t=u(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function h(...e){a&&process._rawDebug(""+r.format(...e))}e.exports={getNamespace:u,createNamespace:function(e){i.ok(e,"namespace must be given a name."),a&&h(`NS-CREATING NAMESPACE (${e})`);let t=new l(e);t.id=c;return s.createHook({init(n,i,o,l){c=s.executionAsyncId();if(t.active){t._contexts.set(n,t.active);if(a){const s=" ".repeat(t._indent<0?0:t._indent);h(`${s}INIT [${i}] (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${l}`)}}else if(c===0){const o=s.triggerAsyncId();const u=t._contexts.get(o);if(u){t._contexts.set(n,u);if(a){const s=" ".repeat(t._indent<0?0:t._indent);h(`${s}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${l}`)}}else if(a){const s=" ".repeat(t._indent<0?0:t._indent);h(`${s}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${l}`)}}if(a&&i==="PROMISE"){h(r.inspect(l,{showHidden:true}));const s=l.parentId;const a=" ".repeat(t._indent<0?0:t._indent);h(`${a}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${l}`)}},before(n){c=s.executionAsyncId();let i;i=t._contexts.get(n)||t._contexts.get(c);if(i){if(a){const o=s.triggerAsyncId();const a=" ".repeat(t._indent<0?0:t._indent);h(`${a}BEFORE (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(i)}`);t._indent+=2}t.enter(i)}else if(a){const i=s.triggerAsyncId();const o=" ".repeat(t._indent<0?0:t._indent);h(`${o}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${c} triggerId:${i} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} namespace._contexts:${r.inspect(t._contexts,{showHidden:true,depth:2,colors:true})}`);t._indent+=2}},after(n){c=s.executionAsyncId();let i;i=t._contexts.get(n)||t._contexts.get(c);if(i){if(a){const o=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);h(`${a}AFTER (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(i)}`)}t.exit(i)}else if(a){const o=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);h(`${a}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(i)}`)}},destroy(n){c=s.executionAsyncId();if(a){const i=s.triggerAsyncId();const o=" ".repeat(t._indent<0?0:t._indent);h(`${o}DESTROY (${e}) currentUid:${c} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(t._contexts.get(c))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){d(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=t,a){h(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+c+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return t},l.prototype.get=function(e){if(this.active){if(a){const t=s.executionAsyncId(),n=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);h(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+c+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),h(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${c} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(a){const t=s.currentId(),n=s.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${c} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},l.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=c,a){const t=s.executionAsyncId(),n=s.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${c} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(a){const e=s.triggerAsyncId(),n=s.executionAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${c} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{if(a){const e=s.triggerAsyncId(),n=s.executionAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${c} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},l.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return a&&h("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+c+" len:"+this._set.length+" "+r.inspect(t)),n.then(e=>(a&&h("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+c+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,a&&h("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+c+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e})},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},l.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),a){const t=s.executionAsyncId(),n=s.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${c} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),a){const t=s.executionAsyncId(),n=s.triggerAsyncId();h(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${c} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(a&&h("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},l.prototype.fromException=function(e){return e["error@context"]},process.namespaces={}},function(e,t){e.exports=require("async_hooks")},function(e,t,n){"use strict";const r=n(18),i=n(109),o=n(287),s=n(843),a=[];for(let e in s.providers)a[s.providers[e]]=e;const c=process.env.DEBUG_CLS_HOOKED;let l=-1;function u(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function d(e){return process.namespaces[e]}function h(e){let t=d(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function p(e){process.env.DEBUG&&process._rawDebug(e)}function f(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:d,createNamespace:function(e){i.ok(e,"namespace must be given a name."),c&&p("CREATING NAMESPACE "+e);let t=new u(e);return t.id=l,s.addHooks({init(n,i,o,s,u){l=n,s?(t._contexts.set(n,t._contexts.get(s)),c&&p("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(l,t.active),c&&p("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+a[o]+" active:"+r.inspect(t.active,!0))},pre(n,i){l=n;let o=t._contexts.get(n);o?(c&&p(" PRE "+e+" uid:"+n+" handle:"+f(i)+" context:"+r.inspect(o)),t.enter(o)):c&&p(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+f(i))},post(n,i){l=n;let o=t._contexts.get(n);o?(c&&p(" POST "+e+" uid:"+n+" handle:"+f(i)+" context:"+r.inspect(o)),t.exit(o)):c&&p(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+f(i))},destroy(n){l=n,c&&p("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(l))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},u.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return c&&p("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},u.prototype.get=function(e){if(this.active)return c&&p("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[e];c&&p("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0))},u.prototype.createContext=function(){c&&p("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=l,c&&p("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},u.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return c&&p(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{c&&p(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},u.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},u.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return c&&p(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),n.then(e=>(c&&p(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,c&&p(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e})},u.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},u.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),c&&p("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},u.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),c&&p("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&p("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},u.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},u.prototype.fromException=function(e){return e["error@context"]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),c){var m=n(409);for(var g in m.filter._modifiers)m.filter.deattach(g)}},function(e,t,n){"use strict";const r=n(844);if(global._asyncHook){if(global._asyncHook.version!==n(408).version)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else{n(409).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new r}},function(e,t,n){"use strict";const r=process.binding("async_wrap"),i=r.Providers.TIMERWRAP,o={nextTick:n(845),promise:n(846),timers:n(847)},s=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(t,n,r,o){if(n!==i)for(const i of e)i(t,this,n,r,o);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const n of t)n(e,this)},this.post=function(e,t){if(!s.has(e))for(const r of n)r(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of r)t(e)}}function l(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function u(){this._state=new a,this._hooks=new c,this.version=n(408).version,this.providers=r.Providers;for(const e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&l(this.initFns,e.init),e.pre&&l(this.preFns,e.pre),e.post&&l(this.postFns,e.post),e.destroy&&l(this.destroyFns,e.destroy)},e.exports=u,u.prototype.addHooks=function(e){this._hooks.add(e)},u.prototype.removeHooks=function(e){this._hooks.remove(e)},u.prototype.enable=function(){this._state.enabled=!0,r.enable()},u.prototype.disable=function(){this._state.enabled=!1,r.disable()}},function(e,t,n){"use strict";function r(){}e.exports=function(){const e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];const o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");const s=new r,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,i)}}},function(e,t,n){"use strict";function r(){}e.exports=function(){const e=this._hooks,t=this._state,n=global.Promise,i=n.prototype.then;function o(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}n.prototype.then=function(n,s){if(!t.enabled)return i.call(this,n,s);const a=new r,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(n,a,c,!0),o(s,a,c,!1))}}},function(e,t,n){"use strict";const r=n(407);function i(){}function o(){}function s(){}const a=new Map,c=new Map,l=new Map;let u=null,d=!1;function h(e,t,n,i,o,s,a){const c=r[n],l=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);const n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];const i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');const l=new o,h=--t.counter;let p=void 0;return e.init.call(l,h,0,null,null),n[0]=function(){u=p,e.pre.call(l,h);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(l,h,!0),s.delete(p),e.destroy.call(null,h)}))}e.post.call(l,h,!1),u=null,(a||d)&&(d=!1,s.delete(p),e.destroy.call(null,h))},p=c.apply(r,n),s.set(p,h),p},r[i]=function(t){if(u===t&&null!==t)d=!0;else if(s.has(t)){const n=s.get(t);s.delete(t),e.destroy.call(null,n)}l.apply(r,arguments)}}e.exports=function(){h(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),h(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),h(this._hooks,this._state,"setImmediate","clearImmediate",s,l,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}},function(e,t,n){var r=n(849);function i(){this.extend=new a,this.filter=new a,this.format=new c,this.version=n(410).version}var o=!1;i.prototype.callSite=function e(t){t||(t={}),o=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return o=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var s=new i;function a(){this._modifiers=[]}function c(){this._formater=r,this._previous=void 0}a.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=r,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var l=!1;function u(e,t){if(o)return t;if(l)return r(e,t);var n=t.concat();n=s.extend._modify(e,n),n=(n=s.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),l=!0;var i=s.format._formater(e,n);return l=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(e){e===u?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},function(e,t){e.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,o=t[r];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}n.push("    at "+i)}return n.join("\n")}},function(e,t,n){"use strict";var r=n(109),i=n(287);function o(e){this.name=e,this.active=null,this._set=[],this.id=null}function s(e){return process.namespaces[e]}function a(e){var t=s(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function c(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){a(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||n(851),o.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},o.prototype.get=function(e){if(this.active)return this.active[e]},o.prototype.createContext=function(){return Object.create(this.active)},o.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{this.exit(t)}},o.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},o.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},o.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},o.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},o.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;var t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},o.prototype.fromException=function(e){return e["error@context"]},process.namespaces||c(),e.exports={getNamespace:s,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new o(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:a,reset:c}},function(e,t,n){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var r=n(288),i=n(108),o=r.wrap,s=r.massWrap,a=n(852),c=n(18),l=i.gte(process.version,"6.0.0"),u=i.gte(process.version,"7.0.0"),d=i.gte(process.version,"8.0.0"),h=i.gte(process.version,"11.0.0"),p=n(110);function f(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function m(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}u&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,n,r=e[0],i={};"object"==typeof r&&null!==r?i=r:"string"==typeof(t=r)&&!1===(n=t,(n=Number(n))>=0&&n)?i.path=r:(i.port=r,e.length>1&&"string"==typeof e[1]&&(i.host=e[1]));var o=e[e.length-1];return"function"!=typeof o?[i,null]:[i,o]}:u||p._normalizeConnectArgs||(p._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in p.Server.prototype?o(p.Server.prototype,"_setUpListenHandle",f):o(p.Server.prototype,"_listen2",f),o(p.Socket.prototype,"connect",(function(e){return function(){var t;(t=d&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:u?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var n=e.apply(this,t);return m(this),n}}));var g=n(48);o(g.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=a((function(e){return m(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var v=n(184);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),o(e._handle,"close",j))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}v.ChildProcess?o(v.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return y(this),t}})):s(v,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return y(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var b=[];process._nextDomainTick&&b.push("_nextDomainTick"),process._tickDomainCallback&&b.push("_tickDomainCallback"),s(process,b,P),o(process,"nextTick",j);var _=["setTimeout","setInterval"];global.setImmediate&&_.push("setImmediate");var w=n(407),S=global.setTimeout===w.setTimeout;s(w,_,j),S&&s(global,_,j);var E=n(853);s(E,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],P),E.resolveNaptr&&o(E,"resolveNaptr",P);var x,C,k=n(25);s(k,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],P),k.lchown&&o(k,"lchown",P),k.lchmod&&o(k,"lchmod",P),k.ftruncate&&o(k,"ftruncate",P);try{x=n(44)}catch(e){}if(x&&x.Deflate&&x.Deflate.prototype){var D=Object.getPrototypeOf(x.Deflate.prototype);D._transform?o(D,"_transform",P):D.write&&D.flush&&D.end&&s(D,["write","flush","end"],P)}try{C=n(61)}catch(e){}if(C){var T=["pbkdf2","randomBytes"];h||T.push("pseudoRandomBytes"),s(C,T,P)}var I=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(I){var M=process.addAsyncListener({create:function(){I=!1}});global.Promise.resolve(!0).then((function(){I=!1})),process.removeAsyncListener(M)}function P(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=a(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,n,r,i,o,s,c))};default:return t}}function j(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s,c))};default:return t}}I&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var i,o,s=new e((function(e,t){i=this,o=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(i,o)}catch(e){o[1](e)}return s}c.inherits(t,e),o(e.prototype,"then",s),e.prototype.chain&&o(e.prototype,"chain",s);if(l)global.Promise=n(854)(e,r);else{["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t}function r(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(i))}function i(t,n,o,s){var a;try{return{returnVal:a=n.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:r(s,!0)}}function s(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,r));return n.__asl_wrapper=function(e,r,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,o,s)):i(e,r,o,s)},n;function r(e){return"function"!=typeof e?e:a((function(r){var o=(t.__asl_wrapper||i)(this,e,r,n);if(o.error)throw o.errorVal;return o.returnVal}))}}}}()},function(e,t,n){var r,i,o=n(288).wrap,s=[],a=0,c=!1,l=[];function u(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var o=0;o<n;o++)i[o]=e[o];if(0===r)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}if(process._fatalException){var d,h=!1;r=function(e){var t=s.length;if(h||0===t)return!1;var n=!1;h=!0;for(var r=0;r<t;++r){var i=s[r];if(0!=(8&i.flags)){var o=d&&d[i.uid];n=i.error(o,e)||n}}return h=!1,l.length>0&&(s=l.pop()),d=void 0,n&&!c},i=function(e,t,n){var r=[];c=!0;for(var i=0;i<n;++i){var o=t[i];if(r[o.uid]=o.data,0!=(1&o.flags)){var a=o.create(o.data);void 0!==a&&(r[o.uid]=a)}}return c=!1,function(){d=r,l.push(s),s=u(t,s),c=!0;for(var i=0;i<n;++i)(2&t[i].flags)>0&&t[i].before(this,r[t[i].uid]);c=!1;var o=e.apply(this,arguments);for(c=!0,i=0;i<n;++i)(4&t[i].flags)>0&&t[i].after(this,r[t[i].uid]);return c=!1,s=l.pop(),d=void 0,o}},o(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))}else{var p=!1;r=function(e){if(p)throw e;for(var t=!1,n=s.length,r=0;r<n;++r){var i=s[r];0!=(8&i.flags)&&(t=i.error(null,e)||t)}if(!t&&c)throw e},i=function(e,t,n){var i=[];c=!0;for(var o=0;o<n;++o){var a=t[o];if(i[a.uid]=a.data,0!=(1&a.flags)){var d=a.create(a.data);void 0!==d&&(i[a.uid]=d)}}return c=!1,function(){var o,a=!1,d=!1;l.push(s),s=u(t,s),c=!0;for(var h=0;h<n;++h)(2&t[h].flags)>0&&t[h].before(this,i[t[h].uid]);c=!1;try{o=e.apply(this,arguments)}catch(e){a=!0;for(h=0;h<n;++h)if(0!=(8&s[h].flags))try{d=s[h].error(i[t[h].uid],e)||d}catch(e){throw p=!0,e}if(!d)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!a||d){for(c=!0,h=0;h<n;++h)(4&t[h].flags)>0&&t[h].after(this,i[t[h].uid]);c=!1}s=l.pop()}return o}},process.addListener("uncaughtException",r)}function f(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++a,this.data=void 0===t?null:t}function m(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof f?e:new f(e,t)}f.prototype.create=void 0,f.prototype.before=void 0,f.prototype.after=void 0,f.prototype.error=void 0,f.prototype.data=void 0,f.prototype.uid=0,f.prototype.flags=0,process.createAsyncListener=m,process.addAsyncListener=function(e,t){var n;n=e instanceof f?e:m(e,t);for(var r=!1,i=0;i<s.length;i++)if(n===s[i]){r=!0;break}return r||s.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<s.length;t++)if(e===s[t]){s.splice(t,1);break}},e.exports=function(e){var t=s.length;if(0===t)return e;for(var n=s.slice(),r=0;r<t;++r)if(n[r].flags>0)return i(e,n,t);return function(e,t,n){c=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return c=!1,function(){l.push(s),s=u(t,s);var n=e.apply(this,arguments);return s=l.pop(),n}}(e,n,t)}},function(e,t){e.exports=require("dns")},function(e,t,n){"use strict";e.exports=(e,t)=>class extends e{constructor(e){var n,r;super((function(e,o){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}}},function(e,t,n){"use strict";var r=n(286),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(n(856).enable(e&&t,this._client),n(874).enable(e,this._client),n(875).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),i=n(38),o=[],s=function(e){var t=e.data.message;o.forEach((function(n){t instanceof Error?n.trackException({exception:t}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),n.trackTrace({message:t,severity:e.data.stderr?r.SeverityLevel.Warning:r.SeverityLevel.Information}))}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("console",s),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("console",s)},t.dispose=function(){i.channel.unsubscribe("console",s),o=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(411),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(412));e.exports=o},function(e,t,n){"use strict";var r=n(413),i=function(){this.kind=r.Measurement};e.exports=i},function(e,t,n){"use strict";var r=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r=function(){this.hasFullStack=!0,this.parsedStack=[]};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(414));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(111));e.exports=o},function(e,t,n){"use strict";var r;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(873))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData";case r.Availability:return"AvailabilityData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency;case"AvailabilityData":return r.Availability}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability"}(r=t.TelemetryType||(t.TelemetryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),i=n(38),o=[],s={10:r.SeverityLevel.Verbose,20:r.SeverityLevel.Verbose,30:r.SeverityLevel.Information,40:r.SeverityLevel.Warning,50:r.SeverityLevel.Error,60:r.SeverityLevel.Critical},a=function(e){var t=e.data.result;o.forEach((function(n){var r=s[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:r})}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("bunyan",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("bunyan",a)},t.dispose=function(){i.channel.unsubscribe("bunyan",a),o=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),i=n(38),o=[],s={syslog:function(e){var t={emerg:r.SeverityLevel.Critical,alert:r.SeverityLevel.Critical,crit:r.SeverityLevel.Critical,error:r.SeverityLevel.Error,warning:r.SeverityLevel.Warning,notice:r.SeverityLevel.Information,info:r.SeverityLevel.Information,debug:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},npm:function(e){var t={error:r.SeverityLevel.Error,warn:r.SeverityLevel.Warning,info:r.SeverityLevel.Information,verbose:r.SeverityLevel.Verbose,debug:r.SeverityLevel.Verbose,silly:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},unknown:function(e){return r.SeverityLevel.Information}},a=function(e){var t=e.data.message;o.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=s[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("winston",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("winston",a)},t.dispose=function(){i.channel.unsubscribe("winston",a),o=[]}},function(e,t,n){"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var r=function(t,r,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:i}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(31),s=n(71),a=n(88),c=n(186),l=n(415),u=n(143),d=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=o.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(a=n.hostname+" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP,n.port&&(a+=":"+n.port);var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=o.parse(e);else{var n=e;e={},n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var r=o.parse(e.path);e.pathname=r.pathname,e.search=r.search}e.host&&e.port&&(!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(l);e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=[];t.subscriber=function(e){e.data.event.commandName,i.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mongodb",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("mongodb",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=[];t.subscriber=function(e){i.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"mysql"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mysql",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("mysql",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=[];t.subscriber=function(e){i.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("redis",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("redis",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=[];t.subscriber=function(e){i.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"postgres"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("postgres",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("postgres",t.subscriber)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(31),s=n(71),a=n(88),c=n(186),l=n(415),u=n(143),d=n(883),h=n(416),p=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=o.parse(e.url),r=n.pathname,i=n.search;return o.format({protocol:t?"https":"http",host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader],r=e.headers[c.traceparentHeader],i=e.headers[c.requestIdHeader],o=e.headers[c.parentIdHeader],s=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],u.w3cEnabled&&(r||n)?(this.traceparent=new h(r),this.tracestate=r&&n&&new d(n),this.setBackCompatFromThisTraceContext()):i?u.w3cEnabled?(this.traceparent=new h(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new h,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(l);e.exports=p},function(e,t,n){"use strict";var r=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();e.exports=r},function(e,t,n){"use strict";var r=n(51),i=n(290),o=n(886),s=n(887),a=n(185),c=n(291),l=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new i(e),this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=a.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=o.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,n=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),r=o.createQuickPulseEnvelope(n,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(r):this._ping(r);var i=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(r.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=l},function(e,t,n){"use strict";var r=n(185),i=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var i=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+i+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+i+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(28),o=n(71),s=n(185),a=n(88),c=n(51),l=a.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||o;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:l,MachineName:o,Instance:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r({},n,{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r({},n,{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),r({},n,{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var o=e.data.baseData.properties||{};for(var r in o)if(o.hasOwnProperty(r)){i={key:r,value:o[r]};t.push(i)}return t},e.keys=new o.ContextTagKeys,e}();e.exports=u},function(e,t,n){"use strict";var r=n(58),i=n(221),o=n(51),s="POST",a="x-ms-qps-transmission-time",c="x-ms-qps-subscribed",l=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,n,l){var u,d,h=this,p=JSON.stringify(t),f=((u={})[i.disableCollectionRequestOption]=!0,u.host=this._config.quickPulseHost,u.method=s,u.path="/QuickPulseService.svc/"+l+"?ikey="+this._config.instrumentationKey,u.headers=((d={Expect:"100-continue"})[a]=1e4*Date.now(),d["Content-Type"]="application/json",d["Content-Length"]=Buffer.byteLength(p),d),u),m=r.request(f,(function(e){var t="true"===e.headers[c];h._consecutiveErrors=0,n(t,e)}));m.on("error",(function(t){h._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";h._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+h._consecutiveErrors+" consecutive times. Most recent error:",o.warn(e.TAG,r,t)):o.info(e.TAG,r,t),n()})),m.write(p),m.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=l},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(290),o=n(291),s=n(51),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,i){var o=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(!function(){var e=new Error("Cannot find module 'applicationinsights-native-metrics'");throw e.code="MODULE_NOT_FOUND",e}());e._emitter=new a,e._metricsAvailable=!0,s.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle=setInterval((function(){return o._trackNativeMetrics()}),i),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[i.ENV_nativeMetricsDisableAll],n=process.env[i.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(n){var o=n.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++){s[c[a]]=!0}return"object"==typeof e?{isEnabled:!0,disabledMetrics:r({},e,s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,s=r+" Garbage Collection Duration",a=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:s,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var n,r=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:r,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,n,r=process.memoryUsage(),i=r.heapUsed,s=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}},e}();t.AutoCollectNativePerformance=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(890),s=n(417),a=n(221),c=n(51),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);e.exports=l},function(e,t,n){"use strict";var r=n(31),i=n(290),o=n(291),s=n(71),a=n(891),c=n(892),l=n(183),u=n(895),d=n(88),h=n(51),p=n(896),f=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var n=new u(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!d.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var n=p.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString());var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:l.CorrelationContextManager.getCurrentContext()}),c.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),r&&this.channel.send(n)}else h.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=l.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,h.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n},e}();e.exports=f},function(e,t,n){"use strict";var r=n(51),i=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var n=this._stringify(e);"string"==typeof n&&(this._buffer.push(n),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else r.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;if(!n){var r=this._buffer.join("\n");e?(this._sender.saveOnCrash(r),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(r):new Buffer(r),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){r.warn("Failed to serialize payload",t,e)}},e}();e.exports=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(893)),r(n(894))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71);function i(e){var t=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)t=((t<<5)+t|0)+e.charCodeAt(n)|0;return(t=t<=-2147483648?2147483647:Math.abs(t))/2147483647*100}t.samplingTelemetryProcessor=function(e,t){var n=e.sampleRate;return null==n||n>=100||(!(!e.data||r.TelemetryType.Metric!==r.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<n:100*Math.random()<n))},t.getSamplingHashCode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(289),i=n(71);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case i.TelemetryTypeString.Exception:r.countException();break;case i.TelemetryTypeString.Request:var n=e.data.baseData;r.countRequest(n.duration,n.success);break;case i.TelemetryTypeString.Dependency:var o=e.data.baseData;r.countDependency(o.duration,o.success)}return!0}},function(e,t,n){"use strict";var r=n(25),i=n(28),o=n(6),s=n(44),a=n(184),c=n(51),l=n(221),u=n(88),d=function(){function e(t,n,i){if(this._config=t,this._onSuccess=n,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=r.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,n){var r=this,i=this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};s.gzip(t,(function(s,a){var d=a;s?(c.warn(s),d=t,o.headers["Content-Length"]=t.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=a.length),c.info(e.TAG,o),o[l.disableCollectionRequestOption]=!0;var h=u.makeRequest(r._config,i,o,(function(i){i.setEncoding("utf-8");var o="";i.on("data",(function(e){o+=e})),i.on("end",(function(){r._numConsecutiveFailures=0,c.info(e.TAG,o),"function"==typeof r._onSuccess&&r._onSuccess(o),"function"==typeof n&&n(o),r._enableDiskRetryMode&&(200===i.statusCode?setTimeout((function(){return r._sendFirstFileOnDisk()}),r._resendInterval).unref():408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||r._storeToDisk(t))}))}));h.on("error",(function(i){if(r._numConsecutiveFailures++,!r._enableDiskRetryMode||r._numConsecutiveFailures>0&&r._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";r._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+r._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,o,i)}else{o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";c.info(e.TAG,o,i)}if(r._onErrorHelper(i),"function"==typeof n){var s="error sending telemetry";i&&"function"==typeof i.toString&&(s=i.toString()),n(s)}r._enableDiskRetryMode&&r._storeToDisk(t)})),h.write(d),h.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,n){var r=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(e){return n(e)})),r.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(e){return r+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,o),(function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;r.lstat(e,(function(i,o){i&&"ENOENT"===i.code?r.mkdir(e,(function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)})):!i&&o.isDirectory()?n._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){r.readdir(e,(function(n,i){if(n)return t(n,-1);var s=null,a=0,c=0;if(0!==i.length)for(var l=0;l<i.length;l++)r.stat(o.join(e,i[l]),(function(e,n){c++,e?s=e:n.isFile()&&(a+=n.size),c===i.length&&t(s,s?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=r.readdirSync(e),n=0,i=0;i<t.length;i++)n+=r.statSync(o.join(e,t[i])).size;return n},e.prototype._storeToDisk=function(t){var n=this,s=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+s),this._confirmDirExists(s,(function(i){if(i)return c.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void n._onErrorHelper(i);n._getShallowDirectorySize(s,(function(i,a){if(i||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void n._onErrorHelper(i);if(a>n._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var l=(new Date).getTime()+".ai.json",u=o.join(s,l);c.info(e.TAG,"saving data to disk at: "+u),r.writeFile(u,t,{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var n=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+n),r.existsSync(n)||r.mkdirSync(n),this._applyACLRulesSync(n);var s=this._getShallowDirectorySizeSync(n);if(s>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+s);var a=(new Date).getTime()+".ai.json",l=o.join(n,a);c.info(e.TAG,"saving data before crash to disk at: "+l),r.writeFileSync(l,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,n=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);r.exists(n,(function(e){e&&r.readdir(n,(function(e,i){if(e)t._onErrorHelper(e);else if((i=i.filter((function(e){return o.basename(e).indexOf(".ai.json")>-1}))).length>0){var s=i[0],a=o.join(n,s);r.readFile(a,(function(e,n){e?t._onErrorHelper(e):r.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(n)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();e.exports=d},function(e,t,n){"use strict";var r=n(71),i=n(88),o=n(183),s=function(){function e(){}return e.createEnvelope=function(t,n,o,s,a){var c=null;switch(n){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t)}if(o&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var l in o)c.baseData.properties[l]||(c.baseData.properties[l]=o[l]);else c.baseData.properties=o;c.baseData.properties=i.validateStringMap(c.baseData.properties)}var u=a&&a.instrumentationKey||"",d=new r.Envelope;return d.data=c,d.iKey=u,d.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),d.tags=this.getTags(s,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=a?a.samplingPercentage:100,n===r.TelemetryType.Metric&&(d.sampleRate=100),d},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),n.baseData=t,n},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var n=e.exception.stack,o=new r.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(n),o.hasFullStack=i.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),n.baseData=t,n},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),n.baseData=t,n},e.getTags=function(e,t){var n=o.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var s=n[o];if(a.regex.test(s)){var c=new a(n[o],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var l=0,u=t.length-1,d=0,h=l,p=u;l<u;){if((d+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var f=p-h+1;t.splice(h,f);break}h=l,p=u,l++,u--}}return t},e}(),a=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(void 0===e)return"undefined";if(null===e)return"null";try{return e&&e.fsPath?`<Uri:${e.fsPath}>`:JSON.stringify(e)}catch(e){return`<${t} cannot be serialized for logging>`}}Object.defineProperty(t,"__esModule",{value:!0}),t.returnValueToLogString=t.argsToLogString=void 0,t.argsToLogString=function(e){if(!e)return"";try{return e.map((e,t)=>`Arg ${t+1}: ${r(e,"argument")}`).join(", ")}catch(e){return""}},t.returnValueToLogString=function(e){return"Return Value: "+r(e,"Return value")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildApi=void 0;const r=n(1),i=n(26),o=n(14),s=n(4),a=n(112),c=n(13);t.buildApi=function(e,t,n,l){let u=!1;const d={ready:e.catch(e=>(s.traceError("Failure during activation.",e),Promise.reject(e))),registerPythonApi:e=>{if(u)return;u=!0;n.get(i.IPythonApiProvider).setApi(e)},async showDataViewer(e,t){const r=n.get(a.IDataViewerFactory);await r.create(e,t)},registerRemoteServerProvider(e){n.get(c.IJupyterUriProviderRegistration).registerProvider(e)},createBlankNotebook:async e=>{const t=n.get(c.INotebookEditorProvider);await t.createNew(e)}};return(o.isTestExecution()||process.env.VSC_JUPYTER_EXPOSE_SVC||l.extensionMode===r.ExtensionMode.Development)&&(d.serviceContainer=n,d.serviceManager=t),d}},function(e,t,n){"use strict";e.exports=function(){const e=[].slice.call(arguments).filter(e=>e),t=e.shift();return e.forEach(e=>{Object.keys(e).forEach(n=>{t[n]=e[n]})}),t}},function(e,t,n){var r=n(222),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){u(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!u(e))throw e}}:t}function o(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){u(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!u(e))throw e}}:t}function c(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function l(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function u(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,d,h){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync=(d=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return d.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var d}},function(e,t,n){var r=n(17).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=i[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:r(e)};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t};var r=Object.getPrototypeOf||function(e){return e.__proto__}},function(e,t,n){const r=n(69).fromCallback;e.exports={copy:r(n(904))}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(419),s=n(72),a=n(113).pathExists;e.exports=function(e,t,n,c){"function"!=typeof n||c?("function"==typeof n||n instanceof RegExp)&&(n={filter:n}):(c=n,n={}),c=c||function(){},(n=n||{}).preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const l=process.cwd();if(i.resolve(l,e)===i.resolve(l,t))return c(new Error("Source and destination must not be the same."));r.lstat(e,(r,l)=>{if(r)return c(r);let u=null;if(l.isDirectory()){const e=t.split(i.sep);e.pop(),u=e.join(i.sep)}else u=i.dirname(t);a(u,(r,i)=>r?c(r):i?o(e,t,n,c):void s.mkdirs(u,r=>{if(r)return c(r);o(e,t,n,c)}))})}},function(e,t,n){"use strict";const r=n(36),i=n(28),o=n(6);e.exports={hasMillisRes:function(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return e(i);r.open(t,"r+",(i,o)=>{if(i)return e(i);r.futimes(o,n,n,n=>{if(n)return e(n);r.close(o,n=>{if(n)return e(n);r.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,o)=>{if(e)return i(e);r.futimes(o,t,n,e=>{r.close(o,t=>{i&&i(e||t)})})})}}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(420).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let l=n.mode;const u=n.fs||r;void 0===l&&(l=s&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),u.mkdir(t,l,r=>{if(!r)return a(null,c=c||t);switch(r.code){case"ENOENT":if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,(r,i)=>{r?a(r,i):e(t,n,a,i)});break;default:u.stat(t,(e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)})}})}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(420).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const l=n.fs||r;if("win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=i.resolve(t);try{l.mkdirSync(t,c),a=a||t}catch(r){switch(r.code){case"ENOENT":if(i.dirname(t)===t)throw r;a=e(i.dirname(t),n,a),e(t,n,a);break;default:let o;try{o=l.statSync(t)}catch(e){throw r}if(!o.isDirectory())throw r}}return a}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(909),s=n(72);e.exports=function e(t,n,a){("function"==typeof a||a instanceof RegExp)&&(a={filter:a}),(a=a||{}).recursive=!!a.recursive,a.clobber=!("clobber"in a)||!!a.clobber,a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.dereference="dereference"in a&&!!a.dereference,a.preserveTimestamps="preserveTimestamps"in a&&!!a.preserveTimestamps,a.filter=a.filter||function(){return!0},a.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const c=a.recursive&&!a.dereference?r.lstatSync(t):r.statSync(t),l=i.dirname(n),u=r.existsSync(l);let d=!1;if(a.filter instanceof RegExp?(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),d=a.filter.test(t)):"function"==typeof a.filter&&(d=a.filter(t,n)),c.isFile()&&d)u||s.mkdirsSync(l),o(t,n,{overwrite:a.overwrite,errorOnExist:a.errorOnExist,preserveTimestamps:a.preserveTimestamps});else if(c.isDirectory()&&d){r.existsSync(n)||s.mkdirsSync(n);r.readdirSync(t).forEach(r=>{const o=a;o.recursive=!0,e(i.join(t,r),i.join(n,r),o)})}else if(a.recursive&&c.isSymbolicLink()&&d){const e=r.readlinkSync(t);r.symlinkSync(e,n)}}},function(e,t,n){"use strict";const r=n(36),i=n(422)(65536);e.exports=function(e,t,n){const o=n.overwrite,s=n.errorOnExist,a=n.preserveTimestamps;if(r.existsSync(t)){if(!o){if(s)throw new Error(t+" already exists");return}r.unlinkSync(t)}const c=r.openSync(e,"r"),l=r.fstatSync(c),u=r.openSync(t,"w",l.mode);let d=1,h=0;for(;d>0;)d=r.readSync(c,i,0,65536,h),r.writeSync(u,i,0,d),h+=d;a&&r.futimesSync(u,l.atime,l.mtime),r.closeSync(c),r.closeSync(u)}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(109),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.equal(typeof e,"string","rimraf: path should be a string"),o.equal(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.equal(typeof t,"object","rimraf: options should be object"),a(t),l(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){return r++,setTimeout(()=>l(e,t,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function l(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?u(e,t,r,n):i&&i.isDirectory()?h(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?u(e,t,r,n):h(e,t,r,n);if("EISDIR"===r.code)return h(e,t,r,n)}return n(r)}))}function u(e,t,n,r){o(e),o(t),o("function"==typeof r),n&&o(n instanceof Error),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?h(e,t,n,r):t.unlink(e,r)})})}function d(e,t,n){let r;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?f(e,t,n):t.unlinkSync(e)}function h(e,t,n,r){o(e),o(t),n&&o(n instanceof Error),o("function"==typeof r),t.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(r=>{c(i.join(e,r),t,r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))})})})}(e,t,r)})}function p(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.equal(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.equal(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&d(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?d(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){o(e),o(t),t.readdirSync(e).forEach(n=>p(i.join(e,n),t));const n=s?100:1;let r=0;for(;;){let i=!0;try{const o=t.rmdirSync(e,t);return i=!1,o}finally{if(++r<n&&i)continue}}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(292);i.outputJson=r(n(913)),i.outputJsonSync=n(914),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){var r;try{r=n(36)}catch(e){r=n(25)}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function o(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,s=!0;"throws"in t&&(s=t.throws),i.readFile(e,t,(function(r,i){if(r)return n(r);var a;i=o(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return s?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)}))},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var s=n.readFileSync(e,t);return s=o(s),JSON.parse(s,t.reviver)}catch(t){if(i)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(e){return void(o&&o(e,null))}s.writeFile(e,a,n,o)},writeFileSync:function(e,t,n){var o=(n=n||{}).fs||r,s=i(t,n);return o.writeFileSync(e,s,n)}};e.exports=s},function(e,t,n){"use strict";const r=n(6),i=n(72),o=n(113).pathExists,s=n(292);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);o(c,(r,o)=>r?a(r):o?s.writeJson(e,t,n,a):void i.mkdirs(c,r=>{if(r)return a(r);s.writeJson(e,t,n,a)}))}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(72),s=n(292);e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(e,t,n)}},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(36),o=n(419),s=n(6),a=n(223).remove,c=n(72).mkdirs;function l(e,t,n,r){i.stat(e,(o,s)=>{if(o)return r(o);s.isDirectory()?u(e,t,n,r):function(e,t,n,r){const o=n?"w":"wx",s=i.createReadStream(e),a=i.createWriteStream(t,{flags:o});function c(){i.unlink(e,r)}s.on("error",o=>{s.destroy(),a.destroy(),a.removeListener("close",c),i.unlink(t,()=>{"EISDIR"===o.code||"EPERM"===o.code?u(e,t,n,r):r(o)})}),a.on("error",e=>{s.destroy(),a.destroy(),a.removeListener("close",c),r(e)}),a.once("close",c),s.pipe(a)}(e,t,n,r)})}function u(e,t,n,r){const i={overwrite:!1};function s(){o(e,t,i,t=>{if(t)return r(t);a(e,r)})}n?a(t,e=>{if(e)return r(e);s()}):s()}e.exports={move:r((function e(t,n,r,o){"function"==typeof r&&(o=r,r={});const u=r.overwrite||r.clobber||!1;!function(e,t,n){i.stat(e,(r,i)=>{if(r)return n(r);if(i.isDirectory()){const r=t.split(s.dirname(e)+s.sep)[1];if(r){const i=r.split(s.sep)[0];return n(null,i?e!==t&&t.indexOf(e)>-1&&i===s.basename(e):!1)}return n(null,!1)}return n(null,!1)})}(t,n,(d,h)=>d?o(d):h?o(new Error(`Cannot move '${t}' to a subdirectory of itself, '${n}'.`)):void c(s.dirname(n),c=>{if(c)return o(c);s.resolve(t)===s.resolve(n)?i.access(t,o):u?i.rename(t,n,i=>{if(!i)return o();if("ENOTEMPTY"!==i.code&&"EEXIST"!==i.code){if("EPERM"!==i.code)return"EXDEV"!==i.code?o(i):void l(t,n,u,o);setTimeout(()=>{a(n,i=>{if(i)return o(i);r.overwrite=!1,e(t,n,r,o)})},200)}else a(n,i=>{if(i)return o(i);r.overwrite=!1,e(t,n,r,o)})}):i.link(t,n,e=>e?"EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code?l(t,n,u,o):o(e):i.unlink(t,o))}))}))}},function(e,t,n){"use strict";const r=n(36),i=n(6),o=n(421).copySync,s=n(223).removeSync,a=n(72).mkdirsSync,c=n(422);function l(e,t,n){return r.statSync(e).isDirectory()?function(e,t,n){const r={overwrite:!1};n?(s(t),i()):i();function i(){return o(e,t,r),s(e)}}(e,t,n):function(e,t,n){const i=c(65536),o=n?"w":"wx",s=r.openSync(e,"r"),a=r.fstatSync(s),l=r.openSync(t,o,a.mode);let u=1,d=0;for(;u>0;)u=r.readSync(s,i,0,65536,d),r.writeSync(l,i,0,u),d+=u;return r.closeSync(s),r.closeSync(l),r.unlinkSync(e)}(e,t,n)}e.exports={moveSync:function e(t,n,o){const c=(o=o||{}).overwrite||o.clobber||!1;if(t=i.resolve(t),n=i.resolve(n),t===n)return r.accessSync(t);if(function(e,t){try{return r.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(i.dirname(e)+i.sep)[1].split(i.sep)[0]===i.basename(e)}catch(e){return!1}}(t,n))throw new Error(`Cannot move '${t}' into itself '${n}'.`);a(i.dirname(n)),function(){if(c)try{r.renameSync(t,n)}catch(r){if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)return s(n),o.overwrite=!1,e(t,n,o);if("EXDEV"!==r.code)throw r;return l(t,n,c)}else try{r.linkSync(t,n),r.unlinkSync(t)}catch(e){if("EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code)return l(t,n,c);throw e}}()}}},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(25),o=n(6),s=n(72),a=n(223),c=r((function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return s.mkdirs(e,t);r=r.map(t=>o.join(e,t)),function e(){const n=r.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})}));function l(e){let t;try{t=i.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const r=n(919),i=n(920),o=n(921);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(6),o=n(36),s=n(72),a=n(113).pathExists;e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(r,o)=>{if(!r&&o.isFile())return t();const c=i.dirname(e);a(c,(e,r)=>e?t(e):r?n():void s.mkdirs(c,e=>{if(e)return t(e);n()}))})})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=i.dirname(e);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(6),o=n(36),s=n(72),a=n(113).pathExists;e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(c,l)=>c?n(c):l?n(null):void o.lstat(e,(o,c)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const l=i.dirname(t);a(l,(i,o)=>i?n(i):o?r(e,t):void s.mkdirs(l,i=>{if(i)return n(i);r(e,t)}))}))})),createLinkSync:function(e,t,n){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return o.existsSync(r)||s.mkdirsSync(r),o.linkSync(e,t)}}},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(6),o=n(36),s=n(72),a=s.mkdirs,c=s.mkdirsSync,l=n(922),u=l.symlinkPaths,d=l.symlinkPathsSync,h=n(923),p=h.symlinkType,f=h.symlinkTypeSync,m=n(113).pathExists;e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(t,(s,c)=>s?r(s):c?r(null):void u(e,t,(s,c)=>{if(s)return r(s);e=c.toDst,p(c.toCwd,n,(n,s)=>{if(n)return r(n);const c=i.dirname(t);m(c,(n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,n=>{if(n)return r(n);o.symlink(e,t,s,r)}))})}))})),createSymlinkSync:function(e,t,n,r){if(r="function"==typeof n?n:r,n="function"!=typeof n&&n,o.existsSync(t))return;const s=d(e,t);e=s.toDst,n=f(s.toCwd,n);const a=i.dirname(t);return o.existsSync(a)||c(a),o.symlinkSync(e,t,n)}}},function(e,t,n){"use strict";const r=n(6),i=n(36),o=n(113).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t,r)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const s=r.dirname(t),a=r.join(s,e);return o(a,(t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t,i)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s),n)return{toCwd:s,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},function(e,t,n){"use strict";const r=n(36);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(69).fromCallback,i=n(36),o=n(6),s=n(72),a=n(113).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,(o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))})),outputFileSync:function(e,t,n){const r=o.dirname(e);if(i.existsSync(r))return i.writeFileSync.apply(i,arguments);s.mkdirsSync(r),i.writeFileSync.apply(i,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateComponents=void 0;const r=n(1),i=n(926),o=n(116),s=n(1025),a=n(7),c=n(14),l=n(1028),u=n(1034),d=n(16),h=n(1038),p=n(1073),f=n(3),m=n(10),g=n(9),v=n(1163),y=n(5),b=n(1166),_=n(1167),w=n(13),S=n(137),E=n(1562),x=n(1576),C=n(1577);t.activateComponents=async function(e,t,n){return async function(e,t,n){const k=!c.isTestExecution()&&(e.extensionMode===r.ExtensionMode.Development||r.workspace.getConfiguration("jupyter").get("development",!1));t.addSingletonInstance(f.IsDevMode,k);const D=r.window.createOutputChannel(m.OutputChannelNames.jupyter());S.addOutputChannelLogging(D),t.addSingletonInstance(f.IOutputChannel,D,c.STANDARD_OUTPUT_CHANNEL),t.addSingletonInstance(f.IOutputChannel,b.getJupyterOutputChannel(k,D),y.JUPYTER_OUTPUT_CHANNEL),t.addSingletonInstance(f.IsCodeSpace,r.env.uiKind==r.UIKind.Web),E.registerLoggerTypes(t),s.registerTypes(t),p.registerTypes(t),u.registerTypes(t),h.registerTypes(t);const T=t.get(d.IFileSystem);await x.setExtensionInstallTelemetryProperties(T);const I=n.get(f.IExperimentService);await I.activate(),I.logExperiments();const M=t.get(a.IApplicationEnvironment);v.registerTypes(t),l.registerTypes(t),C.registerTypes(t);const P=t.get(f.IConfigurationService).getSettings();S.setLoggingLevel(P.logging.level),P.onDidChange(()=>{S.setLoggingLevel(P.logging.level)}),_.registerTypes(t,!0),i.registerTypes(t);n.get(a.ICommandManager).executeCommand("setContext","jupyter.vscode.channel",M.channel).then(g.noop,g.noop);const j=n.get(o.IExtensionActivationManager);e.subscriptions.push(j),j.activateSync();const L=j.activate(),O=t.get(w.IDataScience).activate(),A=n.get(f.IFeatureDeprecationManager);return A.initialize(),e.subscriptions.push(A),{activationPromise:L.then(()=>O)}}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(3),i=n(927),o=n(1022),s=n(1023),a=n(1024),c=n(116);t.registerTypes=function(e){e.add(c.IExtensionActivationManager,s.ExtensionActivationManager),e.addSingleton(c.IExtensionActivationService,a.MigrateDataScienceSettingsService),e.addSingleton(r.ISurveyBanner,i.DataScienceSurveyBanner),e.addBinding(r.ISurveyBanner,c.IExtensionSingleActivationService),e.addSingleton(r.IJupyterExtensionBanner,o.InteractiveShiftEnterBanner,r.BANNER_NAME_INTERACTIVE_SHIFTENTER)}},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceSurveyBanner=t.BannerType=t.ExperimentNotebookSurveyStateKeys=t.InsidersNotebookSurveyStateKeys=void 0;const s=n(0),a=n(1),c=n(7);n(15);const l=n(4),u=n(3),d=n(10),h=n(107),p=n(24);var f,m,g,v;!function(e){e.ShowBanner="ShowInsidersNotebookSurveyBanner",e.ExecutionCount="DS_InsidersNotebookExecutionCount"}(f=t.InsidersNotebookSurveyStateKeys||(t.InsidersNotebookSurveyStateKeys={})),function(e){e.ShowBanner="ShowExperimentNotebookSurveyBanner",e.ExecutionCount="DS_ExperimentNotebookExecutionCount"}(m=t.ExperimentNotebookSurveyStateKeys||(t.ExperimentNotebookSurveyStateKeys={})),function(e){e[e.InsidersNotebookSurvey=0]="InsidersNotebookSurvey",e[e.ExperimentNotebookSurvey=1]="ExperimentNotebookSurvey"}(g=t.BannerType||(t.BannerType={})),function(e){e[e.Yes=0]="Yes",e[e.No=1]="No"}(v||(v={}));let y=r=class{constructor(e,t,n,i,o,s,a){this.appShell=e,this.persistentState=t,this.browserService=n,this.applicationEnvironment=i,this.vscodeNotebook=o,this.isCodeSpace=s,this.disposables=a,this.disabledInCurrentSession=!1,this.bannerLabels=[d.DataScienceSurveyBanner.bannerLabelYes(),d.DataScienceSurveyBanner.bannerLabelNo()],this.showBannerState=new Map,this.NotebookExecutionThreshold=250,this.setPersistentState(g.InsidersNotebookSurvey,f.ShowBanner),this.setPersistentState(g.ExperimentNotebookSurvey,m.ShowBanner),setTimeout(()=>{r.surveyDelay=!0},6e5)}isEnabled(e){switch(e){case g.InsidersNotebookSurvey:if("insiders"===this.applicationEnvironment.channel)return this.isEnabledInternal(e);break;case g.ExperimentNotebookSurvey:if("stable"===this.applicationEnvironment.channel)return this.isEnabledInternal(e);break;default:return l.traceError("Invalid Banner Type"),!1}return!1}isEnabledInternal(e){return this.applicationEnvironment.uiKind===a.UIKind.Desktop&&(!this.showBannerState.get(e).value.expiry||this.showBannerState.get(e).value.expiry<Date.now())}async activate(){this.vscodeNotebook.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,this.disposables)}async showBanner(e){if(!this.shouldShowBanner(e))return;this.disabledInCurrentSession=!0;switch(await this.appShell.showInformationMessage(this.getBannerMessage(e),...this.bannerLabels)){case this.bannerLabels[v.Yes]:await this.launchSurvey(e),await this.disable(v.Yes,e);break;default:await this.disable(v.No,e)}}shouldShowBanner(e){if(this.isCodeSpace||!this.isEnabled(e)||this.disabledInCurrentSession||!r.surveyDelay)return!1;return this.getExecutionCount(e)>=this.NotebookExecutionThreshold}setPersistentState(e,t){this.showBannerState.set(e,this.persistentState.createGlobalPersistentState(t,{data:!0}))}async launchSurvey(e){this.browserService.launch(this.getSurveyLink(e))}async disable(e,t){let n=e===v.Yes?6:4;n&&await this.showBannerState.get(t).updateValue({expiry:31*n*h.MillisecondsInADay+Date.now(),data:!0})}getExecutionCount(e){switch(e){case g.InsidersNotebookSurvey:return this.getPersistentState(f.ExecutionCount);case g.ExperimentNotebookSurvey:return this.getPersistentState(m.ExecutionCount);default:return l.traceError("Invalid Banner type"),-1}}getPersistentState(e){return this.persistentState.createGlobalPersistentState(e,0).value}async onDidChangeNotebookCellExecutionState(e){p.isJupyterNotebook(e.cell.notebook)&&e.state===a.NotebookCellExecutionState.Executing&&(this.updateStateAndShowBanner(f.ExecutionCount,g.InsidersNotebookSurvey),this.updateStateAndShowBanner(m.ExecutionCount,g.ExperimentNotebookSurvey))}async updateStateAndShowBanner(e,t){const n=this.persistentState.createGlobalPersistentState(e,0);await n.updateValue(n.value+1),this.showBanner(t)}getBannerMessage(e){switch(e){case g.InsidersNotebookSurvey:case g.ExperimentNotebookSurvey:return d.InsidersNativeNotebooksSurveyBanner.bannerMessage();default:return l.traceError("Invalid Banner type"),""}}getSurveyLink(e){switch(e){case g.InsidersNotebookSurvey:return"https://aka.ms/vscjupyternb";case g.ExperimentNotebookSurvey:return"https://aka.ms/vscnbexp";default:return l.traceError("Invalid Banner type"),""}}};y.surveyDelay=!1,y=r=i([s.injectable(),o(0,s.inject(c.IApplicationShell)),o(1,s.inject(u.IPersistentStateFactory)),o(2,s.inject(u.IBrowserService)),o(3,s.inject(c.IApplicationEnvironment)),o(4,s.inject(c.IVSCodeNotebook)),o(5,s.inject(u.IsCodeSpace)),o(6,s.inject(u.IDisposableRegistry))],y),t.DataScienceSurveyBanner=y},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(929),s=n(70),a=n(98),c=n(43),l=n(423),u=n(930),d=n(937),h=n(939),p=n(126),f=n(188),m=n(942),g=n(943),v=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=a.BindingScopeEnum.Transient;else if(t.defaultScope!==a.BindingScopeEnum.Singleton&&t.defaultScope!==a.BindingScopeEnum.Transient&&t.defaultScope!==a.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new g.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){var r=new e,i=u.getBindingDictionary(r),o=u.getBindingDictionary(t),s=u.getBindingDictionary(n);function a(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return a(o,i),a(s,i),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],s=n(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],s=t(o.id),[4,o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||a.BindingScopeEnum.Transient,n=new o.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+f.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new g.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=u.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,a.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,a.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,a.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,a.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=u.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),i=n(126),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(931),i=n(70),o=n(98),s=n(43),a=n(424),c=n(188),l=n(932),u=n(79),d=n(933),h=n(934),p=n(936),f=n(426);function m(e){return e._bindingDictionary}function g(e,t,n,o,s){var a=v(n.container,s.serviceIdentifier),l=[];return a.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof s.serviceIdentifier&&e.getConstructorMetadata(s.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(s.serviceIdentifier).toSelf(),a=v(n.container,s.serviceIdentifier)),l=t?a:a.filter((function(e){var t=new p.Request(e.serviceIdentifier,n,o,e,s);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var s=c.getServiceIdentifierAsString(e),a=i.NOT_REGISTERED;throw a+=c.listMetadataForTarget(s,n),a+=c.listRegisteredBindingsForServiceIdentifier(o,s,v),new Error(a);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;s=c.getServiceIdentifierAsString(e),a=i.AMBIGUOUS_MATCH+" "+s;throw a+=c.listRegisteredBindingsForServiceIdentifier(o,s,v),new Error(a)}}(s.serviceIdentifier,l,s,n.container),l}function v(e,t){var n=[],r=m(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=v(e.parent,t)),n}t.getBindingDictionary=m,t.plan=function(e,t,n,r,m,v,y,b){void 0===b&&(b=!1);var _=new l.Context(t),w=function(e,t,n,r,i,o){var a=e?s.MULTI_INJECT_TAG:s.INJECT_TAG,c=new u.Metadata(a,n),l=new f.Target(t,r,n,c);if(void 0!==i){var d=new u.Metadata(i,o);l.metadata.push(d)}return l}(n,r,m,"",v,y);try{return function e(t,n,r,s,a,c){var l,u;if(null===a){l=g(t,n,s,null,c),u=new p.Request(r,s,null,l,c);var f=new d.Plan(s,u);s.addPlan(f)}else l=g(t,n,s,a,c),u=a.addChildRequest(c.serviceIdentifier,l,c);l.forEach((function(n){var r=null;if(c.isArray())r=u.addChildRequest(n.serviceIdentifier,n,c);else{if(n.cache)return;r=u}if(n.type===o.BindingTypeEnum.Instance&&null!==n.implementationType){var a=h.getDependencies(t,n.implementationType);if(!s.container.options.skipBaseClassChecks){var l=h.getBaseClassDependencyCount(t,n.implementationType);if(a.length<l){var d=i.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(n.implementationType));throw new Error(d)}}a.forEach((function(n){e(t,!1,n.serviceIdentifier,s,r,n)}))}}))}(e,b,m,_,null,w),_}catch(e){throw a.isStackOverflowExeption(e)&&_.plan&&c.circularDependencyToException(_.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new f.Target(o.TargetTypeEnum.Variable,"",t,new u.Metadata(n,r)),s=new l.Context(e);return new p.Request(t,s,null,[],i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(126),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425),i=n(70),o=n(98),s=n(43),a=n(188);t.getFunctionName=a.getFunctionName;var c=n(426);function l(e,t,n,r){var s=e.getConstructorMetadata(n),a=s.compilerGeneratedMetadata;if(void 0===a){var l=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(l)}var h=s.userGeneratedMetadata,p=Object.keys(h),f=function(e,t,n,r,i){for(var o=[],s=0;s<i;s++){var a=u(s,e,t,n,r);null!==a&&o.push(a)}return o}(r,t,a,h,0===n.length&&p.length>0?p.length:n.length),m=function e(t,n){for(var r=t.getPropertiesMetadata(n),i=[],s=Object.keys(r),a=0,l=s;a<l.length;a++){var u=l[a],h=r[u],p=d(r[u]),f=p.targetName||u,m=p.inject||p.multiInject,g=new c.Target(o.TargetTypeEnum.ClassProperty,f,m);g.metadata=h,i.push(g)}var v=Object.getPrototypeOf(n.prototype).constructor;if(v!==Object){var y=e(t,v);i=i.concat(y)}return i}(e,n);return f.concat(m)}function u(e,t,n,s,a){var l=a[e.toString()]||[],u=d(l),h=!0!==u.unmanaged,p=s[e],f=u.inject||u.multiInject;if((p=f||p)instanceof r.LazyServiceIdentifer&&(p=p.unwrap()),h){if(!t&&(p===Object||p===Function||void 0===p)){var m=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(m)}var g=new c.Target(o.TargetTypeEnum.ConstructorArgument,u.targetName,p);return g.metadata=l,g}return null}function d(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,a.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,a.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),c=[].concat.apply([],o).length,u=i.length-c;return u>0?u:e(t,r)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(126),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(98),o=n(424),s=n(188),a=n(938),c=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},l=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,u=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(u&&d)return o.map((function(t){return l(e)(t)}));var h=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],f=p.scope===i.BindingScopeEnum.Singleton,m=p.scope===i.BindingScopeEnum.Request;if(f&&p.activated)return p.cache;if(m&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)h=p.cache;else if(p.type===i.BindingTypeEnum.Function)h=p.cache;else if(p.type===i.BindingTypeEnum.Constructor)h=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)h=c("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)h=c("toFactory",p.serviceIdentifier,(function(){return p.factory(t.parentContext)}));else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)h=c("toProvider",p.serviceIdentifier,(function(){return p.provider(t.parentContext)}));else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var g=s.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+g)}h=a.resolveInstance(p.implementationType,o,l(e))}return"function"==typeof p.onActivation&&(h=p.onActivation(t.parentContext,h)),f&&(p.cache=h,p.activated=!0),m&&null!==e&&!e.has(p.id)&&e.set(p.id,h),h}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(98),o=n(43);t.resolveInstance=function(e,t,n){var s,a,c=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n);a=l,c=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var i=o[n];e[r]=i})),e}(c=new((s=e).bind.apply(s,[void 0].concat(a))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(o.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(o.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,c),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(98),o=n(940),s=n(427),a=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new s.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(941),i=n(293),o=n(294),s=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),i=n(427),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(126),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(43);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79),i=n(114);t.tagged=function(e,t){return function(n,o,s){var a=new r.Metadata(e,t);"number"==typeof s?i.tagParameter(n,o,s,a):i.tagProperty(n,o,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=n(114);t.named=function(e){return function(t,n,s){var a=new i.Metadata(r.NAMED_TAG,e);"number"==typeof s?o.tagParameter(t,n,s,a):o.tagProperty(t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=n(114);t.optional=function(){return function(e,t,n){var s=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,s):o.tagProperty(e,t,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=n(114);t.unmanaged=function(){return function(e,t,n){var s=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=n(114);t.multiInject=function(e){return function(t,n,s){var a=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof s?o.tagParameter(t,n,s,a):o.tagProperty(t,n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),i=n(79),o=n(114);t.targetName=function(e){return function(t,n,s){var a=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,s,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(43),o=n(79);t.postConstruct=function(){return function(e,t,n){var s=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,s,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.run_adapter=void 0;const r=n(6),i=n(295),o=r.join(i._SCRIPTS_DIR,"testing_tools");t.run_adapter=function(e){return[[r.join(o,"run_adapter.py"),...e],function(e){return JSON.parse(e)}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePythonVersion=void 0;const r=n(108);t.parsePythonVersion=function(e){if(!e||0===e.trim().length)return;const t=(e||"").split(".").map(e=>e.trim()).filter(e=>e.length>0).filter((e,t)=>t<4);if(t.length>0&&t[t.length-1].indexOf("-")>0){const e=t[t.length-1];t[t.length-1]=e.split("-")[0].trim(),t.push(e.split("-")[1].trim())}for(;t.length<4;)t.push("");for(let e=0;e<3;e+=1)t[e]=/^\d+$/.test(t[e])?t[e]:"0";-1===["alpha","beta","candidate","final"].indexOf(t[3])&&t.pop();const n=`${t[0]}.${t[1]}.${t[2]}`,i=4===t.length?`${n}-${t[3]}`:n;return new r.SemVer(i)}},function(e,t,n){var r=n(957),i=n(985),o=n(433),s=n(987),a=n(988),c=n(991),l=n(992),u=n(993),d=n(995),h=n(996),p=n(997),f=n(302),m=n(1002),g=n(1003),v=n(1009),y=n(177),b=n(376),_=n(1011),w=n(106),S=n(1013),E=n(209),x=n(299),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,k,D,T,I){var M,P=1&n,j=2&n,L=4&n;if(k&&(M=T?k(t,D,T,I):k(t)),void 0!==M)return M;if(!w(t))return t;var O=y(t);if(O){if(M=m(t),!P)return l(t,M)}else{var A=f(t),N="[object Function]"==A||"[object GeneratorFunction]"==A;if(b(t))return c(t,P);if("[object Object]"==A||"[object Arguments]"==A||N&&!T){if(M=j||N?{}:v(t),!P)return j?d(t,a(M,t)):u(t,s(M,t))}else{if(!C[A])return T?t:{};M=g(t,A,P)}}I||(I=new r);var R=I.get(t);if(R)return R;I.set(t,M),S(t)?t.forEach((function(r){M.add(e(r,n,k,r,t,I))})):_(t)&&t.forEach((function(r,i){M.set(i,e(r,n,k,i,t,I))}));var F=O?void 0:(L?j?p:h:j?x:E)(t);return i(F||t,(function(r,i){F&&(r=t[i=r]),o(M,i,e(r,n,k,i,t,I))})),M}},function(e,t,n){var r=n(225),i=n(963),o=n(964),s=n(965),a=n(966),c=n(967);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(226),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(226);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(226);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(226);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(225);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(225),i=n(298),o=n(972);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(369),i=n(969),o=n(106),s=n(432),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},function(e,t,n){var r,i=n(970),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(78)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(973),i=n(980),o=n(982),s=n(983),a=n(984);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(974),i=n(225),o=n(298);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(975),i=n(976),o=n(977),s=n(978),a=n(979);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(227);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(227),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(227),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(227);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(228);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(228);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(228);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(228);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(128),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(229),i=n(209);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(229),i=n(299);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(106),i=n(278),o=n(990),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(78),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(124)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(229),i=n(300);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},function(e,t,n){var r=n(229),i=n(436);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(438),i=n(300),o=n(209);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(438),i=n(436),o=n(299);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(128)(n(78),"DataView");e.exports=r},function(e,t,n){var r=n(128)(n(78),"Promise");e.exports=r},function(e,t,n){var r=n(128)(n(78),"Set");e.exports=r},function(e,t,n){var r=n(128)(n(78),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(303),i=n(1005),o=n(1006),s=n(1007),a=n(1008);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return s(e)}}},function(e,t,n){var r=n(78).Uint8Array;e.exports=r},function(e,t,n){var r=n(303);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(176),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(303);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(1010),i=n(437),o=n(278);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(106),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(1012),i=n(276),o=n(277),s=o&&o.isMap,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(302),i=n(140);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(1014),i=n(276),o=n(277),s=o&&o.isSet,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(302),i=n(140);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(345);t.Subject=r.Subject},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSettings=void 0,t.getDefaultSettings=function(){return{experiments:{enabled:!0,optInto:[],optOutFrom:[]},logging:{level:"off"},allowImportFromNotebook:!0,jupyterLaunchTimeout:10,jupyterLaunchRetries:3,jupyterServerType:"local",notebookFileRoot:"${fileDirname}",changeDirOnImportExport:!1,useDefaultConfigForJupyter:!0,jupyterInterruptTimeout:1e4,searchForJupyter:!0,allowInput:!0,showCellInputCode:!0,collapseCellInputCodeByDefault:!0,maxOutputSize:400,enableScrollingForCellOutputs:!0,errorBackgroundColor:"#FFFFFF",sendSelectionToInteractiveWindow:!1,markdownRegularExpression:"^(#\\s*%%\\s*\\[markdown\\]|#\\s*\\<markdowncell\\>)",codeRegularExpression:"^(#\\s*%%|#\\s*\\<codecell\\>|#\\s*In\\[\\d*?\\]|#\\s*In\\[ \\])",variableExplorerExclude:"module;function;builtin_function_or_method",generateSVGPlots:!1,interactiveWindowMode:"multiple",extraSettings:{editor:{cursor:"line",cursorBlink:"blink",autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",autoIndent:!1,fontLigatures:!1,scrollBeyondLastLine:!0,verticalScrollbarSize:14,horizontalScrollbarSize:14,fontSize:14,fontFamily:"Consolas, 'Courier New', monospace"},theme:"Default Dark+",hasPythonExtension:!0},intellisenseOptions:{quickSuggestions:{other:!0,comments:!1,strings:!1},acceptSuggestionOnEnter:"on",quickSuggestionsDelay:10,suggestOnTriggerCharacters:!0,tabCompletion:"on",suggestLocalityBonus:!0,suggestSelection:"recentlyUsed",wordBasedSuggestions:!0,parameterHintsEnabled:!0},runStartupCommands:"",debugJustMyCode:!0,variableQueries:[],jupyterCommandLineArguments:[],widgetScriptSources:[]}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelExecution=void 0;const i=n(1),o=n(131),s=n(4),a=n(19),c=n(32),l=n(8),u=n(5),d=n(55),h=n(13),p=n(1018),f=n(1019),m=n(56);class g{constructor(e,t,n,r,i,o,s,a,c){this.kernel=e,this.metadata=r,this.interruptTimeout=i,this.documentExecutions=new WeakMap,this.disposables=[],this.executionFactory=new p.CellExecutionFactory(e,t,n,o,s,a,c)}async executeCell(e,t){if(t.kind==i.NotebookCellKind.Markup)return m.NotebookCellRunState.Success;d.sendKernelTelemetryEvent(t.notebook.uri,u.Telemetry.ExecuteNativeCell),this._restartPromise&&await this._restartPromise;const n=this.getOrCreateCellExecutionQueue(t.notebook,e);n.queueCell(t);return(await n.waitForCompletion([t]))[0]}async interrupt(e,t){d.trackKernelResourceInformation(e.uri,{interruptKernel:!0});const n=this.documentExecutions.get(e);if(!n)return h.InterruptResult.Success;const r=t?await t.catch(()=>{}):void 0;s.traceInfo("Interrupt kernel execution");const i=n.cancel().then(()=>n.waitForCompletion());if(!r)return s.traceInfo("No notebook to interrupt"),this._interruptPromise=void 0,await i,h.InterruptResult.Success;const o=this._interruptPromise?await this._interruptPromise:await(this._interruptPromise=this.interruptExecution(e,r.session,i));return this._interruptPromise=void 0,o}async restart(e,t){d.trackKernelResourceInformation(e.uri,{restartKernel:!0});const n=this.documentExecutions.get(e);if(!n)return;const r=t?await t.catch(()=>{}):void 0;s.traceInfo("Restart kernel execution");const i=n.cancel(!0).then(()=>n.waitForCompletion());if(!r)return s.traceInfo("No notebook to interrupt"),this._restartPromise=void 0,void await i;await(this._restartPromise?this._restartPromise:this._restartPromise=this.restartExecution(r)),this._restartPromise=void 0}dispose(){this.disposables.forEach(e=>e.dispose())}getOrCreateCellExecutionQueue(e,t){const n=this.documentExecutions.get(e);if(n&&!n.isEmpty&&!n.failed)return n;const r=this.kernel.start({document:e}).then(()=>t),o=new f.CellExecutionQueue(r,this.executionFactory,this.metadata);return i.workspace.onDidCloseNotebookDocument(async t=>{t===e&&(o.failed&&o.isEmpty||await o.cancel(!0))},this,this.disposables),this.documentExecutions.set(e,o),o}async interruptExecution(e,t,n){const r=a.createDeferred(),i=new c.StopWatch,l=t.onSessionStatusChanged(e=>{e===o.ServerStatus.Restarting&&(s.traceWarning("Kernel restarting during interrupt"),r.resolve(!0))});t.interrupt(this.interruptTimeout).catch(e=>{s.traceWarning("Error during interrupt: "+e),r.resolve(!0)});return(async()=>{try{const e=await a.waitForPromise(Promise.race([n,r.promise]),this.interruptTimeout);return r.completed?h.InterruptResult.Restarted:null===e?h.InterruptResult.TimedOut:h.InterruptResult.Success}catch(t){if(r.completed)return h.InterruptResult.Restarted;throw d.sendKernelTelemetryEvent(e.uri,u.Telemetry.NotebookInterrupt,i.elapsedTime,void 0,t),t}finally{l.dispose()}})().then(t=>(d.sendKernelTelemetryEvent(e.uri,u.Telemetry.NotebookInterrupt,i.elapsedTime,{result:t}),t))}async restartExecution(e){await e.session.restart(this.interruptTimeout).catch(e=>{s.traceWarning("Error during restart: "+e)}),e.fireRestart()}}r([l.captureTelemetry(u.Telemetry.ExecuteNativeCell,void 0,!0)],g.prototype,"executeCell",null),r([l.captureTelemetry(u.Telemetry.Interrupt),l.captureTelemetry(u.Telemetry.InterruptJupyterTime)],g.prototype,"interruptExecution",null),r([l.captureTelemetry(u.Telemetry.RestartKernel),l.captureTelemetry(u.Telemetry.RestartJupyterTime)],g.prototype,"restartExecution",null),t.KernelExecution=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecution=t.CellExecutionFactory=void 0;const i=n(189),o=n(1),s=n(62),a=n(231),c=n(4),l=n(442),u=n(19),d=n(85),h=n(9),p=n(32),f=n(8),m=n(5),g=n(443),v=n(24),y=n(22),b=n(56),_=n(99);t.CellExecutionFactory=class{constructor(e,t,n,r,i,o,s){this.kernel=e,this.errorHandler=t,this.appShell=n,this.disposables=r,this.controller=i,this.outputTracker=o,this.cellHashProviderFactory=s}create(e,t){return w.fromCell(e,this.errorHandler,this.appShell,t,this.disposables,this.controller,this.outputTracker,this.cellHashProviderFactory.getOrCreate(this.kernel))}};class w{constructor(e,t,n,r,i,s,a,c){this.cell=e,this.errorHandler=t,this.applicationService=n,this.kernelConnection=r,this.controller=s,this.outputDisplayIdTracker=a,this.cellHashProvider=c,this.stopWatch=new p.StopWatch,this._result=u.createDeferred(),this.cancelHandled=!1,this.disposables=[],i.push(this),o.workspace.onDidCloseTextDocument(e=>{var t;e===this.cell.document&&(null===(t=this.request)||void 0===t||t.dispose(),this.started&&!this._completed&&this.completedDueToCancellation())},this,this.disposables),o.notebooks.onDidChangeCellOutputs(e=>{e.cells.includes(this.cell)&&0===this.cell.outputs.length&&this.clearLastUsedStreamOutput()},this,this.disposables),v.NotebookCellStateTracker.setCellState(e,o.NotebookCellExecutionState.Idle),this.canExecuteCell()&&(this.execution=s.createNotebookCellExecution(this.cell),v.NotebookCellStateTracker.setCellState(e,o.NotebookCellExecutionState.Pending))}get result(){return this._result.promise}static fromCell(e,t,n,r,i,o,s,a){return new w(e,t,n,r,i,o,s,a)}async start(e){var t,n,r;if(this.cancelHandled)v.traceCellMessage(this.cell,"Not starting as it was cancelled");else{if(v.traceCellMessage(this.cell,"Start execution"),c.traceInfoIf(!!process.env.VSC_JUPYTER_FORCE_LOGGING,`Cell Exec contents ${this.cell.document.getText().substring(0,50)}...`),!this.canExecuteCell())return null===(t=this.execution)||void 0===t||t.end(void 0),this.execution=void 0,void this._result.resolve();if(this.started)return v.traceCellMessage(this.cell,"Cell has already been started yet CellExecution.Start invoked again"),c.traceError("Cell has already been started yet CellExecution.Start invoked again "+this.cell.index),this.result;this.started=!0,this.startTime=(new Date).getTime(),w.activeNotebookCellExecution.set(this.cell.notebook,this.execution),null===(n=this.execution)||void 0===n||n.start(this.startTime),v.NotebookCellStateTracker.setCellState(this.cell,o.NotebookCellExecutionState.Executing),this.clearLastUsedStreamOutput(),await(null===(r=this.execution)||void 0===r?void 0:r.clearOutput()),this.stopWatch.reset(),this.execute(e.session).catch(e=>this.completedWithErrors(e)).finally(()=>this.dispose()).catch(h.noop)}}async cancel(e=!1){if(this.started&&!e)return v.traceCellMessage(this.cell,"Cell is already running, waiting for it to finish or kernel to start"),void await this.result;this.cancelHandled||this._completed||(v.traceCellMessage(this.cell,"Execution cancelled"),this.cancelHandled=!0,this.completedDueToCancellation(),this.dispose())}dispose(){v.traceCellMessage(this.cell,"Execution disposed"),_.disposeAllDisposables(this.disposables)}clearLastUsedStreamOutput(){this.lastUsedStreamOutput=void 0}completedWithErrors(e){var t;v.traceCellMessage(this.cell,"Completed with errors"),this.sendPerceivedCellExecute(),v.traceCellMessage(this.cell,"Update with error state & output"),null===(t=this.execution)||void 0===t||t.appendOutput([v.translateErrorOutput(a.createErrorOutput(e))]).then(h.noop,h.noop),this.endCellTask("failed"),this._completed=!0,this.errorHandler.handleError(e).ignoreErrors(),v.traceCellMessage(this.cell,"Completed with errors, & resolving"),this._result.resolve(b.NotebookCellRunState.Error)}get isEmptyCodeCell(){return 0===this.cell.document.getText().trim().length}completedSuccessfully(){v.traceCellMessage(this.cell,"Completed successfully"),this.sendPerceivedCellExecute();let e=this.isEmptyCodeCell?b.NotebookCellRunState.Idle:b.NotebookCellRunState.Success,t="success";this.cellHasErrorsInOutput&&(t="failed",e=b.NotebookCellRunState.Error),this.endCellTask(t),this._completed=!0,v.traceCellMessage(this.cell,"Completed successfully & resolving"),this._result.resolve(e)}endCellTask(e){var t,n,r;this.isEmptyCodeCell?(this.execution&&(this.execution.executionOrder=void 0),null===(t=this.execution)||void 0===t||t.end(void 0)):"success"===e||"failed"===e?(this.endTime=(new Date).getTime(),null===(n=this.execution)||void 0===n||n.end("success"===e,this.endTime)):null===(r=this.execution)||void 0===r||r.end(void 0),w.activeNotebookCellExecution.get(this.cell.notebook)===this.execution&&w.activeNotebookCellExecution.set(this.cell.notebook,void 0),v.NotebookCellStateTracker.setCellState(this.cell,o.NotebookCellExecutionState.Idle),this.execution=void 0}createTemporaryTask(){var e,t;if(this.cell.document.isClosed)return;const n=w.activeNotebookCellExecution.get(this.cell.notebook);return n||(this.previousResultsToRestore={...this.cell.executionSummary||{}},this.temporaryExecution=this.controller.createNotebookCellExecution(this.cell),null===(e=this.temporaryExecution)||void 0===e||e.start(),(null===(t=this.previousResultsToRestore)||void 0===t?void 0:t.executionOrder)&&this.execution&&(this.execution.executionOrder=this.previousResultsToRestore.executionOrder),this.temporaryExecution)}endTemporaryTask(){var e,t,n;(null===(e=this.previousResultsToRestore)||void 0===e?void 0:e.executionOrder)&&this.execution&&(this.execution.executionOrder=this.previousResultsToRestore.executionOrder),this.previousResultsToRestore&&this.temporaryExecution?(this.previousResultsToRestore.executionOrder&&(this.temporaryExecution.executionOrder=this.previousResultsToRestore.executionOrder),this.temporaryExecution.end(this.previousResultsToRestore.success,null===(t=this.previousResultsToRestore.timing)||void 0===t?void 0:t.endTime)):null===(n=this.temporaryExecution)||void 0===n||n.end(void 0),this.previousResultsToRestore=void 0,this.temporaryExecution=void 0}completedDueToCancellation(){v.traceCellMessage(this.cell,"Completed due to cancellation"),this.endCellTask("cancelled"),this._completed=!0,v.traceCellMessage(this.cell,"Cell cancelled & resolving"),this._result.resolve(b.NotebookCellRunState.Idle)}sendPerceivedCellExecute(){const e={notebook:!0};w.sentExecuteCellTelemetry?f.sendTelemetryEvent(m.Telemetry.ExecuteCellPerceivedWarm,this.stopWatch.elapsedTime,e):(w.sentExecuteCellTelemetry=!0,f.sendTelemetryEvent(m.Telemetry.ExecuteCellPerceivedCold,this.stopWatch.elapsedTime,e))}canExecuteCell(){return(!y.isPythonKernelConnection(this.kernelConnection)||"raw"!==this.cell.document.languageId)&&!this.cell.document.isClosed}async execute(e){var t,n,r;const i=null!==(r=null===(n=null===(t=this.cell.metadata)||void 0===t?void 0:t.interactive)||void 0===n?void 0:n.modifiedSource)&&void 0!==r?r:this.cell.document.getText();v.traceCellMessage(this.cell,"Send code for execution"),await this.executeCodeCell(i,e)}async executeCodeCell(e,t){var n,r;if(0===e.trim().length||this.cell.document.isClosed)return v.traceCellMessage(this.cell,"Empty cell execution"),this.completedSuccessfully();const i={...(null===(r=null===(n=this.cell.metadata)||void 0===n?void 0:n.custom)||void 0===r?void 0:r.metadata)||{},cellId:this.cell.document.uri.toString()},o=this.request=t.requestExecute({code:e,silent:!1,stop_on_error:!1,allow_stdin:!0,store_history:!0},!1,i),s=new l.RefBool(!1);if(!o)return c.traceError("Cell execution failed without request, for cell Index "+this.cell.index),this.completedWithErrors(new Error("Session cannot generate requests"));o.onIOPub=e=>{this.cell.document.isClosed&&o.dispose(),this.handleIOPub(s,e)},o.onReply=e=>{this.cell.document.isClosed&&o.dispose(),this.handleReply(s,e)},o.onStdin=this.handleInputRequest.bind(this,t);try{v.traceCellMessage(this.cell,"Wait for jupyter execution"),await o.done,v.traceCellMessage(this.cell,"Jupyter execution completed"),this.completedSuccessfully(),v.traceCellMessage(this.cell,"Executed successfully in executeCell")}catch(e){e&&e instanceof Error&&"Canceled"===e.message?(this.completedSuccessfully(),v.traceCellMessage(this.cell,"Cancellation execution error")):(v.traceCellMessage(this.cell,"Some other execution error"),this.completedWithErrors(e))}}handleIOPub(e,t){const r=n(89);try{if(r.KernelMessage.isExecuteResultMsg(t))c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = ExecuteResult"),this.handleExecuteResult(t,e);else if(r.KernelMessage.isExecuteInputMsg(t))this.handleExecuteInput(t,e);else if(r.KernelMessage.isStatusMsg(t)){c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = StatusMessage");const n=t;this.handleStatusMessage(n,e)}else r.KernelMessage.isStreamMsg(t)?(c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = StreamMessage",`Cell Index ${this.cell.index}, Stream '${t.content.name}`,t.content.text),this.handleStreamMessage(t,e)):r.KernelMessage.isDisplayDataMsg(t)?(c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = DisplayMessage"),this.handleDisplayData(t,e)):r.KernelMessage.isUpdateDisplayDataMsg(t)?(c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = UpdateDisplayMessage"),this.handleUpdateDisplayDataMessage(t)):r.KernelMessage.isClearOutputMsg(t)?(c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = CleanOutput"),this.handleClearOutput(t,e)):r.KernelMessage.isErrorMsg(t)?(c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"KernelMessage = ErrorMessage"),this.handleError(t,e)):r.KernelMessage.isCommOpenMsg(t)||r.KernelMessage.isCommMsgMsg(t)||r.KernelMessage.isCommCloseMsg(t)||c.traceWarning(`Unknown message ${t.header.msg_type} : hasData=${"data"in t.content}`);"execution_count"in t.content&&"number"==typeof t.content.execution_count&&this.execution&&(c.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,"Exec Count = "+t.content.execution_count),this.execution.executionOrder=t.content.execution_count)}catch(e){c.traceError(`Cell (index = ${this.cell.index}) execution completed with errors (2).`,e),this.completedWithErrors(e)}}addToCellData(e,t){var n,r,i;const o=v.cellOutputToVSCCellOutput(e),s=e.transient&&"object"==typeof e.transient&&"display_id"in e.transient&&"string"==typeof(null===(n=e.transient)||void 0===n?void 0:n.display_id)?null===(r=e.transient)||void 0===r?void 0:r.display_id:void 0;if(this.cell.document.isClosed)return;v.traceCellMessage(this.cell,"Update output"),t.value&&(this.clearLastUsedStreamOutput(),null===(i=this.execution)||void 0===i||i.clearOutput().then(h.noop,h.noop),t.update(!1)),s&&this.outputDisplayIdTracker.trackOutputByDisplayId(this.cell,s,o);const a=this.execution||this.createTemporaryTask();this.clearLastUsedStreamOutput(),null==a||a.appendOutput([o]).then(h.noop,h.noop),this.endTemporaryTask()}handleInputRequest(e,t){if(t.content&&"prompt"in t.content){const n=null!==t.content.password&&t.content.password;this.applicationService.showInputBox({prompt:t.content.prompt?t.content.prompt.toString():"",ignoreFocusOut:!0,password:n}).then(t=>{e.sendInputReply(t||"")},h.noop)}}handleExecuteResult(e,t){this.addToCellData({output_type:"execute_result",data:e.content.data,metadata:e.content.metadata,transient:e.content.transient,execution_count:e.content.execution_count},t)}handleExecuteReply(e,t){const n=e.content;n.payload&&n.payload.forEach(e=>{e.source&&"set_next_input"===e.source&&"text"in e&&"replace"in e&&this.handleSetNextInput(e),e.data&&e.data.hasOwnProperty("text/plain")&&this.addToCellData({output_type:"stream",text:e.data["text/plain"].toString(),name:"stdout",metadata:{},execution_count:n.execution_count},t)})}handleSetNextInput(e){const t=new o.WorkspaceEdit;if(e.replace)t.replace(this.cell.document.uri,new o.Range(this.cell.document.lineAt(0).range.start,this.cell.document.lineAt(this.cell.document.lineCount-1).range.end),e.text);else{v.traceCellMessage(this.cell,"Create new cell after current");const n=new o.NotebookCellData(o.NotebookCellKind.Code,e.text,this.cell.document.languageId);n.outputs=[],n.metadata={},t.replaceNotebookCells(this.cell.notebook.uri,new o.NotebookRange(this.cell.index+1,this.cell.index+1),[n])}o.workspace.applyEdit(t).then(h.noop,h.noop)}handleExecuteInput(e,t){e.content.execution_count&&this.execution&&(this.execution.executionOrder=e.content.execution_count)}handleStatusMessage(e,t){v.traceCellMessage(this.cell,"Kernel switching to "+e.content.execution_state)}handleStreamMessage(e,t){var n;v.traceCellMessage(this.cell,"Update streamed output");const r=this.execution||this.createTemporaryTask(),i=t.value;if(i&&(this.clearLastUsedStreamOutput(),null==r||r.clearOutput().then(h.noop,h.noop),t.update(!1)),(null===(n=this.lastUsedStreamOutput)||void 0===n?void 0:n.stream)===e.content.name){let t=this.lastUsedStreamOutput.text,n=e.content.text;const i=String.fromCharCode(27)+"[A";if(e.content.text.startsWith(i)){const e=t.splitLines({trim:!1,removeEmptyEntries:!1});e.length&&e.pop(),t=e.join("\n"),n=n.substring(i.length)}this.lastUsedStreamOutput.text=s.formatStreamText(s.concatMultilineString(`${t}${n}`));const o=v.cellOutputToVSCCellOutput({output_type:"stream",name:e.content.name,text:this.lastUsedStreamOutput.text});null==r||r.replaceOutputItems(o.items,this.lastUsedStreamOutput.output).then(h.noop,h.noop)}else if(i){const t=s.formatStreamText(s.concatMultilineString(e.content.text)),n=v.cellOutputToVSCCellOutput({output_type:"stream",name:e.content.name,text:t});this.lastUsedStreamOutput={output:n,stream:e.content.name,text:t},null==r||r.replaceOutput([n]).then(h.noop,h.noop)}else{const t=s.formatStreamText(s.concatMultilineString(e.content.text)),n=v.cellOutputToVSCCellOutput({output_type:"stream",name:e.content.name,text:t});this.lastUsedStreamOutput={output:n,stream:e.content.name,text:t},null==r||r.appendOutput([n]).then(h.noop,h.noop)}this.endTemporaryTask()}handleDisplayData(e,t){const n={output_type:"display_data",data:g.handleTensorBoardDisplayDataOutput(e.content.data),metadata:e.content.metadata,transient:e.content.transient};this.addToCellData(n,t)}handleClearOutput(e,t){if(e&&e.content.wait)t.update(!0);else{const e=this.execution||this.createTemporaryTask();this.clearLastUsedStreamOutput(),null==e||e.clearOutput().then(h.noop,h.noop),this.endTemporaryTask()}}handleError(e,t){const n={output_type:"error",ename:e.content.ename,evalue:e.content.evalue,traceback:this.cellHashProvider.modifyTraceback(e.content.traceback)};this.addToCellData(n,t),this.cellHasErrorsInOutput=!0}handleReply(e,t){n(89).KernelMessage.isExecuteReplyMsg(t)&&(this.handleExecuteReply(t,e),"execution_count"in t.content&&"number"==typeof t.content.execution_count&&this.execution&&(this.execution.executionOrder=t.content.execution_count))}handleUpdateDisplayDataMessage(e){const t=e.content.transient.display_id;if(!t)return;const n=this.outputDisplayIdTracker.getMappedOutput(this.cell.notebook,t);if(!n)return;const r=v.translateCellDisplayOutput(n),o=v.cellOutputToVSCCellOutput({...r,data:e.content.data,metadata:e.content.metadata});if(0===n.items.length&&0===o.items.length)return;if(n.items.length===o.items.length){let e=!0;for(let t=0;t<n.items.length;t++)if(!i(n.items[t],o.items[t])){e=!1;break}if(e)return}const s=this.execution||this.createTemporaryTask();null==s||s.replaceOutputItems(o.items,n).then(h.noop,h.noop),this.endTemporaryTask()}}w.cellsCompletedForTesting=new WeakMap,w.activeNotebookCellExecution=new WeakMap,r([d.swallowExceptions()],w.prototype,"handleIOPub",null),r([d.swallowExceptions()],w.prototype,"handleReply",null),t.CellExecution=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellExecutionQueue=void 0;const r=n(4),i=n(9),o=n(5),s=n(55),a=n(24),c=n(56);t.CellExecutionQueue=class{constructor(e,t,n){this.notebookPromise=e,this.executionFactory=t,this.metadata=n,this.queueOfCellsToExecute=[],this.cancelledOrCompletedWithErrors=!1,this.startedRunningCells=!1}get isEmpty(){return 0===this.queueOfCellsToExecute.length}get failed(){return this.cancelledOrCompletedWithErrors}queueCell(e){s.sendKernelTelemetryEvent(e.notebook.uri,o.Telemetry.ExecuteCell);if(this.queueOfCellsToExecute.find(t=>t.cell===e))return void a.traceCellMessage(e,"Use existing cell execution");const t=this.executionFactory.create(e,this.metadata);this.queueOfCellsToExecute.push(t),a.traceCellMessage(e,"User queued cell for execution"),this.startExecutingCells()}async cancel(e){this.cancelledOrCompletedWithErrors=!0,r.traceInfo("Cancel pending cells"),await Promise.all(this.queueOfCellsToExecute.map(t=>t.cancel(e)))}async waitForCompletion(e){const t=Array.isArray(e)&&e.length>0?this.queueOfCellsToExecute.filter(t=>e.includes(t.cell)):this.queueOfCellsToExecute;return Promise.all(t.map(e=>e.result))}startExecutingCells(){this.startedRunningCells||this.start().catch(i.noop),this.startedRunningCells=!0}async start(){try{await this.executeQueuedCells()}catch(e){r.traceError("Failed to execute cells in CellExecutionQueue",e),this.cancelledOrCompletedWithErrors=!0,await this.cancel()}}async executeQueuedCells(){const e=await this.notebookPromise;for(this.queueOfCellsToExecute.forEach(e=>a.traceCellMessage(e.cell,"Ready to execute"));this.queueOfCellsToExecute.length;){const t=this.queueOfCellsToExecute[0];let n;a.traceCellMessage(t.cell,"Before Execute individual cell");try{await t.start(e),n=await t.result}finally{a.traceCellMessage(t.cell,"After Execute individual cell "+n);const e=this.queueOfCellsToExecute.indexOf(t);e>=0&&this.queueOfCellsToExecute.splice(e,1)}if(this.cancelledOrCompletedWithErrors||n===c.NotebookCellRunState.Error){this.cancelledOrCompletedWithErrors=!0,r.traceInfo(`Cancel all remaining cells ${this.cancelledOrCompletedWithErrors} || ${n}`),await this.cancel();break}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areFunctions=t.isFunction=t.isEmptyObject=t.isUndefinedOrNull=t.isUndefined=t.isBoolean=t.isNumber=t.isObject=t.isStringArray=t.isString=t.isArray=void 0;const r="number",i="string",o="undefined",s="object",a="function";function c(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==r||e.constructor!==Array)}function l(e){return typeof e===i||e instanceof String}function u(e){return!(typeof e!==s||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function d(e){return typeof e===o}t.isArray=c,t.isString=l,t.isStringArray=function(e){return c(e)&&e.every(e=>l(e))},t.isObject=u,t.isNumber=function(e){return(typeof e===r||e instanceof Number)&&!isNaN(e)},t.isBoolean=function(e){return!0===e||!1===e},t.isUndefined=d,t.isUndefinedOrNull=function(e){return d(e)||null===e};const h=Object.prototype.hasOwnProperty;function p(e){return typeof e===a}t.isEmptyObject=function(e){if(!u(e))return!1;for(let t in e)if(h.call(e,t))return!1;return!0},t.isFunction=p,t.areFunctions=function(...e){return e&&e.length>0&&e.every(p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterConnectError=void 0;const r=n(29);n(15);class i extends r.BaseError{constructor(e,t){super("jupyterconnection",e+(t?"\n"+t:""))}}t.JupyterConnectError=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveShiftEnterBanner=t.InteractiveShiftEnterStateKeys=void 0;const o=n(0),s=n(1),a=n(7);n(15);const c=n(3),l=n(10),u=n(8),d=n(5),h=n(13);var p,f;!function(e){e.ShowBanner="InteractiveShiftEnterBanner"}(p=t.InteractiveShiftEnterStateKeys||(t.InteractiveShiftEnterStateKeys={})),function(e){e[e.Yes=0]="Yes",e[e.No=1]="No"}(f||(f={}));let m=class{constructor(e,t,n,r){this.appShell=e,this.persistentState=t,this.jupyterExecution=n,this.configuration=r,this.disabledInCurrentSession=!1,this.bannerMessage=l.InteractiveShiftEnterBanner.bannerMessage(),this.bannerLabels=[l.Common.bannerLabelYes(),l.Common.bannerLabelNo()],this.initialize()}initialize(){this.initialized||(this.initialized=!0,this.isEnabled())}isEnabled(){return this.persistentState.createGlobalPersistentState(p.ShowBanner,!0).value}async showBanner(){if(!this.isEnabled())return;if(!await this.shouldShowBanner())return;if(!await this.jupyterExecution.isNotebookSupported())return void await this.disableBanner();u.sendTelemetryEvent(d.Telemetry.ShiftEnterBannerShown);switch(await this.appShell.showInformationMessage(this.bannerMessage,...this.bannerLabels)){case this.bannerLabels[f.Yes]:await this.enableInteractiveShiftEnter();break;case this.bannerLabels[f.No]:await this.disableInteractiveShiftEnter();break;default:this.disabledInCurrentSession=!0}}async shouldShowBanner(){const e=this.configuration.getSettings();return Promise.resolve(this.isEnabled()&&!this.disabledInCurrentSession&&!e.sendSelectionToInteractiveWindow)}async disableInteractiveShiftEnter(){await this.configuration.updateSetting("sendSelectionToInteractiveWindow",!1,void 0,s.ConfigurationTarget.Global),await this.disableBanner()}async enableInteractiveShiftEnter(){await this.configuration.updateSetting("sendSelectionToInteractiveWindow",!0,void 0,s.ConfigurationTarget.Global),await this.disableBanner()}async disableBanner(){await this.persistentState.createGlobalPersistentState(p.ShowBanner,!1).updateValue(!1)}};r([u.captureTelemetry(d.Telemetry.DisableInteractiveShiftEnter)],m.prototype,"disableInteractiveShiftEnter",null),r([u.captureTelemetry(d.Telemetry.EnableInteractiveShiftEnter)],m.prototype,"enableInteractiveShiftEnter",null),m=r([o.injectable(),i(0,o.inject(a.IApplicationShell)),i(1,o.inject(c.IPersistentStateFactory)),i(2,o.inject(h.IJupyterExecution)),i(3,o.inject(c.IConfigurationService))],m),t.InteractiveShiftEnterBanner=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionActivationManager=void 0;const o=n(0),s=n(26),a=n(7),c=n(14),l=n(4),u=n(16),d=n(33),h=n(446),p=n(116);let f=class{constructor(e,t,n,r,i,o,s,a,c){this.activationServices=e,this.singleActivationServices=t,this.syncActivationServices=n,this.documentManager=r,this.interpreterService=i,this.workspaceService=o,this.fileSystem=s,this.activeResourceService=a,this.extensionChecker=c,this.activatedWorkspaces=new Set,this.isInterpreterSetForWorkspacePromises=new Map,this.disposables=[]}dispose(){for(;this.disposables.length>0;){this.disposables.shift().dispose()}this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}activateSync(){this.syncActivationServices.map(e=>e.activate())}async activate(){await this.initialize(),await Promise.all([Promise.all(this.singleActivationServices.map(e=>e.activate())),this.activateWorkspace(this.activeResourceService.getActiveResource())])}async activateWorkspace(e){const t=this.getWorkspaceKey(e);this.activatedWorkspaces.has(t)||(this.activatedWorkspaces.add(t),this.extensionChecker.isPythonExtensionActive&&this.interpreterService.getInterpreters(e).ignoreErrors(),await h.sendActivationTelemetry(this.fileSystem,this.workspaceService,e),this.activationServices&&await Promise.all(this.activationServices.map(t=>t.activate(e))))}async initialize(){this.addHandlers(),this.addRemoveDocOpenedHandlers()}onDocOpened(e){if(e.languageId!==c.PYTHON_LANGUAGE)return;const t=this.getWorkspaceKey(e.uri);if(""===t&&this.workspaceService.hasWorkspaceFolders)return;if(this.activatedWorkspaces.has(t))return;const n=this.workspaceService.getWorkspaceFolder(e.uri);this.activateWorkspace(n?n.uri:void 0).ignoreErrors()}addHandlers(){this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this))}addRemoveDocOpenedHandlers(){this.hasMultipleWorkspaces()?this.docOpenedHandler||(this.docOpenedHandler=this.documentManager.onDidOpenTextDocument(this.onDocOpened,this)):this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}onWorkspaceFoldersChanged(){const e=this.workspaceService.workspaceFolders.map(e=>this.getWorkspaceKey(e.uri)),t=Array.from(this.activatedWorkspaces.keys()).filter(t=>e.indexOf(t)<0);if(t.length>0)for(const e of t)this.activatedWorkspaces.delete(e);this.addRemoveDocOpenedHandlers()}hasMultipleWorkspaces(){return this.workspaceService.hasWorkspaceFolders&&this.workspaceService.workspaceFolders.length>1}getWorkspaceKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}};r([l.traceDecorators.error("Failed to activate a workspace")],f.prototype,"activateWorkspace",null),f=r([o.injectable(),i(0,o.multiInject(p.IExtensionActivationService)),i(0,o.optional()),i(1,o.multiInject(p.IExtensionSingleActivationService)),i(2,o.multiInject(p.IExtensionSyncActivationService)),i(3,o.inject(a.IDocumentManager)),i(4,o.inject(d.IInterpreterService)),i(5,o.inject(a.IWorkspaceService)),i(6,o.inject(u.IFileSystem)),i(7,o.inject(a.IActiveResourceService)),i(8,o.inject(s.IPythonExtensionChecker))],f),t.ExtensionActivationManager=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MigrateDataScienceSettingsService=void 0;const o=n(0),s=n(346),a=n(6),c=n(7),l=n(4),u=n(16),d=n(3),h=n(85),p=n(5),f=n(13),m=n(137);let g=class{constructor(e,t,n,r,i){this.fs=e,this.application=t,this.workspace=n,this.persistentStateFactory=r,this.serverUriStorage=i}async activate(e){const t=this.persistentStateFactory.createGlobalPersistentState("MigratedDataScienceSettingsService",!1),n=this.persistentStateFactory.createGlobalPersistentState("MigratedDataScienceKeybindingsService",!1);t.value||(await this.updateSettings(e),t.updateValue(!0).ignoreErrors()),n.value||(await this.updateKeybindings(),n.updateValue(!0).ignoreErrors())}async fixSettingsFile(e){let t=await this.fs.readLocalFile(e);if(!t.includes("python.dataScience"))return;const n=[],r=s.parse(t,n,{allowTrailingComma:!0,disallowComments:!1});if(n.length>0)return void l.traceError("JSONC parser returned ParseError codes",n);const i=Object.keys(r).filter(e=>e.startsWith("python.dataScience"));if(0===i.length)return;const o={formattingOptions:{tabSize:4,insertSpaces:!0}};i.forEach(e=>{t=s.applyEdits(t,s.modify(t,[e],void 0,o));let n=r[e];const i=e.substr(19);let a="jupyter."+i;"jupyterServerURI"!==i||r.hasOwnProperty("jupyter.jupyterServerType")?r.hasOwnProperty(a)||"string"==typeof n&&(n=n.replace(/python\.datascience\./gi,"jupyter.")):(this.serverUriStorage.setUri(n).ignoreErrors(),a="jupyter.jupyterServerType",n=n===p.Settings.JupyterServerLocalLaunch?n:p.Settings.JupyterServerRemoteLaunch),t=s.applyEdits(t,s.modify(t,[a],n,o))}),await this.fs.writeLocalFile(e,t)}async fixKeybindingsFile(e){const t=await this.fs.readLocalFile(e);if(!t.includes("python.datascience."))return;const n=[],r=s.parse(t,n,{allowTrailingComma:!0,disallowComments:!1});if(n.length>0)return void l.traceError("JSONC parser returned ParseError codes",n);if(!Array.isArray(r))return;const i=r.map(e=>{const t=e.command;if("string"==typeof t&&t.includes("jupyter."))return t}),o=[];r.forEach(e=>{const t=e.command;if("string"==typeof t&&t.includes("python.datascience.")){const n=t.replace(/python\.datascience\./gi,"jupyter.");if(!i.includes(n)){e.command=n;const t=e.when;t&&"string"==typeof t&&(e.when=t.replace(/python\.datascience\./gi,"jupyter.")),o.push(e)}}else o.push(e)}),await this.fs.writeLocalFile(e,JSON.stringify(o,void 0,4))}async updateSettings(e){const t=this.getSettingsFiles(e).map(e=>this.fixSettingsFile(e));await Promise.all(t)}async updateKeybindings(){const e=this.application.userCustomKeybindingsFile;e&&await this.fs.localFileExists(e)&&await this.fixKeybindingsFile(e)}getSettingsFiles(e){const t=[];this.application.userSettingsFile&&t.push(this.application.userSettingsFile);const n=this.workspace.getWorkspaceFolder(e);return n&&n.uri&&t.push(a.join(n.uri.fsPath,".vscode","settings.json")),t}};r([h.swallowExceptions("Failed to update settings.json")],g.prototype,"fixSettingsFile",null),r([m.traceDecorators.error("Failed to update test settings")],g.prototype,"updateSettings",null),g=r([o.injectable(),i(0,o.inject(u.IFileSystem)),i(1,o.inject(c.IApplicationEnvironment)),i(2,o.inject(c.IWorkspaceService)),i(3,o.inject(d.IPersistentStateFactory)),i(4,o.inject(f.IJupyterServerUriStorage))],g),t.MigrateDataScienceSettingsService=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(116),i=n(146),o=n(447),s=n(33),a=n(1026),c=n(448),l=n(1027),u=n(26);t.registerTypes=function(e){e.addSingleton(u.IPythonApiProvider,l.PythonApiProvider),e.addSingleton(u.IPythonExtensionChecker,l.PythonExtensionChecker),e.addSingleton(s.IInterpreterService,l.InterpreterService),e.addSingleton(o.IInterpreterSelector,l.InterpreterSelector),e.addSingleton(r.IExtensionSingleActivationService,a.InterpreterStatusBarVisibility),e.addSingleton(c.IWindowsStoreInterpreter,l.WindowsStoreInterpreter),e.addSingleton(u.IPythonDebuggerPathProvider,l.PythonDebuggerPathProvider),e.addSingleton(u.ILanguageServerProvider,l.LanguageServerProvider),e.addSingleton(i.IEnvironmentActivationService,l.EnvironmentActivationService),e.addSingleton(u.IPythonInstaller,l.PythonInstaller)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterStatusBarVisibility=void 0;const o=n(0),s=n(1),a=n(26),c=n(7),l=n(3),u=n(24);let d=class{constructor(e,t,n,r){this.vscNotebook=e,this.disposables=t,this.extensionChecker=n,this.pythonApi=r,this._changed=new s.EventEmitter,this._registered=!1,e.onDidChangeActiveNotebookEditor(()=>{this._changed.fire()},this,t)}async activate(){this.extensionChecker.isPythonExtensionActive?this.registerStatusFilter():this.pythonApi.onDidActivatePythonExtension(this.registerStatusFilter,this,this.disposables)}get changed(){return this._changed.event}get hidden(){return!(!this.vscNotebook.activeNotebookEditor||!u.isJupyterNotebook(this.vscNotebook.activeNotebookEditor.document))}registerStatusFilter(){this._registered||(this._registered=!0,this.pythonApi.getApi().then(e=>{e.registerInterpreterStatusFilter&&(e.registerInterpreterStatusFilter(this),this._changed.fire())}).ignoreErrors())}};d=r([o.injectable(),i(0,o.inject(c.IVSCodeNotebook)),i(1,o.inject(l.IDisposableRegistry)),i(2,o.inject(a.IPythonExtensionChecker)),i(3,o.inject(a.IPythonApiProvider))],d),t.InterpreterStatusBarVisibility=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterService=t.InterpreterSelector=t.EnvironmentActivationService=t.PythonInstaller=t.PythonDebuggerPathProvider=t.WindowsStoreInterpreter=t.LanguageServerProvider=t.PythonExtensionChecker=t.PythonApiProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(309),l=n(192),u=n(3),d=n(19),h=n(10),p=n(9),f=n(5),m=n(130),g=n(8),v=n(26);let y=class{constructor(e,t,n,r){this.extensions=e,this.disposables=t,this.extensionChecker=n,this.workspace=r,this.api=d.createDeferred(),this.didActivatePython=new s.EventEmitter;this.extensionChecker.isPythonExtensionInstalled||this.extensions.onDidChange(async()=>{this.extensionChecker.isPythonExtensionInstalled&&await this.registerHooks()},this,this.disposables),this.disposables.push(this.didActivatePython)}get onDidActivatePythonExtension(){return this.didActivatePython.event}getApi(){return this.init().catch(p.noop),this.api.promise}setApi(e){!this.api.resolved&&this.workspace.isTrusted&&this.api.resolve(e)}async init(){if(this.initialized)return;this.initialized=!0;this.extensions.getExtension(f.PythonExtension)?await this.registerHooks():await this.extensionChecker.showPythonExtensionInstallRequiredPrompt()}async registerHooks(){if(this.hooksRegistered)return;const e=this.extensions.getExtension(f.PythonExtension);e&&(this.hooksRegistered=!0,e.isActive||(await e.activate(),this.didActivatePython.fire()),e.exports.jupyter.registerHooks())}};y=r([o.injectable(),i(0,o.inject(u.IExtensions)),i(1,o.inject(u.IDisposableRegistry)),i(2,o.inject(v.IPythonExtensionChecker)),i(3,o.inject(a.IWorkspaceService))],y),t.PythonApiProvider=y;let b=class{constructor(e,t,n,r){this.extensions=e,this.appShell=t,this.commandManager=n,this.workspace=r,this.isPythonExtensionInstalled||(this.extensionChangeHandler=this.extensions.onDidChange(this.extensionsChangeHandler.bind(this)))}get isPythonExtensionInstalled(){return void 0!==this.extensions.getExtension(f.PythonExtension)}get isPythonExtensionActive(){var e;return!0===(null===(e=this.extensions.getExtension(f.PythonExtension))||void 0===e?void 0:e.isActive)}async showPythonExtensionInstallRequiredPrompt(){if(!this.workspace.isTrusted)return;if(this.waitingOnInstallPrompt)return this.waitingOnInstallPrompt;const e=h.Common.bannerLabelYes(),t=h.Common.bannerLabelNo();g.sendTelemetryEvent(f.Telemetry.PythonExtensionNotInstalled,void 0,{action:"displayed"});await this.appShell.showErrorMessage(h.DataScience.pythonExtensionRequired(),e,t)===e?(g.sendTelemetryEvent(f.Telemetry.PythonExtensionNotInstalled,void 0,{action:"download"}),await this.installPythonExtension()):g.sendTelemetryEvent(f.Telemetry.PythonExtensionNotInstalled,void 0,{action:"dismissed"})}async installPythonExtension(){this.commandManager.executeCommand("extension.open",f.PythonExtension)}async extensionsChangeHandler(){this.isPythonExtensionInstalled&&this.extensionChangeHandler&&(this.extensionChangeHandler.dispose(),this.extensionChangeHandler=void 0,this.appShell.showInformationMessage(h.DataScience.pythonExtensionInstalled(),h.Common.ok()).then(p.noop,p.noop))}};b=r([o.injectable(),i(0,o.inject(u.IExtensions)),i(1,o.inject(a.IApplicationShell)),i(2,o.inject(a.ICommandManager)),i(3,o.inject(a.IWorkspaceService))],b),t.PythonExtensionChecker=b;let _=class{constructor(e){this.apiProvider=e}getLanguageServer(e){return this.apiProvider.getApi().then(t=>t.getLanguageServer(e))}};_=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider))],_),t.LanguageServerProvider=_;let w=class{constructor(e){this.apiProvider=e}isWindowsStoreInterpreter(e){return this.apiProvider.getApi().then(t=>t.isWindowsStoreInterpreter(e))}};w=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider))],w),t.WindowsStoreInterpreter=w;let S=class{constructor(e){this.apiProvider=e}getDebuggerPath(){return this.apiProvider.getApi().then(e=>e.getDebuggerPath())}};S=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider))],S),t.PythonDebuggerPathProvider=S;const E={[u.Product.ipykernel]:v.JupyterProductToInstall.ipykernel,[u.Product.jupyter]:v.JupyterProductToInstall.jupyter,[u.Product.kernelspec]:v.JupyterProductToInstall.kernelspec,[u.Product.nbconvert]:v.JupyterProductToInstall.nbconvert,[u.Product.notebook]:v.JupyterProductToInstall.notebook,[u.Product.pandas]:v.JupyterProductToInstall.pandas};let x=class{constructor(e,t,n){this.apiProvider=e,this.interpreterPackages=t,this.memento=n,this._onInstalled=new s.EventEmitter}get onInstalled(){return this._onInstalled.event}async install(e,t,n,r){t&&!p.isResource(t)&&this.interpreterPackages.trackPackages(t);let i="installed";try{const o=await this.apiProvider.getApi(),s=await o.install(E[e],t,n,r);switch(c.trackPackageInstalledIntoInterpreter(this.memento,e,t).catch(p.noop),s===u.InstallerResponse.Installed&&this._onInstalled.fire({product:e,resource:t}),s){case u.InstallerResponse.Installed:i="installed";break;case u.InstallerResponse.Ignore:i="ignored";break;case u.InstallerResponse.Disabled:i="disabled"}return s}catch(e){throw i="failed",e}finally{g.sendTelemetryEvent(f.Telemetry.PythonModuleInstal,void 0,{action:i,moduleName:l.ProductNames.get(e)})}}async isProductVersionCompatible(e,t,n){return(await this.apiProvider.getApi()).isProductVersionCompatible(e,t,n)}};x=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider)),i(1,o.inject(m.InterpreterPackages)),i(2,o.inject(u.IMemento)),i(2,o.named(u.GLOBAL_MEMENTO))],x),t.PythonInstaller=x;let C=class{constructor(e){this.apiProvider=e}async getActivatedEnvironmentVariables(e,t){return this.apiProvider.getApi().then(n=>n.getActivatedEnvironmentVariables(e,t,!1))}};C=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider))],C),t.EnvironmentActivationService=C;let k=class{constructor(e){this.apiProvider=e}async getSuggestions(e){return this.apiProvider.getApi().then(t=>t.getSuggestions(e))}};k=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider))],k),t.InterpreterSelector=k;let D=class{constructor(e,t,n,r){this.apiProvider=e,this.extensionChecker=t,this.disposables=n,this.workspace=r,this.didChangeInterpreter=new s.EventEmitter,this.workspaceCachedActiveInterpreter=new Map,this.extensionChecker.isPythonExtensionInstalled&&(this.extensionChecker.isPythonExtensionActive||this.apiProvider.onDidActivatePythonExtension(this.hookupOnDidChangeInterpreterEvent,this,this.disposables))}get onDidChangeInterpreter(){return this.hookupOnDidChangeInterpreterEvent(),this.didChangeInterpreter.event}getInterpreters(e){return this.hookupOnDidChangeInterpreterEvent(),this.apiProvider.getApi().then(t=>t.getInterpreters(e))}getActiveInterpreter(e){this.hookupOnDidChangeInterpreterEvent();const t=this.workspace.getWorkspaceFolderIdentifier(e);let n=this.workspaceCachedActiveInterpreter.get(t);return n||(n=this.apiProvider.getApi().then(t=>t.getActiveInterpreter(e)),n&&(this.workspaceCachedActiveInterpreter.set(t,n),n.catch(()=>{this.workspaceCachedActiveInterpreter.get(t)===n&&this.workspaceCachedActiveInterpreter.delete(t)}))),n}async getInterpreterDetails(e,t){this.hookupOnDidChangeInterpreterEvent();try{return await this.apiProvider.getApi().then(n=>n.getInterpreterDetails(e,t))}catch(e){return}}hookupOnDidChangeInterpreterEvent(){this.eventHandlerAdded||this.extensionChecker.isPythonExtensionInstalled&&this.extensionChecker.isPythonExtensionActive&&this.apiProvider.getApi().then(e=>{this.eventHandlerAdded||(this.eventHandlerAdded=!0,e.onDidChangeInterpreter(()=>{this.didChangeInterpreter.fire(),this.workspaceCachedActiveInterpreter.clear()},this,this.disposables))}).catch(p.noop)}};r([g.captureTelemetry(f.Telemetry.InterpreterListingPerf)],D.prototype,"getInterpreters",null),r([g.captureTelemetry(f.Telemetry.ActiveInterpreterListingPerf)],D.prototype,"getActiveInterpreter",null),D=r([o.injectable(),i(0,o.inject(v.IPythonApiProvider)),i(1,o.inject(v.IPythonExtensionChecker)),i(2,o.inject(u.IDisposableRegistry)),i(3,o.inject(a.IWorkspaceService))],D),t.InterpreterService=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(7),i=n(1029),o=n(1031),s=n(1033),a=n(449);t.registerTypes=function(e){e.addSingleton(a.IProductPathService,s.DataScienceProductPathService),e.addSingleton(r.IWebviewPanelProvider,i.WebviewPanelProvider),e.addSingleton(r.IWebviewViewProvider,o.WebviewViewProvider)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewPanelProvider=void 0;const o=n(0),s=n(6),a=n(1),c=n(16),l=n(3),u=n(1030);let d=class{constructor(e,t,n){this.disposableRegistry=e,this.fs=t,this.context=n}async create(e){const t=[a.Uri.file(s.join(this.context.extensionPath,"tmp"))];return Array.isArray(e.additionalPaths)&&t.push(...e.additionalPaths.map(e=>a.Uri.file(e))),new u.WebviewPanel(this.fs,this.disposableRegistry,e,t)}};d=r([o.injectable(),i(0,o.inject(l.IDisposableRegistry)),i(1,o.inject(c.IFileSystem)),i(2,o.inject(l.IExtensionContext))],d),t.WebviewPanelProvider=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewPanel=void 0,n(15);const r=n(1),i=n(450);class o extends i.Webview{get panel(){return this.webviewHost}get panelOptions(){return this.options}constructor(e,t,n,r=[]){super(e,t,n,r)}async show(e){await this.loadPromise,this.panel&&(e?this.panel.visible||this.panel.reveal(this.panel.viewColumn,e):this.panel.active||this.panel.reveal(this.panel.viewColumn,e))}updateCwd(e){}close(){this.panel&&this.panel.dispose()}get viewColumn(){var e;return null===(e=this.panel)||void 0===e?void 0:e.viewColumn}isVisible(){return!!this.panel&&this.panel.visible}isActive(){return!!this.panel&&this.panel.active}setTitle(e){this.panelOptions.title=e,this.panel&&(this.panel.title=e)}createWebview(e){return r.window.createWebviewPanel(this.panelOptions.title.toLowerCase().replace(" ",""),this.panelOptions.title,{viewColumn:this.panelOptions.viewColumn,preserveFocus:!0},{retainContextWhenHidden:!0,enableFindWidget:!0,...e})}postLoad(e){this.disposableRegistry.push(e.onDidDispose(()=>{this.webviewHost=void 0,this.panelOptions.listener.dispose().ignoreErrors()})),this.disposableRegistry.push(e.webview.onDidReceiveMessage(e=>{this.panelOptions.listener.onMessage(e.type,e.payload)})),this.disposableRegistry.push(e.onDidChangeViewState(e=>{this.panelOptions.listener.onChangeViewState(this)})),this.panelOptions.listener.onChangeViewState(this)}}t.WebviewPanel=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewViewProvider=void 0;const o=n(0),s=n(16),a=n(3),c=n(1032);let l=class{constructor(e,t){this.disposableRegistry=e,this.fs=t}async create(e){return new c.WebviewView(this.fs,this.disposableRegistry,e)}};l=r([o.injectable(),i(0,o.inject(a.IDisposableRegistry)),i(1,o.inject(s.IFileSystem))],l),t.WebviewViewProvider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewView=void 0,n(15);const r=n(1),i=n(450);class o extends i.Webview{constructor(e,t,n,i=[]){super(e,t,n,i),this.panelOptions=n,this._onDidChangeVisibility=new r.EventEmitter}get visible(){return!!this.webviewHost&&this.webviewHost.visible}get onDidChangeVisiblity(){return this._onDidChangeVisibility.event}createWebview(e){throw new Error("Webview Views must be passed in an initial view")}postLoad(e){this.disposableRegistry.push(e.onDidDispose(()=>{this.webviewHost=void 0,this.panelOptions.listener.dispose().ignoreErrors()})),this.disposableRegistry.push(e.webview.onDidReceiveMessage(e=>{this.panelOptions.listener.onMessage(e.type,e.payload)})),this.disposableRegistry.push(e.onDidChangeVisibility(()=>{this._onDidChangeVisibility.fire()})),this._onDidChangeVisibility.fire()}}t.WebviewView=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceProductPathService=t.BaseProductPathsService=void 0;const o=n(0),s=n(6),a=n(40),c=n(3);let l=class{constructor(e){this.serviceContainer=e,this.configService=e.get(c.IConfigurationService),this.productInstaller=e.get(c.IInstaller)}isExecutableAModule(e,t){if(e===c.Product.kernelspec)return!1;let n;try{n=this.productInstaller.translateProductToModuleName(e,c.ModuleNamePurpose.run)}catch(e){}const r=this.getExecutableNameFromSettings(e,t);return"string"==typeof n&&n.length>0&&s.basename(r)===r}};l=r([o.injectable(),i(0,o.inject(a.IServiceContainer))],l),t.BaseProductPathsService=l;let u=class extends l{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.productInstaller.translateProductToModuleName(e,c.ModuleNamePurpose.run)}};u=r([o.injectable(),i(0,o.inject(a.IServiceContainer))],u),t.DataScienceProductPathService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(1035),i=n(16);t.registerTypes=function(e){e.addSingleton(i.IPlatformService,r.PlatformService)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformService=void 0;const i=n(0),o=n(28),s=n(108),a=n(8),c=n(86),l=n(129),u=n(1036),d=n(284);let h=class{constructor(){this.osType=l.getOSType(),this.osType===l.OSType.Unknown&&a.sendTelemetryEvent(c.EventName.PLATFORM_INFO,void 0,{failureType:c.PlatformErrors.FailedToDetermineOS})}get pathVariableName(){return this.isWindows?d.WINDOWS_PATH_VARIABLE_NAME:d.NON_WINDOWS_PATH_VARIABLE_NAME}get virtualEnvBinName(){return this.isWindows?"Scripts":"bin"}async getVersion(){if(this.version)return this.version;switch(this.osType){case l.OSType.Windows:case l.OSType.OSX:try{const e=s.coerce(o.release());if(e)return a.sendTelemetryEvent(c.EventName.PLATFORM_INFO,void 0,{osVersion:`${e.major}.${e.minor}.${e.patch}`}),this.version=e;throw new Error("Unable to parse version")}catch(e){return a.sendTelemetryEvent(c.EventName.PLATFORM_INFO,void 0,{failureType:c.PlatformErrors.FailedToParseVersion}),u.parseVersion(o.release())}default:throw new Error("Not Supported")}}get isWindows(){return this.osType===l.OSType.Windows}get isMac(){return this.osType===l.OSType.OSX}get isLinux(){return this.osType===l.OSType.Linux}get osRelease(){return o.release()}get is64bit(){return"x64"===n(1037)()}};h=r([i.injectable()],h),t.PlatformService=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseVersion=void 0;const r=n(108);t.parseVersion=function(e){e=e.replace(/\.00*(?=[1-9]|0\.)/,".");const t=r.coerce(e);return null!==t&&r.valid(t)?t:new r.SemVer("0.0.0")}},function(e,t,n){var r=n(184),i=n(25),o=n(6);e.exports=function(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var e=!1;try{e=!(!process.env.SYSTEMROOT||!i.statSync(process.env.SYSTEMROOT))}catch(e){}var t=e?process.env.SYSTEMROOT:"C:\\Windows",n=!1;try{n=!!i.statSync(o.join(t,"sysnative"))}catch(e){}return n?"x64":"x86"}return"linux"===process.platform&&"64\n"===r.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(1039),i=n(1058),o=n(1060),s=n(39);t.registerTypes=function(e){e.addSingleton(s.IBufferDecoder,r.BufferDecoder),e.addSingleton(s.IProcessServiceFactory,i.ProcessServiceFactory),e.addSingleton(s.IPythonExecutionFactory,o.PythonExecutionFactory)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecoder=void 0;const i=n(1040),o=n(0),s=n(453);let a=class{decode(e,t=s.DEFAULT_ENCODING){return t=i.encodingExists(t)?t:s.DEFAULT_ENCODING,i.decode(Buffer.concat(e),t)}};a=r([o.injectable()],a),t.BufferDecoder=a},function(e,t,n){"use strict";var r=n(63).Buffer,i=n(1041),o=e.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,n){e=""+(e||"");var i=o.getEncoder(t,n),s=i.write(e),a=i.end();return a&&a.length>0?r.concat([s,a]):s},o.decode=function(e,t,n){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=r.from(""+(e||""),"binary"));var i=o.getDecoder(t,n),s=i.write(e),a=i.end();return a?s+a:s},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=n(1042));for(var t=o._canonicalizeEncoding(e),r={};;){var i=o._codecDataCache[t];if(i)return i;var s=o.encodings[t];switch(typeof s){case"string":t=s;break;case"object":for(var a in s)r[a]=s[a];r.encodingName||(r.encodingName=t),t=s.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new s(r,o),o._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var n=o.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new i.PrependBOM(r,t)),r},o.getDecoder=function(e,t){var n=o.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new i.StripBOM(r,t)),r};var s="undefined"!=typeof process&&process.versions&&process.versions.node;if(s){var a=s.split(".").map(Number);(a[0]>0||a[1]>=10)&&n(1056)(o),n(1057)(o)}},function(e,t,n){"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function i(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=i,i.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},i.prototype.end=function(){return this.decoder.end()}},function(e,t,n){"use strict";for(var r=[n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050)],i=0;i<r.length;i++){e=r[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=l,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(212).StringDecoder;function s(e,t){o.call(this,t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function l(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype=o.prototype,a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},l.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=192+(o>>>6),t[n++]=128+(63&o)):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63),t[n++]=128+(63&o))}return t.slice(0,n)},l.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,n=1,r=1):s<240?(t=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&s,r++,0===--n&&(i+=2===r&&t<128&&t>0||3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function l(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var n=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])n="utf-16be";else if(255==e[0]&&254==e[1])n="utf-16le";else{for(var r=0,i=0,o=Math.min(e.length-e.length%2,64),s=0;s<o;s+=2)0===e[s]&&0!==e[s+1]&&i++,0!==e[s]&&0===e[s+1]&&r++;i>r?n="utf-16be":i<r&&(n="utf-16le")}return n}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=l,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var t=u(e=r.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=r.concat(this.initialBytes),t=u(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var n=this.decoder.write(e),i=this.decoder.end();return i?n+i:n}return this.decoder.end()}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return r.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,l=[],u=0;u<256;u++)l[u]=c.test(String.fromCharCode(u));var d="+".charCodeAt(0),h="-".charCodeAt(0),p="&".charCodeAt(0);function f(e,t){this.iconv=t}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!l[e[s]]){if(s==n&&e[s]==h)t+="+";else{var a=o+e.slice(n,s).toString();t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=h&&s--,n=s+1,i=!1,o=""}}else e[s]==d&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+e.slice(n).toString()).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=m,f.prototype.decoder=g,f.prototype.bomAware=!0,m.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=h,t=!1),t||(o[s++]=c,c===p&&(o[s++]=h))):(t||(o[s++]=p,t=!0),t&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},m.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=h,this.inBase64=!1),e.slice(0,t)};var v=l.slice();v[",".charCodeAt(0)]=!0,g.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!v[e[s]]){if(s==n&&e[s]==h)t+="&";else{var a=o+e.slice(n,s).toString().replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=h&&s--,n=s+1,i=!1,o=""}}else e[s]==p&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+e.slice(n).toString().replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},g.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");var o=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],n[o=2*s]=t[i],n[o+1]=t[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},function(e,t,n){"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(e,t,n){"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(e,t,n){"use strict";var r=n(63).Buffer;t._dbcs=s;for(var i=new Array(256),o=0;o<256;o++)i[o]=-1;function s(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=i.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var o={};if(e.encodeSkipVals)for(r=0;r<e.encodeSkipVals.length;r++){var s=e.encodeSkipVals[r];if("number"==typeof s)o[s]=!0;else for(var a=s.from;a<=s.to;a++)o[a]=!0}if(this._fillEncodeTable(0,0,o),e.encodeAdd)for(var c in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,c)&&this._setEncodeChar(c.charCodeAt(0),e.encodeAdd[c]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();var l=this.decodeTables.length,u=this.decodeTables[l]=i.slice(0),d=this.decodeTables.length,h=this.decodeTables[d]=i.slice(0);for(r=129;r<=254;r++){var p=-1e3-this.decodeTables[0][r],f=this.decodeTables[p];for(a=48;a<=57;a++)f[a]=-1e3-l}for(r=129;r<=254;r++)u[r]=-1e3-d;for(r=48;r<=57;r++)h[r]=-2}}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function c(e,t){this.nodeIdx=0,this.prevBuf=r.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function l(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var i=n+Math.floor((r-n+1)/2);e[i]<=t?n=i:r=i}return n}s.prototype.encoder=a,s.prototype.decoder=c,s.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var o=n[t[r]];if(-1==o)n[t[r]]=-1e3-this.decodeTables.length,this.decodeTables.push(n=i.slice(0));else{if(!(o<=-1e3))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[-1e3-o]}}return n},s.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(!(56320<=a&&a<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(s-55296)+(a-56320)}else if(4080<s&&s<=4095){for(var c=4095-s+2,l=[],u=0;u<c;u++)l.push(i.charCodeAt(o++));n[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else n[t++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var d=n[t-1]+1;for(o=0;o<i;o++)n[t++]=d++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},s.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=i.slice(0)),this.encodeTable[t]},s.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=t:-1==n[r]&&(n[r]=t)},s.prototype._setEncodeSequence=function(e,t){var n,r=e[0],i=this._getEncodeBucket(r),o=255&r;i[o]<=-10?n=this.encodeTableSeq[-10-i[o]]:(n={},-1!==i[o]&&(n[-1]=i[o]),i[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var s=1;s<e.length-1;s++){var a=n[r];"object"==typeof a?n=a:(n=n[r]={},void 0!==a&&(n[-1]=a))}n[r=e[e.length-1]]=t},s.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=0;i<256;i++){var o=r[i],s=t+i;n[s]||(o>=0?this._setEncodeChar(o,s):o<=-1e3?this._fillEncodeTable(-1e3-o,s<<8,n):o<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-o],s))}},a.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,i=this.seqObj,o=-1,s=0,a=0;;){if(-1===o){if(s==e.length)break;var c=e.charCodeAt(s++)}else{c=o;o=-1}if(55296<=c&&c<57344)if(c<56320){if(-1===n){n=c;continue}n=c,c=-1}else-1!==n?(c=65536+1024*(n-55296)+(c-56320),n=-1):c=-1;else-1!==n&&(o=c,c=-1,n=-1);var u=-1;if(void 0!==i&&-1!=c){var d=i[c];if("object"==typeof d){i=d;continue}"number"==typeof d?u=d:null==d&&void 0!==(d=i[-1])&&(u=d,o=c),i=void 0}else if(c>=0){var h=this.encodeTable[c>>8];if(void 0!==h&&(u=h[255&c]),u<=-10){i=this.encodeTableSeq[-10-u];continue}if(-1==u&&this.gb18030){var p=l(this.gb18030.uChars,c);if(-1!=p){u=this.gb18030.gbChars[p]+(c-this.gb18030.uChars[p]);t[a++]=129+Math.floor(u/12600),u%=12600,t[a++]=48+Math.floor(u/1260),u%=1260,t[a++]=129+Math.floor(u/10),u%=10,t[a++]=48+u;continue}}}-1===u&&(u=this.defaultCharSingleByte),u<256?t[a++]=u:u<65536?(t[a++]=u>>8,t[a++]=255&u):(t[a++]=u>>16,t[a++]=u>>8&255,t[a++]=255&u)}return this.seqObj=i,this.leadSurrogate=n,t.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=l,c.prototype.write=function(e){var t=r.alloc(2*e.length),n=this.nodeIdx,i=this.prevBuf,o=this.prevBuf.length,s=-this.prevBuf.length;o>0&&(i=r.concat([i,e.slice(0,10)]));for(var a=0,c=0;a<e.length;a++){var u,d=a>=0?e[a]:i[a+o];if((u=this.decodeTables[n][d])>=0);else if(-1===u)a=s,u=this.defaultCharUnicode.charCodeAt(0);else if(-2===u){var h=s>=0?e.slice(s,a+1):i.slice(s+o,a+1+o),p=12600*(h[0]-129)+1260*(h[1]-48)+10*(h[2]-129)+(h[3]-48),f=l(this.gb18030.gbChars,p);u=this.gb18030.uChars[f]+p-this.gb18030.gbChars[f]}else{if(u<=-1e3){n=-1e3-u;continue}if(!(u<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+u+" at "+n+"/"+d);for(var m=this.decodeTableSeq[-10-u],g=0;g<m.length-1;g++)u=m[g],t[c++]=255&u,t[c++]=u>>8;u=m[m.length-1]}if(u>65535){u-=65536;var v=55296+Math.floor(u/1024);t[c++]=255&v,t[c++]=v>>8,u=56320+u%1024}t[c++]=255&u,t[c++]=u>>8,n=0,s=a+1}return this.nodeIdx=n,this.prevBuf=s>=0?e.slice(s):i.slice(s+o),t.slice(0,c).toString("ucs2")},c.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=r.alloc(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e}},function(e,t,n){"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(1051)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(1052)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(310)}},gbk:{type:"_dbcs",table:function(){return n(310).concat(n(451))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(310).concat(n(451))},gb18030:function(){return n(1053)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(1054)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(452)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(452).concat(n(1055))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(e){e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},function(e){e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},function(e){e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},function(e,t,n){"use strict";var r=n(84).Buffer,i=n(17).Transform;function o(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,i.call(this,t)}function s(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",i.call(this,t)}e.exports=function(e){e.encodeStream=function(t,n){return new o(e.getEncoder(t,n),n)},e.decodeStream=function(t,n){return new s(e.getDecoder(t,n),n)},e.supportsStreams=!0,e.IconvLiteEncoderStream=o,e.IconvLiteDecoderStream=s,e._collect=s.prototype.collect},o.prototype=Object.create(i.prototype,{constructor:{value:o}}),o.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},o.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},o.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,r.concat(t))})),this},s.prototype=Object.create(i.prototype,{constructor:{value:s}}),s.prototype._transform=function(e,t,n){if(!r.isBuffer(e))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},s.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},s.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this}},function(e,t,n){"use strict";var r=n(84).Buffer;e.exports=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(r.from||new r(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var i={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};r.isNativeEncoding=function(e){return e&&i[e.toLowerCase()]};var o=n(84).SlowBuffer;if(t.SlowBufferToString=o.prototype.toString,o.prototype.toString=function(n,i,o){return n=String(n||"utf8").toLowerCase(),r.isNativeEncoding(n)?t.SlowBufferToString.call(this,n,i,o):(void 0===i&&(i=0),void 0===o&&(o=this.length),e.decode(this.slice(i,o),n))},t.SlowBufferWrite=o.prototype.write,o.prototype.write=function(n,i,o,s){if(isFinite(i))isFinite(o)||(s=o,o=void 0);else{var a=s;s=i,i=o,o=a}i=+i||0;var c=this.length-i;if(o?(o=+o)>c&&(o=c):o=c,s=String(s||"utf8").toLowerCase(),r.isNativeEncoding(s))return t.SlowBufferWrite.call(this,n,i,o,s);if(n.length>0&&(o<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var l=e.encode(n,s);return l.length<o&&(o=l.length),l.copy(this,i,0,o),o},t.BufferIsEncoding=r.isEncoding,r.isEncoding=function(t){return r.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=r.byteLength,r.byteLength=o.byteLength=function(n,i){return i=String(i||"utf8").toLowerCase(),r.isNativeEncoding(i)?t.BufferByteLength.call(this,n,i):e.encode(n,i).length},t.BufferToString=r.prototype.toString,r.prototype.toString=function(n,i,o){return n=String(n||"utf8").toLowerCase(),r.isNativeEncoding(n)?t.BufferToString.call(this,n,i,o):(void 0===i&&(i=0),void 0===o&&(o=this.length),e.decode(this.slice(i,o),n))},t.BufferWrite=r.prototype.write,r.prototype.write=function(n,i,o,s){var a=i,c=o,l=s;if(isFinite(i))isFinite(o)||(s=o,o=void 0);else{var u=s;s=i,i=o,o=u}if(s=String(s||"utf8").toLowerCase(),r.isNativeEncoding(s))return t.BufferWrite.call(this,n,a,c,l);i=+i||0;var d=this.length-i;if(o?(o=+o)>d&&(o=d):o=d,n.length>0&&(o<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var h=e.encode(n,s);return h.length<o&&(o=h.length),h.copy(this,i,0,o),o},e.supportsStreams){var s=n(17).Readable;t.ReadableSetEncoding=s.prototype.setEncoding,s.prototype.setEncoding=function(t,n){this._readableState.decoder=e.getDecoder(t,n),this._readableState.encoding=t},s.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete r.isNativeEncoding;var i=n(84).SlowBuffer;if(i.prototype.toString=t.SlowBufferToString,i.prototype.write=t.SlowBufferWrite,r.isEncoding=t.BufferIsEncoding,r.byteLength=t.BufferByteLength,r.prototype.toString=t.BufferToString,r.prototype.write=t.BufferWrite,e.supportsStreams){var o=n(17).Readable;o.prototype.setEncoding=t.ReadableSetEncoding,delete o.prototype.collect}t=void 0}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessServiceFactory=void 0;const o=n(0),s=n(7),a=n(3),c=n(144),l=n(311),u=n(39);let d=class{constructor(e,t,n,r,i){this.envVarsService=e,this.processLogger=t,this.decoder=n,this.disposableRegistry=r,this.workspace=i}async create(e){if(!this.workspace.isTrusted)throw new Error("Workspace not trusted");const t=await this.envVarsService.getEnvironmentVariables(e),n=new l.ProcessService(this.decoder,t);return this.disposableRegistry.push(n),n.on("exec",this.processLogger.logProcess.bind(this.processLogger))}};d=r([o.injectable(),i(0,o.inject(c.IEnvironmentVariablesProvider)),i(1,o.inject(u.IProcessLogger)),i(2,o.inject(u.IBufferDecoder)),i(3,o.inject(a.IDisposableRegistry)),i(4,o.inject(s.IWorkspaceService))],d),t.ProcessServiceFactory=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(345);t.Observable=r.Observable},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonExecutionFactory=t.CONDA_RUN_VERSION=void 0;const o=n(0),s=n(16),a=n(146),c=n(33),l=n(448),u=n(40),d=n(8),h=n(86),p=n(7),f=n(4),m=n(16),g=n(3),v=n(311),y=n(455),b=n(1069),_=n(1070),w=n(1072),S=n(39);t.CONDA_RUN_VERSION="4.6.0";let E=class{constructor(e,t,n,r,i,o,s,a){this.serviceContainer=e,this.activationHelper=t,this.processServiceFactory=n,this.decoder=r,this.windowsStoreInterpreter=i,this.platformService=o,this.interpreterService=s,this.workspace=a,this.daemonsPerPythonService=new Map,this.disposables=this.serviceContainer.get(g.IDisposableRegistry),this.logger=this.serviceContainer.get(S.IProcessLogger),this.fileSystem=this.serviceContainer.get(m.IFileSystem)}async create(e){const t=e.pythonPath?e.pythonPath:await this.getPythonPath(e.resource),n=await this.processServiceFactory.create(e.resource);return n.on("exec",this.logger.logProcess.bind(this.logger)),x(t,n,this.fileSystem,void 0,await this.windowsStoreInterpreter.isWindowsStoreInterpreter(t))}async createDaemon(e){const t=e.pythonPath?e.pythonPath:await this.getPythonPath(e.resource),n=`${t}#${e.daemonClass||""}#${e.daemonModule||""}`,r=this.serviceContainer.tryGet(c.IInterpreterService),i=r?await r.getInterpreterDetails(t,e.resource):void 0,o=this.createActivatedEnvironment({allowEnvironmentFetchExceptions:!0,interpreter:i,resource:e.resource,bypassCondaExecution:!0});if(!r||(null==i?void 0:i.version)&&i.version.major<3)return o;const s=async()=>{const[n,r]=await Promise.all([o,this.activationHelper.getActivatedEnvironmentVariables(e.resource,i,!0)]);if(S.isDaemonPoolCreationOption(e)){f.traceInfo(`Creating daemon pool for ${t} with env variables count ${Object.keys(r||{}).length}`);const i=new b.PythonDaemonExecutionServicePool(this.logger,this.disposables,{...e,pythonPath:t},n,this.platformService,r);return await i.initialize(),this.disposables.push(i),i}f.traceInfo(`Creating daemon process for ${t} with env variables count ${Object.keys(r||{}).length}`);return new y.PythonDaemonFactory(this.disposables,{...e,pythonPath:t},n,this.platformService,r).createDaemonService()};let a;return S.isDaemonPoolCreationOption(e)?(a=this.daemonsPerPythonService.get(n),a||(a=s(),this.daemonsPerPythonService.set(n,a))):a=s(),a.catch(e=>(f.traceError("Failed to create the daemon service, defaulting to activated environment",e),this.daemonsPerPythonService.delete(n),o))}async createActivatedEnvironment(e){if(!this.workspace.isTrusted)throw new Error("Workspace not trusted");const t=await this.activationHelper.getActivatedEnvironmentVariables(e.resource,e.interpreter,e.allowEnvironmentFetchExceptions),n=t&&Object.keys(t).length>0;if(d.sendTelemetryEvent(h.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,void 0,{hasEnvVars:n}),!n)return this.create({resource:e.resource,pythonPath:e.interpreter?e.interpreter.path:void 0});const r=e.interpreter?e.interpreter.path:await this.getPythonPath(e.resource),i=new v.ProcessService(this.decoder,{...t});return i.on("exec",this.logger.logProcess.bind(this.logger)),this.disposables.push(i),x(r,i,this.fileSystem)}async getPythonPath(e){var t;const n=await this.interpreterService.getActiveInterpreter(e);return null!==(t=null==n?void 0:n.path)&&void 0!==t?t:"python"}};function x(e,t,n,r,i){let o=_.createPythonEnv(e,t,n);if(r){const[i,s]=r;o=_.createCondaEnv(i,s,e,t,n)}else i&&(o=_.createWindowsStoreEnv(e,t));const s=w.createPythonProcessService(t,o);return{getInterpreterInformation:()=>o.getInterpreterInformation(),getExecutablePath:()=>o.getExecutablePath(),isModuleInstalled:e=>o.isModuleInstalled(e),getExecutionInfo:e=>o.getExecutionInfo(e),execObservable:(e,t)=>s.execObservable(e,t),execModuleObservable:(e,t,n)=>s.execModuleObservable(e,t,n),exec:(e,t)=>s.exec(e,t),execModule:(e,t,n)=>s.execModule(e,t,n)}}E=r([o.injectable(),i(0,o.inject(u.IServiceContainer)),i(1,o.inject(a.IEnvironmentActivationService)),i(2,o.inject(S.IProcessServiceFactory)),i(3,o.inject(S.IBufferDecoder)),i(4,o.inject(l.IWindowsStoreInterpreter)),i(5,o.inject(s.IPlatformService)),i(6,o.inject(c.IInterpreterService)),i(7,o.inject(p.IWorkspaceService))],E),t.PythonExecutionFactory=E},function(e,t,n){"use strict";e.exports=n(193)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(117),i=n(18),o=n(456),s=n(1063);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),o.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),o.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),o.Disposable.create(()=>this.stream.off("data",e))}}class l{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),o.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),o.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)})}end(){this.stream.end()}}const u=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new l(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function d(){return u}!function(e){e.install=function(){r.default.install(u)}}(d||(d={})),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,s=this.toString(i,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(117),i=n(194),o=n(195);var s;!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(i.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){var t;let n,i;const o=new Map;let s;const a=new Map;if(void 0===e||"string"==typeof e)n=null!=e?e:"utf-8";else{if(n=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(s=e.contentTypeDecoder,a.set(s.name,s)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)a.set(t.name,t)}return void 0===s&&(s=r.default().applicationJson.decoder,a.set(s.name,s)),{charset:n,contentDecoder:i,contentDecoders:o,contentTypeDecoder:s,contentTypeDecoders:a}}}(s||(s={}));t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=r.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData(e=>{this.onData(e)});return this.readable.onError(e=>this.fireError(e)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then(e=>{this.options.contentTypeDecoder.decode(e,this.options).then(e=>{this.callback(e)},e=>{this.fireError(e)})},e=>{this.fireError(e)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(r.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=r.default().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(117),i=n(194),o=n(1066),s=n(195);var a;!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(i.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){var t,n;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:r.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:r.default().applicationJson.encoder}}}(a||(a={}));t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError(e=>this.fireError(e)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e).then(t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)},e=>{throw this.fireError(e),e}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(117);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&r.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then(t=>{this._active--,e.resolve(t),this.runNext()},t=>{this._active--,e.reject(t),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const r=n(117),i=n(194),o=n(458),s=n(1068),a=n(195),c=n(459);var l,u,d,h,p,f,m,g,v,y,b,_,w;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(l||(l={})),function(e){e.type=new o.NotificationType("$/progress")}(u||(u={}));t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(d||(d={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class S extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,S.prototype)}}t.ConnectionError=S,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(v=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(y=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(l.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(b=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:y.Message,sender:b.Message}),e.is=function(e){const t=e;return t&&y.is(t.receiver)&&b.is(t.sender)}}(_=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||v.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(w||(w={})),t.createMessageConnection=function(e,n,v,y){const b=void 0!==v?v:t.NullLogger;let E=0,x=0,C=0,k=void 0;const D=Object.create(null);let T=void 0;const I=Object.create(null),M=new Map;let P,j,L=new s.LinkedMap,O=Object.create(null),A=Object.create(null),N=h.Off,R=p.Text,F=w.New;const B=new a.Emitter,U=new a.Emitter,Y=new a.Emitter,W=new a.Emitter,H=new a.Emitter,V=y&&y.cancellationStrategy?y.cancellationStrategy:_.Message;function K(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function q(e,t){var n;o.isRequestMessage(t)?e.set(K(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++x).toString(),t)}function J(e){}function $(){return F===w.Listening}function z(){return F===w.Closed}function G(){return F===w.Disposed}function Q(){F!==w.New&&F!==w.Listening||(F=w.Closed,U.fire(void 0))}function X(){P||0===L.size||(P=r.default().timer.setImmediate(()=>{P=void 0,function(){if(0===L.size)return;const e=L.shift();try{o.isRequestMessage(e)?function(e){if(G())return;function t(t,r,i){const s={jsonrpc:"2.0",id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,ee(s,r,i),n.write(s)}function r(t,r,i){const o={jsonrpc:"2.0",id:e.id,error:t.toJson()};ee(o,r,i),n.write(o)}!function(e){if(N===h.Off||!j)return;if(R===p.Text){let t=void 0;N===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),j.log(`Received request '${e.method} - (${e.id})'.`,t)}else te("receive-request",e)}(e);const s=D[e.method];let a,c;s&&(a=s.type,c=s.handler);const l=Date.now();if(c||k){const s=String(e.id),u=V.receiver.createCancellationTokenSource(s);A[s]=u;try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but recevied none.`),e.method,l);d=c(u.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,l);d=c(...e.params,u.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,l);d=c(e.params,u.token)}else k&&(d=k(e.method,e.params,u.token));const h=d;d?h.then?h.then(n=>{delete A[s],t(n,e.method,l)},t=>{delete A[s],t instanceof o.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}):(delete A[s],t(d,e.method,l)):(delete A[s],function(t,r,i){void 0===t&&(t=null);const o={jsonrpc:"2.0",id:e.id,result:t};ee(o,r,i),n.write(o)}(d,e.method,l))}catch(n){delete A[s],n instanceof o.ResponseError?t(n,e.method,l):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,l)}(e):o.isNotificationMessage(e)?function(e){if(G())return;let t,n=void 0;if(e.method===l.type.method)t=e=>{const t=e.id,n=A[String(t)];n&&n.cancel()};else{const r=I[e.method];r&&(t=r.handler,n=r.type)}if(t||T)try{!function(e){if(N===h.Off||!j||e.method===m.type.method)return;if(R===p.Text){let t=void 0;N===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),j.log(`Received notification '${e.method}'.`,t)}else te("receive-notification",e)}(e),t?void 0===e.params?(void 0!==n&&0!==n.numberOfParams&&n.parameterStructures!==o.ParameterStructures.byName&&b.error(`Notification ${e.method} defines ${n.numberOfParams} params but recevied none.`),t()):Array.isArray(e.params)?(void 0!==n&&(n.parameterStructures===o.ParameterStructures.byName&&b.error(`Notification ${e.method} defines parameters by name but received parameters by position`),n.numberOfParams!==e.params.length&&b.error(`Notification ${e.method} defines ${n.numberOfParams} params but received ${e.params.length} argumennts`)),t(...e.params)):(void 0!==n&&n.parameterStructures===o.ParameterStructures.byPosition&&b.error(`Notification ${e.method} defines parameters by position but received parameters by name`),t(e.params)):T&&T(e.method,e.params)}catch(t){t.message?b.error(`Notification handler '${e.method}' failed with message: ${t.message}`):b.error(`Notification handler '${e.method}' failed unexpectedly.`)}else Y.fire(e)}(e):o.isResponseMessage(e)?function(e){if(G())return;if(null===e.id)e.error?b.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):b.error("Received response message without id. No further error information provided.");else{const t=String(e.id),n=O[t];if(function(e,t){if(N===h.Off||!j)return;if(R===p.Text){let n=void 0;if(N===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";j.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else j.log(`Received response ${e.id} without active response promise.`,n)}else te("receive-response",e)}(e,n),n){delete O[t];try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?b.error(`Response handler '${n.method}' failed with message: ${e.message}`):b.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void b.error("Received empty message.");b.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));const t=e;if(i.string(t.id)||i.number(t.id)){const e=String(t.id),n=O[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{X()}}()}))}e.onClose(Q),e.onError((function(e){B.fire([e,void 0,void 0])})),n.onClose(Q),n.onError((function(e){B.fire(e)}));const Z=e=>{try{if(o.isNotificationMessage(e)&&e.method===l.type.method){const t=K(e.params.id),r=L.get(t);if(o.isRequestMessage(r)){const i=null==y?void 0:y.connectionStrategy,o=i&&i.cancelUndispatched?i.cancelUndispatched(r,J):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return L.delete(t),o.id=r.id,ee(o,e.method,Date.now()),void n.write(o)}}q(L,e)}finally{X()}};function ee(e,t,n){if(N!==h.Off&&j)if(R===p.Text){let r=void 0;N===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),j.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else te("send-response",e)}function te(e,t){if(!j||N===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};j.log(n)}function ne(){if(z())throw new S(g.Closed,"Connection is closed.");if(G())throw new S(g.Disposed,"Connection is disposed.")}function re(e){return void 0===e?null:e}function ie(e){return null===e?void 0:e}function oe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function se(e,t){switch(e){case o.ParameterStructures.auto:return oe(t)?ie(t):[re(t)];case o.ParameterStructures.byName:if(!oe(t))throw new Error("Recevied parameters by name but param is not an object literal.");return ie(t);case o.ParameterStructures.byPosition:return[re(t)];default:throw new Error("Unknown parameter structure "+e.toString())}}function ae(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=se(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(re(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ce={sendNotification:(e,...t)=>{let r,s;if(ne(),i.string(e)){r=e;const n=t[0];let i=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,a=n);let c=t.length;const l=c-i;switch(l){case 0:s=void 0;break;case 1:s=se(a,t[i]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Recevied ${l} parameters for 'by Name' notification parameter structure.`);s=t.slice(i,c).map(e=>re(e))}}else{const n=t;r=e.method,s=ae(e,n)}const a={jsonrpc:"2.0",method:r,params:s};!function(e){if(N!==h.Off&&j)if(R===p.Text){let t=void 0;N===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),j.log(`Sending notification '${e.method}'.`,t)}else te("send-notification",e)}(a),n.write(a)},onNotification:(e,t)=>{let n;return ne(),i.func(e)?T=e:t&&(i.string(e)?(n=e,I[e]={type:void 0,handler:t}):(n=e.method,I[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==n?delete I[n]:T=void 0}}},onProgress:(e,t,n)=>{if(M.has(t))throw new Error(`Progress handler for token ${t} already registered`);return M.set(t,n),{dispose:()=>{M.delete(t)}}},sendProgress:(e,t,n)=>{ce.sendNotification(u.type,{token:t,value:n})},onUnhandledProgress:W.event,sendRequest:(e,...t)=>{let r,s;ne(),function(){if(!$())throw new Error("Call listen() first.")}();let a=void 0;if(i.string(e)){r=e;const n=t[0],i=t[t.length-1];let l=0,u=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(l=1,u=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,a=i);const h=d-l;switch(h){case 0:s=void 0;break;case 1:s=se(u,t[l]);break;default:if(u===o.ParameterStructures.byName)throw new Error(`Recevied ${h} parameters for 'by Name' request parameter structure.`);s=t.slice(l,d).map(e=>re(e))}}else{const n=t;r=e.method,s=ae(e,n);const i=e.numberOfParams;a=c.CancellationToken.is(n[i])?n[i]:void 0}const l=E++;let u;a&&(u=a.onCancellationRequested(()=>{V.sender.sendCancellation(ce,l)}));return new Promise((e,t)=>{const i={jsonrpc:"2.0",id:l,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),V.sender.cleanup(l),null==u||u.dispose()},reject:e=>{t(e),V.sender.cleanup(l),null==u||u.dispose()}};!function(e){if(N!==h.Off&&j)if(R===p.Text){let t=void 0;N===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),j.log(`Sending request '${e.method} - (${e.id})'.`,t)}else te("send-request",e)}(i);try{n.write(i)}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&(O[String(l)]=a)})},onRequest:(e,t)=>{ne();let n=null;return d.is(e)?(n=void 0,k=e):i.string(e)?(n=null,void 0!==t&&(n=e,D[e]={handler:t,type:void 0})):void 0!==t&&(n=e.method,D[e.method]={type:e,handler:t}),{dispose:()=>{null!==n&&(void 0!==n?delete D[n]:k=void 0)}}},trace:(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),N=e,R=o,j=N===h.Off?void 0:t,!r||z()||G()||ce.sendNotification(f.type,{value:h.toString(e)})},onError:B.event,onClose:U.event,onUnhandledNotification:Y.event,onDispose:H.event,end:()=>{n.end()},dispose:()=>{if(G())return;F=w.Disposed,H.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(O).forEach(e=>{O[e].reject(t)}),O=Object.create(null),A=Object.create(null),L=new s.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{ne(),function(){if($())throw new S(g.AlreadyListening,"Connection is already listening")}(),F=w.Listening,e.listen(Z)},inspect:()=>{r.default().console.log("inspect")}};return ce.onNotification(m.type,e=>{N!==h.Off&&j&&j.log(e.message,N===h.Verbose?e.verbose:void 0)}),ce.onNotification(u.type,e=>{const t=M.get(e.token);t?t(e.value):W.fire(e)}),ce}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class i{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=i;t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDaemonExecutionServicePool=void 0;const r=n(19),i=n(9),o=n(32),s=n(311),a=n(460),c=n(455),l=n(39);class u extends c.PythonDaemonFactory{constructor(e,t,n,r,i,o,s=1e3){super(t,n,r,i,o),this.logger=e,this.timeoutWaitingForDaemon=s,this.daemons=[],this.observableDaemons=[],this._disposed=!1,this.disposables.push(this)}async initialize(){var e,t;if(!l.isDaemonPoolCreationOption(this.options))return;const n=Promise.all([...new Array(null!==(e=this.options.daemonCount)&&void 0!==e?e:2).keys()].map(()=>this.addDaemonService("StandardDaemon"))),r=Promise.all([...new Array(null!==(t=this.options.observableDaemonCount)&&void 0!==t?t:1).keys()].map(()=>this.addDaemonService("ObservableDaemon")));await Promise.all([n,r])}dispose(){this._disposed=!0}async getInterpreterInformation(){return this.wrapCall(e=>e.getInterpreterInformation(),{args:["GetPythonVersion"]})}async getExecutablePath(){return this.wrapCall(e=>e.getExecutablePath(),{args:["getExecutablePath"]})}getExecutionInfo(e){return this.pythonExecutionService.getExecutionInfo(e)}async isModuleInstalled(e){const t={args:["-m",e]};return this.wrapCall(t=>t.isModuleInstalled(e),t)}async exec(e,t){const n={args:e,options:t};return this.wrapCall(n=>n.exec(e,t),n)}async execModule(e,t,n){const r={args:["-m",e].concat(t),options:n};return this.wrapCall(r=>r.execModule(e,t,n),r)}execObservable(e,t){const n={args:e,options:t};return this.wrapObservableCall(n=>n.execObservable(e,t),n)}execModuleObservable(e,t,n){const r={args:["-m",e].concat(t),options:n};return this.wrapObservableCall(r=>r.execModuleObservable(e,t,n),r)}async wrapCall(e,t){const n=await this.popDaemonFromPool();try{return n instanceof a.PythonDaemonExecutionService&&this.logger.logProcess(this.pythonPath+" (daemon)",t.args,t.options),await e(n)}finally{this.pushDaemonIntoPool("StandardDaemon",n)}}wrapObservableCall(e,t){const n=this.popDaemonFromObservablePool(),r=n instanceof a.PythonDaemonExecutionService?n.proc:void 0;r&&this.logger.logProcess(this.pythonPath+" (daemon)",t.args,t.options);const o=e(n);let c=!1;const l=()=>{c||(c=!0,!r||!r.killed&&s.ProcessService.isAlive(r.pid)?this.pushDaemonIntoPool("ObservableDaemon",n):this._disposed||this.addDaemonService("ObservableDaemon").ignoreErrors())};return r&&(r.on("exit",l),r.on("close",l)),o.out.subscribe(i.noop,l,l),o}async addDaemonService(e){const t=await this.createDaemonService();("StandardDaemon"===e?this.daemons:this.observableDaemons).push(t)}async popDaemonFromPool(){var e;const t=new o.StopWatch;for(;0===this.daemons.length&&t.elapsedTime<=this.timeoutWaitingForDaemon;)await r.sleep(50);return null!==(e=this.daemons.shift())&&void 0!==e?e:this.pythonExecutionService}popDaemonFromObservablePool(){return this.observableDaemons.length>0?this.observableDaemons.shift():this.pythonExecutionService}pushDaemonIntoPool(e,t){if(t===this.pythonExecutionService)return;(async()=>{const n=t;let r=!1;if(r=!(n.isAlive&&!n.proc.killed&&s.ProcessService.isAlive(n.proc.pid))||await this.testDaemon(n.connection).then(()=>!1).catch(()=>!0),r){await this.addDaemonService(e);try{n.dispose()}catch(e){i.noop()}}else{("StandardDaemon"===e?this.daemons:this.observableDaemons).push(t)}})().ignoreErrors()}}t.PythonDaemonExecutionServicePool=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWindowsStoreEnv=t.createCondaEnv=t.createPythonEnv=void 0;const r=n(296),i=n(1071),o=n(190),s=n(4),a=n(313);class c{constructor(e,t){this.pythonPath=e,this.deps=t,this.cachedInterpreterInformation=null}getExecutionInfo(e=[]){const t=this.deps.getPythonArgv(this.pythonPath);return r.buildPythonExecInfo(t,e)}getExecutionObservableInfo(e=[]){const t=this.deps.getObservablePythonArgv(this.pythonPath);return r.buildPythonExecInfo(t,e)}async getInterpreterInformation(){return null===this.cachedInterpreterInformation&&(this.cachedInterpreterInformation=await this.getInterpreterInformationImpl()),this.cachedInterpreterInformation}async getExecutablePath(){if(await this.deps.isValidExecutable(this.pythonPath))return this.pythonPath;const e=this.getExecutionInfo();return i.getExecutablePath(e,this.deps.exec)}async isModuleInstalled(e){const[t]=a.isModuleInstalled(e),n=this.getExecutionInfo(t);try{await this.deps.exec(n.command,n.args)}catch(e){return!1}return!0}async getInterpreterInformationImpl(){try{const e=this.getExecutionInfo();return await o.getInterpreterInfo(e,this.deps.shellExec,{info:s.traceInfo,error:s.traceError})}catch(e){s.traceError(`Failed to get interpreter information for '${this.pythonPath}'`,e)}}}function l(e,t,n,r,i){return{getPythonArgv:e=>t||[e],getObservablePythonArgv:e=>n||[e],isValidExecutable:e,exec:async(e,t)=>r(e,t,{throwOnStdErr:!0}),shellExec:async(e,t)=>i(e,{timeout:t})}}t.createPythonEnv=function(e,t,n){const r=l(async e=>n.localFileExists(e),void 0,void 0,(e,n,r)=>t.exec(e,n,r),(e,n)=>t.shellExec(e,n));return new c(e,r)},t.createCondaEnv=function(e,t,n,r,i){const o=["run"];""===t.name?o.push("-p",t.path):o.push("-n",t.name);const s=l(async e=>i.localFileExists(e),[e,...o,"python"],void 0,(e,t,n)=>r.exec(e,t,n),(e,t)=>r.shellExec(e,t));return new c(n,s)},t.createWindowsStoreEnv=function(e,t){const n=l(async e=>!0,void 0,void 0,(e,n,r)=>t.exec(e,n,r),(e,n)=>t.shellExec(e,n));return new c(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExecutablePath=void 0;const r=n(313),i=n(296);t.getExecutablePath=async function(e,t){const[n,o]=r.getExecutable(),s=i.copyPythonExecInfo(e,n);return o((await t(s.command,s.args)).stdout)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonProcessService=void 0;const r=n(285),i=n(444),o=n(313);class s{constructor(e){this.deps=e}execObservable(e,t){const n={...t},r=this.deps.getExecutionObservableInfo(e);return this.deps.execObservable(r.command,r.args,n)}execModuleObservable(e,t,n){const r=o.execModule(e,t),i={...n},s=this.deps.getExecutionObservableInfo(r);return this.deps.execObservable(s.command,s.args,i)}async exec(e,t){const n={...t},r=this.deps.getExecutionInfo(e);return this.deps.exec(r.command,r.args,n)}async execModule(e,t,n){const s=o.execModule(e,t),a={...n},c=this.deps.getExecutionInfo(s),l=await this.deps.exec(c.command,c.args,a);if(e&&r.ErrorUtils.outputHasModuleNotInstalledError(e,l.stderr)){if(!await this.deps.isModuleInstalled(e))throw new i.ModuleNotInstalledError(e)}return l}}t.createPythonProcessService=function(e,t){return new s({isModuleInstalled:async e=>t.isModuleInstalled(e),getExecutionInfo:e=>t.getExecutionInfo(e),getExecutionObservableInfo:e=>t.getExecutionObservableInfo(e),exec:async(t,n,r)=>e.exec(t,n,r),execObservable:(t,n,r)=>e.execObservable(t,n,r)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(116),i=n(3),o=n(1074),s=n(1075),a=n(1076),c=n(1077),l=n(1078),u=n(1080),d=n(1081),h=n(1082),p=n(1083),f=n(1084),m=n(1086),g=n(1087),v=n(1088),y=n(7),b=n(1089),_=n(1090),w=n(1092),S=n(1093),E=n(1131),x=n(309),C=n(474),k=n(1132),D=n(1134),T=n(1135),I=n(284),M=n(1136),P=n(1137),j=n(39),L=n(3),O=n(235),A=n(1138),N=n(1162);t.registerTypes=function(e){e.addSingletonInstance(L.IsWindows,I.IS_WINDOWS),e.addSingleton(y.IActiveResourceService,c.ActiveResourceService),e.addSingleton(L.IExtensions,m.Extensions),e.addSingleton(L.IPersistentStateFactory,T.PersistentStateFactory),e.addSingleton(L.IPathUtils,M.PathUtils),e.addSingleton(y.IVSCodeNotebook,v.VSCodeNotebook),e.addSingleton(y.IClipboard,u.ClipboardService),e.addSingleton(L.IInstaller,x.ProductInstaller),e.addSingleton(j.IProcessLogger,P.ProcessLogger),e.addSingleton(y.IDocumentManager,p.DocumentManager),e.addSingleton(y.IDebugService,h.DebugService),e.addSingleton(y.IApplicationEnvironment,l.ApplicationEnvironment),e.addSingleton(y.IEncryptedStorage,f.EncryptedStorage),e.addSingleton(y.ILanguageService,g.LanguageService),e.addSingleton(L.IBrowserService,C.BrowserService),e.addSingleton(i.IHttpClient,D.HttpClient),e.addSingleton(i.IFileDownloader,k.FileDownloader),e.addSingleton(L.IEditorUtils,w.EditorUtils),e.addSingleton(L.ICryptoUtils,_.CryptoUtils),e.addSingleton(i.IExperimentService,S.ExperimentService),e.addSingleton(L.IFeatureDeprecationManager,E.FeatureDeprecationManager),e.addSingleton(L.IAsyncDisposableRegistry,b.AsyncDisposableRegistry),e.addSingleton(O.IMultiStepInputFactory,O.MultiStepInputFactory),e.addSingleton(a.IImportTracker,s.ImportTracker),e.addSingleton(r.IExtensionSingleActivationService,s.ImportTracker),e.addSingleton(r.IExtensionSingleActivationService,N.LanguageInitializer),e.addSingleton(r.IExtensionSingleActivationService,d.ReloadVSCodeCommandHandler),e.addSingleton(r.IExtensionSingleActivationService,o.AmlComputeContext),e.addSingleton(r.IExtensionSyncActivationService,A.PortAttributesProviders),e.addSingleton(o.AmlComputeContext,o.AmlComputeContext)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AmlComputeContext=void 0;const i=n(0),o=n(1),s=n(8);let a=class{constructor(){s.setSharedProperty("isamlcompute",this.isAmlCompute?"true":"false")}get isAmlCompute(){return"amlext"===o.env.remoteName}async activate(){}};a=r([i.injectable()],a),t.AmlComputeContext=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImportTracker=void 0;const o=n(0),s=n(6),a=n(1),c=n(8),l=n(62),u=n(7),d=n(14);n(15);const h=n(99),p=n(3),f=n(9),m=n(24),g=n(86),v=n(68),y=/^\s*(from (?<fromImport>\w+)(?:\.\w+)* import \w+(?:, \w+)*(?: as \w+)?|import (?<importImport>\w+(?:, \w+)*)(?: as \w+)?)$/,b=d.isTestExecution();let _=class{constructor(e,t,n){this.documentManager=e,this.vscNotebook=t,this.pendingChecks=new Map,this.disposables=[],this.sentMatches=new Set,n.push(this),this.documentManager.onDidOpenTextDocument(e=>this.onOpenedOrSavedDocument(e),this.disposables),this.documentManager.onDidSaveTextDocument(e=>this.onOpenedOrSavedDocument(e),this.disposables),this.vscNotebook.onDidOpenNotebookDocument(e=>this.onOpenedOrClosedNotebookDocument(e),this.disposables),this.vscNotebook.onDidCloseNotebookDocument(e=>this.onOpenedOrClosedNotebookDocument(e),this.disposables),this.vscNotebook.onDidSaveNotebookDocument(e=>this.onOpenedOrClosedNotebookDocument(e),this.disposables),this.vscNotebook.onDidChangeNotebookCellExecutionState(e=>this.checkNotebookCell(e),this,n)}dispose(){h.disposeAllDisposables(this.disposables),this.pendingChecks.clear()}async activate(){this.documentManager.textDocuments.forEach(e=>this.onOpenedOrSavedDocument(e)),this.vscNotebook.notebookDocuments.forEach(e=>this.checkNotebookDocument(e))}getDocumentLines(e){return Array(Math.min(e.lineCount,1e3)).fill("").map((t,n)=>{const r=e.lineAt(n);if(r&&!r.isEmptyOrWhitespace)return r.text}).filter(e=>e)}getNotebookDocumentLines(e){const t=[];try{e.getCells().filter(e=>e.kind===a.NotebookCellKind.Code).filter(e=>e.document.languageId===d.PYTHON_LANGUAGE).forEach(e=>{const n=this.getCellLinesFromSource(e.document.getText());t.length<1e3&&t.push(...n)})}catch(e){if(!d.isCI)throw e}return t}getCellLinesFromSource(e){return l.splitMultilineString(e).map(e=>e.replace(/\n/g,""))}onOpenedOrSavedDocument(e){(".py"===s.extname(e.fileName)||e.notebook&&m.isJupyterNotebook(e.notebook)&&e.languageId===d.PYTHON_LANGUAGE)&&this.scheduleDocument(e)}onOpenedOrClosedNotebookDocument(e){m.isJupyterNotebook(e)&&this.scheduleCheck(e.uri.fsPath,this.checkNotebookDocument.bind(this,e))}scheduleDocument(e){this.scheduleCheck(e.fileName,this.checkDocument.bind(this,e))}scheduleCheck(e,t){const n=this.pendingChecks.get(e);n&&(clearTimeout(n),this.pendingChecks.delete(e)),b?t():this.pendingChecks.set(e,setTimeout(t,5e3))}checkNotebookDocument(e){this.pendingChecks.delete(e.uri.fsPath);const t=this.getNotebookDocumentLines(e);this.lookForImports(t)}checkNotebookCell(e){if(!m.isJupyterNotebook(e.cell.notebook))return;this.pendingChecks.delete(e.cell.document.uri.toString());const t=[];try{if(e.cell.kind===a.NotebookCellKind.Code&&e.cell.document.languageId===d.PYTHON_LANGUAGE){const n=this.getCellLinesFromSource(e.cell.document.getText());t.length<1e3&&t.push(...n)}}catch(e){if(!d.isCI)throw e}this.lookForImports(t)}checkDocument(e){this.pendingChecks.delete(e.fileName);const t=this.getDocumentLines(e);this.lookForImports(t)}sendTelemetry(e){if(this.sentMatches.has(e))return;this.sentMatches.add(e);const t=v.getTelemetrySafeHashedString(e);c.sendTelemetryEvent(g.EventName.HASHED_PACKAGE_NAME,void 0,{hashedNamev2:t})}lookForImports(e){try{for(const t of e){const e=t?y.exec(t):null;if(null!==e&&void 0!==e.groups)if(void 0!==e.groups.fromImport)this.sendTelemetry(e.groups.fromImport);else if(void 0!==e.groups.importImport){e.groups.importImport.split(",").map(e=>e.trim()).forEach(e=>this.sendTelemetry(e))}}}catch(e){f.noop()}}};r([c.captureTelemetry(g.EventName.HASHED_PACKAGE_PERF)],_.prototype,"checkNotebookDocument",null),r([c.captureTelemetry(g.EventName.HASHED_PACKAGE_PERF)],_.prototype,"checkNotebookCell",null),r([c.captureTelemetry(g.EventName.HASHED_PACKAGE_PERF)],_.prototype,"checkDocument",null),_=r([o.injectable(),i(0,o.inject(u.IDocumentManager)),i(1,o.inject(u.IVSCodeNotebook)),i(2,o.inject(p.IDisposableRegistry))],_),t.ImportTracker=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IImportTracker=void 0,t.IImportTracker=Symbol("IImportTracker")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveResourceService=void 0;const o=n(0),s=n(7);let a=class{constructor(e,t){this.documentManager=e,this.workspaceService=t}getActiveResource(){const e=this.documentManager.activeTextEditor;return e&&!e.document.isUntitled?e.document.uri:Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.length>0?this.workspaceService.workspaceFolders[0].uri:void 0}};a=r([o.injectable(),i(0,o.inject(s.IDocumentManager)),i(1,o.inject(s.IWorkspaceService))],a),t.ActiveResourceService=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationEnvironment=void 0;const o=n(0),s=n(6),a=n(1),c=n(16),l=n(3),u=n(129);let d=class{constructor(e,t,n){this.platform=e,this.pathUtils=t,this.extensionContext=n}get userSettingsFile(){const e="insiders"===this.channel?"Code - Insiders":"Code";switch(this.platform.osType){case u.OSType.OSX:return s.join(this.pathUtils.home,"Library","Application Support",e,"User","settings.json");case u.OSType.Linux:return s.join(this.pathUtils.home,".config",e,"User","settings.json");case u.OSType.Windows:return process.env.APPDATA?s.join(process.env.APPDATA,e,"User","settings.json"):void 0;default:return}}get userCustomKeybindingsFile(){return s.resolve(this.extensionContext.globalStorageUri.fsPath,"..","..","keybindings.json")}get appName(){return a.env.appName}get vscodeVersion(){return a.version}get appRoot(){return a.env.appRoot}get language(){return a.env.language}get sessionId(){return a.env.sessionId}get machineId(){return a.env.machineId}get uiKind(){return a.env.uiKind}get extensionName(){return this.packageJson.displayName}get shell(){return a.env.shell}get packageJson(){return n(1079)}get channel(){return this.appName.indexOf("Insider")>0||this.appName.indexOf("Code - OSS Dev")>=0?"insiders":"stable"}get uriScheme(){return a.env.uriScheme}};d=r([o.injectable(),i(0,o.inject(c.IPlatformService)),i(1,o.inject(l.IPathUtils)),i(2,o.inject(l.IExtensionContext))],d),t.ApplicationEnvironment=d},function(e){e.exports=JSON.parse('{"name":"jupyter","displayName":"Jupyter","version":"2021.8.2041215044","description":"Jupyter notebook support, interactive programming and computing that supports Intellisense, debugging and more.","publisher":"ms-toolsai","enableProposedApi":true,"author":{"name":"Microsoft Corporation"},"extensionPack":["ms-toolsai.jupyter-keymap"],"license":"MIT","homepage":"https://github.com/Microsoft/vscode-jupyter","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-jupyter"},"bugs":{"url":"https://github.com/Microsoft/vscode-jupyter/issues"},"qna":"https://stackoverflow.com/questions/tagged/visual-studio-code+jupyter","icon":"icon.png","galleryBanner":{"color":"#ffffff","theme":"light"},"engines":{"vscode":"^1.60.0"},"keywords":["jupyter","notebook","ipynb","multi-root ready","python"],"categories":["Programming Languages","Other","Extension Packs","Data Science","Machine Learning","Notebooks","Visualization"],"activationEvents":["onLanguage:python","onLanguage:jupyter","onCommand:jupyter.viewOutput","onCommand:jupyter.export","onCommand:jupyter.exportAsPythonScript","onCommand:jupyter.exportToHTML","onCommand:jupyter.exportToPDF","onCommand:jupyter.notebookeditor.export","onCommand:jupyter.createnewnotebook","onCommand:jupyter.createnewinteractive","onCommand:jupyter.importnotebook","onCommand:jupyter.importnotebookfile","onCommand:jupyter.opennotebook","onCommand:jupyter.opennotebookInPreviewEditor","onCommand:jupyter.selectjupyteruri","onCommand:jupyter.exportfileasnotebook","onCommand:jupyter.exportfileandoutputasnotebook","onCommand:jupyter.selectJupyterInterpreter","onCommand:jupyter.selectjupytercommandline","onCommand:jupyter.openVariableView","onCommand:jupyter.selectNativeJupyterUriFromToolBar","onNotebook:jupyter-notebook","onNotebook:interactive"],"main":"./out/client/extension","capabilities":{"virtualWorkspaces":true,"untrustedWorkspaces":{"supported":"limited","description":"Execution of cells in Interactive Window and Notebooks is not supported in untrusted workspaces."}},"contributes":{"keybindings":[{"command":"jupyter.execSelectionInteractive","key":"shift+enter","when":"editorTextFocus && editorLangId == python && !findInputFocussed && !replaceInputFocussed && jupyter.ownsSelection && !notebookEditorFocused"},{"command":"jupyter.runcurrentcelladvance","key":"shift+enter","when":"editorTextFocus && !editorHasSelection && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.runcurrentcell","key":"ctrl+enter","when":"editorTextFocus && !editorHasSelection && jupyter.hascodecells && !notebookEditorFocused && !jupyter.havenativecells"},{"command":"jupyter.runcurrentcellandaddbelow","key":"alt+enter","when":"editorTextFocus && !editorHasSelection && jupyter.hascodecells && !notebookEditorFocused"},{"key":"shift+enter","when":"resourceScheme == \'vscode-interactive\'","command":"interactive.execute"},{"key":"escape","when":"resourceScheme == \'vscode-interactive\' && !editorHoverVisible && !suggestWidgetVisible && !isComposing && !inSnippetMode && !exceptionWidgetVisible && !selectionAnchorSet && !LinkedEditingInputVisible && !renameInputVisible && !editorHasSelection && !accessibilityHelpWidgetVisible && !breakpointWidgetVisible && !findWidgetVisible && !markersNavigationVisible && !parameterHintsVisible && !editorHasMultipleSelections && !notificationToastsVisible","command":"interactive.input.clear"},{"command":"jupyter.insertCellBelowPosition","key":"ctrl+; s","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellBelow","key":"ctrl+; b","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellAbove","key":"ctrl+; a","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.deleteCells","key":"ctrl+; x","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellAbove","key":"ctrl+alt+shift+[","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellBelow","key":"ctrl+alt+shift+]","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsUp","key":"ctrl+; u","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsDown","key":"ctrl+; d","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToMarkdown","key":"ctrl+; m","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToCode","key":"ctrl+; c","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoNextCellInFile","key":"ctrl+alt+]","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoPrevCellInFile","key":"ctrl+alt+[","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCellContents","key":"ctrl+alt+\\\\","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCell","key":"ctrl+alt+shift+\\\\","when":"editorTextFocus && jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.refreshDataViewer","key":"ctrl+r","mac":"cmd+r","when":"jupyter.dataViewerActive"},{"command":"jupyter.runAndDebugCell","key":"ctrl+alt+shift+enter","mac":"ctrl+shift+enter"},{"command":"jupyter.runByLine","key":"f10","mac":"f10","when":"!jupyter.notebookeditor.debuggingInProgress && !jupyter.notebookeditor.runByLineInProgress"},{"command":"jupyter.runByLineContinue","key":"f10","mac":"f10","when":"jupyter.notebookeditor.runByLineInProgress"},{"command":"jupyter.runByLineStop","key":"ctrl+enter","mac":"ctrl+enter","when":"jupyter.notebookeditor.runByLineInProgress"}],"commands":[{"command":"jupyter.debugNotebook","title":"Debug","icon":"$(bug)","category":"Jupyter","enablement":"notebookKernelCount > 0 && !jupyter.notebookeditor.debuggingInProgress && !jupyter.notebookeditor.runByLineInProgress && config.jupyter.experimental.debugging"},{"command":"jupyter.runByLine","title":"Run by Line","icon":"$(debug-line-by-line)","category":"Jupyter","enablement":"notebookKernelCount > 0 && !jupyter.notebookeditor.debuggingInProgress && !jupyter.notebookeditor.runByLineInProgress"},{"command":"jupyter.runAndDebugCell","title":"Debug Cell","icon":"$(debug-alt-small)","category":"Jupyter"},{"command":"jupyter.runByLineContinue","title":"Continue","icon":"$(debug-line-by-line)","category":"Jupyter","enablement":"notebookKernelCount > 0 && jupyter.notebookeditor.runByLineInProgress"},{"command":"jupyter.viewOutput","title":"%jupyter.command.jupyter.viewOutput.title%","category":"Jupyter"},{"command":"jupyter.notebookeditor.export","title":"%DataScience.notebookExportAs%","shortTitle":"%DataScience.notebookExportAs.shorttitle%","category":"Notebook","icon":{"light":"resources/light/export_to_python.svg","dark":"resources/dark/export_to_python.svg"},"enablement":"notebookType == jupyter-notebook && isWorkspaceTrusted"},{"command":"jupyter.export","title":"%DataScience.notebookExportAs%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.exportAsPythonScript","title":"%jupyter.command.jupyter.exportAsPythonScript.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.exportToHTML","title":"%jupyter.command.jupyter.exportToHTML.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.exportToPDF","title":"%jupyter.command.jupyter.exportToPDF.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.selectJupyterInterpreter","title":"%jupyter.command.jupyter.selectJupyterInterpreter.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcurrentcell","title":"%jupyter.command.jupyter.runcurrentcell.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugcell","title":"%jupyter.command.jupyter.debugcell.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugstepover","title":"%jupyter.command.jupyter.debugstepover.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugstop","title":"%jupyter.command.jupyter.debugstop.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugcontinue","title":"%jupyter.command.jupyter.debugcontinue.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.insertCellBelowPosition","title":"%jupyter.command.jupyter.insertCellBelowPosition.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.insertCellBelow","title":"%jupyter.command.jupyter.insertCellBelow.title%","category":"Jupyter"},{"command":"jupyter.insertCellAbove","title":"%jupyter.command.jupyter.insertCellAbove.title%","category":"Jupyter"},{"command":"jupyter.deleteCells","title":"%jupyter.command.jupyter.deleteCells.title%","category":"Jupyter"},{"command":"jupyter.notebookeditor.keybind.toggleOutput","title":"%DataScience.toggleCellOutput%","category":"Notebook"},{"command":"jupyter.notebookeditor.keybind.renderMarkdownAndSelectBelow","title":"%DataScience.renderMarkdownAndSelectBelow%","category":"Notebook"},{"command":"jupyter.selectCell","title":"%jupyter.command.jupyter.selectCell.title%","category":"Jupyter"},{"command":"jupyter.selectCellContents","title":"%jupyter.command.jupyter.selectCellContents.title%","category":"Jupyter"},{"command":"jupyter.extendSelectionByCellAbove","title":"%jupyter.command.jupyter.extendSelectionByCellAbove.title%","category":"Jupyter"},{"command":"jupyter.extendSelectionByCellBelow","title":"%jupyter.command.jupyter.extendSelectionByCellBelow.title%","category":"Jupyter"},{"command":"jupyter.moveCellsUp","title":"%jupyter.command.jupyter.moveCellsUp.title%","category":"Jupyter"},{"command":"jupyter.moveCellsDown","title":"%jupyter.command.jupyter.moveCellsDown.title%","category":"Jupyter"},{"command":"jupyter.changeCellToMarkdown","title":"%jupyter.command.jupyter.changeCellToMarkdown.title%","category":"Jupyter"},{"command":"jupyter.changeCellToCode","title":"%jupyter.command.jupyter.changeCellToCode.title%","category":"Jupyter"},{"command":"jupyter.gotoNextCellInFile","title":"%jupyter.command.jupyter.gotoNextCellInFile.title%","category":"Jupyter"},{"command":"jupyter.gotoPrevCellInFile","title":"%jupyter.command.jupyter.gotoPrevCellInFile.title%","category":"Jupyter"},{"command":"jupyter.runcurrentcelladvance","title":"%jupyter.command.jupyter.runcurrentcelladvance.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcurrentcellandallbelow.palette","title":"%jupyter.command.jupyter.runcurrentcellandallbelow.palette.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runallcellsabove.palette","title":"%jupyter.command.jupyter.runallcellsabove.palette.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugcurrentcell.palette","title":"%jupyter.command.jupyter.debugcurrentcell.palette.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.execSelectionInteractive","title":"%jupyter.command.jupyter.execSelectionInteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.createnewinteractive","title":"%jupyter.command.jupyter.createnewinteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runFileInteractive","title":"%jupyter.command.jupyter.runFileInteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.debugFileInteractive","title":"%jupyter.command.jupyter.debugFileInteractive.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runallcells","title":"%jupyter.command.jupyter.runallcells.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runallcellsabove","title":"%jupyter.command.jupyter.runallcellsabove.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcellandallbelow","title":"%jupyter.command.jupyter.runcellandallbelow.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runcell","title":"%jupyter.command.jupyter.runcell.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runtoline","title":"%jupyter.command.jupyter.runtoline.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.runfromline","title":"%jupyter.command.jupyter.runfromline.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.selectjupyteruri","title":"%jupyter.command.jupyter.selectjupyteruri.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.selectjupytercommandline","title":"%jupyter.command.jupyter.selectjupytercommandline.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.importnotebook","title":"%jupyter.command.jupyter.importnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.importnotebookfile","title":"%jupyter.command.jupyter.importnotebookfile.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.opennotebook","title":"%jupyter.command.jupyter.opennotebook.title%","category":"Jupyter"},{"command":"jupyter.opennotebookInPreviewEditor","title":"%jupyter.command.jupyter.opennotebookInPreviewEditor.title%","enablement":"jupyter.opennotebookInPreviewEditor.enabled","category":"Jupyter"},{"command":"jupyter.exportoutputasnotebook","title":"%jupyter.command.jupyter.exportoutputasnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.exportfileasnotebook","title":"%jupyter.command.jupyter.exportfileasnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.exportfileandoutputasnotebook","title":"%jupyter.command.jupyter.exportfileandoutputasnotebook.title%","category":"Jupyter","enablement":"isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.undocells","title":"%jupyter.command.jupyter.undocells.title%","category":"Notebook"},{"command":"jupyter.notebookeditor.redocells","title":"%jupyter.command.jupyter.redocells.title%","category":"Notebook"},{"command":"jupyter.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","shortTitle":"%jupyter.command.jupyter.interruptkernel.shorttitle%","category":"Jupyter","icon":{"light":"resources/light/interrupt.svg","dark":"resources/dark/interrupt.svg"},"enablement":"isWorkspaceTrusted"},{"command":"jupyter.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","shortTitle":"%jupyter.command.jupyter.restartkernel.shorttitle%","category":"Jupyter","icon":{"light":"resources/light/restart-kernel.svg","dark":"resources/dark/restart-kernel.svg"},"enablement":"isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","shortTitle":"%jupyter.command.jupyter.interruptkernel.shorttitle%","category":"Notebook","icon":{"light":"resources/light/interrupt.svg","dark":"resources/dark/interrupt.svg"},"enablement":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.notebookeditor.canInterruptNotebookKernel"},{"command":"jupyter.notebookeditor.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","shortTitle":"%jupyter.command.jupyter.restartkernel.shorttitle%","category":"Notebook","icon":{"light":"resources/light/restart-kernel.svg","dark":"resources/dark/restart-kernel.svg"},"enablement":"jupyter.notebookeditor.canrestartNotebookkernel && isWorkspaceTrusted"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","category":"Jupyter","icon":"$(debug-disconnect)","enablement":"isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.addcellbelow","title":"%jupyter.command.jupyter.notebookeditor.addcellbelow.title%","category":"Notebook"},{"command":"jupyter.notebookeditor.removeallcells","title":"%jupyter.command.jupyter.notebookeditor.removeallcells.title%","category":"Notebook"},{"command":"jupyter.notebookeditor.expandallcells","title":"%jupyter.command.jupyter.notebookeditor.expandallcells.title%","category":"Notebook"},{"command":"jupyter.notebookeditor.collapseallcells","title":"%jupyter.command.jupyter.notebookeditor.collapseallcells.title%","category":"Notebook"},{"command":"jupyter.expandallcells","title":"%jupyter.command.jupyter.expandallcells.title%","shortTitle":"%jupyter.command.jupyter.expandallcells.shorttitle%","category":"Jupyter","icon":"$(expand-all)"},{"command":"jupyter.collapseallcells","title":"%jupyter.command.jupyter.collapseallcells.title%","shortTitle":"%jupyter.command.jupyter.collapseallcells.shorttitle%","category":"Jupyter","icon":"$(collapse-all)"},{"command":"jupyter.addcellbelow","title":"%jupyter.command.jupyter.addcellbelow.title%","category":"Jupyter"},{"command":"jupyter.createnewnotebook","title":"%jupyter.command.jupyter.createnewnotebook.title%","category":"Jupyter"},{"command":"jupyter.scrolltocell","title":"%jupyter.command.jupyter.scrolltocell.title%","category":"Jupyter"},{"command":"jupyter.latestExtension","title":"DataScience.latestExtension","category":"Jupyter"},{"command":"jupyter.createGitHubIssue","title":"%jupyter.command.jupyter.createGitHubIssue.title%","enablement":"config.noExists","category":"Jupyter"},{"command":"jupyter.submitGitHubIssue","title":"%jupyter.command.jupyter.submitGitHubIssue.title%","enablement":"config.noExists","category":"Jupyter"},{"command":"jupyter.enableDebugLogging","title":"%jupyter.command.jupyter.enableDebugLogging.title%","category":"Jupyter"},{"command":"jupyter.resetLoggingLevel","title":"%jupyter.command.jupyter.resetLoggingLevel.title%","category":"Jupyter"},{"command":"jupyter.showDataViewer","title":"%jupyter.command.jupyter.showDataViewer.title%","category":"Jupyter"},{"command":"jupyter.clearSavedJupyterUris","title":"%jupyter.command.jupyter.clearSavedJupyterUris.title%","category":"Jupyter"},{"command":"jupyter.openVariableView","title":"%jupyter.command.jupyter.openVariableView.title%","shortTitle":"%jupyter.command.jupyter.openVariableView.shorttitle%","icon":"$(variable-group)","category":"Jupyter","enablement":"notebookType == jupyter-notebook  && !jupyter.variableViewVisible && isWorkspaceTrusted || notebookType == interactive && !jupyter.variableViewVisible && isWorkspaceTrusted"},{"command":"jupyter.refreshDataViewer","title":"%DataScience.refreshDataViewerCommandPalette%","category":"Jupyter","enablement":"jupyter.dataViewerActive && isWorkspaceTrusted"},{"command":"jupyter.interactive.clearAllCells","title":"%DataScience.interactiveClearAllCells%","icon":"$(close)","category":"Jupyter"},{"command":"jupyter.interactive.removeCell","title":"%DataScience.interactiveRemoveCell%","icon":"$(close)","category":"Jupyter"},{"command":"jupyter.interactive.goToCode","title":"%DataScience.interactiveGoToCode%","icon":"$(go-to-file)","category":"Jupyter"},{"command":"jupyter.interactive.exportasnotebook","title":"%DataScience.exportDialogTitle%","shortTitle":"%DataScience.exportAsNotebook.shorttitle%","icon":"$(save-as)","enablement":"notebookType == interactive","category":"Jupyter"},{"command":"jupyter.interactive.exportas","title":"%DataScience.notebookExport%","icon":{"light":"resources/light/export_to_python.svg","dark":"resources/dark/export_to_python.svg"},"enablement":"notebookType == interactive","category":"Jupyter"},{"command":"jupyter.interactive.copyCell","title":"%DataScience.interactiveCopyCell%","icon":"$(copy)","category":"Jupyter"}],"menus":{"editor/context":[{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runallcells","group":"Jupyter2"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runcurrentcell","group":"Jupyter2"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runcurrentcelladvance","group":"Jupyter2"},{"command":"jupyter.runFileInteractive","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.runfromline","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.runtoline","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.execSelectionInteractive","group":"Jupyter2","when":"editorFocus && editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"when":"editorFocus && editorLangId == python && resourceLangId == jupyter && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.importnotebook","group":"Jupyter3@1"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.exportfileasnotebook","group":"Jupyter3@2"},{"when":"editorFocus && editorLangId == python && jupyter.hascodecells && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.exportfileandoutputasnotebook","group":"Jupyter3@3"}],"editor/title":[{"command":"jupyter.notebookeditor.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","group":"navigation@1","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.notebookeditor.canrestartNotebookkernel && config.notebook.globalToolbar != true"},{"command":"jupyter.notebookeditor.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","group":"overflow@1","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && jupyter.notebookeditor.canInterruptNotebookKernel && config.notebook.globalToolbar != true"},{"command":"jupyter.openVariableView","title":"%jupyter.command.jupyter.openVariableView.title%","group":"navigation@2","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && config.notebook.globalToolbar != true"},{"command":"jupyter.notebookeditor.export","title":"%DataScience.notebookExportAs%","group":"navigation@3","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && config.notebook.globalToolbar != true"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","group":"overflow@1000","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted && config.notebook.globalToolbar != true"}],"notebook/toolbar":[{"command":"jupyter.notebookeditor.restartkernel","group":"navigation/execute@1","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.interruptkernel","group":"navigation/execute@2","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted"},{"command":"jupyter.openVariableView","group":"navigation@1","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.export","group":"Jupyter","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted"}],"notebook/cell/title":[{"command":"jupyter.runByLine","when":"notebookType == jupyter-notebook && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && !jupyter.notebookeditor.runByLineInProgress","group":"inline/cell@0"},{"command":"jupyter.runByLineContinue","when":"notebookType == jupyter-notebook && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && jupyter.notebookeditor.runByLineInProgress","group":"inline/cell@0"}],"notebook/cell/execute":[{"command":"jupyter.runAndDebugCell","when":"notebookType == jupyter-notebook && jupyter.ispythonnotebook && notebookCellType == code && isWorkspaceTrusted && !jupyter.notebookeditor.runByLineInProgress && config.jupyter.experimental.debugging"}],"interactive/toolbar":[{"command":"jupyter.interactive.clearAllCells","group":"navigation@0","when":"isWorkspaceTrusted"},{"command":"jupyter.restartkernel","group":"navigation@1","when":"isWorkspaceTrusted"},{"command":"jupyter.interruptkernel","group":"navigation@2","when":"isWorkspaceTrusted"},{"command":"jupyter.openVariableView","group":"navigation@3","when":"isWorkspaceTrusted"},{"command":"jupyter.interactive.exportasnotebook","group":"navigation@4","when":"isWorkspaceTrusted"},{"command":"jupyter.interactive.exportas","group":"navigation@5","when":"isWorkspaceTrusted"},{"command":"jupyter.expandallcells","group":"navigation@6","when":"isWorkspaceTrusted"},{"command":"jupyter.collapseallcells","group":"navigation@7","when":"isWorkspaceTrusted"}],"interactive/cell/title":[{"command":"jupyter.interactive.copyCell","group":"inline@0","when":"isWorkspaceTrusted"},{"command":"jupyter.interactive.goToCode","group":"inline@1","when":"isWorkspaceTrusted"},{"command":"jupyter.interactive.removeCell","group":"inline@2","when":"isWorkspaceTrusted"}],"explorer/context":[{"when":"resourceLangId == python && !notebookEditorFocused && isWorkspaceTrusted","command":"jupyter.runFileInteractive","group":"Jupyter2"},{"when":"resourceLangId == jupyter","command":"jupyter.opennotebook","group":"Jupyter"},{"when":"resourceLangId == jupyter && jupyter.vscode.channel == \'insiders\' && jupyter.opennotebookInPreviewEditor.enabled","command":"jupyter.opennotebookInPreviewEditor","group":"Jupyter"},{"when":"resourceLangId == jupyter && isWorkspaceTrusted","command":"jupyter.importnotebookfile","group":"Jupyter"}],"commandPalette":[{"command":"jupyter.debugNotebook","title":"Debug","when":"false"},{"command":"jupyter.runByLine","title":"Run by Line","when":"false"},{"command":"jupyter.runByLineContinue","title":"Continue","when":"false"},{"command":"jupyter.notebookeditor.keybind.toggleOutput","title":"%DataScience.toggleCellOutput%","when":"notebookType == jupyter-notebook"},{"command":"jupyter.notebookeditor.keybind.renderMarkdownAndSelectBelow","title":"%DataScience.renderMarkdownAndSelectBelow%","when":"false"},{"command":"jupyter.interactive.copyCell","when":"false"},{"command":"jupyter.exportAsPythonScript","title":"%jupyter.command.jupyter.exportAsPythonScript.title%","category":"Jupyter","when":"jupyter.isnativeactive && isWorkspaceTrusted && jupyter.ispythonnotebook && isWorkspaceTrusted"},{"command":"jupyter.refreshDataViewer","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.exportToHTML","title":"%jupyter.command.jupyter.exportToHTML.title%","category":"Jupyter","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.exportToPDF","title":"%jupyter.command.jupyter.exportToPDF.title%","category":"Jupyter","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.insertCellBelowPosition","title":"%jupyter.command.jupyter.insertCellBelowPosition.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellBelow","title":"%jupyter.command.jupyter.insertCellBelow.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.insertCellAbove","title":"%jupyter.command.jupyter.insertCellAbove.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.deleteCells","title":"%jupyter.command.jupyter.deleteCells.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCell","title":"%jupyter.command.jupyter.selectCell.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.selectCellContents","title":"%jupyter.command.jupyter.selectCellContents.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellAbove","title":"%jupyter.command.jupyter.extendSelectionByCellAbove.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.extendSelectionByCellBelow","title":"%jupyter.command.jupyter.extendSelectionByCellBelow.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsUp","title":"%jupyter.command.jupyter.moveCellsUp.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.moveCellsDown","title":"%jupyter.command.jupyter.moveCellsDown.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToMarkdown","title":"%jupyter.command.jupyter.changeCellToMarkdown.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.changeCellToCode","title":"%jupyter.command.jupyter.changeCellToCode.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoNextCellInFile","title":"%jupyter.command.jupyter.gotoNextCellInFile.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.gotoPrevCellInFile","title":"%jupyter.command.jupyter.gotoPrevCellInFile.title%","category":"Jupyter","when":"jupyter.hascodecells && !notebookEditorFocused"},{"command":"jupyter.runcurrentcell","title":"%jupyter.command.jupyter.runcurrentcell.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.runcurrentcelladvance","title":"%jupyter.command.jupyter.runcurrentcelladvance.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.runcurrentcellandallbelow.palette","title":"%jupyter.command.jupyter.runcurrentcellandallbelow.palette.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.runallcellsabove.palette","title":"%jupyter.command.jupyter.runallcellsabove.palette.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && !jupyter.havenativecells && isWorkspaceTrusted"},{"command":"jupyter.debugcurrentcell.palette","title":"%jupyter.command.jupyter.debugcurrentcell.palette.title%","category":"Jupyter","when":"editorLangId == python && jupyter.hascodecells && isWorkspaceTrusted"},{"command":"jupyter.createnewinteractive","title":"%jupyter.command.jupyter.createnewinteractive.title%","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.runallcells","title":"%jupyter.command.jupyter.runallcells.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive && isWorkspaceTrusted"},{"command":"jupyter.scrolltocell","title":"%jupyter.command.jupyter.scrolltocell.title%","category":"Jupyter","when":"false"},{"command":"jupyter.debugcell","title":"%jupyter.command.jupyter.debugcell.title%","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runcell","title":"%jupyter.command.jupyter.runcell.title%","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runFileInteractive","title":"%jupyter.command.jupyter.runFileInteractive.title%","category":"Jupyter","when":"editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.debugFileInteractive","title":"%jupyter.command.jupyter.debugFileInteractive.title%","category":"Jupyter","when":"editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.importnotebook","title":"%jupyter.command.jupyter.importnotebook.title%","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.opennotebook","title":"%jupyter.command.jupyter.opennotebook.title%","category":"Jupyter","when":"isWorkspaceTrusted"},{"command":"jupyter.exportfileasnotebook","title":"%jupyter.command.jupyter.exportfileasnotebook.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonorinteractiveeactive && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.exportfileandoutputasnotebook","title":"%jupyter.command.jupyter.exportfileandoutputasnotebook.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonorinteractiveeactive && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","category":"Jupyter","when":"jupyter.ispythonorinteractiveeactive && isWorkspaceTrusted"},{"command":"jupyter.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","category":"Jupyter","when":"jupyter.ispythonorinteractiveeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.undocells","title":"%jupyter.command.jupyter.undocells.title%","category":"Notebook","when":"jupyter.haveinteractivecells && jupyter.isnativeactive && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.redocells","title":"%jupyter.command.jupyter.redocells.title%","category":"Notebook","when":"jupyter.havenativeredoablecells && jupyter.isnativeactive && !notebookEditorFocused&& isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.removeallcells","title":"%jupyter.command.jupyter.notebookeditor.removeallcells.title%","category":"Notebook","when":"jupyter.havenativecells && jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.interruptkernel","title":"%jupyter.command.jupyter.interruptkernel.title%","category":"Notebook","when":"notebookType == \'jupyter-notebook\' && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.restartkernel","title":"%jupyter.command.jupyter.restartkernel.title%","category":"Notebook","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.addcellbelow","title":"%jupyter.command.jupyter.notebookeditor.addcellbelow.title%","category":"Notebook","when":"jupyter.isnativeactive && isWorkspaceTrusted"},{"command":"jupyter.notebookeditor.expandallcells","title":"%jupyter.command.jupyter.expandallcells.title%","category":"Notebook","when":"notebookEditorFocused && notebookType == \'jupyter-notebook\'"},{"command":"jupyter.notebookeditor.collapseallcells","title":"%jupyter.command.jupyter.collapseallcells.title%","category":"Notebook","when":"notebookEditorFocused && notebookType == \'jupyter-notebook\'"},{"command":"jupyter.expandallcells","title":"%jupyter.command.jupyter.expandallcells.title%","shortTitle":"%jupyter.command.jupyter.expandallcells.shorttitle%","category":"Jupyter","when":"jupyter.isinteractiveactive"},{"command":"jupyter.collapseallcells","title":"%jupyter.command.jupyter.collapseallcells.title%","shortTitle":"%jupyter.command.jupyter.collapseallcells.shorttitle%","category":"Jupyter","when":"jupyter.isinteractiveactive"},{"command":"jupyter.exportoutputasnotebook","title":"%jupyter.command.jupyter.exportoutputasnotebook.title%","category":"Jupyter","when":"jupyter.isinteractiveactive"},{"command":"jupyter.runcellandallbelow","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runallcellsabove","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugcontinue","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugstop","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugstepover","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.debugcell","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.addcellbelow","title":"%jupyter.command.jupyter.addcellbelow.title%","category":"Jupyter","when":"jupyter.hascodecells && jupyter.ispythonornativeactive"},{"command":"jupyter.createnewnotebook","title":"%jupyter.command.jupyter.createnewnotebook.title%","category":"Jupyter"},{"command":"jupyter.runtoline","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.runfromline","category":"Jupyter","when":"config.noExists"},{"command":"jupyter.execSelectionInteractive","category":"Jupyter","when":"editorLangId == python && !notebookEditorFocused && isWorkspaceTrusted"},{"command":"jupyter.latestExtension","title":"%DataScience.latestExtension%","category":"Jupyter","when":"false"},{"command":"jupyter.export","title":"%DataScience.notebookExportAs%","category":"Jupyter","when":"false"},{"command":"jupyter.notebookeditor.export","title":"%DataScience.notebookExportAs%","category":"Notebook","when":"false"},{"command":"jupyter.resetLoggingLevel","title":"%jupyter.command.jupyter.resetLoggingLevel.title%","category":"Jupyter","when":"config.jupyter.logging.level != error"},{"command":"jupyter.enableDebugLogging","title":"%jupyter.command.jupyter.enableDebugLogging.title%","category":"Jupyter","when":"config.jupyter.logging.level != debug"},{"command":"jupyter.createGitHubIssue","category":"Jupyter","when":"config.jupyter.logging.level == debug && config.noExists"},{"command":"jupyter.submitGitHubIssue","category":"Jupyter","when":"false"},{"command":"jupyter.showDataViewer","category":"Jupyter","when":"false"},{"command":"jupyter.opennotebookInPreviewEditor","when":"false","category":"Jupyter"},{"command":"jupyter.openVariableView","title":"%jupyter.command.jupyter.openVariableView.title%","category":"Jupyter","when":"notebookType == jupyter-notebook && isWorkspaceTrusted"},{"command":"jupyter.selectNativeJupyterUriFromToolBar","title":"%jupyter.command.jupyter.selectjupyteruri.title%","when":"false"}],"debug/variables/context":[{"command":"jupyter.showDataViewer","group":"1_view","when":"debugProtocolVariableMenuContext == \'viewableInDataViewer\'"}]},"configuration":{"type":"object","title":"Jupyter","properties":{"jupyter.experiments.enabled":{"type":"boolean","default":true,"description":"Enables/disables A/B tests.","scope":"machine"},"jupyter.experimental.debugging":{"type":"boolean","default":false,"description":"Enables the preview debugging experience. Set to true to enable the debugging mode button on native notebooks. Your selected kernel should also have ipykernel 6 installed in order to support debugging. Clicking the button will start a debugging session and will allow you to set and hit breakpoints.","scope":"application"},"jupyter.showVariableViewWhenDebugging":{"type":"boolean","default":true,"description":"Bring up the Variable View when starting a Run by Line session.","scope":"application"},"jupyter.logging.level":{"type":"string","default":"debug","enum":["off","error","warn","info","debug","verbose"],"description":"The logging level the extension logs at.","scope":"machine"},"jupyter.experiments.optInto":{"type":"array","default":[],"items":{"enum":[]},"markdownDescription":"List of experiment to opt into. If empty, user is assigned the default experiment groups. [Learn more](https://github.com/microsoft/vscode-jupyter/wiki/Experiments).","scope":"application"},"jupyter.experiments.optOutFrom":{"type":"array","default":[],"items":{"enum":[]},"markdownDescription":"List of experiment to opt out of. If empty, user is assigned the default experiment groups. [Learn more](https://github.com/microsoft/vscode-jupyter/wiki/Experiments).","scope":"application"},"jupyter.enableKeyboardShortcuts":{"type":"boolean","default":true,"deprecationMessage":"This setting has been deprecated as Jupyter keyboard shortcuts have been moved into the ms-toolsai.jupyter-keymap extension. If you would like to disable Jupyter keyboard shortcuts, please uninstall or disable that extension instead.","description":"Enables Jupyter style keyboard shortcuts for Notebooks.","scope":"application"},"jupyter.allowImportFromNotebook":{"type":"boolean","default":true,"description":"Allows a user to import a jupyter notebook into a python file anytime one is opened.","scope":"resource"},"jupyter.widgetScriptSources":{"type":"array","default":[],"items":{"type":"string","enum":["jsdelivr.com","unpkg.com"],"enumDescriptions":["Loads widget (javascript) scripts from https://www.jsdelivr.com/","Loads widget (javascript) scripts from https://unpkg.com/"]},"uniqueItems":true,"markdownDescription":"Defines the location and order of the sources where scripts files for Widgets are downloaded from (e.g. ipywidgest, bqplot, beakerx, ipyleaflet, etc). Not selecting any of these could result in widgets not rendering or function correctly. See [here](https://aka.ms/PVSCIPyWidgets) for more information. Once updated you will need to restart the Kernel.","scope":"machine"},"jupyter.askForLargeDataFrames":{"type":"boolean","default":true,"description":"Warn the user before trying to open really large data frames.","scope":"application"},"jupyter.askForKernelRestart":{"type":"boolean","default":true,"description":"Warn the user before restarting a kernel.","scope":"application"},"jupyter.exportWithOutputEnabled":{"type":"boolean","default":false,"description":"Enable exporting a python file into a jupyter notebook and run all cells when doing so.","scope":"resource"},"jupyter.jupyterLaunchTimeout":{"type":"number","default":60000,"description":"Amount of time (in ms) to wait for the Jupyter Notebook server to start.","scope":"resource"},"jupyter.jupyterLaunchRetries":{"type":"number","default":3,"description":"Number of times to attempt to connect to the Jupyter Notebook","scope":"resource"},"jupyter.jupyterServerType":{"type":"string","enum":["local","remote"],"description":"Determines the type of connection for talking to jupyter. Local will start kernels locally. Remote allows for connections to remote servers","scope":"resource"},"jupyter.jupyterCommandLineArguments":{"type":"array","default":[],"description":"When a Notebook Editor or Interactive Window Jupyter server is started, these arguments will be passed to it. By default this list is generated by the Jupyter Extension.","scope":"resource"},"jupyter.notebookFileRoot":{"type":"string","default":"${fileDirname}","description":"Set the root directory for loading files for the Interactive window.","scope":"resource"},"jupyter.searchForJupyter":{"type":"boolean","default":true,"description":"Search all installed Python interpreters for a Jupyter installation when starting the Interactive window","scope":"resource"},"jupyter.changeDirOnImportExport":{"type":"boolean","default":false,"description":"When importing or exporting a Jupyter Notebook add a directory change command to allow relative path loading to work.","scope":"resource"},"jupyter.useDefaultConfigForJupyter":{"type":"boolean","default":true,"description":"When running Jupyter locally, create a default empty Jupyter config for the Interactive window","scope":"resource"},"jupyter.jupyterInterruptTimeout":{"type":"number","default":10000,"description":"Amount of time (in ms) to wait for an interrupt before asking to restart the Jupyter kernel.","scope":"resource"},"jupyter.allowInput":{"type":"boolean","default":true,"description":"Allow the inputting of python code directly into the Interactive window"},"jupyter.showCellInputCode":{"type":"boolean","default":true,"description":"Show cell input code.","scope":"resource"},"jupyter.collapseCellInputCodeByDefault":{"type":"boolean","default":true,"description":"Collapse cell input code by default.","scope":"resource"},"jupyter.maxOutputSize":{"type":"number","default":400,"description":"Maximum size (in pixels) of text output in the Notebook Editor before a scrollbar appears. First enable scrolling for cell outputs in settings.","scope":"resource"},"jupyter.alwaysScrollOnNewCell":{"type":"boolean","default":false,"description":"Automatically scroll the interactive window to show the output of the last statement executed. If false, the interactive window will only automatically scroll if the bottom of the prior cell is visible.","scope":"resource"},"jupyter.enableScrollingForCellOutputs":{"type":"boolean","default":true,"description":"Enables scrolling for large cell outputs in the Notebook Editor. This setting does not apply to the Interactive Window.","scope":"resource"},"jupyter.errorBackgroundColor":{"type":"string","default":"#FFFFFF","description":"Background color (in hex) for exception messages in the Interactive window.","scope":"resource","deprecationMessage":"No longer necessary as the theme colors are used for error messages"},"jupyter.sendSelectionToInteractiveWindow":{"type":"boolean","default":false,"description":"When pressing shift+enter, send selected code in a Python file to the Jupyter interactive window as opposed to the Python terminal.","scope":"resource"},"jupyter.variableExplorerExclude":{"type":"string","default":"module;function;builtin_function_or_method;ABCMeta;type","description":"Types to exclude from showing in the Interactive variable explorer","scope":"resource"},"jupyter.codeRegularExpression":{"type":"string","default":"^(#\\\\s*%%|#\\\\s*\\\\<codecell\\\\>|#\\\\s*In\\\\[\\\\d*?\\\\]|#\\\\s*In\\\\[ \\\\])","description":"Regular expression used to identify code cells. All code until the next match is considered part of this cell.","scope":"resource"},"jupyter.defaultCellMarker":{"type":"string","default":"# %%","description":"Cell marker used for delineating a cell in a python file.","scope":"resource"},"jupyter.markdownRegularExpression":{"type":"string","default":"^(#\\\\s*%%\\\\s*\\\\[markdown\\\\]|#\\\\s*\\\\<markdowncell\\\\>)","description":"Regular expression used to identify markdown cells. All comments after this expression are considered part of the markdown.","scope":"resource"},"jupyter.allowLiveShare":{"type":"boolean","default":true,"description":"Allow the Interactive window to be shared during a Live Share session","scope":"resource"},"jupyter.ignoreVscodeTheme":{"type":"boolean","default":false,"description":"Don\'t use the VS Code theme in the Interactive window (requires reload of VS Code). This forces the Interactive window to use \'Light +(default light)\' and disables matplotlib defaults.","scope":"resource"},"jupyter.themeMatplotlibPlots":{"type":"boolean","default":false,"description":"In the Interactive window and Notebook Editor theme matplotlib outputs to match the VS Code editor theme.","scope":"resource"},"jupyter.liveShareConnectionTimeout":{"type":"number","default":1000,"description":"Amount of time to wait for guest connections to verify they have the Python extension installed.","scope":"application"},"jupyter.decorateCells":{"type":"boolean","default":true,"description":"Draw a highlight behind the currently active cell.","scope":"resource"},"jupyter.enableCellCodeLens":{"type":"boolean","default":true,"description":"Enables code lens for \'cells\' in a python file.","scope":"resource"},"jupyter.enableAutoMoveToNextCell":{"type":"boolean","default":true,"description":"Enables moving to the next cell when clicking on a \'Run Cell\' code lens.","scope":"resource"},"jupyter.autoPreviewNotebooksInInteractivePane":{"type":"boolean","deprecationMessage":"No longer supported. Notebooks open directly in their own editor now.","default":false,"description":"When opening ipynb files, automatically preview the contents in the Interactive window.","scope":"resource"},"jupyter.allowUnauthorizedRemoteConnection":{"type":"boolean","default":false,"description":"Allow for connecting the Interactive window to a https Jupyter server that does not have valid certificates. This can be a security risk, so only use for known and trusted servers.","scope":"resource"},"jupyter.generateSVGPlots":{"type":"boolean","default":false,"description":"Generate SVG output for notebook plots. This allows for better display in the plot viewer at the cost of generation speed and file size.","scope":"resource"},"jupyter.codeLenses":{"type":"string","default":"jupyter.runcell,  jupyter.runallcellsabove, jupyter.debugcell","description":"Set of commands to put as code lens above a cell.","scope":"resource"},"jupyter.debugCodeLenses":{"type":"string","default":"jupyter.debugcontinue, jupyter.debugstop, jupyter.debugstepover","description":"Set of debug commands to put as code lens above a cell while debugging.","scope":"resource"},"jupyter.debugpyDistPath":{"type":"string","default":"","description":"Path to debugpy bits for debugging cells.","scope":"resource"},"jupyter.stopOnFirstLineWhileDebugging":{"type":"boolean","default":true,"description":"When debugging a cell, stop on the first line.","scope":"resource"},"jupyter.remoteDebuggerPort":{"type":"number","default":-1,"description":"When debugging a cell, open this port on the remote box. If -1 is specified, a random port between 8889 and 9000 will be attempted.","scope":"resource"},"jupyter.disableJupyterAutoStart":{"type":"boolean","default":false,"description":"When true, disables Jupyter from being automatically started for you. You must instead run a cell to start Jupyter.","scope":"resource"},"jupyter.textOutputLimit":{"type":"number","default":20000,"description":"Limit the amount of text in Interactive cell text output to this value. 0 to allow any amount of characters.","scope":"resource"},"jupyter.colorizeInputBox":{"type":"boolean","default":true,"description":"Whether or not to use the theme\'s peek color as the background for the input box.","scope":"resource"},"jupyter.stopOnError":{"type":"boolean","default":true,"description":"Stop running cells if a cell throws an exception.","scope":"resource"},"jupyter.addGotoCodeLenses":{"type":"boolean","default":true,"description":"After running a cell, add a \'Goto\' code lens on the cell. Note, disabling all code lenses disables this code lens as well.","scope":"resource"},"jupyter.variableQueries":{"type":"array","markdownDescription":"Language to query mapping for returning the list of active variables in a Jupyter kernel. Used by the Variable Explorer in both the Interactive Window and Notebooks. Example:\\n```\\n[\\n  {\\n    \\"language\\": \\"python\\",\\n    \\"query\\": \\"%who_ls\\",\\n    \\"parseExpr\\": \\"\'(\\\\\\\\w+)\'\\"\\n  }\\n]\\n```","scope":"machine","examples":[[{"language":"python","query":"_rwho_ls = %who_ls\\\\nprint(_rwho_ls)","parseExpr":"\'(\\\\w+)\'"},{"language":"julia","query":"whos","parseExpr":"\'(\\\\w+)\'"}]]},"jupyter.interactiveWindowMode":{"type":"string","enum":["perFile","single","multiple"],"scope":"resource","description":"Behavior of the Interactive Window. \'perFile\' will create a new interactive window for every file that runs a cell. \'single\' allows a single window. \'multiple\' allows the creation of multiple.","default":"multiple"},"jupyter.magicCommandsAsComments":{"type":"boolean","default":false,"description":"Uncomment shell assignments (#!), line magic (#!%) and cell magic (#!%%) when parsing code cells.","scope":"resource"},"jupyter.runMagicCommands":{"type":"string","default":"","deprecationMessage":"This setting has been deprecated in favor of \'runStartupCommands\'.","description":"A series of Python instructions or iPython magic commands separated by \'\\\\n\' that will be executed when the interactive window loads.","scope":"application"},"jupyter.runStartupCommands":{"type":"array","default":"","description":"A series of Python instructions or iPython magic commands. Can be either an array of strings or a single string with commands separated by \'\\\\n\'. Commands will be silently executed whenever the interactive window loads. For instance, set this to \'%load_ext autoreload\\\\n%autoreload 2\' to automatically reload changes made to imported files without having to restart the interactive session.","scope":"application"},"jupyter.debugJustMyCode":{"type":"boolean","default":true,"description":"When debugging, debug just my code.","scope":"resource"}}},"languages":[{"id":"jupyter","aliases":["Jupyter","Notebook"],"extensions":[".ipynb"]},{"id":"raw"},{"id":"julia","aliases":["Julia","julia"],"extensions":[".jl"]}],"notebookRenderer":[{"id":"jupyter-ipywidget-renderer","entrypoint":"./out/datascience-ui/ipywidgetsRenderer/ipywidgetsRenderer.js","displayName":"Jupyter IPyWidget Renderer","mimeTypes":["application/vnd.jupyter.widget-view+json"]},{"id":"jupyter-error-renderer","entrypoint":"./out/datascience-ui/errorRenderer/errorRenderer.js","displayName":"Jupyter Error Renderer","requiresMessaging":"always","mimeTypes":["application/vnd.code.notebook.error"]},{"id":"jupyter-notebook-renderer","entrypoint":"./out/client_renderer/renderers.js","displayName":"Jupyter Notebook Renderer","requiresMessaging":"optional","mimeTypes":["application/geo+json","application/vdom.v1+json","application/vnd.dataresource+json","application/vnd.plotly.v1+json","application/vnd.vega.v2+json","application/vnd.vega.v3+json","application/vnd.vega.v4+json","application/vnd.vega.v5+json","application/vnd.vegalite.v1+json","application/vnd.vegalite.v2+json","application/vnd.vegalite.v3+json","application/vnd.vegalite.v4+json","application/x-nteract-model-debug+json","image/gif","image/png","image/jpeg","image/svg+xml","text/latex","text/vnd.plotly.v1+html"]}],"viewsContainers":{"panel":[{"id":"jupyter-variables","title":"Jupyter","icon":"$(notebook)"}]},"views":{"jupyter-variables":[{"type":"webview","id":"jupyterViewVariables","name":"Variables","when":"jupyter.hasNativeNotebookOpen"}]},"debuggers":[{"type":"Python Kernel Debug Adapter","label":"Python Kernel Debug Adapter"}]},"scripts":{"package":"gulp clean && gulp prePublishBundle && vsce package -o ms-toolsai-jupyter-insiders.vsix","compile":"tsc -watch -p ./","compiled":"deemon npm run compile","kill-compiled":"deemon --kill npm run compile","compile-webviews-watch":"gulp compile-ipywidgets && cross-env NODE_OPTIONS=--max_old_space_size=9096 webpack --config ./build/webpack/webpack.datascience-ui.config.js --watch","compile-webviews-watchd":"deemon npm run compile-webviews-watch","kill-compile-webviews-watchd":"deemon --kill npm run compile-webviews-watch","build-ipywidgets":"npm run build-ipywidgets-clean && npm run build-ipywidgets-compile && npm run build-ipywidgets-webpack","build-ipywidgets-clean":"node ./src/ipywidgets/scripts/clean.js","build-ipywidgets-compile":"tsc -p ./src/ipywidgets && rimraf ./out/tsconfig.tsbuildinfo && node ./src/ipywidgets/scripts/copyfiles.js","build-ipywidgets-webpack":"cross-env NODE_OPTIONS=--max_old_space_size=9096 webpack --config ./src/ipywidgets/webpack.config.js","checkDependencies":"gulp checkDependencies","postinstall":"node ./build/ci/postInstall.js","test:unittests":"mocha --config ./build/.mocha.unittests.js.json","test:functional":"mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:perf":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.perf.json","test:functional:memleak":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:parallel":"cross-env VSC_JUPYTER_CI_TEST_PARALLEL=1 node ./build/ci/scripts/runFunctionalTests.js","test:cover:report":"nyc report --reporter=text --reporter=html --reporter=text-summary --reporter=cobertura","preTestJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js","testJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js && cross-env CODE_TESTS_WORKSPACE=src/test VSC_JUPYTER_CI_TEST_GREP=\'Language Server:\' node ./out/test/testBootstrap.js ./out/test/standardTest.js && node ./out/test/languageServers/jedi/lspTeardown.js","pretestVSCode":"cross-env VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders node ./out/test/datascience/dsTestSetup.js","testVSCode":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders TEST_FILES_SUFFIX=vscode.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true node ./out/test/testBootstrap.js ./out/test/standardTest.js","pretestNativeNotebooksInVSCode":"cross-env VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders VSC_JUPYTER_RUN_NB_TEST=true node ./out/test/datascience/dsTestSetup.js","testNativeNotebooksInVSCode":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders VSC_JUPYTER_RUN_NB_TEST=true TEST_FILES_SUFFIX=vscode.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true node ./out/test/testBootstrap.js ./out/test/standardTest.js","pretestNativeNotebooksWithoutPythonInVSCode":"cross-env VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders VSC_JUPYTER_RUN_NB_TEST=true node ./out/test/datascience/dsTestSetup.js","testNativeNotebooksWithoutPythonInVSCode":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders VSC_JUPYTER_RUN_NB_TEST=true TEST_FILES_SUFFIX=vscode.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true VSC_JUPYTER_CI_TEST_GREP=non-python-kernel VSC_JUPYTER_CI_TEST_DO_NOT_INSTALL_PYTHON_EXT=true node ./out/test/testBootstrap.js ./out/test/standardTest.js","testNativeNotebooksAndWebviews":"cross-env CODE_TESTS_WORKSPACE=src/test/datascience VSC_JUPYTER_CI_TEST_VSC_CHANNEL=insiders VSC_JUPYTER_RUN_NB_TEST=true TEST_FILES_SUFFIX=vscode.test VSC_JUPYTER_FORCE_LOGGING=1 VSC_JUPYTER_CI_TEST_GREP=webview-test VSC_JUPYTER_LOAD_EXPERIMENTS_FROM_FILE=true node ./out/test/testBootstrap.js ./out/test/standardTest.js","testPerformance":"node ./out/test/testBootstrap.js ./out/test/performanceTest.js","testSmoke":"node ./out/test/testBootstrap.js ./out/test/smokeTest.js","testSmokeLogged":"cross-env VSC_JUPYTER_FORCE_LOGGING=true VSC_JUPYTER_LOG_FILE=smoke-test.log node --no-force-async-hooks-checks ./out/test/testBootstrap.js ./out/test/smokeTest.js","lint":"eslint -c .eslintrc.js --ext .ts src","prettier-fix":"prettier \'src/**/*.ts*\' --write && prettier \'build/**/*.js\' --write","clean":"gulp clean","updateBuildNumber":"gulp updateBuildNumber","webpack":"webpack","download-api":"vscode-dts dev","postdownload-api":"vscode-dts main"},"dependencies":{"@enonic/fnv-plus":"^1.3.0","@fluentui/react":"^7.160.1","@jupyter-widgets/base":"^2.0.1","@jupyter-widgets/controls":"^1.5.2","@jupyter-widgets/jupyterlab-manager":"^1.0.2","@jupyter-widgets/output":"^2.0.1","@jupyter-widgets/schema":"^0.4.0","@jupyterlab/coreutils":"^3.1.0","@jupyterlab/services":"^4.2.0","@nteract/messaging":"^7.0.0","@octokit/rest":"^18.0.6","@phosphor/widgets":"^1.9.3","ansi-to-html":"^0.6.7","arch":"^2.1.0","bootstrap":"^4.3.1","bootstrap-less":"^3.3.8","detect-indent":"^6.0.0","diff-match-patch":"^1.0.0","download":"^8.0.0","encoding":"^0.1.13","fast-deep-equal":"^2.0.1","font-awesome":"^4.7.0","fs-extra":"^4.0.3","get-port":"^3.2.0","glob":"^7.1.2","hash.js":"^1.1.7","iconv-lite":"^0.4.21","image-size":"^1.0.0","inversify":"^5.0.1","is-online":"^9.0.0","jsonc-parser":"^2.0.3","lodash":"^4.17.21","log4js":"^6.1.2","md5":"^2.2.1","named-js-regexp":"^1.3.3","node-fetch":"^2.6.1","node-stream-zip":"^1.6.0","onigasm":"^2.2.2","pdfkit":"^0.12.1","portfinder":"^1.0.25","re-resizable":"~6.5.5","react":"^16.5.2","react-data-grid":"^6.0.2-0","react-dom":"^16.5.2","react-draggable":"^4.4.2","react-redux":"^7.1.1","react-svg-pan-zoom":"^3.1.0","react-svgmt":"^1.1.8","react-virtualized":"^9.21.1","redux":"^4.0.4","redux-logger":"^3.0.6","reflect-metadata":"^0.1.12","request":"^2.87.0","request-progress":"^3.0.0","requirejs":"^2.3.6","rxjs":"^6.5.4","rxjs-compat":"^6.5.4","sanitize-filename":"^1.6.3","semver":"^5.5.0","slickgrid":"^2.4.17","stack-trace":"0.0.10","string-argv":"^0.3.1","strip-ansi":"^5.2.0","styled-components":"^5.2.1","svg-inline-react":"^3.1.0","svg-to-pdfkit":"^0.1.8","tcp-port-used":"^1.0.1","tmp":"^0.0.29","typescript-char":"^0.0.0","uint64be":"^1.0.1","underscore":"^1.12.1","unicode":"^10.0.0","untildify":"^3.0.2","url-parse":"^1.5.0","uuid":"^3.3.2","vscode-debugprotocol":"^1.41.0","vscode-extension-telemetry":"0.1.4","vscode-jsonrpc":"6.0.0","vscode-languageclient":"7.0.0","vscode-languageserver":"7.0.0","vscode-languageserver-protocol":"3.16.0","vscode-tas-client":"^0.1.17","winston":"^3.2.1","ws":"^6.0.0","zeromq":"^6.0.0-beta.6"},"devDependencies":{"@actions/core":"^1.2.6","@actions/github":"^4.0.0","@babel/cli":"^7.8.4","@babel/core":"^7.4.4","@babel/plugin-transform-runtime":"^7.4.4","@babel/polyfill":"^7.4.4","@babel/preset-env":"^7.1.0","@babel/preset-react":"^7.0.0","@babel/register":"^7.9.0","@istanbuljs/nyc-config-typescript":"^0.1.3","@octokit/core":"^3.2.4","@octokit/plugin-paginate-rest":"^2.7.0","@octokit/webhooks":"^7.21.0","@purtuga/esm-webpack-plugin":"^1.5.0","@sinonjs/fake-timers":"^6.0.1","@testing-library/react":"^9.4.0","@types/ansi-regex":"^4.0.0","@types/chai":"^4.1.2","@types/chai-arrays":"^1.0.2","@types/chai-as-promised":"^7.1.0","@types/copy-webpack-plugin":"^6.0.0","@types/cors":"^2.8.6","@types/debug":"^4.1.5","@types/dedent":"^0.7.0","@types/del":"^4.0.0","@types/diff-match-patch":"^1.0.32","@types/download":"^6.2.2","@types/enzyme":"^3.1.14","@types/enzyme-adapter-react-16":"^1.0.3","@types/event-stream":"^3.3.33","@types/fs-extra":"^5.0.1","@types/get-port":"^3.2.0","@types/glob":"^5.0.35","@types/html-webpack-plugin":"^3.2.0","@types/iconv-lite":"^0.0.1","@types/jsdom":"^11.12.0","@types/loadable__component":"^5.10.0","@types/loader-utils":"^1.1.3","@types/lodash":"^4.14.104","@types/md5":"^2.1.32","@types/memoize-one":"^4.1.1","@types/mocha":"^5.2.7","@types/nock":"^10.0.3","@types/node":"^14.17.4","@types/node-fetch":"^2.5.7","@types/pdfkit":"^0.11.0","@types/promisify-node":"^0.4.0","@types/react":"^16.4.14","@types/react-dom":"^16.0.8","@types/react-json-tree":"^0.6.8","@types/react-redux":"^7.1.5","@types/react-virtualized":"^9.21.2","@types/redux-logger":"^3.0.7","@types/request":"^2.47.0","@types/semver":"^5.5.0","@types/shortid":"^0.0.29","@types/sinon":"^7.5.1","@types/sinonjs__fake-timers":"^6.0.1","@types/socket.io":"^2.1.4","@types/stack-trace":"0.0.29","@types/tcp-port-used":"^1.0.0","@types/temp":"^0.8.32","@types/tmp":"0.0.33","@types/untildify":"^3.0.0","@types/uuid":"^3.4.3","@types/vscode-notebook-renderer":"^1.57.7","@types/webpack-bundle-analyzer":"^2.13.0","@types/winreg":"^1.2.30","@types/ws":"^6.0.1","@types/xml2js":"^0.4.2","@typescript-eslint/eslint-plugin":"^3.10.1","@typescript-eslint/eslint-plugin-tslint":"^4.13.0","@typescript-eslint/parser":"^3.10.1","@vscode/test-electron":"^1.6.1","acorn":"^6.4.1","babel-polyfill":"^6.26.0","cache-loader":"^4.1.0","chai":"^4.3.0","chai-arrays":"^2.0.0","chai-as-promised":"^7.1.1","chai-exclude":"^2.0.2","codecov":"^3.7.1","colors":"^1.2.1","copy-webpack-plugin":"^6.2.1","cors":"^2.8.5","cross-env":"^6.0.3","cross-spawn":"^6.0.5","css-loader":"^1.0.1","dedent":"^0.7.0","deemon":"^1.4.0","del":"^3.0.0","enzyme":"^3.7.0","enzyme-adapter-react-16":"^1.6.0","eslint":"^7.17.0","eslint-config-airbnb":"^18.2.0","eslint-config-prettier":"^6.15.0","eslint-plugin-import":"^2.22.1","eslint-plugin-jsdoc":"^31.0.4","eslint-plugin-jsx-a11y":"^6.3.1","eslint-plugin-no-null":"^1.0.2","eslint-plugin-prefer-arrow":"^1.2.2","eslint-plugin-prettier":"^3.1.2","eslint-plugin-react":"^7.22.0","eslint-plugin-react-hooks":"^4.0.0","expose-loader":"^0.7.5","express":"^4.17.1","fast-xml-parser":"^3.16.0","file-loader":"^5.1.0","flat":"^4.0.0","fork-ts-checker-webpack-plugin":"^5.2.0","gulp":"^4.0.0","gulp-azure-storage":"^0.11.1","gulp-filter":"^5.1.0","gulp-rename":"^1.4.0","gulp-typescript":"^4.0.1","html-webpack-plugin":"^3.2.0","husky":"^1.1.2","jsdom":"^15.0.0","less":"^3.9.0","less-loader":"^5.0.0","less-plugin-inline-urls":"^1.2.0","lolex":"^5.1.2","mocha":"^8.1.1","mocha-junit-reporter":"^1.17.0","mocha-multi-reporters":"^1.1.7","nocache":"^2.1.0","nock":"^10.0.6","node-gyp-build":"^4.2.3","node-has-native-dependencies":"^1.0.2","node-html-parser":"^1.1.13","nyc":"^15.0.0","postcss":"^7.0.27","postcss-cssnext":"^3.1.0","postcss-import":"^12.0.1","postcss-loader":"^3.0.0","prettier":"^2.0.2","range-inclusive":"^1.0.2","relative":"^3.0.2","remove-files-webpack-plugin":"^1.4.0","rewiremock":"^3.13.0","rimraf":"^3.0.2","sinon":"^8.0.1","socket.io":"^2.3.0","source-map-support":"^0.5.12","style-loader":"^0.23.1","svg-inline-loader":"^0.8.0","thread-loader":"^2.1.3","transform-loader":"^0.2.4","trim":"^0.0.3","ts-loader":"^5.3.0","ts-mock-imports":"^1.3.0","ts-mockito":"^2.5.0","ts-node":"^8.3.0","tsconfig-paths-webpack-plugin":"^3.2.0","tslib":"^2.3.0","tslint":"^6.1.3","tslint-config-prettier":"^1.18.0","tslint-eslint-rules":"^5.1.0","tslint-microsoft-contrib":"^5.0.3","tslint-plugin-prettier":"^2.1.0","typemoq":"^2.1.0","typescript":"^4.3.5","typescript-formatter":"^7.1.0","unicode-properties":"^1.3.1","url-loader":"^1.1.2","vsce":"^1.59.0","vscode-dts":"^0.3.1","webpack":"^4.37.0","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.1.2","webpack-fix-default-import-plugin":"^1.0.3","why-is-node-running":"^2.0.3","yargs":"^15.4.1","yargs-parser":"^13.1.2"},"optionalDependencies":{"canvas":"^2.7.0","playwright-chromium":"^1.10.0"}}')},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardService=void 0;const i=n(0),o=n(1);let s=class{async readText(){return o.env.clipboard.readText()}async writeText(e){await o.env.clipboard.writeText(e)}};s=r([i.injectable()],s),t.ClipboardService=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadVSCodeCommandHandler=void 0;const o=n(0),s=n(10),a=n(9),c=n(7);let l=class{constructor(e,t){this.commandManager=e,this.appShell=t}async activate(){this.commandManager.registerCommand("jupyter.reloadVSCode",this.onReloadVSCode,this)}async onReloadVSCode(e){await this.appShell.showInformationMessage(e,s.Common.reload())===s.Common.reload()&&this.commandManager.executeCommand("workbench.action.reloadWindow").then(a.noop,a.noop)}};l=r([o.injectable(),i(0,o.inject(c.ICommandManager)),i(1,o.inject(c.IApplicationShell))],l),t.ReloadVSCodeCommandHandler=l},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugService=void 0;const o=n(0),s=n(1);let a=r=class{get activeDebugConsole(){return s.debug.activeDebugConsole}get activeDebugSession(){return s.debug.activeDebugSession}get breakpoints(){return s.debug.breakpoints}get onDidChangeActiveDebugSession(){return s.debug.onDidChangeActiveDebugSession}get onDidStartDebugSession(){return s.debug.onDidStartDebugSession}get onDidReceiveDebugSessionCustomEvent(){return s.debug.onDidReceiveDebugSessionCustomEvent}get onDidTerminateDebugSession(){return s.debug.onDidTerminateDebugSession}get onDidChangeBreakpoints(){return s.debug.onDidChangeBreakpoints}registerDebugConfigurationProvider(e,t){return s.debug.registerDebugConfigurationProvider(e,t)}registerDebugAdapterTrackerFactory(e,t){return s.debug.registerDebugAdapterTrackerFactory(e,t)}startDebugging(e,t,n){return s.debug.startDebugging(e,t,n)}addBreakpoints(e){s.debug.addBreakpoints(e)}removeBreakpoints(e){s.debug.removeBreakpoints(e)}};a.instance=new r,a=r=i([o.injectable()],a),t.DebugService=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentManager=void 0;const i=n(0),o=n(1);let s=class{get textDocuments(){return o.workspace.textDocuments}get activeTextEditor(){return o.window.activeTextEditor}get visibleTextEditors(){return o.window.visibleTextEditors}get onDidChangeActiveTextEditor(){return o.window.onDidChangeActiveTextEditor}get onDidChangeTextDocument(){return o.workspace.onDidChangeTextDocument}get onDidChangeVisibleTextEditors(){return o.window.onDidChangeVisibleTextEditors}get onDidChangeTextEditorSelection(){return o.window.onDidChangeTextEditorSelection}get onDidChangeTextEditorOptions(){return o.window.onDidChangeTextEditorOptions}get onDidChangeTextEditorViewColumn(){return o.window.onDidChangeTextEditorViewColumn}get onDidOpenTextDocument(){return o.workspace.onDidOpenTextDocument}get onDidCloseTextDocument(){return o.workspace.onDidCloseTextDocument}get onDidSaveTextDocument(){return o.workspace.onDidSaveTextDocument}showTextDocument(e,t,n){return o.window.showTextDocument(e,t,n)}openTextDocument(e){return o.workspace.openTextDocument(e)}applyEdit(e){return o.workspace.applyEdit(e)}createTextEditorDecorationType(e){return o.window.createTextEditorDecorationType(e)}};s=r([i.injectable()],s),t.DocumentManager=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptedStorage=void 0;const o=n(0),s=n(1),a=n(461),c=n(4),l=n(3);let u=class{constructor(e){this.extensionContext=e,this.testingState=new Map}async store(e,t,n){if(a.IS_REMOTE_NATIVE_TEST&&this.extensionContext.extensionMode!==s.ExtensionMode.Production)this.testingState.set(`${e}#${t}`,n||"");else if(n)await this.extensionContext.secrets.store(`${e}.${t}`,n);else try{await this.extensionContext.secrets.delete(`${e}.${t}`)}catch(e){c.traceError(e)}}async retrieve(e,t){if(a.IS_REMOTE_NATIVE_TEST&&this.extensionContext.extensionMode!==s.ExtensionMode.Production)return this.testingState.get(`${e}#${t}`);try{return await this.extensionContext.secrets.get(`${e}.${t}`)}catch(n){try{return void await this.extensionContext.secrets.delete(`${e}.${t}`)}catch(e){c.traceError(e)}}}};u=r([o.injectable(),i(0,o.inject(l.IExtensionContext))],u),t.EncryptedStorage=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_CI_SERVER_TEST_DEBUGGER=t.IS_CI_SERVER=void 0;const r=void 0!==process.env.TF_BUILD,i="true"===process.env.GITHUB_ACTIONS;t.IS_CI_SERVER=r||i,t.IS_CI_SERVER_TEST_DEBUGGER="1"===process.env.IS_CI_SERVER_TEST_DEBUGGER},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;const o=n(0),s=n(6),a=n(1),c=n(14),l=n(10),u=n(16);let d=class{constructor(e){this.fs=e}get all(){return a.extensions.all}get onDidChange(){return a.extensions.onDidChange}getExtension(e){return a.extensions.getExtension(e)}async determineExtensionFromCallStack(){const e=(new Error).stack;if(e){const t=c.EXTENSION_ROOT_DIR.toLowerCase(),n=e.split("\n").map(e=>{const t=/\((.*)\)/.exec(e);if(t)return t[1].toLowerCase()});for(const e of n)if(e&&!e.startsWith(t)){let t=s.dirname(e),n=e;for(;t&&t.length<n.length;){const e=s.join(t,"package.json");if(await this.fs.localFileExists(e)){const t=await this.fs.readFile(a.Uri.file(e));try{const e=JSON.parse(t);return{extensionId:`${e.publisher}.${e.name}`,displayName:e.displayName}}catch(e){}}n=t,t=s.dirname(t)}}}return{extensionId:l.DataScience.unknownPackage(),displayName:l.DataScience.unknownPackage()}}};d=r([o.injectable(),i(0,o.inject(u.IFileSystem))],d),t.Extensions=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageService=void 0;const i=n(0),o=n(1);let s=class{registerCompletionItemProvider(e,t,...n){return o.languages.registerCompletionItemProvider(e,t,...n)}};s=r([i.injectable()],s),t.LanguageService=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeNotebook=void 0;const o=n(0),s=n(1),a=n(3),c=n(9),l=n(7);let u=class{constructor(e,t){this.disposables=e,this.env=t,this._onDidChangeNotebookDocument=new s.EventEmitter,this.handledCellChanges=new WeakSet,this.addEventHandlers(),this.onDidChangeNotebookEditorSelection=s.window.onDidChangeNotebookEditorSelection,this.onDidChangeActiveNotebookEditor=s.window.onDidChangeActiveNotebookEditor,this.onDidOpenNotebookDocument=s.workspace.onDidOpenNotebookDocument,this.onDidCloseNotebookDocument=s.workspace.onDidCloseNotebookDocument,this.onDidChangeVisibleNotebookEditors=s.window.onDidChangeVisibleNotebookEditors,this.onDidSaveNotebookDocument=s.notebooks.onDidSaveNotebookDocument,this.onDidChangeNotebookDocument=this._onDidChangeNotebookDocument.event}get onDidChangeNotebookCellExecutionState(){return s.notebooks.onDidChangeNotebookCellExecutionState}get notebookDocuments(){return s.workspace.notebookDocuments}get notebookEditors(){return s.window.visibleNotebookEditors}get activeNotebookEditor(){return s.window.activeNotebookEditor}async openNotebookDocument(e,t){return"string"==typeof e?s.workspace.openNotebookDocument(e,t):s.workspace.openNotebookDocument(e)}async showNotebookDocument(e,t){return c.isUri(e),s.window.showNotebookDocument(e,t)}registerNotebookSerializer(e,t,n){return s.workspace.registerNotebookSerializer(e,t,n)}createNotebookController(e,t,n,r,i){return s.notebooks.createNotebookController(e,t,n,r,i)}addEventHandlers(){this.addedEventHandlers||(this.addedEventHandlers=!0,this.disposables.push(s.notebooks.onDidChangeCellMetadata(e=>this._onDidChangeNotebookDocument.fire({...e,type:"changeCellMetadata"})),s.notebooks.onDidChangeNotebookDocumentMetadata(e=>this._onDidChangeNotebookDocument.fire({...e,type:"changeNotebookMetadata"})),s.notebooks.onDidChangeCellOutputs(e=>this._onDidChangeNotebookDocument.fire({...e,type:"changeCellOutputs"})),s.notebooks.onDidChangeNotebookCells(e=>{this.handledCellChanges.has(e)||(this.handledCellChanges.add(e),this._onDidChangeNotebookDocument.fire({...e,type:"changeCells"}))})))}};u=r([o.injectable(),i(0,o.inject(a.IDisposableRegistry)),i(1,o.inject(l.IApplicationEnvironment))],u),t.VSCodeNotebook=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncDisposableRegistry=void 0;const i=n(0);let o=class{constructor(){this._list=[]}async dispose(){const e=this._list.map(e=>e.dispose());await Promise.all(e),this._list=[]}push(e){e&&this._list.push(e)}get list(){return this._list}};o=r([i.injectable()],o),t.AsyncDisposableRegistry=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoUtils=void 0;const i=n(61),o=n(0),s=n(4);let a=class{createHash(e,t,r="FNV"){let o;if("FNV"===r){o=n(1091).fast1a32hex(e)}else o="SHA256"===r?i.createHash("sha256").update(e).digest("hex"):i.createHash("sha512").update(e).digest("hex");if("number"===t){const t=parseInt(o,16);return isNaN(t)&&s.traceError(`Number hash for data '${e}' is NaN`),t}return o}};a=r([o.injectable()],a),t.CryptoUtils=a},function(e,t,n){var r=function(){var e,t,n,r,i,o,s,a,c=[],l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u="1a",d=!1,h=52,p={32:{offset:0},64:{offset:[0,0,0,0]},128:{offset:[0,0,0,0,0,0,0,0]},256:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},512:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},1024:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};for(e=0;e<256;e++)c[e]=(e>>4&15).toString(16)+(15&e).toString(16);function f(e,t){var n,r,i,o=[0],s="";for(r=0;r<e.length;r+=2){for(n=parseInt(e.substr(r,2),16),i=0;i<o.length;i++)n+=o[i]<<8,o[i]=n%t,n=n/t|0;for(;n>0;)o.push(n%t),n=n/t|0}for(r=o.length-1;r>=0;--r)s+="0123456789abcdefghijklmnopqrstuvwxyz"[o[r]];return s}function m(e,t){return{bits:t,value:e,dec:function(){return f(e,10)},hex:function(){return e},str:function(){return f(e,36)}}}function g(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return c[e>>>24]+c[e>>>16&255]+c[e>>>8&255]+c[255&e]},str:function(){return e.toString(36)}}}function v(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return("0000000000000000"+e.toString(16)).substr(-13)},str:function(){return e.toString(36)}}}function y(e,c){var l="object"==typeof e?JSON.stringify(e):e;switch(c||h){case 32:return t(l);case 64:return r(l);case 128:return i(l);case 256:return o(l);case 512:return s(l);case 1024:return a(l);default:return n(l)}}function b(e){if("1a"===e)u=e,t=d?x:S,n=d?T:k,r=d?j:M,i=d?N:O,o=d?U:F,s=d?V:W,a=d?$:q;else{if("1"!==e)throw new Error("Supported FNV versions: 1, 1a");u=e,t=d?C:E,n=d?I:D,r=d?L:P,i=d?R:A,o=d?Y:B,s=d?K:H,a=d?z:J}}function _(e){e?(d=!0,t="1a"==u?x:C,n="1a"==u?T:I,r="1a"==u?j:L,i="1a"==u?N:R,o="1a"==u?U:Y,s="1a"==u?V:K,a="1a"==u?$:z):(d=!1,t="1a"==u?S:E,n="1a"==u?k:D,r="1a"==u?M:P,i="1a"==u?O:A,o="1a"==u?F:B,s="1a"==u?W:H,a="1a"==u?q:J)}function w(e){var t,n,r=u;for(var i in"chongo <Landon Curt Noll> /\\../\\"===(e=e||0===e?e:"chongo <Landon Curt Noll> /\\../\\")&&b("1"),p){for(p[i].offset=[],n=0;n<i/16;n++)p[i].offset[n]=0;for(t=y(e,parseInt(i,10)).hex(),n=0;n<i/16;n++)p[i].offset[n]=parseInt(t.substr(4*n,4),16)}b(r)}function S(e){var t,n=e.length-3,r=p[32].offset,i=0,o=0|r[1],s=0,a=0|r[0];for(t=0;t<n;)s=403*a,s+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),a=(s+=(o^=e.charCodeAt(t++))<<8)+((i=403*o)>>>16)&65535,o=65535&i;for(;t<n+3;)s=403*a,a=(s+=(o^=e.charCodeAt(t++))<<8)+((i=403*o)>>>16)&65535,o=65535&i;return g((a<<16>>>0)+o,32)}function E(e){var t,n=e.length-3,r=p[32].offset,i=0,o=0|r[1],s=0,a=0|r[0];for(t=0;t<n;)s=403*a,s+=o<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),a=(s+=(o^=e.charCodeAt(t++))<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=e.charCodeAt(t++);for(;t<n+3;)s=403*a,a=(s+=o<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=e.charCodeAt(t++);return g((a<<16>>>0)+o,32)}function x(e){var t,n,r=e.length,i=p[32].offset,o=0,s=0|i[1],a=0,c=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=403*c,c=(a+=(s^=t>>6|192)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=403*c,a+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(o=403*s),a=403*(c=a+(o>>>16)&65535),a+=(s^=t>>12&63|128)<<8,s=65535&(o=403*s),a=403*(c=a+(o>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):(a=403*c,a+=(s^=t>>12|224)<<8,s=65535&(o=403*s),a=403*(c=a+(o>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128),a=403*c,c=(a+=s<<8)+((o=403*s)>>>16)&65535,s=65535&o;return g((c<<16>>>0)+s,32)}function C(e){var t,n,r=e.length,i=p[32].offset,o=0,s=0|i[1],a=0,c=0|i[0];for(n=0;n<r;n++)a=403*c,c=(a+=s<<8)+((o=403*s)>>>16)&65535,s=65535&o,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=403*c,c=(a+=(s^=t>>6|192)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=403*c,a+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(o=403*s),a=403*(c=a+(o>>>16)&65535),a+=(s^=t>>12&63|128)<<8,s=65535&(o=403*s),a=403*(c=a+(o>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):(a=403*c,a+=(s^=t>>12|224)<<8,s=65535&(o=403*s),a=403*(c=a+(o>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128);return g((c<<16>>>0)+s,32)}function k(e){var t,n=e.length-3,r=p[64].offset,i=0,o=0|r[3],s=0,a=0|r[2],c=0,l=0|r[1],u=0,d=0|r[0];for(t=0;t<n;)s=435*a,c=435*l,u=435*d,c+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=e.charCodeAt(t++))<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;for(;t<n+3;)s=435*a,c=435*l,u=435*d,c+=(o^=e.charCodeAt(t++))<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;return v(281474976710656*(15&d)+4294967296*l+65536*a+(o^d>>4),52)}function D(e){var t,n=e.length-3,r=p[64].offset,i=0,o=0|r[3],s=0,a=0|r[2],c=0,l=0|r[1],u=0,d=0|r[0];for(t=0;t<n;)s=435*a,c=435*l,u=435*d,c+=o<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=e.charCodeAt(t++))<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,o^=e.charCodeAt(t++);for(;t<n+3;)s=435*a,c=435*l,u=435*d,c+=o<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,o^=e.charCodeAt(t++);return v(281474976710656*(15&d)+4294967296*l+65536*a+(o^d>>4),52)}function T(e){var t,n,r=e.length,i=p[64].offset,o=0,s=0|i[3],a=0,c=0|i[2],l=0,u=0|i[1],d=0,h=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*c,l=435*u,d=435*h,l+=(s^=t>>6|192)<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*c,l=435*u,d=435*h,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(o=435*s),h=(d+=c<<8)+((l+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),h=(d+=c<<8)+((l+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(a=435*c,l=435*u,d=435*h,l+=(s^=t>>12|224)<<8,s=65535&(o=435*s),h=(d+=c<<8)+((l+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128),a=435*c,l=435*u,d=435*h,l+=s<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l;return v(281474976710656*(15&h)+4294967296*u+65536*c+(s^h>>4),52)}function I(e){var t,n,r=e.length,i=p[64].offset,o=0,s=0|i[3],a=0,c=0|i[2],l=0,u=0|i[1],d=0,h=0|i[0];for(n=0;n<r;n++)a=435*c,l=435*u,d=435*h,l+=s<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*c,l=435*u,d=435*h,l+=(s^=t>>6|192)<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*c,l=435*u,d=435*h,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(o=435*s),h=(d+=c<<8)+((l+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),h=(d+=c<<8)+((l+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(a=435*c,l=435*u,d=435*h,l+=(s^=t>>12|224)<<8,s=65535&(o=435*s),h=(d+=c<<8)+((l+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(o=435*s),c=65535&(a+=o>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128);return v(281474976710656*(15&h)+4294967296*u+65536*c+(s^h>>4),52)}function M(e){var t,n=e.length-3,r=p[64].offset,i=0,o=0|r[3],s=0,a=0|r[2],l=0,u=0|r[1],d=0,h=0|r[0];for(t=0;t<n;)s=435*a,l=435*u,d=435*h,l+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=e.charCodeAt(t++))<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l;for(;t<n+3;)s=435*a,l=435*u,d=435*h,l+=(o^=e.charCodeAt(t++))<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l;return m(c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],64)}function P(e){var t,n=e.length-3,r=p[64].offset,i=0,o=0|r[3],s=0,a=0|r[2],l=0,u=0|r[1],d=0,h=0|r[0];for(t=0;t<n;)s=435*a,l=435*u,d=435*h,l+=o<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=e.charCodeAt(t++))<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=e.charCodeAt(t++))<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,o^=e.charCodeAt(t++);for(;t<n+3;)s=435*a,l=435*u,d=435*h,l+=o<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,o^=e.charCodeAt(t++);return m(c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],64)}function j(e){var t,n,r=e.length,i=p[64].offset,o=0,s=0|i[3],a=0,l=0|i[2],u=0,d=0|i[1],h=0,f=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*l,u=435*d,h=435*f,u+=(s^=t>>6|192)<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*l,u=435*d,h=435*f,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(o=435*s),f=(h+=l<<8)+((u+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),f=(h+=l<<8)+((u+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(a=435*l,u=435*d,h=435*f,u+=(s^=t>>12|224)<<8,s=65535&(o=435*s),f=(h+=l<<8)+((u+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128),a=435*l,u=435*d,h=435*f,u+=s<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u;return m(c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],64)}function L(e){var t,n,r=e.length,i=p[64].offset,o=0,s=0|i[3],a=0,l=0|i[2],u=0,d=0|i[1],h=0,f=0|i[0];for(n=0;n<r;n++)a=435*l,u=435*d,h=435*f,u+=s<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*l,u=435*d,h=435*f,u+=(s^=t>>6|192)<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*l,u=435*d,h=435*f,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(o=435*s),f=(h+=l<<8)+((u+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),f=(h+=l<<8)+((u+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(a=435*l,u=435*d,h=435*f,u+=(s^=t>>12|224)<<8,s=65535&(o=435*s),f=(h+=l<<8)+((u+=(a+=o>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(o=435*s),l=65535&(a+=o>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128);return m(c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],64)}function O(e){var t,n=e.length-3,r=p[128].offset,i=0,o=0|r[7],s=0,a=0|r[6],l=0,u=0|r[5],d=0,h=0|r[4],f=0,g=0|r[3],v=0,y=0|r[2],b=0,_=0|r[1],w=0,S=0|r[0];for(t=0;t<n;)s=315*a,l=315*u,d=315*h,f=315*g,v=315*y,b=315*_,w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,o=65535&(i=315*o),S=(w+=u<<8)+((b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(g=65535&f),v=315*(y=65535&v),b=315*(_=65535&b),w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,o=65535&(i=315*o),S=(w+=u<<8)+((b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(g=65535&f),v=315*(y=65535&v),b=315*(_=65535&b),w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,o=65535&(i=315*o),S=(w+=u<<8)+((b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(g=65535&f),v=315*(y=65535&v),b=315*(_=65535&b),w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,w+=u<<8,o=65535&(i=315*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=w+((b+=v>>>16)>>>16)&65535,_=65535&b;for(;t<n+3;)s=315*a,l=315*u,d=315*h,f=315*g,v=315*y,b=315*_,w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,w+=u<<8,o=65535&(i=315*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=w+((b+=v>>>16)>>>16)&65535,_=65535&b;return m(c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],128)}function A(e){var t,n=e.length-3,r=p[128].offset,i=0,o=0|r[7],s=0,a=0|r[6],l=0,u=0|r[5],d=0,h=0|r[4],f=0,g=0|r[3],v=0,y=0|r[2],b=0,_=0|r[1],w=0,S=0|r[0];for(t=0;t<n;)s=315*a,l=315*u,d=315*h,f=315*g,v=315*y,b=315*_,w=315*S,v+=o<<8,b+=a<<8,o=65535&(i=315*o),S=(w+=u<<8)+((b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(g=65535&f),v=315*(y=65535&v),b=315*(_=65535&b),w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,o=65535&(i=315*o),S=(w+=u<<8)+((b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(g=65535&f),v=315*(y=65535&v),b=315*(_=65535&b),w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,o=65535&(i=315*o),S=(w+=u<<8)+((b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(g=65535&f),v=315*(y=65535&v),b=315*(_=65535&b),w=315*S,v+=(o^=e.charCodeAt(t++))<<8,b+=a<<8,w+=u<<8,o=65535&(i=315*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=w+((b+=v>>>16)>>>16)&65535,_=65535&b,o^=e.charCodeAt(t++);for(;t<n+3;)s=315*a,l=315*u,d=315*h,f=315*g,v=315*y,b=315*_,w=315*S,v+=o<<8,b+=a<<8,w+=u<<8,o=65535&(i=315*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=w+((b+=v>>>16)>>>16)&65535,_=65535&b,o^=e.charCodeAt(t++);return m(c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],128)}function N(e){var t,n,r=e.length,i=p[128].offset,o=0,s=0|i[7],a=0,l=0|i[6],u=0,d=0|i[5],h=0,f=0|i[4],g=0,v=0|i[3],y=0,b=0|i[2],_=0,w=0|i[1],S=0,E=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=(s^=t>>6|192)<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,_+=l<<8,s=65535&(o=315*s),E=(S+=d<<8)+((_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),g=315*(v=65535&g),y=315*(b=65535&y),_=315*(w=65535&_),S=315*E,y+=(s^=t>>12&63|128)<<8,_+=l<<8,s=65535&(o=315*s),E=(S+=d<<8)+((_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),g=315*(v=65535&g),y=315*(b=65535&y),_=315*(w=65535&_),S=315*E,y+=(s^=t>>6&63|128)<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,s^=63&t|128):(a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=(s^=t>>12|224)<<8,_+=l<<8,s=65535&(o=315*s),E=(S+=d<<8)+((_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),g=315*(v=65535&g),y=315*(b=65535&y),_=315*(w=65535&_),S=315*E,y+=(s^=t>>6&63|128)<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,s^=63&t|128),a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=s<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_;return m(c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],128)}function R(e){var t,n,r=e.length,i=p[128].offset,o=0,s=0|i[7],a=0,l=0|i[6],u=0,d=0|i[5],h=0,f=0|i[4],g=0,v=0|i[3],y=0,b=0|i[2],_=0,w=0|i[1],S=0,E=0|i[0];for(n=0;n<r;n++)a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=s<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=(s^=t>>6|192)<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,_+=l<<8,s=65535&(o=315*s),E=(S+=d<<8)+((_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),g=315*(v=65535&g),y=315*(b=65535&y),_=315*(w=65535&_),S=315*E,y+=(s^=t>>12&63|128)<<8,_+=l<<8,s=65535&(o=315*s),E=(S+=d<<8)+((_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),g=315*(v=65535&g),y=315*(b=65535&y),_=315*(w=65535&_),S=315*E,y+=(s^=t>>6&63|128)<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,s^=63&t|128):(a=315*l,u=315*d,h=315*f,g=315*v,y=315*b,_=315*w,S=315*E,y+=(s^=t>>12|224)<<8,_+=l<<8,s=65535&(o=315*s),E=(S+=d<<8)+((_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),g=315*(v=65535&g),y=315*(b=65535&y),_=315*(w=65535&_),S=315*E,y+=(s^=t>>6&63|128)<<8,_+=l<<8,S+=d<<8,s=65535&(o=315*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),E=S+((_+=y>>>16)>>>16)&65535,w=65535&_,s^=63&t|128);return m(c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],128)}function F(e){var t,n=e.length-3,r=p[256].offset,i=0,o=0|r[15],s=0,a=0|r[14],l=0,u=0|r[13],d=0,h=0|r[12],f=0,g=0|r[11],v=0,y=0|r[10],b=0,_=0|r[9],w=0,S=0|r[8],E=0,x=0|r[7],C=0,k=0|r[6],D=0,T=0|r[5],I=0,M=0|r[4],P=0,j=0|r[3],L=0,O=0|r[2],A=0,N=0|r[1],R=0,F=0|r[0];for(t=0;t<n;)s=355*a,l=355*u,d=355*h,f=355*g,v=355*y,b=355*_,w=355*S,E=355*x,C=355*k,D=355*T,I=355*M,P=355*j,L=355*O,A=355*N,R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,o=65535&(i=355*o),F=(R+=y<<8)+((A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(g=65535&f),v=355*(y=65535&v),b=355*(_=65535&b),w=355*(S=65535&w),E=355*(x=65535&E),C=355*(k=65535&C),D=355*(T=65535&D),I=355*(M=65535&I),P=355*(j=65535&P),L=355*(O=65535&L),A=355*(N=65535&A),R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,o=65535&(i=355*o),F=(R+=y<<8)+((A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(g=65535&f),v=355*(y=65535&v),b=355*(_=65535&b),w=355*(S=65535&w),E=355*(x=65535&E),C=355*(k=65535&C),D=355*(T=65535&D),I=355*(M=65535&I),P=355*(j=65535&P),L=355*(O=65535&L),A=355*(N=65535&A),R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,o=65535&(i=355*o),F=(R+=y<<8)+((A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(g=65535&f),v=355*(y=65535&v),b=355*(_=65535&b),w=355*(S=65535&w),E=355*(x=65535&E),C=355*(k=65535&C),D=355*(T=65535&D),I=355*(M=65535&I),P=355*(j=65535&P),L=355*(O=65535&L),A=355*(N=65535&A),R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,R+=y<<8,o=65535&(i=355*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),F=R+((A+=L>>>16)>>>16)&65535,N=65535&A;for(;t<n+3;)s=355*a,l=355*u,d=355*h,f=355*g,v=355*y,b=355*_,w=355*S,E=355*x,C=355*k,D=355*T,I=355*M,P=355*j,L=355*O,A=355*N,R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,R+=y<<8,o=65535&(i=355*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),F=R+((A+=L>>>16)>>>16)&65535,N=65535&A;return m(c[F>>8]+c[255&F]+c[N>>8]+c[255&N]+c[O>>8]+c[255&O]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[T>>8]+c[255&T]+c[k>>8]+c[255&k]+c[x>>8]+c[255&x]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],256)}function B(e){var t,n=e.length-3,r=p[256].offset,i=0,o=0|r[15],s=0,a=0|r[14],l=0,u=0|r[13],d=0,h=0|r[12],f=0,g=0|r[11],v=0,y=0|r[10],b=0,_=0|r[9],w=0,S=0|r[8],E=0,x=0|r[7],C=0,k=0|r[6],D=0,T=0|r[5],I=0,M=0|r[4],P=0,j=0|r[3],L=0,O=0|r[2],A=0,N=0|r[1],R=0,F=0|r[0];for(t=0;t<n;)s=355*a,l=355*u,d=355*h,f=355*g,v=355*y,b=355*_,w=355*S,E=355*x,C=355*k,D=355*T,I=355*M,P=355*j,L=355*O,A=355*N,R=355*F,D+=o<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,o=65535&(i=355*o),F=(R+=y<<8)+((A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(g=65535&f),v=355*(y=65535&v),b=355*(_=65535&b),w=355*(S=65535&w),E=355*(x=65535&E),C=355*(k=65535&C),D=355*(T=65535&D),I=355*(M=65535&I),P=355*(j=65535&P),L=355*(O=65535&L),A=355*(N=65535&A),R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,o=65535&(i=355*o),F=(R+=y<<8)+((A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(g=65535&f),v=355*(y=65535&v),b=355*(_=65535&b),w=355*(S=65535&w),E=355*(x=65535&E),C=355*(k=65535&C),D=355*(T=65535&D),I=355*(M=65535&I),P=355*(j=65535&P),L=355*(O=65535&L),A=355*(N=65535&A),R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,o=65535&(i=355*o),F=(R+=y<<8)+((A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(g=65535&f),v=355*(y=65535&v),b=355*(_=65535&b),w=355*(S=65535&w),E=355*(x=65535&E),C=355*(k=65535&C),D=355*(T=65535&D),I=355*(M=65535&I),P=355*(j=65535&P),L=355*(O=65535&L),A=355*(N=65535&A),R=355*F,D+=(o^=e.charCodeAt(t++))<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,R+=y<<8,o=65535&(i=355*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),F=R+((A+=L>>>16)>>>16)&65535,N=65535&A,o^=e.charCodeAt(t++);for(;t<n+3;)s=355*a,l=355*u,d=355*h,f=355*g,v=355*y,b=355*_,w=355*S,E=355*x,C=355*k,D=355*T,I=355*M,P=355*j,L=355*O,A=355*N,R=355*F,D+=o<<8,I+=a<<8,P+=u<<8,L+=h<<8,A+=g<<8,R+=y<<8,o=65535&(i=355*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),F=R+((A+=L>>>16)>>>16)&65535,N=65535&A,o^=e.charCodeAt(t++);return m(c[F>>8]+c[255&F]+c[N>>8]+c[255&N]+c[O>>8]+c[255&O]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[T>>8]+c[255&T]+c[k>>8]+c[255&k]+c[x>>8]+c[255&x]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],256)}function U(e){var t,n,r=e.length,i=p[256].offset,o=0,s=0|i[15],a=0,l=0|i[14],u=0,d=0|i[13],h=0,f=0|i[12],g=0,v=0|i[11],y=0,b=0|i[10],_=0,w=0|i[9],S=0,E=0|i[8],x=0,C=0|i[7],k=0,D=0|i[6],T=0,I=0|i[5],M=0,P=0|i[4],j=0,L=0|i[3],O=0,A=0|i[2],N=0,R=0|i[1],F=0,B=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=(s^=t>>6|192)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,s=65535&(o=355*s),B=(F+=b<<8)+((N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),g=355*(v=65535&g),y=355*(b=65535&y),_=355*(w=65535&_),S=355*(E=65535&S),x=355*(C=65535&x),k=355*(D=65535&k),T=355*(I=65535&T),M=355*(P=65535&M),j=355*(L=65535&j),O=355*(A=65535&O),N=355*(R=65535&N),F=355*B,T+=(s^=t>>12&63|128)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,s=65535&(o=355*s),B=(F+=b<<8)+((N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),g=355*(v=65535&g),y=355*(b=65535&y),_=355*(w=65535&_),S=355*(E=65535&S),x=355*(C=65535&x),k=355*(D=65535&k),T=355*(I=65535&T),M=355*(P=65535&M),j=355*(L=65535&j),O=355*(A=65535&O),N=355*(R=65535&N),F=355*B,T+=(s^=t>>6&63|128)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,s^=63&t|128):(a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=(s^=t>>12|224)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,s=65535&(o=355*s),B=(F+=b<<8)+((N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),g=355*(v=65535&g),y=355*(b=65535&y),_=355*(w=65535&_),S=355*(E=65535&S),x=355*(C=65535&x),k=355*(D=65535&k),T=355*(I=65535&T),M=355*(P=65535&M),j=355*(L=65535&j),O=355*(A=65535&O),N=355*(R=65535&N),F=355*B,T+=(s^=t>>6&63|128)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,s^=63&t|128),a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=s<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N;return m(c[B>>8]+c[255&B]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[L>>8]+c[255&L]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[D>>8]+c[255&D]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],256)}function Y(e){var t,n,r=e.length,i=p[256].offset,o=0,s=0|i[15],a=0,l=0|i[14],u=0,d=0|i[13],h=0,f=0|i[12],g=0,v=0|i[11],y=0,b=0|i[10],_=0,w=0|i[9],S=0,E=0|i[8],x=0,C=0|i[7],k=0,D=0|i[6],T=0,I=0|i[5],M=0,P=0|i[4],j=0,L=0|i[3],O=0,A=0|i[2],N=0,R=0|i[1],F=0,B=0|i[0];for(n=0;n<r;n++)a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=s<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=(s^=t>>6|192)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,s=65535&(o=355*s),B=(F+=b<<8)+((N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),g=355*(v=65535&g),y=355*(b=65535&y),_=355*(w=65535&_),S=355*(E=65535&S),x=355*(C=65535&x),k=355*(D=65535&k),T=355*(I=65535&T),M=355*(P=65535&M),j=355*(L=65535&j),O=355*(A=65535&O),N=355*(R=65535&N),F=355*B,T+=(s^=t>>12&63|128)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,s=65535&(o=355*s),B=(F+=b<<8)+((N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),g=355*(v=65535&g),y=355*(b=65535&y),_=355*(w=65535&_),S=355*(E=65535&S),x=355*(C=65535&x),k=355*(D=65535&k),T=355*(I=65535&T),M=355*(P=65535&M),j=355*(L=65535&j),O=355*(A=65535&O),N=355*(R=65535&N),F=355*B,T+=(s^=t>>6&63|128)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,s^=63&t|128):(a=355*l,u=355*d,h=355*f,g=355*v,y=355*b,_=355*w,S=355*E,x=355*C,k=355*D,T=355*I,M=355*P,j=355*L,O=355*A,N=355*R,F=355*B,T+=(s^=t>>12|224)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,s=65535&(o=355*s),B=(F+=b<<8)+((N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),g=355*(v=65535&g),y=355*(b=65535&y),_=355*(w=65535&_),S=355*(E=65535&S),x=355*(C=65535&x),k=355*(D=65535&k),T=355*(I=65535&T),M=355*(P=65535&M),j=355*(L=65535&j),O=355*(A=65535&O),N=355*(R=65535&N),F=355*B,T+=(s^=t>>6&63|128)<<8,M+=l<<8,j+=d<<8,O+=f<<8,N+=v<<8,F+=b<<8,s=65535&(o=355*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),B=F+((N+=O>>>16)>>>16)&65535,R=65535&N,s^=63&t|128);return m(c[B>>8]+c[255&B]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[L>>8]+c[255&L]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[D>>8]+c[255&D]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],256)}function W(e){var t,n=e.length-3,r=p[512].offset,i=0,o=0|r[31],s=0,a=0|r[30],l=0,u=0|r[29],d=0,h=0|r[28],f=0,g=0|r[27],v=0,y=0|r[26],b=0,_=0|r[25],w=0,S=0|r[24],E=0,x=0|r[23],C=0,k=0|r[22],D=0,T=0|r[21],I=0,M=0|r[20],P=0,j=0|r[19],L=0,O=0|r[18],A=0,N=0|r[17],R=0,F=0|r[16],B=0,U=0|r[15],Y=0,W=0|r[14],H=0,V=0|r[13],K=0,q=0|r[12],J=0,$=0|r[11],z=0,G=0|r[10],Q=0,X=0|r[9],Z=0,ee=0|r[8],te=0,ne=0|r[7],re=0,ie=0|r[6],oe=0,se=0|r[5],ae=0,ce=0|r[4],le=0,ue=0|r[3],de=0,he=0|r[2],pe=0,fe=0|r[1],me=0,ge=0|r[0];for(t=0;t<n;)s=343*a,l=343*u,d=343*h,f=343*g,v=343*y,b=343*_,w=343*S,E=343*x,C=343*k,D=343*T,I=343*M,P=343*j,L=343*O,A=343*N,R=343*F,B=343*U,Y=343*W,H=343*V,K=343*q,J=343*$,z=343*G,Q=343*X,Z=343*ee,te=343*ne,re=343*ie,oe=343*se,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,o=65535&(i=343*o),ge=(me+=T<<8)+((pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(g=65535&f),v=343*(y=65535&v),b=343*(_=65535&b),w=343*(S=65535&w),E=343*(x=65535&E),C=343*(k=65535&C),D=343*(T=65535&D),I=343*(M=65535&I),P=343*(j=65535&P),L=343*(O=65535&L),A=343*(N=65535&A),R=343*(F=65535&R),B=343*(U=65535&B),Y=343*(W=65535&Y),H=343*(V=65535&H),K=343*(q=65535&K),J=343*($=65535&J),z=343*(G=65535&z),Q=343*(X=65535&Q),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),oe=343*(se=65535&oe),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,o=65535&(i=343*o),ge=(me+=T<<8)+((pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(g=65535&f),v=343*(y=65535&v),b=343*(_=65535&b),w=343*(S=65535&w),E=343*(x=65535&E),C=343*(k=65535&C),D=343*(T=65535&D),I=343*(M=65535&I),P=343*(j=65535&P),L=343*(O=65535&L),A=343*(N=65535&A),R=343*(F=65535&R),B=343*(U=65535&B),Y=343*(W=65535&Y),H=343*(V=65535&H),K=343*(q=65535&K),J=343*($=65535&J),z=343*(G=65535&z),Q=343*(X=65535&Q),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),oe=343*(se=65535&oe),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,o=65535&(i=343*o),ge=(me+=T<<8)+((pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(g=65535&f),v=343*(y=65535&v),b=343*(_=65535&b),w=343*(S=65535&w),E=343*(x=65535&E),C=343*(k=65535&C),D=343*(T=65535&D),I=343*(M=65535&I),P=343*(j=65535&P),L=343*(O=65535&L),A=343*(N=65535&A),R=343*(F=65535&R),B=343*(U=65535&B),Y=343*(W=65535&Y),H=343*(V=65535&H),K=343*(q=65535&K),J=343*($=65535&J),z=343*(G=65535&z),Q=343*(X=65535&Q),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),oe=343*(se=65535&oe),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,me+=T<<8,o=65535&(i=343*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe;for(;t<n+3;)s=343*a,l=343*u,d=343*h,f=343*g,v=343*y,b=343*_,w=343*S,E=343*x,C=343*k,D=343*T,I=343*M,P=343*j,L=343*O,A=343*N,R=343*F,B=343*U,Y=343*W,H=343*V,K=343*q,J=343*$,z=343*G,Q=343*X,Z=343*ee,te=343*ne,re=343*ie,oe=343*se,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,me+=T<<8,o=65535&(i=343*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe;return m(c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[X>>8]+c[255&X]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[F>>8]+c[255&F]+c[N>>8]+c[255&N]+c[O>>8]+c[255&O]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[T>>8]+c[255&T]+c[k>>8]+c[255&k]+c[x>>8]+c[255&x]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],512)}function H(e){var t,n=e.length-3,r=p[512].offset,i=0,o=0|r[31],s=0,a=0|r[30],l=0,u=0|r[29],d=0,h=0|r[28],f=0,g=0|r[27],v=0,y=0|r[26],b=0,_=0|r[25],w=0,S=0|r[24],E=0,x=0|r[23],C=0,k=0|r[22],D=0,T=0|r[21],I=0,M=0|r[20],P=0,j=0|r[19],L=0,O=0|r[18],A=0,N=0|r[17],R=0,F=0|r[16],B=0,U=0|r[15],Y=0,W=0|r[14],H=0,V=0|r[13],K=0,q=0|r[12],J=0,$=0|r[11],z=0,G=0|r[10],Q=0,X=0|r[9],Z=0,ee=0|r[8],te=0,ne=0|r[7],re=0,ie=0|r[6],oe=0,se=0|r[5],ae=0,ce=0|r[4],le=0,ue=0|r[3],de=0,he=0|r[2],pe=0,fe=0|r[1],me=0,ge=0|r[0];for(t=0;t<n;)s=343*a,l=343*u,d=343*h,f=343*g,v=343*y,b=343*_,w=343*S,E=343*x,C=343*k,D=343*T,I=343*M,P=343*j,L=343*O,A=343*N,R=343*F,B=343*U,Y=343*W,H=343*V,K=343*q,J=343*$,z=343*G,Q=343*X,Z=343*ee,te=343*ne,re=343*ie,oe=343*se,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,z+=o<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,o=65535&(i=343*o),ge=(me+=T<<8)+((pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(g=65535&f),v=343*(y=65535&v),b=343*(_=65535&b),w=343*(S=65535&w),E=343*(x=65535&E),C=343*(k=65535&C),D=343*(T=65535&D),I=343*(M=65535&I),P=343*(j=65535&P),L=343*(O=65535&L),A=343*(N=65535&A),R=343*(F=65535&R),B=343*(U=65535&B),Y=343*(W=65535&Y),H=343*(V=65535&H),K=343*(q=65535&K),J=343*($=65535&J),z=343*(G=65535&z),Q=343*(X=65535&Q),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),oe=343*(se=65535&oe),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,o=65535&(i=343*o),ge=(me+=T<<8)+((pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(g=65535&f),v=343*(y=65535&v),b=343*(_=65535&b),w=343*(S=65535&w),E=343*(x=65535&E),C=343*(k=65535&C),D=343*(T=65535&D),I=343*(M=65535&I),P=343*(j=65535&P),L=343*(O=65535&L),A=343*(N=65535&A),R=343*(F=65535&R),B=343*(U=65535&B),Y=343*(W=65535&Y),H=343*(V=65535&H),K=343*(q=65535&K),J=343*($=65535&J),z=343*(G=65535&z),Q=343*(X=65535&Q),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),oe=343*(se=65535&oe),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,o=65535&(i=343*o),ge=(me+=T<<8)+((pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(g=65535&f),v=343*(y=65535&v),b=343*(_=65535&b),w=343*(S=65535&w),E=343*(x=65535&E),C=343*(k=65535&C),D=343*(T=65535&D),I=343*(M=65535&I),P=343*(j=65535&P),L=343*(O=65535&L),A=343*(N=65535&A),R=343*(F=65535&R),B=343*(U=65535&B),Y=343*(W=65535&Y),H=343*(V=65535&H),K=343*(q=65535&K),J=343*($=65535&J),z=343*(G=65535&z),Q=343*(X=65535&Q),Z=343*(ee=65535&Z),te=343*(ne=65535&te),re=343*(ie=65535&re),oe=343*(se=65535&oe),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),pe=343*(fe=65535&pe),me=343*ge,z+=(o^=e.charCodeAt(t++))<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,me+=T<<8,o=65535&(i=343*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe,o^=e.charCodeAt(t++);for(;t<n+3;)s=343*a,l=343*u,d=343*h,f=343*g,v=343*y,b=343*_,w=343*S,E=343*x,C=343*k,D=343*T,I=343*M,P=343*j,L=343*O,A=343*N,R=343*F,B=343*U,Y=343*W,H=343*V,K=343*q,J=343*$,z=343*G,Q=343*X,Z=343*ee,te=343*ne,re=343*ie,oe=343*se,ae=343*ce,le=343*ue,de=343*he,pe=343*fe,me=343*ge,z+=o<<8,Q+=a<<8,Z+=u<<8,te+=h<<8,re+=g<<8,oe+=y<<8,ae+=_<<8,le+=S<<8,de+=x<<8,pe+=k<<8,me+=T<<8,o=65535&(i=343*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((pe+=de>>>16)>>>16)&65535,fe=65535&pe,o^=e.charCodeAt(t++);return m(c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[X>>8]+c[255&X]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[F>>8]+c[255&F]+c[N>>8]+c[255&N]+c[O>>8]+c[255&O]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[T>>8]+c[255&T]+c[k>>8]+c[255&k]+c[x>>8]+c[255&x]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],512)}function V(e){var t,n,r=e.length,i=p[512].offset,o=0,s=0|i[31],a=0,l=0|i[30],u=0,d=0|i[29],h=0,f=0|i[28],g=0,v=0|i[27],y=0,b=0|i[26],_=0,w=0|i[25],S=0,E=0|i[24],x=0,C=0|i[23],k=0,D=0|i[22],T=0,I=0|i[21],M=0,P=0|i[20],j=0,L=0|i[19],O=0,A=0|i[18],N=0,R=0|i[17],F=0,B=0|i[16],U=0,Y=0|i[15],W=0,H=0|i[14],V=0,K=0|i[13],q=0,J=0|i[12],$=0,z=0|i[11],G=0,Q=0|i[10],X=0,Z=0|i[9],ee=0,te=0|i[8],ne=0,re=0|i[7],ie=0,oe=0|i[6],se=0,ae=0|i[5],ce=0,le=0|i[4],ue=0,de=0|i[3],he=0,pe=0|i[2],fe=0,me=0|i[1],ge=0,ve=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=(s^=t>>6|192)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,s=65535&(o=343*s),ve=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),g=343*(v=65535&g),y=343*(b=65535&y),_=343*(w=65535&_),S=343*(E=65535&S),x=343*(C=65535&x),k=343*(D=65535&k),T=343*(I=65535&T),M=343*(P=65535&M),j=343*(L=65535&j),O=343*(A=65535&O),N=343*(R=65535&N),F=343*(B=65535&F),U=343*(Y=65535&U),W=343*(H=65535&W),V=343*(K=65535&V),q=343*(J=65535&q),$=343*(z=65535&$),G=343*(Q=65535&G),X=343*(Z=65535&X),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(oe=65535&ie),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ve,G+=(s^=t>>12&63|128)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,s=65535&(o=343*s),ve=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),g=343*(v=65535&g),y=343*(b=65535&y),_=343*(w=65535&_),S=343*(E=65535&S),x=343*(C=65535&x),k=343*(D=65535&k),T=343*(I=65535&T),M=343*(P=65535&M),j=343*(L=65535&j),O=343*(A=65535&O),N=343*(R=65535&N),F=343*(B=65535&F),U=343*(Y=65535&U),W=343*(H=65535&W),V=343*(K=65535&V),q=343*(J=65535&q),$=343*(z=65535&$),G=343*(Q=65535&G),X=343*(Z=65535&X),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(oe=65535&ie),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ve,G+=(s^=t>>6&63|128)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):(a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=(s^=t>>12|224)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,s=65535&(o=343*s),ve=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),g=343*(v=65535&g),y=343*(b=65535&y),_=343*(w=65535&_),S=343*(E=65535&S),x=343*(C=65535&x),k=343*(D=65535&k),T=343*(I=65535&T),M=343*(P=65535&M),j=343*(L=65535&j),O=343*(A=65535&O),N=343*(R=65535&N),F=343*(B=65535&F),U=343*(Y=65535&U),W=343*(H=65535&W),V=343*(K=65535&V),q=343*(J=65535&q),$=343*(z=65535&$),G=343*(Q=65535&G),X=343*(Z=65535&X),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(oe=65535&ie),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ve,G+=(s^=t>>6&63|128)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128),a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=s<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe;return m(c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[z>>8]+c[255&z]+c[J>>8]+c[255&J]+c[K>>8]+c[255&K]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[B>>8]+c[255&B]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[L>>8]+c[255&L]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[D>>8]+c[255&D]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],512)}function K(e){var t,n,r=e.length,i=p[512].offset,o=0,s=0|i[31],a=0,l=0|i[30],u=0,d=0|i[29],h=0,f=0|i[28],g=0,v=0|i[27],y=0,b=0|i[26],_=0,w=0|i[25],S=0,E=0|i[24],x=0,C=0|i[23],k=0,D=0|i[22],T=0,I=0|i[21],M=0,P=0|i[20],j=0,L=0|i[19],O=0,A=0|i[18],N=0,R=0|i[17],F=0,B=0|i[16],U=0,Y=0|i[15],W=0,H=0|i[14],V=0,K=0|i[13],q=0,J=0|i[12],$=0,z=0|i[11],G=0,Q=0|i[10],X=0,Z=0|i[9],ee=0,te=0|i[8],ne=0,re=0|i[7],ie=0,oe=0|i[6],se=0,ae=0|i[5],ce=0,le=0|i[4],ue=0,de=0|i[3],he=0,pe=0|i[2],fe=0,me=0|i[1],ge=0,ve=0|i[0];for(n=0;n<r;n++)a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=s<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=(s^=t>>6|192)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,s=65535&(o=343*s),ve=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),g=343*(v=65535&g),y=343*(b=65535&y),_=343*(w=65535&_),S=343*(E=65535&S),x=343*(C=65535&x),k=343*(D=65535&k),T=343*(I=65535&T),M=343*(P=65535&M),j=343*(L=65535&j),O=343*(A=65535&O),N=343*(R=65535&N),F=343*(B=65535&F),U=343*(Y=65535&U),W=343*(H=65535&W),V=343*(K=65535&V),q=343*(J=65535&q),$=343*(z=65535&$),G=343*(Q=65535&G),X=343*(Z=65535&X),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(oe=65535&ie),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ve,G+=(s^=t>>12&63|128)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,s=65535&(o=343*s),ve=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),g=343*(v=65535&g),y=343*(b=65535&y),_=343*(w=65535&_),S=343*(E=65535&S),x=343*(C=65535&x),k=343*(D=65535&k),T=343*(I=65535&T),M=343*(P=65535&M),j=343*(L=65535&j),O=343*(A=65535&O),N=343*(R=65535&N),F=343*(B=65535&F),U=343*(Y=65535&U),W=343*(H=65535&W),V=343*(K=65535&V),q=343*(J=65535&q),$=343*(z=65535&$),G=343*(Q=65535&G),X=343*(Z=65535&X),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(oe=65535&ie),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ve,G+=(s^=t>>6&63|128)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128):(a=343*l,u=343*d,h=343*f,g=343*v,y=343*b,_=343*w,S=343*E,x=343*C,k=343*D,T=343*I,M=343*P,j=343*L,O=343*A,N=343*R,F=343*B,U=343*Y,W=343*H,V=343*K,q=343*J,$=343*z,G=343*Q,X=343*Z,ee=343*te,ne=343*re,ie=343*oe,se=343*ae,ce=343*le,ue=343*de,he=343*pe,fe=343*me,ge=343*ve,G+=(s^=t>>12|224)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,s=65535&(o=343*s),ve=(ge+=I<<8)+((fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),g=343*(v=65535&g),y=343*(b=65535&y),_=343*(w=65535&_),S=343*(E=65535&S),x=343*(C=65535&x),k=343*(D=65535&k),T=343*(I=65535&T),M=343*(P=65535&M),j=343*(L=65535&j),O=343*(A=65535&O),N=343*(R=65535&N),F=343*(B=65535&F),U=343*(Y=65535&U),W=343*(H=65535&W),V=343*(K=65535&V),q=343*(J=65535&q),$=343*(z=65535&$),G=343*(Q=65535&G),X=343*(Z=65535&X),ee=343*(te=65535&ee),ne=343*(re=65535&ne),ie=343*(oe=65535&ie),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(pe=65535&he),fe=343*(me=65535&fe),ge=343*ve,G+=(s^=t>>6&63|128)<<8,X+=l<<8,ee+=d<<8,ne+=f<<8,ie+=v<<8,se+=b<<8,ce+=w<<8,ue+=E<<8,he+=C<<8,fe+=D<<8,ge+=I<<8,s=65535&(o=343*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),ve=ge+((fe+=he>>>16)>>>16)&65535,me=65535&fe,s^=63&t|128);return m(c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[z>>8]+c[255&z]+c[J>>8]+c[255&J]+c[K>>8]+c[255&K]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[B>>8]+c[255&B]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[L>>8]+c[255&L]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[D>>8]+c[255&D]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],512)}function q(e){var t,n=e.length-3,r=p[1024].offset,i=0,o=0|r[63],s=0,a=0|r[62],l=0,u=0|r[61],d=0,h=0|r[60],f=0,g=0|r[59],v=0,y=0|r[58],b=0,_=0|r[57],w=0,S=0|r[56],E=0,x=0|r[55],C=0,k=0|r[54],D=0,T=0|r[53],I=0,M=0|r[52],P=0,j=0|r[51],L=0,O=0|r[50],A=0,N=0|r[49],R=0,F=0|r[48],B=0,U=0|r[47],Y=0,W=0|r[46],H=0,V=0|r[45],K=0,q=0|r[44],J=0,$=0|r[43],z=0,G=0|r[42],Q=0,X=0|r[41],Z=0,ee=0|r[40],te=0,ne=0|r[39],re=0,ie=0|r[38],oe=0,se=0|r[37],ae=0,ce=0|r[36],le=0,ue=0|r[35],de=0,he=0|r[34],pe=0,fe=0|r[33],me=0,ge=0|r[32],ve=0,ye=0|r[31],be=0,_e=0|r[30],we=0,Se=0|r[29],Ee=0,xe=0|r[28],Ce=0,ke=0|r[27],De=0,Te=0|r[26],Ie=0,Me=0|r[25],Pe=0,je=0|r[24],Le=0,Oe=0|r[23],Ae=0,Ne=0|r[22],Re=0,Fe=0|r[21],Be=0,Ue=0|r[20],Ye=0,We=0|r[19],He=0,Ve=0|r[18],Ke=0,qe=0|r[17],Je=0,$e=0|r[16],ze=0,Ge=0|r[15],Qe=0,Xe=0|r[14],Ze=0,et=0|r[13],tt=0,nt=0|r[12],rt=0,it=0|r[11],ot=0,st=0|r[10],at=0,ct=0|r[9],lt=0,ut=0|r[8],dt=0,ht=0|r[7],pt=0,ft=0|r[6],mt=0,gt=0|r[5],vt=0,yt=0|r[4],bt=0,_t=0|r[3],wt=0,St=0|r[2],Et=0,xt=0|r[1],Ct=0,kt=0|r[0];for(t=0;t<n;)s=397*a,l=397*u,d=397*h,f=397*g,v=397*y,b=397*_,w=397*S,E=397*x,C=397*k,D=397*T,I=397*M,P=397*j,L=397*O,A=397*N,R=397*F,B=397*U,Y=397*W,H=397*V,K=397*q,J=397*$,z=397*G,Q=397*X,Z=397*ee,te=397*ne,re=397*ie,oe=397*se,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ve=397*ye,be=397*_e,we=397*Se,Ee=397*xe,Ce=397*ke,De=397*Te,Ie=397*Me,Pe=397*je,Le=397*Oe,Ae=397*Ne,Re=397*Fe,Be=397*Ue,Ye=397*We,He=397*Ve,Ke=397*qe,Je=397*$e,ze=397*Ge,Qe=397*Xe,Ze=397*et,tt=397*nt,rt=397*it,ot=397*st,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,vt=397*yt,bt=397*_t,wt=397*St,Et=397*xt,Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,o=65535&(i=397*o),kt=(Ct+=G<<8)+((Et+=(wt+=(bt+=(vt+=(mt+=(pt+=(dt+=(lt+=(at+=(ot+=(rt+=(tt+=(Ze+=(Qe+=(ze+=(Je+=(Ke+=(He+=(Ye+=(Be+=(Re+=(Ae+=(Le+=(Pe+=(Ie+=(De+=(Ce+=(Ee+=(we+=(be+=(ve+=(me+=(pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(g=65535&f),v=397*(y=65535&v),b=397*(_=65535&b),w=397*(S=65535&w),E=397*(x=65535&E),C=397*(k=65535&C),D=397*(T=65535&D),I=397*(M=65535&I),P=397*(j=65535&P),L=397*(O=65535&L),A=397*(N=65535&A),R=397*(F=65535&R),B=397*(U=65535&B),Y=397*(W=65535&Y),H=397*(V=65535&H),K=397*(q=65535&K),J=397*($=65535&J),z=397*(G=65535&z),Q=397*(X=65535&Q),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),oe=397*(se=65535&oe),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),be=397*(_e=65535&be),we=397*(Se=65535&we),Ee=397*(xe=65535&Ee),Ce=397*(ke=65535&Ce),De=397*(Te=65535&De),Ie=397*(Me=65535&Ie),Pe=397*(je=65535&Pe),Le=397*(Oe=65535&Le),Ae=397*(Ne=65535&Ae),Re=397*(Fe=65535&Re),Be=397*(Ue=65535&Be),Ye=397*(We=65535&Ye),He=397*(Ve=65535&He),Ke=397*(qe=65535&Ke),Je=397*($e=65535&Je),ze=397*(Ge=65535&ze),Qe=397*(Xe=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),ot=397*(st=65535&ot),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),bt=397*(_t=65535&bt),wt=397*(St=65535&wt),Et=397*(xt=65535&Et),Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,o=65535&(i=397*o),kt=(Ct+=G<<8)+((Et+=(wt+=(bt+=(vt+=(mt+=(pt+=(dt+=(lt+=(at+=(ot+=(rt+=(tt+=(Ze+=(Qe+=(ze+=(Je+=(Ke+=(He+=(Ye+=(Be+=(Re+=(Ae+=(Le+=(Pe+=(Ie+=(De+=(Ce+=(Ee+=(we+=(be+=(ve+=(me+=(pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(g=65535&f),v=397*(y=65535&v),b=397*(_=65535&b),w=397*(S=65535&w),E=397*(x=65535&E),C=397*(k=65535&C),D=397*(T=65535&D),I=397*(M=65535&I),P=397*(j=65535&P),L=397*(O=65535&L),A=397*(N=65535&A),R=397*(F=65535&R),B=397*(U=65535&B),Y=397*(W=65535&Y),H=397*(V=65535&H),K=397*(q=65535&K),J=397*($=65535&J),z=397*(G=65535&z),Q=397*(X=65535&Q),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),oe=397*(se=65535&oe),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),be=397*(_e=65535&be),we=397*(Se=65535&we),Ee=397*(xe=65535&Ee),Ce=397*(ke=65535&Ce),De=397*(Te=65535&De),Ie=397*(Me=65535&Ie),Pe=397*(je=65535&Pe),Le=397*(Oe=65535&Le),Ae=397*(Ne=65535&Ae),Re=397*(Fe=65535&Re),Be=397*(Ue=65535&Be),Ye=397*(We=65535&Ye),He=397*(Ve=65535&He),Ke=397*(qe=65535&Ke),Je=397*($e=65535&Je),ze=397*(Ge=65535&ze),Qe=397*(Xe=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),ot=397*(st=65535&ot),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),bt=397*(_t=65535&bt),wt=397*(St=65535&wt),Et=397*(xt=65535&Et),Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,o=65535&(i=397*o),kt=(Ct+=G<<8)+((Et+=(wt+=(bt+=(vt+=(mt+=(pt+=(dt+=(lt+=(at+=(ot+=(rt+=(tt+=(Ze+=(Qe+=(ze+=(Je+=(Ke+=(He+=(Ye+=(Be+=(Re+=(Ae+=(Le+=(Pe+=(Ie+=(De+=(Ce+=(Ee+=(we+=(be+=(ve+=(me+=(pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(g=65535&f),v=397*(y=65535&v),b=397*(_=65535&b),w=397*(S=65535&w),E=397*(x=65535&E),C=397*(k=65535&C),D=397*(T=65535&D),I=397*(M=65535&I),P=397*(j=65535&P),L=397*(O=65535&L),A=397*(N=65535&A),R=397*(F=65535&R),B=397*(U=65535&B),Y=397*(W=65535&Y),H=397*(V=65535&H),K=397*(q=65535&K),J=397*($=65535&J),z=397*(G=65535&z),Q=397*(X=65535&Q),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),oe=397*(se=65535&oe),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),be=397*(_e=65535&be),we=397*(Se=65535&we),Ee=397*(xe=65535&Ee),Ce=397*(ke=65535&Ce),De=397*(Te=65535&De),Ie=397*(Me=65535&Ie),Pe=397*(je=65535&Pe),Le=397*(Oe=65535&Le),Ae=397*(Ne=65535&Ae),Re=397*(Fe=65535&Re),Be=397*(Ue=65535&Be),Ye=397*(We=65535&Ye),He=397*(Ve=65535&He),Ke=397*(qe=65535&Ke),Je=397*($e=65535&Je),ze=397*(Ge=65535&ze),Qe=397*(Xe=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),ot=397*(st=65535&ot),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),bt=397*(_t=65535&bt),wt=397*(St=65535&wt),Et=397*(xt=65535&Et),Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,Ct+=G<<8,o=65535&(i=397*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ye=65535&(ve+=me>>>16),_e=65535&(be+=ve>>>16),Se=65535&(we+=be>>>16),xe=65535&(Ee+=we>>>16),ke=65535&(Ce+=Ee>>>16),Te=65535&(De+=Ce>>>16),Me=65535&(Ie+=De>>>16),je=65535&(Pe+=Ie>>>16),Oe=65535&(Le+=Pe>>>16),Ne=65535&(Ae+=Le>>>16),Fe=65535&(Re+=Ae>>>16),Ue=65535&(Be+=Re>>>16),We=65535&(Ye+=Be>>>16),Ve=65535&(He+=Ye>>>16),qe=65535&(Ke+=He>>>16),$e=65535&(Je+=Ke>>>16),Ge=65535&(ze+=Je>>>16),Xe=65535&(Qe+=ze>>>16),et=65535&(Ze+=Qe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),st=65535&(ot+=rt>>>16),ct=65535&(at+=ot>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),yt=65535&(vt+=mt>>>16),_t=65535&(bt+=vt>>>16),St=65535&(wt+=bt>>>16),kt=Ct+((Et+=wt>>>16)>>>16)&65535,xt=65535&Et;for(;t<n+3;)s=397*a,l=397*u,d=397*h,f=397*g,v=397*y,b=397*_,w=397*S,E=397*x,C=397*k,D=397*T,I=397*M,P=397*j,L=397*O,A=397*N,R=397*F,B=397*U,Y=397*W,H=397*V,K=397*q,J=397*$,z=397*G,Q=397*X,Z=397*ee,te=397*ne,re=397*ie,oe=397*se,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ve=397*ye,be=397*_e,we=397*Se,Ee=397*xe,Ce=397*ke,De=397*Te,Ie=397*Me,Pe=397*je,Le=397*Oe,Ae=397*Ne,Re=397*Fe,Be=397*Ue,Ye=397*We,He=397*Ve,Ke=397*qe,Je=397*$e,ze=397*Ge,Qe=397*Xe,Ze=397*et,tt=397*nt,rt=397*it,ot=397*st,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,vt=397*yt,bt=397*_t,wt=397*St,Et=397*xt,Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,Ct+=G<<8,o=65535&(i=397*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ye=65535&(ve+=me>>>16),_e=65535&(be+=ve>>>16),Se=65535&(we+=be>>>16),xe=65535&(Ee+=we>>>16),ke=65535&(Ce+=Ee>>>16),Te=65535&(De+=Ce>>>16),Me=65535&(Ie+=De>>>16),je=65535&(Pe+=Ie>>>16),Oe=65535&(Le+=Pe>>>16),Ne=65535&(Ae+=Le>>>16),Fe=65535&(Re+=Ae>>>16),Ue=65535&(Be+=Re>>>16),We=65535&(Ye+=Be>>>16),Ve=65535&(He+=Ye>>>16),qe=65535&(Ke+=He>>>16),$e=65535&(Je+=Ke>>>16),Ge=65535&(ze+=Je>>>16),Xe=65535&(Qe+=ze>>>16),et=65535&(Ze+=Qe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),st=65535&(ot+=rt>>>16),ct=65535&(at+=ot>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),yt=65535&(vt+=mt>>>16),_t=65535&(bt+=vt>>>16),St=65535&(wt+=bt>>>16),kt=Ct+((Et+=wt>>>16)>>>16)&65535,xt=65535&Et;return m(c[kt>>8]+c[255&kt]+c[xt>>8]+c[255&xt]+c[St>>8]+c[255&St]+c[_t>>8]+c[255&_t]+c[yt>>8]+c[255&yt]+c[gt>>8]+c[255&gt]+c[ft>>8]+c[255&ft]+c[ht>>8]+c[255&ht]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[st>>8]+c[255&st]+c[it>>8]+c[255&it]+c[nt>>8]+c[255&nt]+c[et>>8]+c[255&et]+c[Xe>>8]+c[255&Xe]+c[Ge>>8]+c[255&Ge]+c[$e>>8]+c[255&$e]+c[qe>>8]+c[255&qe]+c[Ve>>8]+c[255&Ve]+c[We>>8]+c[255&We]+c[Ue>>8]+c[255&Ue]+c[Fe>>8]+c[255&Fe]+c[Ne>>8]+c[255&Ne]+c[Oe>>8]+c[255&Oe]+c[je>>8]+c[255&je]+c[Me>>8]+c[255&Me]+c[Te>>8]+c[255&Te]+c[ke>>8]+c[255&ke]+c[xe>>8]+c[255&xe]+c[Se>>8]+c[255&Se]+c[_e>>8]+c[255&_e]+c[ye>>8]+c[255&ye]+c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[X>>8]+c[255&X]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[F>>8]+c[255&F]+c[N>>8]+c[255&N]+c[O>>8]+c[255&O]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[T>>8]+c[255&T]+c[k>>8]+c[255&k]+c[x>>8]+c[255&x]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],1024)}function J(e){var t,n=e.length-3,r=p[1024].offset,i=0,o=0|r[63],s=0,a=0|r[62],l=0,u=0|r[61],d=0,h=0|r[60],f=0,g=0|r[59],v=0,y=0|r[58],b=0,_=0|r[57],w=0,S=0|r[56],E=0,x=0|r[55],C=0,k=0|r[54],D=0,T=0|r[53],I=0,M=0|r[52],P=0,j=0|r[51],L=0,O=0|r[50],A=0,N=0|r[49],R=0,F=0|r[48],B=0,U=0|r[47],Y=0,W=0|r[46],H=0,V=0|r[45],K=0,q=0|r[44],J=0,$=0|r[43],z=0,G=0|r[42],Q=0,X=0|r[41],Z=0,ee=0|r[40],te=0,ne=0|r[39],re=0,ie=0|r[38],oe=0,se=0|r[37],ae=0,ce=0|r[36],le=0,ue=0|r[35],de=0,he=0|r[34],pe=0,fe=0|r[33],me=0,ge=0|r[32],ve=0,ye=0|r[31],be=0,_e=0|r[30],we=0,Se=0|r[29],Ee=0,xe=0|r[28],Ce=0,ke=0|r[27],De=0,Te=0|r[26],Ie=0,Me=0|r[25],Pe=0,je=0|r[24],Le=0,Oe=0|r[23],Ae=0,Ne=0|r[22],Re=0,Fe=0|r[21],Be=0,Ue=0|r[20],Ye=0,We=0|r[19],He=0,Ve=0|r[18],Ke=0,qe=0|r[17],Je=0,$e=0|r[16],ze=0,Ge=0|r[15],Qe=0,Xe=0|r[14],Ze=0,et=0|r[13],tt=0,nt=0|r[12],rt=0,it=0|r[11],ot=0,st=0|r[10],at=0,ct=0|r[9],lt=0,ut=0|r[8],dt=0,ht=0|r[7],pt=0,ft=0|r[6],mt=0,gt=0|r[5],vt=0,yt=0|r[4],bt=0,_t=0|r[3],wt=0,St=0|r[2],Et=0,xt=0|r[1],Ct=0,kt=0|r[0];for(t=0;t<n;)s=397*a,l=397*u,d=397*h,f=397*g,v=397*y,b=397*_,w=397*S,E=397*x,C=397*k,D=397*T,I=397*M,P=397*j,L=397*O,A=397*N,R=397*F,B=397*U,Y=397*W,H=397*V,K=397*q,J=397*$,z=397*G,Q=397*X,Z=397*ee,te=397*ne,re=397*ie,oe=397*se,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ve=397*ye,be=397*_e,we=397*Se,Ee=397*xe,Ce=397*ke,De=397*Te,Ie=397*Me,Pe=397*je,Le=397*Oe,Ae=397*Ne,Re=397*Fe,Be=397*Ue,Ye=397*We,He=397*Ve,Ke=397*qe,Je=397*$e,ze=397*Ge,Qe=397*Xe,Ze=397*et,tt=397*nt,rt=397*it,ot=397*st,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,vt=397*yt,bt=397*_t,wt=397*St,Et=397*xt,Ct=397*kt,Re+=o<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,o=65535&(i=397*o),kt=(Ct+=G<<8)+((Et+=(wt+=(bt+=(vt+=(mt+=(pt+=(dt+=(lt+=(at+=(ot+=(rt+=(tt+=(Ze+=(Qe+=(ze+=(Je+=(Ke+=(He+=(Ye+=(Be+=(Re+=(Ae+=(Le+=(Pe+=(Ie+=(De+=(Ce+=(Ee+=(we+=(be+=(ve+=(me+=(pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(g=65535&f),v=397*(y=65535&v),b=397*(_=65535&b),w=397*(S=65535&w),E=397*(x=65535&E),C=397*(k=65535&C),D=397*(T=65535&D),I=397*(M=65535&I),P=397*(j=65535&P),L=397*(O=65535&L),A=397*(N=65535&A),R=397*(F=65535&R),B=397*(U=65535&B),Y=397*(W=65535&Y),H=397*(V=65535&H),K=397*(q=65535&K),J=397*($=65535&J),z=397*(G=65535&z),Q=397*(X=65535&Q),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),oe=397*(se=65535&oe),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),be=397*(_e=65535&be),we=397*(Se=65535&we),Ee=397*(xe=65535&Ee),Ce=397*(ke=65535&Ce),De=397*(Te=65535&De),Ie=397*(Me=65535&Ie),Pe=397*(je=65535&Pe),Le=397*(Oe=65535&Le),Ae=397*(Ne=65535&Ae),Re=397*(Fe=65535&Re),Be=397*(Ue=65535&Be),Ye=397*(We=65535&Ye),He=397*(Ve=65535&He),Ke=397*(qe=65535&Ke),Je=397*($e=65535&Je),ze=397*(Ge=65535&ze),Qe=397*(Xe=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),ot=397*(st=65535&ot),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),bt=397*(_t=65535&bt),wt=397*(St=65535&wt),Et=397*(xt=65535&Et),Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,o=65535&(i=397*o),kt=(Ct+=G<<8)+((Et+=(wt+=(bt+=(vt+=(mt+=(pt+=(dt+=(lt+=(at+=(ot+=(rt+=(tt+=(Ze+=(Qe+=(ze+=(Je+=(Ke+=(He+=(Ye+=(Be+=(Re+=(Ae+=(Le+=(Pe+=(Ie+=(De+=(Ce+=(Ee+=(we+=(be+=(ve+=(me+=(pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(g=65535&f),v=397*(y=65535&v),b=397*(_=65535&b),w=397*(S=65535&w),E=397*(x=65535&E),C=397*(k=65535&C),D=397*(T=65535&D),I=397*(M=65535&I),P=397*(j=65535&P),L=397*(O=65535&L),A=397*(N=65535&A),R=397*(F=65535&R),B=397*(U=65535&B),Y=397*(W=65535&Y),H=397*(V=65535&H),K=397*(q=65535&K),J=397*($=65535&J),z=397*(G=65535&z),Q=397*(X=65535&Q),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),oe=397*(se=65535&oe),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),be=397*(_e=65535&be),we=397*(Se=65535&we),Ee=397*(xe=65535&Ee),Ce=397*(ke=65535&Ce),De=397*(Te=65535&De),Ie=397*(Me=65535&Ie),Pe=397*(je=65535&Pe),Le=397*(Oe=65535&Le),Ae=397*(Ne=65535&Ae),Re=397*(Fe=65535&Re),Be=397*(Ue=65535&Be),Ye=397*(We=65535&Ye),He=397*(Ve=65535&He),Ke=397*(qe=65535&Ke),Je=397*($e=65535&Je),ze=397*(Ge=65535&ze),Qe=397*(Xe=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),ot=397*(st=65535&ot),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),bt=397*(_t=65535&bt),wt=397*(St=65535&wt),Et=397*(xt=65535&Et),Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,o=65535&(i=397*o),kt=(Ct+=G<<8)+((Et+=(wt+=(bt+=(vt+=(mt+=(pt+=(dt+=(lt+=(at+=(ot+=(rt+=(tt+=(Ze+=(Qe+=(ze+=(Je+=(Ke+=(He+=(Ye+=(Be+=(Re+=(Ae+=(Le+=(Pe+=(Ie+=(De+=(Ce+=(Ee+=(we+=(be+=(ve+=(me+=(pe+=(de+=(le+=(ae+=(oe+=(re+=(te+=(Z+=(Q+=(z+=(J+=(K+=(H+=(Y+=(B+=(R+=(A+=(L+=(P+=(I+=(D+=(C+=(E+=(w+=(b+=(v+=(f+=(d+=(l+=(s+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(g=65535&f),v=397*(y=65535&v),b=397*(_=65535&b),w=397*(S=65535&w),E=397*(x=65535&E),C=397*(k=65535&C),D=397*(T=65535&D),I=397*(M=65535&I),P=397*(j=65535&P),L=397*(O=65535&L),A=397*(N=65535&A),R=397*(F=65535&R),B=397*(U=65535&B),Y=397*(W=65535&Y),H=397*(V=65535&H),K=397*(q=65535&K),J=397*($=65535&J),z=397*(G=65535&z),Q=397*(X=65535&Q),Z=397*(ee=65535&Z),te=397*(ne=65535&te),re=397*(ie=65535&re),oe=397*(se=65535&oe),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),pe=397*(fe=65535&pe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),be=397*(_e=65535&be),we=397*(Se=65535&we),Ee=397*(xe=65535&Ee),Ce=397*(ke=65535&Ce),De=397*(Te=65535&De),Ie=397*(Me=65535&Ie),Pe=397*(je=65535&Pe),Le=397*(Oe=65535&Le),Ae=397*(Ne=65535&Ae),Re=397*(Fe=65535&Re),Be=397*(Ue=65535&Be),Ye=397*(We=65535&Ye),He=397*(Ve=65535&He),Ke=397*(qe=65535&Ke),Je=397*($e=65535&Je),ze=397*(Ge=65535&ze),Qe=397*(Xe=65535&Qe),Ze=397*(et=65535&Ze),tt=397*(nt=65535&tt),rt=397*(it=65535&rt),ot=397*(st=65535&ot),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),pt=397*(ft=65535&pt),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),bt=397*(_t=65535&bt),wt=397*(St=65535&wt),Et=397*(xt=65535&Et),Ct=397*kt,Re+=(o^=e.charCodeAt(t++))<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,Ct+=G<<8,o=65535&(i=397*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ye=65535&(ve+=me>>>16),_e=65535&(be+=ve>>>16),Se=65535&(we+=be>>>16),xe=65535&(Ee+=we>>>16),ke=65535&(Ce+=Ee>>>16),Te=65535&(De+=Ce>>>16),Me=65535&(Ie+=De>>>16),je=65535&(Pe+=Ie>>>16),Oe=65535&(Le+=Pe>>>16),Ne=65535&(Ae+=Le>>>16),Fe=65535&(Re+=Ae>>>16),Ue=65535&(Be+=Re>>>16),We=65535&(Ye+=Be>>>16),Ve=65535&(He+=Ye>>>16),qe=65535&(Ke+=He>>>16),$e=65535&(Je+=Ke>>>16),Ge=65535&(ze+=Je>>>16),Xe=65535&(Qe+=ze>>>16),et=65535&(Ze+=Qe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),st=65535&(ot+=rt>>>16),ct=65535&(at+=ot>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),yt=65535&(vt+=mt>>>16),_t=65535&(bt+=vt>>>16),St=65535&(wt+=bt>>>16),kt=Ct+((Et+=wt>>>16)>>>16)&65535,xt=65535&Et,o^=e.charCodeAt(t++);for(;t<n+3;)s=397*a,l=397*u,d=397*h,f=397*g,v=397*y,b=397*_,w=397*S,E=397*x,C=397*k,D=397*T,I=397*M,P=397*j,L=397*O,A=397*N,R=397*F,B=397*U,Y=397*W,H=397*V,K=397*q,J=397*$,z=397*G,Q=397*X,Z=397*ee,te=397*ne,re=397*ie,oe=397*se,ae=397*ce,le=397*ue,de=397*he,pe=397*fe,me=397*ge,ve=397*ye,be=397*_e,we=397*Se,Ee=397*xe,Ce=397*ke,De=397*Te,Ie=397*Me,Pe=397*je,Le=397*Oe,Ae=397*Ne,Re=397*Fe,Be=397*Ue,Ye=397*We,He=397*Ve,Ke=397*qe,Je=397*$e,ze=397*Ge,Qe=397*Xe,Ze=397*et,tt=397*nt,rt=397*it,ot=397*st,at=397*ct,lt=397*ut,dt=397*ht,pt=397*ft,mt=397*gt,vt=397*yt,bt=397*_t,wt=397*St,Et=397*xt,Ct=397*kt,Re+=o<<8,Be+=a<<8,Ye+=u<<8,He+=h<<8,Ke+=g<<8,Je+=y<<8,ze+=_<<8,Qe+=S<<8,Ze+=x<<8,tt+=k<<8,rt+=T<<8,ot+=M<<8,at+=j<<8,lt+=O<<8,dt+=N<<8,pt+=F<<8,mt+=U<<8,vt+=W<<8,bt+=V<<8,wt+=q<<8,Et+=$<<8,Ct+=G<<8,o=65535&(i=397*o),a=65535&(s+=i>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),g=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=65535&(b+=v>>>16),S=65535&(w+=b>>>16),x=65535&(E+=w>>>16),k=65535&(C+=E>>>16),T=65535&(D+=C>>>16),M=65535&(I+=D>>>16),j=65535&(P+=I>>>16),O=65535&(L+=P>>>16),N=65535&(A+=L>>>16),F=65535&(R+=A>>>16),U=65535&(B+=R>>>16),W=65535&(Y+=B>>>16),V=65535&(H+=Y>>>16),q=65535&(K+=H>>>16),$=65535&(J+=K>>>16),G=65535&(z+=J>>>16),X=65535&(Q+=z>>>16),ee=65535&(Z+=Q>>>16),ne=65535&(te+=Z>>>16),ie=65535&(re+=te>>>16),se=65535&(oe+=re>>>16),ce=65535&(ae+=oe>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),fe=65535&(pe+=de>>>16),ge=65535&(me+=pe>>>16),ye=65535&(ve+=me>>>16),_e=65535&(be+=ve>>>16),Se=65535&(we+=be>>>16),xe=65535&(Ee+=we>>>16),ke=65535&(Ce+=Ee>>>16),Te=65535&(De+=Ce>>>16),Me=65535&(Ie+=De>>>16),je=65535&(Pe+=Ie>>>16),Oe=65535&(Le+=Pe>>>16),Ne=65535&(Ae+=Le>>>16),Fe=65535&(Re+=Ae>>>16),Ue=65535&(Be+=Re>>>16),We=65535&(Ye+=Be>>>16),Ve=65535&(He+=Ye>>>16),qe=65535&(Ke+=He>>>16),$e=65535&(Je+=Ke>>>16),Ge=65535&(ze+=Je>>>16),Xe=65535&(Qe+=ze>>>16),et=65535&(Ze+=Qe>>>16),nt=65535&(tt+=Ze>>>16),it=65535&(rt+=tt>>>16),st=65535&(ot+=rt>>>16),ct=65535&(at+=ot>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),ft=65535&(pt+=dt>>>16),gt=65535&(mt+=pt>>>16),yt=65535&(vt+=mt>>>16),_t=65535&(bt+=vt>>>16),St=65535&(wt+=bt>>>16),kt=Ct+((Et+=wt>>>16)>>>16)&65535,xt=65535&Et,o^=e.charCodeAt(t++);return m(c[kt>>8]+c[255&kt]+c[xt>>8]+c[255&xt]+c[St>>8]+c[255&St]+c[_t>>8]+c[255&_t]+c[yt>>8]+c[255&yt]+c[gt>>8]+c[255&gt]+c[ft>>8]+c[255&ft]+c[ht>>8]+c[255&ht]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[st>>8]+c[255&st]+c[it>>8]+c[255&it]+c[nt>>8]+c[255&nt]+c[et>>8]+c[255&et]+c[Xe>>8]+c[255&Xe]+c[Ge>>8]+c[255&Ge]+c[$e>>8]+c[255&$e]+c[qe>>8]+c[255&qe]+c[Ve>>8]+c[255&Ve]+c[We>>8]+c[255&We]+c[Ue>>8]+c[255&Ue]+c[Fe>>8]+c[255&Fe]+c[Ne>>8]+c[255&Ne]+c[Oe>>8]+c[255&Oe]+c[je>>8]+c[255&je]+c[Me>>8]+c[255&Me]+c[Te>>8]+c[255&Te]+c[ke>>8]+c[255&ke]+c[xe>>8]+c[255&xe]+c[Se>>8]+c[255&Se]+c[_e>>8]+c[255&_e]+c[ye>>8]+c[255&ye]+c[ge>>8]+c[255&ge]+c[fe>>8]+c[255&fe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[ie>>8]+c[255&ie]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[X>>8]+c[255&X]+c[G>>8]+c[255&G]+c[$>>8]+c[255&$]+c[q>>8]+c[255&q]+c[V>>8]+c[255&V]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[F>>8]+c[255&F]+c[N>>8]+c[255&N]+c[O>>8]+c[255&O]+c[j>>8]+c[255&j]+c[M>>8]+c[255&M]+c[T>>8]+c[255&T]+c[k>>8]+c[255&k]+c[x>>8]+c[255&x]+c[S>>8]+c[255&S]+c[_>>8]+c[255&_]+c[y>>8]+c[255&y]+c[g>>8]+c[255&g]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o],1024)}function $(e){var t,n,r=e.length,i=p[1024].offset,o=0,s=0|i[63],a=0,l=0|i[62],u=0,d=0|i[61],h=0,f=0|i[60],g=0,v=0|i[59],y=0,b=0|i[58],_=0,w=0|i[57],S=0,E=0|i[56],x=0,C=0|i[55],k=0,D=0|i[54],T=0,I=0|i[53],M=0,P=0|i[52],j=0,L=0|i[51],O=0,A=0|i[50],N=0,R=0|i[49],F=0,B=0|i[48],U=0,Y=0|i[47],W=0,H=0|i[46],V=0,K=0|i[45],q=0,J=0|i[44],$=0,z=0|i[43],G=0,Q=0|i[42],X=0,Z=0|i[41],ee=0,te=0|i[40],ne=0,re=0|i[39],ie=0,oe=0|i[38],se=0,ae=0|i[37],ce=0,le=0|i[36],ue=0,de=0|i[35],he=0,pe=0|i[34],fe=0,me=0|i[33],ge=0,ve=0|i[32],ye=0,be=0|i[31],_e=0,we=0|i[30],Se=0,Ee=0|i[29],xe=0,Ce=0|i[28],ke=0,De=0|i[27],Te=0,Ie=0|i[26],Me=0,Pe=0|i[25],je=0,Le=0|i[24],Oe=0,Ae=0|i[23],Ne=0,Re=0|i[22],Fe=0,Be=0|i[21],Ue=0,Ye=0|i[20],We=0,He=0|i[19],Ve=0,Ke=0|i[18],qe=0,Je=0|i[17],$e=0,ze=0|i[16],Ge=0,Qe=0|i[15],Xe=0,Ze=0|i[14],et=0,tt=0|i[13],nt=0,rt=0|i[12],it=0,ot=0|i[11],st=0,at=0|i[10],ct=0,lt=0|i[9],ut=0,dt=0|i[8],ht=0,pt=0|i[7],ft=0,mt=0|i[6],gt=0,vt=0|i[5],yt=0,bt=0|i[4],_t=0,wt=0|i[3],St=0,Et=0|i[2],xt=0,Ct=0|i[1],kt=0,Dt=0|i[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=(s^=t>>6|192)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,s=65535&(o=397*s),Dt=(kt+=Q<<8)+((xt+=(St+=(_t+=(yt+=(gt+=(ft+=(ht+=(ut+=(ct+=(st+=(it+=(nt+=(et+=(Xe+=(Ge+=($e+=(qe+=(Ve+=(We+=(Ue+=(Fe+=(Ne+=(Oe+=(je+=(Me+=(Te+=(ke+=(xe+=(Se+=(_e+=(ye+=(ge+=(fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),g=397*(v=65535&g),y=397*(b=65535&y),_=397*(w=65535&_),S=397*(E=65535&S),x=397*(C=65535&x),k=397*(D=65535&k),T=397*(I=65535&T),M=397*(P=65535&M),j=397*(L=65535&j),O=397*(A=65535&O),N=397*(R=65535&N),F=397*(B=65535&F),U=397*(Y=65535&U),W=397*(H=65535&W),V=397*(K=65535&V),q=397*(J=65535&q),$=397*(z=65535&$),G=397*(Q=65535&G),X=397*(Z=65535&X),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(oe=65535&ie),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),ye=397*(be=65535&ye),_e=397*(we=65535&_e),Se=397*(Ee=65535&Se),xe=397*(Ce=65535&xe),ke=397*(De=65535&ke),Te=397*(Ie=65535&Te),Me=397*(Pe=65535&Me),je=397*(Le=65535&je),Oe=397*(Ae=65535&Oe),Ne=397*(Re=65535&Ne),Fe=397*(Be=65535&Fe),Ue=397*(Ye=65535&Ue),We=397*(He=65535&We),Ve=397*(Ke=65535&Ve),qe=397*(Je=65535&qe),$e=397*(ze=65535&$e),Ge=397*(Qe=65535&Ge),Xe=397*(Ze=65535&Xe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(ot=65535&it),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),yt=397*(bt=65535&yt),_t=397*(wt=65535&_t),St=397*(Et=65535&St),xt=397*(Ct=65535&xt),kt=397*Dt,Fe+=(s^=t>>12&63|128)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,s=65535&(o=397*s),Dt=(kt+=Q<<8)+((xt+=(St+=(_t+=(yt+=(gt+=(ft+=(ht+=(ut+=(ct+=(st+=(it+=(nt+=(et+=(Xe+=(Ge+=($e+=(qe+=(Ve+=(We+=(Ue+=(Fe+=(Ne+=(Oe+=(je+=(Me+=(Te+=(ke+=(xe+=(Se+=(_e+=(ye+=(ge+=(fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),g=397*(v=65535&g),y=397*(b=65535&y),_=397*(w=65535&_),S=397*(E=65535&S),x=397*(C=65535&x),k=397*(D=65535&k),T=397*(I=65535&T),M=397*(P=65535&M),j=397*(L=65535&j),O=397*(A=65535&O),N=397*(R=65535&N),F=397*(B=65535&F),U=397*(Y=65535&U),W=397*(H=65535&W),V=397*(K=65535&V),q=397*(J=65535&q),$=397*(z=65535&$),G=397*(Q=65535&G),X=397*(Z=65535&X),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(oe=65535&ie),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),ye=397*(be=65535&ye),_e=397*(we=65535&_e),Se=397*(Ee=65535&Se),xe=397*(Ce=65535&xe),ke=397*(De=65535&ke),Te=397*(Ie=65535&Te),Me=397*(Pe=65535&Me),je=397*(Le=65535&je),Oe=397*(Ae=65535&Oe),Ne=397*(Re=65535&Ne),Fe=397*(Be=65535&Fe),Ue=397*(Ye=65535&Ue),We=397*(He=65535&We),Ve=397*(Ke=65535&Ve),qe=397*(Je=65535&qe),$e=397*(ze=65535&$e),Ge=397*(Qe=65535&Ge),Xe=397*(Ze=65535&Xe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(ot=65535&it),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),yt=397*(bt=65535&yt),_t=397*(wt=65535&_t),St=397*(Et=65535&St),xt=397*(Ct=65535&xt),kt=397*Dt,Fe+=(s^=t>>6&63|128)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,s^=63&t|128):(a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=(s^=t>>12|224)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,s=65535&(o=397*s),Dt=(kt+=Q<<8)+((xt+=(St+=(_t+=(yt+=(gt+=(ft+=(ht+=(ut+=(ct+=(st+=(it+=(nt+=(et+=(Xe+=(Ge+=($e+=(qe+=(Ve+=(We+=(Ue+=(Fe+=(Ne+=(Oe+=(je+=(Me+=(Te+=(ke+=(xe+=(Se+=(_e+=(ye+=(ge+=(fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),g=397*(v=65535&g),y=397*(b=65535&y),_=397*(w=65535&_),S=397*(E=65535&S),x=397*(C=65535&x),k=397*(D=65535&k),T=397*(I=65535&T),M=397*(P=65535&M),j=397*(L=65535&j),O=397*(A=65535&O),N=397*(R=65535&N),F=397*(B=65535&F),U=397*(Y=65535&U),W=397*(H=65535&W),V=397*(K=65535&V),q=397*(J=65535&q),$=397*(z=65535&$),G=397*(Q=65535&G),X=397*(Z=65535&X),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(oe=65535&ie),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),ye=397*(be=65535&ye),_e=397*(we=65535&_e),Se=397*(Ee=65535&Se),xe=397*(Ce=65535&xe),ke=397*(De=65535&ke),Te=397*(Ie=65535&Te),Me=397*(Pe=65535&Me),je=397*(Le=65535&je),Oe=397*(Ae=65535&Oe),Ne=397*(Re=65535&Ne),Fe=397*(Be=65535&Fe),Ue=397*(Ye=65535&Ue),We=397*(He=65535&We),Ve=397*(Ke=65535&Ve),qe=397*(Je=65535&qe),$e=397*(ze=65535&$e),Ge=397*(Qe=65535&Ge),Xe=397*(Ze=65535&Xe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(ot=65535&it),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),yt=397*(bt=65535&yt),_t=397*(wt=65535&_t),St=397*(Et=65535&St),xt=397*(Ct=65535&xt),kt=397*Dt,Fe+=(s^=t>>6&63|128)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,s^=63&t|128),a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=s<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt;return m(c[Dt>>8]+c[255&Dt]+c[Ct>>8]+c[255&Ct]+c[Et>>8]+c[255&Et]+c[wt>>8]+c[255&wt]+c[bt>>8]+c[255&bt]+c[vt>>8]+c[255&vt]+c[mt>>8]+c[255&mt]+c[pt>>8]+c[255&pt]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[ot>>8]+c[255&ot]+c[rt>>8]+c[255&rt]+c[tt>>8]+c[255&tt]+c[Ze>>8]+c[255&Ze]+c[Qe>>8]+c[255&Qe]+c[ze>>8]+c[255&ze]+c[Je>>8]+c[255&Je]+c[Ke>>8]+c[255&Ke]+c[He>>8]+c[255&He]+c[Ye>>8]+c[255&Ye]+c[Be>>8]+c[255&Be]+c[Re>>8]+c[255&Re]+c[Ae>>8]+c[255&Ae]+c[Le>>8]+c[255&Le]+c[Pe>>8]+c[255&Pe]+c[Ie>>8]+c[255&Ie]+c[De>>8]+c[255&De]+c[Ce>>8]+c[255&Ce]+c[Ee>>8]+c[255&Ee]+c[we>>8]+c[255&we]+c[be>>8]+c[255&be]+c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[z>>8]+c[255&z]+c[J>>8]+c[255&J]+c[K>>8]+c[255&K]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[B>>8]+c[255&B]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[L>>8]+c[255&L]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[D>>8]+c[255&D]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],1024)}function z(e){var t,n,r=e.length,i=p[1024].offset,o=0,s=0|i[63],a=0,l=0|i[62],u=0,d=0|i[61],h=0,f=0|i[60],g=0,v=0|i[59],y=0,b=0|i[58],_=0,w=0|i[57],S=0,E=0|i[56],x=0,C=0|i[55],k=0,D=0|i[54],T=0,I=0|i[53],M=0,P=0|i[52],j=0,L=0|i[51],O=0,A=0|i[50],N=0,R=0|i[49],F=0,B=0|i[48],U=0,Y=0|i[47],W=0,H=0|i[46],V=0,K=0|i[45],q=0,J=0|i[44],$=0,z=0|i[43],G=0,Q=0|i[42],X=0,Z=0|i[41],ee=0,te=0|i[40],ne=0,re=0|i[39],ie=0,oe=0|i[38],se=0,ae=0|i[37],ce=0,le=0|i[36],ue=0,de=0|i[35],he=0,pe=0|i[34],fe=0,me=0|i[33],ge=0,ve=0|i[32],ye=0,be=0|i[31],_e=0,we=0|i[30],Se=0,Ee=0|i[29],xe=0,Ce=0|i[28],ke=0,De=0|i[27],Te=0,Ie=0|i[26],Me=0,Pe=0|i[25],je=0,Le=0|i[24],Oe=0,Ae=0|i[23],Ne=0,Re=0|i[22],Fe=0,Be=0|i[21],Ue=0,Ye=0|i[20],We=0,He=0|i[19],Ve=0,Ke=0|i[18],qe=0,Je=0|i[17],$e=0,ze=0|i[16],Ge=0,Qe=0|i[15],Xe=0,Ze=0|i[14],et=0,tt=0|i[13],nt=0,rt=0|i[12],it=0,ot=0|i[11],st=0,at=0|i[10],ct=0,lt=0|i[9],ut=0,dt=0|i[8],ht=0,pt=0|i[7],ft=0,mt=0|i[6],gt=0,vt=0|i[5],yt=0,bt=0|i[4],_t=0,wt=0|i[3],St=0,Et=0|i[2],xt=0,Ct=0|i[1],kt=0,Dt=0|i[0];for(n=0;n<r;n++)a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=s<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=(s^=t>>6|192)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,s=65535&(o=397*s),Dt=(kt+=Q<<8)+((xt+=(St+=(_t+=(yt+=(gt+=(ft+=(ht+=(ut+=(ct+=(st+=(it+=(nt+=(et+=(Xe+=(Ge+=($e+=(qe+=(Ve+=(We+=(Ue+=(Fe+=(Ne+=(Oe+=(je+=(Me+=(Te+=(ke+=(xe+=(Se+=(_e+=(ye+=(ge+=(fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),g=397*(v=65535&g),y=397*(b=65535&y),_=397*(w=65535&_),S=397*(E=65535&S),x=397*(C=65535&x),k=397*(D=65535&k),T=397*(I=65535&T),M=397*(P=65535&M),j=397*(L=65535&j),O=397*(A=65535&O),N=397*(R=65535&N),F=397*(B=65535&F),U=397*(Y=65535&U),W=397*(H=65535&W),V=397*(K=65535&V),q=397*(J=65535&q),$=397*(z=65535&$),G=397*(Q=65535&G),X=397*(Z=65535&X),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(oe=65535&ie),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),ye=397*(be=65535&ye),_e=397*(we=65535&_e),Se=397*(Ee=65535&Se),xe=397*(Ce=65535&xe),ke=397*(De=65535&ke),Te=397*(Ie=65535&Te),Me=397*(Pe=65535&Me),je=397*(Le=65535&je),Oe=397*(Ae=65535&Oe),Ne=397*(Re=65535&Ne),Fe=397*(Be=65535&Fe),Ue=397*(Ye=65535&Ue),We=397*(He=65535&We),Ve=397*(Ke=65535&Ve),qe=397*(Je=65535&qe),$e=397*(ze=65535&$e),Ge=397*(Qe=65535&Ge),Xe=397*(Ze=65535&Xe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(ot=65535&it),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),yt=397*(bt=65535&yt),_t=397*(wt=65535&_t),St=397*(Et=65535&St),xt=397*(Ct=65535&xt),kt=397*Dt,Fe+=(s^=t>>12&63|128)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,s=65535&(o=397*s),Dt=(kt+=Q<<8)+((xt+=(St+=(_t+=(yt+=(gt+=(ft+=(ht+=(ut+=(ct+=(st+=(it+=(nt+=(et+=(Xe+=(Ge+=($e+=(qe+=(Ve+=(We+=(Ue+=(Fe+=(Ne+=(Oe+=(je+=(Me+=(Te+=(ke+=(xe+=(Se+=(_e+=(ye+=(ge+=(fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),g=397*(v=65535&g),y=397*(b=65535&y),_=397*(w=65535&_),S=397*(E=65535&S),x=397*(C=65535&x),k=397*(D=65535&k),T=397*(I=65535&T),M=397*(P=65535&M),j=397*(L=65535&j),O=397*(A=65535&O),N=397*(R=65535&N),F=397*(B=65535&F),U=397*(Y=65535&U),W=397*(H=65535&W),V=397*(K=65535&V),q=397*(J=65535&q),$=397*(z=65535&$),G=397*(Q=65535&G),X=397*(Z=65535&X),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(oe=65535&ie),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),ye=397*(be=65535&ye),_e=397*(we=65535&_e),Se=397*(Ee=65535&Se),xe=397*(Ce=65535&xe),ke=397*(De=65535&ke),Te=397*(Ie=65535&Te),Me=397*(Pe=65535&Me),je=397*(Le=65535&je),Oe=397*(Ae=65535&Oe),Ne=397*(Re=65535&Ne),Fe=397*(Be=65535&Fe),Ue=397*(Ye=65535&Ue),We=397*(He=65535&We),Ve=397*(Ke=65535&Ve),qe=397*(Je=65535&qe),$e=397*(ze=65535&$e),Ge=397*(Qe=65535&Ge),Xe=397*(Ze=65535&Xe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(ot=65535&it),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),yt=397*(bt=65535&yt),_t=397*(wt=65535&_t),St=397*(Et=65535&St),xt=397*(Ct=65535&xt),kt=397*Dt,Fe+=(s^=t>>6&63|128)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,s^=63&t|128):(a=397*l,u=397*d,h=397*f,g=397*v,y=397*b,_=397*w,S=397*E,x=397*C,k=397*D,T=397*I,M=397*P,j=397*L,O=397*A,N=397*R,F=397*B,U=397*Y,W=397*H,V=397*K,q=397*J,$=397*z,G=397*Q,X=397*Z,ee=397*te,ne=397*re,ie=397*oe,se=397*ae,ce=397*le,ue=397*de,he=397*pe,fe=397*me,ge=397*ve,ye=397*be,_e=397*we,Se=397*Ee,xe=397*Ce,ke=397*De,Te=397*Ie,Me=397*Pe,je=397*Le,Oe=397*Ae,Ne=397*Re,Fe=397*Be,Ue=397*Ye,We=397*He,Ve=397*Ke,qe=397*Je,$e=397*ze,Ge=397*Qe,Xe=397*Ze,et=397*tt,nt=397*rt,it=397*ot,st=397*at,ct=397*lt,ut=397*dt,ht=397*pt,ft=397*mt,gt=397*vt,yt=397*bt,_t=397*wt,St=397*Et,xt=397*Ct,kt=397*Dt,Fe+=(s^=t>>12|224)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,s=65535&(o=397*s),Dt=(kt+=Q<<8)+((xt+=(St+=(_t+=(yt+=(gt+=(ft+=(ht+=(ut+=(ct+=(st+=(it+=(nt+=(et+=(Xe+=(Ge+=($e+=(qe+=(Ve+=(We+=(Ue+=(Fe+=(Ne+=(Oe+=(je+=(Me+=(Te+=(ke+=(xe+=(Se+=(_e+=(ye+=(ge+=(fe+=(he+=(ue+=(ce+=(se+=(ie+=(ne+=(ee+=(X+=(G+=($+=(q+=(V+=(W+=(U+=(F+=(N+=(O+=(j+=(M+=(T+=(k+=(x+=(S+=(_+=(y+=(g+=(h+=(u+=(a+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),g=397*(v=65535&g),y=397*(b=65535&y),_=397*(w=65535&_),S=397*(E=65535&S),x=397*(C=65535&x),k=397*(D=65535&k),T=397*(I=65535&T),M=397*(P=65535&M),j=397*(L=65535&j),O=397*(A=65535&O),N=397*(R=65535&N),F=397*(B=65535&F),U=397*(Y=65535&U),W=397*(H=65535&W),V=397*(K=65535&V),q=397*(J=65535&q),$=397*(z=65535&$),G=397*(Q=65535&G),X=397*(Z=65535&X),ee=397*(te=65535&ee),ne=397*(re=65535&ne),ie=397*(oe=65535&ie),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(pe=65535&he),fe=397*(me=65535&fe),ge=397*(ve=65535&ge),ye=397*(be=65535&ye),_e=397*(we=65535&_e),Se=397*(Ee=65535&Se),xe=397*(Ce=65535&xe),ke=397*(De=65535&ke),Te=397*(Ie=65535&Te),Me=397*(Pe=65535&Me),je=397*(Le=65535&je),Oe=397*(Ae=65535&Oe),Ne=397*(Re=65535&Ne),Fe=397*(Be=65535&Fe),Ue=397*(Ye=65535&Ue),We=397*(He=65535&We),Ve=397*(Ke=65535&Ve),qe=397*(Je=65535&qe),$e=397*(ze=65535&$e),Ge=397*(Qe=65535&Ge),Xe=397*(Ze=65535&Xe),et=397*(tt=65535&et),nt=397*(rt=65535&nt),it=397*(ot=65535&it),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(pt=65535&ht),ft=397*(mt=65535&ft),gt=397*(vt=65535&gt),yt=397*(bt=65535&yt),_t=397*(wt=65535&_t),St=397*(Et=65535&St),xt=397*(Ct=65535&xt),kt=397*Dt,Fe+=(s^=t>>6&63|128)<<8,Ue+=l<<8,We+=d<<8,Ve+=f<<8,qe+=v<<8,$e+=b<<8,Ge+=w<<8,Xe+=E<<8,et+=C<<8,nt+=D<<8,it+=I<<8,st+=P<<8,ct+=L<<8,ut+=A<<8,ht+=R<<8,ft+=B<<8,gt+=Y<<8,yt+=H<<8,_t+=K<<8,St+=J<<8,xt+=z<<8,kt+=Q<<8,s=65535&(o=397*s),l=65535&(a+=o>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(g+=h>>>16),b=65535&(y+=g>>>16),w=65535&(_+=y>>>16),E=65535&(S+=_>>>16),C=65535&(x+=S>>>16),D=65535&(k+=x>>>16),I=65535&(T+=k>>>16),P=65535&(M+=T>>>16),L=65535&(j+=M>>>16),A=65535&(O+=j>>>16),R=65535&(N+=O>>>16),B=65535&(F+=N>>>16),Y=65535&(U+=F>>>16),H=65535&(W+=U>>>16),K=65535&(V+=W>>>16),J=65535&(q+=V>>>16),z=65535&($+=q>>>16),Q=65535&(G+=$>>>16),Z=65535&(X+=G>>>16),te=65535&(ee+=X>>>16),re=65535&(ne+=ee>>>16),oe=65535&(ie+=ne>>>16),ae=65535&(se+=ie>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),pe=65535&(he+=ue>>>16),me=65535&(fe+=he>>>16),ve=65535&(ge+=fe>>>16),be=65535&(ye+=ge>>>16),we=65535&(_e+=ye>>>16),Ee=65535&(Se+=_e>>>16),Ce=65535&(xe+=Se>>>16),De=65535&(ke+=xe>>>16),Ie=65535&(Te+=ke>>>16),Pe=65535&(Me+=Te>>>16),Le=65535&(je+=Me>>>16),Ae=65535&(Oe+=je>>>16),Re=65535&(Ne+=Oe>>>16),Be=65535&(Fe+=Ne>>>16),Ye=65535&(Ue+=Fe>>>16),He=65535&(We+=Ue>>>16),Ke=65535&(Ve+=We>>>16),Je=65535&(qe+=Ve>>>16),ze=65535&($e+=qe>>>16),Qe=65535&(Ge+=$e>>>16),Ze=65535&(Xe+=Ge>>>16),tt=65535&(et+=Xe>>>16),rt=65535&(nt+=et>>>16),ot=65535&(it+=nt>>>16),at=65535&(st+=it>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),pt=65535&(ht+=ut>>>16),mt=65535&(ft+=ht>>>16),vt=65535&(gt+=ft>>>16),bt=65535&(yt+=gt>>>16),wt=65535&(_t+=yt>>>16),Et=65535&(St+=_t>>>16),Dt=kt+((xt+=St>>>16)>>>16)&65535,Ct=65535&xt,s^=63&t|128);return m(c[Dt>>8]+c[255&Dt]+c[Ct>>8]+c[255&Ct]+c[Et>>8]+c[255&Et]+c[wt>>8]+c[255&wt]+c[bt>>8]+c[255&bt]+c[vt>>8]+c[255&vt]+c[mt>>8]+c[255&mt]+c[pt>>8]+c[255&pt]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[ot>>8]+c[255&ot]+c[rt>>8]+c[255&rt]+c[tt>>8]+c[255&tt]+c[Ze>>8]+c[255&Ze]+c[Qe>>8]+c[255&Qe]+c[ze>>8]+c[255&ze]+c[Je>>8]+c[255&Je]+c[Ke>>8]+c[255&Ke]+c[He>>8]+c[255&He]+c[Ye>>8]+c[255&Ye]+c[Be>>8]+c[255&Be]+c[Re>>8]+c[255&Re]+c[Ae>>8]+c[255&Ae]+c[Le>>8]+c[255&Le]+c[Pe>>8]+c[255&Pe]+c[Ie>>8]+c[255&Ie]+c[De>>8]+c[255&De]+c[Ce>>8]+c[255&Ce]+c[Ee>>8]+c[255&Ee]+c[we>>8]+c[255&we]+c[be>>8]+c[255&be]+c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Z>>8]+c[255&Z]+c[Q>>8]+c[255&Q]+c[z>>8]+c[255&z]+c[J>>8]+c[255&J]+c[K>>8]+c[255&K]+c[H>>8]+c[255&H]+c[Y>>8]+c[255&Y]+c[B>>8]+c[255&B]+c[R>>8]+c[255&R]+c[A>>8]+c[255&A]+c[L>>8]+c[255&L]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[D>>8]+c[255&D]+c[C>>8]+c[255&C]+c[E>>8]+c[255&E]+c[w>>8]+c[255&w]+c[b>>8]+c[255&b]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],1024)}return t=S,n=k,r=M,i=O,o=F,s=W,a=q,b("1a"),_(!1),w(),{hash:y,setKeyspace:function(e){if(52!==e&&!p[e])throw new Error("Supported FNV keyspacs: 32, 52, 64, 128, 256, 512, and 1024 bit");h=e},version:b,useUTF8:_,seed:w,fast1a32:function(e){var t,n=e.length-3,r=0,i=40389,o=0,s=33052;for(t=0;t<n;)o=403*s,o+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),o=403*(s=o+(r>>>16)&65535),o+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),o=403*(s=o+(r>>>16)&65535),o+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),o=403*(s=o+(r>>>16)&65535),s=(o+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;for(;t<n+3;)o=403*s,s=(o+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;return(s<<16>>>0)+i},fast1a32hex:function(e){var t,n=e.length-3,r=0,i=40389,o=0,s=33052;for(t=0;t<n;)o=403*s,o+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),o=403*(s=o+(r>>>16)&65535),o+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),o=403*(s=o+(r>>>16)&65535),o+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=403*i),o=403*(s=o+(r>>>16)&65535),s=(o+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;for(;t<n+3;)o=403*s,s=(o+=(i^=e.charCodeAt(t++))<<8)+((r=403*i)>>>16)&65535,i=65535&r;return c[s>>>8&255]+c[255&s]+c[i>>>8&255]+c[255&i]},fast1a52:function(e){var t,n=e.length-3,r=0,i=8997,o=0,s=33826,a=0,c=40164,l=0,u=52210;for(t=0;t<n;)o=435*s,a=435*c,l=435*u,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),u=(l+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(c=65535&a),l=435*u,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),u=(l+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(c=65535&a),l=435*u,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),u=(l+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(c=65535&a),l=435*u,a+=(i^=e.charCodeAt(t++))<<8,l+=s<<8,i=65535&(r=435*i),s=65535&(o+=r>>>16),u=l+((a+=o>>>16)>>>16)&65535,c=65535&a;for(;t<n+3;)o=435*s,a=435*c,l=435*u,a+=(i^=e.charCodeAt(t++))<<8,l+=s<<8,i=65535&(r=435*i),s=65535&(o+=r>>>16),u=l+((a+=o>>>16)>>>16)&65535,c=65535&a;return 281474976710656*(15&u)+4294967296*c+65536*s+(i^u>>4)},fast1a52hex:function(e){var t,n=e.length-3,r=0,i=8997,o=0,s=33826,a=0,u=40164,d=0,h=52210;for(t=0;t<n;)o=435*s,a=435*u,d=435*h,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),h=(d+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(u=65535&a),d=435*h,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),h=(d+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(u=65535&a),d=435*h,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),h=(d+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(u=65535&a),d=435*h,a+=(i^=e.charCodeAt(t++))<<8,d+=s<<8,i=65535&(r=435*i),s=65535&(o+=r>>>16),h=d+((a+=o>>>16)>>>16)&65535,u=65535&a;for(;t<n+3;)o=435*s,a=435*u,d=435*h,a+=(i^=e.charCodeAt(t++))<<8,d+=s<<8,i=65535&(r=435*i),s=65535&(o+=r>>>16),h=d+((a+=o>>>16)>>>16)&65535,u=65535&a;return l[15&h]+c[u>>8]+c[255&u]+c[s>>8]+c[255&s]+c[i>>8^h>>12]+c[255&(i^h>>4)]},fast1a64:function(e){var t,n=e.length-3,r=0,i=8997,o=0,s=33826,a=0,l=40164,u=0,d=52210;for(t=0;t<n;)o=435*s,a=435*l,u=435*d,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),d=(u+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(l=65535&a),u=435*d,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),d=(u+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(l=65535&a),u=435*d,a+=(i^=e.charCodeAt(t++))<<8,i=65535&(r=435*i),d=(u+=s<<8)+((a+=(o+=r>>>16)>>>16)>>>16)&65535,o=435*(s=65535&o),a=435*(l=65535&a),u=435*d,a+=(i^=e.charCodeAt(t++))<<8,u+=s<<8,i=65535&(r=435*i),s=65535&(o+=r>>>16),d=u+((a+=o>>>16)>>>16)&65535,l=65535&a;for(;t<n+3;)o=435*s,a=435*l,u=435*d,a+=(i^=e.charCodeAt(t++))<<8,u+=s<<8,i=65535&(r=435*i),s=65535&(o+=r>>>16),d=u+((a+=o>>>16)>>>16)&65535,l=65535&a;return c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s]+c[i>>8]+c[255&i]},fast1a32utf:function(e){var t,n,r=e.length,i=0,o=40389,s=0,a=33052;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(s=403*a,a=(s+=(o^=t>>6|192)<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=403*a,s+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),s+=(o^=t>>12&63|128)<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),a=(s+=(o^=t>>6&63|128)<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=63&t|128):(s=403*a,s+=(o^=t>>12|224)<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),a=(s+=(o^=t>>6&63|128)<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=63&t|128),s=403*a,a=(s+=o<<8)+((i=403*o)>>>16)&65535,o=65535&i;return(a<<16>>>0)+o},fast1a32hexutf:function(e){var t,n,r=e.length,i=0,o=40389,s=0,a=33052;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(s=403*a,a=(s+=(o^=t>>6|192)<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=403*a,s+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),s+=(o^=t>>12&63|128)<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),a=(s+=(o^=t>>6&63|128)<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=63&t|128):(s=403*a,s+=(o^=t>>12|224)<<8,o=65535&(i=403*o),s=403*(a=s+(i>>>16)&65535),a=(s+=(o^=t>>6&63|128)<<8)+((i=403*o)>>>16)&65535,o=65535&i,o^=63&t|128),s=403*a,a=(s+=o<<8)+((i=403*o)>>>16)&65535,o=65535&i;return c[a>>>8&255]+c[255&a]+c[o>>>8&255]+c[255&o]},fast1a52utf:function(e){var t,n,r=e.length,i=0,o=8997,s=0,a=33826,c=0,l=40164,u=0,d=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(s=435*a,c=435*l,u=435*d,c+=(o^=t>>6|192)<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=435*a,c=435*l,u=435*d,c+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=t>>12&63|128)<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=t>>6&63|128)<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,o^=63&t|128):(s=435*a,c=435*l,u=435*d,c+=(o^=t>>12|224)<<8,o=65535&(i=435*o),d=(u+=a<<8)+((c+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(o^=t>>6&63|128)<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,o^=63&t|128),s=435*a,c=435*l,u=435*d,c+=o<<8,u+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;return 281474976710656*(15&d)+4294967296*l+65536*a+(o^d>>4)},fast1a52hexutf:function(e){var t,n,r=e.length,i=0,o=8997,s=0,a=33826,u=0,d=40164,h=0,p=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(s=435*a,u=435*d,h=435*p,u+=(o^=t>>6|192)<<8,h+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),p=h+((u+=s>>>16)>>>16)&65535,d=65535&u,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=435*a,u=435*d,h=435*p,u+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(i=435*o),p=(h+=a<<8)+((u+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),h=435*p,u+=(o^=t>>12&63|128)<<8,o=65535&(i=435*o),p=(h+=a<<8)+((u+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),h=435*p,u+=(o^=t>>6&63|128)<<8,h+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),p=h+((u+=s>>>16)>>>16)&65535,d=65535&u,o^=63&t|128):(s=435*a,u=435*d,h=435*p,u+=(o^=t>>12|224)<<8,o=65535&(i=435*o),p=(h+=a<<8)+((u+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),h=435*p,u+=(o^=t>>6&63|128)<<8,h+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),p=h+((u+=s>>>16)>>>16)&65535,d=65535&u,o^=63&t|128),s=435*a,u=435*d,h=435*p,u+=o<<8,h+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),p=h+((u+=s>>>16)>>>16)&65535,d=65535&u;return l[15&p]+c[d>>8]+c[255&d]+c[a>>8]+c[255&a]+c[o>>8^p>>12]+c[255&(o^p>>4)]},fast1a64utf:function(e){var t,n,r=e.length,i=0,o=8997,s=0,a=33826,l=0,u=40164,d=0,h=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?o^=t:t<2048?(s=435*a,l=435*u,d=435*h,l+=(o^=t>>6|192)<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,o^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=435*a,l=435*u,d=435*h,l+=(o^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=t>>12&63|128)<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=t>>6&63|128)<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,o^=63&t|128):(s=435*a,l=435*u,d=435*h,l+=(o^=t>>12|224)<<8,o=65535&(i=435*o),h=(d+=a<<8)+((l+=(s+=i>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(o^=t>>6&63|128)<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,o^=63&t|128),s=435*a,l=435*u,d=435*h,l+=o<<8,d+=a<<8,o=65535&(i=435*o),a=65535&(s+=i>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l;return c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[o>>8]+c[255&o]}}}();void 0!==e.exports&&(e.exports=r)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorUtils=void 0;const i=n(233),o=n(0),s=n(28),a=n(1);var c;!function(e){e[e.Delete=0]="Delete",e[e.Insert=1]="Insert",e[e.Replace=2]="Replace"}(c||(c={}));const l=s.EOL.length;class u{constructor(e,t){this.action=e,this.start=t,this.text=""}apply(){switch(this.action){case c.Insert:return a.TextEdit.insert(this.start,this.text);case c.Delete:return a.TextEdit.delete(new a.Range(this.start,this.end));case c.Replace:return a.TextEdit.replace(new a.Range(this.start,this.end),this.text);default:return new a.TextEdit(new a.Range(new a.Position(0,0),new a.Position(0,0)),"")}}}function d(e){const t=[];if(!e)return t;const r=e.split(/[\r\n]/);let o=0;const s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;for(;o<r.length;){const e=r[o].match(s);if(!e)throw new Error("Invalid patch string: "+r[o]);const a=new i.diff_match_patch.patch_obj;t.push(a),a.start1=parseInt(e[1],10),""===e[2]?(a.start1-=1,a.length1=1):"0"===e[2]?a.length1=0:(a.start1-=1,a.length1=parseInt(e[2],10)),a.start2=parseInt(e[3],10),""===e[4]?(a.start2-=1,a.length2=1):"0"===e[4]?a.length2=0:(a.start2-=1,a.length2=parseInt(e[4],10)),o+=1;const c=n(233);for(;o<r.length;){const e=r[o].charAt(0);let t;try{t=r[o].substring(1)}catch(e){throw new Error("Illegal escape in patch_fromText")}if("-"===e)a.diffs.push([c.DIFF_DELETE,t]);else if("+"===e)a.diffs.push([c.DIFF_INSERT,t]);else if(" "===e)a.diffs.push([c.DIFF_EQUAL,t]);else{if("@"===e)break;if(""!==e)throw new Error(`Invalid patch mode '${e}' in: ${t}`)}o+=1}}return t}let h=class{getWorkspaceEditsFromPatch(e,t,r){const i=new a.WorkspaceEdit;if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return i;t=t.replace(/\\ No newline at end of file[\r\n]/,"");const o=new(n(233).diff_match_patch),h=d.call(o,t);if(!Array.isArray(h)||0===h.length)throw new Error("Unable to parse Patch string");return h.forEach(t=>{t.diffs.forEach(e=>{e[1]+=s.EOL}),function(e,t,r=0){let i=r,o=0;const s=e.split(/\r?\n/g);i>0&&s.filter((e,t)=>t<i).forEach(e=>o+=e.length+l);const d=[];let h,p=null;for(let e=0;e<t.length;e+=1){let r=new a.Position(i,o);for(let n=0;n<t[e][1].length;n+=1)"\n"!==t[e][1][n]?o+=1:(o=0,i+=1);const l=n(233);switch(t[e][0]){case l.DIFF_DELETE:if(0===s[i-1].length&&s[r.line-1]&&0===s[r.line-1].length?(r=new a.Position(r.line-1,0),h=new a.Position(i-1,0)):h=new a.Position(i,o),null===p)p=new u(c.Delete,r);else if(p.action!==c.Delete)throw new Error("cannot format due to an internal error.");p.end=h;break;case l.DIFF_INSERT:null===p?p=new u(c.Insert,r):p.action===c.Delete&&(p.action=c.Replace),i=r.line,o=r.character,p.text+=t[e][1];break;case l.DIFF_EQUAL:null!==p&&(d.push(p),p=null)}}return null!==p&&d.push(p),d}(e,t.diffs,t.start1).forEach(e=>{switch(e.action){case c.Delete:i.delete(r,new a.Range(e.start,e.end));break;case c.Insert:i.insert(r,e.start,e.text);break;case c.Replace:i.replace(r,new a.Range(e.start,e.end),e.text)}})}),i}};h=r([o.injectable()],h),t.EditorUtils=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentService=void 0;const o=n(0),s=n(1094),a=n(8),c=n(86),l=n(7),u=n(14),d=n(3),h=n(10),p=n(473),f=n(1130);let m=class{constructor(e,t,n,r){this.configurationService=e,this.appEnvironment=t,this.globalState=n,this.output=r,this._optInto=[],this._optOutFrom=[],this.settings=e.getSettings(void 0);const i=this.settings.experiments.optInto,o=this.settings.experiments.optOutFrom;if(this._optInto=i.filter(e=>!e.endsWith("control")),this._optOutFrom=o.filter(e=>!e.endsWith("control")),!this.enabled)return;let a;a="insiders"===this.appEnvironment.channel?s.TargetPopulation.Insiders:s.TargetPopulation.Public;const c=new f.ExperimentationTelemetry;this.experimentationService=s.getExperimentationService(u.JVSC_EXTENSION_ID,this.appEnvironment.packageJson.version,a,c,this.globalState),this.logExperiments()}get enabled(){return this.settings.experiments.enabled}async activate(){this.experimentationService&&await this.experimentationService.initializePromise}async inExperiment(e){if(!this.experimentationService)return!1;switch(this.getOptInOptOutStatus(e)){case"optOut":return a.sendTelemetryEvent(c.EventName.JUPYTER_EXPERIMENTS_OPT_IN_OUT,void 0,{expNameOptedOutOf:e}),!1;case"optIn":return await this.experimentationService.isCachedFlightEnabled(e),a.sendTelemetryEvent(c.EventName.JUPYTER_EXPERIMENTS_OPT_IN_OUT,void 0,{expNameOptedInto:e}),!0;default:return this.experimentationService.isCachedFlightEnabled(e)}}async getExperimentValue(e){if(this.experimentationService&&!this._optOutFrom.includes(e))return this.experimentationService.getTreatmentVariableAsync("vscode",e)}logExperiments(){if(!this.experimentationService||this.logged)return;this.logged=!0;this.globalState.get("VSCode.ABExp.FeatureData",{features:[]}).features.forEach(e=>{e.toLowerCase().startsWith("jupyter")&&this.output.appendLine(h.Experiments.inGroup().format(e))}),this.getExperimentsUserHasManuallyOptedInto().forEach(e=>{this.output.appendLine(h.Experiments.inGroup().format(e))})}getOptInOptOutStatus(e){if(this.experimentationService)return this._optOutFrom.includes(e)?"optOut":this._optInto.includes(e)?"optIn":void 0}getExperimentsUserHasManuallyOptedInto(){return Object.values(p.Experiments).filter(e=>"optIn"===this.getOptInOptOutStatus(e))}};m=r([o.injectable(),i(0,o.inject(d.IConfigurationService)),i(1,o.inject(l.IApplicationEnvironment)),i(2,o.inject(d.IMemento)),i(2,o.named(d.GLOBAL_MEMENTO)),i(3,o.inject(d.IOutputChannel)),i(3,o.named(u.STANDARD_OUTPUT_CHANNEL))],m),t.ExperimentService=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1095);t.getExperimentationService=r.getExperimentationService,t.getExperimentationServiceAsync=r.getExperimentationServiceAsync;var i=n(462);t.TargetPopulation=i.TargetPopulation},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(462),i=n(1096),o=n(1129);function s(e,t,n,s,a,...c){if(!a)throw new Error("Memento storage was not provided.");const l=[new r.VSCodeFilterProvider(e,t,n),...c],u=new o.MementoKeyValueStorage(a);return new i.ExperimentationService({filterProviders:l,telemetry:s,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:u,featuresTelemetryPropertyName:"VSCode.ABExp.Features",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=s,t.getExperimentationServiceAsync=async function(e,t,n,r,i,...o){const a=s(e,t,n,r,i,...o);return await a.initializePromise,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1097);t.ExperimentationService=r.ExperimentationService},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1098),i=n(1101),o=n(1125);class s extends o.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new r.TasApiFeatureProvider(new i.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=s,s.REFRESH_RATE_IN_MINUTES=30},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1099);class i extends r.FilteredFeatureProvider{constructor(e,t,n){super(t,n),this.httpClient=e,this.telemetry=t,this.filterProviders=n}async fetch(){let e=this.getFilters(),t={};for(let n of e.keys()){const r=e.get(n);t[n]=r}let n=await this.httpClient.get({headers:t});e.keys.length>0&&this.PostEventToTelemetry(t);let r=n.data,i=r.Configs,o=[];for(let e of i)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const n=t+(e.Parameters[t]?"":"cf");o.includes(n)||o.push(n)}return{features:o,assignmentContext:r.AssignmentContext,configs:i}}}t.TasApiFeatureProvider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1100);class i extends r.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let n=t.getFilters();for(let t of n.keys()){let r=n.get(t);e.set(t,r)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1102);t.AxiosHttpClient=class{constructor(e){this.endpoint=e}get(e){return r.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}}},function(e,t,n){e.exports=n(1103)},function(e,t,n){"use strict";var r=n(64),i=n(463),o=n(1104),s=n(471);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(n(465));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n(472),c.CancelToken=n(1122),c.isCancel=n(464),c.all=function(e){return Promise.all(e)},c.spread=n(1123),c.isAxiosError=n(1124),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(64),i=n(314),o=n(1105),s=n(1106),a=n(471);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(64);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(64),i=n(1107),o=n(464),s=n(465);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(64);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(64);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(64),i=n(466),o=n(1110),s=n(314),a=n(468),c=n(1113),l=n(1114),u=n(315);e.exports=function(e){return new Promise((function(t,n){var d=e.data,h=e.headers;r.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(f+":"+m)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),s(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,o),p=null}},p.onabort=function(){p&&(n(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||l(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},function(e,t,n){"use strict";var r=n(64);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(64),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(64);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(64),i=n(466),o=n(468),s=n(314),a=n(48),c=n(58),l=n(469).http,u=n(469).https,d=n(31),h=n(44),p=n(1121),f=n(315),m=n(467),g=/https:?/;e.exports=function(e){return new Promise((function(t,n){var v=function(e){t(e)},y=function(e){n(e)},b=e.data,_=e.headers;if(_["User-Agent"]||_["user-agent"]||(_["User-Agent"]="axios/"+p.version),b&&!r.isStream(b)){if(Buffer.isBuffer(b));else if(r.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!r.isString(b))return y(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));b=Buffer.from(b,"utf-8")}_["Content-Length"]=b.length}var w=void 0;e.auth&&(w=(e.auth.username||"")+":"+(e.auth.password||""));var S=o(e.baseURL,e.url),E=d.parse(S),x=E.protocol||"http:";if(!w&&E.auth){var C=E.auth.split(":");w=(C[0]||"")+":"+(C[1]||"")}w&&delete _.Authorization;var k=g.test(x),D=k?e.httpsAgent:e.httpAgent,T={path:s(E.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:_,agent:D,agents:{http:e.httpAgent,https:e.httpsAgent},auth:w};e.socketPath?T.socketPath=e.socketPath:(T.hostname=E.hostname,T.port=E.port);var I,M=e.proxy;if(!M&&!1!==M){var P=x.slice(0,-1)+"_proxy",j=process.env[P]||process.env[P.toUpperCase()];if(j){var L=d.parse(j),O=process.env.no_proxy||process.env.NO_PROXY,A=!0;if(O)A=!O.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&E.hostname.substr(E.hostname.length-e.length)===e||E.hostname===e))}));if(A&&(M={host:L.hostname,port:L.port,protocol:L.protocol},L.auth)){var N=L.auth.split(":");M.auth={username:N[0],password:N[1]}}}}M&&(T.headers.host=E.hostname+(E.port?":"+E.port:""),function e(t,n,r){if(t.hostname=n.host,t.host=n.host,t.port=n.port,t.path=r,n.auth){var i=Buffer.from(n.auth.username+":"+n.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.beforeRedirect=function(t){t.headers.host=t.host,e(t,n,t.href)}}(T,M,x+"//"+E.hostname+(E.port?":"+E.port:"")+T.path));var R=k&&(!M||g.test(M.protocol));e.transport?I=e.transport:0===e.maxRedirects?I=R?c:a:(e.maxRedirects&&(T.maxRedirects=e.maxRedirects),I=R?u:l),e.maxBodyLength>-1&&(T.maxBodyLength=e.maxBodyLength);var F=I.request(T,(function(t){if(!F.aborted){var n=t,o=t.req||F;if(204!==t.statusCode&&"HEAD"!==o.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(h.createUnzip()),delete t.headers["content-encoding"]}var s={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:o};if("stream"===e.responseType)s.data=n,i(v,y,s);else{var a=[];n.on("data",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(n.destroy(),y(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,o)))})),n.on("error",(function(t){F.aborted||y(m(t,e,null,o))})),n.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=r.stripBOM(t))),s.data=t,i(v,y,s)}))}}}));F.on("error",(function(t){F.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||y(m(t,e,null,F))})),e.timeout&&F.setTimeout(e.timeout,(function(){F.abort(),y(f("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",F))})),e.cancelToken&&e.cancelToken.promise.then((function(e){F.aborted||(F.abort(),y(e))})),r.isStream(b)?b.on("error",(function(t){y(m(t,e,null,F))})).pipe(F):F.end(b)}))}},function(e,t,n){var r;try{r=n(1117)("follow-redirects")}catch(e){r=function(){}}e.exports=r},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(1118):e.exports=n(1120)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(470)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(a=e,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(211),i=n(18);(t=e.exports=n(470)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return s.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var i=n(25);(t=new i.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var o=n(110);(t=new o.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(a())},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.1","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.1.tgz","_integrity":"sha512-dKQiRHxGD9PPRIUNIWvZhPTPpl1rf/OxTYKsqKUDjBwYylTvV7SjSHJb9ratfyzM6wCdLCOYLzs73qpg5c4iGA==","_from":"axios@0.21.1"}')},function(e,t,n){"use strict";var r=n(472);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1126),i=n(1128);class o extends r.ExperimentationServiceBase{constructor(e,t,n,r,o,s,a,c){if(super(e,r,o,s,a,c),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=n,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&0!==n)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new i.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1127);t.ExperimentationServiceBase=class{constructor(e,t,n,i,o,s){this.telemetry=e,this.featuresTelemetryPropertyName=t,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.initializePromise=this.loadCachePromise,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new r.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData()}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise)return await this.fetchPromise,this.features;if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async e=>await e.getFeatures()));let t=await this.fetchPromise;return this.fetchPromise=void 0,this.updateFeatures(t,e),this.features}updateFeatures(e,t=!1){let n={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)n.features.includes(e)||n.features.push(e);for(let e of t.configs){const t=n.configs.find(t=>t.Id===e.Id);t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):n.configs.push(e)}n.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){var n;this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`);return null===(n=this.features.configs.find(t=>t.Id===e))||void 0===n?void 0:n.Parameters[t]}async getTreatmentVariableAsync(e,t){return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationTelemetry=void 0;const r=n(8);t.ExperimentationTelemetry=class{setSharedProperty(e,t){r.setSharedProperty(e,t)}postEvent(e,t){const n={};t.forEach((e,t)=>{n[t]=e}),r.sendTelemetryEvent(e,void 0,n)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureDeprecationManager=void 0;const o=n(0),s=n(7),a=n(4),c=n(474),l=n(3),u=[{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_FORMAT_ON_SAVE",message:"The setting 'python.formatting.formatOnSave' is deprecated, please use 'editor.formatOnSave'.",moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/309",setting:{setting:"formatting.formatOnSave",values:["true",!0]}},{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_LINT_ON_TEXT_CHANGE",message:"The setting 'python.linting.lintOnTextChange' is deprecated, please enable 'python.linting.lintOnSave' and 'files.autoSave'.",moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/313",setting:{setting:"linting.lintOnTextChange",values:["true",!0]}},{doNotDisplayPromptStateKey:"SHOW_DEPRECATED_FEATURE_PROMPT_FOR_AUTO_COMPLETE_PRELOAD_MODULES",message:"The setting 'python.autoComplete.preloadModules' is deprecated, please consider using Pylance Language Server ('python.languageServer' setting).",moreInfoUrl:"https://github.com/Microsoft/vscode-python/issues/1704",setting:{setting:"autoComplete.preloadModules"}}];let d=class{constructor(e,t,n,r){this.persistentStateFactory=e,this.cmdMgr=t,this.workspace=n,this.appShell=r,this.disposables=[]}dispose(){this.disposables.forEach(e=>e.dispose())}initialize(){u.forEach(this.registerDeprecation.bind(this))}registerDeprecation(e){Array.isArray(e.commands)&&e.commands.forEach(t=>{this.disposables.push(this.cmdMgr.registerCommand(t,()=>this.notifyDeprecation(e),this))}),e.setting&&this.checkAndNotifyDeprecatedSetting(e)}async notifyDeprecation(e){const t=this.persistentStateFactory.createGlobalPersistentState(e.doNotDisplayPromptStateKey,!0);if(!t.value)return;const n=await this.appShell.showInformationMessage(e.message,"Learn more","Never show again");if(n)switch(n){case"Learn more":c.launch(e.moreInfoUrl);break;case"Never show again":await t.updateValue(!1);break;default:throw new Error("Selected option not supported.")}}checkAndNotifyDeprecatedSetting(e){let t=!1;Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders.forEach(n=>{t||(t=this.isDeprecatedSettingAndValueUsed(this.workspace.getConfiguration("jupyter",n.uri),e.setting))}):t=this.isDeprecatedSettingAndValueUsed(this.workspace.getConfiguration("jupyter"),e.setting),t&&this.notifyDeprecation(e).catch(e=>a.traceVerbose("Jupyter Extension: notifyDeprecation",e))}isDeprecatedSettingAndValueUsed(e,t){if(!e.has(t.setting))return!1;const n=e.get(t.setting);return Array.isArray(t.values)&&0!==t.values.length?Array.isArray(t.values)&&0!==t.values.length?t.values.indexOf(e.get(t.setting))>=0:void 0!==n&&(!Array.isArray(n)||n.length>0):!Array.isArray(n)||n.length>0}};d=r([o.injectable(),i(0,o.inject(l.IPersistentStateFactory)),i(1,o.inject(s.ICommandManager)),i(2,o.inject(s.IWorkspaceService)),i(3,o.inject(s.IApplicationShell))],d),t.FeatureDeprecationManager=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileDownloader=void 0;const o=n(97),s=n(0),a=n(7),c=n(14),l=n(16),u=n(3),d=n(10),h=n(9);let p=class{constructor(e,t,n){this.httpClient=e,this.dsfs=t,this.appShell=n}async downloadFile(e,t){t.outputChannel&&t.outputChannel.appendLine(d.Http.downloadingFile().format(e));const n=await this.dsfs.createTemporaryLocalFile(t.extension);return await this.downloadFileWithStatusBarProgress(e,t.progressMessagePrefix,n.filePath).then(h.noop,e=>(n.dispose(),Promise.reject(e))),n.filePath}async downloadFileWithStatusBarProgress(e,t,n){await this.appShell.withProgressCustomIcon(c.Octicons.Downloading,async r=>{const i=await this.httpClient.downloadFile(e),s=o.createWriteStream(n);return this.displayDownloadProgress(e,r,i,s,t)})}async displayDownloadProgress(e,t,r,i,o){return new Promise((s,a)=>{r.on("response",t=>{200!==t.statusCode&&a(new Error(`Failed with status ${t.statusCode}, ${t.statusMessage}, Uri ${e}`))});n(1133)(r).on("progress",e=>{const n=function(e,t){const n=Math.round(t.size.transferred/1024),r=Math.round(t.size.total/1024),i=Math.round(100*t.percent);return d.Http.downloadingFileProgress().format(e,n.toString(),r.toString(),i.toString())}(o,e);t.report({message:n})}).on("error",a).pipe(i).on("error",a).on("close",s)})}};p=r([s.injectable(),i(0,s.inject(u.IHttpClient)),i(1,s.inject(l.IFileSystem)),i(2,s.inject(a.IApplicationShell))],p),t.FileDownloader=p},function(e,t){e.exports=require("./node_modules/request-progress")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const o=n(0),s=n(346),a=n(40),c=n(7),l=n(4);let u=class{constructor(e){const t=e.get(c.IWorkspaceService);this.requestOptions={proxy:t.getConfiguration("http").get("proxy","")}}async downloadFile(e){return(await Promise.resolve().then(()=>n(316)))(e,this.requestOptions)}async getJSON(e,t=!0){const n=await this.getContents(e);return this.parseBodyToJSON(n,t)}async parseBodyToJSON(e,t){if(t)return JSON.parse(e);{let t=[];const n=s.parse(e,t,{allowTrailingComma:!0,disallowComments:!1});return t.length>0&&l.traceError("JSONC parser returned ParseError codes",t),n}}async exists(e){const t=n(316);return new Promise(n=>{try{t.get(e,this.requestOptions).on("response",e=>n(200===e.statusCode)).on("error",()=>n(!1))}catch(e){n(!1)}})}async getContents(e){const t=n(316);return new Promise((n,r)=>{t(e,this.requestOptions,(t,i,o)=>t?r(t):200!==i.statusCode?r(new Error(`Failed with status ${i.statusCode}, ${i.statusMessage}, Uri ${e}`)):void n(o))})}};u=r([o.injectable(),i(0,o.inject(a.IServiceContainer))],u),t.HttpClient=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentStateFactory=t.PersistentState=void 0;const o=n(0),s=n(3);class a{constructor(e,t,n,r){this.storage=e,this.key=t,this.defaultValue=n,this.expiryDurationMs=r}get value(){if(this.expiryDurationMs){const e=this.storage.get(this.key,{data:this.defaultValue});return!e||!e.expiry||e.expiry<Date.now()?this.defaultValue:e.data}return this.storage.get(this.key,this.defaultValue)}async updateValue(e){this.expiryDurationMs?await this.storage.update(this.key,{data:e,expiry:Date.now()+this.expiryDurationMs}):await this.storage.update(this.key,e)}}t.PersistentState=a;let c=class{constructor(e,t){this.globalState=e,this.workspaceState=t}createGlobalPersistentState(e,t,n){return new a(this.globalState,e,t,n)}createWorkspacePersistentState(e,t,n){return new a(this.workspaceState,e,t,n)}};c=r([o.injectable(),i(0,o.inject(s.IMemento)),i(0,o.named(s.GLOBAL_MEMENTO)),i(1,o.inject(s.IMemento)),i(1,o.named(s.WORKSPACE_MEMENTO))],c),t.PersistentStateFactory=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PathUtils=void 0;const o=n(0),s=n(6),a=n(3),c=n(129),l=n(234),u=n(475);let d=class{constructor(e){this.isWindows=e;const t=e?c.OSType.Windows:c.OSType.Unknown;this.utils=new l.FileSystemPathUtils(u("~"),l.FileSystemPaths.withDefaults(),new l.Executables(s.delimiter,t),s)}get home(){return this.utils.home}get delimiter(){return this.utils.executables.delimiter}get separator(){return this.utils.paths.sep}getDisplayName(e,t){return e=this.isWindows?e.replace(/\//g,"\\"):e,this.utils.getDisplayName(e,t)}basename(e,t){return this.utils.paths.basename(e,t)}};d=r([o.injectable(),i(0,o.inject(a.IsWindows))],d),t.PathUtils=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessLogger=void 0;const o=n(0),s=n(14),a=n(4),c=n(3),l=n(10);let u=class{constructor(e,t){this.outputChannel=e,this.pathUtils=t}logProcess(e,t,n){if(!s.isTestExecution()&&s.isCI&&process.env.UITEST_DISABLE_PROCESS_LOGGING)return;const r=t.reduce((e,t,n)=>{let r=this.pathUtils.getDisplayName(t).toCommandArgument();return"'"!==t[0]&&'"'!==t[0]||(r=`${t[0]}${this.pathUtils.getDisplayName(t.substr(1))}`),0===n?r:`${e} ${r}`},""),i=[`> ${this.pathUtils.getDisplayName(e)} ${r}`];n&&n.cwd&&i.push(`${l.Logging.currentWorkingDirectory()} ${this.pathUtils.getDisplayName(n.cwd)}`),i.forEach(e=>{a.traceInfo("Process Execution: "+e),this.outputChannel.appendLine(e)})}};u=r([o.injectable(),i(0,o.inject(c.IOutputChannel)),i(0,o.named(s.STANDARD_OUTPUT_CHANNEL)),i(1,o.inject(c.IPathUtils))],u),t.ProcessLogger=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PortAttributesProviders=void 0;const o=n(0),s=n(1),a=n(1),c=n(317),l=n(476),u=n(4),d=n(3);let h=class{constructor(e){this.disposables=e}activate(){try{this.disposables.push(s.workspace.registerPortAttributesProvider({},this))}catch(e){u.traceError("Failure in registering port attributes",e)}}providePortAttributes(e,t,n,r){try{if(l.KernelLauncher.usedPorts.includes(e)||c.NotebookStarter.usedPorts.includes(e))return new a.PortAttributes(e,a.PortAutoForwardAction.Ignore)}catch(e){u.traceError("Failure in returning port attributes",e)}}};h=r([o.injectable(),i(0,o.inject(d.IDisposableRegistry))],h),t.PortAttributesProviders=h},function(e,t,n){var r=n(61);e.exports=function(){return r.randomBytes(16)}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";var r=n(25),i=n(28),o=n(110),s=n(6),a=n(1142),c=n(1143),l=n(1147).mkdirp,u=c("portfinder:testPort"),d=c("portfinder:getPort"),h=c("portfinder:defaultHosts"),p={testPort:function(e,n){function r(){u("done w/ testPort(): OK",e.host,"port",e.port),e.server.removeListener("error",i),e.server.close(),n(null,e.port)}function i(i){if(u("done w/ testPort(): failed",e.host,"w/ port",e.port,"with error",i.code),e.server.removeListener("listening",r),"EADDRINUSE"!=i.code&&"EACCES"!=i.code)return n(i);var o=t.nextPort(e.port);if(o>t.highestPort)return n(new Error("No open ports available"));p.testPort({port:o,host:e.host,server:e.server},n)}n||(n=e,e={}),e.server=e.server||o.createServer((function(){})),u("entered testPort(): trying",e.host,"port",e.port),e.server.once("error",i),e.server.once("listening",r),e.host?e.server.listen(e.port,e.host):e.server.listen(e.port)}};t.basePort=8e3,t.highestPort=65535,t.basePath="/tmp/portfinder",t.getPort=function(e,n){if(n||(n=e,e={}),e.port=Number(e.port)||Number(t.basePort),e.host=e.host||null,e.stopPort=Number(e.stopPort)||Number(t.highestPort),!e.startPort){if(e.startPort=Number(e.port),e.startPort<0)throw Error("Provided options.startPort("+e.startPort+") is less than 0, which are cannot be bound.");if(e.stopPort<e.startPort)throw Error("Provided options.stopPort("+e.stopPort+"is less than options.startPort ("+e.startPort+")")}if(e.host){for(var r,i=0;i<t._defaultHosts.length;i++)if(t._defaultHosts[i]===e.host){r=!0;break}r||t._defaultHosts.push(e.host)}var o,s=[];return a.eachSeries(t._defaultHosts,(function(t,n){return d("in eachSeries() iteration callback: host is",t),p.testPort({host:t,port:e.port},(function(e,r){return e?(d("in eachSeries() iteration callback testPort() callback","with an err:",e.code),o=t,n(e)):(d("in eachSeries() iteration callback testPort() callback","with a success for port",r),s.push(r),n())}))}),(function(r){if(r){if(d("in eachSeries() result callback: err is",r),"EADDRNOTAVAIL"===r.code||"EINVAL"===r.code){if(e.host===o){var i="Provided host "+e.host+" could NOT be bound. Please provide a different host address or hostname";return n(Error(i))}var a=t._defaultHosts.indexOf(o);return t._defaultHosts.splice(a,1),t.getPort(e,n)}return n(r)}if(s.sort((function(e,t){return e-t})),d("in eachSeries() result callback: openPorts is",s),s[0]===s[s.length-1]){if(s[0]<=e.stopPort)return n(null,s[0]);i="No open ports found in between "+e.startPort+" and "+e.stopPort;return n(Error(i))}return t.getPort({port:s.pop(),host:e.host,startPort:e.startPort,stopPort:e.stopPort},n)}))},t.getPortPromise=function(e){if("function"!=typeof Promise)throw Error("Native promise support is not available in this version of node.Please install a polyfill and assign Promise to global.Promise before calling this method");return e||(e={}),new Promise((function(n,r){t.getPort(e,(function(e,t){if(e)return r(e);n(t)}))}))},t.getPorts=function(e,n,r){r||(r=n,n={});var i=null;a.timesSeries(e,(function(e,r){i&&(n.port=t.nextPort(i)),t.getPort(n,(function(e,t){e?r(e):(i=t,r(null,t))}))}),r)},t.getSocket=function(e,n){function i(){r.stat(e.path,(function(r){r?"ENOENT"==r.code?n(null,e.path):n(r):(e.path=t.nextSocket(e.path),t.getSocket(e,n))}))}return n||(n=e,e={}),e.mod=e.mod||parseInt(755,8),e.path=e.path||t.basePath+".sock",e.exists?i():(o=s.dirname(e.path),void r.stat(o,(function(t,r){if(t||!r.isDirectory())return function(t){l(t,e.mod,(function(t){if(t)return n(t);e.exists=!0,i()}))}(o);e.exists=!0,i()})));var o},t.nextPort=function(e){return e+1},t.nextSocket=function(e){var t=s.dirname(e),n=s.basename(e,".sock").match(/^([a-zA-z]+)(\d*)$/i),r=parseInt(n[2]),i=n[1];return isNaN(r)&&(r=0),r+=1,s.join(t,i+r+".sock")},t._defaultHosts=function(){var e={};try{e=i.networkInterfaces()}catch(e){if("uv_interface_addresses"!==e.syscall)throw e}for(var t=Object.keys(e),n=["0.0.0.0"],r=0;r<t.length;r++)for(var o=e[t[r]],s=0;s<o.length;s++){var a=o[s];n.push(a.address)}return n.push(null),h("exports._defaultHosts is: %o",n),n}()},function(e,t,n){(function(e){(function(t){"use strict";function n(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var r=function(e){var t=n(arguments,1);return function(){var r=n(arguments);return e.apply(null,t.concat(r))}},i=function(e){return function(){var t=n(arguments),r=t.pop();e.call(this,t,r)}};function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var s="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function l(e){return function(t){var r=n(arguments,1);e((function(){t.apply(null,r)}))}}var u=l(s?setImmediate:a?process.nextTick:c);function d(e){return i((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}o(r)&&"function"==typeof r.then?r.then((function(e){h(n,null,e)}),(function(e){h(n,e.message?e:new Error(e))})):n(null,r)}))}function h(e,t,n){try{e(t,n)}catch(e){u(p,e)}}function p(e){throw e}var f="function"==typeof Symbol;function m(e){return f&&"AsyncFunction"===e[Symbol.toStringTag]}function g(e){return m(e)?d(e):e}function v(e){return function(t){var r=n(arguments,1),o=i((function(n,r){var i=this;return e(t,(function(e,t){g(e).apply(i,n.concat(t))}),r)}));return r.length?o.apply(this,r):o}}var y="object"==typeof global&&global&&global.Object===Object&&global,b="object"==typeof self&&self&&self.Object===Object&&self,_=y||b||Function("return this")(),w=_.Symbol,S=Object.prototype,E=S.hasOwnProperty,x=S.toString,C=w?w.toStringTag:void 0,k=Object.prototype.toString,D=w?w.toStringTag:void 0;function T(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":D&&D in Object(e)?function(e){var t=E.call(e,C),n=e[C];try{e[C]=void 0;var r=!0}catch(e){}var i=x.call(e);return r&&(t?e[C]=n:delete e[C]),i}(e):function(e){return k.call(e)}(e)}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function M(e){return null!=e&&I(e.length)&&!function(e){if(!o(e))return!1;var t=T(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)}var P={};function j(){}function L(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var O="function"==typeof Symbol&&Symbol.iterator;function A(e){return null!=e&&"object"==typeof e}function N(e){return A(e)&&"[object Arguments]"==T(e)}var R=Object.prototype,F=R.hasOwnProperty,B=R.propertyIsEnumerable,U=N(function(){return arguments}())?N:function(e){return A(e)&&F.call(e,"callee")&&!B.call(e,"callee")},Y=Array.isArray,W="object"==typeof t&&t&&!t.nodeType&&t,H=W&&"object"==typeof e&&e&&!e.nodeType&&e,V=H&&H.exports===W?_.Buffer:void 0,K=(V?V.isBuffer:void 0)||function(){return!1},q=/^(?:0|[1-9]\d*)$/;function J(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&q.test(e))&&e>-1&&e%1==0&&e<t}var $={};$["[object Float32Array]"]=$["[object Float64Array]"]=$["[object Int8Array]"]=$["[object Int16Array]"]=$["[object Int32Array]"]=$["[object Uint8Array]"]=$["[object Uint8ClampedArray]"]=$["[object Uint16Array]"]=$["[object Uint32Array]"]=!0,$["[object Arguments]"]=$["[object Array]"]=$["[object ArrayBuffer]"]=$["[object Boolean]"]=$["[object DataView]"]=$["[object Date]"]=$["[object Error]"]=$["[object Function]"]=$["[object Map]"]=$["[object Number]"]=$["[object Object]"]=$["[object RegExp]"]=$["[object Set]"]=$["[object String]"]=$["[object WeakMap]"]=!1;var z,G="object"==typeof t&&t&&!t.nodeType&&t,Q=G&&"object"==typeof e&&e&&!e.nodeType&&e,X=Q&&Q.exports===G&&y.process,Z=function(){try{var e=Q&&Q.require&&Q.require("util").types;return e||X&&X.binding&&X.binding("util")}catch(e){}}(),ee=Z&&Z.isTypedArray,te=ee?(z=ee,function(e){return z(e)}):function(e){return A(e)&&I(e.length)&&!!$[T(e)]},ne=Object.prototype.hasOwnProperty;function re(e,t){var n=Y(e),r=!n&&U(e),i=!n&&!r&&K(e),o=!n&&!r&&!i&&te(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var l in e)!t&&!ne.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||J(l,c))||a.push(l);return a}var ie=Object.prototype,oe=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),se=Object.prototype.hasOwnProperty;function ae(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||ie))return oe(e);var t,n,r=[];for(var i in Object(e))se.call(e,i)&&"constructor"!=i&&r.push(i);return r}function ce(e){return M(e)?re(e):ae(e)}function le(e){if(M(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=function(e){return O&&e[O]&&e[O]()}(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=ce(t=e),r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function ue(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function de(e){return function(t,n,r){if(r=L(r||j),e<=0||!t)return r(null);var i=le(t),o=!1,s=0,a=!1;function c(e,t){if(s-=1,e)o=!0,r(e);else{if(t===P||o&&s<=0)return o=!0,r(null);a||l()}}function l(){for(a=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,ue(c))}a=!1}l()}}function he(e,t,n,r){de(t)(e,g(n),r)}function pe(e,t){return function(n,r,i){return e(n,t,r,i)}}function fe(e,t,n){n=L(n||j);var r=0,i=0,o=e.length;function s(e,t){e?n(e):++i!==o&&t!==P||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,ue(s))}var me=pe(he,1/0),ge=function(e,t,n){(M(e)?fe:me)(e,g(t),n)};function ve(e){return function(t,n,r){return e(ge,t,g(n),r)}}function ye(e,t,n,r){r=r||j,t=t||[];var i=[],o=0,s=g(n);e(t,(function(e,t,n){var r=o++;s(e,(function(e,t){i[r]=t,n(e)}))}),(function(e){r(e,i)}))}var be=ve(ye),_e=v(be);function we(e){return function(t,n,r,i){return e(de(n),t,g(r),i)}}var Se=we(ye),Ee=pe(Se,1),xe=v(Ee);function Ce(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var ke,De=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[ke?s:++r];if(!1===t(i[a],a,i))break}return e};function Te(e,t){return e&&De(e,t,ce)}function Ie(e){return e!=e}function Me(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Ie,n)}var Pe=function(e,t,r){"function"==typeof t&&(r=t,t=null),r=L(r||j);var i=ce(e).length;if(!i)return r(null);t||(t=i);var o={},s=0,a=!1,c=Object.create(null),l=[],u=[],d={};function h(e,t){l.push((function(){!function(e,t){if(!a){var i=ue((function(t,i){if(s--,arguments.length>2&&(i=n(arguments,1)),t){var l={};Te(o,(function(e,t){l[t]=e})),l[e]=i,a=!0,c=Object.create(null),r(t,l)}else o[e]=i,f(e)}));s++;var l=g(t[t.length-1]);t.length>1?l(o,i):l(i)}}(e,t)}))}function p(){if(0===l.length&&0===s)return r(null,o);for(;l.length&&s<t;)l.shift()()}function f(e){Ce(c[e]||[],(function(e){e()})),p()}function m(t){var n=[];return Te(e,(function(e,r){Y(e)&&Me(e,t,0)>=0&&n.push(r)})),n}Te(e,(function(t,n){if(!Y(t))return h(n,[t]),void u.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return h(n,t),void u.push(n);d[n]=i,Ce(r,(function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));var s,a,l;a=function(){0==--i&&h(n,t)},(l=c[s=o])||(l=c[s]=[]),l.push(a)}))})),function(){for(var e,t=0;u.length;)e=u.pop(),t++,Ce(m(e),(function(e){0==--d[e]&&u.push(e)}));if(t!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function je(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Le=w?w.prototype:void 0,Oe=Le?Le.toString:void 0;function Ae(e){if("string"==typeof e)return e;if(Y(e))return je(e,Ae)+"";if(function(e){return"symbol"==typeof e||A(e)&&"[object Symbol]"==T(e)}(e))return Oe?Oe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ne(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,t,n)}var Re=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Fe="[\\ud800-\\udfff]",Be="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ue="\\ud83c[\\udffb-\\udfff]",Ye="[^\\ud800-\\udfff]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="(?:"+Be+"|"+Ue+")?",Ke="[\\ufe0e\\ufe0f]?"+Ve+"(?:\\u200d(?:"+[Ye,We,He].join("|")+")[\\ufe0e\\ufe0f]?"+Ve+")*",qe="(?:"+[Ye+Be+"?",Be,We,He,Fe].join("|")+")",Je=RegExp(Ue+"(?="+Ue+")|"+qe+Ke,"g");function $e(e){return function(e){return Re.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}var ze=/^\s+|\s+$/g;function Ge(e,t,n){var r;if((e=null==(r=e)?"":Ae(r))&&(n||void 0===t))return e.replace(ze,"");if(!e||!(t=Ae(t)))return e;var i=$e(e),o=$e(t);return Ne(i,function(e,t){for(var n=-1,r=e.length;++n<r&&Me(t,e[n],0)>-1;);return n}(i,o),function(e,t){for(var n=e.length;n--&&Me(t,e[n],0)>-1;);return n}(i,o)+1).join("")}var Qe=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Xe=/,/,Ze=/(=.+)?(\s*)$/,et=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function tt(e,t){var n={};Te(e,(function(e,t){var r,i=m(e),o=!i&&1===e.length||i&&0===e.length;if(Y(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?s:e);else if(o)n[t]=e;else{if(r=function(e){return e=(e=(e=(e=e.toString().replace(et,"")).match(Qe)[2].replace(" ",""))?e.split(Xe):[]).map((function(e){return Ge(e.replace(Ze,""))}))}(e),0===e.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[t]=r.concat(s)}function s(t,n){var i=je(r,(function(e){return t[e]}));i.push(n),g(e).apply(null,i)}})),Pe(n,t)}function nt(){this.head=this.tail=null,this.length=0}function rt(e,t){e.length=1,e.head=e.tail=t}function it(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=g(e),i=0,o=[],s=!1;function a(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(d.started=!0,Y(e)||(e=[e]),0===e.length&&d.idle())return u((function(){d.drain()}));for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||j};t?d._tasks.unshift(o):d._tasks.push(o)}s||(s=!0,u((function(){s=!1,d.process()})))}function c(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var s=e[n],a=Me(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=t&&d.error(t,s.data)}i<=d.concurrency-d.buffer&&d.unsaturated(),d.idle()&&d.drain(),d.process()}}var l=!1,d={_tasks:new nt,concurrency:t,payload:n,saturated:j,unsaturated:j,buffer:t/4,empty:j,drain:j,error:j,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){d.drain=j,d._tasks.empty()},unshift:function(e,t){a(e,!0,t)},remove:function(e){d._tasks.remove(e)},process:function(){if(!l){for(l=!0;!d.paused&&i<d.concurrency&&d._tasks.length;){var e=[],t=[],n=d._tasks.length;d.payload&&(n=Math.min(n,d.payload));for(var s=0;s<n;s++){var a=d._tasks.shift();e.push(a),o.push(a),t.push(a.data)}i+=1,0===d._tasks.length&&d.empty(),i===d.concurrency&&d.saturated();var u=ue(c(e));r(t,u)}l=!1}},length:function(){return d._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return d._tasks.length+i===0},pause:function(){d.paused=!0},resume:function(){!1!==d.paused&&(d.paused=!1,u(d.process))}};return d}function ot(e,t){return it(e,1,t)}nt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},nt.prototype.empty=function(){for(;this.head;)this.shift();return this},nt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},nt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},nt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):rt(this,e)},nt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):rt(this,e)},nt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},nt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},nt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},nt.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var st=pe(he,1);function at(e,t,n,r){r=L(r||j);var i=g(n);st(e,(function(e,n,r){i(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))}function ct(){var e=je(arguments,g);return function(){var t=n(arguments),r=this,i=t[t.length-1];"function"==typeof i?t.pop():i=j,at(e,t,(function(e,t,i){t.apply(r,e.concat((function(e){var t=n(arguments,1);i(e,t)})))}),(function(e,t){i.apply(r,[e].concat(t))}))}}var lt=function(){return ct.apply(null,n(arguments).reverse())},ut=Array.prototype.concat,dt=function(e,t,r,i){i=i||j;var o=g(r);Se(e,t,(function(e,t){o(e,(function(e){return e?t(e):t(null,n(arguments,1))}))}),(function(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&(n=ut.apply(n,t[r]));return i(e,n)}))},ht=pe(dt,1/0),pt=pe(dt,1),ft=function(){var e=n(arguments),t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}};function mt(e){return e}function gt(e,t){return function(n,r,i,o){o=o||j;var s,a=!1;n(r,(function(n,r,o){i(n,(function(r,i){r?o(r):e(i)&&!s?(a=!0,s=t(!0,n),o(null,P)):o()}))}),(function(e){e?o(e):o(null,a?s:t(!1))}))}}function vt(e,t){return t}var yt=ve(gt(mt,vt)),bt=we(gt(mt,vt)),_t=pe(bt,1);function wt(e){return function(t){var r=n(arguments,1);r.push((function(t){var r=n(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Ce(r,(function(t){console[e](t)})))})),g(t).apply(null,r)}}var St=wt("dir");function Et(e,t,r){r=ue(r||j);var i=g(e),o=g(t);function s(e){if(e)return r(e);var t=n(arguments,1);t.push(a),o.apply(this,t)}function a(e,t){return e?r(e):t?void i(s):r(null)}a(null,!0)}function xt(e,t,r){r=ue(r||j);var i=g(e),o=function(e){if(e)return r(e);var s=n(arguments,1);if(t.apply(this,s))return i(o);r.apply(null,[null].concat(s))};i(o)}function Ct(e,t,n){xt(e,(function(){return!t.apply(this,arguments)}),n)}function kt(e,t,n){n=ue(n||j);var r=g(t),i=g(e);function o(e){if(e)return n(e);i(s)}function s(e,t){return e?n(e):t?void r(o):n(null)}i(s)}function Dt(e){return function(t,n,r){return e(t,r)}}function Tt(e,t,n){ge(e,Dt(g(t)),n)}function It(e,t,n,r){de(t)(e,Dt(g(n)),r)}var Mt=pe(It,1);function Pt(e){return m(e)?e:i((function(t,n){var r=!0;t.push((function(){var e=arguments;r?u((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),r=!1}))}function jt(e){return!e}var Lt=ve(gt(jt,jt)),Ot=we(gt(jt,jt)),At=pe(Ot,1);function Nt(e){return function(t){return null==t?void 0:t[e]}}function Rt(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)}))}function Ft(e,t,n,r){var i=[];e(t,(function(e,t,r){n(e,(function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())}))}),(function(e){e?r(e):r(null,je(i.sort((function(e,t){return e.index-t.index})),Nt("value")))}))}function Bt(e,t,n,r){(M(t)?Rt:Ft)(e,t,g(n),r||j)}var Ut=ve(Bt),Yt=we(Bt),Wt=pe(Yt,1);function Ht(e,t){var n=ue(t||j),r=g(Pt(e));!function e(t){if(t)return n(t);r(e)}()}var Vt=function(e,t,n,r){r=r||j;var i=g(n);Se(e,t,(function(e,t){i(e,(function(n,r){return n?t(n):t(null,{key:r,val:e})}))}),(function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var s=t[o].key,a=t[o].val;i.call(n,s)?n[s].push(a):n[s]=[a]}return r(e,n)}))},Kt=pe(Vt,1/0),qt=pe(Vt,1),Jt=wt("log");function $t(e,t,n,r){r=L(r||j);var i={},o=g(n);he(e,t,(function(e,t,n){o(e,t,(function(e,r){if(e)return n(e);i[t]=r,n()}))}),(function(e){r(e,i)}))}var zt=pe($t,1/0),Gt=pe($t,1);function Qt(e,t){return t in e}function Xt(e,t){var r=Object.create(null),o=Object.create(null);t=t||mt;var s=g(e),a=i((function(e,i){var a=t.apply(null,e);Qt(r,a)?u((function(){i.apply(null,r[a])})):Qt(o,a)?o[a].push(i):(o[a]=[i],s.apply(null,e.concat((function(){var e=n(arguments);r[a]=e;var t=o[a];delete o[a];for(var i=0,s=t.length;i<s;i++)t[i].apply(null,e)}))))}));return a.memo=r,a.unmemoized=e,a}var Zt=l(a?process.nextTick:s?setImmediate:c);function en(e,t,r){r=r||j;var i=M(t)?[]:{};e(t,(function(e,t,r){g(e)((function(e,o){arguments.length>2&&(o=n(arguments,1)),i[t]=o,r(e)}))}),(function(e){r(e,i)}))}function tn(e,t){en(ge,e,t)}function nn(e,t,n){en(de(t),e,n)}var rn=function(e,t){var n=g(e);return it((function(e,t){n(e[0],t)}),t,1)},on=function(e,t){var n=rn(e,t);return n.push=function(e,t,r){if(null==r&&(r=j),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Y(e)||(e=[e]),0===e.length)return u((function(){n.drain()}));t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,a):n._tasks.push(a)}u(n.process)},delete n.unshift,n};function sn(e,t){if(t=L(t||j),!Y(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)g(e[n])(t)}function an(e,t,r,i){at(n(e).reverse(),t,r,i)}function cn(e){var t=g(e);return i((function(e,r){return e.push((function(e,t){var i;e?r(null,{error:e}):(i=arguments.length<=2?t:n(arguments,1),r(null,{value:i}))})),t.apply(this,e)}))}function ln(e){var t;return Y(e)?t=je(e,cn):(t={},Te(e,(function(e,n){t[n]=cn.call(this,e)}))),t}function un(e,t,n,r){Bt(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var dn=ve(un),hn=we(un),pn=pe(hn,1);function fn(e){return function(){return e}}function mn(e,t,n){var r=5,i=0,o={times:r,intervalFunc:fn(i)};function s(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:fn(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}if(arguments.length<3&&"function"==typeof e?(n=t||j,t=e):(s(o,e),n=n||j),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=g(t),c=1;function l(){a((function(e){e&&c++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(l,o.intervalFunc(c)):n.apply(null,arguments)}))}l()}var gn=function(e,t){t||(t=e,e=null);var n=g(t);return i((function(t,r){function i(e){n.apply(null,t.concat(e))}e?mn(e,i,r):mn(i,r)}))};function vn(e,t){en(st,e,t)}var yn=ve(gt(Boolean,mt)),bn=we(gt(Boolean,mt)),_n=pe(bn,1);function wn(e,t,n){var r=g(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}be(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,je(t.sort(i),Nt("value")))}))}function Sn(e,t,n){var r=g(e);return i((function(i,o){var s,a=!1;i.push((function(){a||(o.apply(null,arguments),clearTimeout(s))})),s=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),a=!0,o(r)}),t),r.apply(null,i)}))}var En=Math.ceil,xn=Math.max;function Cn(e,t,n,r){var i=g(n);Se(function(e,t,n,r){for(var i=-1,o=xn(En((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}(0,e,1),t,i,r)}var kn=pe(Cn,1/0),Dn=pe(Cn,1);function Tn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Y(e)?[]:{}),r=L(r||j);var i=g(n);ge(e,(function(e,n,r){i(t,e,n,r)}),(function(e){r(e,t)}))}function In(e,t){var r,i=null;t=t||j,Mt(e,(function(e,t){g(e)((function(e,o){r=arguments.length>2?n(arguments,1):o,i=e,t(!e)}))}),(function(){t(i,r)}))}function Mn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Pn(e,t,r){r=ue(r||j);var i=g(t);if(!e())return r(null);var o=function(t){if(t)return r(t);if(e())return i(o);var s=n(arguments,1);r.apply(null,[null].concat(s))};i(o)}function jn(e,t,n){Pn((function(){return!e.apply(this,arguments)}),t,n)}var Ln=function(e,t){if(t=L(t||j),!Y(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function i(t){var n=g(e[r++]);t.push(ue(o)),n.apply(null,t)}function o(o){if(o||r===e.length)return t.apply(null,arguments);i(n(arguments,1))}i([])},On={apply:r,applyEach:_e,applyEachSeries:xe,asyncify:d,auto:Pe,autoInject:tt,cargo:ot,compose:lt,concat:ht,concatLimit:dt,concatSeries:pt,constant:ft,detect:yt,detectLimit:bt,detectSeries:_t,dir:St,doDuring:Et,doUntil:Ct,doWhilst:xt,during:kt,each:Tt,eachLimit:It,eachOf:ge,eachOfLimit:he,eachOfSeries:st,eachSeries:Mt,ensureAsync:Pt,every:Lt,everyLimit:Ot,everySeries:At,filter:Ut,filterLimit:Yt,filterSeries:Wt,forever:Ht,groupBy:Kt,groupByLimit:Vt,groupBySeries:qt,log:Jt,map:be,mapLimit:Se,mapSeries:Ee,mapValues:zt,mapValuesLimit:$t,mapValuesSeries:Gt,memoize:Xt,nextTick:Zt,parallel:tn,parallelLimit:nn,priorityQueue:on,queue:rn,race:sn,reduce:at,reduceRight:an,reflect:cn,reflectAll:ln,reject:dn,rejectLimit:hn,rejectSeries:pn,retry:mn,retryable:gn,seq:ct,series:vn,setImmediate:u,some:yn,someLimit:bn,someSeries:_n,sortBy:wn,timeout:Sn,times:kn,timesLimit:Cn,timesSeries:Dn,transform:Tn,tryEach:In,unmemoize:Mn,until:jn,waterfall:Ln,whilst:Pn,all:Lt,allLimit:Ot,allSeries:At,any:yn,anyLimit:bn,anySeries:_n,find:yt,findLimit:bt,findSeries:_t,forEach:Tt,forEachSeries:Mt,forEachLimit:It,forEachOf:ge,forEachOfSeries:st,forEachOfLimit:he,inject:at,foldl:at,foldr:an,select:Ut,selectLimit:Yt,selectSeries:Wt,wrapSync:d};t.default=On,t.apply=r,t.applyEach=_e,t.applyEachSeries=xe,t.asyncify=d,t.auto=Pe,t.autoInject=tt,t.cargo=ot,t.compose=lt,t.concat=ht,t.concatLimit=dt,t.concatSeries=pt,t.constant=ft,t.detect=yt,t.detectLimit=bt,t.detectSeries=_t,t.dir=St,t.doDuring=Et,t.doUntil=Ct,t.doWhilst=xt,t.during=kt,t.each=Tt,t.eachLimit=It,t.eachOf=ge,t.eachOfLimit=he,t.eachOfSeries=st,t.eachSeries=Mt,t.ensureAsync=Pt,t.every=Lt,t.everyLimit=Ot,t.everySeries=At,t.filter=Ut,t.filterLimit=Yt,t.filterSeries=Wt,t.forever=Ht,t.groupBy=Kt,t.groupByLimit=Vt,t.groupBySeries=qt,t.log=Jt,t.map=be,t.mapLimit=Se,t.mapSeries=Ee,t.mapValues=zt,t.mapValuesLimit=$t,t.mapValuesSeries=Gt,t.memoize=Xt,t.nextTick=Zt,t.parallel=tn,t.parallelLimit=nn,t.priorityQueue=on,t.queue=rn,t.race=sn,t.reduce=at,t.reduceRight=an,t.reflect=cn,t.reflectAll=ln,t.reject=dn,t.rejectLimit=hn,t.rejectSeries=pn,t.retry=mn,t.retryable=gn,t.seq=ct,t.series=vn,t.setImmediate=u,t.some=yn,t.someLimit=bn,t.someSeries=_n,t.sortBy=wn,t.timeout=Sn,t.times=kn,t.timesLimit=Cn,t.timesSeries=Dn,t.transform=Tn,t.tryEach=In,t.unmemoize=Mn,t.until=jn,t.waterfall=Ln,t.whilst=Pn,t.all=Lt,t.allLimit=Ot,t.allSeries=At,t.any=yn,t.anyLimit=bn,t.anySeries=_n,t.find=yt,t.findLimit=bt,t.findSeries=_t,t.forEach=Tt,t.forEachSeries=Mt,t.forEachLimit=It,t.forEachOf=ge,t.forEachOfSeries=st,t.forEachOfLimit=he,t.inject=at,t.foldl=at,t.foldr=an,t.select=Ut,t.selectLimit=Yt,t.selectSeries=Wt,t.wrapSync=d,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(124)(e))},function(e,t,n){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(1144):e.exports=n(1145)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(477)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,n){"use strict";var r=n(211),i=n(18);t.init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(n){var r=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),s="  ".concat(o,";1m").concat(r," [0m");n[0]=s+n[0].split("\n").join("\n"+s),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=n(478);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(477)(t);var s=e.exports.formatters;s.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return-1!==r&&(-1===i||r<i)}},function(e,t,n){var r=n(6),i=n(25),o=parseInt("0777",8);function s(e,t,n,a){"function"==typeof t?(n=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||i;void 0===c&&(c=o),a||(a=null);var u=n||function(){};e=r.resolve(e),l.mkdir(e,c,(function(n){if(!n)return u(null,a=a||e);switch(n.code){case"ENOENT":if(r.dirname(e)===e)return u(n);s(r.dirname(e),t,(function(n,r){n?u(n,r):s(e,t,u,r)}));break;default:l.stat(e,(function(e,t){e||!t.isDirectory()?u(n,a):u(null,a)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,n,s){n&&"object"==typeof n||(n={mode:n});var a=n.mode,c=n.fs||i;void 0===a&&(a=o),s||(s=null),t=r.resolve(t);try{c.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(r.dirname(t),n,s),e(t,n,s);break;default:var l;try{l=c.statSync(t)}catch(e){throw i}if(!l.isDirectory())throw i}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonKernelDaemon=void 0;const r=n(306),i=n(193),o=n(4),s=n(312),a=n(74);class c extends s.BasePythonDaemon{constructor(e,t,n,i,o){super(e,t,n,i,o),this.subject=new r.Subject}async interrupt(){const e=new i.RequestType0("interrupt_kernel");await this.sendRequestWithoutArgs(e)}async kill(){if(o.traceInfo("kill daemon"),this.killed)return;this.killed=!0;const e=new i.RequestType0("kill_kernel");await this.sendRequestWithoutArgs(e)}async preWarm(){if(this.started)return;this.preWarmed=!0,this.monitorOutput();const e=new i.RequestType0("prewarm_kernel");await this.sendRequestWithoutArgs(e)}async start(e,t,n){if(this.killed)throw new Error("Restarting a dead daemon");if(n.throwOnStdErr)throw new Error("'throwOnStdErr' not supported in spawnOptions for KernelDaemon.start");if(n.mergeStdOutErr)throw new Error("'mergeStdOutErr' not supported in spawnOptions for KernelDaemon.start");if(this.started)throw new Error("Kernel has already been started in daemon");if(this.started=!0,this.monitorOutput(),this.preWarmed){o.traceInfo("Using prewarmed kernel ...");const n=new i.RequestType("start_prewarmed_kernel");await this.sendRequest(n,{args:[e].concat(t)})}else o.traceInfo("Starting kernel from scratch with options "+JSON.stringify(n)),await this.execModule(e,t,n);return{proc:this.proc,dispose:()=>this.dispose(),out:this.subject}}monitorOutput(){if(this.outputHooked)return;this.outputHooked=!0;const e=new i.NotificationType("kernel_died");let t="";this.connection.onNotification(e,e=>{this.killed||this.subject.error(new a.PythonKernelDiedError({exitCode:parseInt(e.exit_code,10),reason:e.reason||t,stdErr:t||e.reason||""}))}),this.outputObservable.subscribe(e=>{"stderr"===e.source&&(t+=e.out,this.killed||o.traceWarning(`Kernel ${this.proc.pid} as possibly died, StdErr from Kernel Process ${e.out}`)),this.subject.next(e)},this.subject.error.bind(this.subject),this.subject.complete.bind(this.subject)),this.closed.catch(e=>{this.killed||this.subject.error(new a.PythonKernelDiedError({error:e,stdErr:t}))})}}t.PythonKernelDaemon=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentType=void 0,function(e){e.Conda="Conda"}(t.EnvironmentType||(t.EnvironmentType={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelProcess=void 0;const i=n(97),o=n(319),s=n(1),a=n(37),c=n(285),l=n(4),u=n(19),d=n(10),h=n(9),p=n(8),f=n(5),m=n(22),g=n(1152),v=n(74);class y{constructor(e,t,n,r,i,o,a,c){this.processExecutionFactory=e,this.daemonPool=t,this._connection=n,this.fileSystem=i,this.resource=o,this.extensionChecker=a,this.kernelEnvVarsService=c,this.exitEvent=new s.EventEmitter,this._kernelConnectionMetadata=r}get exited(){return this.exitEvent.event}get kernelConnectionMetadata(){return this._kernelConnectionMetadata}get connection(){return this._connection}get isPythonKernel(){return m.isPythonKernelConnection(this.kernelConnectionMetadata)}async interrupt(){var e;this.kernelDaemon&&await(null===(e=this.kernelDaemon)||void 0===e?void 0:e.interrupt())}async launch(e,t,r){var i,o;if(this.launchedOnce)throw new Error("Kernel has already been launched.");this.launchedOnce=!0,await this.updateConnectionArgs();const s=await this.launchAsObservable(e);let h,p="",m="",g="",y=!1;const b=u.createDeferred();s.proc.on("exit",e=>{e=e||h,l.traceInfo("KernelProcess Exit","Exit - "+e,g),this.disposed||(y||(this.exitEvent.fire({exitCode:e||void 0,reason:c.getErrorMessageFromPythonTraceback(g)||g}),y=!0),b.reject(new v.KernelProcessExited(e||-1)))}),null===(i=s.proc.stdout)||void 0===i||i.on("data",e=>{l.traceInfo("KernelProcess output: "+(e||"").toString())}),null===(o=s.proc.stderr)||void 0===o||o.on("data",e=>{g+=e.toString(),l.traceInfo("KernelProcess error: "+(e||"").toString())}),s.out.subscribe(e=>{"stderr"===e.source?(m+=e.out,l.traceWarning("StdErr from Kernel Process "+e.out)):(p+=e.out,l.traceInfo("Kernel Output: "+p))},e=>{if(this.disposed)l.traceInfo("Kernel died",e,m);else if(l.traceError("Kernel died",e,m),e instanceof v.PythonKernelDiedError){if(h=e.exitCode,this.disposed)return void l.traceInfo("KernelProcess Exit",`Exit - ${e.exitCode}, ${e.reason}`,e);if(l.traceError("KernelProcess Exit",`Exit - ${e.exitCode}, ${e.reason}`,e),!g&&(e.stdErr||e.reason||e.message)&&(g=e.stdErr||e.reason||e.message),!y){let t=e.reason||e.message;this.exitEvent.fire({exitCode:e.exitCode,reason:c.getErrorMessageFromPythonTraceback(t)||t}),y=!0}b.reject(e)}},()=>{console.error("Completed")});try{const e=n(1153);await Promise.race([e.waitUntilUsed(this.connection.hb_port,200,t),b.promise,a.createPromiseFromCancellation({token:r,cancelAction:"reject",defaultValue:void 0})])}catch(e){if(l.traceError("Disposing kernel process due to an error",e),this.dispose().ignoreErrors(),(null==r?void 0:r.isCancellationRequested)||e instanceof v.KernelProcessExited||e instanceof v.PythonKernelDiedError){l.traceError(g||m);const t=c.getErrorMessageFromPythonTraceback(g||m)||(g||m).substring(0,100);throw new v.KernelDiedError(d.DataScience.kernelDied().format(f.Commands.ViewJupyterOutput,t),g+"\n"+m+"\n",e)}throw l.traceError("Timed out waiting to get a heartbeat from kernel process."),new u.TimedOutError(d.DataScience.kernelTimeout().format(f.Commands.ViewJupyterOutput))}}async dispose(){l.traceInfo("Dispose Kernel process"),this.disposed||(this.disposed=!0,this.kernelDaemon&&(await this.kernelDaemon.kill().catch(h.noop),h.swallowExceptions(()=>{var e;return null===(e=this.kernelDaemon)||void 0===e?void 0:e.dispose()})),h.swallowExceptions(()=>{var e;null===(e=this._process)||void 0===e||e.kill(),this.exitEvent.fire({})}),h.swallowExceptions(()=>{var e;return null===(e=this.pythonKernelLauncher)||void 0===e?void 0:e.dispose()}),h.swallowExceptions(async()=>this.connectionFile?i.remove(this.connectionFile):h.noop()))}get launchKernelSpec(){if(this._launchKernelSpec)return this._launchKernelSpec;let e=this._kernelConnectionMetadata.kernelSpec;if(!e)throw new Error("KernelSpec cannot be empty in KernelProcess.ts");return Array.isArray(e.argv)?this._launchKernelSpec={...e,argv:[...e.argv]}:(l.traceError("KernelSpec.argv in KernelProcess is undefined"),this._launchKernelSpec=void 0),this._launchKernelSpec}async updateConnectionArgs(){const e=m.findIndexOfConnectionFile(this.launchKernelSpec);if(-1===e)throw new Error("Connection file not found in kernelspec json args, "+this.launchKernelSpec.argv.join(" "));if(this.isPythonKernel&&0===e&&"-f"!==this.launchKernelSpec.argv[e-1])throw new Error("Connection file not found in kernelspec json args, "+this.launchKernelSpec.argv.join(" "));if(this.isPythonKernel)this.launchKernelSpec.argv.splice(e-1,2),this.launchKernelSpec.argv.push(...this.addPythonConnectionArgs());else{const t=await this.fileSystem.createTemporaryLocalFile(".json");if(this.connectionFile=t.filePath,await t.dispose(),await this.fileSystem.writeLocalFile(this.connectionFile,JSON.stringify(this._connection)),this.launchKernelSpec.argv[e].includes("--connection-file")){const t=this.connectionFile.includes(" ")?`"${this.connectionFile}"`:this.connectionFile;this.launchKernelSpec.argv[e]=this.launchKernelSpec.argv[e].replace(m.connectionFilePlaceholder,t)}else this.launchKernelSpec.argv[e]=this.launchKernelSpec.argv[e].replace(m.connectionFilePlaceholder,this.connectionFile)}}addPythonConnectionArgs(){const e=[];return e.push("--ip="+this._connection.ip),e.push("--stdin="+this._connection.stdin_port),e.push("--control="+this._connection.control_port),e.push("--hb="+this._connection.hb_port),e.push(`--Session.signature_scheme="${this._connection.signature_scheme}"`),e.push(`--Session.key=b"${this._connection.key}"`),e.push("--shell="+this._connection.shell_port),e.push(`--transport="${this._connection.transport}"`),e.push("--iopub="+this._connection.iopub_port),e.push("--f="+o.tmpNameSync({postfix:".json"})),e}async launchAsObservable(e){let t;if(this.isPythonKernel&&this.extensionChecker.isPythonExtensionInstalled){this.pythonKernelLauncher=new g.PythonKernelLauncherDaemon(this.daemonPool,this.kernelEnvVarsService);const n=await this.pythonKernelLauncher.launch(this.resource,e,this.launchKernelSpec,this._kernelConnectionMetadata.interpreter);this.kernelDaemon=n.daemon,t=n.observableOutput}if(!t){const n=this.launchKernelSpec.argv[0];l.traceInfo(`Launching Raw Kernel & not daemon ${this.launchKernelSpec.display_name} # ${n}`);const[r,i]=await Promise.all([this.processExecutionFactory.create(this.resource),this.kernelEnvVarsService.getEnvironmentVariables(this.resource,void 0,this.launchKernelSpec)]),o=this.launchKernelSpec.argv.slice(1).map(e=>e.includes("--connection-file")?e:e.includes(" ")?`"${e}"`:e);t=r.execObservable(n,o,{env:i,cwd:e})}if(!t||!t.proc)throw new Error("KernelProcess failed to launch");return this._process=t.proc,t}}r([p.captureTelemetry(f.Telemetry.RawKernelProcessLaunch,void 0,!0)],y.prototype,"launch",null),r([l.traceDecorators.verbose("Launching kernel in kernelProcess.ts")],y.prototype,"launchAsObservable",null),t.KernelProcess=y},function(e,t,n){"use strict";var r="win32"===process.platform,i=r?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=r?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",i.test(e)&&(e=e.slice(0,-1)),e}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonKernelLauncherDaemon=t.UnsupportedKernelSpec=void 0;const o=n(97),s=n(0),a=n(29),c=n(4),l=n(9),u=n(137),d=n(236),h=n(318);class p extends a.BaseError{constructor(e){super("unsupportedKernelSpec","Unsupported KernelSpec file. args must be [<pythonPath>, '-m', <moduleName>, arg1, arg2, ..]. Provied "+e.join(" "))}}t.UnsupportedKernelSpec=p;let f=class{constructor(e,t){this.daemonPool=e,this.kernelEnvVarsService=t,this.processesToDispose=[]}async launch(e,t,n,r){c.traceInfo(`Launching kernel daemon for ${n.display_name} # ${null==r?void 0:r.path}`);const[i,s,a]=await Promise.all([this.daemonPool.get(e,n,r),o.pathExists(t),this.kernelEnvVarsService.getEnvironmentVariables(e,r,n)]),l=n.argv.slice(),u=l.findIndex(e=>"-m"===e);if(-1===u)throw new p(l);const d=l[u+1],h=l.slice(u+2);if("start"in i){const e=await i.start(d,h,{env:a,cwd:t});return e.proc&&this.processesToDispose.push(e.proc),{observableOutput:e,daemon:i}}return{observableOutput:i.execModuleObservable(d,h,{env:a,cwd:s?t:process.cwd()}),daemon:void 0}}dispose(){for(;this.processesToDispose.length;)try{this.processesToDispose.shift().kill()}catch(e){l.noop()}}};r([u.traceDecorators.verbose("Launching kernel daemon")],f.prototype,"launch",null),f=r([s.injectable(),i(0,s.inject(d.KernelDaemonPool)),i(1,s.inject(h.KernelEnvironmentVariablesService))],f),t.PythonKernelLauncherDaemon=f},function(e,t,n){"use strict";t.check=l,t.waitUntilFreeOnHost=function(e,t,n,i){var o;r.obj(e)?(o=e).inUse=!1:o=c(e,t,!1,n,i);return u(o)},t.waitUntilFree=function(e,t,n){var i;r.obj(e)?((i=e).host="127.0.0.1",i.inUse=!1):i=c(e,"127.0.0.1",!1,t,n);return u(i)},t.waitUntilUsedOnHost=d,t.waitUntilUsed=function(e,t,n){var i;r.obj(e)?((i=e).host="127.0.0.1",i.inUse=!0):i=c(e,"127.0.0.1",!0,t,n);return d(i)},t.waitForStatus=u;var r=n(1154),i=n(110),o=n(18),s=n(1159)("tcp-port-used");function a(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}}function c(e,t,n,r,i){var o={};return o.port=e,o.host=t,o.inUse=n,o.retryTimeMs=r,o.timeOutMs=i,o}function l(e,t){var n,l,u=a(),d=!0;if(l=r.obj(e)?e:c(e,t),!r.port(l.port))return s("Error invalid port: "+o.inspect(l.port)),u.reject(new Error("invalid port: "+o.inspect(l.port))),u.promise;function h(){n&&(n.removeAllListeners("connect"),n.removeAllListeners("error"),n.end(),n.destroy(),n.unref())}return r.nullOrUndefined(l.host)&&(s("set host address to default 127.0.0.1"),l.host="127.0.0.1"),(n=new i.Socket).once("connect",(function(){u.resolve(d),h()})),n.once("error",(function(e){"ECONNREFUSED"!==e.code?u.reject(e):(d=!1,u.resolve(d)),h()})),n.connect({port:l.port,host:l.host},(function(){})),u.promise}function u(e,t,n,i,o){var u,d,h,p=a(),f=!1;if(h=r.obj(e)?e:c(e,t,n,i,o),!r.bool(h.inUse))return p.reject(new Error("inUse must be a boolean")),p.promise;function m(){u&&clearTimeout(u),d&&clearTimeout(d)}return r.positiveInt(h.retryTimeMs)||(h.retryTimeMs=250,s("set retryTime to default 250ms")),r.positiveInt(h.timeOutMs)||(h.timeOutMs=2e3,s("set timeOutMs to default 2000ms")),u=setTimeout((function(){f=!0,m(),p.reject(new Error("timeout"))}),h.timeOutMs),function e(){l(h.port,h.host).then((function(t){if(!f)return t===h.inUse?(p.resolve(),void m()):void(d=setTimeout((function(){e()}),h.retryTimeMs))}),(function(e){f||(p.reject(e),m())}))}(),p.promise}function d(e,t,n,i){var o;return r.obj(e)?(o=e).inUse=!0:o=c(e,t,!0,n,i),u(o)}},function(e,t,n){"use strict";const r={}.hasOwnProperty,i={}.toString,o=t,s=n(1155),a=n(1156);o.version=n(1157).version,o.browser=function(){return!o.node()&&"undefined"!=typeof window&&"[object global]"===i.call(window)},o.defined=function(e){return void 0!==e},o.def=o.defined,o.nodejs=function(){return process&&process.hasOwnProperty("version")&&process.hasOwnProperty("versions")},o.node=o.nodejs,o.undefined=function(e){return void 0===e},o.udef=o.undef=o.undefined,o.array=function(e){return"[object Array]"===i.call(e)},o.arr=o.ary=o.arry=o.array,o.arrayLike=function(e){return!o.nullOrUndef(e)&&(void 0!==e&&r.call(e,"length")&&isFinite(e.length))},o.arrLike=o.arryLike=o.aryLike=o.arraylike=o.arrayLike,o.arguments=function(e){return"[object Arguments]"===i.call(e)},o.args=o.arguments,o.boolean=function(e){return"[object Boolean]"===i.call(e)},o.bool=o.boolean,o.buffer=function(e){return o.nodejs()&&Buffer&&Buffer.hasOwnProperty("isBuffer")&&Buffer.isBuffer(e)},o.buff=o.buf=o.buffer,o.date=function(e){return"[object Date]"===i.call(e)},o.error=function(e){return"[object Error]"===i.call(e)},o.err=o.error,o.false=function(e){return!1===e},o.function=function(e){return o.syncFunction(e)||o.asyncFunction(e)},o.fun=o.func=o.function,o.asyncFunction=function(e){return"[object AsyncFunction]"===i.call(e)},o.asyncFun=o.asyncFunc=o.asyncFunction,o.syncFunction=function(e){return"[object Function]"===i.call(e)},o.syncFun=o.syncFunc=o.syncFunction,o.null=function(e){return null===e},o.nullOrUndefined=function(e){return null==e},o.nullOrUndef=o.nullOrUndefined,o.number=function(e){return"[object Number]"===i.call(e)},o.num=o.number,o.object=function(e){return"[object Object]"===i.call(e)},o.obj=o.object,o.regExp=function(e){return"[object RegExp]"===i.call(e)},o.re=o.regexp=o.regExp,o.string=function(e){return"[object String]"===i.call(e)},o.str=o.string,o.true=function(e){return!0===e};var c=new RegExp("[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}","i");o.uuid=function(e){return c.test(e)},o.equal=function(e,t){var n=i.call(e);return typeof e==typeof t&&(n===i.call(t)&&("[object Object]"===n||"[object Array]"===n?s(e,t):"[object Function]"===n?e.prototype===t.prototype:"[object Date]"===n?e.getTime()===t.getTime():e===t))},o.objEquals=o.eq=o.equal;var l={boolean:1,number:1,string:1,undefined:1};o.hosted=function(e,t){if(o.nullOrUndef(e))return!1;var n=typeof t[e];return"object"===n?!!t[e]:!l[n]},o.instanceOf=function(e,t){return!o.nullOrUndef(e)&&!o.nullOrUndef(t)&&e instanceof t},o.instOf=o.instanceof=o.instanceOf,o.objectInstanceOf=function(e,t){try{return"[object Object]"===i.call(e)&&e instanceof t}catch(e){return!1}},o.instOf=o.instanceOf=o.objInstOf=o.objectInstanceOf,o.type=function(e,t){return typeof e===t},o.a=o.type,o.empty=function(e){var t=i.call(e);if("[object Array]"===t||"[object Arguments]"===t)return 0===e.length;if("[object Object]"===t){for(var n in e)if(r.call(e,n))return!1;return!0}return"[object String]"===t&&""===e},o.emptyArguments=function(e){return"[object Arguments]"===i.call(e)&&0===e.length},o.noArgs=o.emptyArgs=o.emptyArguments,o.emptyArray=function(e){return"[object Array]"===i.call(e)&&0===e.length},o.emptyArry=o.emptyAry=o.emptyArray,o.emptyArrayLike=function(e){return 0===e.length},o.emptyArrLike=o.emptyArrayLike,o.emptyString=function(e){return o.string(e)&&0===e.length},o.emptyStr=o.emptyString,o.nonEmptyArray=function(e){return"[object Array]"===i.call(e)&&e.length>0},o.nonEmptyArr=o.nonEmptyArry=o.nonEmptyAry=o.nonEmptyArray,o.nonEmptyObject=function(e){return"[object Object]"===i.call(e)&&Object.keys(e).length>0},o.nonEmptyObj=o.nonEmptyObject,o.emptyObject=function(e){return"[object Object]"===i.call(e)&&0===Object.keys(e).length},o.emptyObj=o.emptyObject,o.nonEmptyString=function(e){return o.string(e)&&e.length>0},o.nonEmptyStr=o.nonEmptyString,o.even=function(e){return"[object Number]"===i.call(e)&&e%2==0},o.decimal=function(e){return"[object Number]"===i.call(e)&&e%1!=0},o.dec=o.decNum=o.decimal,o.integer=function(e){return"[object Number]"===i.call(e)&&e%1==0},o.int=o.integer,o.notANumber=function(e){return!o.num(e)||e!=e},o.nan=o.notANum=o.notANumber,o.odd=function(e){return!o.decimal(e)&&"[object Number]"===i.call(e)&&e%2!=0},o.oddNumber=o.oddNum=o.odd,o.positiveNumber=function(e){return"[object Number]"===i.call(e)&&e>0},o.pos=o.positive=o.posNum=o.positiveNum=o.positiveNumber,o.negativeNumber=function(e){return"[object Number]"===i.call(e)&&e<0},o.neg=o.negNum=o.negativeNum=o.negativeNumber,o.negativeInteger=function(e){return"[object Number]"===i.call(e)&&e%1==0&&e<0},o.negativeInt=o.negInt=o.negativeInteger,o.positiveInteger=function(e){return"[object Number]"===i.call(e)&&e%1==0&&e>0},o.posInt=o.positiveInt=o.positiveInteger,o.divisibleBy=function(e,t){return 0!==e&&("[object Number]"===i.call(e)&&0!==t&&e%t==0)},o.divBy=o.divisBy=o.divisibleBy,o.greaterOrEqualTo=function(e,t){return e>=t},o.greaterOrEqual=o.ge=o.greaterOrEqualTo,o.greaterThan=function(e,t){return e>t},o.gt=o.greaterThan,o.lessThanOrEqualTo=function(e,t){return e<=t},o.lessThanOrEq=o.lessThanOrEqual=o.le=o.lessThanOrEqualTo,o.lessThan=function(e,t){return e<t},o.lt=o.lessThan,o.maximum=function(e,t){if(!o.arrayLike(t)||!o.number(e))return!1;for(var n=t.length;--n>-1;)if(e<t[n])return!1;return!0},o.max=o.maximum,o.minimum=function(e,t){if(!o.arrayLike(t)||!o.number(e))return!1;for(var n=t.length;--n>-1;)if(e>t[n])return!1;return!0},o.min=o.minimum,o.within=function(e,t,n){return e>=t&&e<=n},o.withIn=o.within,o.prettyClose=function(e,t,n){return!(!o.number(e)||!o.number(t))&&(!(o.defined(n)&&!o.posInt(n))&&(o.undefined(n)&&(n=2),e.toFixed(n)===t.toFixed(n)))},o.closish=o.near=o.prettyClose,o.dnsAddress=function(e){return!!o.nonEmptyStr(e)&&(!(e.length>255)&&(!d.test(e)&&!!u.test(e)))},o.dnsAddr=o.dns=o.dnsAddress;var u=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,d=/^([0-9]|[0-9][0-9\-]{0,61}[0-9])(\.([0-9]|[0-9][0-9\-]{0,61}[0-9]))*$/;o.emailAddress=function(e){return!!o.nonEmptyStr(e)&&h.test(e)},o.email=o.emailAddr=o.emailAddress;var h=/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/;o.ipv4Address=function(e){if(!o.nonEmptyStr(e))return!1;if(e.length>15)return!1;var t=e.split(".");if(!o.array(t)||4!==t.length)return!1;for(var n=0;n<t.length;n++){var r=parseInt(t[n],10);if(isNaN(r))return!1;if(r<0||r>255)return!1}return!0},o.ipv4=o.ipv4Addr=o.ipv4Address,o.ipv6Address=function(e){return!!o.nonEmptyStr(e)&&a.v6({extract:!0}).test(e)},o.ipv6=o.ipv6Addr=o.ipv6Address,o.ipAddress=function(e){return!!o.nonEmptyStr(e)&&(o.ipv4Address(e)||o.ipv6Address(e))},o.ip=o.ipAddr=o.ipAddress,o.hostAddress=function(e){return!!o.nonEmptyStr(e)&&(o.dns(e)||o.ipv4(e)||o.ipv6(e))},o.host=o.hostIp=o.hostAddr=o.hostAddress,o.port=function(e){return!(!o.num(e)||o.negativeInt(e)||e>65535)},o.systemPort=function(e){return!!(o.port(e)&&e<1024)},o.sysPort=o.systemPort,o.userPort=function(e){return!!(o.port(e)&&e>1023)},o.creditCardNumber=function(e){if(!o.str(e))return!1;var t,n,r=e.split("");for(t=r.length-1,n=1;t>-1;t--,n++)n%2==0&&(r[t]*=2);e=r.join("");var i=0;for(t=0;t<e.length;t++)i+=Math.floor(e[t]);return i%10==0},o.creditCard=o.creditCardNum=o.creditCardNumber,o.americanExpressCardNumber=function(e){if(!o.str(e)||15!==e.length)return!1;var t=Math.floor(e.slice(0,2));return(34===t||37===t)&&!!o.creditCardNumber(e)},o.amexCard=o.amexCardNum=o.americanExpressCardNumber,o.chinaUnionPayCardNumber=function(e){if(!o.str(e)||e.length<16&&e.length>19)return!1;var t=Math.floor(e.slice(0,2));return 62===t||88===t},o.chinaUnion=o.chinaUnionPayCard=o.chinaUnionPayCardNumber,o.dinersClubCarteBlancheCardNumber=function(e){if(!o.str(e)||14!==e.length)return!1;var t=Math.floor(e.slice(0,3));return!(t<300||t>305)&&!!o.creditCardNumber(e)},o.dinersClubCB=o.dinersClubCarteBlancheCard=o.dinersClubCarteBlancheCardNumber,o.dinersClubInternationalCardNumber=function(e){if(!o.str(e)||14!==e.length)return!1;var t=Math.floor(e.slice(0,3)),n=Math.floor(e.slice(0,2));return(!(t<300||t>305)||309===t||36===n||!(n<38||n>39))&&!!o.creditCardNumber(e)},o.dinersClubInt=o.dinersClubInternationalCard=o.dinersClubInternationalCardNumber,o.dinersClubUSACanadaCardNumber=function(e){if(!o.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,2));return(54===t||55===t)&&!!o.creditCardNumber(e)},o.dinersClub=o.dinersClubUSACanCard=o.dinersClubUSACanadaCardNumber,o.discoverCardNumber=function(e){if(!o.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,6)),n=Math.floor(e.slice(0,3));return("6011"===e.slice(0,4)||!(t<622126||t>622925)||!(n<644||n>649)||"65"===e.slice(0,2))&&!!o.creditCardNumber(e)},o.discover=o.discoverCard=o.discoverCardNumber,o.instaPaymentCardNumber=function(e){if(!o.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,3));return!(t<637||t>639)&&!!o.creditCardNumber(e)},o.instaPayment=o.instaPaymentCardNumber,o.jcbCardNumber=function(e){if(!o.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,4));return!(t<3528||t>3589)&&!!o.creditCardNumber(e)},o.jcb=o.jcbCard=o.jcbCardNumber,o.laserCardNumber=function(e){if(!o.str(e)||e.length<16&&e.length>19)return!1;var t=Math.floor(e.slice(0,4));return-1!==[6304,6706,6771,6709].indexOf(t)&&!!o.creditCardNumber(e)},o.laser=o.laserCard=o.laserCardNumber,o.maestroCardNumber=function(e){if(!o.str(e)||e.length<12||e.length>19)return!1;var t=e.slice(0,4);return-1!==["5018","5020","5038","5612","5893","6304","6759","6761","6762","6763","0604","6390"].indexOf(t)&&!!o.creditCardNumber(e)},o.maestro=o.maestroCard=o.maestroCardNumber,o.dankortCardNumber=function(e){return!(!o.str(e)||16!==e.length)&&("5019"===e.slice(0,4)&&!!o.creditCardNumber(e))},o.dankort=o.dankortCard=o.dankortCardNumber,o.masterCardCardNumber=function(e){if(!o.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,2));return!(t<50||t>55)&&!!o.creditCardNumber(e)},o.masterCard=o.masterCardCard=o.masterCardCardNumber,o.visaCardNumber=function(e){return!(!o.str(e)||13!==e.length&&16!==e.length)&&("4"===e.slice(0,1)&&!!o.creditCardNumber(e))},o.visa=o.visaCard=o.visaCardNumber,o.visaElectronCardNumber=function(e){if(!o.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,4));return"417500"!==e.slice(0,6)&&-1===[4026,4405,4508,4844,4913,4917].indexOf(t)||o.creditCardNumber(e),!1},o.visaElectron=o.visaElectronCard=o.visaElectronCardNumber;var p=/^[0-9a-fA-F]{24}$/;o.mongoId=o.objectId=o.objId=function(e){return Boolean(e)&&!Array.isArray(e)&&p.test(String(e))},o.matching=o.match=o.inArgs=function(e){if(arguments.length<2)return!1;for(var t=!1,n=1;n<arguments.length;n++){var r=o.equal(e,arguments[n]);t=t||r}return t},o.streetAddress=function(e){if(!o.str(e))return!1;return/\b\d+[\s](?:[A-Za-z0-9.-]+[\s]+)+\b(ALLEY|ALY|AVENUE|AVE|BEND|BND|BLUFFS?|BLFS?|BOULEVARD|BLVD|BRANCH|BR|CENTERS?|CTRS?|CIRCLES?|CIRS?|CLIFFS?|CLFS?|COURTS?|CTS?|COVES?|CVS?|CREEK|CRK|CRESCENT|CRES|CREST|CRST|CROSSING|XING|DRIVES?|DRS?|EXPRESSWAY|EXPY|FREEWAY|FWY|HEIGHTS|HTS|HIGHWAY|HWY|HILLS?|HLS?|LANE|LN|LOOP|MANORS?|MNRS?|MOTORWAY|MTWY|MOUNT|MT|PARKS?|PARKWAYS?|PKWY|PASS|PLACE|PL|PLAZA|PLZ|POINTS?|PTS?|RIDGES?|RDGS?|ROADS?|RDS?|ROUTE|RTE?|SHOALS?|SHLS?|SHORES?|SHRS?|SPRINGS?|SPGS?|SPURS?|STREETS?|STS?|SUMMIT|SMT|TERRACE|TER|THROUGHWAY|TRWY|TRAFFICWAY|TRFY|TRAIL|TRL|TURNPIKE|TPKE|VALLEYS?|VLYS?|WAYS?)+(?:[\.\-\s\,]?)*((APARTMENT|APT|APPT|#|NUMBER|NUM|FLOOR|FL|\s)?(\d)*)\b/gi.test(e)},o.street=o.address=o.streetAddress,o.zipCode=function(e){if(o.undefined(e)||!o.string(e)&&!o.number(e))return!1;return/^\d{5}(?:-\d{4})?$/.test(e)},o.zip=o.zipCode,o.phoneNumber=function(e){if(!o.string(e))return!1;return/(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:(\(?)(?:(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\)?)\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})/g.test(e)},o.phone=o.phoneNumber;var f=n(1158);o.url=function(e){return f(e)},o.uri=o.url,o.enumerator=function(e,t){var n=!1;if(!o.defined(e)||!o.defined(t)||!o.arrayLike(t))return n;for(var r=0,i=t.length;r<i;r++)if(o.equal(e,t[r])){n=!0;break}return n},o.enum=o.inArray=o.enumerator},function(e,t){var n=Array.prototype.slice,r="function"==typeof Object.keys?Object.keys:function(e){var t=[];for(var n in e)t.push(n);return t},i=e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():a(e)?a(t):"object"!=typeof e&&"object"!=typeof t?e==t:function(e,t){if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=n.call(e),t=n.call(t),i(e,t));try{var a,c,l=r(e),u=r(t)}catch(e){return!1}if(l.length!=u.length)return!1;for(l.sort(),u.sort(),c=l.length-1;c>=0;c--)if(l[c]!=u[c])return!1;for(c=l.length-1;c>=0;c--)if(a=l[c],!i(e[a],t[a]))return!1;return!0}(e,t))};function o(e){return null==e}function s(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return"number"==typeof e&&e!=e}},function(e,t,n){"use strict";const r="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",i="[0-9a-fA-F]{1,4}",o=`\n(\n(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${i}:){6}(?:${r}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${i}:){5}(?::${r}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${i}:){4}(?:(:${i}){0,1}:${r}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${i}:){3}(?:(:${i}){0,2}:${r}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${i}:){2}(?:(:${i}){0,3}:${r}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${i}:){1}(?:(:${i}){0,4}:${r}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${i}){0,5}:${r}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=e.exports=e=>e&&e.exact?new RegExp(`(?:^${r}$)|(?:^${o}$)`):new RegExp(`(?:${r})|(?:${o})`,"g");s.v4=e=>e&&e.exact?new RegExp(`^${r}$`):new RegExp(r,"g"),s.v6=e=>e&&e.exact?new RegExp(`^${o}$`):new RegExp(o,"g")},function(e){e.exports=JSON.parse('{"name":"is2","version":"2.0.1","description":"A type checking library where each exported function returns either true or false and does not throw. Also added tests.","license":"MIT","tags":["type","check","checker","checking","utilities","network","networking","credit","card","validation"],"keywords":["type","check","checker","checking","utilities","network","networking","credit","card","validation"],"author":"Enrico Marino <enrico.marino@email.com>","maintainers":"Edmond Meinfelder <edmond@stdarg.com>, Chris Oyler <christopher.oyler@gmail.com>","homepage":"http://github.com/stdarg/is2","repository":{"type":"git","url":"git@github.com:stdarg/is2.git"},"bugs":{"url":"http://github.com/stdarg/is/issues"},"main":"./index.js","scripts":{"test":"./node_modules/.bin/mocha -C --reporter list tests.js"},"engines":{"node":">=v0.10.0"},"dependencies":{"deep-is":"^0.1.3","ip-regex":"^2.1.0","is-url":"^1.2.2"},"devDependencies":{"jsdom":"0.5.0","mocha":"5.0.1","mongodb":"3.0.2"},"_resolved":"https://registry.npmjs.org/is2/-/is2-2.0.1.tgz","_integrity":"sha512-+WaJvnaA7aJySz2q/8sLjMb2Mw14KTplHmSwcSpZ/fWJPkUmqw3YTzSWbPJ7OAwRvdYTWF2Wg+yYJ1AdP5Z8CA==","_from":"is2@2.0.1"}')},function(e,t){e.exports=function(e){if("string"!=typeof e)return!1;var t=e.match(n);if(!t)return!1;var o=t[1];if(!o)return!1;if(r.test(o)||i.test(o))return!0;return!1};var n=/^(?:\w+:)?\/\/(\S+)$/,r=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,i=/^[^\s\.]+\.\S{2,}$/},function(e,t,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(1160):e.exports=n(1161)},function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(479)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t,n){const r=n(211),i=n(18);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=n(478);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(479)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageInitializer=void 0;const i=n(0),o=n(1),s=n(9),a=n(5);let c=class{async activate(){o.languages.getLanguages().then(e=>{e.map(e=>e.toLowerCase()).forEach(e=>{a.VSCodeKnownNotebookLanguages.includes(e)||a.VSCodeKnownNotebookLanguages.push(e)})},s.noop)}};c=r([i.injectable()],c),t.LanguageInitializer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(1164),i=n(1165),o=n(144);t.registerTypes=function(e){e.addSingleton(o.IEnvironmentVariablesService,r.EnvironmentVariablesService),e.addSingleton(o.IEnvironmentVariablesProvider,i.EnvironmentVariablesProvider)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvFile=t.EnvironmentVariablesService=void 0;const o=n(0),s=n(6),a=n(8),c=n(86),l=n(16);let u=class{constructor(e){this.fs=e}async parseFile(e,t){if(e&&await this.fs.localFileExists(e))return d(await this.fs.readLocalFile(e),t)}mergeVariables(e,t){t&&Object.keys(e).forEach(n=>{const r=n.toLowerCase();"pythonpath"!=r&&"path"!=r&&(t[n]=e[n])})}appendPythonPath(e,...t){return this.appendPaths(e,"PYTHONPATH",...t)}appendPath(e,...t){return this.appendPaths(e,"PATH",...t)}appendPaths(e,t,...n){const r=n.filter(e=>"string"==typeof e&&e.trim().length>0).map(e=>e.trim()).join(s.delimiter);if(0===r.length)return e;const i=t.toLowerCase(),o=e?Object.keys(e).find(e=>e.toLowerCase()==i):void 0,a=e&&o?e[o]:void 0,c=o||t;return a&&"string"==typeof a&&a.length>0?e[c]=a+s.delimiter+r:e[c]=r,e}};function d(e,t){const n=t||{},r={};return e.toString().split("\n").forEach((e,t)=>{const[i,o]=function(e){const t=e.match(/^\s*([a-zA-Z]\w*)\s*=\s*(.*?)?\s*$/);if(!t)return["",""];const n=t[1];let r=t[2];r&&""!==r?("'"===r[0]&&"'"===r[r.length-1]||'"'===r[0]&&'"'===r[r.length-1])&&(r=r.substring(1,r.length-1),r=r.replace(/\\n/gm,"\n")):r="";return[n,r]}(e);""!==i&&(r[i]=function(e,t,n,r=""){let i=!1,o=e;o=o.replace(h,(e,o,s,a,c)=>a>0&&"\\"===c[a-1]?e:s&&""!==s||!o||""===o?(i=!0,e):t[o]||n[o]||r),i||o===e||(e=o,a.sendTelemetryEvent(c.EventName.ENVFILE_VARIABLE_SUBSTITUTION));return e.replace(/\\\$/g,"$")}(o,r,n))}),r}u=r([o.injectable(),i(0,o.inject(l.IFileSystem))],u),t.EnvironmentVariablesService=u,t.parseEnvFile=d;const h=/\${([a-zA-Z]\w*)?([^}\w].*)?}/g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentVariablesProvider=void 0;const o=n(0),s=n(6),a=n(1),c=n(446),l=n(7),u=n(4),d=n(3),h=n(398),p=n(144);let f=class{constructor(e,t,n,r=36e5){this.envVarsService=e,this.workspaceService=n,this.cacheDuration=r,this.trackedWorkspaceFolders=new Set,this.fileWatchers=new Map,this.disposables=[],t.push(this),this.changeEventEmitter=new a.EventEmitter;const i=this.workspaceService.onDidChangeConfiguration(this.configurationChanged,this);this.disposables.push(i)}get onDidEnvironmentVariablesChange(){return this.changeEventEmitter.event}dispose(){this.changeEventEmitter.dispose(),this.fileWatchers.forEach(e=>{e&&e.dispose()})}async getEnvironmentVariables(e){const t=this.workspaceService.getWorkspaceFolderIdentifier(e),n=new h.InMemoryCache(this.cacheDuration,t);if(n.hasData&&n.data)return u.traceVerbose("Cached data exists getEnvironmentVariables, "+(e?e.fsPath:"<No Resource>")),n.data;const r=this._getEnvironmentVariables(e);return r.then(e=>n.data=e).ignoreErrors(),r}async getCustomEnvironmentVariables(e){const t=this.getWorkspaceFolderUri(e);this.trackedWorkspaceFolders.add(t?t.fsPath:"");const n=(null==t?void 0:t.fsPath)?s.join(t.fsPath,".env"):".env";return this.createFileWatcher(n,t),this.envVarsService.parseFile(n,process.env)}configurationChanged(e){this.trackedWorkspaceFolders.forEach(t=>{const n=t&&t.length>0?a.Uri.file(t):void 0;e.affectsConfiguration("python.envFile",n)&&this.onEnvironmentFileChanged(n)})}createFileWatcher(e,t){if(this.fileWatchers.has(e))return;const n=this.workspaceService.createFileSystemWatcher(e);this.fileWatchers.set(e,n),n&&(this.disposables.push(n.onDidChange(()=>this.onEnvironmentFileChanged(t))),this.disposables.push(n.onDidCreate(()=>this.onEnvironmentFileCreated(t))),this.disposables.push(n.onDidDelete(()=>this.onEnvironmentFileChanged(t))))}async _getEnvironmentVariables(e){let t=await this.getCustomEnvironmentVariables(e);t||(t={});const n={};this.envVarsService.mergeVariables(process.env,n),this.envVarsService.mergeVariables(t,n);let r=Object.keys(process.env).find(e=>"path"==e.toLowerCase());return r&&(n[r]=process.env[r]),process.env.PYTHONPATH&&(n.PYTHONPATH=process.env.PYTHONPATH),r=t?Object.keys(t).find(e=>"path"==e.toLowerCase()):void 0,r&&t[r]&&this.envVarsService.appendPath(n,t[r]),t.PYTHONPATH&&this.envVarsService.appendPythonPath(n,t.PYTHONPATH),n}getWorkspaceFolderUri(e){if(!e)return;const t=this.workspaceService.getWorkspaceFolder(e);return t?t.uri:void 0}onEnvironmentFileCreated(e){this.onEnvironmentFileChanged(e),c.sendFileCreationTelemetry()}onEnvironmentFileChanged(e){const t=this.workspaceService.getWorkspaceFolderIdentifier(e);new h.InMemoryCache(this.cacheDuration,"$getEnvironmentVariables-"+t).clear(),this.changeEventEmitter.fire(e)}};f=r([o.injectable(),i(0,o.inject(p.IEnvironmentVariablesService)),i(1,o.inject(d.IDisposableRegistry)),i(2,o.inject(l.IWorkspaceService)),i(3,o.optional())],f),t.EnvironmentVariablesProvider=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJupyterOutputChannel=void 0;const r=n(1);t.getJupyterOutputChannel=function(e,t){if(!e)return t;const n=r.window.createOutputChannel("Dev: Jupyter Server"),i={get(e,r){const i=e[r];if("function"==typeof i){if("append"===r)return(...e)=>(n.append(...e),t.append(...e));if("appendLine"===r)return(...e)=>(n.appendLine(...e),t.appendLine(...e))}return i}};return new Proxy(t,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(1),i=n(116),o=n(26),s=n(14),a=n(234),c=n(16),l=n(3),u=n(1168),d=n(480),h=n(1169),p=n(8),f=n(1170),m=n(1171),g=n(485),v=n(487),y=n(493),b=n(495),_=n(496),w=n(5),S=n(1173),E=n(500),x=n(1176),C=n(1177),k=n(1178),D=n(112),T=n(1179),I=n(1180),M=n(501),P=n(1188),j=n(1189),L=n(1190),O=n(1191),A=n(1192),N=n(238),R=n(1193),F=n(506),B=n(507),U=n(1195),Y=n(1196),W=n(1197),H=n(1198),V=n(508),K=n(90),q=n(1199),J=n(1200),$=n(1201),z=n(1202),G=n(510),Q=n(486),X=n(1206),Z=n(489),ee=n(1207),te=n(320),ne=n(482),re=n(1208),ie=n(483),oe=n(147),se=n(321),ae=n(1209),ce=n(1210),le=n(1211),ue=n(1212),de=n(1216),he=n(1219),pe=n(1220),fe=n(1221),me=n(1222),ge=n(1223),ve=n(1351),ye=n(22),be=n(1352),_e=n(681),we=n(682),Se=n(680),Ee=n(1353),xe=n(317),Ce=n(1354),ke=n(197),De=n(1355),Te=n(1356),Ie=n(1357),Me=n(236),Pe=n(484),je=n(318),Le=n(1359),Oe=n(476),Ae=n(74),Ne=n(1360),Re=n(1361),Fe=n(1363),Be=n(1513),Ue=n(1515),Ye=n(337),We=n(719),He=n(1516),Ve=n(1517),Ke=n(149),qe=n(1518),Je=n(1519),$e=n(1520),ze=n(13),Ge=n(1521),Qe=n(341),Xe=n(1523),Ze=n(1524),et=n(1528),tt=n(7),nt=n(685),rt=n(1529),it=n(1530),ot=n(1531),st=n(1532),at=n(230),ct=n(305),lt=n(304),ut=n(322),dt=n(1533),ht=n(1535),pt=n(1538),ft=n(1540),mt=n(1561),gt=n(323);t.registerTypes=function(e,t){var n,vt,yt,bt;const _t="insiders"===e.get(tt.IApplicationEnvironment).channel,wt=t;e.addSingletonInstance(w.DataScienceStartupTime,Date.now()),e.addSingleton(ze.IRawNotebookSupportedService,qe.RawNotebookSupportedService);const St=null===(n=r.extensions.getExtension(s.JVSC_EXTENSION_ID))||void 0===n?void 0:n.packageJSON,Et=null===(bt=null===(yt=null===(vt=null==St?void 0:St.engines)||void 0===vt?void 0:vt.vscode)||void 0===yt?void 0:yt.toLowerCase())||void 0===bt?void 0:bt.endsWith("insider");p.setSharedProperty("isInsiderExtension",_t&&Et?"true":"false"),p.setSharedProperty("ds_notebookeditor",wt?"native":"custom");const xt=ye.isLocalLaunch(e.get(l.IConfigurationService));p.setSharedProperty("localOrRemoteConnection",xt?"local":"remote");const Ct=e.get(o.IPythonExtensionChecker);if(p.setSharedProperty("isPythonExtensionInstalled",Ct.isPythonExtensionInstalled?"true":"false"),xt){const t=e.get(ze.IRawNotebookSupportedService);p.setSharedProperty("rawKernelSupported",t.supported()?"true":"false")}e.addSingleton(ze.INotebookEditorProvider,Re.NotebookEditorProvider),e.addSingleton(gt.CellHashProviderFactory,gt.CellHashProviderFactory),e.addSingleton(ze.IHoverProvider,O.HoverProvider),e.addBinding(ze.IHoverProvider,ze.INotebookExecutionLogger),e.add(ze.ICodeWatcher,j.CodeWatcher),e.addSingleton(ze.IDataScienceErrorHandler,A.DataScienceErrorHandler),e.add(D.IDataViewer,S.DataViewer),e.addSingleton(nt.NotebookIPyWidgetCoordinator,nt.NotebookIPyWidgetCoordinator),e.add(ze.IJupyterCommandFactory,ee.JupyterCommandFactory),e.add(ze.INotebookExporter,he.JupyterExporter),e.add(ze.INotebookImporter,pe.JupyterImporter),e.add(ze.INotebookServer,pt.HostJupyterServer),e.addSingleton(Ye.PreferredRemoteKernelIdProvider,Ye.PreferredRemoteKernelIdProvider),e.addSingleton(ze.IRawNotebookProvider,ft.HostRawNotebookProvider),e.addSingleton(ze.IJupyterNotebookProvider,fe.JupyterNotebookProvider),e.add(ze.IPlotViewer,We.PlotViewer),e.addSingleton(Ae.IKernelLauncher,Oe.KernelLauncher),e.addSingleton(je.KernelEnvironmentVariablesService,je.KernelEnvironmentVariablesService),e.addSingleton(Ae.ILocalKernelFinder,Le.LocalKernelFinder),e.addSingleton(at.JupyterPaths,at.JupyterPaths),e.addSingleton(ct.LocalKnownPathKernelSpecFinder,ct.LocalKnownPathKernelSpecFinder),e.addSingleton(lt.LocalPythonAndRelatedNonPythonKernelSpecFinder,lt.LocalPythonAndRelatedNonPythonKernelSpecFinder),e.addSingleton(Ae.IRemoteKernelFinder,et.RemoteKernelFinder),e.addSingleton(v.CommandRegistry,v.CommandRegistry),e.addSingleton(E.DataViewerDependencyService,E.DataViewerDependencyService),e.addSingleton(ze.ICodeCssGenerator,m.CodeCssGenerator),e.addSingleton(ze.ICodeLensFactory,M.CodeLensFactory),e.addSingleton(ze.IDataScience,T.DataScience),e.addSingleton(ze.IDataScienceCodeLensProvider,P.DataScienceCodeLensProvider),e.addSingleton(Qe.IVariableViewProvider,Ze.VariableViewProvider),e.addSingleton(ze.IDataScienceCommandListener,z.NativeEditorCommandListener),e.addSingleton(ze.IDataScienceCommandListener,h.GitHubIssueCommandListener),e.addSingleton(D.IDataViewerFactory,x.DataViewerFactory),e.addSingleton(ze.IDebugLocationTracker,I.DebugLocationTrackerFactory),e.addSingleton(i.IExtensionSingleActivationService,f.Activation),e.addSingleton(i.IExtensionSingleActivationService,ue.CellOutputMimeTypeTracker),e.addSingleton(i.IExtensionSingleActivationService,L.Decorator),e.addSingleton(i.IExtensionSingleActivationService,re.JupyterInterpreterSelectionCommand),e.addSingleton(i.IExtensionSingleActivationService,Ve.PreWarmActivatedJupyterEnvironmentVariables),e.addSingleton(i.IExtensionSingleActivationService,Ce.ServerPreload),e.addSingleton(i.IExtensionSingleActivationService,$.NotebookUsageTracker),e.addSingleton(i.IExtensionSingleActivationService,se.MigrateJupyterInterpreterStateService),e.addSingleton(i.IExtensionSingleActivationService,Xe.VariableViewActivationService),e.addSingleton(ze.IInteractiveWindowProvider,st.NativeInteractiveWindowProvider),e.addSingleton(ze.IDataScienceCommandListener,ot.NativeInteractiveWindowCommandListener),e.addSingleton(ze.IDataScienceCommandListener,mt.KernelCommandListener),e.addSingleton(ze.IJupyterDebugger,de.JupyterDebugger,void 0,[ze.ICellHashListener]),e.addSingleton(ze.IJupyterExecution,ht.HostJupyterExecution),e.addSingleton(ze.IJupyterPasswordConnect,me.JupyterPasswordConnect),e.addSingleton(ze.IJupyterSessionManagerFactory,ge.JupyterSessionManagerFactory),e.addSingleton(i.IExtensionSingleActivationService,X.DebuggerVariableRegistration),e.addSingleton(ze.IJupyterVariables,ve.JupyterVariables,w.Identifiers.ALL_VARIABLES),e.addSingleton(ze.IJupyterVariables,Ee.KernelVariables,w.Identifiers.KERNEL_VARIABLES),e.addSingleton(ze.IJupyterVariables,Z.DebuggerVariables,w.Identifiers.DEBUGGER_VARIABLES),e.addSingleton(ze.IKernelVariableRequester,it.PythonVariablesRequester,w.Identifiers.PYTHON_VARIABLES_REQUESTER),e.addSingleton(ze.IPlotViewerProvider,He.PlotViewerProvider),e.addSingleton(ze.IStatusProvider,Je.StatusProvider),e.addSingleton(ze.IThemeFinder,$e.ThemeFinder),e.addSingleton(Q.JupyterCommandLineSelector,Q.JupyterCommandLineSelector),e.addSingleton(g.JupyterCommandLineSelectorCommand,g.JupyterCommandLineSelectorCommand),e.addSingleton(te.JupyterInterpreterDependencyService,te.JupyterInterpreterDependencyService),e.addSingleton(ze.INbConvertInterpreterDependencyChecker,le.NbConvertInterpreterDependencyChecker),e.addSingleton(ze.INbConvertExportToPythonService,ce.NbConvertExportToPythonService),e.addSingleton(ne.JupyterInterpreterOldCacheStateStore,ne.JupyterInterpreterOldCacheStateStore),e.addSingleton(ie.JupyterInterpreterSelector,ie.JupyterInterpreterSelector),e.addSingleton(oe.JupyterInterpreterService,oe.JupyterInterpreterService),e.addSingleton(se.JupyterInterpreterStateStore,se.JupyterInterpreterStateStore),e.addSingleton(ke.JupyterServerSelector,ke.JupyterServerSelector),e.addSingleton(_.JupyterServerSelectorCommand,_.JupyterServerSelectorCommand),e.addSingleton(_e.KernelSelectionProvider,_e.KernelSelectionProvider),e.addSingleton(we.KernelSelector,we.KernelSelector),e.addSingleton(Se.JupyterKernelService,Se.JupyterKernelService),e.addSingleton(b.NotebookCommands,b.NotebookCommands),e.addSingleton(xe.NotebookStarter,xe.NotebookStarter),e.addSingleton(Ke.ProgressReporter,Ke.ProgressReporter),e.addSingleton(ze.INotebookProvider,q.NotebookProvider),e.addSingleton(ze.IJupyterServerProvider,J.NotebookServerProvider),e.addSingleton(G.IPyWidgetMessageDispatcherFactory,G.IPyWidgetMessageDispatcherFactory),e.addSingleton(ze.IJupyterInterpreterDependencyManager,ae.JupyterInterpreterSubCommandExecutionService),e.addSingleton(ze.IJupyterSubCommandExecutionService,ae.JupyterInterpreterSubCommandExecutionService),e.addSingleton(Me.KernelDaemonPool,Me.KernelDaemonPool),e.addSingleton(ze.IKernelDependencyService,be.KernelDependencyService),e.addSingleton(ze.INotebookCreationTracker,Ue.NotebookCreationTracker),e.addSingleton(Pe.KernelDaemonPreWarmer,Pe.KernelDaemonPreWarmer),e.add(d.IProtocolParser,u.ProtocolParser),e.addSingleton(ze.IJupyterDebugService,Ne.MultiplexingDebugService,w.Identifiers.MULTIPLEXING_DEBUGSERVICE),e.addSingleton(ze.IJupyterDebugService,Te.JupyterDebugService,w.Identifiers.RUN_BY_LINE_DEBUGSERVICE),e.add(ze.IJupyterVariableDataProvider,C.JupyterVariableDataProvider),e.addSingleton(ze.IJupyterVariableDataProviderFactory,k.JupyterVariableDataProviderFactory),e.addSingleton(K.IExportManager,U.ExportManager),e.addSingleton(B.ExportInterpreterFinder,B.ExportInterpreterFinder),e.addSingleton(F.ExportFileOpener,F.ExportFileOpener),e.addSingleton(K.IExport,W.ExportToPDF,K.ExportFormat.pdf),e.addSingleton(K.IExport,Y.ExportToHTML,K.ExportFormat.html),e.addSingleton(K.IExport,H.ExportToPython,K.ExportFormat.python),e.addSingleton(K.IExport,N.ExportBase,"Export Base"),e.addSingleton(V.ExportUtil,V.ExportUtil),e.addSingleton(y.ExportCommands,y.ExportCommands),e.addSingleton(K.IExportDialog,R.ExportDialog),e.addSingleton(ze.IJupyterUriProviderRegistration,Ie.JupyterUriProviderRegistration),e.addSingleton(c.IFileSystemPathUtils,a.FileSystemPathUtils),e.addSingleton(ze.IJupyterServerUriStorage,De.JupyterServerUriStorage),e.addSingleton(Qe.INotebookWatcher,Ge.NotebookWatcher),e.addSingleton(i.IExtensionSyncActivationService,rt.ExtensionRecommendationService),e.addSingleton(ut.IDebuggingManager,dt.DebuggingManager,void 0,[i.IExtensionSingleActivationService]),Fe.registerTypes(e),Be.registerTypes(e)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolParser=void 0;const i=n(35),o=n(0);let s=class{constructor(){this.rawData=new Buffer(0),this.contentLength=-1,this.disposed=!1,this.dataCallbackHandler=e=>{this.handleData(e)},this.events=new i.EventEmitter}dispose(){this.stream&&(this.stream.removeListener("data",this.dataCallbackHandler),this.stream=void 0)}connect(e){this.stream=e,e.addListener("data",this.dataCallbackHandler)}on(e,t){return this.events.on(e,t),this}once(e,t){return this.events.once(e,t),this}dispatch(e){const t=JSON.parse(e);switch(t.type){case"event":{const e=t;"string"==typeof e.event&&this.events.emit(`${t.type}_${e.event}`,e);break}case"request":{const e=t;"string"==typeof e.command&&this.events.emit(`${t.type}_${e.command}`,e);break}case"response":{const e=t;"string"==typeof e.command&&this.events.emit(`${t.type}_${e.command}`,e);break}default:this.events.emit(""+t.type,t)}this.events.emit("data",t)}handleData(e){if(!this.disposed)for(this.rawData=Buffer.concat([this.rawData,e]);;){if(this.contentLength>=0){if(this.rawData.length>=this.contentLength){const e=this.rawData.toString("utf8",0,this.contentLength);this.rawData=this.rawData.slice(this.contentLength),this.contentLength=-1,e.length>0&&this.dispatch(e);continue}}else{const e=this.rawData.indexOf("\r\n\r\n");if(-1!==e){const t=this.rawData.toString("utf8",0,e).split("\r\n");for(const e of t){const t=e.split(/: +/);"Content-Length"===t[0]&&(this.contentLength=+t[1])}this.rawData=this.rawData.slice(e+"\r\n\r\n".length);continue}}break}}};s=r([o.injectable()],s),t.ProtocolParser=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GitHubIssueCommandListener=void 0;const o=n(0),s=n(6),a=n(1),c=n(7),l=n(14),u=n(4),d=n(16),h=n(3),p=n(10),f=n(5),m=n(13),g=n(33);let v=class{constructor(e,t,n,r,i,o,c,u,d,h,p){this.filesystem=e,this.pathUtils=t,this.appShell=n,this.commandManager=r,this.applicationEnvironment=i,this.platformService=o,this.disposableRegistry=c,this.notebookProvider=u,this.interpreterService=d,this.extensionContext=h,this.interactiveWindowProvider=p,this.logfilePath=s.join(this.extensionContext.globalStorageUri.fsPath,"log.txt"),this.diagnosticCollection=a.languages.createDiagnosticCollection(l.MARKDOWN_LANGUAGE)}register(e){this.disposableRegistry.push(e.registerCommand(f.Commands.CreateGitHubIssue,this.createGitHubIssue,this),e.registerCommand(f.Commands.SubmitGitHubIssue,this.submitGitHubIssue,this))}async createGitHubIssue(){var e,t,n,r,i,o,s,c,l,d,h;try{const u=p.GitHubIssue.pleaseFillThisOut(),f=`# Steps to cause the bug to occur\n1. \x3c!-- ${u} --\x3e\n\n# Actual behavior\n\x3c!-- ${u} --\x3e\n\n# Expected behavior\n\x3c!-- ${u} --\x3e\n\n# Your Jupyter environment\nActive Python interpreter: ${null===(e=await this.interpreterService.getActiveInterpreter(void 0))||void 0===e?void 0:e.displayName}\nNumber of interactive windows: ${null===(n=null===(t=this.interactiveWindowProvider)||void 0===t?void 0:t.windows)||void 0===n?void 0:n.length}\nNumber of Jupyter notebooks: ${null===(i=null===(r=this.notebookProvider)||void 0===r?void 0:r.activeNotebooks)||void 0===i?void 0:i.length}\nJupyter notebook type: ${null===(o=this.notebookProvider)||void 0===o?void 0:o.type}\nExtension version: ${null===(c=null===(s=this.applicationEnvironment)||void 0===s?void 0:s.packageJson)||void 0===c?void 0:c.version}\nVS Code version: ${null===(l=this.applicationEnvironment)||void 0===l?void 0:l.vscodeVersion}\nOS: ${this.platformService.osType} ${null===(h=await(null===(d=this.platformService)||void 0===d?void 0:d.getVersion()))||void 0===h?void 0:h.version}\n\n<details>\n\n\`\`\`\n${await this.getRedactedLogs()}\n\`\`\`\n</details>`;this.issueFilePath=a.Uri.file("issue.md").with({scheme:"untitled"}),this.issueTextDocument=await a.workspace.openTextDocument(this.issueFilePath);const m=new a.WorkspaceEdit;m.insert(this.issueFilePath,new a.Position(0,0),f),await a.workspace.applyEdit(m),this.commandManager.executeCommand("vscode.open",this.issueFilePath)}catch(e){u.traceError(e)}}async submitGitHubIssue(){const e=a.window.visibleTextEditors.filter(e=>{var t;return e.document.uri.toString()===(null===(t=this.issueFilePath)||void 0===t?void 0:t.toString())});if(1===e.length){const t=e[0],n=t.document.getText();try{await this.validateBodyAndSubmit(n,t.document)}catch(e){u.traceError(e),await this.copyIssueContentsAndOpenGitHub(n)}}}async validateBodyAndSubmit(e,t){this.displayErrors(t).length>0?await this.appShell.showErrorMessage(p.GitHubIssue.missingFields()):await this.submitForUser(e)}displayErrors(e){this.diagnosticCollection.clear();const t=p.GitHubIssue.pleaseFillThisOut(),n=[];for(let r=0;r<e.lineCount;r+=1){const i=e.lineAt(r),o=i.text.search(t);if(-1!==o){const e=new a.Position(i.lineNumber,o),r=new a.Position(i.lineNumber,o+t.length),s=new a.Range(e,r);n.push(new a.Diagnostic(s,t))}}return this.diagnosticCollection.set(e.uri,n),n}async submitForUser(e){}closeIssueEditorOnSuccess(){var e;(null===(e=a.window.activeTextEditor)||void 0===e?void 0:e.document)===this.issueTextDocument&&this.commandManager.executeCommand("workbench.action.closeActiveEditor")}async copyIssueContentsAndOpenGitHub(e){const t=p.GitHubIssue.copyContentToClipboardAndOpenIssue();await this.appShell.showErrorMessage(p.GitHubIssue.failure(),t)===t&&(await a.env.clipboard.writeText(e),await a.env.openExternal(a.Uri.parse("https://github.com/microsoft/vscode-jupyter/issues/new")),this.closeIssueEditorOnSuccess())}async getRedactedLogs(){const e=this.pathUtils.home.split(this.pathUtils.separator),t=e[e.length-1],n=RegExp(t,"gi");return(await this.filesystem.readLocalFile(this.logfilePath)).replace(n,"[redacted]")}};v=r([o.injectable(),i(0,o.inject(d.IFileSystem)),i(1,o.inject(h.IPathUtils)),i(2,o.inject(c.IApplicationShell)),i(3,o.inject(c.ICommandManager)),i(4,o.inject(c.IApplicationEnvironment)),i(5,o.inject(d.IPlatformService)),i(6,o.inject(h.IDisposableRegistry)),i(7,o.inject(m.INotebookProvider)),i(8,o.inject(g.IInterpreterService)),i(9,o.inject(h.IExtensionContext)),i(10,o.inject(m.IInteractiveWindowProvider))],v),t.GitHubIssueCommandListener=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Activation=void 0;const o=n(0),s=n(26);n(15);const a=n(39),c=n(3),l=n(85),u=n(8),d=n(5),h=n(481),p=n(147),f=n(484),m=n(13),g=n(7),v=n(24);let y=class{constructor(e,t,n,r,i,o,s,a,c){this.vscNotebook=e,this.jupyterInterpreterService=t,this.factory=n,this.disposables=r,this.contextService=i,this.daemonPoolPrewarmer=o,this.rawSupported=s,this.tracker=a,this.extensionChecker=c,this.notebookOpened=!1}async activate(){this.disposables.push(this.vscNotebook.onDidOpenNotebookDocument(this.onDidOpenNotebookEditor,this)),this.disposables.push(this.jupyterInterpreterService.onDidChangeInterpreter(this.onDidChangeInterpreter,this)),this.contextService.activate().ignoreErrors(),this.daemonPoolPrewarmer.activate(void 0).ignoreErrors(),this.tracker.startTracking()}onDidOpenNotebookEditor(e){v.isJupyterNotebook(e)&&(this.notebookOpened=!0,this.PreWarmDaemonPool().ignoreErrors(),u.sendTelemetryEvent(d.Telemetry.OpenNotebookAll),!this.rawSupported.supported()&&this.extensionChecker.isPythonExtensionInstalled&&this.jupyterInterpreterService.setInitialInterpreter().ignoreErrors())}onDidChangeInterpreter(){this.notebookOpened&&(this.jupyterInterpreterService.setInitialInterpreter().ignoreErrors(),this.PreWarmDaemonPool().ignoreErrors())}async PreWarmDaemonPool(){if(!this.extensionChecker.isPythonExtensionActive)return;const e=await this.jupyterInterpreterService.getSelectedInterpreter();e&&await this.factory.createDaemon({daemonModule:d.JupyterDaemonModule,pythonPath:e.path})}};r([l.debounceAsync(500),l.swallowExceptions("Failed to pre-warm daemon pool")],y.prototype,"PreWarmDaemonPool",null),y=r([o.injectable(),i(0,o.inject(g.IVSCodeNotebook)),i(1,o.inject(p.JupyterInterpreterService)),i(2,o.inject(a.IPythonExecutionFactory)),i(3,o.inject(c.IDisposableRegistry)),i(4,o.inject(h.ActiveEditorContextService)),i(5,o.inject(f.KernelDaemonPreWarmer)),i(6,o.inject(m.IRawNotebookSupportedService)),i(7,o.inject(m.INotebookCreationTracker)),i(8,o.inject(s.IPythonExtensionChecker))],y),t.Activation=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeCssGenerator=void 0;const o=n(0),s=n(346),a=n(6),c=n(7),l=n(4),u=n(16),d=n(3),h=n(5),p=n(13),f={light:"\n    :root {\n        --override-widget-background: #f3f3f3;\n        --override-foreground: #000000;\n        --override-background: #FFFFFF;\n        --override-selection-background: #add6ff;\n        --override-watermark-color: rgba(66, 66, 66, 0.75);\n        --override-tabs-background: #f3f3f3;\n        --override-progress-background: #0066bf;\n        --override-badge-background: #c4c4c4;\n        --override-lineHighlightBorder: #eeeeee;\n        --override-peek-background: #f2f8fc;\n    }\n",dark:"\n    :root {\n        --override-widget-background: #1e1e1e;\n        --override-foreground: #d4d4d4;\n        --override-background: #1e1e1e;\n        --override-selection-background: #264f78;\n        --override-watermark-color: rgba(231, 231, 231, 0.6);\n        --override-tabs-background: #252526;\n        --override-progress-background: #0066bf;\n        --override-badge-background: #4d4d4d;\n        --override-lineHighlightBorder: #282828;\n        --override-peek-background: #001f33;\n    }\n"},m={"light.comment":"#008000","light.constant.numeric":"#09885a","light.string":"#a31515","light.keyword.control":"#AF00DB","light.keyword.operator":"#000000","light.variable":"#001080","light.entity.name.type":"#267f99","light.support.function":"#795E26","light.punctuation":"#000000","dark.comment":"#6A9955","dark.constant.numeric":"#b5cea8","dark.string":"#ce9178","dark.keyword.control":"#C586C0","dark.keyword.operator":"#d4d4d4","dark.variable":"#9CDCFE","dark.entity.name.type":"#4EC9B0","dark.support.function":"#DCDCAA","dark.punctuation":"#1e1e1e"};let g=class{constructor(e,t,n,r){this.workspaceService=e,this.themeFinder=t,this.configService=n,this.fs=r,this.getScopeStyle=(e,t,n,r)=>{if(e){let r=this.matchTokenColor(e,t);r<0&&n&&(r=this.matchTokenColor(e,n));const i=r>=0?e[r]:null;if(null!==i){const e=i.settings;if(e&&null!==e){return{fontStyle:e.fontStyle?e.fontStyle:"normal",color:e.foreground?e.foreground:"var(--vscode-editor-foreground)"}}}}return{color:this.getDefaultColor(r,t),fontStyle:"normal"}},this.mergeColors=(e,t)=>[...e,...t],this.mergeBaseColors=(e,t)=>({...e,...t}),this.readTokenColors=async e=>{try{const t=await this.fs.readLocalFile(e),n=s.parse(t);let r=[];if("string"==typeof n.tokenColors){const e=await this.fs.readLocalFile(n.tokenColors);r=JSON.parse(e)}else r=n.tokenColors;if(r&&r.length>0){const t=n?n.include:void 0;if(t){const n=a.join(a.dirname(e),t.toString()),i=await this.readTokenColors(n);return this.mergeColors(r,i)}return r}const i=n.settings;return i&&i.length>0?i:[]}catch(e){return l.traceError("Jupyter Extension: Error reading custom theme",e),[]}},this.readBaseColors=async e=>{const t=await this.fs.readLocalFile(e),n=s.parse(t),r=n.colors,i=n?n.include:void 0;if(i){const t=a.join(a.dirname(e),i.toString()),n=await this.readBaseColors(t);return this.mergeBaseColors(r,n)}return r},this.findTokenColors=async e=>{try{l.traceInfo("Attempting search for colors ...");const t=await this.themeFinder.findThemeRootJson(e);if(t){l.traceInfo(`Loading colors from ${t} ...`);const n=await this.fs.readLocalFile(t),r=s.parse(n),i=r.contributes;if(!i){if(r.tokenColors)return await this.readTokenColors(t)}const o=i.themes,c=o.findIndex(t=>null!==t&&(t.id===e||t.name===e)),u=c>=0?o[c]:null;if(null!==u){const e=a.join(a.dirname(t),u.path);return l.traceInfo("Reading colors from "+e),await this.readTokenColors(e)}}else l.traceWarning(`Color theme ${e} not found. Using default colors.`)}catch(e){l.traceError(e)}return null},this.findBaseColors=async e=>{try{l.traceInfo("Attempting search for colors ...");const t=await this.themeFinder.findThemeRootJson(e);if(t){l.traceInfo(`Loading base colors from ${t} ...`);const n=await this.fs.readLocalFile(t),r=s.parse(n).contributes;if(!r)return await this.readBaseColors(t);const i=r.themes,o=i.findIndex(t=>null!==t&&(t.id===e||t.name===e)),c=o>=0?i[o]:null;if(null!==c){const e=a.join(a.dirname(t),c.path);return l.traceInfo("Reading base colors from "+e),await this.readBaseColors(e)}}else l.traceWarning(`Color theme ${e} not found. Using default colors.`)}catch(e){l.traceError(e)}return null}}generateThemeCss(e,t,n){return this.applyThemeData(e,t,n,"",this.generateCss.bind(this))}async applyThemeData(e,t,n,r,i){let o=r;try{const r=!!this.configService.getSettings(e).ignoreVscodeTheme;n=r?h.DefaultTheme:n;const s=this.workspaceService.getConfiguration("editor",void 0),a=s?s.get("fontFamily","Consolas, 'Courier New', monospace"):"Consolas, 'Courier New', monospace",c=s?s.get("fontSize",14):14,u=!r&&t;if(n){l.traceInfo("Searching for token colors ...");const e=await this.findTokenColors(n),s=await this.findBaseColors(n);if(e&&a&&c)l.traceInfo("Using colors to generate CSS ..."),o=i({tokenColors:e,baseColors:s,fontFamily:a,fontSize:c,isDark:u,defaultStyle:r?"light":void 0});else if(null===e&&a&&c){o=i({fontFamily:a,fontSize:c,isDark:u,defaultStyle:t?"dark":"light"})}}}catch(e){l.traceError(e)}return o}getScopes(e){return e&&e.scope?Array.isArray(e.scope)?e.scope:e.scope.toString().split(","):[]}matchTokenColor(e,t){return e.findIndex(e=>!!this.getScopes(e).find(e=>null!=e&&e.toString().trim()===t))}getDefaultColor(e,t){return e?m[`${e}.${t}`]:"var(--override-foreground, var(--vscode-editor-foreground))"}generateCss(e){const t=this.getScopeStyle(e.tokenColors,"comment","comment",e.defaultStyle),n=this.getScopeStyle(e.tokenColors,"constant.numeric","constant",e.defaultStyle),r=this.getScopeStyle(e.tokenColors,"string","string",e.defaultStyle),i=this.getScopeStyle(e.tokenColors,"variable","variable",e.defaultStyle),o=this.getScopeStyle(e.tokenColors,"entity.name.type","entity.name.type",e.defaultStyle);return`\n:root {\n    --code-comment-color: ${t.color};\n    --code-numeric-color: ${n.color};\n    --code-string-color: ${r.color};\n    --code-variable-color: ${i.color};\n    --code-type-color: ${o.color};\n    --code-font-family: ${e.fontFamily};\n    --code-font-size: ${e.fontSize}px;\n}\n\n${e.defaultStyle?f[e.defaultStyle]:""}\n`}};g=r([o.injectable(),i(0,o.inject(c.IWorkspaceService)),i(1,o.inject(p.IThemeFinder)),i(2,o.inject(d.IConfigurationService)),i(3,o.inject(u.IFileSystem))],g),t.CodeCssGenerator=g},function(e,t,n){"use strict";function r(e,t,n){var r,o=/([^\s'"]([^\s'"]*(['"])([^\3]*?)\3)+[^\s'"]*)|[^\s'"]+|(['"])([^\5]*?)\5/gi,s=e,a=[];t&&a.push(t),n&&a.push(n);do{null!==(r=o.exec(s))&&a.push(i(r[1],r[6],r[0]))}while(null!==r);return a}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var r=e[n];if("string"==typeof r)return r}}t.__esModule=!0,t.default=r,t.parseArgsStringToArgv=r},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewer=void 0,n(15);const o=n(0),s=n(6),a=n(1),c=n(7),l=n(14),u=n(4),d=n(3),h=n(10),p=n(9),f=n(32),m=n(8),g=n(5),v=n(497),y=n(13),b=n(498),_=n(1174),w=n(112),S=n(1175),E=n(86),x=s.join(l.EXTENSION_ROOT_DIR,"out","datascience-ui","viewers");let C=class extends b.WebviewPanelHost{constructor(e,t,n,r,i,o,c){var l;super(t,e,n,r,i,(e,t,n)=>new _.DataViewerMessageListener(e,t,n),x,[s.join(x,"dataExplorer.js")],h.DataScience.dataExplorerTitle(),null!==(l=c.get("JupyterDataViewerPreferredViewColumn"))&&void 0!==l?l:a.ViewColumn.One),this.applicationShell=o,this.globalMemento=c,this.pendingRowsCount=0,this.sentDataViewerSliceDimensionalityTelemetry=!1,this._onDidDisposeDataViewer=new a.EventEmitter,this._onDidChangeDataViewerViewState=new a.EventEmitter,this.onDidDispose(this.dataViewerDisposed,this)}get active(){var e;return!!(null===(e=this.webPanel)||void 0===e?void 0:e.isActive())}get onDidDisposeDataViewer(){return this._onDidDisposeDataViewer.event}get onDidChangeDataViewerViewState(){return this._onDidChangeDataViewerViewState.event}async showData(e,t){if(!this.isDisposed){this.dataProvider=e,await super.loadWebview(process.cwd()).catch(u.traceError),super.setTitle(t),await super.show(!0);let n=await this.prepDataFrameInfo();if(n.shape&&n.shape.length>2){this.maybeSendSliceDataDimensionalityTelemetry(n.shape.length);const e=S.preselectedSliceExpression(n.shape);n=await this.getDataFrameInfo(e)}this.postMessage(w.DataViewerMessages.InitializeData,n).ignoreErrors()}}dataViewerDisposed(){this._onDidDisposeDataViewer.fire(this)}async refreshData(){const e=this.currentSliceExpression;this.dataFrameInfoPromise=void 0;let t=await this.getDataFrameInfo(void 0,!0);if(void 0!==e&&void 0!==t.shape)if(S.isValidSliceExpression(e,t.shape))t=await this.getDataFrameInfo(e);else{const e=S.preselectedSliceExpression(t.shape);t=await this.getDataFrameInfo(e)}u.traceInfo("Refreshing data viewer for variable "+t.name),this.postMessage(w.DataViewerMessages.InitializeData,t).ignoreErrors()}dispose(){super.dispose(),this.dataProvider&&(this.dataProvider.dispose(),this.dataProvider=void 0)}async onViewStateChanged(e){var t;e.current.active&&e.current.visible&&e.previous.active&&e.current.visible&&await this.globalMemento.update("JupyterDataViewerPreferredViewColumn",null===(t=this.webPanel)||void 0===t?void 0:t.viewColumn),this._onDidChangeDataViewerViewState.fire()}get owningResource(){}onMessage(e,t){switch(e){case w.DataViewerMessages.GetAllRowsRequest:this.getAllRows(t).ignoreErrors();break;case w.DataViewerMessages.GetRowsRequest:this.getRowChunk(t).ignoreErrors();break;case w.DataViewerMessages.GetSliceRequest:this.getSlice(t).ignoreErrors();break;case w.DataViewerMessages.RefreshDataViewer:this.refreshData().ignoreErrors(),m.sendTelemetryEvent(g.Telemetry.RefreshDataViewer);break;case w.DataViewerMessages.SliceEnablementStateChanged:m.sendTelemetryEvent(g.Telemetry.DataViewerSliceEnablementStateChanged,void 0,{newState:t.newState?E.CheckboxState.Checked:E.CheckboxState.Unchecked})}super.onMessage(e,t)}getDataFrameInfo(e,t){return this.dataFrameInfoPromise&&e===this.currentSliceExpression||(this.dataFrameInfoPromise=this.dataProvider?this.dataProvider.getDataFrameInfo(e,t):Promise.resolve({}),this.currentSliceExpression=e),this.dataFrameInfoPromise}async prepDataFrameInfo(){this.rowsTimer=new f.StopWatch;const e=await this.getDataFrameInfo();try{m.sendTelemetryEvent(g.Telemetry.ShowDataViewer,0,{rows:e.rowCount?e.rowCount:0,columns:e.columns?e.columns.length:0}),this.pendingRowsCount=e.rowCount?e.rowCount:0}catch(e){p.noop()}return e}async getAllRows(e){return this.wrapRequest(async()=>{if(this.dataProvider){const t=await this.dataProvider.getAllRows(e);return this.pendingRowsCount=0,this.postMessage(w.DataViewerMessages.GetAllRowsResponse,t)}})}getSlice(e){return this.wrapRequest(async()=>{var t;if(this.dataProvider){const n=await this.getDataFrameInfo(e.slice);return(null===(t=n.shape)||void 0===t?void 0:t.length)&&this.maybeSendSliceDataDimensionalityTelemetry(n.shape.length),m.sendTelemetryEvent(g.Telemetry.DataViewerSliceOperation,void 0,{source:e.source}),this.postMessage(w.DataViewerMessages.InitializeData,n)}})}getRowChunk(e){return this.wrapRequest(async()=>{if(this.dataProvider){const t=await this.getDataFrameInfo(e.sliceExpression),n=await this.dataProvider.getRows(e.start,Math.min(e.end,t.rowCount?t.rowCount:0),e.sliceExpression);return this.postMessage(w.DataViewerMessages.GetRowsResponse,{rows:n,start:e.start,end:e.end})}})}async wrapRequest(e){try{return await e()}catch(e){if(e instanceof v.JupyterDataRateLimitError){u.traceError(e);const t=h.DataScience.pythonInteractiveHelpLink();this.applicationShell.showErrorMessage(e.toString(),t).then(e=>{e===t&&this.applicationShell.openUrl(g.HelpLinks.JupyterDataRateHelpLink)},p.noop),this.dispose()}u.traceError(e),this.applicationShell.showErrorMessage(e).then(p.noop,p.noop)}finally{this.sendElapsedTimeTelemetry()}}sendElapsedTimeTelemetry(){this.rowsTimer&&0===this.pendingRowsCount&&m.sendTelemetryEvent(g.Telemetry.ShowDataViewer,this.rowsTimer.elapsedTime)}maybeSendSliceDataDimensionalityTelemetry(e){this.sentDataViewerSliceDimensionalityTelemetry||(m.sendTelemetryEvent(g.Telemetry.DataViewerDataDimensionality,void 0,{numberOfDimensions:e}),this.sentDataViewerSliceDimensionalityTelemetry=!0)}};C=r([o.injectable(),i(0,o.inject(c.IWebviewPanelProvider)),i(1,o.inject(d.IConfigurationService)),i(2,o.inject(y.ICodeCssGenerator)),i(3,o.inject(y.IThemeFinder)),i(4,o.inject(c.IWorkspaceService)),i(5,o.inject(c.IApplicationShell)),i(6,o.inject(d.IMemento)),i(6,o.named(d.GLOBAL_MEMENTO))],C),t.DataViewer=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerMessageListener=void 0,n(15);t.DataViewerMessageListener=class{constructor(e,t,n){this.disposedCallback=n,this.callback=e,this.viewChanged=t}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}onChangeViewState(e){this.viewChanged(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSliceExpression=t.validateSliceExpression=t.fullSliceExpression=t.preselectedSliceExpression=t.sliceRegEx=void 0;const r=n(494);function i(e,n){if(e.startsWith("[")&&e.endsWith("]")){let i;const o=e.substring(1,e.length-1).split(",").map((e,r)=>{var o;const s=t.sliceRegEx.exec(e);if((null===(o=null==s?void 0:s.groups)||void 0===o?void 0:o.Start)&&!s.groups.Stop){const e=parseInt(s.groups.Start),t=n[r];return(e>=0&&e>=t||e<0&&e<-t)&&(i={shapeIndex:r,value:e}),e}});if(i){const{shapeIndex:e,value:t}=i,o=r.getLocString("DataScience.sliceIndexError","Index {0} out of range for axis {1} with {2} elements");return r.format(o,t.toString(),e.toString(),n[e].toString())}if(o&&o.length!==n.length){const e=r.getLocString("DataScience.sliceMismatchedAxesError","Expected {0} axes, got {1} in slice expression");return r.format(e,n.length.toString(),o.length.toString())}}return""}t.sliceRegEx=/^\s*((?<StartRange>-?\d+:)|(?<StopRange>-?:\d+)|(?:(?<Start>-?\d+)(?::(?<Stop>-?\d+))?(?::(?<Step>-?\d+))?))\s*$/,t.preselectedSliceExpression=function(e){let t=e.length-2;return"["+e.map(()=>t>0?(t-=1,"0"):":").join(", ")+"]"},t.fullSliceExpression=function(e){return"["+e.map(()=>":").join(", ")+"]"},t.validateSliceExpression=i,t.isValidSliceExpression=function(e,t){return""===i(e,t)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataViewerFactory=void 0,n(15);const o=n(0),s=n(3),a=n(40),c=n(8),l=n(5),u=n(112),d=n(7),h=n(132),p=n(224);let f=class{constructor(e,t,n,r){this.serviceContainer=e,this.disposables=n,this.commandManager=r,this.knownViewers=new Set,this.refreshDataViewer=p.debounce(()=>{for(const e of this.knownViewers)e.active&&e.refreshData()},1e3),t.push(this),this.viewContext=new h.ContextKey(l.EditorContexts.IsDataViewerActive,this.commandManager),this.disposables.push(this.commandManager.registerCommand(l.Commands.RefreshDataViewer,this.refreshDataViewer,this))}async dispose(){for(const e of this.knownViewers)e.dispose()}async create(e,t){let n;const r=this.serviceContainer.get(u.IDataViewer);try{this.knownViewers.add(r),r.onDidDisposeDataViewer(this.updateOpenDataViewers,this,this.disposables),r.onDidChangeDataViewerViewState(this.updateViewStateContext,this,this.disposables),await r.showData(e,t),n=r}finally{n||r.dispose()}return n}updateOpenDataViewers(e){this.knownViewers.delete(e)}async updateViewStateContext(){let e=!1;this.knownViewers.forEach(t=>{t.active&&(e=!0)}),await this.viewContext.set(e)}};r([c.captureTelemetry(l.Telemetry.StartShowDataViewer)],f.prototype,"create",null),f=r([o.injectable(),i(0,o.inject(a.IServiceContainer)),i(1,o.inject(s.IAsyncDisposableRegistry)),i(2,o.inject(s.IDisposableRegistry)),i(3,o.inject(d.ICommandManager))],f),t.DataViewerFactory=f},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterVariableDataProvider=void 0,n(15);const s=n(0),a=n(5),c=n(13),l=n(500),u=n(112),d=n(4);let h=r=class{constructor(e,t){this.variableManager=e,this.dependencyService=t,this.initialized=!1}static getNormalizedColumns(e){return e.map(e=>{let t;switch(e.type){case"bool":t=u.ColumnType.Bool;break;case"integer":case"int32":case"int64":case"float":case"float32":case"float64":case"number":t=u.ColumnType.Number;break;default:t=u.ColumnType.String}return{key:e.key,type:t}})}static parseShape(e){try{if(e.startsWith("(")&&e.endsWith(")"))return e.substring(1,e.length-1).split(",").map(e=>parseInt(e))}catch(t){d.traceError("Could not parse IJupyterVariable with malformed shape: "+e)}}dispose(){}setDependencies(e,t){this.notebook=t,this.variable=e}async getDataFrameInfo(e,t){let n={};await this.ensureInitialized();let i=this.variable;return i&&((e||t)&&(i=await this.variableManager.getDataFrameInfo(i,this.notebook,e,t)),n={columns:i.columns?r.getNormalizedColumns(i.columns):i.columns,indexColumn:i.indexColumn,rowCount:i.rowCount,dataDimensionality:i.dataDimensionality,shape:r.parseShape(i.shape),sliceExpression:e,type:i.type,maximumRowChunkSize:i.maximumRowChunkSize,name:i.name,fileName:i.fileName}),t&&(this.variable=i),n}async getAllRows(e){let t=[];if(await this.ensureInitialized(),this.variable&&this.variable.rowCount){const n=await this.variableManager.getDataFrameRows(this.variable,0,this.variable.rowCount,this.notebook,e);t=n&&n.data?n.data:[]}return t}async getRows(e,t,n){let r=[];if(await this.ensureInitialized(),this.variable&&this.variable.rowCount){const i=await this.variableManager.getDataFrameRows(this.variable,e,t,this.notebook,n);r=i&&i.data?i.data:[]}return r}async ensureInitialized(){var e;!this.initialized&&this.variable&&(this.initialized=!0,await this.dependencyService.checkAndInstallMissingDependencies(null===(e=this.notebook)||void 0===e?void 0:e.getMatchingInterpreter()),this.variable=await this.variableManager.getDataFrameInfo(this.variable,this.notebook))}};h=r=i([s.injectable(),o(0,s.inject(c.IJupyterVariables)),o(0,s.named(a.Identifiers.ALL_VARIABLES)),o(1,s.inject(l.DataViewerDependencyService))],h),t.JupyterVariableDataProvider=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterVariableDataProviderFactory=void 0,n(15);const o=n(0),s=n(40),a=n(13);let c=class{constructor(e){this.serviceContainer=e}async create(e,t){const n=this.serviceContainer.get(a.IJupyterVariableDataProvider);return n.setDependencies(e,t),n}};c=r([o.injectable(),i(0,o.inject(s.IServiceContainer))],c),t.JupyterVariableDataProviderFactory=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScience=void 0;const o=n(0),s=n(1),a=n(7),c=n(14),l=n(132);n(15);const u=n(3),d=n(85),h=n(9),p=n(8),f=n(133),m=n(487),g=n(5),v=n(13);let y=class{constructor(e,t,n,r,i,o,s,a){this.commandManager=e,this.disposableRegistry=t,this.extensionContext=n,this.dataScienceCodeLensProvider=r,this.configuration=i,this.documentManager=o,this.workspace=s,this.commandRegistry=a,this.isDisposed=!1,this.startTime=Date.now(),this.onSettingsChanged=()=>{const e=this.configuration.getSettings(void 0).sendSelectionToInteractiveWindow;new l.ContextKey(g.EditorContexts.OwnsSelection,this.commandManager).set(e).catch(h.noop)},this.disposableRegistry.push(this.commandRegistry)}get activationStartTime(){return this.startTime}async activate(){this.commandRegistry.register(),this.extensionContext.subscriptions.push(s.languages.registerCodeLensProvider([c.PYTHON_FILE,c.PYTHON_UNTITLED],this.dataScienceCodeLensProvider)),this.onSettingsChanged(),this.changeHandler=this.configuration.getSettings(void 0).onDidChange(this.onSettingsChanged.bind(this)),this.disposableRegistry.push(this),this.disposableRegistry.push(this.documentManager.onDidChangeActiveTextEditor(()=>this.onChangedActiveTextEditor())),this.onChangedActiveTextEditor(),this.sendSettingsTelemetry().ignoreErrors()}async dispose(){this.changeHandler&&(this.changeHandler.dispose(),this.changeHandler=void 0)}onChangedActiveTextEditor(){const e=new l.ContextKey(g.EditorContexts.HasCodeCells,this.commandManager),t=this.documentManager.activeTextEditor;t&&t.document.languageId===c.PYTHON_LANGUAGE?e.set(f.hasCells(t.document,this.configuration.getSettings())).catch(h.noop):e.set(!1).catch(h.noop)}async sendSettingsTelemetry(){const e=this.configuration.getSettings(),t=this.workspace.getConfiguration("jupyter");if(t){const n=Object.keys(e),r={};for(const i of n){const n=e[i];if("string"==typeof n&&"interactiveWindowMode"!==i){const e=t.inspect(""+i);e&&e.defaultValue!==n?r[i]="non-default":r[i]="default"}else r[i]=n}p.sendTelemetryEvent(g.Telemetry.DataScienceSettings,0,r)}}};r([d.debounceAsync(1),d.swallowExceptions("Sending DataScience Settings Telemetry failed")],y.prototype,"sendSettingsTelemetry",null),y=r([o.injectable(),i(0,o.inject(a.ICommandManager)),i(1,o.inject(u.IDisposableRegistry)),i(2,o.inject(u.IExtensionContext)),i(3,o.inject(v.IDataScienceCodeLensProvider)),i(4,o.inject(u.IConfigurationService)),i(5,o.inject(a.IDocumentManager)),i(6,o.inject(a.IWorkspaceService)),i(7,o.inject(m.CommandRegistry))],y),t.DataScience=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLocationTrackerFactory=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(490);let u=class{constructor(e,t){this.activeTrackers=new Map,this.updatedEmitter=new s.EventEmitter,t.push(e.registerDebugAdapterTrackerFactory("python",this))}createDebugAdapterTracker(e){const t=new l.DebugLocationTracker(e.id);return this.activeTrackers.set(e.id,t),t.sessionEnded(this.onSessionEnd.bind(this)),t.debugLocationUpdated(this.onLocationUpdated.bind(this)),this.onLocationUpdated(),t}get updated(){return this.updatedEmitter.event}getLocation(e){const t=this.activeTrackers.get(e.id);if(t)return t.debugLocation}onSessionEnd(e){e.sessionId&&this.activeTrackers.delete(e.sessionId)}onLocationUpdated(){this.updatedEmitter.fire()}};u=r([o.injectable(),i(0,o.inject(a.IDebugService)),i(1,o.inject(c.IDisposableRegistry))],u),t.DebugLocationTrackerFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkCommandAllowList=t.LineQueryRegex=void 0,n(15),t.LineQueryRegex=/line=(\d+)/,t.linkCommandAllowList=["jupyter.latestExtension","jupyter.enableLoadingWidgetScriptsFromThirdPartySource"]},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CellHashProvider=void 0;const o=n(180),s=n(0),a=n(324),c=n(1),l=n(62),u=n(7),d=n(4),h=n(16),p=n(3),f=n(133),m=n(148),g=n(5),v=n(237),y=n(13),b=n(1184),_=/(;32m[ ->]*?)(\d+)(.*)/g;let w=class{constructor(e,t,n,r,i){this.documentManager=e,this.configService=t,this.debugService=n,this.fs=r,this.listeners=i,this.postEmitter=new c.EventEmitter,this.executionCount=0,this.hashes=new Map,this.updateEventEmitter=new c.EventEmitter,this.traceBackRegexes=new Map,this.documentManager.onDidChangeTextDocument(this.onChangedDocument.bind(this))}dispose(){this.hashes.clear(),this.traceBackRegexes.clear()}get updated(){return this.updateEventEmitter.event}get postMessage(){return this.postEmitter.event}getHashes(){return[...this.hashes.entries()].map(e=>({file:e[0],hashes:e[1].filter(e=>!e.deleted)})).filter(e=>e.hashes.length>0)}onKernelRestarted(){this.hashes.clear(),this.traceBackRegexes.clear(),this.executionCount=0,this.updateEventEmitter.fire()}async addCellHash(e){var t;const n=this.extractExecutableLines(e);n.length>0&&n.find(e=>e.trim().length>0)&&(this.executionCount+=1,void 0!==e.metadata.interactive&&(null===(t=e.metadata.interactive)||void 0===t?void 0:t.file)!==g.Identifiers.EmptyFileName&&await this.generateHash(e,this.executionCount))}extractExecutableLines(e){var t,n;const r=new m.CellMatcher(this.configService.getSettings(f.getCellResource(e))),i=l.splitMultilineString(null!==(n=null===(t=e.metadata.interactive)||void 0===t?void 0:t.originalSource)&&void 0!==n?n:e.document.getText());return i.length>0&&(r.isCode(i[0])||r.isMarkdown(i[0]))?i.slice(1):i}async generateHash(e,t){if(void 0===e.metadata.interactive)return;const{line:n,file:r}=e.metadata.interactive,i=v.getInteractiveCellMetadata(e).id,s=this.documentManager.textDocuments.find(e=>this.fs.areLocalPathsSame(e.fileName,r));if(s){const{stripped:a,trueStartLine:l}=this.extractStrippedLines(e),u=s.lineAt(l),h=s.lineAt(Math.min(l+a.length-1,s.lineCount-1));let p=0;for(;p<a.length&&0===a[p].trim().length;)p+=1;const f=s.offsetAt(new c.Position(n,0)),m=s.offsetAt(h.rangeIncludingLineBreak.end),g=this.adjustRuntimeForDebugging(e,a),v=a.join(""),y=s.getText(new c.Range(new c.Position(n,0),h.rangeIncludingLineBreak.end)),_={hash:o.sha1().update(v).digest("hex").substr(0,12),line:u?u.lineNumber+1:1,endLine:h?h.lineNumber+1:1,firstNonBlankLineIndex:p+l,executionCount:t,startOffset:f,endOffset:m,deleted:!1,code:v,trimmedRightCode:a.map(e=>e.replace(/[ \t\r]+\n$/g,"\n")).join(""),realCode:y,runtimeLine:g,id:i,timestamp:Date.now()};d.traceInfo(`Adding hash for ${t} = ${_.hash} with ${a.length} lines`);let w=this.hashes.get(r);w||(w=[]);let S=!1;for(let e=0;e<w.length&&!S;e+=1){const t=w[e];_.line>=t.line&&_.line<=t.endLine?(w.splice(e,1,_),S=!0):t.line>_.line&&(w.splice(e,0,_),S=!0)}if(S||w.push(_),this.hashes.set(r,w),!this.traceBackRegexes.has(r)){const e=new RegExp("\\[.*?;32m"+b(r)),t=new RegExp("\\[.*?;32m"+b(this.fs.getDisplayName(r)));this.traceBackRegexes.set(r,[e,t])}if(this.listeners){const e=this.getHashes();await Promise.all(this.listeners.map(t=>t.hashesUpdated(e))),this.updateEventEmitter.fire()}}}getExecutionCount(){return this.executionCount}incExecutionCount(){this.executionCount+=1}onChangedDocument(e){const t=this.hashes.get(e.document.fileName);if(t){const n=e.document.getText();e.contentChanges.forEach(e=>{this.handleContentChange(n,e,t)})}}extractStrippedLines(e){var t,n;const r=l.splitMultilineString(null===(t=e.metadata.interactive)||void 0===t?void 0:t.originalSource),i=this.extractExecutableLines(e);let o=null===(n=e.metadata.interactive)||void 0===n?void 0:n.line;for(let e=0;e<i.length;e+=1)if(i[e]!==r[e]){o+=e+1;break}let s=0;for(;s<i.length&&0===i[s].trim().length;)s+=1;let a=i.length-1,c=i.length-2;for(;c>0;){const e=i[a],t=i[c];if(0!==e.length&&"\n"!==e||0!==t.length&&"\n"!==t)break;i.splice(a,1),a-=1,c-=1}return!i[a].endsWith("\n")&&i[a].length>0&&(i[a]=i[a]+"\n"),{stripped:i,trueStartLine:o}}handleContentChange(e,t,n){const r=t.range.start.line-t.range.end.line+t.text.split("\n").length-1,i=t.text.length-t.rangeLength,o=t.rangeLength<=0?t.rangeOffset:t.rangeOffset+t.rangeLength-1;n.forEach(n=>{n.endOffset<t.rangeOffset||(n.startOffset>o?(n.line+=r,n.endLine+=r,n.startOffset+=i,n.endOffset+=i):n.startOffset===o?n.deleted||t.rangeLength>0||0===r?n.deleted=e.substr(n.startOffset,n.endOffset-n.startOffset)!==n.realCode:(n.line+=r,n.endLine+=r,n.startOffset+=i,n.endOffset+=i):n.deleted=e.substr(n.startOffset,n.endOffset-n.startOffset)!==n.realCode)})}adjustRuntimeForDebugging(e,t){return this.debugService.activeDebugSession&&this.configService.getSettings(f.getCellResource(e)).stopOnFirstLineWhileDebugging?(t.splice(0,0,"breakpoint()\n"),e.metadata.interactive.modifiedSource=l.concatMultilineString(t),2):1}modifyTraceback(e){return Array.isArray(e)?e.map(this.modifyTracebackFrame.bind(this)):[]}findCellOffset(e,t){if(e)for(const n of e){if(n.trimmedRightCode.indexOf(t)>=0)return n.firstNonBlankLineIndex}}modifyTracebackFrame(e){const t=[...this.traceBackRegexes.entries()],n=t.find(t=>t[1].some(t=>t.test(e)));if(n){let t="";const r=/(;32m[ ->]*?)(\d+)(.*)/g;for(let n=r.exec(e);n&&n.length>3;n=r.exec(e)){t=`${t}${a.default(n[3]).substr(1)}\n`}const i=this.findCellOffset(this.hashes.get(n[0]),t);if(void 0!==i)return e.replace(_,(e,t,r,o)=>{const s=parseInt(r,10),a=i+s-1;return`${t}<a href='file://${n[0]}?line=${a}'>${a+1}</a>${o}`})}else{const n=t.find(t=>e.includes(t[0]));if(n){const t=this.findCellOffset(this.hashes.get(n[0]),e);if(t)return e.replace(_,(e,r,i,o)=>{const s=parseInt(i,10),a=t+s-1;return`${r}<a href='file://${n[0]}?line=${a}'>${a+1}</a>${o}`})}}return e}};w=r([s.injectable(),i(0,s.inject(u.IDocumentManager)),i(1,s.inject(p.IConfigurationService)),i(2,s.inject(u.IDebugService)),i(3,s.inject(h.IFileSystem)),i(4,s.multiInject(y.ICellHashListener)),i(4,s.optional())],w),t.CellHashProvider=w},function(e,t,n){"use strict";e.exports=e=>{e=Object.assign({onlyFirst:!1},e);const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e.onlyFirst?void 0:"g")}},function(e,t,n){var r=n(1185),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},function(e,t,n){var r=n(1186);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(176),i=n(1187),o=n(177),s=n(399),a=r?r.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceCodeLensProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(132),l=n(99),u=n(16),d=n(3),h=n(9),p=n(32),f=n(40),m=n(8),g=n(5),v=n(13);let y=class{constructor(e,t,n,r,i,o,a,c,u){this.serviceContainer=e,this.debugLocationTracker=t,this.documentManager=n,this.configuration=r,this.commandManager=i,this.debugService=a,this.fs=c,this.totalExecutionTimeInMs=0,this.totalGetCodeLensCalls=0,this.activeCodeWatchers=[],this.didChangeCodeLenses=new s.EventEmitter,o.push(this),o.push(u.onDidGrantWorkspaceTrust(()=>{l.disposeAllDisposables(this.activeCodeWatchers),this.activeCodeWatchers=[],this.didChangeCodeLenses.fire()})),o.push(this.debugService.onDidChangeActiveDebugSession(this.onChangeDebugSession.bind(this))),o.push(this.documentManager.onDidCloseTextDocument(this.onDidCloseTextDocument.bind(this))),o.push(this.debugLocationTracker.updated(this.onDebugLocationUpdated.bind(this)))}dispose(){this.totalGetCodeLensCalls>0&&m.sendTelemetryEvent(g.Telemetry.CodeLensAverageAcquisitionTime,this.totalExecutionTimeInMs/this.totalGetCodeLensCalls)}get onDidChangeCodeLenses(){return this.didChangeCodeLenses.event}provideCodeLenses(e,t){return this.getCodeLensTimed(e)}getCodeWatcher(e){return this.matchWatcher(e.fileName,e.version,this.configuration.getSettings(e.uri))}onDebugLocationUpdated(){this.didChangeCodeLenses.fire()}onChangeDebugSession(e){this.didChangeCodeLenses.fire()}onDidCloseTextDocument(e){const t=this.activeCodeWatchers.findIndex(t=>t.uri&&this.fs.areLocalPathsSame(t.uri.fsPath,e.fileName));t>=0&&this.activeCodeWatchers.splice(t,1)}getCodeLensTimed(e){const t=new p.StopWatch,n=this.getCodeLens(e);this.totalExecutionTimeInMs+=t.elapsedTime,this.totalGetCodeLensCalls+=1;new c.ContextKey(g.EditorContexts.HasCodeCells,this.commandManager).set(n&&n.length>0).catch(h.noop);return this.configuration.getSettings(e.uri).enableCellCodeLens?this.adjustDebuggingLenses(e,n):(this.activeCodeWatchers.length>0&&(this.activeCodeWatchers=[]),[])}adjustDebuggingLenses(e,t){const n=g.CodeLensCommands.DebuggerCommands;if(!this.debugService.activeDebugSession)return t.filter(e=>!!e.command&&!n.includes(e.command.command));{const r=this.debugLocationTracker.getLocation(this.debugService.activeDebugSession);if(r&&this.fs.areLocalPathsSame(r.fileName,e.uri.fsPath)){return t.filter(e=>{const t=new s.Position(r.lineNumber-1,r.column-1);return e.range.contains(t)}).filter(e=>!!e.command&&n.includes(e.command.command))}}return[]}getCodeLens(e){const t=this.matchWatcher(e.fileName,e.version,this.configuration.getSettings(e.uri));if(t)return t.getCodeLenses();return this.createNewCodeWatcher(e).getCodeLenses()}matchWatcher(e,t,n){const r=this.activeCodeWatchers.findIndex(t=>t.uri&&this.fs.areLocalPathsSame(t.uri.fsPath,e));if(r>=0){const e=this.activeCodeWatchers[r];if(e.getVersion()===t){if(JSON.stringify(n)===JSON.stringify(e.getCachedSettings()))return e}this.activeCodeWatchers.splice(r,1)}const i=this.documentManager.textDocuments.filter(t=>t.fileName===e);if(i&&i.length>0)return this.createNewCodeWatcher(i[0])}createNewCodeWatcher(e){const t=this.serviceContainer.get(v.ICodeWatcher);return t.setDocument(e),t.codeLensUpdated(this.onWatcherUpdated.bind(this)),this.activeCodeWatchers.push(t),t}onWatcherUpdated(){this.didChangeCodeLenses.fire()}};y=r([o.injectable(),i(0,o.inject(f.IServiceContainer)),i(1,o.inject(v.IDebugLocationTracker)),i(2,o.inject(a.IDocumentManager)),i(3,o.inject(d.IConfigurationService)),i(4,o.inject(a.ICommandManager)),i(5,o.inject(d.IDisposableRegistry)),i(6,o.inject(a.IDebugService)),i(7,o.inject(u.IFileSystem)),i(8,o.inject(a.IWorkspaceService))],y),t.DataScienceCodeLensProvider=y},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeWatcher=void 0;const s=n(0),a=n(1),c=n(7),l=n(16),u=n(3),d=n(10),h=n(9),p=n(32),f=n(8),m=n(503),g=n(148),v=n(5),y=n(13);let b=r=class{constructor(e,t,n,r,i,o,s){this.interactiveWindowProvider=e,this.fs=t,this.configService=n,this.documentManager=r,this.executionHelper=i,this.dataScienceErrorHandler=o,this.codeLensFactory=s,this.version=-1,this.codeLenses=[],this.cells=[],this.codeLensUpdatedEvent=new a.EventEmitter}setDocument(e){this.document=e,this.version=e.version,this.cachedSettings=JSON.parse(JSON.stringify(this.configService.getSettings(e.uri))),this.codeLenses=this.codeLensFactory.createCodeLenses(e),this.cells=this.codeLensFactory.getCellRanges(e),this.updateRequiredDisposable=this.codeLensFactory.updateRequired(this.onCodeLensFactoryUpdated.bind(this)),this.closeDocumentDisposable=this.documentManager.onDidCloseTextDocument(this.onDocumentClosed.bind(this))}get codeLensUpdated(){return this.codeLensUpdatedEvent.event}get uri(){var e;return null===(e=this.document)||void 0===e?void 0:e.uri}getVersion(){return this.version}getCachedSettings(){return this.cachedSettings}getCodeLenses(){return this.codeLenses}async debugCurrentCell(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!1,!0)}dispose(){var e,t;this.codeLensUpdatedEvent.dispose(),null===(e=this.closeDocumentDisposable)||void 0===e||e.dispose(),null===(t=this.updateRequiredDisposable)||void 0===t||t.dispose()}async runAllCells(){const e=this.codeLenses.filter(e=>e.command&&e.command.command===v.Commands.RunCell&&e.command.arguments&&e.command.arguments.length>=5);let t=e.length;for(const n of e){let r=new a.Range(n.command.arguments[1],n.command.arguments[2],n.command.arguments[3],n.command.arguments[4]);if(this.document){t===e.length&&(r=new a.Range(new a.Position(0,0),r.end));const n=this.document.getText(r);t-=1;if(!await this.addCode(n,this.document.uri,r.start.line)){await this.addErrorMessage(this.document.uri,t);break}}}if(0===e.length)return this.runFileInteractiveInternal(!1)}async runFileInteractive(){return this.runFileInteractiveInternal(!1)}async debugFileInteractive(){return this.runFileInteractiveInternal(!0)}async runAllCellsAbove(e,t){const n=this.codeLenses.filter(e=>e.command&&e.command.command===v.Commands.RunCell);let r=n.findIndex(n=>n.range.start.line>=e&&n.range.start.character>=t);r<0&&(r=n.length);const i=r;for(const e of n){if(!(r>0&&this.document))break;{let t=new a.Range(e.range.start,e.range.end);r===i&&(t=new a.Range(new a.Position(0,0),t.end)),r-=1;const n=this.document.getText(t);if(!await this.addCode(n,this.document.uri,e.range.start.line)){await this.addErrorMessage(this.document.uri,r);break}}}}async runCellAndAllBelow(e,t){const n=this.codeLenses.filter(e=>e.command&&e.command.command===v.Commands.RunCell),r=n.findIndex(n=>n.range.start.line>=e&&n.range.start.character>=t);let i=r>0?n.length-r:n.length;for(let e=r;e>=0&&e<n.length;e+=1)if(i>0&&this.document){const t=n[e];i-=1;const r=this.document.getText(t.range);if(!await this.addCode(r,this.document.uri,t.range.start.line)){await this.addErrorMessage(this.document.uri,i);break}}}async runSelectionOrLine(e,t){if(this.document&&e&&this.fs.arePathsSame(e.document.uri,this.document.uri)){let n;if(n=void 0===t||h.isUri(t)?await this.executionHelper.getSelectedTextToExecute(e):t,!n)return;const r=await this.executionHelper.normalizeLines(n);if(!r||0===r.trim().length)return;await this.addCode(r,this.document.uri,e.selection.start.line,e)}}async runToLine(e){if(this.document&&e>0){const t=this.document.lineAt(e-1),n=this.document.getText(new a.Range(0,0,t.range.end.line,t.range.end.character));n&&n.trim().length&&await this.addCode(n,this.document.uri,0)}}async runFromLine(e){if(this.document&&e<this.document.lineCount){const t=this.document.lineAt(this.document.lineCount-1),n=this.document.getText(new a.Range(e,0,t.range.end.line,t.range.end.character));n&&n.trim().length&&await this.addCode(n,this.document.uri,e)}}async runCell(e){if(!this.documentManager.activeTextEditor||!this.documentManager.activeTextEditor.document)return;const t=e.contains(this.documentManager.activeTextEditor.selection.start)&&this.configService.getSettings(this.documentManager.activeTextEditor.document.uri).enableAutoMoveToNextCell;return this.runMatchingCell(e,t)}async debugCell(e){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(e,!1,!0)}async runCurrentCell(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!1)}async runCurrentCellAndAdvance(){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document)return this.runMatchingCell(this.documentManager.activeTextEditor.selection,!0)}async addEmptyCellToBottom(){const e=this.documentManager.activeTextEditor;e&&this.insertCell(e,e.document.lineCount+1)}async runCurrentCellAndAddBelow(){if(!this.documentManager.activeTextEditor||!this.documentManager.activeTextEditor.document)return;const e=this.documentManager.activeTextEditor,t=new g.CellMatcher;let n=0;const r=this.getDefaultCellMarker(e.document.uri);e&&e.edit(i=>{let o=!0;for(let s=e.selection.end.line+1;s<e.document.lineCount;s+=1)if(t.isCell(e.document.lineAt(s).text)){o=!1,n=s,i.insert(new a.Position(s,0),r+"\n\n");break}o&&(n=e.document.lineCount,i.insert(new a.Position(e.document.lineCount,0),`\n${r}\n`))});const i=new a.Position(n+1,0);return this.runMatchingCell(e.selection,!1).then(()=>this.advanceToRange(new a.Range(i,i)))}insertCellBelowPosition(){const e=this.documentManager.activeTextEditor;e&&e.selection&&this.insertCell(e,e.selection.end.line+1)}insertCellBelow(){const e=this.documentManager.activeTextEditor;if(e&&e.selection){const t=this.getCellFromPosition(e.selection.end);t?this.insertCell(e,t.range.end.line+1):this.insertCell(e,e.selection.end.line+1)}}insertCellAbove(){const e=this.documentManager.activeTextEditor;if(e&&e.selection){const t=this.getCellFromPosition(e.selection.start);t?this.insertCell(e,t.range.start.line):this.insertCell(e,e.selection.start.line)}}deleteCells(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=this.getStartEndCells(e.selection);if(!t)return;const n=t[0],r=t[1];let i=0,o=0,s=r.range.end.line+1,c=0;n.range.start.line>0&&(i=n.range.start.line-1,o=e.document.lineAt(i).range.end.character,s=r.range.end.line,c=r.range.end.character);const l=new a.Range(new a.Position(i,o),new a.Position(s,c));e.edit(e=>{e.replace(l,""),this.codeLensUpdatedEvent.fire()})}selectCell(){const e=this.documentManager.activeTextEditor;if(e&&e.selection){const t=this.getStartEndCells(e.selection);if(t){const n=t[0],r=t[1];e.selection.anchor.isBeforeOrEqual(e.selection.active)?e.selection=new a.Selection(n.range.start,r.range.end):e.selection=new a.Selection(r.range.end,n.range.start)}}}selectCellContents(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=this.getStartEndCellIndex(e.selection);if(!t)return;const n=t[0],r=t[1],i=e.selection.anchor.isBeforeOrEqual(e.selection.active),o=this.cells,s=[];for(let t=n;t<=r;t+=1){const n=o[t];let r=n.range.start.line+1,c=0,l=n.range.end.line,u=n.range.end.character;n.range.start.line===n.range.end.line&&(r=n.range.start.line,c=e.document.lineAt(r).range.end.character,l=r,u=c),i?s.push(new a.Selection(r,c,l,u)):s.push(new a.Selection(l,u,r,c))}e.selections=s}extendSelectionByCellAbove(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getStartEndCellIndex(e.selection);if(!n)return;const r=e.selection.anchor.isBefore(e.selection.active),i=this.cells,o=n[0],s=n[1],c=i[o],l=i[s];if(c.range.start.isEqual(t.start)&&l.range.end.isEqual(t.end)){let t;r&&o<s?(t=i[s-1],e.selection=new a.Selection(c.range.start,t.range.end)):o>0&&(t=i[o-1],e.selection=new a.Selection(l.range.end,t.range.start)),t&&e.revealRange(t.range,a.TextEditorRevealType.Default)}else{let t;t=r?o<s?new a.Selection(c.range.start,i[s-1].range.end):new a.Selection(c.range.end,c.range.start):new a.Selection(l.range.end,c.range.start),e.selection=t}}extendSelectionByCellBelow(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getStartEndCellIndex(e.selection);if(!n)return;const r=e.selection.anchor.isBeforeOrEqual(e.selection.active),i=this.cells,o=n[0],s=n[1],c=i[o],l=i[s];if(c.range.start.isEqual(t.start)&&l.range.end.isEqual(t.end)){let t;r||o===s?s<i.length-1&&(t=i[s+1],e.selection=new a.Selection(c.range.start,t.range.end)):o<s&&(t=i[o+1],e.selection=new a.Selection(l.range.end,t.range.start)),t&&e.revealRange(t.range,a.TextEditorRevealType.Default)}else{let t;t=r?new a.Selection(c.range.start,l.range.end):o<s?new a.Selection(i[o+1].range.start,l.range.end):new a.Selection(l.range.start,l.range.end),e.selection=t}}async moveCellsUp(){await this.moveCellsDirection(!0)}async moveCellsDown(){await this.moveCellsDirection(!1)}changeCellToMarkdown(){this.applyToCells((e,t,n)=>this.changeCellTo(e,t,"markdown"))}changeCellToCode(){this.applyToCells((e,t,n)=>this.changeCellTo(e,t,"code"))}gotoNextCell(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getCurrentCellLens(t.start),r=this.getNextCellLens(t.start);n&&r&&this.advanceToRange(r.range)}gotoPreviousCell(){const e=this.documentManager.activeTextEditor;if(!e||!e.selection)return;const t=e.selection,n=this.getCurrentCellLens(t.start),r=this.getPreviousCellLens(t.start);n&&r&&this.advanceToRange(r.range)}applyToCells(e){const t=this.documentManager.activeTextEditor,n=this.getStartEndCellIndex(null==t?void 0:t.selection);if(!t||!n)return;const r=this.cells,i=n[0],o=n[1];for(let n=i;n<=o;n+=1)e(t,r[n],n)}changeCellTo(e,t,n){if("raw"===n)throw Error("Cell Type raw not implemented");if(t.cell_type===n)return;const r=new g.CellMatcher(this.configService.getSettings(e.document.uri)),i=e.document.lineAt(t.range.start.line),o=e.document.getText(i.range),s=this.getDefaultCellMarker(e.document.uri),c="markdown"===n?r.codeExecRegEx.exec(o):r.markdownExecRegEx.exec(o);if(!c)return;const l=c[c.length-1],u="markdown"===n?`${s} [markdown]${l}`:`${s}${l}`;e.edit(async r=>{r.replace(i.range,u),t.cell_type=n,t.range.start.line<t.range.end.line&&(e.selection=new a.Selection(t.range.start.line+1,0,t.range.end.line,t.range.end.character),a.commands.executeCommand("editor.action.removeCommentLine"),"markdown"===n&&a.commands.executeCommand("editor.action.addCommentLine"))})}async moveCellsDirection(e){const t=this.documentManager.activeTextEditor;if(!t||!t.selection)return!1;const n=this.getStartEndCellIndex(t.selection);if(!n)return!1;const r=n[0],i=n[1],o=this.cells,s=o[r],c=o[i];if(!s||!c)return!1;const l=new a.Range(s.range.start,c.range.end),u=new a.Range(t.selection.start.line-l.start.line,t.selection.start.character,t.selection.end.line-l.start.line,t.selection.end.character),d=t.selection.active.isBefore(t.selection.anchor);let h;if(e){if(0===r)return!1;{const e=o[r-1];h=this.exchangeTextLines(t,e.range,l).then(n=>(n&&(t.selection=new a.Selection(e.range.start.line+u.start.line,u.start.character,e.range.start.line+u.end.line,u.end.character)),n))}}else{if(i===o.length-1)return!1;{const e=o[i+1],n=this.exchangeTextLines(t,l,e.range),r=e.range.end.line-e.range.start.line-(l.end.line-l.start.line);h=n.then(n=>(n&&(t.selection=new a.Selection(e.range.start.line+r+u.start.line,u.start.character,e.range.start.line+r+u.end.line,u.end.character)),n))}}return h.then(e=>(e&&d&&(t.selection=new a.Selection(t.selection.active,t.selection.anchor)),!0))}exchangeTextLines(e,t,n){const r=t.start.line,i=t.end.line,o=n.start.line,s=n.end.line;if(i>=o)throw RangeError(`Above lines must be fully above not ${i} <= ${o}`);const c=new a.Range(r,0,i,e.document.lineAt(i).range.end.character),l=e.document.getText(c),u=new a.Range(o,0,s,e.document.lineAt(s).range.end.character),d=e.document.getText(u);let h="";if(i+1<o){const t=i+1,n=o-1,r=new a.Range(t,0,n,e.document.lineAt(n).range.end.character);h=e.document.getText(r)+"\n"}const p=`${d}\n${h}${l}`,f=new a.Range(c.start,u.end);return e.edit(e=>{e.replace(f,p),this.codeLensUpdatedEvent.fire()})}getStartEndCells(e){const t=this.getStartEndCellIndex(e);if(t){return[this.getCellFromIndex(t[0]),this.getCellFromIndex(t[1])]}}getStartEndCellIndex(e){if(!e)return;let t=this.getCellIndex(e.start),n=t;if(e.start.line!==e.end.line&&(n=this.getCellIndex(e.end)),-1===t){if(-1===n)return;{t=0;const n=this.getCellFromIndex(0);if(e.start.line>n.range.start.line)throw RangeError(`Should not be able to pick a range with an end in a cell and start after a cell. ${e.start.line} > ${n.range.end.line}`)}}return t>=0&&n>=0?[t,n]:void 0}insertCell(e,t){const n=this.getDefaultCellMarker(e.document.uri);let r=n+"\n\n";t>=e.document.lineCount&&(r=`\n${n}\n`);const i=new a.Position(t,0),o=new a.Position(t+1,0);e.edit(e=>{e.insert(i,r),this.codeLensUpdatedEvent.fire()}),e.selection=new a.Selection(o,o)}getDefaultCellMarker(e){return this.configService.getSettings(e).defaultCellMarker||v.Identifiers.DefaultCodeCellMarker}onCodeLensFactoryUpdated(){this.document&&(this.codeLenses=this.codeLensFactory.createCodeLenses(this.document),this.cells=this.codeLensFactory.getCellRanges(this.document)),this.codeLensUpdatedEvent.fire()}onDocumentClosed(e){var t,n;this.document&&this.fs.arePathsSame(e.uri,this.document.uri)&&(this.codeLensUpdatedEvent.dispose(),null===(t=this.closeDocumentDisposable)||void 0===t||t.dispose(),null===(n=this.updateRequiredDisposable)||void 0===n||n.dispose())}async addCode(e,t,n,r,i){let o=!1;try{const s=new p.StopWatch,a=await this.interactiveWindowProvider.getOrCreate(t);o=i?await a.debugCode(e,t,n,r):await a.addCode(e,t,n,r),this.sendPerceivedCellExecute(s)}catch(e){await this.dataScienceErrorHandler.handleError(e)}return o}async addErrorMessage(e,t){if(t>0){const n=d.DataScience.cellStopOnErrorFormatMessage().format(t.toString());try{return(await this.interactiveWindowProvider.getOrCreate(e)).addMessage(n)}catch(e){await this.dataScienceErrorHandler.handleError(e)}}}sendPerceivedCellExecute(e){e&&(r.sentExecuteCellTelemetry?f.sendTelemetryEvent(v.Telemetry.ExecuteCellPerceivedWarm,e.elapsedTime):(r.sentExecuteCellTelemetry=!0,f.sendTelemetryEvent(v.Telemetry.ExecuteCellPerceivedCold,e.elapsedTime)))}async runMatchingCell(e,t,n){const r=this.getCurrentCellLens(e.start),i=this.getNextCellLens(e.start);if(r){if(t)if(i)this.advanceToRange(i.range);else{const e=this.documentManager.activeTextEditor;e&&this.insertCell(e,r.range.end.line+1)}if(this.document){const e=this.document.getText(r.range);await this.addCode(e,this.document.uri,r.range.start.line,this.documentManager.activeTextEditor,n)}}}getCellIndex(e){return this.cells.findIndex(t=>e&&t.range.contains(e))}getCellFromIndex(e){const t=this.cells;return t[function(e,t){if(t<=0)throw new RangeError("Length must be > 0 not "+t);return e<0&&(e+=t),e<0?0:e>=t?t-1:e}(e,t.length)]}getCellFromPosition(e){if(!e){const t=this.documentManager.activeTextEditor;t&&t.selection&&(e=t.selection.active)}if(e){const t=this.getCellIndex(e);if(t>=0)return this.cells[t]}}getCurrentCellLens(e){return this.codeLenses.find(t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===v.Commands.RunCell)}getNextCellLens(e){const t=this.codeLenses.findIndex(t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===v.Commands.RunCell);if(t>=0)return this.codeLenses.find((e,n)=>void 0!==e.command&&e.command.command===v.Commands.RunCell&&n>t)}getPreviousCellLens(e){const t=this.codeLenses.findIndex(t=>t.range.contains(e)&&void 0!==t.command&&t.command.command===v.Commands.RunCell);if(t>=1)return this.codeLenses.find((e,n)=>void 0!==e.command&&n<t&&n+1===t)}async runFileInteractiveInternal(e){if(this.document){const t=this.document.getText();await this.addCode(t,this.document.uri,0,void 0,e)}}advanceToRange(e){const t=this.documentManager.activeTextEditor,n=new a.Selection(e.start,e.start);t&&(t.selection=n,t.revealRange(e,a.TextEditorRevealType.Default))}};b.sentExecuteCellTelemetry=!1,i([f.captureTelemetry(v.Telemetry.DebugCurrentCell)],b.prototype,"debugCurrentCell",null),i([f.captureTelemetry(v.Telemetry.RunAllCells)],b.prototype,"runAllCells",null),i([f.captureTelemetry(v.Telemetry.RunFileInteractive)],b.prototype,"runFileInteractive",null),i([f.captureTelemetry(v.Telemetry.DebugFileInteractive)],b.prototype,"debugFileInteractive",null),i([f.captureTelemetry(v.Telemetry.RunAllCellsAbove)],b.prototype,"runAllCellsAbove",null),i([f.captureTelemetry(v.Telemetry.RunCellAndAllBelow)],b.prototype,"runCellAndAllBelow",null),i([f.captureTelemetry(v.Telemetry.RunSelectionOrLine)],b.prototype,"runSelectionOrLine",null),i([f.captureTelemetry(v.Telemetry.RunToLine)],b.prototype,"runToLine",null),i([f.captureTelemetry(v.Telemetry.RunFromLine)],b.prototype,"runFromLine",null),i([f.captureTelemetry(v.Telemetry.RunCell)],b.prototype,"runCell",null),i([f.captureTelemetry(v.Telemetry.DebugCurrentCell)],b.prototype,"debugCell",null),i([f.captureTelemetry(v.Telemetry.RunCurrentCell)],b.prototype,"runCurrentCell",null),i([f.captureTelemetry(v.Telemetry.RunCurrentCellAndAdvance)],b.prototype,"runCurrentCellAndAdvance",null),i([f.captureTelemetry(v.Telemetry.RunCurrentCellAndAddBelow)],b.prototype,"runCurrentCellAndAddBelow",null),i([f.captureTelemetry(v.Telemetry.InsertCellBelowPosition)],b.prototype,"insertCellBelowPosition",null),i([f.captureTelemetry(v.Telemetry.InsertCellBelow)],b.prototype,"insertCellBelow",null),i([f.captureTelemetry(v.Telemetry.InsertCellAbove)],b.prototype,"insertCellAbove",null),i([f.captureTelemetry(v.Telemetry.DeleteCells)],b.prototype,"deleteCells",null),i([f.captureTelemetry(v.Telemetry.SelectCell)],b.prototype,"selectCell",null),i([f.captureTelemetry(v.Telemetry.SelectCellContents)],b.prototype,"selectCellContents",null),i([f.captureTelemetry(v.Telemetry.ExtendSelectionByCellAbove)],b.prototype,"extendSelectionByCellAbove",null),i([f.captureTelemetry(v.Telemetry.ExtendSelectionByCellBelow)],b.prototype,"extendSelectionByCellBelow",null),i([f.captureTelemetry(v.Telemetry.MoveCellsUp)],b.prototype,"moveCellsUp",null),i([f.captureTelemetry(v.Telemetry.MoveCellsDown)],b.prototype,"moveCellsDown",null),i([f.captureTelemetry(v.Telemetry.ChangeCellToMarkdown)],b.prototype,"changeCellToMarkdown",null),i([f.captureTelemetry(v.Telemetry.ChangeCellToCode)],b.prototype,"changeCellToCode",null),i([f.captureTelemetry(v.Telemetry.GotoNextCellInFile)],b.prototype,"gotoNextCell",null),i([f.captureTelemetry(v.Telemetry.GotoPrevCellInFile)],b.prototype,"gotoPreviousCell",null),b=r=i([s.injectable(),o(0,s.inject(y.IInteractiveWindowProvider)),o(1,s.inject(l.IFileSystem)),o(2,s.inject(u.IConfigurationService)),o(3,s.inject(c.IDocumentManager)),o(4,s.inject(m.ICodeExecutionHelper)),o(5,s.inject(y.IDataScienceErrorHandler)),o(6,s.inject(y.ICodeLensFactory))],b),t.CodeWatcher=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Decorator=void 0;const o=n(0),s=n(1),a=n(26),c=n(7),l=n(14),u=n(3),d=n(133);let h=class{constructor(e,t,n,r){this.documentManager=e,this.configuration=n,this.extensionChecker=r,this.computeDecorations(),t.push(this),t.push(this.configuration.getSettings(void 0).onDidChange(this.settingsChanged,this)),t.push(this.documentManager.onDidChangeActiveTextEditor(this.changedEditor,this)),t.push(this.documentManager.onDidChangeTextEditorSelection(this.changedSelection,this)),t.push(this.documentManager.onDidChangeTextDocument(this.changedDocument,this)),this.settingsChanged()}activate(){return Promise.resolve()}dispose(){this.timer&&clearTimeout(this.timer)}settingsChanged(){this.documentManager.activeTextEditor&&this.triggerUpdate(this.documentManager.activeTextEditor)}changedEditor(){this.triggerUpdate(void 0)}changedDocument(e){this.documentManager.activeTextEditor&&e.document===this.documentManager.activeTextEditor.document&&this.triggerUpdate(this.documentManager.activeTextEditor)}changedSelection(e){e.textEditor&&e.textEditor.selection.anchor&&this.triggerUpdate(e.textEditor)}triggerUpdate(e){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>this.update(e),100)}computeDecorations(){this.currentCellTopUnfocused=this.documentManager.createTextEditorDecorationType({borderColor:new s.ThemeColor("interactive.inactiveCodeBorder"),borderWidth:"2px 0px 0px 0px",borderStyle:"solid",isWholeLine:!0}),this.currentCellBottomUnfocused=this.documentManager.createTextEditorDecorationType({borderColor:new s.ThemeColor("interactive.inactiveCodeBorder"),borderWidth:"0px 0px 1px 0px",borderStyle:"solid",isWholeLine:!0}),this.currentCellTop=this.documentManager.createTextEditorDecorationType({borderColor:new s.ThemeColor("interactive.activeCodeBorder"),borderWidth:"2px 0px 0px 0px",borderStyle:"solid",isWholeLine:!0}),this.currentCellBottom=this.documentManager.createTextEditorDecorationType({borderColor:new s.ThemeColor("interactive.activeCodeBorder"),borderWidth:"0px 0px 1px 0px",borderStyle:"solid",isWholeLine:!0})}update(e){const t=void 0===e?this.documentManager.visibleTextEditors:[e];for(const e of t)if(e&&e.document&&e.document.languageId===l.PYTHON_LANGUAGE&&void 0===e.document.notebook&&this.currentCellTop&&this.currentCellBottom&&this.currentCellTopUnfocused&&this.currentCellBottomUnfocused&&this.extensionChecker.isPythonExtensionInstalled){const t=this.configuration.getSettings(e.document.uri);if(t.decorateCells){const n=d.generateCellRangesFromDocument(e.document,t).map(e=>e.range).filter(t=>t.contains(e.selection.anchor)),r=n.length>0?[new s.Range(n[0].start,n[0].start)]:[],i=n.length>0?[new s.Range(n[0].end,n[0].end)]:[];this.documentManager.activeTextEditor===e?(e.setDecorations(this.currentCellTop,r),e.setDecorations(this.currentCellBottom,i),e.setDecorations(this.currentCellTopUnfocused,[]),e.setDecorations(this.currentCellBottomUnfocused,[])):(e.setDecorations(this.currentCellTop,[]),e.setDecorations(this.currentCellBottom,[]),e.setDecorations(this.currentCellTopUnfocused,r),e.setDecorations(this.currentCellBottomUnfocused,i))}else e.setDecorations(this.currentCellTop,[]),e.setDecorations(this.currentCellBottom,[]),e.setDecorations(this.currentCellTopUnfocused,[]),e.setDecorations(this.currentCellBottomUnfocused,[])}}};h=r([o.injectable(),i(0,o.inject(c.IDocumentManager)),i(1,o.inject(u.IDisposableRegistry)),i(2,o.inject(u.IConfigurationService)),i(3,o.inject(a.IPythonExtensionChecker))],h),t.Decorator=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HoverProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(37),l=n(14),u=n(4),d=n(16),h=n(3),p=n(19),f=n(32),m=n(8),g=n(5),v=n(237),y=n(56),b=n(100),_=n(13);let w=class{constructor(e,t,n,r,i,o){this.variableProvider=e,this.interactiveProvider=t,this.fs=n,this.notebook=r,this.kernelProvider=o,this.runFiles=new Set,this.stopWatch=new f.StopWatch,r.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,i),o.onDidRestartKernel(()=>this.runFiles.clear(),this,i)}dispose(){this.hoverProviderRegistration&&this.hoverProviderRegistration.dispose()}async onDidChangeNotebookCellExecutionState(e){try{if(e.cell.notebook.notebookType!==b.InteractiveWindowView)return;const t=this.runFiles.size;this.runFiles.add(v.getInteractiveCellMetadata(e.cell).interactive.file.toLocaleLowerCase()),t!==this.runFiles.size&&await this.initializeHoverProvider()}catch(e){u.traceError(e)}}async provideHover(e,t,n){const r=p.sleep(300).then(()=>{});this.stopWatch.reset();const i=await Promise.race([r,this.getVariableHover(e,t,n)]);return m.sendTelemetryEvent(g.Telemetry.InteractiveFileTooltipsPerf,this.stopWatch.elapsedTime,{isResultNull:!!i}),i}async initializeHoverProvider(){this.hoverProviderRegistration||(this.hoverProviderRegistration=s.languages.registerHoverProvider(l.PYTHON,this))}getVariableHover(e,t,n){return c.Cancellation.race(async n=>{const r=e.getWordRangeAtPosition(t);if(r){const t=e.getText(r);if(t){const r=this.getMatchingNotebooks(e);if(r.length){const e=await Promise.race(r.map(e=>this.variableProvider.getVariableProperties(t,e,n))),i=Object.entries(e);if(i.length>0){const e=i.reduce((e,t)=>e+`${t[0]}: ${t[1]}\n`,"```\n")+"```";return{contents:[new s.MarkdownString(e)]}}}}}},n)}getMatchingNotebooks(e){let t=this.interactiveProvider.windows.filter(t=>t.owner&&this.fs.arePathsSame(t.owner,e.uri)).map(e=>{var t;return null===(t=e.notebookUri)||void 0===t?void 0:t.toString()});if(!Array.isArray(t)||0==t.length)return[];const n=new Set;return this.notebook.notebookDocuments.filter(e=>t.includes(e.uri.toString())).forEach(e=>{const t=this.kernelProvider.get(e);(null==t?void 0:t.notebook)&&n.add(null==t?void 0:t.notebook)}),Array.from(n)}};w=r([o.injectable(),i(0,o.inject(_.IJupyterVariables)),i(0,o.named(g.Identifiers.KERNEL_VARIABLES)),i(1,o.inject(_.IInteractiveWindowProvider)),i(2,o.inject(d.IFileSystem)),i(3,o.inject(a.IVSCodeNotebook)),i(4,o.inject(h.IDisposableRegistry)),i(5,o.inject(y.IKernelProvider))],w),t.HoverProvider=w},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getKernelNotInstalledErrorMessage=t.DataScienceErrorHandler=void 0;const o=n(0),s=n(7),a=n(29),c=n(4),l=n(3),u=n(10),d=n(9),h=n(40),p=n(8),f=n(68),m=n(5),g=n(196),v=n(325),y=n(504),b=n(22),_=n(197),w=n(74),S=n(24),E=n(505),x=n(13);let C=class{constructor(e,t,n,r){this.applicationShell=e,this.dependencyManager=t,this.serverSelector=n,this.serviceContainer=r}async handleError(e){var t,n,r,i;if(e instanceof a.WrappedError&&e.originalException&&e.originalException instanceof a.BaseError&&(e=e.originalException),e instanceof g.JupyterInstallError)await this.dependencyManager.installMissingDependencies(e);else if(e instanceof y.JupyterZMQBinariesNotFoundError)await this.showZMQError(e);else if(e instanceof v.JupyterSelfCertsError)d.noop();else if(e instanceof w.IpyKernelNotInstalledError)d.noop();else if(e instanceof E.KernelSpecNotFoundError&&b.isLocalLaunch(this.serviceContainer.get(l.IConfigurationService))&&await this.doesNotHaveAnyKernel()){const o=b.getLanguageInNotebookMetadata(e.notebookMetadata);if(S.isPythonNotebook(e.notebookMetadata)||!o)p.sendTelemetryEvent(m.Telemetry.PythonNotInstalled,void 0,{action:"displayed"}),this.applicationShell.showErrorMessage(u.DataScience.pythonNotInstalled(),u.Common.download()).then(e=>{e===u.Common.download()?(p.sendTelemetryEvent(m.Telemetry.PythonNotInstalled,void 0,{action:"download"}),this.applicationShell.openUrl("https://www.python.org/downloads")):p.sendTelemetryEvent(m.Telemetry.PythonNotInstalled,void 0,{action:"dismissed"})},d.noop);else{p.sendTelemetryEvent(m.Telemetry.KernelNotInstalled,void 0,{action:"displayed",language:f.getTelemetrySafeLanguage(o)});const s=(null===(n=null===(t=e.notebookMetadata)||void 0===t?void 0:t.kernelspec)||void 0===n?void 0:n.display_name)||(null===(i=null===(r=e.notebookMetadata)||void 0===r?void 0:r.kernelspec)||void 0===i?void 0:i.name)||o;this.applicationShell.showErrorMessage(u.DataScience.kernelNotInstalled().format(s)).then(d.noop,d.noop)}}else e.message?this.applicationShell.showErrorMessage(e.message).then(d.noop,d.noop):this.applicationShell.showErrorMessage(e.toString()).then(d.noop,d.noop);c.traceError("DataScience Error",e)}async doesNotHaveAnyKernel(){const e=this.serviceContainer.get(w.ILocalKernelFinder);return 0===(await e.listKernels(void 0).catch(()=>[])).length}async showZMQError(e){const t=u.DataScience.selectNewServer();this.applicationShell.showErrorMessage(u.DataScience.nativeDependencyFail().format(e.toString()),t).then(e=>{e===t&&this.serverSelector.selectJupyterURI(!1).ignoreErrors()},d.noop)}};C=r([o.injectable(),i(0,o.inject(s.IApplicationShell)),i(1,o.inject(x.IJupyterInterpreterDependencyManager)),i(2,o.inject(_.JupyterServerSelector)),i(3,o.inject(h.IServiceContainer))],C),t.DataScienceErrorHandler=C,t.getKernelNotInstalledErrorMessage=function(e){var t,n;const r=b.getLanguageInNotebookMetadata(e);if(S.isPythonNotebook(e)||!r)return u.DataScience.pythonNotInstalled();{const i=(null===(t=null==e?void 0:e.kernelspec)||void 0===t?void 0:t.display_name)||(null===(n=null==e?void 0:e.kernelspec)||void 0===n?void 0:n.name)||r;return u.DataScience.kernelNotInstalled().format(i)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDialog=t.PythonExtensions=t.HTMLExtensions=t.PDFExtensions=void 0;const o=n(0),s=n(6),a=n(1),c=n(7),l=n(10),u=n(145),d=n(90);t.PDFExtensions={PDF:["pdf"]},t.HTMLExtensions={HTML:["html","htm"]},t.PythonExtensions={Python:["py"]};let h=class{constructor(e,t){this.applicationShell=e,this.workspaceService=t}async showDialog(e,n,r){let i,o={};switch(e){case d.ExportFormat.python:o=t.PythonExtensions,i=".py";break;case d.ExportFormat.pdf:i=".pdf",o=t.PDFExtensions;break;case d.ExportFormat.html:i=".html",o=t.HTMLExtensions;break;case d.ExportFormat.ipynb:i=".ipynb";o[l.DataScience.exportDialogFilter()]=["ipynb"];break;default:return}const a=r||!n?r||"":`${s.basename(n.fsPath,s.extname(n.fsPath))}${i}`,c={defaultUri:await this.getDefaultUri(n,a),saveLabel:l.DataScience.exportButtonTitle(),filters:o};return this.applicationShell.showSaveDialog(c)}async getDefaultUri(e,t){if(!e||"file"===e.scheme||"untitled"===e.scheme||"vscode-interactive"===e.scheme)return a.Uri.file(s.join(await u.computeWorkingDirectory(e,this.workspaceService),t));const n=s.join(s.dirname(e.path),t);return a.Uri.parse(`${e.scheme}://${n}`)}};h=r([o.injectable(),i(0,o.inject(c.IApplicationShell)),i(1,o.inject(c.IWorkspaceService))],h),t.ExportDialog=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserMessageForAction=void 0;const r=n(10),i=n(119),o={[i.ReportableAction.JupyterSessionWaitForIdleSession]:r.DataScience.waitingForJupyterSessionToBeIdle(),[i.ReportableAction.KernelsGetKernelForLocalConnection]:r.DataScience.gettingListOfKernelsForLocalConnection(),[i.ReportableAction.KernelsGetKernelForRemoteConnection]:r.DataScience.gettingListOfKernelsForRemoteConnection(),[i.ReportableAction.KernelsGetKernelSpecs]:r.DataScience.gettingListOfKernelSpecs(),[i.ReportableAction.KernelsRegisterKernel]:r.DataScience.registeringKernel(),[i.ReportableAction.NotebookConnect]:r.DataScience.connectingToJupyter(),[i.ReportableAction.NotebookStart]:r.DataScience.startingJupyterNotebook(),[i.ReportableAction.RawKernelConnecting]:r.DataScience.rawKernelConnectingSession(),[i.ReportableAction.CheckingIfImportIsSupported]:r.DataScience.checkingIfImportIsSupported(),[i.ReportableAction.InstallingMissingDependencies]:r.DataScience.installingMissingDependencies(),[i.ReportableAction.ExportNotebookToPython]:r.DataScience.exportNotebookToPython(),[i.ReportableAction.PerformingExport]:r.DataScience.performingExport(),[i.ReportableAction.ConvertingToPDF]:r.DataScience.convertingToPDF()};t.getUserMessageForAction=function(e){return o[e]}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportManager=void 0;const o=n(0),s=n(6),a=n(1),c=n(7),l=n(4),u=n(16),d=n(10),h=n(8),p=n(5),f=n(149),m=n(506),g=n(507),v=n(508),y=n(90);let b=class{constructor(e,t,n,r,i,o,s,a,c,l){this.exportToPDF=e,this.exportToHTML=t,this.exportToPython=n,this.fs=r,this.filePicker=i,this.progressReporter=o,this.exportUtil=s,this.applicationShell=a,this.exportFileOpener=c,this.exportInterpreterFinder=l}async export(e,t,n,r,i){let o;try{const s=await this.exportInterpreterFinder.getExportInterpreter(e,i);if(o=await this.getTargetFile(e,n,r),!o)return;await this.performExport(e,t,o,s)}catch(t){l.traceError("Export failed",t),h.sendTelemetryEvent(p.Telemetry.ExportNotebookAsFailed,void 0,{format:e}),e===y.ExportFormat.pdf&&l.traceError(d.DataScience.exportToPDFDependencyMessage()),this.showExportFailed(d.DataScience.exportFailedGeneralMessage())}}async performExport(e,t,n,r){const i=await this.exportUtil.generateTempDir(),o=await this.makeSourceFile(n,t,i),s=this.progressReporter.createProgressIndicator("Exporting to "+e,!0);try{await this.exportToFormat(o,n,e,r,s.token)}finally{i.dispose(),s.dispose()}s.token.isCancellationRequested?h.sendTelemetryEvent(p.Telemetry.ExportNotebookAs,void 0,{format:e,cancelled:!0}):await this.exportFileOpener.openFile(e,n)}async getTargetFile(e,t,n){let r;return r=e!==y.ExportFormat.python?await this.filePicker.showDialog(e,t,n):a.Uri.file((await this.fs.createTemporaryLocalFile(".py")).filePath),r}async makeSourceFile(e,t,n){const r=s.basename(e.fsPath,s.extname(e.fsPath)),i=await this.exportUtil.makeFileInDirectory(t,r+".ipynb",n.path);return a.Uri.file(i)}showExportFailed(e){this.applicationShell.showErrorMessage(`${d.DataScience.failedExportMessage()} ${e}`).then()}async exportToFormat(e,t,n,r,i){switch(n===y.ExportFormat.pdf&&await this.exportUtil.removeSvgs(e),n){case y.ExportFormat.python:await this.exportToPython.export(e,t,r,i);break;case y.ExportFormat.pdf:await this.exportToPDF.export(e,t,r,i);break;case y.ExportFormat.html:await this.exportToHTML.export(e,t,r,i)}}};b=r([o.injectable(),i(0,o.inject(y.IExport)),i(0,o.named(y.ExportFormat.pdf)),i(1,o.inject(y.IExport)),i(1,o.named(y.ExportFormat.html)),i(2,o.inject(y.IExport)),i(2,o.named(y.ExportFormat.python)),i(3,o.inject(u.IFileSystem)),i(4,o.inject(y.IExportDialog)),i(5,o.inject(f.ProgressReporter)),i(6,o.inject(v.ExportUtil)),i(7,o.inject(c.IApplicationShell)),i(8,o.inject(m.ExportFileOpener)),i(9,o.inject(g.ExportInterpreterFinder))],b),t.ExportManager=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToHTML=void 0;const i=n(0),o=n(238),s=n(90);let a=class extends o.ExportBase{async export(e,t,n,r){await this.executeCommand(e,t,s.ExportFormat.html,n,r)}};a=r([i.injectable()],a),t.ExportToHTML=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToPDF=void 0;const i=n(0),o=n(238),s=n(90);let a=class extends o.ExportBase{async export(e,t,n,r){await this.executeCommand(e,t,s.ExportFormat.pdf,n,r)}};a=r([i.injectable()],a),t.ExportToPDF=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExportToPython=void 0;const i=n(0),o=n(238);let s=class extends o.ExportBase{async export(e,t,n,r){if(r.isCancellationRequested)return;const i=await this.importer.importFromFile(e,n);await this.fs.writeFile(t,i)}};s=r([i.injectable()],s),t.ExportToPython=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookProvider=void 0;const o=n(0),s=n(1),a=n(26),c=n(7),l=n(4),u=n(3),d=n(9),h=n(5),p=n(55),f=n(13);let m=class{constructor(e,t,n,r,i,o){this.disposables=e,this.rawNotebookProvider=t,this.jupyterNotebookProvider=n,this.workspaceService=r,this.extensionChecker=i,this.configService=o,this.notebooks=new Map,this._notebookCreated=new s.EventEmitter,this._onSessionStatusChanged=new s.EventEmitter,this._connectionMade=new s.EventEmitter,this._potentialKernelChanged=new s.EventEmitter,this._type="jupyter",this.rawNotebookProvider.supported().then(e=>this._type=e?"raw":"jupyter").ignoreErrors()}get activeNotebooks(){return[...this.notebooks.values()]}get onSessionStatusChanged(){return this._onSessionStatusChanged.event}get onPotentialKernelChanged(){return this._potentialKernelChanged.event}get onNotebookCreated(){return this._notebookCreated.event}get onConnectionMade(){return this._connectionMade.event}get type(){return this._type}async disconnect(e){if(!await this.rawNotebookProvider.supported())return this.jupyterNotebookProvider.disconnect(e)}async connect(e){const t=this.configService.getSettings(void 0).jupyterServerType;return await this.rawNotebookProvider.supported()?this.rawNotebookProvider.connect({...e,onConnectionMade:this.fireConnectionMade.bind(this,e.disableUI)}):this.extensionChecker.isPythonExtensionInstalled||t===h.Settings.JupyterServerRemoteLaunch?this.jupyterNotebookProvider.connect({...e,onConnectionMade:this.fireConnectionMade.bind(this,e.disableUI)}):void(e.getOnly||await this.extensionChecker.showPythonExtensionInstallRequiredPrompt())}disposeAssociatedNotebook(e){const t=this.notebooks.get(e.identity.toString());t&&(this.notebooks.delete(e.identity.toString()),t.then(e=>e.dispose()).catch(e=>l.traceWarning("Failed to dispose notebook in disposeAssociatedNotebook",e)))}async getOrCreateNotebook(e){const t=await this.rawNotebookProvider.supported();if(this.notebooks.get(e.identity.toString()))return this.notebooks.get(e.identity.toString());const n=t?await this.rawNotebookProvider.getNotebook(e.identity,e.token):await this.jupyterNotebookProvider.getNotebook(e);if(n&&!n.disposed)return this.cacheNotebookPromise(e.identity,Promise.resolve(n)),n;if(e.getOnly)return;if(!t&&!await this.jupyterNotebookProvider.connect(e))return;let r=e.resource;e.identity.scheme!==h.Identifiers.HistoryPurpose||r||(r=this.workspaceService.hasWorkspaceFolders?this.workspaceService.workspaceFolders[0].uri:void 0),p.trackKernelResourceInformation(r,{kernelConnection:e.kernelConnection});const i=t?this.rawNotebookProvider.createNotebook(e.identity,r,e.disableUI,e.metadata,e.kernelConnection,e.token):this.jupyterNotebookProvider.createNotebook(e);return p.sendKernelTelemetryWhenDone(r,h.Telemetry.NotebookStart,i),this.cacheNotebookPromise(e.identity,i),i}firePotentialKernelChanged(e,t){this._potentialKernelChanged.fire({identity:e,kernelConnection:t})}fireConnectionMade(e){this._connectionMade.fire(e)}cacheNotebookPromise(e,t){this.notebooks.set(e.toString(),t);const n=()=>{this.notebooks.get(e.toString())===t&&this.notebooks.delete(e.toString())};t.then(t=>{t.onDisposed(n),t.onSessionStatusChanged(e=>this._onSessionStatusChanged.fire({status:e,notebook:t}),this,this.disposables),this._notebookCreated.fire({identity:e,notebook:t})}).catch(d.noop),t.catch(n)}};m=r([o.injectable(),i(0,o.inject(u.IDisposableRegistry)),i(1,o.inject(f.IRawNotebookProvider)),i(2,o.inject(f.IJupyterNotebookProvider)),i(3,o.inject(c.IWorkspaceService)),i(4,o.inject(a.IPythonExtensionChecker)),i(5,o.inject(u.IConfigurationService))],m),t.NotebookProvider=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookServerProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(37),l=n(4),u=n(3),d=n(10),h=n(9),p=n(33),f=n(8),m=n(5),g=n(196),v=n(325),y=n(504),b=n(197),_=n(149),w=n(13);let S=class{constructor(e,t,n,r,i,o,a){this.progressReporter=e,this.configuration=t,this.jupyterExecution=n,this.applicationShell=r,this.interpreterService=i,this.serverUriStorage=o,this.serverSelector=a,this.allowingUI=!1,this._notebookCreated=new s.EventEmitter}get onNotebookCreated(){return this._notebookCreated.event}async getOrCreateServer(e,t){const n=await this.getNotebookServerOptions(e);return e.getOnly||e.localOnly&&!n.uri?this.jupyterExecution.getServer(n):this.createServer(e,t).then(t=>(t&&e.onConnectionMade&&e.onConnectionMade(),t))}async createServer(e,t){this.allowingUI=!e.disableUI||this.allowingUI,this.serverPromise||(this.serverPromise=this.startServer(e,t));try{return await this.serverPromise}catch(e){throw this.serverPromise=void 0,e}}async startServer(e,t){const n=await this.getNotebookServerOptions(e);l.traceInfo("Checking for server existence."),n.uri===m.Settings.JupyterServerRemoteLaunch&&(await this.serverSelector.selectJupyterURI(!0),n.uri=await this.serverUriStorage.getUri());const r=this.allowingUI?await this.jupyterExecution.getServer(n)?this.progressReporter.createProgressIndicator(d.DataScience.connectingToJupyter()):this.progressReporter.createProgressIndicator(d.DataScience.startingJupyter()):void 0;try{l.traceInfo("Checking for server usability.");if(!await this.checkUsable(n))throw l.traceInfo("Server not usable (should ask for install now)"),new g.JupyterInstallError(d.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError()),d.DataScience.pythonInteractiveHelpLink());l.traceInfo("Starting notebook server.");const e=await this.jupyterExecution.connectToNotebookServer(n,c.wrapCancellationTokens(null==r?void 0:r.token,t));return l.traceInfo("Server started."),e}catch(e){if(null==r||r.dispose(),r&&r.token.isCancellationRequested&&e instanceof c.CancellationError)return;if(await this.jupyterExecution.refreshCommands(),e instanceof v.JupyterSelfCertsError){const t=d.DataScience.jupyterSelfCertEnable(),n=d.DataScience.jupyterSelfCertClose();throw this.applicationShell.showErrorMessage(d.DataScience.jupyterSelfCertFail().format(e.message),t,n).then(e=>{e===t?(f.sendTelemetryEvent(m.Telemetry.SelfCertsMessageEnabled),this.configuration.updateSetting("allowUnauthorizedRemoteConnection",!0,void 0,s.ConfigurationTarget.Workspace).ignoreErrors()):e===n&&f.sendTelemetryEvent(m.Telemetry.SelfCertsMessageClose)}).then(h.noop,h.noop),e}throw e}finally{null==r||r.dispose()}}async checkUsable(e){try{if(e&&!e.uri){return!!await this.jupyterExecution.getUsableJupyterPython()}return!0}catch(e){if(e instanceof y.JupyterZMQBinariesNotFoundError)throw e;const t=await this.interpreterService.getActiveInterpreter(void 0);if(t){const n=t.displayName?t.displayName:t.path;throw new Error(d.DataScience.jupyterNotSupportedBecauseOfEnvironment().format(n,e.toString()))}throw new g.JupyterInstallError(d.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError()),d.DataScience.pythonInteractiveHelpLink())}}async getNotebookServerOptions(e){let t=await this.serverUriStorage.getUri();const n=this.configuration.getSettings(void 0).useDefaultConfigForJupyter;return t&&t.toLowerCase()===m.Settings.JupyterServerLocalLaunch&&(t=void 0),{uri:t,resource:e.resource,skipUsingDefaultConfig:!n,purpose:m.Identifiers.HistoryPurpose,kernelConnection:e.kernelConnection,metadata:e.metadata,allowUI:this.allowUI.bind(this)}}allowUI(){return this.allowingUI}};S=r([o.injectable(),i(0,o.inject(_.ProgressReporter)),i(1,o.inject(u.IConfigurationService)),i(2,o.inject(w.IJupyterExecution)),i(3,o.inject(a.IApplicationShell)),i(4,o.inject(p.IInterpreterService)),i(5,o.inject(w.IJupyterServerUriStorage)),i(6,o.inject(b.JupyterServerSelector))],S),t.NotebookServerProvider=S},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookUsageTracker=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(9),u=n(8),d=n(5),h=n(24);let p=class{constructor(e,t,n){this.vscNotebook=e,this.workspace=t,this.disposables=n,this._onDidChangeActiveNotebookEditor=new s.EventEmitter,this._onDidOpenNotebookEditor=new s.EventEmitter,this.executedNotebooksIndexedByUri=new Set,this.notebookCount=0,this.openedNotebookCount=0}async activate(){const e=this.workspace.findFiles("**/*.ipynb");e&&e.then&&e.then(e=>this.notebookCount+=e.length,l.noop),this.vscNotebook.onDidOpenNotebookDocument(this.onEditorOpened,this,this.disposables),this.vscNotebook.onDidChangeNotebookCellExecutionState(e=>{h.isJupyterNotebook(e.cell.notebook)&&e.state!==s.NotebookCellExecutionState.Idle&&this.executedNotebooksIndexedByUri.add(e.cell.notebook.uri.fsPath)},this,this.disposables),s.notebooks.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,this.disposables)}dispose(){this.openedNotebookCount&&u.sendTelemetryEvent(d.Telemetry.NotebookOpenCount,void 0,{count:this.openedNotebookCount}),this.executedNotebooksIndexedByUri.size&&u.sendTelemetryEvent(d.Telemetry.NotebookRunCount,void 0,{count:this.executedNotebooksIndexedByUri.size}),this.notebookCount&&u.sendTelemetryEvent(d.Telemetry.NotebookWorkspaceCount,void 0,{count:this.notebookCount})}onEditorOpened(e){h.isJupyterNotebook(e)&&(this.openedNotebookCount+=1,e.isUntitled&&(this.notebookCount+=1))}onDidChangeNotebookCellExecutionState(e){this.executedNotebooksIndexedByUri.add(e.cell.notebook.uri.fsPath)}};p=r([o.injectable(),i(0,o.inject(a.IVSCodeNotebook)),i(1,o.inject(a.IWorkspaceService)),i(2,o.inject(c.IDisposableRegistry))],p),t.NotebookUsageTracker=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeEditorCommandListener=void 0,n(15);const o=n(0),s=n(6),a=n(3),c=n(8),l=n(509),u=n(5),d=n(13);let h=class{constructor(e,t,n){this.disposableRegistry=e,this.provider=t,this.dataScienceErrorHandler=n}register(e){this.disposableRegistry.push(e.registerCommand(u.Commands.NotebookEditorUndoCells,()=>this.undoCells())),this.disposableRegistry.push(e.registerCommand(u.Commands.NotebookEditorRedoCells,()=>this.redoCells())),this.disposableRegistry.push(e.registerCommand(u.Commands.NotebookEditorRemoveAllCells,()=>this.removeAllCells())),this.disposableRegistry.push(e.registerCommand(u.Commands.OpenNotebook,(e,t,n=l.CommandSource.commandPalette)=>this.openNotebook(e,t))),this.disposableRegistry.push(e.registerCommand(u.Commands.NotebookEditorRunAllCells,()=>this.runAllCells())),this.disposableRegistry.push(e.registerCommand(u.Commands.NotebookEditorAddCellBelow,()=>this.addCellBelow()))}runAllCells(){const e=this.provider.activeEditor;e&&e.runAllCells()}addCellBelow(){const e=this.provider.activeEditor;e&&e.addCellBelow()}undoCells(){const e=this.provider.activeEditor;e&&e.undoCells()}redoCells(){const e=this.provider.activeEditor;e&&e.redoCells()}removeAllCells(){const e=this.provider.activeEditor;e&&e.removeAllCells()}async openNotebook(e,t){if(e&&".ipynb"===s.extname(e.fsPath).toLocaleLowerCase())try{await this.provider.open(e)}catch(e){await this.dataScienceErrorHandler.handleError(e)}else if(t)try{await this.provider.createNew({contents:t})}catch(e){await this.dataScienceErrorHandler.handleError(e)}}};r([c.captureTelemetry(u.Telemetry.OpenNotebook,{scope:"command"},!1)],h.prototype,"openNotebook",null),h=r([o.injectable(),i(0,o.inject(a.IDisposableRegistry)),i(1,o.inject(d.INotebookEditorProvider)),i(2,o.inject(d.IDataScienceErrorHandler))],h),t.NativeEditorCommandListener=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetMessageDispatcher=void 0;const r=n(18),i=n(41),o=n(1),s=n(14),a=n(4),c=n(19),l=n(9),u=n(1204),d=n(8),h=n(5),p=n(73),f=n(1205);t.IPyWidgetMessageDispatcher=class{constructor(e,t){this.notebookProvider=e,this.notebookIdentity=t,this.commTargetsRegistered=new Set,this.pendingTargetNames=new Set,this._postMessageEmitter=new o.EventEmitter,this.messageHooks=new Map,this.pendingHookRemovals=new Map,this.messageHookRequests=new Map,this.disposables=[],this.disposed=!1,this.pendingMessages=[],this.subscribedToKernelSocket=!1,this.waitingMessageIds=new Map,this.totalWaitTime=0,this.totalWaitedMessages=0,this.hookCount=0,this.pendingTargetNames.add("jupyter.widget"),e.onNotebookCreated(e=>{e.identity.toString()===t.toString()&&this.initialize().ignoreErrors()},this,this.disposables),this.mirrorSend=this.mirrorSend.bind(this),this.onKernelSocketMessage=this.onKernelSocketMessage.bind(this);const r=n(326);this.deserialize=r.deserialize}get postMessage(){return this._postMessageEmitter.event}dispose(){for(this.sendOverheadTelemetry(),this.disposed=!0;this.disposables.length;){const e=this.disposables.shift();null==e||e.dispose()}}receiveMessage(e){switch(process.env.VSC_JUPYTER_LOG_IPYWIDGETS&&e.message.includes("IPyWidgets_")&&a.traceInfoIf(s.isCI,"IPyWidgetMessage: "+r.inspect(e)),e.message){case p.IPyWidgetMessages.IPyWidgets_Ready:this.sendKernelOptions(),this.initialize().ignoreErrors();break;case p.IPyWidgetMessages.IPyWidgets_msg:this.sendRawPayloadToKernelSocket(e.payload);break;case p.IPyWidgetMessages.IPyWidgets_binary_msg:this.sendRawPayloadToKernelSocket(u.deserializeDataViews(e.payload)[0]);break;case p.IPyWidgetMessages.IPyWidgets_msg_received:this.onKernelSocketResponse(e.payload);break;case p.IPyWidgetMessages.IPyWidgets_registerCommTarget:this.registerCommTarget(e.payload).ignoreErrors();break;case p.IPyWidgetMessages.IPyWidgets_RegisterMessageHook:this.registerMessageHook(e.payload);break;case p.IPyWidgetMessages.IPyWidgets_RemoveMessageHook:this.possiblyRemoveMessageHook(e.payload);break;case p.IPyWidgetMessages.IPyWidgets_MessageHookResult:this.handleMessageHookResponse(e.payload);break;case p.IPyWidgetMessages.IPyWidgets_iopub_msg_handled:this.iopubMessageHandled(e.payload)}}sendRawPayloadToKernelSocket(e){this.pendingMessages.push(e),this.sendPendingMessages()}async registerCommTarget(e){this.pendingTargetNames.add(e),await this.initialize()}async initialize(){this.jupyterLab||(this.jupyterLab=n(89));const e=await this.getNotebook();e&&(this.subscribeToKernelSocket(e),this.registerCommTargets(e)),a.traceInfo("IPyWidgetMessageDispatcher.initialize")}raisePostMessage(e,t){this._postMessageEmitter.fire({message:e,payload:t})}subscribeToKernelSocket(e){this.subscribedToKernelSocket||(this.subscribedToKernelSocket=!0,e.kernelSocket.subscribe(t=>{var n,r,i,o,s,a;if(null===(r=null===(n=this.kernelSocketInfo)||void 0===n?void 0:n.socket)||void 0===r||r.removeReceiveHook(this.onKernelSocketMessage),null===(o=null===(i=this.kernelSocketInfo)||void 0===i?void 0:i.socket)||void 0===o||o.removeSendHook(this.mirrorSend),this.kernelWasConnectedAtleastOnce){for(;this.pendingMessages.length;)this.pendingMessages.shift();this.waitingMessageIds.forEach(e=>e.resultPromise.resolve()),this.waitingMessageIds.clear(),this.messageHookRequests.forEach(e=>e.resolve(!1)),this.messageHookRequests.clear(),this.messageHooks.clear(),this.sendRestartKernel()}t&&t.socket?(this.kernelWasConnectedAtleastOnce=!0,this.kernelSocketInfo=t,null===(s=this.kernelSocketInfo.socket)||void 0===s||s.addReceiveHook(this.onKernelSocketMessage),null===(a=this.kernelSocketInfo.socket)||void 0===a||a.addSendHook(this.mirrorSend),this.sendKernelOptions(),this.registerCommTargets(e),this.sendPendingMessages()):this.kernelSocketInfo=void 0}))}sendKernelOptions(){this.kernelSocketInfo&&this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_kernelOptions,this.kernelSocketInfo.options)}async mirrorSend(e,t){if("string"==typeof e&&e.includes("shell")&&e.includes("execute_request")){const t=Date.now(),n=this.deserialize(e);if("shell"===n.channel&&"execute_request"===n.header.msg_type){const e=this.mirrorExecuteRequest(n);this.isUsingIPyWidgets&&await e,this.totalWaitTime=Date.now()-t,this.totalWaitedMessages+=1}}}sendRestartKernel(){this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_onRestartKernel,void 0)}mirrorExecuteRequest(e){const t=c.createDeferred();return this.waitingMessageIds.set(e.header.msg_id,{startTime:Date.now(),resultPromise:t}),this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_mirror_execute,{id:e.header.msg_id,msg:e}),t.promise}messageNeedsFullHandle(e){var t;return"iopub"===e.channel&&"comm_msg"===(null===(t=e.header)||void 0===t?void 0:t.msg_type)}iopubMessageHandled(e){const t=e.id;this.fullHandleMessage&&this.fullHandleMessage.id===t&&(this.fullHandleMessage.promise.resolve(),this.fullHandleMessage=void 0)}async onKernelSocketMessage(e){let t;if(!this.isUsingIPyWidgets){let n=!1;n="string"!=typeof e||(e.includes(f.WIDGET_MIMETYPE)||e.includes(h.Identifiers.DefaultCommTarget)),!t&&n&&(t=this.deserialize(e)),t&&t.content&&t.content.data&&(t.content.data[f.WIDGET_MIMETYPE]||t.content.target_name===h.Identifiers.DefaultCommTarget)&&(this.isUsingIPyWidgets=!0)}const n=i(),r=c.createDeferred();this.waitingMessageIds.set(n,{startTime:Date.now(),resultPromise:r}),this.isUsingIPyWidgets&&(t||(t=this.deserialize(e)),this.messageNeedsFullHandle(t)&&(this.fullHandleMessage={id:t.header.msg_id,promise:c.createDeferred()})),"string"==typeof e?this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_msg,{id:n,data:e}):this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_binary_msg,{id:n,data:u.serializeDataViews([e])}),this.isUsingIPyWidgets&&(await r.promise,this.fullHandleMessage&&(await this.fullHandleMessage.promise.promise,this.fullHandleMessage=void 0))}onKernelSocketResponse(e){const t=this.waitingMessageIds.get(e.id);t&&(this.waitingMessageIds.delete(e.id),this.totalWaitTime+=Date.now()-t.startTime,this.totalWaitedMessages+=1,t.resultPromise.resolve())}sendPendingMessages(){var e;if(this.notebook&&this.kernelSocketInfo)for(;this.pendingMessages.length;)try{null===(e=this.kernelSocketInfo.socket)||void 0===e||e.sendToRealKernel(this.pendingMessages[0]),this.pendingMessages.shift()}catch(e){return void a.traceError("Failed to send message to Kernel",e)}}registerCommTargets(e){for(;this.pendingTargetNames.size>0;){const t=Array.from([...this.pendingTargetNames.values()]).shift();if(t){if(this.commTargetsRegistered.has(t))return;a.traceInfo("Registering commtarget "+t),this.commTargetsRegistered.add(t),this.pendingTargetNames.delete(t),t!==h.Identifiers.DefaultCommTarget&&e.registerCommTarget(t,l.noop)}}}async getNotebook(){var e;return this.notebookIdentity&&!this.notebook&&(this.notebook=await this.notebookProvider.getOrCreateNotebook({identity:this.notebookIdentity,resource:this.notebookIdentity,getOnly:!0}),null===(e=this.notebook)||void 0===e||e.onDisposed(()=>this.notebook=void 0)),this.notebook&&!this.kernelRestartHandlerAttached&&(this.kernelRestartHandlerAttached=!0,this.disposables.push(this.notebook.onKernelRestarted(this.handleKernelRestarts,this))),this.notebook}async handleKernelRestarts(){!this.disposed&&0!==this.commTargetsRegistered.size&&this.notebook&&(Array.from(this.commTargetsRegistered.keys()).forEach(e=>{this.commTargetsRegistered.delete(e),this.pendingTargetNames.add(e)}),this.subscribeToKernelSocket(this.notebook),this.registerCommTargets(this.notebook))}registerMessageHook(e){try{if(this.notebook&&!this.messageHooks.has(e)){this.hookCount+=1;const t=this.messageHookCallback.bind(this);this.messageHooks.set(e,t),this.notebook.registerMessageHook(e,t)}}finally{this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_ExtensionOperationHandled,{id:e,type:p.IPyWidgetMessages.IPyWidgets_RegisterMessageHook})}}possiblyRemoveMessageHook(e){try{e.lastHookedMsgId?this.pendingHookRemovals.set(e.lastHookedMsgId,e.hookMsgId):this.removeMessageHook(e.hookMsgId)}finally{this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_ExtensionOperationHandled,{id:e.hookMsgId,type:p.IPyWidgetMessages.IPyWidgets_RemoveMessageHook})}}removeMessageHook(e){if(this.notebook&&this.messageHooks.has(e)){const t=this.messageHooks.get(e);this.messageHooks.delete(e),this.notebook.removeMessageHook(e,t)}}async messageHookCallback(e){const t=c.createDeferred(),n=i(),r=e.parent_header.msg_id;if(this.messageHooks.has(r)?(this.messageHookRequests.set(n,t),this.raisePostMessage(p.IPyWidgetMessages.IPyWidgets_MessageHookCall,{requestId:n,parentId:r,msg:e})):t.resolve(!0),this.pendingHookRemovals.has(e.header.msg_id)){const t=this.pendingHookRemovals.get(e.header.msg_id);this.pendingHookRemovals.delete(e.header.msg_id),this.removeMessageHook(t)}return t.promise}handleMessageHookResponse(e){const t=this.messageHookRequests.get(e.requestId);t&&(this.messageHookRequests.delete(e.requestId),t.resolve(!!e.msgType.includes("comm")||e.result))}sendOverheadTelemetry(){d.sendTelemetryEvent(h.Telemetry.IPyWidgetOverhead,0,{totalOverheadInMs:this.totalWaitTime,numberOfMessagesWaitedOn:this.totalWaitedMessages,averageWaitTime:this.totalWaitTime/this.totalWaitedMessages,numberOfRegisteredHooks:this.hookCount})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeDataViews=t.serializeDataViews=void 0,t.serializeDataViews=function(e){if(!e||!Array.isArray(e)||0===e.length)return;const t=[];for(let n=0;n<e.length;n+=1){const r=e[n];if("buffer"in r&&"byteOffset"in r){const e=Array.apply(null,new Uint8Array(r.buffer));t.push({...r,byteLength:r.byteLength,byteOffset:r.byteOffset,buffer:e})}else t.push([...new Uint8Array(r)])}return t},t.deserializeDataViews=function(e){if(!Array.isArray(e)||0===e.length)return e;const t=[];for(let n=0;n<e.length;n+=1){const r=e[n];if("buffer"in r&&"byteOffset"in r){const e=new Uint8Array(r.buffer).buffer,n=new DataView(e,r.byteOffset,r.byteLength);t.push(n)}else{const e=new Uint8Array(r).buffer;t.push(e)}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WIDGET_MIMETYPE=void 0,t.WIDGET_MIMETYPE="application/vnd.jupyter.widget-view+json"},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerVariableRegistration=void 0;const o=n(0),s=n(14),a=n(3),c=n(5),l=n(13),u=n(220);let d=class{constructor(e,t,n){this.debugService=e,this.disposables=t,this.debugVariables=n}activate(){return this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(s.PYTHON_LANGUAGE,this)),this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(u.pythonKernelDebugAdapter,this)),Promise.resolve()}createDebugAdapterTracker(e){return this.debugVariables}};d=r([o.injectable(),i(0,o.inject(l.IJupyterDebugService)),i(0,o.named(c.Identifiers.MULTIPLEXING_DEBUGSERVICE)),i(1,o.inject(a.IDisposableRegistry)),i(2,o.inject(l.IJupyterVariables)),i(2,o.named(c.Identifiers.DEBUGGER_VARIABLES))],d),t.DebuggerVariableRegistration=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterCommandFactory=t.InterpreterJupyterKernelSpecCommand=t.InterpreterJupyterNotebookCommand=void 0;const o=n(0),s=n(6),a=n(4),c=n(39),l=n(107),u=n(146),d=n(33),h=n(5);class p{constructor(e,t,n,r,i){this.exe=e,this.requiredArgs=t,this.launcherPromise=n.create(),this.activationHelper=r,this.interpreterPromise=i.getInterpreterDetails(this.exe).catch(e=>{})}interpreter(){return this.interpreterPromise}async execObservable(e,t){const n={...t};n.env=await this.fixupEnv(n.env);const r=await this.launcherPromise,i=[...this.requiredArgs,...e];return r.execObservable(this.exe,i,n)}async exec(e,t){const n={...t};n.env=await this.fixupEnv(n.env);const r=await this.launcherPromise,i=[...this.requiredArgs,...e];return r.exec(this.exe,i,n)}fixupEnv(e){return this.activationHelper?this.activationHelper.getActivatedEnvironmentVariables(void 0):Promise.resolve(process.env)}}class f{constructor(e,t,n,r,i){this.moduleName=e,this.args=t,this.pythonExecutionFactory=n,this._interpreter=r,this.interpreterPromise=Promise.resolve(this._interpreter),this.pythonLauncher=this.interpreterPromise.then(async r=>{if(i){const i=await n.createDaemon({daemonModule:h.JupyterDaemonModule,pythonPath:r.path});if("jupyter"===e.toLowerCase()&&t.join(" ").toLowerCase().startsWith("-m jupyter notebook")||"notebook"===e.toLowerCase()&&t.join(" ").toLowerCase().startsWith("-m notebook"))try{if((await i.exec([s.join(l.EXTENSION_ROOT_DIR,"pythonFiles","vscode_datascience_helpers","jupyter_nbInstalled.py")],{})).stdout.toLowerCase().includes("available"))return i}catch(e){a.traceError("Checking whether notebook is importable failed",e)}}return n.createActivatedEnvironment({interpreter:this._interpreter,bypassCondaExecution:!0})})}interpreter(){return this.interpreterPromise}async execObservable(e,t){const n={...t},r=await this.pythonLauncher,i=[...this.args,...e],o=i[1];return i.shift(),i.shift(),r.execModuleObservable(o,i,n)}async exec(e,t){const n={...t},r=await this.pythonLauncher,i=[...this.args,...e],o=i[1];return i.shift(),i.shift(),r.execModule(o,i,n)}}class m extends f{constructor(e,t,n,r,i){super(e,t,n,r,i)}}t.InterpreterJupyterNotebookCommand=m;class g extends f{constructor(e,t,n,r,i){super(e,t,n,r,i)}async exec(e,t){let n,r={stdout:""};try{r=await super.exec(e,t)}catch(e){n=e}if(!r.stderr&&!n)return r;const i=()=>{if(n)throw a.traceError("Exception attempting to enumerate kernelspecs: ",n),n;return r},o=await this.interpreter();if(!o||"jupyter"!==this.moduleName.toLowerCase()||this.args.join(" ").toLowerCase()!==("-m jupyter "+h.JupyterCommands.KernelSpecCommand).toLowerCase())return i();try{if("list --json"===e.join(" ").toLowerCase())return r=await this.getKernelSpecList(o,t),r;if("--version"===e.join(" ").toLowerCase())return r=await this.getKernelSpecVersion(o,t),r}catch(e){a.traceError("Failed to get a list of the kernelspec using python script",e)}return i()}async getKernelSpecList(e,t){return(await this.pythonExecutionFactory.createActivatedEnvironment({interpreter:e,bypassCondaExecution:!0})).exec([s.join(l.EXTENSION_ROOT_DIR,"pythonFiles","vscode_datascience_helpers","getJupyterKernels.py")],{...t,throwOnStdErr:!0})}async getKernelSpecVersion(e,t){return(await this.pythonExecutionFactory.createActivatedEnvironment({interpreter:e,bypassCondaExecution:!0})).exec([s.join(l.EXTENSION_ROOT_DIR,"pythonFiles","vscode_datascience_helpers","getJupyterKernelspecVersion.py")],{...t,throwOnStdErr:!0})}}t.InterpreterJupyterKernelSpecCommand=g;let v=class{constructor(e,t,n,r){this.executionFactory=e,this.activationHelper=t,this.processServiceFactory=n,this.interpreterService=r}createInterpreterCommand(e,t,n,r,i){return e===h.JupyterCommands.NotebookCommand?new m(t,n,this.executionFactory,r,i):e===h.JupyterCommands.KernelSpecCommand?new g(t,n,this.executionFactory,r,i):new f(t,n,this.executionFactory,r,i)}createProcessCommand(e,t){return new p(e,t,this.processServiceFactory,this.activationHelper,this.interpreterService)}};v=r([o.injectable(),i(0,o.inject(c.IPythonExecutionFactory)),i(1,o.inject(u.IEnvironmentActivationService)),i(2,o.inject(c.IProcessServiceFactory)),i(3,o.inject(d.IInterpreterService))],v),t.JupyterCommandFactory=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInterpreterSelectionCommand=void 0;const o=n(0),s=n(7),a=n(3),c=n(8),l=n(5),u=n(147);let d=class{constructor(e,t,n){this.service=e,this.cmdManager=t,this.disposables=n}async activate(){this.disposables.push(this.cmdManager.registerCommand("jupyter.selectJupyterInterpreter",()=>{c.sendTelemetryEvent(l.Telemetry.SelectJupyterInterpreterCommand),this.service.selectInterpreter().ignoreErrors()}))}};d=r([o.injectable(),i(0,o.inject(u.JupyterInterpreterService)),i(1,o.inject(s.ICommandManager)),i(2,o.inject(a.IDisposableRegistry))],d),t.JupyterInterpreterSelectionCommand=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterInterpreterSubCommandExecutionService=void 0;const o=n(0),s=n(6),a=n(4),c=n(39),l=n(3),u=n(10),d=n(9),h=n(107),p=n(33),f=n(8),m=n(5),g=n(196),v=n(320),y=n(147);let b=class{constructor(e,t,n,r,i,o){this.jupyterInterpreter=e,this.interpreterService=t,this.jupyterDependencyService=n,this.pythonExecutionFactory=r,this.jupyterOutputChannel=i,this.pathUtils=o}async refreshCommands(){d.noop()}async isNotebookSupported(e){const t=await this.jupyterInterpreter.getSelectedInterpreter(e);return!!t&&this.jupyterDependencyService.areDependenciesInstalled(t,e)}async getReasonForJupyterNotebookNotBeingSupported(e){let t=await this.jupyterInterpreter.getSelectedInterpreter(e);if(!t&&(t=await this.interpreterService.getActiveInterpreter(void 0),!t))return f.sendTelemetryEvent(m.Telemetry.SelectJupyterInterpreterMessageDisplayed),u.DataScience.selectJupyterInterpreter();const n=await this.jupyterDependencyService.getDependenciesNotInstalled(t,e);return 0===n.length?"":1===n.length&&n[0]===l.Product.kernelspec?u.DataScience.jupyterKernelSpecModuleNotFound().format(t.path):v.getMessageForLibrariesNotInstalled(n,t.displayName)}async getSelectedInterpreter(e){return this.jupyterInterpreter.getSelectedInterpreter(e)}async startNotebook(e,t){const n=await this.getSelectedInterpreterAndThrowIfNotAvailable(t.token);this.jupyterOutputChannel.appendLine(u.DataScience.startingJupyterLogMessage().format(this.pathUtils.getDisplayName(n.path),e.join(" ")));return(await this.pythonExecutionFactory.createDaemon({daemonModule:m.JupyterDaemonModule,pythonPath:n.path})).execModuleObservable("jupyter",["notebook"].concat(e),t)}async getRunningJupyterServers(e){const t=await this.getSelectedInterpreterAndThrowIfNotAvailable(e),n=await this.pythonExecutionFactory.createDaemon({daemonModule:m.JupyterDaemonModule,pythonPath:t.path}),r={mergeStdOutErr:!0,token:e},i=s.join(h.EXTENSION_ROOT_DIR,"pythonFiles","vscode_datascience_helpers","getServerInfo.py"),o=await n.exec([i],r);let c;try{c=JSON.parse(o.stdout.trim())}catch(e){return void a.traceWarning("Failed to parse JSON when getting server info out from getServerInfo.py",e)}return c}async openNotebook(e){const t=await this.getSelectedInterpreterAndThrowIfNotAvailable(),n=["--NotebookApp.file_to_run="+e];(await this.pythonExecutionFactory.createActivatedEnvironment({interpreter:t,bypassCondaExecution:!0,allowEnvironmentFetchExceptions:!0})).execModule("jupyter",["notebook"].concat(n),{throwOnStdErr:!1,encoding:"utf8"}).ignoreErrors()}async installMissingDependencies(e){await this.jupyterInterpreter.installMissingDependencies(e)}async getSelectedInterpreterAndThrowIfNotAvailable(e){const t=await this.jupyterInterpreter.getSelectedInterpreter(e);if(!t){const e=await this.getReasonForJupyterNotebookNotBeingSupported();throw new g.JupyterInstallError(e,u.DataScience.pythonInteractiveHelpLink())}return t}};b=r([o.injectable(),i(0,o.inject(y.JupyterInterpreterService)),i(1,o.inject(p.IInterpreterService)),i(2,o.inject(v.JupyterInterpreterDependencyService)),i(3,o.inject(c.IPythonExecutionFactory)),i(4,o.inject(l.IOutputChannel)),i(4,o.named(m.JUPYTER_OUTPUT_CHANNEL)),i(5,o.inject(l.IPathUtils))],b),t.JupyterInterpreterSubCommandExecutionService=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertExportToPythonService=void 0;const o=n(0),s=n(4),a=n(39),c=n(5),l=n(118),u=n(119);let d=class{constructor(e){this.pythonExecutionFactory=e}async exportNotebookToPython(e,t,n,r){const i=await this.pythonExecutionFactory.createDaemon({daemonModule:c.JupyterDaemonModule,pythonPath:t.path}),o=n?[e.fsPath,"--to","python","--stdout","--template",n]:[e.fsPath,"--to","python","--stdout"];return i.execModule("jupyter",["nbconvert"].concat(o),{throwOnStdErr:!1,encoding:"utf8",token:r}).then(e=>{if(""===e.stdout)throw s.traceError("nbconvert zero size output"),new Error(e.stderr);return e.stdout})}};r([l.reportAction(u.ReportableAction.ExportNotebookToPython)],d.prototype,"exportNotebookToPython",null),d=r([o.injectable(),i(0,o.inject(a.IPythonExecutionFactory))],d),t.NbConvertExportToPythonService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NbConvertInterpreterDependencyChecker=void 0;const o=n(0),s=n(3),a=n(54),c=n(5),l=n(13);let u=class{constructor(e,t){this.installer=e,this.commandFactory=t,this.nbconvertInstalledInInterpreter=new Set}async isNbConvertInstalled(e,t){if(this.nbconvertInstalledInInterpreter.has(e.path))return!0;const n=!!await this.installer.isInstalled(s.Product.nbconvert,e);return!0===n&&this.nbconvertInstalledInInterpreter.add(e.path),n}async getNbConvertVersion(e,t){const n=this.commandFactory.createInterpreterCommand(c.JupyterCommands.ConvertCommand,"jupyter",["-m","jupyter","nbconvert"],e,!1),r=await n.exec(["--version"],{throwOnStdErr:!0});return a.parseSemVer(r.stdout)}};u=r([o.injectable(),i(0,o.inject(s.IInstaller)),i(1,o.inject(l.IJupyterCommandFactory))],u),t.NbConvertInterpreterDependencyChecker=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CellOutputMimeTypeTracker=void 0;const o=n(0),s=n(1),a=n(7),c=n(99),l=n(3),u=n(8),d=n(68),h=n(5),p=n(24),f=n(1213);let m=class{constructor(e,t){this.vscNotebook=e,this.pendingChecks=new Map,this.sentMimeTypes=new Set,this.disposables=[],t.push(this),this.vscNotebook.onDidOpenNotebookDocument(this.onDidOpenCloseDocument,this,this.disposables),this.vscNotebook.onDidCloseNotebookDocument(this.onDidOpenCloseDocument,this,this.disposables),this.vscNotebook.onDidSaveNotebookDocument(this.onDidOpenCloseDocument,this,this.disposables),this.vscNotebook.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,this.disposables)}async activate(){}dispose(){c.disposeAllDisposables(this.disposables),this.pendingChecks.clear()}async onDidChangeNotebookCellExecutionState(e){p.isJupyterNotebook(e.cell.notebook)&&this.scheduleCheck(e.cell.document.uri.toString(),this.checkCell.bind(this,e.cell))}onDidOpenCloseDocument(e){p.isJupyterNotebook(e)&&e.getCells().forEach(e=>{e.kind===s.NotebookCellKind.Code&&e.outputs.forEach(e=>e.items.forEach(e=>this.sendTelemetry(e.mime)))})}getCellOutputMimeTypes(e){var t,n,r;if(e.kind===s.NotebookCellKind.Markup)return["markdown"];if("raw"===e.document.languageId)return[];const i=p.createJupyterCellFromVSCNotebookCell(e).outputs;return Array.isArray(i)&&(null===(t=e.executionSummary)||void 0===t?void 0:t.executionOrder)&&(null===(n=e.executionSummary)||void 0===n?void 0:n.executionOrder)>0&&(null===(r=e.executionSummary)||void 0===r?void 0:r.success)?f(i.map(this.getOutputMimeTypes.bind(this))):[]}getOutputMimeTypes(e){switch(e.output_type){case"error":return[];case"stream":return["stream"];case"display_data":case"update_display_data":case"execute_result":const t=e.data;return t?Object.keys(t):[];default:return["unrecognized_cell_output"]}}scheduleCheck(e,t){const n=this.pendingChecks.get(e);n&&(clearTimeout(n),this.pendingChecks.delete(e)),this.pendingChecks.set(e,setTimeout(t,5e3))}checkCell(e){this.pendingChecks.delete(e.document.uri.toString()),this.getCellOutputMimeTypes(e).forEach(this.sendTelemetry.bind(this))}sendTelemetry(e){if(this.sentMimeTypes.has(e))return;this.sentMimeTypes.add(e);const t=d.getTelemetrySafeHashedString(e),n=e.toLowerCase(),r={hashedName:t,hasText:n.includes("text"),hasLatex:n.includes("latex"),hasHtml:n.includes("html"),hasSvg:n.includes("svg"),hasXml:n.includes("xml"),hasJson:n.includes("json"),hasImage:n.includes("image"),hasGeo:n.includes("geo"),hasPlotly:n.includes("plotly"),hasVega:n.includes("vega"),hasWidget:n.includes("widget"),hasJupyter:n.includes("jupyter"),hasVnd:n.includes("vnd")};u.sendTelemetryEvent(h.Telemetry.HashedCellOutputMimeType,void 0,r)}};r([u.captureTelemetry(h.Telemetry.HashedCellOutputMimeTypePerf)],m.prototype,"checkCell",null),m=r([o.injectable(),i(0,o.inject(a.IVSCodeNotebook)),i(1,o.inject(l.IDisposableRegistry))],m),t.CellOutputMimeTypeTracker=m},function(e,t,n){var r=n(1214);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(301),i=n(1215);e.exports=function e(t,n,o,s,a){var c=-1,l=t.length;for(o||(o=i),a||(a=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,s,a):r(a,u):s||(a[a.length]=u)}return a}},function(e,t,n){var r=n(176),i=n(375),o=n(177),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(s&&e&&e[s])}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterDebugger=void 0;const o=n(0),s=n(131),a=n(26),c=n(4),l=n(16),u=n(3),d=n(10),h=n(5),p=n(13),f=n(1217),m=n(1218),g=n(191);let v=class{constructor(e,t,n,r,i){this.debuggerPathProvider=e,this.configService=t,this.debugService=n,this.platform=r,this.installer=i,this.configs=new Map,this.debuggerPackage="debugpy",this.enableDebuggerCode="import debugpy;debugpy.listen(('localhost', 0))",this.waitForDebugClientCode="import debugpy;debugpy.wait_for_client()",this.tracingEnableCode="from debugpy import trace_this_thread;trace_this_thread(True)",this.tracingDisableCode="from debugpy import trace_this_thread;trace_this_thread(False)"}async startDebugging(e){var t;const n=e.notebook;if(!n)throw new Error("Notebook not initialized");const r=await this.installer.isProductVersionCompatible(u.Product.ipykernel,">=6.0.0",null===(t=n.getKernelConnection())||void 0===t?void 0:t.interpreter),i=this.configService.getSettings(n.resource);return this.isUsingPyKernel6OrLater=r===u.ProductInstallStatus.Installed,this.startDebugSession(e=>this.debugService.startDebugging(void 0,e),n,{justMyCode:i.debugJustMyCode},!1)}async stopDebugging(e){const t=e.notebook;if(!t)return;this.configs.get(t.identity.toString())&&(c.traceInfo("stop debugging"),this.debugService.stop(),t.status!==s.ServerStatus.Dead&&t.status!==s.ServerStatus.NotStarted&&await g.executeSilently(t.session,this.tracingDisableCode))}onRestart(e){e.notebook&&this.configs.delete(e.notebook.identity.toString())}async hashesUpdated(e){this.debugService.activeDebugSession&&await Promise.all(e.map(e=>this.debugService.activeDebugSession.customRequest("setPydevdSourceMap",this.buildSourceMap(e))))}async startDebugSession(e,t,n,r){c.traceInfo("start debugging");const i=await this.connect(t,r,n);if(i){c.traceInfo("connected to notebook during debugging"),await e(i),this.debugService.removeBreakpoints([]);const n=await g.executeSilently(t.session,this.waitForDebugClientCode);n.some(e=>"error"===e.output_type)?c.traceWarning(this.debuggerPackage+" not found in path."):c.traceInfo("import startup: "+g.getPlainTextOrStreamOutput(n)),await g.executeSilently(t.session,this.tracingEnableCode)}}async connect(e,t,n){const r=e.identity.toString();let i=this.configs.get(r);if(i)return{...i,...n};c.traceInfo("enable debugger attach"),await this.appendDebuggerPaths(e),i={type:"python",name:"IPython",request:"attach",...n};const o=e.connection;if(o&&!o.localLaunch){const{host:t,port:n}=await this.connectToRemote(e,o);i.host=t,i.port=n}else{const{host:t,port:n}=await this.connectToLocal(e);i.host=t,i.port=n}if(i.port){this.configs.set(e.identity.toString(),i);const t=[],n=()=>{this.configs.delete(r),t.forEach(e=>e.dispose())};t.push(e.onDisposed(n)),t.push(e.onKernelRestarted(n)),t.push(e.onKernelChanged(n))}return i}async calculateDebuggerPathList(e){const t=[];let n=this.configService.getSettings(e.resource).debugpyDistPath;n&&(this.platform.isWindows&&(n=n.replace(/\\/g,"\\\\")),t.push(n));const r=e.connection;if(r&&r.localLaunch){let e=await this.debuggerPathProvider.getDebuggerPath();this.platform.isWindows&&(e=e.replace(/\\/g,"\\\\")),t.push(e)}if(t&&t.length>0)return t.reduce((e,t)=>e=0===e.length?`'${t}'`:`${e}, '${t}'`,"")}async appendDebuggerPaths(e){const t=await this.calculateDebuggerPathList(e);if(t&&t.length>0){const n=await g.executeSilently(e.session,`import sys\r\nsys.path.extend([${t}])\r\nsys.path`);c.traceInfo("Appending paths: "+g.getPlainTextOrStreamOutput(n))}}buildSourceMap(e){const t={source:{path:e.file},pydevdSourceMaps:[]};return t.pydevdSourceMaps=e.hashes.map(t=>({line:t.line,endLine:t.endLine,runtimeSource:{path:this.isUsingPyKernel6OrLater?e.file:`<ipython-input-${t.executionCount}-${t.hash}>`},runtimeLine:t.runtimeLine})),t}async connectToLocal(e){const t=await g.executeSilently(e.session,this.enableDebuggerCode);if(t.length>0){let e=g.getPlainTextOrStreamOutput(t);if(e){e=e.trimQuotes();const t=/\('(.*?)', ([0-9]*)\)/.exec(e);if(t)return{port:parseInt(t[2],10),host:t[1]}}}if(t.length>0&&"error"===t[0].output_type){const e=t[0];throw new f.JupyterDebuggerNotInstalledError(this.debuggerPackage,e.ename)}throw new f.JupyterDebuggerNotInstalledError(d.DataScience.jupyterDebuggerOutputParseError().format(this.debuggerPackage))}async connectToRemote(e,t){throw new m.JupyterDebuggerRemoteNotSupported}};v=r([o.injectable(),i(0,o.inject(a.IPythonDebuggerPathProvider)),i(1,o.inject(u.IConfigurationService)),i(2,o.inject(p.IJupyterDebugService)),i(2,o.named(h.Identifiers.MULTIPLEXING_DEBUGSERVICE)),i(3,o.inject(l.IPlatformService)),i(4,o.inject(a.IPythonInstaller))],v),t.JupyterDebugger=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterDebuggerNotInstalledError=void 0;const r=n(29);n(15);const i=n(10);class o extends r.BaseError{constructor(e,t){super("notinstalled",t||i.DataScience.jupyterDebuggerNotInstalledError().format(e))}}t.JupyterDebuggerNotInstalledError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterDebuggerRemoteNotSupported=void 0;const r=n(29);n(15);const i=n(10);class o extends r.BaseError{constructor(){super("debugger",i.DataScience.remoteDebuggerNotSupported())}}t.JupyterDebuggerRemoteNotSupported=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExporter=void 0;const o=n(0),s=n(28),a=n(6),c=n(41),l=n(1),u=n(62),d=n(231),h=n(7),p=n(4),f=n(16),m=n(3),g=n(10),v=n(9),y=n(148),b=n(54),_=n(5),w=n(13);let S=class{constructor(e,t,n,r,i,o,l,h){this.jupyterExecution=e,this.workspaceService=t,this.configService=n,this.fileSystem=r,this.platform=i,this.applicationShell=o,this.ipynbProvider=l,this.errorHandler=h,this.addDirectoryChangeCell=async(e,t)=>{const n=await this.calculateDirectoryChange(t,e);if(n){const t=_.CodeSnippets.ChangeDirectory.join(s.EOL).format(g.DataScience.exportChangeDirectoryComment(),_.CodeSnippets.ChangeDirectoryCommentIdentifier,n);return[{data:d.createCodeCell(t),id:c(),file:_.Identifiers.EmptyFileName,line:0,state:w.CellState.finished},...e]}return e},this.firstWorkspaceFolder=async e=>{for(const t of e){const e=t.file;if(a.isAbsolute(e)&&await this.fileSystem.localFileExists(e))for(const t of this.workspaceService.workspaceFolders)if(e.toLowerCase().startsWith(t.uri.fsPath.toLowerCase()))return t.uri.fsPath}},this.calculateDirectoryChange=async(e,t)=>{let n;if(!t.find(e=>u.concatMultilineString(e.data.source).includes(_.CodeSnippets.ChangeDirectoryCommentIdentifier))){const r=a.dirname(e);if(this.workspaceService.hasWorkspaceFolders){const e=await this.firstWorkspaceFolder(t);e&&a.isAbsolute(e)&&r&&a.isAbsolute(r)&&(n=a.relative(r,e))}}return n&&!a.isAbsolute(n)?(this.platform.isWindows&&(n=n.replace("\\","\\\\")),n):void 0},this.pruneCells=(e,t)=>e.filter(e=>"messages"!==e.data.cell_type).map(e=>this.pruneCell(e,t)),this.pruneCell=(e,t)=>{const n=b.pruneCell({...e.data});return n.source=this.pruneSource(e.data.source,t),n},this.pruneSource=(e,t)=>{if(Array.isArray(e)&&e.length>0){if(t.isCell(e[0]))return e.slice(1)}else{const n=e.toString().split("\n").map(e=>e+"\n");if(n.length>0&&t.isCell(n[0]))return n.slice(1)}return e},this.extractPythonMainVersion=async()=>{const e=await this.jupyterExecution.getUsableJupyterPython();return e&&e.version?e.version.major:3}}dispose(){v.noop()}async exportToFile(e,t,n=!0){let r;this.configService.getSettings().changeDirOnImportExport&&(r=t);const i=await this.translateToNotebook(e,r);try{const e=JSON.stringify(i);if(await this.fileSystem.writeFile(l.Uri.file(t),e),!n)return;const r=g.DataScience.exportOpenQuestion1();this.applicationShell.showInformationMessage(g.DataScience.exportDialogComplete().format(t),r).then(async e=>{try{e===r&&await this.ipynbProvider.open(l.Uri.file(t))}catch(e){await this.errorHandler.handleError(e)}})}catch(e){p.traceError("Error in exporting notebook file"),this.applicationShell.showInformationMessage(g.DataScience.exportDialogFailed().format(e))}}async translateToNotebook(e,t,n){t&&this.configService.getSettings().changeDirOnImportExport&&(e=await this.addDirectoryChangeCell(e,t));const r=await this.extractPythonMainVersion(),i={language_info:{codemirror_mode:{name:"ipython",version:r},file_extension:".py",mimetype:"text/x-python",name:"python",nbconvert_exporter:"python",pygments_lexer:"ipython"+r,version:r},orig_nbformat:_.defaultNotebookFormat.major,kernelspec:n},o=new y.CellMatcher(this.configService.getSettings());return{cells:this.pruneCells(e,o),nbformat:_.defaultNotebookFormat.major,nbformat_minor:_.defaultNotebookFormat.minor,metadata:i}}};S=r([o.injectable(),i(0,o.inject(w.IJupyterExecution)),i(1,o.inject(h.IWorkspaceService)),i(2,o.inject(m.IConfigurationService)),i(3,o.inject(f.IFileSystem)),i(4,o.inject(f.IPlatformService)),i(5,o.inject(h.IApplicationShell)),i(6,o.inject(w.INotebookEditorProvider)),i(7,o.inject(w.IDataScienceErrorHandler))],S),t.JupyterExporter=S},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterImporter=void 0,n(15);const o=n(0),s=n(28),a=n(6),c=n(7),l=n(4),u=n(16),d=n(3),h=n(10),p=n(9),f=n(5),m=n(13);let g=class{constructor(e,t,n,r,i,o,a){this.fs=e,this.disposableRegistry=t,this.configuration=n,this.workspaceService=r,this.platform=i,this.nbConvertDependencyChecker=o,this.exportToPythonService=a,this.isDisposed=!1,this.nbconvertBaseTemplateFormat="{%- extends '{0}' -%}\n{% block codecell %}\n{1}\n{{ super() }}\n{% endblock codecell %}\n{% block in_prompt %}{% endblock in_prompt %}\n{% block input %}{{ cell.source | ipython2python }}{% endblock input %}\n{% block markdowncell scoped %}{1} [markdown]\n{{ cell.source | comment_lines }}\n{% endblock markdowncell %}",this.nbconvert5Null="null.tpl",this.nbconvert6Null="base/null.j2",this.dispose=()=>{this.isDisposed=!0},this.addInstructionComments=e=>h.DataScience.instructionComments().format(this.defaultCellMarker).concat(e),this.addIPythonImport=e=>f.CodeSnippets.ImportIPython.format(this.defaultCellMarker,e),this.addDirectoryChange=(e,t)=>f.CodeSnippets.ChangeDirectory.join(s.EOL).format(h.DataScience.importChangeDirectoryComment().format(this.defaultCellMarker),f.CodeSnippets.ChangeDirectoryCommentIdentifier,t).concat(e)}async importFromFile(e,t){let n;this.configuration.getSettings().changeDirOnImportExport&&(n=await this.calculateDirectoryChange(e));const r=await this.nbConvertDependencyChecker.getNbConvertVersion(t);if(r){let i;r.major>=6?(this.template6Promise||(this.template6Promise=this.createTemplateFile(!0)),i=await this.template6Promise):(this.template5Promise||(this.template5Promise=this.createTemplateFile(!1)),i=await this.template5Promise);let o=await this.exportToPythonService.exportNotebookToPython(e,t,i);return o.includes("get_ipython()")&&(o=this.addIPythonImport(o)),n&&(o=this.addDirectoryChange(o,n)),this.addInstructionComments(o)}throw new Error(h.DataScience.jupyterNbConvertNotSupported())}get defaultCellMarker(){return this.configuration.getSettings().defaultCellMarker||f.Identifiers.DefaultCodeCellMarker}async calculateDirectoryChange(e){let t;try{const n=await this.fs.readFile(e);if(!n.includes(f.CodeSnippets.ChangeDirectoryCommentIdentifier)){const n=a.dirname(e.fsPath);if(this.workspaceService.hasWorkspaceFolders){const e=this.workspaceService.workspaceFolders[0].uri.fsPath;e&&a.isAbsolute(e)&&n&&a.isAbsolute(n)&&(t=a.relative(e,n))}}return t&&!a.isAbsolute(t)?(this.platform.isWindows&&(t=t.replace("\\","\\\\")),t):void 0}catch(e){l.traceError(e)}}async createTemplateFile(e){const t=await this.fs.createTemporaryLocalFile(".tpl");if(t)try{return this.disposableRegistry.push(t),await this.fs.appendLocalFile(t.filePath,this.nbconvertBaseTemplateFormat.format(e?this.nbconvert6Null:this.nbconvert5Null,this.defaultCellMarker)),t.filePath}catch(e){p.noop()}}};g=r([o.injectable(),i(0,o.inject(u.IFileSystem)),i(1,o.inject(d.IDisposableRegistry)),i(2,o.inject(d.IConfigurationService)),i(3,o.inject(c.IWorkspaceService)),i(4,o.inject(u.IPlatformService)),i(5,o.inject(m.INbConvertInterpreterDependencyChecker)),i(6,o.inject(m.INbConvertExportToPythonService))],g),t.JupyterImporter=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterNotebookProvider=void 0;const o=n(0),s=n(10),a=n(13);let c=class{constructor(e){this.serverProvider=e}async disconnect(e){const t=await this.serverProvider.getOrCreateServer(e);return null==t?void 0:t.dispose()}async connect(e){const t=await this.serverProvider.getOrCreateServer(e);return null==t?void 0:t.getConnectionInfo()}async createNotebook(e){const t=await this.serverProvider.getOrCreateServer({getOnly:e.getOnly,disableUI:e.disableUI,resource:e.resource,token:e.token});if(t)return t.createNotebook(e.resource,e.identity,e.metadata,e.kernelConnection,e.token);throw new Error(s.DataScience.sessionDisposed())}async getNotebook(e){const t=await this.serverProvider.getOrCreateServer({getOnly:e.getOnly,disableUI:e.disableUI,token:e.token,resource:e.resource,metadata:e.metadata,kernelConnection:e.kernelConnection});if(t)return t.getNotebook(e.identity,e.token)}};c=r([o.injectable(),i(0,o.inject(a.IJupyterServerProvider))],c),t.JupyterNotebookProvider=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterPasswordConnect=void 0;const o=n(58),s=n(0),a=n(213),c=n(31),l=n(1),u=n(7),d=n(3),h=n(10),p=n(235),f=n(8),m=n(5);let g=class{constructor(e,t,n,r){this.appShell=e,this.multiStepFactory=t,this.asyncDisposableRegistry=n,this.configService=r,this.savedConnectInfo=new Map,this.fetchFunction=a.default}getPasswordConnectionInfo(e,t){if(!e||e.length<1)return Promise.resolve(void 0);t&&(this.fetchFunction=t);let n=e;"/"!==n[n.length-1]&&(n+="/");let r=this.savedConnectInfo.get(n);return r||(r=this.getNonCachedPasswordConnectionInfo(n),this.savedConnectInfo.set(n,r)),r}getSessionCookieString(e,t,n){return`_xsrf=${e}; ${t}=${n}`}async getNonCachedPasswordConnectionInfo(e){return await this.isJupyterHub(e)?this.getJupyterHubConnectionInfo(e):this.getJupyterConnectionInfo(e)}async getJupyterHubConnectionInfo(e){const t=await this.getUserNameAndPassword();if(t.username||t.password){const n=await this.getJupyterHubConnectionInfoFromLogin(e,t.username,t.password);return n||this.getJupyterHubConnectionInfoFromApi(e,t.username,t.password)}}async getJupyterHubConnectionInfoFromLogin(e,t,n){const r=new URL(e),i=`${r.protocol}//${r.host}`,o=new c.URLSearchParams;o.append("username",t||""),o.append("password",n||"");let s=await this.makeRequest(i+"/hub/login?next=",{method:"POST",headers:{Connection:"keep-alive",Referer:i+"/hub/login","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},body:o.toString(),redirect:"manual"});if(s&&302===s.status){const e=[...this.getCookies(s).entries()].reduce((e,t)=>`${e};${t[0]}=${t[1]}`,"");if(s=await this.makeRequest(`${i}/hub/api/users/${t}/tokens`,{method:"POST",headers:{Connection:"keep-alive",Cookie:e,Referer:i+"/hub/login"}}),s.ok&&200===s.status){const n=await s.json();if(n&&n.token&&n.id)return await this.makeRequest(`${i}/hub/api/users/${t}/server`,{method:"POST",headers:{Connection:"keep-alive",Cookie:e,Referer:i+"/hub/login"}}),this.asyncDisposableRegistry.push({dispose:async()=>{this.makeRequest(`${i}/hub/api/users/${t}/tokens/${n.id}`,{method:"DELETE",headers:{Connection:"keep-alive",Cookie:e,Referer:i+"/hub/login"}}).ignoreErrors()}}),{requestHeaders:{},remappedBaseUrl:`${i}/user/${t}`,remappedToken:n.token}}}}async getJupyterHubConnectionInfoFromApi(e,t,n){const r=new URL(e),i=`${r.protocol}//${r.host}`,o=await this.makeRequest(i+"/hub/api/authorizations/token",{method:"POST",headers:{Connection:"keep-alive","content-type":"application/json;charset=UTF-8"},body:`{ "username": "${t||""}", "password": "${n||""}"  }`,redirect:"manual"});if(o.ok&&200===o.status){const e=await o.json();if(e&&e.user&&e.user.server&&e.token)return{requestHeaders:{},remappedBaseUrl:`${i}${e.user.server}`,remappedToken:e.token}}}async getJupyterConnectionInfo(e){let t,n,r;if(!await this.needPassword(e))return{};{let i=await this.getUserPassword();if(!i)return{};if(t=await this.getXSRFToken(e),t){const o=await this.getSessionCookie(e,t,i);n=o.sessionCookieName,r=o.sessionCookieValue}i=void 0}if(t&&n&&r){f.sendTelemetryEvent(m.Telemetry.GetPasswordSuccess);return{requestHeaders:{Cookie:this.getSessionCookieString(t,n,r),"X-XSRFToken":t}}}f.sendTelemetryEvent(m.Telemetry.GetPasswordFailure)}addAllowUnauthorized(e,t,n){if(e.startsWith("https")&&t){const e=new o.Agent({rejectUnauthorized:!1});return{...n,agent:e}}return n}async getUserNameAndPassword(){const e=this.multiStepFactory.create(),t={username:"",password:""};return await e.run(this.getUserNameMultiStep.bind(this),t),t}async getUserNameMultiStep(e,t){if(t.username=await e.showInputBox({title:h.DataScience.jupyterSelectUserAndPasswordTitle(),prompt:h.DataScience.jupyterSelectUserPrompt(),validate:this.validateUserNameOrPassword,value:""}),t.username)return this.getPasswordMultiStep.bind(this)}async validateUserNameOrPassword(e){}async getPasswordMultiStep(e,t){t.password=await e.showInputBox({title:h.DataScience.jupyterSelectUserAndPasswordTitle(),prompt:h.DataScience.jupyterSelectPasswordPrompt(),validate:this.validateUserNameOrPassword,value:"",password:!0})}async getUserPassword(){return this.appShell.showInputBox({prompt:h.DataScience.jupyterSelectPasswordPrompt(),ignoreFocusOut:!0,password:!0})}async getXSRFToken(e){var t;let n;const r=await this.makeRequest(e+"login?",{method:"get",redirect:"manual",headers:{Connection:"keep-alive"}});if(r.ok){const e=this.getCookies(r);e.has("_xsrf")&&(n=null===(t=e.get("_xsrf"))||void 0===t?void 0:t.split(";")[0])}return n}async needPassword(e){return 200!==(await this.makeRequest(e+"tree?",{method:"get",redirect:"manual",headers:{Connection:"keep-alive"}})).status}async makeRequest(e,t){const n=this.configService.getSettings(void 0).allowUnauthorizedRemoteConnection;try{return await this.fetchFunction(e,this.addAllowUnauthorized(e,!!n,t))}catch(n){if(n.message.indexOf("reason: self signed certificate")>=0){const r=h.DataScience.jupyterSelfCertEnable(),i=h.DataScience.jupyterSelfCertClose(),o=await this.appShell.showErrorMessage(h.DataScience.jupyterSelfCertFail().format(n.message),r,i);if(o===r)return f.sendTelemetryEvent(m.Telemetry.SelfCertsMessageEnabled),await this.configService.updateSetting("allowUnauthorizedRemoteConnection",!0,void 0,l.ConfigurationTarget.Workspace),this.fetchFunction(e,this.addAllowUnauthorized(e,!0,t));o===i&&f.sendTelemetryEvent(m.Telemetry.SelfCertsMessageClose)}throw n}}async isJupyterHub(e){if(e.toLowerCase().includes("/user/"))return!0;return 200===(await this.makeRequest(e+"hub/api",{method:"get",redirect:"manual",headers:{Connection:"keep-alive"}})).status}async getSessionCookie(e,t,n){let r,i;const o=new c.URLSearchParams;o.append("_xsrf",t),o.append("password",n);const s=await this.makeRequest(e+"login?",{method:"post",headers:{Cookie:"_xsrf="+t,Connection:"keep-alive","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},body:o.toString(),redirect:"manual"});if(302===s.status){const e=this.getCookies(s);e.size>0&&(r=e.entries().next().value[0],i=e.entries().next().value[1])}return{sessionCookieName:r,sessionCookieValue:i}}getCookies(e){const t=new Map,n=e.headers.raw()["set-cookie"];return n&&n.forEach(e=>{const n=e.substring(0,e.indexOf("=")),r=e.substring(e.indexOf("=")+1);t.set(n,r)}),t}};r([f.captureTelemetry(m.Telemetry.GetPasswordAttempt)],g.prototype,"getPasswordConnectionInfo",null),g=r([s.injectable(),i(0,s.inject(u.IApplicationShell)),i(1,s.inject(p.IMultiStepInputFactory)),i(2,s.inject(d.IAsyncDisposableRegistry)),i(3,s.inject(d.IConfigurationService))],g),t.JupyterPasswordConnect=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSessionManagerFactory=void 0;const o=n(0),s=n(7),a=n(1),c=n(3),l=n(5),u=n(13),d=n(1224),h=n(680);let p=class{constructor(e,t,n,r,i,o,s){this.jupyterPasswordConnect=e,this.config=t,this.jupyterOutput=n,this.appShell=r,this.stateFactory=i,this.disposableRegistry=o,this.kernelService=s,this.restartSessionCreatedEvent=new a.EventEmitter,this.restartSessionUsedEvent=new a.EventEmitter}async create(e,t){const n=new d.JupyterSessionManager(this.jupyterPasswordConnect,this.config,t,this.jupyterOutput,this.config,this.appShell,this.stateFactory,this.kernelService);return await n.initialize(e),this.disposableRegistry.push(n.onRestartSessionCreated(this.restartSessionCreatedEvent.fire.bind(this.restartSessionCreatedEvent))),this.disposableRegistry.push(n.onRestartSessionUsed(this.restartSessionUsedEvent.fire.bind(this.restartSessionUsedEvent))),n}get onRestartSessionCreated(){return this.restartSessionCreatedEvent.event}get onRestartSessionUsed(){return this.restartSessionUsedEvent.event}};p=r([o.injectable(),i(0,o.inject(u.IJupyterPasswordConnect)),i(1,o.inject(c.IConfigurationService)),i(2,o.inject(c.IOutputChannel)),i(2,o.named(l.JUPYTER_OUTPUT_CHANNEL)),i(3,o.inject(s.IApplicationShell)),i(4,o.inject(c.IPersistentStateFactory)),i(5,o.inject(c.IDisposableRegistry)),i(6,o.inject(h.JupyterKernelService))],p),t.JupyterSessionManagerFactory=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSessionManager=void 0;const r=n(58),i=n(213),o=n(1),s=n(4),a=n(19),c=n(10),l=n(9),u=n(1225),d=n(1226),h=n(674),p=n(22),f=n(297);class m{constructor(e,t,n,r,i,s,a,c){this.jupyterPasswordConnect=e,this.failOnPassword=n,this.outputChannel=r,this.configService=i,this.appShell=s,this.stateFactory=a,this.kernelService=c,this.restartSessionCreatedEvent=new o.EventEmitter,this.restartSessionUsedEvent=new o.EventEmitter,this.userAllowsInsecureConnections=this.stateFactory.createGlobalPersistentState("DataScienceAllowInsecureConnections",!1)}get jupyterlab(){return this._jupyterlab||(this._jupyterlab=n(89)),this._jupyterlab}get onRestartSessionCreated(){return this.restartSessionCreatedEvent.event}get onRestartSessionUsed(){return this.restartSessionUsedEvent.event}async dispose(){s.traceInfo("Disposing session manager");try{if(this.contentsManager&&(s.traceInfo("SessionManager - dispose contents manager"),this.contentsManager.dispose(),this.contentsManager=void 0),this.sessionManager&&!this.sessionManager.isDisposed){s.traceInfo("ShutdownSessionAndConnection - dispose session manager"),await Promise.race([a.sleep(1e4),this.sessionManager.ready]);const e=this.sessionManager;this.sessionManager.dispose(),this.sessionManager=void 0,e._specs&&(e._specs={}),e._sessions&&e._sessions.clear&&e._sessions.clear(),e._pollModels&&this.clearPoll(e._pollModels),e._pollSpecs&&this.clearPoll(e._pollSpecs)}}catch(e){s.traceError("Exception on session manager shutdown: ",e)}finally{s.traceInfo("Finished disposing jupyter session manager")}}getConnInfo(){return this.connInfo}async initialize(e){this.connInfo=e,this.serverSettings=await this.getServerConnectSettings(e),this.sessionManager=new this.jupyterlab.SessionManager({serverSettings:this.serverSettings}),this.contentsManager=new this.jupyterlab.ContentsManager({serverSettings:this.serverSettings})}async getRunningSessions(){if(!this.sessionManager)return[];await this.sessionManager.refreshRunning();const e=[],t=this.sessionManager.running();let n=t.next();for(;n;)e.push(n),n=t.next();return e}async getRunningKernels(){const e=await this.jupyterlab.Kernel.listRunning(this.serverSettings),t=new Set;return e.map(e=>({id:e.id,name:e.name,lastActivityTime:e.last_activity?new Date(Date.parse(e.last_activity.toString())):new Date,numberOfConnections:e.connections?parseInt(e.connections.toString(),10):0})).filter(e=>!t.has(e.id)&&(t.add(e.id),!0))}async startNew(e,t,n,r,i){if(!(this.connInfo&&this.sessionManager&&this.contentsManager&&this.serverSettings))throw new Error(c.DataScience.sessionDisposed());const o=new d.JupyterSession(e,this.connInfo,this.serverSettings,t,this.sessionManager,this.contentsManager,this.outputChannel,this.restartSessionCreatedEvent.fire.bind(this.restartSessionCreatedEvent),this.restartSessionUsedEvent.fire.bind(this.restartSessionUsedEvent),n,this.configService.getSettings().jupyterLaunchTimeout,this.kernelService);try{await o.connect(this.configService.getSettings().jupyterLaunchTimeout,r,i)}finally{o.isConnected||await o.dispose()}return o}async getKernelSpecs(){if(!this.connInfo||!this.sessionManager||!this.contentsManager)throw new Error(c.DataScience.sessionDisposed());try{const e=this.sessionManager.specs&&Object.keys(this.sessionManager.specs.kernelspecs).length?this.sessionManager.specs.kernelspecs:{};await Promise.race([a.sleep(1e4),this.sessionManager.ready]),await Promise.race([a.sleep(1e4),this.sessionManager.refreshSpecs()]);const t=this.sessionManager.specs&&Object.keys(this.sessionManager.specs.kernelspecs).length?this.sessionManager.specs.kernelspecs:e,n=Object.keys(t);return n&&n.length?n.map(e=>{const n=t[e];return new f.JupyterKernelSpec(n)}):(s.traceError(`SessionManager cannot enumerate kernelspecs. Returning default ${JSON.stringify(t)}.`),[p.createInterpreterKernelSpec()])}catch(e){return s.traceError("SessionManager:getKernelSpecs failure: ",e),[]}}clearPoll(e){try{clearTimeout(e._timeout)}catch(e){l.noop()}}async getServerConnectSettings(e){let t={baseUrl:e.baseUrl,appUrl:"",wsUrl:e.baseUrl.replace("http","ws")};await this.secureConnectionCheck(e);let n,o={cache:"no-store",credentials:"same-origin"},a=i.Request;if(e.getAuthHeader&&(a=u.createAuthorizingRequest(e.getAuthHeader)),""!==e.token&&"null"!==e.token||e.getAuthHeader)t={...t,token:e.token};else{if(this.failOnPassword)throw new Error("Password request not allowed.");t={...t,token:""};const r=await this.jupyterPasswordConnect.getPasswordConnectionInfo(e.baseUrl);if(r&&r.requestHeaders)o={...o,headers:r.requestHeaders},n=r.requestHeaders.Cookie||"",r.remappedBaseUrl&&(t.baseUrl=r.remappedBaseUrl,t.wsUrl=r.remappedBaseUrl.replace("http","ws")),r.remappedToken&&(t.token=r.remappedToken);else{if(!r)throw new Error(c.DataScience.passwordFailure());t={...t,token:e.token}}}const l=this.configService.getSettings(void 0).allowUnauthorizedRemoteConnection;if(e.baseUrl.startsWith("https")&&l){const e=new r.Agent({rejectUnauthorized:!1});o={...o,agent:e}}return t={...t,init:o,WebSocket:h.createJupyterWebSocket(n,l,e.getAuthHeader),fetch:i.default,Request:a,Headers:i.Headers},s.traceInfo("Creating server with settings : "+JSON.stringify(t)),this.jupyterlab.ServerConnection.makeSettings(t)}async insecureServerWarningPrompt(){const e=c.DataScience.insecureSessionMessage(),t=[c.Common.bannerLabelYes(),c.Common.bannerLabelNo(),c.Common.doNotShowAgain()];switch(await this.appShell.showWarningMessage(e,...t)){case c.Common.bannerLabelYes():return!0;case c.Common.doNotShowAgain():return await this.userAllowsInsecureConnections.updateValue(!0),!0;case c.Common.bannerLabelNo():default:return!1}}async secureConnectionCheck(e){if(this.userAllowsInsecureConnections.value)return;if(e.localLaunch||e.baseUrl.startsWith("https")||"null"!==e.token)return;let t=m.secureServers.get(e.baseUrl);if(void 0===t&&(t=this.insecureServerWarningPrompt(),m.secureServers.set(e.baseUrl,t)),!await t)throw new Error(c.DataScience.insecureSessionDenied())}}t.JupyterSessionManager=m,m.secureServers=new Map},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAuthorizingRequest=void 0;const r=n(213);t.createAuthorizingRequest=function(e){class t extends r.Request{constructor(t,n){super(t,n);const r=this.headers,i=e();Object.keys(i).forEach(e=>r.append(e,i[e].toString())),r.set("Content-Type","application/json");const o=r.append.bind(r);r.append=(e,t)=>{"authorization"!==e.toLowerCase()&&o(e,t)}}}return t}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSession=void 0;const i=n(6),o=n(41),s=n(37),a=n(14),c=n(29),l=n(4),u=n(10),d=n(10),h=n(8),p=n(327),f=n(5),m=n(118),g=n(119),v=n(511),y=n(674),b=n(22);class _ extends p.BaseJupyterSession{constructor(e,t,n,r,i,o,s,a,c,l,u,d){super(e,c,l),this.connInfo=t,this.serverSettings=n,this.sessionManager=i,this.contentsManager=o,this.outputChannel=s,this.restartSessionCreated=a,this.workingDirectory=l,this.idleTimeout=u,this.kernelService=d,this.kernelConnectionMetadata=r}waitForIdle(e){return this.waitForIdleOnSession(this.session,e)}async connect(e,t,n){var r;if(!this.connInfo)throw new Error(u.DataScience.sessionDisposed());this.setSession(await this.createNewKernelSession(this.resource,this.kernelConnectionMetadata,e,t,n)),null===(r=this.session)||void 0===r||r.statusChanged.connect(this.statusHandler),this.connected=!0}async createNewKernelSession(e,t,n,r,i){let o;this.resource=e;try{t&&"connectToLiveKernel"===t.kind&&t.kernelModel.id?(o=this.sessionManager.connectTo(t.kernelModel.session),o.kernelConnectionMetadata=t,o.isRemoteSession=!0,o.resource=e):(l.traceInfoIf(a.isCI,"createNewKernelSession "+(null==t?void 0:t.id)),o=await this.createSession(e,this.serverSettings,t,r,i),o.resource=e),await this.waitForIdleOnSession(o,n)}catch(e){throw e instanceof c.BaseError?(l.traceError("Failed to change kernel, re-throwing",e),e):(l.traceError("Failed to change kernel",e),new v.JupyterInvalidKernelError(t))}return o}async createRestartSession(e,t,n,r,i){if(!n||!this.contentsManager||!this.sessionManager)throw new Error(u.DataScience.sessionDisposed());let o,s,c=0;for(;c<3;)try{return l.traceInfoIf(a.isCI,`JupyterSession.createNewKernelSession ${c}, id is ${null==t?void 0:t.id}`),o=await this.createSession(e,n.serverSettings,t,i,!0),await this.waitForIdleOnSession(o,this.idleTimeout),this.restartSessionCreated(o.kernel),o}catch(e){l.traceInfo("Error waiting for restart session: "+e),c+=1,o&&this.shutdownSession(o,void 0,!0).ignoreErrors(),o=void 0,s=e}throw s}startRestartSession(e){!this.restartSessionPromise&&this.session&&this.contentsManager&&(this.restartSessionPromise=this.createRestartSession(this.session.resource,this.kernelConnectionMetadata,this.session,e))}async createBackingFile(){let e=void 0;const t=i.relative(this.connInfo.rootDirectory,this.workingDirectory).replace(/\\/g,"/"),n=this.connInfo.localLaunch&&!t.startsWith("..")?{type:"notebook",path:t}:{type:"notebook"},r=this.resource?`${i.basename(this.resource.fsPath,".ipynb")}-${o()}.ipynb`:`${d.DataScience.defaultNotebookName()}-${o()}.ipynb`;try{e=await this.contentsManager.newUntitled(n);const t=i.dirname(e.path);e=await this.contentsManager.rename(e.path,t.length&&"."!==t?`${t}/${r}`:r)}catch(t){if(this.connInfo.localLaunch)try{e=await this.contentsManager.newUntitled({type:"notebook"});const t=i.dirname(e.path);e=await this.contentsManager.rename(e.path,t.length&&"."!==t?`${t}/${r}`:r)}catch(e){}else l.traceError("Backing file not supported: "+t)}if(e)return e}async createSession(e,t,n,r,i){var c,d,h,f;const m=await this.createBackingFile();(null==n?void 0:n.interpreter)&&this.connInfo.localLaunch&&(l.traceInfoIf(a.isCI,"JupyterSession.createSession "+n.id),await this.kernelService.ensureKernelIsUsable(e,n,r,i));const g=null!==(f=null!==(c=b.getNameOfKernelConnection(n))&&void 0!==c?c:null===(h=null===(d=this.sessionManager)||void 0===d?void 0:d.specs)||void 0===h?void 0:h.default)&&void 0!==f?f:"",v={path:(null==m?void 0:m.path)||o()+".ipynb",kernelName:g,name:o(),serverSettings:t,type:"notebook"};return l.traceInfo(`Starting a new session for kernel id = ${null==n?void 0:n.id}, name = ${v.kernelName}`),s.Cancellation.race(()=>this.sessionManager.startNew(v).then(async t=>{this.logRemoteOutput(u.DataScience.createdNewKernel().format(this.connInfo.baseUrl,t.kernel.id));const r=t;return r.resource=e,r.kernelConnectionMetadata=n,r.kernelSocketInformation={socket:y.JupyterWebSockets.get(t.kernel.id),options:{clientId:t.kernel.clientId,id:t.kernel.id,model:{...t.kernel.model},userName:t.kernel.username}},this.connInfo.localLaunch||(r.isRemoteSession=!0),r}).catch(e=>Promise.reject(new p.JupyterSessionStartError(e))).finally(()=>{this.connInfo&&m&&this.contentsManager.delete(m.path).ignoreErrors()}),r)}logRemoteOutput(e){this.connInfo&&!this.connInfo.localLaunch&&this.outputChannel.appendLine(e)}}r([m.reportAction(g.ReportableAction.JupyterSessionWaitForIdleSession),h.captureTelemetry(f.Telemetry.WaitForIdleJupyter,void 0,!0)],_.prototype,"waitForIdle",null),t.JupyterSession=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1228))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(345);t.ReplaySubject=r.ReplaySubject},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSocket=void 0;const r=n(1230),i=n(41),o=n(4),s=n(9);t.RawSocket=class{constructor(e,t,n){this.connection=e,this.serialize=t,this.deserialize=n,this.onopen=s.noop,this.onerror=s.noop,this.onclose=s.noop,this.onmessage=s.noop,this.receiveHooks=[],this.sendHooks=[],this.msgChain=Promise.resolve(),this.sendChain=Promise.resolve(),this.closed=!1,this.channels=this.generateChannels(e)}dispose(){this.closed||this.close()}close(){this.closed=!0;const e=e=>{try{e.close()}catch(e){o.traceError("Error during socket shutdown",e)}};e(this.channels.control),e(this.channels.iopub),e(this.channels.shell),e(this.channels.stdin)}emit(e,...t){switch(e){case"message":this.onmessage({data:t[0],type:"message",target:this});break;case"close":this.onclose({wasClean:!0,code:0,reason:"",target:this});break;case"error":this.onerror({error:"",message:"to do",type:"error",target:this});break;case"open":this.onopen({target:this})}return!0}sendToRealKernel(e,t){const n=this.deserialize(e);this.sendMessage(n,!0)}send(e,t){this.sendMessage(e,!1)}addReceiveHook(e){this.receiveHooks.push(e)}removeReceiveHook(e){this.receiveHooks=this.receiveHooks.filter(t=>t!==e)}addSendHook(e){this.sendHooks.push(e)}removeSendHook(e){this.sendHooks=this.sendHooks.filter(t=>t!==e)}generateChannel(e,t,n){const r=n();return r.connect(function(e,t){const n="tcp"===e.transport?":":"-",r=e[t+"_port"];if(!r)throw new Error(`Port not found for channel "${t}"`);return`${e.transport}://${e.ip}${n}${r}`}(e,t)),this.processSocketMessages(t,r).catch(o.traceError.bind("Failed to read messages from channel "+t)),r}async processSocketMessages(e,t){for await(const n of t){if(this.closed)break;this.onIncomingMessage(e,n)}}generateChannels(e){const t=n(515),r=i(),o={iopub:this.generateChannel(e,"iopub",()=>new t.Subscriber({maxMessageSize:-1,receiveHighWaterMark:0})),shell:this.generateChannel(e,"shell",()=>new t.Dealer({routingId:r,sendHighWaterMark:0,receiveHighWaterMark:0,maxMessageSize:-1})),control:this.generateChannel(e,"control",()=>new t.Dealer({routingId:r,sendHighWaterMark:0,receiveHighWaterMark:0,maxMessageSize:-1})),stdin:this.generateChannel(e,"stdin",()=>new t.Dealer({routingId:r,sendHighWaterMark:0,receiveHighWaterMark:0,maxMessageSize:-1}))};return o.iopub.subscribe(),o}onIncomingMessage(e,t){const n=this.closed?{}:r.decode(t,this.connection.key,this.connection.signature_scheme);n.channel=e,this.receiveHooks.length?this.msgChain=this.msgChain.then(()=>{const e=this.serialize(n);return Promise.all(this.receiveHooks.map(t=>t(e)))}).then(()=>this.fireOnMessage(n)):this.msgChain=this.msgChain.then(()=>this.fireOnMessage(n))}fireOnMessage(e){this.closed||this.onmessage({data:e,type:"message",target:this})}sendMessage(e,t){const n=r.encode(e,this.connection.key,this.connection.signature_scheme);if(!t&&this.sendHooks.length){const t=this.serialize(e);this.sendChain=this.sendChain.then(()=>Promise.all(this.sendHooks.map(e=>e(t,s.noop)))).then(()=>this.postToSocket(e.channel,n))}else this.sendChain=this.sendChain.then(()=>{this.postToSocket(e.channel,n)})}postToSocket(e,t){const n=this.channels[e];n?n.send(t).catch(e=>{o.traceError("Error communicating with the kernel",e)}):o.traceError("Attempting to send message on invalid channel: "+e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(61);function i(e){return JSON.parse(e.toString())}function o(e){return Object.assign({},{header:{},parent_header:{},metadata:{},content:{},idents:[],buffers:[]},e)}function s(e){let t=e;switch(e){case"hmac-sha256":t="sha256"}return t}t.decode=function(e,t,n="sha256"){var a=0;const c=[];for(a=0;a<e.length;a++){var l=e[a];if("<IDS|MSG>"===l.toString())break;c.push(l)}if(e.length-a<5)throw new Error("Message Decoding: Not enough message frames");if("<IDS|MSG>"!==e[a].toString())throw new Error("Message Decoding: Missing delimiter");if(t){const i=s(n);var u=e[a+1].toString(),d=r.createHmac(i,t);d.update(e[a+2]),d.update(e[a+3]),d.update(e[a+4]),d.update(e[a+5]);var h=d.digest("hex");if(h!==u)throw new Error(`Message Decoding: Incorrect;\nObtained "${u}"\nExpected "${h}"`)}return o({idents:c,header:i(e[a+2]),parent_header:i(e[a+3]),content:i(e[a+5]),metadata:i(e[a+4]),buffers:Array.prototype.slice.apply(e,[a+6])})},t.encode=function(e,t,n="sha256"){const i=o(e),a=s(n),c=i.idents,l=Buffer.from(JSON.stringify(i.header),"utf-8"),u=Buffer.from(JSON.stringify(i.parent_header),"utf-8"),d=Buffer.from(JSON.stringify(i.metadata),"utf-8"),h=Buffer.from(JSON.stringify(i.content),"utf-8");let p="";if(t){const e=r.createHmac(a,t);e.update(l),e.update(u),e.update(d),e.update(h),p=e.digest("hex")}return c.concat([Buffer.from("<IDS|MSG>"),Buffer.from(p),l,u,d,h]).concat(i.buffers)}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(65),o=n(52),s=n(91),a=n(52),c=n(57),l=n(120),u=n(657),d=n(198),h=n(658),p=e=>e,f=e=>e,m=r(n(332));class g{constructor(e,t){this._createSocket=()=>{if(this.isDisposed)return;let e=this.serverSettings,t=i.URLExt.join(e.wsUrl,"api/kernels",encodeURIComponent(this._id)),n=t.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.log("Starting WebSocket:",n);let r=i.URLExt.join(t,"channels?session_id="+encodeURIComponent(this._clientId)),o=e.token;""!==o&&(r=r+"&token="+encodeURIComponent(o)),this._wsStopped=!1,this._ws=new e.WebSocket(r),this._ws.binaryType="arraybuffer",this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSOpen=e=>{this._reconnectAttempt=0,this._updateStatus("connected"),this._isReady=!0,this.requestKernelInfo().then(()=>{this._initialized=!0,this._isReady=!0,this._readyPromise.resolve()}).catch(e=>{this._initialized=!0,this._readyPromise.reject(e)}),this._isReady=!1},this._onWSMessage=e=>{if(this._wsStopped)return;let t;try{t=f(e.data),m.validateMessage(t)}catch(e){throw e.message="Kernel message validation error: "+e.message,e}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then(()=>this._handleMessage(t)).catch(e=>{console.error(e)}),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{if(!this._wsStopped&&this._ws)if(this._clearSocket(),this._reconnectAttempt<this._reconnectLimit){this._updateStatus("reconnecting");let e=Math.pow(2,this._reconnectAttempt);console.error("Connection lost, reconnecting in "+e+" seconds."),setTimeout(this._createSocket,1e3*e),this._reconnectAttempt+=1}else this._updateStatus("dead")},this._id="",this._name="",this._status="unknown",this._kernelSession="",this._clientId="",this._isDisposed=!1,this._wsStopped=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._isReady=!1,this._readyPromise=new a.PromiseDelegate,this._initialized=!1,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=null,this._pendingMessages=[],this._statusChanged=new c.Signal(this),this._iopubMessage=new c.Signal(this),this._anyMessage=new c.Signal(this),this._unhandledMessage=new c.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._terminated=new c.Signal(this),this._msgChain=Promise.resolve(),this._noOp=()=>{},this._name=e.name,this._id=t,this.serverSettings=e.serverSettings||l.ServerConnection.makeSettings(),this._clientId=e.clientId||o.UUID.uuid4(),this._username=e.username||"",this.handleComms=void 0===e.handleComms||e.handleComms,this._readyPromise.promise.then(()=>{this._sendPending()}),this._createSocket(),v.runningKernels.push(this)}get terminated(){return this._terminated}get statusChanged(){return this._statusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get id(){return this._id}get name(){return this._name}get model(){return{name:this.name,id:this.id}}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get isDisposed(){return this._isDisposed}get info(){return this._info}get isReady(){return this._isReady}get ready(){return this._readyPromise.promise}getSpec(){return this._specPromise||(this._specPromise=v.findSpecs(this.serverSettings).then(e=>e.kernelspecs[this._name])),this._specPromise}clone(e={}){return new g(Object.assign({name:this._name,username:this._username,serverSettings:this.serverSettings,handleComms:this.handleComms},e),this._id)}dispose(){this.isDisposed||(this._isDisposed=!0,this._terminated.emit(),this._status="dead",this._clearState(),this._clearSocket(),this._kernelSession="",this._msgChain=null,s.ArrayExt.removeFirstOf(v.runningKernels,this),c.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(h.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(h.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,r=!0){if("dead"===this.status)throw new Error("Kernel is dead");this._isReady&&this._ws?this._ws.send(p(t)):this._pendingMessages.push(t),this._anyMessage.emit({msg:t,direction:"send"});let i=new e(()=>{let e=t.header.msg_id;this._futures.delete(e);let n=this._msgIdToDisplayIds.get(e);n&&(n.forEach(t=>{let n=this._displayIdToParentIds.get(t);if(n){let r=n.indexOf(e);if(-1===r)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(r,1),this._displayIdToParentIds.set(t,n))}}),this._msgIdToDisplayIds.delete(e))},t,n,r,this);return this._futures.set(t.header.msg_id,i),i}interrupt(){return v.interruptKernel(this,this.serverSettings)}restart(){return v.restartKernel(this,this.serverSettings)}async handleRestart(){await this._clearState(),this._updateStatus("restarting")}reconnect(){return this._clearSocket(),this._updateStatus("reconnecting"),this._createSocket(),this._readyPromise.promise}async shutdown(){if("dead"===this.status)return this._clearSocket(),void await this._clearState();await v.shutdownKernel(this.id,this.serverSettings),await this._clearState(),this._clearSocket()}async requestKernelInfo(){let e=d.KernelMessage.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}}),t=await v.handleShellMessage(this,e);if(this.isDisposed)throw new Error("Disposed kernel");if(t.content.status&&"ok"!==t.content.status)throw new Error("Kernel info reply errored");return this._info=t.content,t}requestComplete(e){let t=d.KernelMessage.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestInspect(e){let t=d.KernelMessage.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestHistory(e){let t=d.KernelMessage.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestExecute(e,t=!0,n){let r=d.KernelMessage.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},e),metadata:n});return this.sendShellMessage(r,!0,t)}requestDebug(e,t=!0){let n=d.KernelMessage.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){let t=d.KernelMessage.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}requestCommInfo(e){let t=d.KernelMessage.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return v.handleShellMessage(this,t)}sendInputReply(e){if("dead"===this.status)throw new Error("Kernel is dead");let t=d.KernelMessage.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});this._isReady&&this._ws?this._ws.send(p(t)):this._pendingMessages.push(t),this._anyMessage.emit({msg:t,direction:"send"})}connectToComm(e,t=o.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))return this._comms.get(t);let n=new u.CommHandler(e,t,this,()=>{this._unregisterComm(t)});return this._comms.set(t,n),n}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){let n=this._futures&&this._futures.get(e);n&&n.registerMessageHook(t)}removeMessageHook(e,t){let n=this._futures&&this._futures.get(e);n&&n.removeMessageHook(t)}async _handleDisplayId(e,t){let n=t.parent_header.msg_id,r=this._displayIdToParentIds.get(e);if(r){let e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map(async t=>{let n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)}))}if("update_display_data"===t.header.msg_type)return!0;r=this._displayIdToParentIds.get(e)||[],-1===r.indexOf(n)&&r.push(n),this._displayIdToParentIds.set(e,r);let i=this._msgIdToDisplayIds.get(n)||[];return-1===i.indexOf(n)&&i.push(n),this._msgIdToDisplayIds.set(n,i),!1}_clearSocket(){this._wsStopped=!0,null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){switch(e){case"idle":case"busy":!this._isReady&&this._initialized&&(this._isReady=!0,this._readyPromise.resolve());break;case"restarting":this.requestKernelInfo().catch(this._noOp);break;case"starting":case"autorestarting":case"connected":break;case"reconnecting":this._isReady&&(this._isReady=!1,this._readyPromise=new a.PromiseDelegate,this._readyPromise.promise.then(()=>{this._sendPending()}));break;case"dead":this._isReady&&(this._isReady=!1,this._readyPromise=new a.PromiseDelegate),this._readyPromise.promise.catch(this._noOp),this._readyPromise.reject("Kernel is dead");break;default:return void console.error("invalid kernel status:",e)}e!==this._status&&(this._status=e,v.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;this._ws&&this._pendingMessages.length>0;){let e=p(this._pendingMessages[0]);this._ws.send(e),this._pendingMessages.shift()}}async _clearState(){this._pendingMessages=[];const e=[];this._futures.forEach(t=>{e.push(t.done.then(this._noOp,this._noOp)),t.dispose()}),this._comms.forEach(e=>{e.dispose()}),this._msgChain=Promise.resolve(),this._kernelSession="",this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear(),await Promise.all(e)}_assertCurrentMessage(e){if(this.isDisposed)throw new Error("Kernel object is disposed");if(e.header.session!==this._kernelSession)throw new Error("Canceling handling of old message: "+e.header.msg_type)}async _handleCommOpen(e){this._assertCurrentMessage(e);let t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,()=>{this._unregisterComm(t.comm_id)});this._comms.set(t.comm_id,n);try{let r=await v.loadObject(t.target_name,t.target_module,this._targetRegistry);await r(n,e)}catch(e){throw n.close(),console.error("Exception opening new comm"),e}}async _handleCommClose(e){this._assertCurrentMessage(e);let t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);let r=n.onClose;r&&await r(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);let t=e.content,n=this._comms.get(t.comm_id);if(!n)return;let r=n.onMsg;r&&await r(e)}_unregisterComm(e){this._comms.delete(e)}async _handleMessage(e){let t=!1;if(e.parent_header&&"iopub"===e.channel&&(d.KernelMessage.isDisplayDataMsg(e)||d.KernelMessage.isUpdateDisplayDataMsg(e)||d.KernelMessage.isExecuteResultMsg(e))){let n=(e.content.transient||{}).display_id;n&&(t=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!t&&e.parent_header){let t=e.parent_header,n=this._futures&&this._futures.get(t.msg_id);if(n)await n.handleMsg(e),this._assertCurrentMessage(e);else{let n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":let t=e.content.execution_state;this._updateStatus(t),"restarting"===t&&Promise.resolve().then(async()=>{await this.handleRestart(),this._updateStatus("autorestarting")});break;case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}}var v;t.DefaultKernel=g,function(e){e.findById=function(e,t){return v.findById(e,t)},e.getSpecs=function(e){return v.getSpecs(e)},e.listRunning=function(e){return v.listRunning(e)},e.startNew=function(e){return v.startNew(e)},e.connectTo=function(e,t){return v.connectTo(e,t)},e.shutdown=function(e,t){return v.shutdownKernel(e,t)},e.shutdownAll=function(e){return v.shutdownAll(e)}}(g=t.DefaultKernel||(t.DefaultKernel={})),function(e){function t(t){t=t||l.ServerConnection.makeSettings();let n=i.URLExt.join(t.baseUrl,"api/kernelspecs"),r=l.ServerConnection.makeRequest(n,{},t).then(e=>{if(200!==e.status)throw new l.ServerConnection.ResponseError(e);return e.json()}).then(e=>m.validateSpecModels(e));return e.specs[t.baseUrl]=r,r}function n(e){e=e||l.ServerConnection.makeSettings();let t=i.URLExt.join(e.baseUrl,"api/kernels");return l.ServerConnection.makeRequest(t,{},e).then(e=>{if(200!==e.status)throw new l.ServerConnection.ResponseError(e);return e.json()}).then(e=>{if(!Array.isArray(e))throw new Error("Invalid kernel list");for(let t=0;t<e.length;t++)m.validateModel(e[t]);return r(e)})}function r(t){return s.each(e.runningKernels.slice(),e=>{s.find(t,t=>e.id===t.id)||"dead"===e.status||e.dispose()}),t}async function o(t,n){n=n||l.ServerConnection.makeSettings();let r=i.URLExt.join(n.baseUrl,"api/kernels",encodeURIComponent(t)),o=await l.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){let e=`The kernel "${t}" does not exist on the server`;console.warn(e)}else if(204!==o.status)throw new l.ServerConnection.ResponseError(o);!function(t){e.runningKernels.slice().forEach(e=>{e.id===t&&e.dispose()})}(t)}async function a(e,t){t=t||l.ServerConnection.makeSettings();let n=i.URLExt.join(t.baseUrl,"api/kernels",encodeURIComponent(e)),r=await l.ServerConnection.makeRequest(n,{},t);if(200!==r.status)throw new l.ServerConnection.ResponseError(r);let o=await r.json();return m.validateModel(o),o}e.runningKernels=[],e.specs=Object.create(null),e.findById=function(t,n){let r=s.find(e.runningKernels,e=>e.id===t);return r?Promise.resolve(r.model):a(t,n).catch(()=>{throw new Error("No running kernel with id: "+t)})},e.findSpecs=function(n){n=n||l.ServerConnection.makeSettings();let r=e.specs[n.baseUrl];return r||t(n)},e.getSpecs=t,e.listRunning=n,e.updateRunningKernels=r,e.startNew=async function(e){let t=e.serverSettings||l.ServerConnection.makeSettings(),n=i.URLExt.join(t.baseUrl,"api/kernels"),r={method:"POST",body:JSON.stringify({name:e.name})},o=await l.ServerConnection.makeRequest(n,r,t);if(201!==o.status)throw new l.ServerConnection.ResponseError(o);let s=await o.json();return m.validateModel(s),new g(Object.assign({},e,{name:s.name,serverSettings:t}),s.id)},e.connectTo=function(t,n){let r=n||l.ServerConnection.makeSettings(),i=s.find(e.runningKernels,e=>e.id===t.id);if(i){const n=!s.some(e.runningKernels,e=>e.id===t.id&&e.handleComms);return i.clone({handleComms:n})}return new g({name:t.name,serverSettings:r},t.id)},e.restartKernel=async function(t,n){if("dead"===t.status)throw new Error("Kernel is dead");n=n||l.ServerConnection.makeSettings();let r=i.URLExt.join(n.baseUrl,"api/kernels",encodeURIComponent(t.id),"restart");await Promise.all(e.runningKernels.filter(e=>e.id===t.id).map(e=>e.handleRestart()));let o=await l.ServerConnection.makeRequest(r,{method:"POST"},n);if(200!==o.status)throw new l.ServerConnection.ResponseError(o);let s=await o.json();m.validateModel(s)},e.interruptKernel=async function(e,t){if("dead"===e.status)throw new Error("Kernel is dead");t=t||l.ServerConnection.makeSettings();let n=i.URLExt.join(t.baseUrl,"api/kernels",encodeURIComponent(e.id),"interrupt"),r=await l.ServerConnection.makeRequest(n,{method:"POST"},t);if(204!==r.status)throw new l.ServerConnection.ResponseError(r)},e.shutdownKernel=o,e.shutdownAll=async function(e){e=e||l.ServerConnection.makeSettings();let t=await n(e);await Promise.all(t.map(t=>o(t.id,e)))},e.getKernelModel=a,e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.log(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise((r,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else r(n[e])},i)}else n&&n[e]?r(n[e]):i(new Error(`Object '${e}' not found in registry`))})}}(v||(v={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57);t.ActivityMonitor=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new r.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s){var a=(n+s)%o;if(e[a]===t)return a}return-1}function n(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var s=0;s<i;++s){var a=(n-s+o)%o;if(e[a]===t)return a}return-1}function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s){var a=(n+s)%o;if(t(e[a],a))return a}return-1}function i(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var s=0;s<i;++s){var a=(n-s+o)%o;if(t(e[a],a))return a}return-1}function o(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var r=e.length;if(!(r<=1))for(t=t<0?Math.max(0,t+r):Math.min(t,r-1),n=n<0?Math.max(0,n+r):Math.min(n,r-1);t<n;){var i=e[t],o=e[n];e[t++]=o,e[n--]=i}}function s(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var r=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,r}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=r,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=r(e,t,n,i);return-1!==o?e[o]:void 0},e.findLastValue=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var o=i(e,t,n,r);return-1!==o?e[o]:void 0},e.lowerBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var s=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)<0?(s=l+1,a-=c+1):a=c}return s},e.upperBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var s=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)>0?a=c:(s=l+1,a-=c+1)}return s},e.shallowEqual=function(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;++r)if(n?!n(e[r],t[r]):e[r]!==t[r])return!1;return!0},e.slice=function(e,t){void 0===t&&(t={});var n=t.start,r=t.stop,i=t.step;if(void 0===i&&(i=1),0===i)throw new Error("Slice `step` cannot be zero.");var o,s=e.length;void 0===n?n=i<0?s-1:0:n<0?n=Math.max(n+s,i<0?-1:0):n>=s&&(n=i<0?s-1:s),void 0===r?r=i<0?-1:s:r<0?r=Math.max(r+s,i<0?-1:0):r>=s&&(r=i<0?s-1:s),o=i<0&&r>=n||i>0&&n>=r?0:i<0?Math.floor((r-n+1)/i+1):Math.floor((r-n-1)/i+1);for(var a=[],c=0;c<o;++c)a[c]=e[n+c*i];return a},e.move=function(e,t,n){var r=e.length;if(!(r<=1)&&(t=t<0?Math.max(0,t+r):Math.min(t,r-1))!==(n=n<0?Math.max(0,n+r):Math.min(n,r-1))){for(var i=e[t],o=t<n?1:-1,s=t;s!==n;s+=o)e[s]=e[s+o];e[n]=i}},e.reverse=o,e.rotate=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(r=r<0?Math.max(0,r+i):Math.min(r,i-1)))){var s=r-n+1;if(t>0?t%=s:t<0&&(t=(t%s+s)%s),0!==t){var a=n+t;o(e,n,a-1),o(e,a,r),o(e,n,r)}}},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0!==i){var o;n=n<0?Math.max(0,n+i):Math.min(n,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var s=0;s<o;++s)e[(n+s)%i]=t}},e.insert=function(e,t,n){var r=e.length;t=t<0?Math.max(0,t+r):Math.min(t,r);for(var i=r;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=s,e.removeFirstOf=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=t(e,n,r,i);return-1!==o&&s(e,o),o},e.removeLastOf=function(e,t,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o=n(e,t,r,i);return-1!==o&&s(e,o),o},e.removeAllOf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,s=0;s<i;++s)n<=r&&s>=n&&s<=r&&e[s]===t||r<n&&(s<=r||s>=n)&&e[s]===t?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=i-o),o},e.removeFirstWhere=function(e,t,n,i){var o;void 0===n&&(n=0),void 0===i&&(i=-1);var a=r(e,t,n,i);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeLastWhere=function(e,t,n,r){var o;void 0===n&&(n=-1),void 0===r&&(r=0);var a=i(e,t,n,r);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeAllWhere=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,s=0;s<i;++s)n<=r&&s>=n&&s<=r&&t(e[s],s)||r<n&&(s<=r||s>=n)&&t(e[s],s)?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=i-o),o}}(t.ArrayExt||(t.ArrayExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i(r.iter(e.map(r.iter)))};var i=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();t.ChainIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(){return new r};var r=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();t.EmptyIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.enumerate=function(e,t){return void 0===t&&(t=0),new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._index=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]},e}();t.EnumerateIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.filter=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();t.FilterIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.find=function(e,t){for(var n,i=0,o=r.iter(e);void 0!==(n=o.next());)if(t(n,i++))return n},t.findIndex=function(e,t){for(var n,i=0,o=r.iter(e);void 0!==(n=o.next());)if(t(n,i++))return i-1;return-1},t.min=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var o=i;void 0!==(i=n.next());)t(i,o)<0&&(o=i);return o}},t.max=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var o=i;void 0!==(i=n.next());)t(i,o)>0&&(o=i);return o}},t.minmax=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var o=i,s=i;void 0!==(i=n.next());)t(i,o)<0?o=i:t(i,s)>0&&(s=i);return[o,s]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.map=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();t.MapIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=function(e,t,n){return void 0===t?new i(0,e,1):new i(e,t,void 0===n?1:n)};var r,i=function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=r.rangeLength(e,t,n)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();t.RangeIterator=i,function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.reduce=function(e,t,n){var i=0,o=r.iter(e),s=o.next();if(void 0===s&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===s)return n;var a,c,l=o.next();if(void 0===l&&void 0===n)return s;if(void 0===l)return t(n,s,i++);for(a=t(void 0===n?s:t(n,s,i++),l,i++);void 0!==(c=o.next());)a=t(a,c,i++);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=function(e,t){return new r(e,t)},t.once=function(e){return new r(e,1)};var r=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();t.RepeatIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retro=function(e){return"function"==typeof e.retro?e.retro():new r(e)};var r=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();t.RetroArrayIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.topologicSort=function(e){var t=[],n=new Set,i=new Map;return r.each(e,(function(e){var t=e[0],n=e[1],r=i.get(n);r?r.push(t):i.set(n,[t])})),i.forEach((function(e,t){o(t)})),t;function o(e){if(!n.has(e)){n.add(e);var r=i.get(e);r&&r.forEach(o),t.push(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.stride=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._step=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e},e}();t.StrideIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n){void 0===n&&(n=0);for(var r=new Array(t.length),i=0,o=n,s=t.length;i<s;++i,++o){if(-1===(o=e.indexOf(t[i],o)))return null;r[i]=o}return r}e.findIndices=t,e.matchSumOfSquares=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,s=0,a=i.length;s<a;++s){var c=i[s]-r;o+=c*c}return{score:o,indices:i}},e.matchSumOfDeltas=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,s=r-1,a=0,c=i.length;a<c;++a){var l=i[a];o+=l-s-1,s=l}return{score:o,indices:i}},e.highlight=function(e,t,n){for(var r=[],i=0,o=0,s=t.length;i<s;){for(var a=t[i],c=t[i];++i<s&&t[i]===c+1;)c++;o<a&&r.push(e.slice(o,a)),a<c+1&&r.push(n(e.slice(a,c+1))),o=c+1}return o<e.length&&r.push(e.slice(o)),r},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(t.StringExt||(t.StringExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.take=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();t.TakeIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i(e.map(r.iter))};var i=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var r=this._source[t].next();if(void 0===r)return;e[t]=r}return e},e}();t.ZipIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DataConnector=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CODE_BLOCK_MARKER="```";const t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class n{constructor(e){this.startLine=e,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];const r=t.split("\n"),i=[];let o=null;for(let t=0;t<r.length;t++){const s=r[t],a=0===s.indexOf(e.CODE_BLOCK_MARKER),c=null!=o;if(a||c)if(c)o&&(a?(o.endLine=t-1,i.push(o),o=null):o.code+=s+"\n");else{o=new n(t);const r=s.indexOf(e.CODE_BLOCK_MARKER),a=s.lastIndexOf(e.CODE_BLOCK_MARKER);r!==a&&(o.code=s.substring(r+e.CODE_BLOCK_MARKER.length,a),o.endLine=t,i.push(o),o=null)}}return i}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52);!function(e){e.MAJOR_VERSION=4,e.MINOR_VERSION=4,e.validateMimeValue=function(e,t){const n="application/json"===e||/^application\/(.*?)+\+json$/.test(e);let i=e=>"[object String]"===Object.prototype.toString.call(e);if(Array.isArray(t)){if(n)return!1;let e=!0;return t.forEach(t=>{i(t)||(e=!1)}),e}return i(t)?!n:!!n&&r.JSONExt.isObject(t)},e.isRaw=function(e){return"raw"===e.cell_type},e.isMarkdown=function(e){return"markdown"===e.cell_type},e.isCode=function(e){return"code"===e.cell_type},e.isExecuteResult=function(e){return"execute_result"===e.output_type},e.isDisplayData=function(e){return"display_data"===e.output_type},e.isDisplayUpdate=function(e){return"update_display_data"===e.output_type},e.isStream=function(e){return"stream"===e.output_type},e.isError=function(e){return"error"===e.output_type}}(t.nbformat||(t.nbformat={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}function r(e,i){if(e===i)return!0;if(t(e)||t(i))return!1;var o=n(e),s=n(i);return o===s&&(o&&s?function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;++n)if(!r(e[n],t[n]))return!1;return!0}(e,i):function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;for(var n in e)if(!r(e[n],t[n]))return!1;return!0}(e,i))}function i(e){return t(e)?e:n(e)?function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=i(e[n]);return t}(e):function(e){var t={};for(var n in e)t[n]=i(e[n]);return t}(e)}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=function(e){return!t(e)&&!n(e)},e.deepEqual=r,e.deepCopy=i}(t.JSONExt||(t.JSONExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}();t.MimeData=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return e.prototype.resolve=function(e){(0,this._resolve)(e)},e.prototype.reject=function(e){(0,this._reject)(e)},e}();t.PromiseDelegate=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.name=e,this._tokenStructuralPropertyT=null};t.Token=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(516);!function(e){e.uuid4=function(){for(var e=new Uint8Array(16),t=new Array(256),n=0;n<16;++n)t[n]="0"+n.toString(16);for(n=16;n<256;++n)t[n]=n.toString(16);return function(){return r.Random.getRandomValues(e),e[6]=64|15&e[6],e[8]=128|63&e[8],t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]}}()}(t.UUID||(t.UUID={}))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const coreutils_1=__webpack_require__(52),minimist_1=__importDefault(__webpack_require__(1258)),url_1=__webpack_require__(517);var PageConfig;!function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if("undefined"!=typeof document&&document){const e=document.getElementById("jupyter-config-data");e&&(configData=JSON.parse(e.textContent||""),found=!0)}if(!found&&"undefined"!=typeof process)try{const cli=minimist_1.default(process.argv.slice(2)),path=__webpack_require__(6);let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(let e in configData)"string"!=typeof configData[e]&&(configData[e]=JSON.stringify(configData[e]));else configData=Object.create(null);return configData[name]||getBodyData(name)}function setOption(e,t){const n=getOption(e);return configData[e]=t,n}function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}function getWsUrl(e){let t=getOption("wsUrl");if(!t){if(0!==(e=e?url_1.URLExt.normalize(e):getBaseUrl()).indexOf("http"))return"";t="ws"+e.slice(4)}return url_1.URLExt.normalize(t)}function getNBConvertURL({path:e,format:t,download:n}){const r=url_1.URLExt.encodeParts(e),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",t,r);return n?i+"?download=true":i}function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}function getNotebookVersion(){const e=getOption("notebookVersion");return""===e?[0,0,0]:JSON.parse(e)}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getWsUrl=getWsUrl,PageConfig.getNBConvertURL=getNBConvertURL,PageConfig.getToken=getToken,PageConfig.getNotebookVersion=getNotebookVersion;let configData=null,Extension;function getBodyData(e){if("undefined"==typeof document||!document.body)return"";let t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}!function(e){function t(e){try{const t=getOption(e);if(t)return JSON.parse(t).map(e=>({raw:e,rule:new RegExp(e)}))}catch(t){console.warn(`Unable to parse ${e}.`,t)}return[]}e.deferred=t("deferredExtensions"),e.disabled=t("disabledExtensions"),e.isDeferred=function(t){return e.deferred.some(e=>e.raw===t||e.rule.test(t))},e.isDisabled=function(t){return e.disabled.some(e=>e.raw===t||e.rule.test(t))}}(Extension=PageConfig.Extension||(PageConfig.Extension={}))}(PageConfig=exports.PageConfig||(exports.PageConfig={}))},function(e,t){function n(e){return"number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e))}e.exports=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof t.unknown&&(r.unknownFn=t.unknown),"boolean"==typeof t.boolean&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach((function(e){r.bools[e]=!0}));var i={};Object.keys(t.alias||{}).forEach((function(e){i[e]=[].concat(t.alias[e]),i[e].forEach((function(t){i[t]=[e].concat(i[e].filter((function(e){return t!==e})))}))})),[].concat(t.string).filter(Boolean).forEach((function(e){r.strings[e]=!0,i[e]&&(r.strings[i[e]]=!0)}));var o=t.default||{},s={_:[]};Object.keys(r.bools).forEach((function(e){c(e,void 0!==o[e]&&o[e])}));var a=[];function c(e,t,o){if(!o||!r.unknownFn||function(e,t){return r.allBools&&/^--[^=]+$/.test(t)||r.strings[e]||r.bools[e]||i[e]}(e,o)||!1!==r.unknownFn(o)){var a=!r.strings[e]&&n(t)?Number(t):t;l(s,e.split("."),a),(i[e]||[]).forEach((function(e){l(s,e.split("."),a)}))}}function l(e,t,n){for(var i=e,o=0;o<t.length-1;o++){if("__proto__"===(s=t[o]))return;void 0===i[s]&&(i[s]={}),i[s]!==Object.prototype&&i[s]!==Number.prototype&&i[s]!==String.prototype||(i[s]={}),i[s]===Array.prototype&&(i[s]=[]),i=i[s]}var s;"__proto__"!==(s=t[t.length-1])&&(i!==Object.prototype&&i!==Number.prototype&&i!==String.prototype||(i={}),i===Array.prototype&&(i=[]),void 0===i[s]||r.bools[s]||"boolean"==typeof i[s]?i[s]=n:Array.isArray(i[s])?i[s].push(n):i[s]=[i[s],n])}function u(e){return i[e].some((function(e){return r.bools[e]}))}-1!==e.indexOf("--")&&(a=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var d=0;d<e.length;d++){var h=e[d];if(/^--.+=/.test(h)){var p=h.match(/^--([^=]+)=([\s\S]*)$/),f=p[1],m=p[2];r.bools[f]&&(m="false"!==m),c(f,m,h)}else if(/^--no-.+/.test(h)){c(f=h.match(/^--no-(.+)/)[1],!1,h)}else if(/^--.+/.test(h)){f=h.match(/^--(.+)/)[1];void 0===(b=e[d+1])||/^-/.test(b)||r.bools[f]||r.allBools||i[f]&&u(f)?/^(true|false)$/.test(b)?(c(f,"true"===b,h),d++):c(f,!r.strings[f]||"",h):(c(f,b,h),d++)}else if(/^-[^-]+/.test(h)){for(var g=h.slice(1,-1).split(""),v=!1,y=0;y<g.length;y++){var b;if("-"!==(b=h.slice(y+2))){if(/[A-Za-z]/.test(g[y])&&/=/.test(b)){c(g[y],b.split("=")[1],h),v=!0;break}if(/[A-Za-z]/.test(g[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(b)){c(g[y],b,h),v=!0;break}if(g[y+1]&&g[y+1].match(/\W/)){c(g[y],h.slice(y+2),h),v=!0;break}c(g[y],!r.strings[g[y]]||"",h)}else c(g[y],b,h)}f=h.slice(-1)[0];v||"-"===f||(!e[d+1]||/^(-|--)[^-]/.test(e[d+1])||r.bools[f]||i[f]&&u(f)?e[d+1]&&/^(true|false)$/.test(e[d+1])?(c(f,"true"===e[d+1],h),d++):c(f,!r.strings[f]||"",h):(c(f,e[d+1],h),d++))}else if(r.unknownFn&&!1===r.unknownFn(h)||s._.push(r.strings._||!n(h)?h:Number(h)),t.stopEarly){s._.push.apply(s._,e.slice(d+1));break}}return Object.keys(o).forEach((function(e){var t,n,r;t=s,n=e.split("."),r=t,n.slice(0,-1).forEach((function(e){r=r[e]||{}})),n[n.length-1]in r||(l(s,e.split("."),o[e]),(i[e]||[]).forEach((function(t){l(s,t.split("."),o[e])})))})),t["--"]?(s["--"]=new Array,a.forEach((function(e){s["--"].push(e)}))):a.forEach((function(e){s._.push(e)})),s}},function(e,t,n){"use strict";var r=n(1260),i=n(1261),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(a,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var t,n=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||n);if("blob:"===e.protocol)r=new p(unescape(e.pathname),{});else if("string"===i)for(t in r=new p(e,{}),u)delete r[t];else if("object"===i){for(t in e)t in u||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=o.test(e.href))}return r}function h(e){e=c(e);var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(e=c(e),!(this instanceof p))return new p(e,t,n);var o,s,a,u,f,m,g=l.slice(),v=typeof t,y=this,b=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=d(t),o=!(s=h(e||"")).protocol&&!s.slashes,y.slashes=s.slashes||o&&t.slashes,y.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(u=g[b])?(a=u[0],m=u[1],a!=a?y[m]=e:"string"==typeof a?~(f=e.indexOf(a))&&("number"==typeof u[2]?(y[m]=e.slice(0,f),e=e.slice(f+u[2])):(y[m]=e.slice(f),e=e.slice(0,f))):(f=a.exec(e))&&(y[m]=f[1],e=e.slice(0,f.index)),y[m]=y[m]||o&&u[3]&&t[m]||"",u[4]&&(y[m]=y[m].toLowerCase())):e=u(e);n&&(y.query=n(y.query)),o&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(u=y.auth.split(":"),y.username=u[0]||"",y.password=u[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else o[e]=t;break;default:o[e]=t}for(var a=0;a<l.length;a++){var c=l[a];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},p.extractProtocol=h,p.location=d,p.trimLeft=c,p.qs=i,e.exports=p},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),s=i(t[2]);null===o||null===s||o in r||(r[o]=s)}return r}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1263));!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(...e){return"."===i.join(...e)?"":t(i.join(...e))},e.basename=function(e,t){return i.basename(e,t)},e.dirname=function(e){let n=t(i.dirname(e));return"."===n?"":n},e.extname=function(e){return i.extname(e)},e.stem=function(e){return e.split("\\").pop().split("/").pop().split(".").shift()},e.normalize=function(e){return""===e?"":t(i.normalize(e))},e.resolve=function(...e){return t(i.resolve(...e))},e.relative=function(e,n){return t(i.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e="."+e),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},function(e,t,n){"use strict";var r=n(18),i=function(e){return"string"==typeof e};function o(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i))}return n}var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function c(e){return s.exec(e).slice(1)}a.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:process.cwd();if(!i(r))throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(e.split("/"),!t).join("/"))||"."},a.normalize=function(e){var t=a.isAbsolute(e),n="/"===e.substr(-1);return(e=o(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},a.isAbsolute=function(e){return"/"===e.charAt(0)},a.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!i(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return a.normalize(e)},a.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n+1)}e=a.resolve(e).substr(1),t=a.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,c=0;c<o;c++)if(r[c]!==i[c]){s=c;break}var l=[];for(c=s;c<r.length;c++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},a._makeLong=function(e){return e},a.dirname=function(e){var t=c(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},a.basename=function(e,t){var n=c(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},a.extname=function(e){return c(e)[3]},a.format=function(e){if(!r.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!i(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+a.sep:"")+(e.base||"")},a.parse=function(e){if(!i(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=c(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,t[1].length-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},a.sep="/",a.delimiter=":",e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(518);class o{constructor(e,t=500){this.payload=null,this.limit=t,this.poll=new i.Poll({auto:!1,factory:async()=>await e(),frequency:{backoff:!1,interval:i.Poll.NEVER,max:i.Poll.NEVER},standby:"never"}),this.payload=new r.PromiseDelegate,this.poll.ticked.connect((e,t)=>{const{payload:n}=this;return"resolved"===t.phase?(this.payload=new r.PromiseDelegate,void n.resolve(t.payload||void 0)):"rejected"===t.phase||"stopped"===t.phase?(this.payload=new r.PromiseDelegate,n.promise.catch(e=>{}),void n.reject(t.payload)):void 0},this)}get isDisposed(){return null===this.payload}dispose(){this.isDisposed||(this.payload=null,this.poll.dispose())}async stop(){return this.poll.stop()}}t.RateLimiter=o;t.Debouncer=class extends o{async invoke(){return this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}};t.Throttler=class extends o{async invoke(){return"invoked"!==this.poll.state.phase&&this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(1266),o=n(57);var s;t.RestorablePool=class{constructor(e){this._added=new o.Signal(this),this._current=null,this._currentChanged=new o.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new r.PromiseDelegate,this._updated=new o.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){if(e.isDisposed){const t="A disposed object cannot be added.";throw console.warn(t,e),new Error(t)}if(this._objects.has(e)){const t="This object already exists in the pool.";throw console.warn(t,e),new Error(t)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!s.injectedProperty.get(e)){if(this._restore){const{connector:t}=this._restore,n=this._restore.name(e);if(n){const r=`${this.namespace}:${n}`,i=this._restore.args(e);s.nameProperty.set(e,r),await t.save(r,{data:i})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),o.Signal.clearData(this))}find(e){const t=this._objects.values();for(let n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){const t=[];return this.forEach(n=>{e(n)&&t.push(n)}),t}inject(e){return s.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:t,connector:n,registry:r,when:i}=e,o=this.namespace,s=i?[n.list(o)].concat(i):[n.list(o)];this._restore=e;const[a]=await Promise.all(s),c=await Promise.all(a.ids.map(async(e,i)=>{const o=a.values[i],s=o&&o.data;return void 0===s?n.remove(e):r.execute(t,s).catch(()=>n.remove(e))}));return this._restored.resolve(),c}async save(e){const t=s.injectedProperty.get(e);if(!this._restore||!this.has(e)||t)return;const{connector:n}=this._restore,r=this._restore.name(e),i=s.nameProperty.get(e),o=r?`${this.namespace}:${r}`:"";if(i&&i!==o&&await n.remove(i),s.nameProperty.set(e,o),o){const t=this._restore.args(e);await n.save(o,{data:t})}i!==o&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),s.injectedProperty.get(e))return;if(!this._restore)return;const{connector:t}=this._restore,n=s.nameProperty.get(e);n&&t.remove(n)}},function(e){e.injectedProperty=new i.AttachedProperty({name:"injected",create:()=>!1}),e.nameProperty=new i.AttachedProperty({name:"name",create:()=>""})}(s||(s={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e){this._pid=r.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t=r.ensureMap(e);return this._pid in t?t[this._pid]:t[this._pid]=this._createValue(e)},e.prototype.set=function(e,t){var n,i=r.ensureMap(e);n=this._pid in i?i[this._pid]:i[this._pid]=this._createValue(e);var o=this._coerceValue(e,t);this._maybeNotify(e,n,i[this._pid]=o)},e.prototype.coerce=function(e){var t,n=r.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var i=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=i)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var r=this._changed;r&&!this._compareValue(t,n)&&r(e,t,n)},e}();t.AttachedProperty=i,function(e){e.clearData=function(e){r.ownerData.delete(e)}}(i=t.AttachedProperty||(t.AttachedProperty={})),t.AttachedProperty=i,function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(r||(r={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(1268)),s=i(n(1302)),a=n(52),c=n(330),l=n(57),u=r(n(1306)),d=a.JSONExt.deepCopy,h=String.fromCharCode(30);class p{constructor(){this._composer=new o.default({useDefaults:!0}),this._validator=new o.default,this._composer.addSchema(u.default,"jupyterlab-plugin-schema"),this._validator.addSchema(u.default,"jupyterlab-plugin-schema")}validateData(e,t=!0){const n=this._validator.getSchema(e.id),r=this._composer.getSchema(e.id);if(!n||!r){if("object"!==e.schema.type){return[{dataPath:"type",keyword:"schema",schemaPath:"",message:"Setting registry schemas' root-level type must be 'object', rejecting type: "+e.schema.type}]}return this._addSchema(e.id,e.schema)||this.validateData(e)}let i;try{i=s.parse(e.raw,null)}catch(e){if(e instanceof SyntaxError)return[{dataPath:"",keyword:"syntax",schemaPath:"",message:e.message}];const{column:t,description:n}=e;return[{dataPath:"",keyword:"parse",schemaPath:"",message:`${n} (line ${e.lineNumber} column ${t})`}]}if(!n(i))return n.errors;const o=d(i);return r(o)?(t&&(e.data={composite:o,user:i}),null):r.errors}_addSchema(e,t){const n=this._composer,r=this._validator,i=r.getSchema("jupyterlab-plugin-schema");return i(t)?r.validateSchema(t)?(n.removeSchema(e),r.removeSchema(e),n.addSchema(t,e),r.addSchema(t,e),null):r.errors:i.errors}}t.DefaultSchemaValidator=p;class f{constructor(e){this.schema=u.default,this.plugins=Object.create(null),this._pluginChanged=new l.Signal(this),this._ready=Promise.resolve(),this._transformers=Object.create(null),this.connector=e.connector,this.validator=e.validator||new p,this._timeout=e.timeout||7e3,e.plugins&&(this._ready=this._preload(e.plugins))}get pluginChanged(){return this._pluginChanged}async get(e,t){await this._ready;const n=this.plugins;if(e in n){const{composite:r,user:i}=n[e].data;return{composite:t in r?d(r[t]):void 0,user:t in i?d(i[t]):void 0}}return this.load(e).then(()=>this.get(e,t))}async load(e){await this._ready;const t=this.plugins,n=this;return e in t?new m({plugin:t[e],registry:n}):this.reload(e)}async reload(e){await this._ready;const t=await this.connector.fetch(e),n=this.plugins;return await this._load(await this._transform("fetch",t)),this._pluginChanged.emit(e),new m({plugin:n[e],registry:this})}async remove(e,t){await this._ready;const n=this.plugins;if(!(e in n))return;const r=s.parse(n[e].raw,null);return delete r[t],delete r["// "+t],n[e].raw=g.annotatedPlugin(n[e],r),this._save(e)}async set(e,t,n){await this._ready;const r=this.plugins;if(!(e in r))return this.load(e).then(()=>this.set(e,t,n));const i=s.parse(r[e].raw,null);return r[e].raw=g.annotatedPlugin(r[e],Object.assign({},i,{[t]:n})),this._save(e)}transform(e,t){const n=this._transformers;if(e in n)throw new Error(e+" already has a transformer.");return n[e]={fetch:t.fetch||(e=>e),compose:t.compose||(e=>e)},new c.DisposableDelegate(()=>{delete n[e]})}async upload(e,t){await this._ready;const n=this.plugins;return e in n?(n[e].raw=t,this._save(e)):this.load(e).then(()=>this.upload(e,t))}async _load(e){const t=e.id;try{await this._validate(e)}catch(e){const n=[`Validating ${t} failed:`];throw e.forEach((e,t)=>{const{dataPath:r,schemaPath:i,keyword:o,message:s}=e;(r||i)&&n.push(`${t} - schema @ ${i}, data @ ${r}`),n.push(`{${o}} ${s}`)}),console.warn(n.join("\n")),e}}async _preload(e){await Promise.all(e.map(async e=>{try{await this._load(await this._transform("fetch",e))}catch(e){console.log("Ignored setting registry preload errors.",e)}}))}async _save(e){const t=this.plugins;if(!(e in t))throw new Error(e+" does not exist in setting registry.");try{await this._validate(t[e])}catch(t){throw console.warn(e+" validation errors:",t),new Error(e+" failed to validate; check console.")}await this.connector.save(e,t[e].raw);const n=await this.connector.fetch(e);await this._load(await this._transform("fetch",n)),this._pluginChanged.emit(e)}async _transform(e,t,n=(new Date).getTime()){const r=(new Date).getTime()-n,i=t.id,o=this._transformers,s=this._timeout;if(!t.schema["jupyter.lab.transform"])return t;if(i in o){const n=o[i][e].call(null,t);if(n.id!==i)throw[{dataPath:"",keyword:"id",message:"Plugin transformations cannot change plugin IDs.",schemaPath:""}];return n}if(r<s)return await new Promise(e=>{setTimeout(()=>{e()},250)}),this._transform(e,t,n);throw[{dataPath:"",keyword:"timeout",message:`Transforming ${t.id} timed out.`,schemaPath:""}]}async _validate(e){const t=this.validator.validateData(e);if(t)throw t;this.plugins[e.id]=await this._transform("compose",e)}}t.SettingRegistry=f;class m{constructor(e){this._changed=new l.Signal(this),this._isDisposed=!1,this.id=e.plugin.id,this.registry=e.registry,this.registry.pluginChanged.connect(this._onPluginChanged,this)}get changed(){return this._changed}get composite(){return this.plugin.data.composite}get isDisposed(){return this._isDisposed}get plugin(){return this.registry.plugins[this.id]}get schema(){return this.plugin.schema}get raw(){return this.plugin.raw}get user(){return this.plugin.data.user}get version(){return this.plugin.version}annotatedDefaults(){return g.annotatedDefaults(this.schema,this.id)}default(e){return g.reifyDefault(this.schema,e)}dispose(){this._isDisposed||(this._isDisposed=!0,l.Signal.clearData(this))}get(e){const{composite:t,user:n}=this;return{composite:e in t?d(t[e]):void 0,user:e in n?d(n[e]):void 0}}remove(e){return this.registry.remove(this.plugin.id,e)}save(e){return this.registry.upload(this.plugin.id,e)}set(e,t){return this.registry.set(this.plugin.id,e,t)}validate(e){const{id:t,schema:n}=this.plugin,r=this.registry.validator,i=this.version;return r.validateData({data:{composite:{},user:{}},id:t,raw:e,schema:n,version:i},!1)}_onPluginChanged(e,t){t===this.plugin.id&&this._changed.emit(void 0)}}var g;t.Settings=m,function(e){e.reconcileShortcuts=function(e,t){const n={};return t=t.filter(e=>{const t=e.keys.join(h),{selector:r}=e;return t?(t in n||(n[t]={}),r in n[t]?(console.warn("Shortcut skipped due to collision.",e),!1):(n[t][r]=!1,!0)):(console.warn('Shortcut skipped because `keys` are [""].',e),!1)}),e=e.filter(e=>{const{disabled:t}=e,r=e.keys.join(h);if(t||!r)return!1;r in n||(n[r]={});const{selector:i}=e;return i in n[r]?(n[r][i]&&console.warn("Shortcut skipped due to collision.",e),!1):(n[r][i]=!0,!0)}),t.filter(e=>!e.disabled).concat(e)}}(f=t.SettingRegistry||(t.SettingRegistry={})),function(e){const t="[missing schema description]",n="[missing schema title]";function r(e){return e.reduce((t,n,r)=>{const i=n.split("\n");return t+n+(0===i[i.length-1].trim().indexOf("//")||r===e.length-1?"":",")+(r===e.length-1?"":"\n\n")},"")}function i(e,t="    // "){return t+e.split("\n").join("\n"+t)}function o(e,t){if(!("default"in(e=(t?e.properties[t]:e)||{}))||"object"!==e.type)return e.default;const n=a.JSONExt.deepCopy(e.default);for(let t in e.properties||{})n[t]=o(e.properties[t]);return n}e.annotatedDefaults=function(e,s){const{description:a,properties:c,title:l}=e,u=Object.keys(c).sort((e,t)=>e.localeCompare(t)),d=Math.max((a||t).length,s.length);return["{",i(""+(l||n)),i(s),i(a||t),i("*".repeat(d)),"",r(u.map(n=>function(e,n){const r=e.properties&&e.properties[n]||{},s=r.type,a=r.description||t,c=r.title||"",l=o(e,n),u="    ".length,d=void 0!==l?i(`"${n}": ${JSON.stringify(l,null,u)}`,"    "):i(`"${n}": ${s}`);return[i(c),i(a),d].filter(e=>e.length).join("\n")}(e,n))),"}"].join("\n")},e.annotatedPlugin=function(e,o){const{description:s,title:a}=e.schema,c=Object.keys(o).sort((e,t)=>e.localeCompare(t)),l=Math.max((s||t).length,e.id.length);return["{",i(""+(a||n)),i(e.id),i(s||t),i("*".repeat(l)),"",r(c.map(r=>function(e,r,o){const s=e.properties&&e.properties[r],a=s&&s.description||t,c=s&&s.title||n,l="    ".length,u=i(`"${r}": ${JSON.stringify(o,null,l)}`,"    ");return[i(c),i(a),u].join("\n")}(e.schema,r,o[r]))),"}"].join("\n")},e.reifyDefault=o}(g=t.Private||(t.Private={}))},function(e,t,n){"use strict";var r=n(1269),i=n(328),o=n(1273),s=n(519),a=n(520),c=n(1274),l=n(1275),u=n(1296),d=n(150);e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);!0!==n.$async&&(this.errors=n.errors);return i},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return E(this,t=i.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,n,r,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(f)?f:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},v.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,a=n.root,c=n.baseId,l=r.call(e,o,a,void 0,c);return e._fragments[t]=new s({ref:t,fragment:!0,schema:o,root:a,baseId:c,validate:l}),l}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var s=e[o];s&&(i+=r+s.dataPath+" "+s.message+n)}return i.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,a=o?o(e):e,c=this._cache.get(a);if(c)return c;r=r||!1!==this._opts.addUsedSchema;var l=i.normalizeId(this._getId(e));l&&r&&E(this,l);var u,d=!1!==this._opts.validateSchema&&!t;d&&!(u=l&&l==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),p=new s({id:l,schema:e,localRefs:h,cacheKey:a,meta:n});"#"!=l[0]&&r&&(this._refs[l]=p);this._cache.put(a,p),d&&u&&this.validateSchema(e,!0);return p},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(1297);var h=n(1298);v.prototype.addKeyword=h.add,v.prototype.getKeyword=h.get,v.prototype.removeKeyword=h.remove,v.prototype.validateKeyword=h.validate;var p=n(329);v.ValidationError=p.Validation,v.MissingRefError=p.MissingRef,v.$dataMetaSchema=u;var f="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:x,warn:x,error:x};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"auto":return S;case"id":return _;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=d.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(1301),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=n(526);e._opts.$data&&(r=u(r,g));e.addMetaSchema(r,f,!0),e._refs["http://json-schema.org/schema"]=f}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function S(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function x(){}},function(e,t,n){"use strict";var r=n(328),i=n(150),o=n(329),s=n(520),a=n(521),c=i.ucs2length,l=n(189),u=o.Validation;function d(e,t,n){var r=p.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function h(e,t,n){var r=p.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function p(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function f(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,p,b){var _=this,w=this._opts,S=[void 0],E={},x=[],C={},k=[],D={},T=[];n=n||{schema:t,refVal:S,refs:E};var I=d.call(this,t,n,b),M=this._compilations[I.index];if(I.compiling)return M.callValidate=function e(){var t=M.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var P=this._formats,j=this.RULES;try{var L=A(t,n,p,b);M.validate=L;var O=M.callValidate;return O&&(O.schema=L.schema,O.errors=null,O.refs=L.refs,O.refVal=L.refVal,O.root=L.root,O.$async=L.$async,w.sourceCode&&(O.source=L.source)),L}finally{h.call(this,t,n,b)}function A(t,s,d,h){var p=!s||s&&s.schema==t;if(s.schema!=n.schema)return e.call(_,t,s,d,h);var b,C=!0===t.$async,D=a({isTop:!0,schema:t,isRoot:p,baseId:h,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:j,validate:a,util:i,resolve:r,resolveRef:N,usePattern:B,useDefault:U,useCustomRule:Y,opts:w,formats:P,logger:_.logger,self:_});D=y(S,g)+y(x,f)+y(k,m)+y(T,v)+D,w.processCode&&(D=w.processCode(D));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",D)(_,j,P,n,S,k,T,l,c,u),S[0]=b}catch(e){throw _.logger.error("Error compiling schema, function code:",D),e}return b.schema=t,b.errors=null,b.refs=E,b.refVal=S,b.root=p?b:s,C&&(b.$async=!0),!0===w.sourceCode&&(b.source={code:D,patterns:x,defaults:k}),b}function N(t,i,o){i=r.url(t,i);var s,a,c=E[i];if(void 0!==c)return F(s=S[c],a="refVal["+c+"]");if(!o&&n.refs){var l=n.refs[i];if(void 0!==l)return F(s=n.refVal[l],a=R(i,s))}a=R(i);var u=r.call(_,A,n,i);if(void 0===u){var d=p&&p[i];d&&(u=r.inlineRef(d,w.inlineRefs)?d:e.call(_,d,n,p,t))}if(void 0!==u)return function(e,t){var n=E[e];S[n]=t}(i,u),F(u,a);!function(e){delete E[e]}(i)}function R(e,t){var n=S.length;return S[n]=t,E[e]=n,"refVal"+n}function F(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=C[e];return void 0===t&&(t=C[e]=x.length,x[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),n=D[t];return void 0===n&&(n=D[t]=k.length,k[n]=e),"default"+n}}function Y(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var s="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(s);_.logger.error(s)}}var a,c=e.definition.compile,l=e.definition.inline,u=e.definition.macro;if(c)a=c.call(_,t,n,r);else if(u)a=u.call(_,t,n,r),!1!==w.validateSchema&&_.validateSchema(a,!0);else if(l)a=l.call(_,r,e.keyword,t,n);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=T.length;return T[d]=a,{code:"customRule"+d,validate:a}}}},function(e,t,n){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",s=t("[\\:\\/\\?\\#\\[\\]\\@]",o),a=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),u=n(n(i+"|"+t(c,o,"[\\:]"))+"*"),d=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),h=n(d+"\\."+d+"\\."+d+"\\."+d),p=n(r+"{1,4}"),f=n(n(p+"\\:"+p)+"|"+h),m=n(n(p+"\\:")+"{6}"+f),g=n("\\:\\:"+n(p+"\\:")+"{5}"+f),v=n(n(p)+"?\\:\\:"+n(p+"\\:")+"{4}"+f),y=n(n(n(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+n(p+"\\:")+"{3}"+f),b=n(n(n(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+n(p+"\\:")+"{2}"+f),_=n(n(n(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+f),w=n(n(n(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+f),S=n(n(n(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),E=n(n(n(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),x=n([m,g,v,y,b,_,w,S,E].join("|")),C=n(n(c+"|"+i)+"+"),k=(n(x+"\\%25"+C),n(x+n("\\%25|\\%(?!"+r+"{2})")+C)),D=n("[vV]"+r+"+\\."+t(c,o,"[\\:]")+"+"),T=n("\\["+n(k+"|"+x+"|"+D)+"\\]"),I=n(n(i+"|"+t(c,o))+"*"),M=n(T+"|"+h+"(?!"+I+")|"+I),P=n("[0-9]*"),j=n(n(u+"@")+"?"+M+n("\\:"+P)+"?"),L=n(i+"|"+t(c,o,"[\\:\\@]")),O=n(L+"*"),A=n(L+"+"),N=n(n(i+"|"+t(c,o,"[\\@]"))+"+"),R=n(n("\\/"+O)+"*"),F=n("\\/"+n(A+R)+"?"),B=n(N+R),U=n(A+R),Y="(?!"+L+")",W=(n(R+"|"+F+"|"+B+"|"+U+"|"+Y),n(n(L+"|"+t("[\\/\\?]",a))+"*")),H=n(n(L+"|[\\/\\?]")+"*"),V=n(n("\\/\\/"+j+R)+"|"+F+"|"+U+"|"+Y),K=n(l+"\\:"+V+n("\\?"+W)+"?"+n("\\#"+H)+"?"),q=n(n("\\/\\/"+j+R)+"|"+F+"|"+B+"|"+Y),J=n(q+n("\\?"+W)+"?"+n("\\#"+H)+"?");return n(K+"|"+J),n(l+"\\:"+V+n("\\?"+W)+"?"),n(n("\\/\\/("+n("("+u+")@")+"?("+M+")"+n("\\:("+P+")")+"?)")+"?("+R+"|"+F+"|"+U+"|"+Y+")"),n("\\?("+W+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+u+")@")+"?("+M+")"+n("\\:("+P+")")+"?)")+"?("+R+"|"+F+"|"+B+"|"+Y+")"),n("\\?("+W+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+u+")@")+"?("+M+")"+n("\\:("+P+")")+"?)")+"?("+R+"|"+F+"|"+U+"|"+Y+")"),n("\\?("+W+")"),n("\\#("+H+")"),n("("+u+")@"),n("\\:("+P+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,o,"[\\:\\@\\/\\?]",a),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,o),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,s),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+C+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,u=/^xn--/,d=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(p[e])}function v(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(h,".")).split("."),t).join(".");return r+i}function y(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))},w=function(e){var t,n=[],r=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&g("not-basic"),n.push(e.charCodeAt(c));for(var u=a>0?a+1:0;u<r;){for(var d=i,h=1,p=36;;p+=36){u>=r&&g("invalid-input");var m=(t=e.charCodeAt(u++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((l-i)/h))&&g("overflow"),i+=m*h;var v=p<=s?1:p>=s+26?26:p-s;if(m<v)break;var y=36-v;h>f(l/y)&&g("overflow"),h*=y}var b=n.length+1;s=_(i-d,b,0==d),f(i/b)>l-o&&g("overflow"),o+=f(i/b),i%=b,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},S=function(e){var t=[],n=(e=y(e)).length,r=128,i=0,o=72,s=!0,a=!1,c=void 0;try{for(var u,d=e[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;h<128&&t.push(m(h))}}catch(e){a=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(a)throw c}}var p=t.length,v=p;for(p&&t.push("-");v<n;){var w=l,S=!0,E=!1,x=void 0;try{for(var C,k=e[Symbol.iterator]();!(S=(C=k.next()).done);S=!0){var D=C.value;D>=r&&D<w&&(w=D)}}catch(e){E=!0,x=e}finally{try{!S&&k.return&&k.return()}finally{if(E)throw x}}var T=v+1;w-r>f((l-i)/T)&&g("overflow"),i+=(w-r)*T,r=w;var I=!0,M=!1,P=void 0;try{for(var j,L=e[Symbol.iterator]();!(I=(j=L.next()).done);I=!0){var O=j.value;if(O<r&&++i>l&&g("overflow"),O==r){for(var A=i,N=36;;N+=36){var R=N<=o?1:N>=o+26?26:N-o;if(A<R)break;var F=A-R,B=36-R;t.push(m(b(R+F%B,0))),A=f(F/B)}t.push(m(b(A,0))),o=_(i,T,v==p),i=0,++v}}}catch(e){M=!0,P=e}finally{try{!I&&L.return&&L.return()}finally{if(M)throw P}}++i,++r}return t.join("")},E=function(e){return v(e,(function(e){return d.test(e)?"xn--"+S(e):e}))},x=function(e){return v(e,(function(e){return u.test(e)?w(e.slice(4).toLowerCase()):e}))},C={};function k(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function D(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function T(e,t){function n(e){var n=D(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,i)),e}function I(e){return e.replace(/^0*(.*)/,"$1")||"0"}function M(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(I).join("."):e}function P(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=c(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=c(s,2),l=a[0],u=a[1],d=u?u.split(":").map(I):[],h=l.split(":").map(I),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),v=0;v<f;++v)g[v]=d[v]||h[m+v]||"";p&&(g[f-1]=M(g[f-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=g.slice(0,y.index),w=g.slice(y.index+y.length);b=_.join(":")+"::"+w.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var j=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,L=void 0==="".match(/(){0}/)[1];function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(j);if(i){L?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=P(M(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=C[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)T(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=E(n.host.replace(r.PCT_ENCODED,D).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}T(n,s)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function A(e,t){var n=!1!==t.iri?a:s,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(P(M(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var N=/^\.\.?\//,R=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(N))e=e.replace(N,"");else if(e.match(R))e=e.replace(R,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(B);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,r=[],i=C[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?x(e.host):E(e.host.replace(n.PCT_ENCODED,D).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}T(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=A(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=U(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),r.push(c)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=O(Y(e,n),n),t=O(Y(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=U(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=U(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function H(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,D)}var V={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},K={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},q={},J="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",$="[0-9A-Fa-f]",z=n(n("%[EFef]"+$+"%"+$+$+"%"+$+$)+"|"+n("%[89A-Fa-f]"+$+"%"+$+$)+"|"+n("%"+$+$)),G=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Q=new RegExp(J,"g"),X=new RegExp(z,"g"),Z=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',G),"g"),ee=new RegExp(t("[^]",J,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=ee;function ne(e){var t=D(e);return t.match(Q)?t:e}var re={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),a=0,c=s.length;a<c;++a){var l=s[a].split("=");switch(l[0]){case"to":for(var u=l[1].split(","),d=0,h=u.length;d<h;++d)r.push(u[d]);break;case"subject":n.subject=H(l[1],t);break;case"body":n.body=H(l[1],t);break;default:i=!0,o[H(l[0],t)]=H(l[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var p=0,f=r.length;p<f;++p){var m=r[p].split("@");if(m[0]=H(m[0]),t.unicodeSupport)m[1]=H(m[1],t).toLowerCase();else try{m[1]=E(H(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var s=0,a=o.length;s<a;++s){var c=String(o[s]),l=c.lastIndexOf("@"),u=c.slice(0,l).replace(X,ne).replace(X,i).replace(Z,k),d=c.slice(l+1);try{d=t.iri?x(d):E(H(d,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=u+"@"+d}r.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==q[f]&&p.push(f.replace(X,ne).replace(X,i).replace(ee,k)+"="+h[f].replace(X,ne).replace(X,i).replace(te,k));return p.length&&(r.query=p.join("&")),r}},ie=/^([^\:]+)\:(.*)/,oe={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ie),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=i+":"+(t.nid||o),c=C[a];r.nid=o,r.nss=s,r.path=void 0,c&&(r=c.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=C[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(r||t.nid)+":"+a,s}},se=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ae={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(se)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};C[V.scheme]=V,C[K.scheme]=K,C[re.scheme]=re,C[oe.scheme]=oe,C[ae.scheme]=ae,e.SCHEMES=C,e.pctEncChar=k,e.pctDecChars=D,e.parse=O,e.removeDotSegments=U,e.serialize=Y,e.resolveComponents=W,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return Y(W(O(e,r),O(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=Y(O(e,t),t):"object"===r(e)&&(e=O(Y(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=Y(O(e,n),n):"object"===r(e)&&(e=Y(e,n)),"string"==typeof t?t=Y(O(t,n),n):"object"===r(t)&&(t=Y(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,k)},e.unescapeComponent=H,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,o,s,a,c,l,u,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,s,a,c,l,u,d),o){var p=o[h];if(Array.isArray(p)){if(h in r.arrayKeywords)for(var f=0;f<p.length;f++)e(t,n,i,p[f],s+"/"+h+"/"+f,a,s,h,o,f)}else if(h in r.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(t,n,i,p[m],s+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,m)}else(h in r.keywords||t.allKeys&&!(h in r.skipKeywords))&&e(t,n,i,p,s+"/"+h,a,s,h,o)}i(o,s,a,c,l,u,d)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(150),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,a=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function g(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],s=+t[3];return r>=1&&r<=12&&s>=1&&s<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:o[r])}function v(e,t){var n=e.match(s);if(!n)return!1;var r=n[1],i=n[2],o=n[3],a=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||a)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f},m.full={date:g,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&a.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f};var y=/t|\s/i;var b=/\/|:/;var _=/[^\\]\\Z/;function w(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(1276),i=n(150).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(1277),allOf:n(1278),anyOf:n(1279),$comment:n(1280),const:n(1281),contains:n(1282),dependencies:n(1283),enum:n(1284),format:n(1285),if:n(1286),items:n(1287),maximum:n(522),minimum:n(522),maxItems:n(523),minItems:n(523),maxLength:n(524),minLength:n(524),maxProperties:n(525),minProperties:n(525),multipleOf:n(1288),not:n(1289),oneOf:n(1290),pattern:n(1291),properties:n(1292),propertyNames:n(1293),required:n(1294),uniqueItems:n(1295),validate:n(521)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",s=e.level,a=e.dataLevel,c=e.schema[t],l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),h="valid"+s;if("#"==c||"#/"==c)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(f),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,f);e.logger.warn(f),u&&(o+=" if (true) { ")}}else if(p.inline){var g=e.util.copy(e);g.level++;var v="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=c,o+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",u&&(o+=" if ("+v+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",u&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+h+" = false; "),o+=" } ",u&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var u="valid"+c.level,d=c.baseId,h=!0,p=i;if(p)for(var f,m=-1,g=p.length-1;m<g;)f=p[m+=1],e.util.schemaHasRules(f,e.RULES.all)&&(h=!1,c.schema=f,c.schemaPath=o+"["+m+"]",c.errSchemaPath=s+"/"+m,r+="  "+e.validate(c)+" ",c.baseId=d,a&&(r+=" if ("+u+") { ",l+="}"));return a&&(r+=h?" if (true) { ":" "+l.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(s.every((function(t){return e.util.schemaHasRules(t,e.RULES.all)}))){var g=p.baseId;r+=" var "+h+" = errors; var "+d+" = false;  ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=s;if(y)for(var b,_=-1,w=y.length-1;_<w;)b=y[_+=1],p.schema=b,p.schemaPath=a+"["+_+"]",p.errSchemaPath=c+"/"+_,r+="  "+e.validate(p)+" ",p.baseId=g,r+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=v,r+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,s=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+s+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; "),h||(r+=" var schema"+i+" = validate.schema"+a+";"),r+="var "+d+" = equal("+u+", schema"+i+"); if (!"+d+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var f=r;return r=p.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+i,g=p.dataLevel=e.dataLevel+1,v="data"+g,y=e.baseId,b=e.util.schemaHasRules(s,e.RULES.all);if(r+="var "+h+" = errors;var "+d+";",b){var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=a,p.errSchemaPath=c,r+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=u+"["+m+"]";p.dataPathArr[g]=m;var S=e.validate(p);p.baseId=y,e.util.varOccurences(S,v)<2?r+=" "+e.util.varReplace(S,v,w)+" ":r+=" var "+v+" = "+w+"; "+S+" ",r+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=_,r+="  if (!"+f+") {"}else r+=" if ("+u+".length == 0) {";var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var x=r;return r=E.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},g={},v=e.opts.ownProperties;for(w in s){var y=s[w],b=Array.isArray(y)?g:m;b[w]=y}r+="var "+d+" = errors;";var _=e.errorPath;for(var w in r+="var missing"+i+";",g)if((b=g[w]).length){if(r+=" if ( "+u+e.util.getProperty(w)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),l){r+=" && ( ";var S=b;if(S)for(var E=-1,x=S.length-1;E<x;){M=S[E+=1],E&&(r+=" || "),r+=" ( ( "+(O=u+(L=e.util.getProperty(M)))+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:L)+") ) "}r+=")) {  ";var C="missing"+i,k="' + "+C+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,C,!0):_+" + "+C);var D=D||[];D.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var T=r;r=D.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var I=b;if(I)for(var M,P=-1,j=I.length-1;P<j;){M=I[P+=1];var L=e.util.getProperty(M),O=(k=e.util.escapeQuotes(M),u+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,M,e.opts.jsonPointers)),r+=" if ( "+O+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(p+="}",r+=" else { ")}e.errorPath=_;var A=h.baseId;for(var w in m){y=m[w];e.util.schemaHasRules(y,e.RULES.all)&&(r+=" "+f+" = true; if ( "+u+e.util.getProperty(w)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),r+=") { ",h.schema=y,h.schemaPath=a+e.util.getProperty(w),h.errSchemaPath=c+"/"+e.util.escapeFragment(w),r+="  "+e.validate(h)+" ",h.baseId=A,r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}"))}return l&&(r+="   "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="i"+i,f="schema"+i;h||(r+=" var "+f+" = validate.schema"+a+";"),r+="var "+d+";",h&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(r+="  }  "),r+=" if (!"+d+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return l&&(r+=" if (true) { "),r;var d,h=e.opts.$data&&s&&s.$data;h?(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",d="schema"+i):d=s;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h){r+=" var "+(m="format"+i)+" = formats["+d+"]; var "+(g="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+i)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",h&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+d+" && !"+m+" ",f&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+u+") : "+m+"("+u+")) ":r+=" "+m+"("+u+") ",r+=" : "+m+".test("+u+"))))) {"}else{var m;if(!(m=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(f&&p.indexOf(s)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,v=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var y=!0===m.async;m=m.validate}if(v!=n)return l&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(s)+".validate")+"("+u+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(s);g&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+u+") ":" "+b+".test("+u+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",r+=h?""+d:""+e.util.toQuotedString(s),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=h?"' + "+d+" + '":""+e.util.escapeQuotes(s),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+a:""+e.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var w=r;return r=_.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,g=e.schema.else,v=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==g&&e.util.schemaHasRules(g,e.RULES.all),b=p.baseId;if(v||y){var _;p.createErrors=!1,p.schema=s,p.schemaPath=a,p.errSchemaPath=c,r+=" var "+h+" = errors; var "+d+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,r+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,v?(r+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+d+" = "+f+"; ",v&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+f+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+d+" = "+f+"; ",v&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",l&&(r+=" else { "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="i"+i,v=p.dataLevel=e.dataLevel+1,y="data"+v,b=e.baseId;if(r+="var "+h+" = errors;var "+d+";",Array.isArray(s)){var _=e.schema.additionalItems;if(!1===_){r+=" "+d+" = "+u+".length <= "+s.length+"; ";var w=c;c=e.errSchemaPath+"/additionalItems",r+="  if (!"+d+") {   ";var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var E=r;r=S.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c=w,l&&(f+="}",r+=" else { ")}var x=s;if(x)for(var C,k=-1,D=x.length-1;k<D;)if(C=x[k+=1],e.util.schemaHasRules(C,e.RULES.all)){r+=" "+m+" = true; if ("+u+".length > "+k+") { ";var T=u+"["+k+"]";p.schema=C,p.schemaPath=a+"["+k+"]",p.errSchemaPath=c+"/"+k,p.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),p.dataPathArr[v]=k;var I=e.validate(p);p.baseId=b,e.util.varOccurences(I,y)<2?r+=" "+e.util.varReplace(I,y,T)+" ":r+=" var "+y+" = "+T+"; "+I+" ",r+=" }  ",l&&(r+=" if ("+m+") { ",f+="}")}if("object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+u+".length > "+s.length+") {  for (var "+g+" = "+s.length+"; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);T=u+"["+g+"]";p.dataPathArr[v]=g;I=e.validate(p);p.baseId=b,e.util.varOccurences(I,y)<2?r+=" "+e.util.varReplace(I,y,T)+" ":r+=" var "+y+" = "+T+"; "+I+" ",l&&(r+=" if (!"+m+") break; "),r+=" } }  ",l&&(r+=" if ("+m+") { ",f+="}")}}else if(e.util.schemaHasRules(s,e.RULES.all)){p.schema=s,p.schemaPath=a,p.errSchemaPath=c,r+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);T=u+"["+g+"]";p.dataPathArr[v]=g;I=e.validate(p);p.baseId=b,e.util.varOccurences(I,y)<2?r+=" "+e.util.varReplace(I,y,T)+" ":r+=" var "+y+" = "+T+"; "+I+" ",l&&(r+=" if (!"+m+") break; "),r+=" }"}return l&&(r+=" "+f+" if ("+h+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,i+="var division"+o+";if (",h&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+d+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c,r+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),r+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,r+=" if ("+p+") {   ";var g=g||[];g.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var v=r;r=g.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g=p.baseId,v="prevValid"+i,y="passingSchemas"+i;r+="var "+h+" = errors , "+v+" = false , "+d+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=s;if(_)for(var w,S=-1,E=_.length-1;S<E;)w=_[S+=1],e.util.schemaHasRules(w,e.RULES.all)?(p.schema=w,p.schemaPath=a+"["+S+"]",p.errSchemaPath=c+"/"+S,r+="  "+e.validate(p)+" ",p.baseId=g):r+=" var "+m+" = true; ",S&&(r+=" if ("+m+" && "+v+") { "+d+" = false; "+y+" = ["+y+", "+S+"]; } else { ",f+="}"),r+=" if ("+m+") { "+d+" = "+v+" = true; "+y+" = "+S+"; }";return e.compositeRule=p.compositeRule=b,r+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,i+="if ( ",h&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(h?"(new RegExp("+r+"))":e.usePattern(a))+".test("+d+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",i+=h?""+r:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+r+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m="key"+i,g="idx"+i,v=h.dataLevel=e.dataLevel+1,y="data"+v,b="dataProperties"+i,_=Object.keys(s||{}),w=e.schema.patternProperties||{},S=Object.keys(w),E=e.schema.additionalProperties,x=_.length||S.length,C=!1===E,k="object"==typeof E&&Object.keys(E).length,D=e.opts.removeAdditional,T=C||k||D,I=e.opts.ownProperties,M=e.baseId,P=e.schema.required;if(P&&(!e.opts.$data||!P.$data)&&P.length<e.opts.loopRequired)var j=e.util.toHash(P);if(r+="var "+d+" = errors;var "+f+" = true;",I&&(r+=" var "+b+" = undefined;"),T){if(r+=I?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+u+") { ",x){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+a+".hasOwnProperty("+m+") ";else{var L=_;if(L)for(var O=-1,A=L.length-1;O<A;)$=L[O+=1],r+=" || "+m+" == "+e.util.toQuotedString($)+" "}if(S.length){var N=S;if(N)for(var R=-1,F=N.length-1;R<F;)ie=N[R+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==D)r+=" delete "+u+"["+m+"]; ";else{var B=e.errorPath,U="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),C)if(D)r+=" delete "+u+"["+m+"]; ";else{r+=" "+f+" = false; ";var Y=c;c=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+U+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var W=r;r=te.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+W+"]); ":r+=" validate.errors = ["+W+"]; return false; ":r+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Y,l&&(r+=" break; ")}else if(k)if("failing"==D){r+=" var "+d+" = errors;  ";var H=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=E,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=u+"["+m+"]";h.dataPathArr[v]=m;var K=e.validate(h);h.baseId=M,e.util.varOccurences(K,y)<2?r+=" "+e.util.varReplace(K,y,V)+" ":r+=" var "+y+" = "+V+"; "+K+" ",r+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=h.compositeRule=H}else{h.schema=E,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);V=u+"["+m+"]";h.dataPathArr[v]=m;K=e.validate(h);h.baseId=M,e.util.varOccurences(K,y)<2?r+=" "+e.util.varReplace(K,y,V)+" ":r+=" var "+y+" = "+V+"; "+K+" ",l&&(r+=" if (!"+f+") break; ")}e.errorPath=B}x&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}")}var q=e.opts.useDefaults&&!e.compositeRule;if(_.length){var J=_;if(J)for(var $,z=-1,G=J.length-1;z<G;){var Q=s[$=J[z+=1]];if(e.util.schemaHasRules(Q,e.RULES.all)){var X=e.util.getProperty($),Z=(V=u+X,q&&void 0!==Q.default);h.schema=Q,h.schemaPath=a+X,h.errSchemaPath=c+"/"+e.util.escapeFragment($),h.errorPath=e.util.getPath(e.errorPath,$,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString($);K=e.validate(h);if(h.baseId=M,e.util.varOccurences(K,y)<2){K=e.util.varReplace(K,y,V);var ee=V}else{ee=y;r+=" var "+y+" = "+V+"; "}if(Z)r+=" "+K+" ";else{if(j&&j[$]){r+=" if ( "+ee+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),r+=") { "+f+" = false; ";B=e.errorPath,Y=c;var te,ne=e.util.escapeQuotes($);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,$,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";W=r;r=te.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+W+"]); ":r+=" validate.errors = ["+W+"]; return false; ":r+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=Y,e.errorPath=B,r+=" } else { "}else l?(r+=" if ( "+ee+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),r+=") { "+f+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",I&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),r+=" ) { ");r+=" "+K+" } "}}l&&(r+=" if ("+f+") { ",p+="}")}}if(S.length){var re=S;if(re)for(var ie,oe=-1,se=re.length-1;oe<se;){Q=w[ie=re[oe+=1]];if(e.util.schemaHasRules(Q,e.RULES.all)){h.schema=Q,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=I?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+u+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);V=u+"["+m+"]";h.dataPathArr[v]=m;K=e.validate(h);h.baseId=M,e.util.varOccurences(K,y)<2?r+=" "+e.util.varReplace(K,y,V)+" ":r+=" var "+y+" = "+V+"; "+K+" ",l&&(r+=" if (!"+f+") break; "),r+=" } ",l&&(r+=" else "+f+" = true; "),r+=" }  ",l&&(r+=" if ("+f+") { ",p+="}")}}}return l&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(r+="var "+d+" = errors;",e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c;var f="key"+i,m="idx"+i,g="i"+i,v="' + "+f+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,w=e.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+f+" = "+b+"["+m+"]; ":" for (var "+f+" in "+u+") { ",r+=" var startErrs"+i+" = errors; ";var S=f,E=e.compositeRule;e.compositeRule=h.compositeRule=!0;var x=e.validate(h);h.baseId=w,e.util.varOccurences(x,y)<2?r+=" "+e.util.varReplace(x,y,S)+" ":r+=" var "+y+" = "+S+"; "+x+" ",e.compositeRule=h.compositeRule=E,r+=" if (!"+p+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),l&&(r+=" break; "),r+=" } }"}return l&&(r+="  if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(r+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=s;if(m)for(var g,v=-1,y=m.length-1;v<y;){g=m[v+=1];var b=e.schema.properties[g];b&&e.util.schemaHasRules(b,e.RULES.all)||(f[f.length]=g)}}else f=s;if(h||f.length){var _=e.errorPath,w=h||f.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(l)if(r+=" var missing"+i+"; ",w){h||(r+=" var "+p+" = validate.schema"+a+"; ");var E="' + "+(I="schema"+i+"["+(k="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,I,e.opts.jsonPointers)),r+=" var "+d+" = true; ",h&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=" for (var "+k+" = 0; "+k+" < "+p+".length; "+k+"++) { "+d+" = "+u+"["+p+"["+k+"]] !== undefined ",S&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+k+"]) "),r+="; if (!"+d+") break; } ",h&&(r+="  }  "),r+="  if (!"+d+") {   ",(T=T||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var x=r;r=T.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var C=f;if(C)for(var k=-1,D=C.length-1;k<D;){P=C[k+=1],k&&(r+=" || "),r+=" ( ( "+(A=u+(O=e.util.getProperty(P)))+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:O)+") ) "}r+=") {  ";var T;E="' + "+(I="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,I,!0):_+" + "+I),(T=T||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";x=r;r=T.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){h||(r+=" var "+p+" = validate.schema"+a+"; ");var I;E="' + "+(I="schema"+i+"["+(k="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,I,e.opts.jsonPointers)),h&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+k+" = 0; "+k+" < "+p+".length; "+k+"++) { if ("+u+"["+p+"["+k+"]] === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+k+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(r+="  }  ")}else{var M=f;if(M)for(var P,j=-1,L=M.length-1;j<L;){P=M[j+=1];var O=e.util.getProperty(P),A=(E=e.util.escapeQuotes(P),u+O);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,P,e.opts.jsonPointers)),r+=" if ( "+A+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else l&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h="valid"+o,p=e.opts.$data&&a&&a.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=a,(a||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+r+" === false || "+r+" === undefined) "+h+" = true; else if (typeof "+r+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var g="checkDataType"+(m?"s":"");i+=" if ("+e.util[g](f,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var y=i;i=v.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),s=e;for(i=1;i<o.length;i++)s=s[o[i]];for(i=0;i<r.length;i++){var a=r[i],c=s[a];c&&(s[a]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var r=n(329).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var s=a(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(e){if(e instanceof r)return i(e);throw e}function i(r){var i=r.missingSchema;if(l(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var s=o._loadingSchemas[i];return s||(s=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(c,c),s.then((function(e){if(!l(i))return a(e).then((function(){l(i)||o.addSchema(e,i,void 0,n)}))})).then((function(){return e(t)}));function c(){delete o._loadingSchemas[i]}function l(e){return o._refs[e]||o._schemas[e]}}}(e)}));i&&s.then((function(e){i(null,e)}),i);return s;function a(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(1299),o=n(1300);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var s=0;s<o.length;s++)c(e,o[s],t);else c(e,o,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function c(e,t,r){for(var o,s=0;s<n.length;s++){var a=n[s];if(a.type==t){o=a;break}}o||(o={type:t,rules:[]},n.push(o));var c={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(c),n.custom[e]=c}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",s=e.level,a=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(a||""),p="valid"+s,f="errs__"+s,m=e.opts.$data&&c&&c.$data;m?(o+=" var schema"+s+" = "+e.util.getData(c.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=c;var g,v,y,b,_,w="definition"+s,S=this.definition,E="";if(m&&S.$data){_="keywordValidate"+s;var x=S.validateSchema;o+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+_+" = "+w+".validate;"}else{if(!(b=e.useCustomRule(this,c,e.schema,e)))return;i="validate.schema"+l,_=b.code,g=S.compile,v=S.inline,y=S.macro}var C=_+".errors",k="i"+s,D="ruleErr"+s,T=S.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(o+=C+" = null;"),o+="var "+f+" = errors;var "+p+";",m&&S.$data&&(E+="}",o+=" if ("+i+" === undefined) { "+p+" = true; } else { ",x&&(E+="}",o+=" "+p+" = "+w+".validateSchema("+i+"); if ("+p+") { ")),v)S.statements?o+=" "+b.validate+" ":o+=" "+p+" = "+b.validate+"; ";else if(y){var I=e.util.copy(e);E="";I.level++;var M="valid"+I.level;I.schema=b.validate,I.schemaPath="";var P=e.compositeRule;e.compositeRule=I.compositeRule=!0;var j=e.validate(I).replace(/validate\.schema/g,_);e.compositeRule=I.compositeRule=P,o+=" "+j}else{(N=N||[]).push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===S.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var L=a?"data"+(a-1||""):"parentData",O=a?e.dataPathArr[a]:"parentDataProperty",A=o+=" , "+L+" , "+O+" , rootData )  ";o=N.pop(),!1===S.errors?(o+=" "+p+" = ",T&&(o+="await "),o+=A+"; "):o+=T?" var "+(C="customErrors"+s)+" = null; try { "+p+" = await "+A+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+C+" = e.errors; else throw e; } ":" "+C+" = null; "+p+" = "+A+"; "}if(S.modifying&&(o+=" if ("+L+") "+h+" = "+L+"["+O+"];"),o+=""+E,S.valid)d&&(o+=" if (true) { ");else{var N;o+=" if ( ",void 0===S.valid?(o+=" !",o+=y?""+M:""+p):o+=" "+!S.valid+" ",o+=") { ",r=this.keyword,(N=N||[]).push(o),o="",(N=N||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var R=o;o=N.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+R+"]); ":o+=" validate.errors = ["+R+"]; return false; ":o+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var F=o;o=N.pop(),v?S.errors?"full"!=S.errors&&(o+="  for (var "+k+"="+f+"; "+k+"<errors; "+k+"++) { var "+D+" = vErrors["+k+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+D+".schema = "+i+"; "+D+".data = "+h+"; "),o+=" } "):!1===S.errors?o+=" "+F+" ":(o+=" if ("+f+" == errors) { "+F+" } else {  for (var "+k+"="+f+"; "+k+"<errors; "+k+"++) { var "+D+" = vErrors["+k+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+D+".schema = "+i+"; "+D+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===S.errors?o+=" "+F+" ":(o+=" if (Array.isArray("+C+")) { if (vErrors === null) vErrors = "+C+"; else vErrors = vErrors.concat("+C+"); errors = vErrors.length;  for (var "+k+"="+f+"; "+k+"<errors; "+k+"++) { var "+D+" = vErrors["+k+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+";  "+D+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+D+".schema = "+i+"; "+D+".data = "+h+"; "),o+=" } } else { "+F+" } "),o+=" } ",d&&(o+=" else { ")}return o}},function(e,t,n){"use strict";var r=n(526);e.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e,t,n){const r={parse:n(1303),stringify:n(1305)};e.exports=r},function(e,t,n){const r=n(527);let i,o,s,a,c,l,u,d,h,p,f,m,g,v;function y(){for(p="default",f="",m=!1,g=1;;){v=b();const e=w[p]();if(e)return e}}function b(){if(i[a])return String.fromCodePoint(i.codePointAt(a))}function _(){const e=b();return"\n"===e?(c++,l=0):e?l+=e.length:l++,e&&(a+=e.length),e}e.exports=function(e,t){i=String(e),o="start",s=[],a=0,c=1,l=0,u=void 0,d=void 0,h=void 0;do{u=y(),C[o]()}while("eof"!==u.type);return"function"==typeof t?function e(t,n,r){const i=t[n];if(null!=i&&"object"==typeof i)for(const t in i){const n=e(i,t,r);void 0===n?delete i[t]:i[t]=n}return r.call(t,n,i)}({"":h},"",t):h};const w={default(){switch(v){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void _();case"/":return _(),void(p="comment");case void 0:return _(),S("eof")}if(!r.isSpaceSeparator(v))return w[o]();_()},comment(){switch(v){case"*":return _(),void(p="multiLineComment");case"/":return _(),void(p="singleLineComment")}throw T(_())},multiLineComment(){switch(v){case"*":return _(),void(p="multiLineCommentAsterisk");case void 0:throw T(_())}_()},multiLineCommentAsterisk(){switch(v){case"*":return void _();case"/":return _(),void(p="default");case void 0:throw T(_())}_(),p="multiLineComment"},singleLineComment(){switch(v){case"\n":case"\r":case"\u2028":case"\u2029":return _(),void(p="default");case void 0:return _(),S("eof")}_()},value(){switch(v){case"{":case"[":return S("punctuator",_());case"n":return _(),E("ull"),S("null",null);case"t":return _(),E("rue"),S("boolean",!0);case"f":return _(),E("alse"),S("boolean",!1);case"-":case"+":return"-"===_()&&(g=-1),void(p="sign");case".":return f=_(),void(p="decimalPointLeading");case"0":return f=_(),void(p="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return f=_(),void(p="decimalInteger");case"I":return _(),E("nfinity"),S("numeric",1/0);case"N":return _(),E("aN"),S("numeric",NaN);case'"':case"'":return m='"'===_(),f="",void(p="string")}throw T(_())},identifierNameStartEscape(){if("u"!==v)throw T(_());_();const e=x();switch(e){case"$":case"_":break;default:if(!r.isIdStartChar(e))throw M()}f+=e,p="identifierName"},identifierName(){switch(v){case"$":case"_":case"":case"":return void(f+=_());case"\\":return _(),void(p="identifierNameEscape")}if(!r.isIdContinueChar(v))return S("identifier",f);f+=_()},identifierNameEscape(){if("u"!==v)throw T(_());_();const e=x();switch(e){case"$":case"_":case"":case"":break;default:if(!r.isIdContinueChar(e))throw M()}f+=e,p="identifierName"},sign(){switch(v){case".":return f=_(),void(p="decimalPointLeading");case"0":return f=_(),void(p="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return f=_(),void(p="decimalInteger");case"I":return _(),E("nfinity"),S("numeric",g*(1/0));case"N":return _(),E("aN"),S("numeric",NaN)}throw T(_())},zero(){switch(v){case".":return f+=_(),void(p="decimalPoint");case"e":case"E":return f+=_(),void(p="decimalExponent");case"x":case"X":return f+=_(),void(p="hexadecimal")}return S("numeric",0*g)},decimalInteger(){switch(v){case".":return f+=_(),void(p="decimalPoint");case"e":case"E":return f+=_(),void(p="decimalExponent")}if(!r.isDigit(v))return S("numeric",g*Number(f));f+=_()},decimalPointLeading(){if(r.isDigit(v))return f+=_(),void(p="decimalFraction");throw T(_())},decimalPoint(){switch(v){case"e":case"E":return f+=_(),void(p="decimalExponent")}return r.isDigit(v)?(f+=_(),void(p="decimalFraction")):S("numeric",g*Number(f))},decimalFraction(){switch(v){case"e":case"E":return f+=_(),void(p="decimalExponent")}if(!r.isDigit(v))return S("numeric",g*Number(f));f+=_()},decimalExponent(){switch(v){case"+":case"-":return f+=_(),void(p="decimalExponentSign")}if(r.isDigit(v))return f+=_(),void(p="decimalExponentInteger");throw T(_())},decimalExponentSign(){if(r.isDigit(v))return f+=_(),void(p="decimalExponentInteger");throw T(_())},decimalExponentInteger(){if(!r.isDigit(v))return S("numeric",g*Number(f));f+=_()},hexadecimal(){if(r.isHexDigit(v))return f+=_(),void(p="hexadecimalInteger");throw T(_())},hexadecimalInteger(){if(!r.isHexDigit(v))return S("numeric",g*Number(f));f+=_()},string(){switch(v){case"\\":return _(),void(f+=function(){switch(b()){case"b":return _(),"\b";case"f":return _(),"\f";case"n":return _(),"\n";case"r":return _(),"\r";case"t":return _(),"\t";case"v":return _(),"\v";case"0":if(_(),r.isDigit(b()))throw T(_());return"\0";case"x":return _(),function(){let e="",t=b();if(!r.isHexDigit(t))throw T(_());if(e+=_(),t=b(),!r.isHexDigit(t))throw T(_());return e+=_(),String.fromCodePoint(parseInt(e,16))}();case"u":return _(),x();case"\n":case"\u2028":case"\u2029":return _(),"";case"\r":return _(),"\n"===b()&&_(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw T(_())}return _()}());case'"':return m?(_(),S("string",f)):void(f+=_());case"'":return m?void(f+=_()):(_(),S("string",f));case"\n":case"\r":throw T(_());case"\u2028":case"\u2029":!function(e){console.warn(`JSON5: '${P(e)}' in strings is not valid ECMAScript; consider escaping`)}(v);break;case void 0:throw T(_())}f+=_()},start(){switch(v){case"{":case"[":return S("punctuator",_())}p="value"},beforePropertyName(){switch(v){case"$":case"_":return f=_(),void(p="identifierName");case"\\":return _(),void(p="identifierNameStartEscape");case"}":return S("punctuator",_());case'"':case"'":return m='"'===_(),void(p="string")}if(r.isIdStartChar(v))return f+=_(),void(p="identifierName");throw T(_())},afterPropertyName(){if(":"===v)return S("punctuator",_());throw T(_())},beforePropertyValue(){p="value"},afterPropertyValue(){switch(v){case",":case"}":return S("punctuator",_())}throw T(_())},beforeArrayValue(){if("]"===v)return S("punctuator",_());p="value"},afterArrayValue(){switch(v){case",":case"]":return S("punctuator",_())}throw T(_())},end(){throw T(_())}};function S(e,t){return{type:e,value:t,line:c,column:l}}function E(e){for(const t of e){if(b()!==t)throw T(_());_()}}function x(){let e="",t=4;for(;t-- >0;){const t=b();if(!r.isHexDigit(t))throw T(_());e+=_()}return String.fromCodePoint(parseInt(e,16))}const C={start(){if("eof"===u.type)throw I();k()},beforePropertyName(){switch(u.type){case"identifier":case"string":return d=u.value,void(o="afterPropertyName");case"punctuator":return void D();case"eof":throw I()}},afterPropertyName(){if("eof"===u.type)throw I();o="beforePropertyValue"},beforePropertyValue(){if("eof"===u.type)throw I();k()},beforeArrayValue(){if("eof"===u.type)throw I();"punctuator"!==u.type||"]"!==u.value?k():D()},afterPropertyValue(){if("eof"===u.type)throw I();switch(u.value){case",":return void(o="beforePropertyName");case"}":D()}},afterArrayValue(){if("eof"===u.type)throw I();switch(u.value){case",":return void(o="beforeArrayValue");case"]":D()}},end(){}};function k(){let e;switch(u.type){case"punctuator":switch(u.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=u.value}if(void 0===h)h=e;else{const t=s[s.length-1];Array.isArray(t)?t.push(e):t[d]=e}if(null!==e&&"object"==typeof e)s.push(e),o=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{const e=s[s.length-1];o=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}}function D(){s.pop();const e=s[s.length-1];o=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function T(e){return j(void 0===e?`JSON5: invalid end of input at ${c}:${l}`:`JSON5: invalid character '${P(e)}' at ${c}:${l}`)}function I(){return j(`JSON5: invalid end of input at ${c}:${l}`)}function M(){return l-=5,j(`JSON5: invalid identifier character at ${c}:${l}`)}function P(e){const t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){const t=e.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return e}function j(e){const t=new SyntaxError(e);return t.lineNumber=c,t.columnNumber=l,t}},function(e,t){e.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,e.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,e.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},function(e,t,n){const r=n(527);e.exports=function(e,t,n){const i=[];let o,s,a,c="",l="";if(null==t||"object"!=typeof t||Array.isArray(t)||(n=t.space,a=t.quote,t=t.replacer),"function"==typeof t)s=t;else if(Array.isArray(t)){o=[];for(const e of t){let t;"string"==typeof e?t=e:("number"==typeof e||e instanceof String||e instanceof Number)&&(t=String(e)),void 0!==t&&o.indexOf(t)<0&&o.push(t)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),l="          ".substr(0,n)):"string"==typeof n&&(l=n.substr(0,10)),u("",{"":e});function u(e,t){let n=t[e];switch(null!=n&&("function"==typeof n.toJSON5?n=n.toJSON5(e):"function"==typeof n.toJSON&&(n=n.toJSON(e))),s&&(n=s.call(t,e,n)),n instanceof Number?n=Number(n):n instanceof String?n=String(n):n instanceof Boolean&&(n=n.valueOf()),n){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof n?d(n):"number"==typeof n?String(n):"object"==typeof n?Array.isArray(n)?function(e){if(i.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");i.push(e);let t=c;c+=l;let n,r=[];for(let t=0;t<e.length;t++){const n=u(String(t),e);r.push(void 0!==n?n:"null")}if(0===r.length)n="[]";else if(""===l){let e=r.join(",");n="["+e+"]"}else{let e=",\n"+c,i=r.join(e);n="[\n"+c+i+",\n"+t+"]"}return i.pop(),c=t,n}(n):function(e){if(i.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");i.push(e);let t=c;c+=l;let n,r=o||Object.keys(e),s=[];for(const t of r){const n=u(t,e);if(void 0!==n){let e=h(t)+":";""!==l&&(e+=" "),e+=n,s.push(e)}}if(0===s.length)n="{}";else{let e;if(""===l)e=s.join(","),n="{"+e+"}";else{let r=",\n"+c;e=s.join(r),n="{\n"+c+e+",\n"+t+"}"}}return i.pop(),c=t,n}(n):void 0}function d(e){const t={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let r="";for(const i of e){switch(i){case"'":case'"':t[i]++,r+=i;continue}if(n[i])r+=n[i];else if(i<" "){let e=i.charCodeAt(0).toString(16);r+="\\x"+("00"+e).substring(e.length)}else r+=i}const i=a||Object.keys(t).reduce((e,n)=>t[e]<t[n]?e:n);return r=r.replace(new RegExp(i,"g"),n[i]),i+r+i}function h(e){if(0===e.length)return d(e);const t=String.fromCodePoint(e.codePointAt(0));if(!r.isIdStartChar(t))return d(e);for(let n=t.length;n<e.length;n++)if(!r.isIdContinueChar(String.fromCodePoint(e.codePointAt(n))))return d(e);return e}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","title":"JupyterLab Plugin Settings/Preferences Schema","description":"JupyterLab plugin settings/preferences schema","version":"1.0.0","type":"object","additionalProperties":true,"properties":{"jupyter.lab.setting-deprecated":{"type":"boolean","default":false},"jupyter.lab.setting-icon-class":{"type":"string","default":"jp-SettingsIcon"},"jupyter.lab.setting-icon-label":{"type":"string","default":"Plugin"},"jupyter.lab.shortcuts":{"items":{"$ref":"#/definitions/shortcut"},"type":"array","default":[]},"jupyter.lab.transform":{"type":"boolean","default":false}},"definitions":{"shortcut":{"properties":{"args":{"type":"object"},"command":{"type":"string"},"disabled":{"type":"boolean","default":false},"keys":{"items":{"type":"string"},"minItems":1,"type":"array"},"selector":{"type":"string"}},"required":["command","keys","selector"],"type":"object"}}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57);class i{constructor(e={}){this._changed=new r.Signal(this);const{connector:t,transform:n}=e;this._connector=t||new i.Connector,this._ready=(n||Promise.resolve(null)).then(e=>{if(!e)return;const{contents:t,type:n}=e;switch(n){case"cancel":return;case"clear":return this._clear();case"merge":return this._merge(t||{});case"overwrite":return this._overwrite(t||{});default:return}})}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;const{ids:e,values:t}=await this._list();return t.reduce((t,n,r)=>(t[e[r]]=n,t),{})}async _clear(){await Promise.all((await this._list()).ids.map(e=>this._remove(e)))}async _fetch(e){const t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e){const{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map(e=>JSON.parse(e).v)}}async _merge(e){await Promise.all(Object.keys(e).map(t=>this._save(t,e[t])))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}}t.StateDB=i,function(e){e.Connector=class{constructor(){this._storage={}}async fetch(e){return this._storage[e]}async list(e=""){return Object.keys(this._storage).reduce((t,n)=>(n&&0===n.indexOf(e)&&(t.ids.push(n),t.values.push(this._storage[n])),t),{ids:[],values:[]})}async remove(e){delete this._storage[e]}async save(e,t){this._storage[e]=t}}}(i=t.StateDB||(t.StateDB={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){const t="".length>1;e.jsIndexToCharIndex=function(e,n){if(t)return e;let r=e;for(let t=0;t+1<n.length&&t<e;t++){let e=n.charCodeAt(t);if(e>=55296&&e<=56319){let e=n.charCodeAt(t+1);e>=56320&&e<=57343&&(r--,t++)}}return r},e.charIndexToJsIndex=function(e,n){if(t)return e;let r=e;for(let e=0;e+1<n.length&&e<r;e++){let t=n.charCodeAt(e);if(t>=55296&&t<=56319){let t=n.charCodeAt(e+1);t>=56320&&t<=57343&&(r++,e++)}}return r},e.camelCase=function(e,t=!1){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+|-+|_+)/g,(function(e,n){return 0==+e||"-"===e[0]?"":0!==n||t?e.toUpperCase():e.toLowerCase()}))},e.titleCase=function(e){return e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}}(t.Text||(t.Text={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2));!function(e){e.formatHuman=function(e){let t=i.default(e).fromNow();return t="a few seconds ago"===t?"seconds ago":t,t},e.format=function(e,t="YYYY-MM-DD HH:mm"){return i.default(e).format(t)}}(t.Time||(t.Time={}))},function(e,t,n){var r={"./af":528,"./af.js":528,"./ar":529,"./ar-dz":530,"./ar-dz.js":530,"./ar-kw":531,"./ar-kw.js":531,"./ar-ly":532,"./ar-ly.js":532,"./ar-ma":533,"./ar-ma.js":533,"./ar-sa":534,"./ar-sa.js":534,"./ar-tn":535,"./ar-tn.js":535,"./ar.js":529,"./az":536,"./az.js":536,"./be":537,"./be.js":537,"./bg":538,"./bg.js":538,"./bm":539,"./bm.js":539,"./bn":540,"./bn.js":540,"./bo":541,"./bo.js":541,"./br":542,"./br.js":542,"./bs":543,"./bs.js":543,"./ca":544,"./ca.js":544,"./cs":545,"./cs.js":545,"./cv":546,"./cv.js":546,"./cy":547,"./cy.js":547,"./da":548,"./da.js":548,"./de":549,"./de-at":550,"./de-at.js":550,"./de-ch":551,"./de-ch.js":551,"./de.js":549,"./dv":552,"./dv.js":552,"./el":553,"./el.js":553,"./en-SG":554,"./en-SG.js":554,"./en-au":555,"./en-au.js":555,"./en-ca":556,"./en-ca.js":556,"./en-gb":557,"./en-gb.js":557,"./en-ie":558,"./en-ie.js":558,"./en-il":559,"./en-il.js":559,"./en-nz":560,"./en-nz.js":560,"./eo":561,"./eo.js":561,"./es":562,"./es-do":563,"./es-do.js":563,"./es-us":564,"./es-us.js":564,"./es.js":562,"./et":565,"./et.js":565,"./eu":566,"./eu.js":566,"./fa":567,"./fa.js":567,"./fi":568,"./fi.js":568,"./fo":569,"./fo.js":569,"./fr":570,"./fr-ca":571,"./fr-ca.js":571,"./fr-ch":572,"./fr-ch.js":572,"./fr.js":570,"./fy":573,"./fy.js":573,"./ga":574,"./ga.js":574,"./gd":575,"./gd.js":575,"./gl":576,"./gl.js":576,"./gom-latn":577,"./gom-latn.js":577,"./gu":578,"./gu.js":578,"./he":579,"./he.js":579,"./hi":580,"./hi.js":580,"./hr":581,"./hr.js":581,"./hu":582,"./hu.js":582,"./hy-am":583,"./hy-am.js":583,"./id":584,"./id.js":584,"./is":585,"./is.js":585,"./it":586,"./it-ch":587,"./it-ch.js":587,"./it.js":586,"./ja":588,"./ja.js":588,"./jv":589,"./jv.js":589,"./ka":590,"./ka.js":590,"./kk":591,"./kk.js":591,"./km":592,"./km.js":592,"./kn":593,"./kn.js":593,"./ko":594,"./ko.js":594,"./ku":595,"./ku.js":595,"./ky":596,"./ky.js":596,"./lb":597,"./lb.js":597,"./lo":598,"./lo.js":598,"./lt":599,"./lt.js":599,"./lv":600,"./lv.js":600,"./me":601,"./me.js":601,"./mi":602,"./mi.js":602,"./mk":603,"./mk.js":603,"./ml":604,"./ml.js":604,"./mn":605,"./mn.js":605,"./mr":606,"./mr.js":606,"./ms":607,"./ms-my":608,"./ms-my.js":608,"./ms.js":607,"./mt":609,"./mt.js":609,"./my":610,"./my.js":610,"./nb":611,"./nb.js":611,"./ne":612,"./ne.js":612,"./nl":613,"./nl-be":614,"./nl-be.js":614,"./nl.js":613,"./nn":615,"./nn.js":615,"./pa-in":616,"./pa-in.js":616,"./pl":617,"./pl.js":617,"./pt":618,"./pt-br":619,"./pt-br.js":619,"./pt.js":618,"./ro":620,"./ro.js":620,"./ru":621,"./ru.js":621,"./sd":622,"./sd.js":622,"./se":623,"./se.js":623,"./si":624,"./si.js":624,"./sk":625,"./sk.js":625,"./sl":626,"./sl.js":626,"./sq":627,"./sq.js":627,"./sr":628,"./sr-cyrl":629,"./sr-cyrl.js":629,"./sr.js":628,"./ss":630,"./ss.js":630,"./sv":631,"./sv.js":631,"./sw":632,"./sw.js":632,"./ta":633,"./ta.js":633,"./te":634,"./te.js":634,"./tet":635,"./tet.js":635,"./tg":636,"./tg.js":636,"./th":637,"./th.js":637,"./tl-ph":638,"./tl-ph.js":638,"./tlh":639,"./tlh.js":639,"./tr":640,"./tr.js":640,"./tzl":641,"./tzl.js":641,"./tzm":642,"./tzm-latn":643,"./tzm-latn.js":643,"./tzm.js":642,"./ug-cn":644,"./ug-cn.js":644,"./uk":645,"./uk.js":645,"./ur":646,"./ur.js":646,"./uz":647,"./uz-latn":648,"./uz-latn.js":648,"./uz.js":647,"./vi":649,"./vi.js":649,"./x-pseudo":650,"./x-pseudo.js":650,"./yo":651,"./yo.js":651,"./zh-cn":652,"./zh-cn.js":652,"./zh-hk":653,"./zh-hk.js":653,"./zh-tw":654,"./zh-tw.js":654};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=1310},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52);t.ISettingRegistry=new r.Token("@jupyterlab/coreutils:ISettingRegistry"),t.IStateDB=new r.Token("@jupyterlab/coreutils:IStateDB")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(120);!function(e){e.create=function(e){let t=new o(e);return t.load().then(()=>t)}}(t.ConfigSection||(t.ConfigSection={}));class o{constructor(e){this._url="unknown";let t=this.serverSettings=e.serverSettings||i.ServerConnection.makeSettings();this._url=r.URLExt.join(t.baseUrl,"api/config",encodeURIComponent(e.name))}get data(){return this._data}load(){return i.ServerConnection.makeRequest(this._url,{},this.serverSettings).then(e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()}).then(e=>{this._data=e})}update(e){this._data=Object.assign({},this._data,e);let t={method:"PATCH",body:JSON.stringify(e)};return i.ServerConnection.makeRequest(this._url,t,this.serverSettings).then(e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()}).then(e=>(this._data=e,this._data))}}t.ConfigWithDefaults=class{constructor(e){this._className="",this._section=e.section,this._defaults=e.defaults||{},this._className=e.className||""}get(e){let t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){let n={};if(n[e]=t,this._className){let e={};return e[this._className]=n,this._section.update(e)}return this._section.update(n)}_classData(){let e=this._section.data;return this._className&&this._className in e?e[this._className]:e}}},function(e,t,n){"use strict";function r(e,t,n){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);if(void 0!==n){let r=!0,i=e[t];switch(n){case"array":r=Array.isArray(i);break;case"object":r=void 0!==i;break;default:r=typeof i===n}if(!r)throw new Error(`Property '${t}' is not of type '${n}`)}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateContentsModel=function(e){r(e,"name","string"),r(e,"path","string"),r(e,"type","string"),r(e,"created","string"),r(e,"last_modified","string"),r(e,"mimetype","object"),r(e,"content","object"),r(e,"format","object")},t.validateCheckpointModel=function(e){r(e,"id","string"),r(e,"last_modified","string")}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(65),o=n(52),s=n(91),a=n(52),c=n(57),l=n(120),u=n(657),d=n(198),h=n(658),p=r(n(326)),f=r(n(332));class m{constructor(e,t){this._createSocket=()=>{if(this.isDisposed)return;let e=this.serverSettings,t=i.URLExt.join(e.wsUrl,"api/kernels",encodeURIComponent(this._id)),n=t.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.log("Starting WebSocket:",n);let r=i.URLExt.join(t,"channels?session_id="+encodeURIComponent(this._clientId)),o=e.token;""!==o&&(r=r+"&token="+encodeURIComponent(o)),this._wsStopped=!1,this._ws=new e.WebSocket(r),this._ws.binaryType="arraybuffer",this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSOpen=e=>{this._reconnectAttempt=0,this._updateStatus("connected"),this._isReady=!0,this.requestKernelInfo().then(()=>{this._initialized=!0,this._isReady=!0,this._readyPromise.resolve()}).catch(e=>{this._initialized=!0,this._readyPromise.reject(e)}),this._isReady=!1},this._onWSMessage=e=>{if(this._wsStopped)return;let t;try{t=p.deserialize(e.data),f.validateMessage(t)}catch(e){throw e.message="Kernel message validation error: "+e.message,e}this._kernelSession=t.header.session,this._msgChain=this._msgChain.then(()=>this._handleMessage(t)).catch(e=>{console.error(e)}),this._anyMessage.emit({msg:t,direction:"recv"})},this._onWSClose=e=>{if(!this._wsStopped&&this._ws)if(this._clearSocket(),this._reconnectAttempt<this._reconnectLimit){this._updateStatus("reconnecting");let e=Math.pow(2,this._reconnectAttempt);console.error("Connection lost, reconnecting in "+e+" seconds."),setTimeout(this._createSocket,1e3*e),this._reconnectAttempt+=1}else this._updateStatus("dead")},this._id="",this._name="",this._status="unknown",this._kernelSession="",this._clientId="",this._isDisposed=!1,this._wsStopped=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._isReady=!1,this._readyPromise=new a.PromiseDelegate,this._initialized=!1,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=null,this._pendingMessages=[],this._statusChanged=new c.Signal(this),this._iopubMessage=new c.Signal(this),this._anyMessage=new c.Signal(this),this._unhandledMessage=new c.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._terminated=new c.Signal(this),this._msgChain=Promise.resolve(),this._noOp=()=>{},this._name=e.name,this._id=t,this.serverSettings=e.serverSettings||l.ServerConnection.makeSettings(),this._clientId=e.clientId||o.UUID.uuid4(),this._username=e.username||"",this.handleComms=void 0===e.handleComms||e.handleComms,this._readyPromise.promise.then(()=>{this._sendPending()}),this._createSocket(),g.runningKernels.push(this)}get terminated(){return this._terminated}get statusChanged(){return this._statusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get id(){return this._id}get name(){return this._name}get model(){return{name:this.name,id:this.id}}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get isDisposed(){return this._isDisposed}get info(){return this._info}get isReady(){return this._isReady}get ready(){return this._readyPromise.promise}getSpec(){return this._specPromise||(this._specPromise=g.findSpecs(this.serverSettings).then(e=>e.kernelspecs[this._name])),this._specPromise}clone(e={}){return new m(Object.assign({name:this._name,username:this._username,serverSettings:this.serverSettings,handleComms:this.handleComms},e),this._id)}dispose(){this.isDisposed||(this._isDisposed=!0,this._terminated.emit(),this._status="dead",this._clearState(),this._clearSocket(),this._kernelSession="",this._msgChain=null,s.ArrayExt.removeFirstOf(g.runningKernels,this),c.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(h.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(h.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,r=!0){if("dead"===this.status)throw new Error("Kernel is dead");this._isReady&&this._ws?this._ws.send(p.serialize(t)):this._pendingMessages.push(t),this._anyMessage.emit({msg:t,direction:"send"});let i=new e(()=>{let e=t.header.msg_id;this._futures.delete(e);let n=this._msgIdToDisplayIds.get(e);n&&(n.forEach(t=>{let n=this._displayIdToParentIds.get(t);if(n){let r=n.indexOf(e);if(-1===r)return;1===n.length?this._displayIdToParentIds.delete(t):(n.splice(r,1),this._displayIdToParentIds.set(t,n))}}),this._msgIdToDisplayIds.delete(e))},t,n,r,this);return this._futures.set(t.header.msg_id,i),i}interrupt(){return g.interruptKernel(this,this.serverSettings)}restart(){return g.restartKernel(this,this.serverSettings)}async handleRestart(){await this._clearState(),this._updateStatus("restarting")}reconnect(){return this._clearSocket(),this._updateStatus("reconnecting"),this._createSocket(),this._readyPromise.promise}async shutdown(){if("dead"===this.status)return this._clearSocket(),void await this._clearState();await g.shutdownKernel(this.id,this.serverSettings),await this._clearState(),this._clearSocket()}async requestKernelInfo(){let e=d.KernelMessage.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}}),t=await g.handleShellMessage(this,e);if(this.isDisposed)throw new Error("Disposed kernel");if(t.content.status&&"ok"!==t.content.status)throw new Error("Kernel info reply errored");return this._info=t.content,t}requestComplete(e){let t=d.KernelMessage.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return g.handleShellMessage(this,t)}requestInspect(e){let t=d.KernelMessage.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return g.handleShellMessage(this,t)}requestHistory(e){let t=d.KernelMessage.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return g.handleShellMessage(this,t)}requestExecute(e,t=!0,n){let r=d.KernelMessage.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign({},{silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},e),metadata:n});return this.sendShellMessage(r,!0,t)}requestDebug(e,t=!0){let n=d.KernelMessage.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){let t=d.KernelMessage.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return g.handleShellMessage(this,t)}requestCommInfo(e){let t=d.KernelMessage.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return g.handleShellMessage(this,t)}sendInputReply(e){if("dead"===this.status)throw new Error("Kernel is dead");let t=d.KernelMessage.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});this._isReady&&this._ws?this._ws.send(p.serialize(t)):this._pendingMessages.push(t),this._anyMessage.emit({msg:t,direction:"send"})}connectToComm(e,t=o.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))return this._comms.get(t);let n=new u.CommHandler(e,t,this,()=>{this._unregisterComm(t)});return this._comms.set(t,n),n}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&(this.isDisposed||this._targetRegistry[e]!==t||delete this._targetRegistry[e])}registerMessageHook(e,t){let n=this._futures&&this._futures.get(e);n&&n.registerMessageHook(t)}removeMessageHook(e,t){let n=this._futures&&this._futures.get(e);n&&n.removeMessageHook(t)}async _handleDisplayId(e,t){let n=t.parent_header.msg_id,r=this._displayIdToParentIds.get(e);if(r){let e={header:a.JSONExt.deepCopy(t.header),parent_header:a.JSONExt.deepCopy(t.parent_header),metadata:a.JSONExt.deepCopy(t.metadata),content:a.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};e.header.msg_type="update_display_data",await Promise.all(r.map(async t=>{let n=this._futures&&this._futures.get(t);n&&await n.handleMsg(e)}))}if("update_display_data"===t.header.msg_type)return!0;r=this._displayIdToParentIds.get(e)||[],-1===r.indexOf(n)&&r.push(n),this._displayIdToParentIds.set(e,r);let i=this._msgIdToDisplayIds.get(n)||[];return-1===i.indexOf(n)&&i.push(n),this._msgIdToDisplayIds.set(n,i),!1}_clearSocket(){this._wsStopped=!0,null!==this._ws&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){switch(e){case"idle":case"busy":!this._isReady&&this._initialized&&(this._isReady=!0,this._readyPromise.resolve());break;case"restarting":this.requestKernelInfo().catch(this._noOp);break;case"starting":case"autorestarting":case"connected":break;case"reconnecting":this._isReady&&(this._isReady=!1,this._readyPromise=new a.PromiseDelegate,this._readyPromise.promise.then(()=>{this._sendPending()}));break;case"dead":this._isReady&&(this._isReady=!1,this._readyPromise=new a.PromiseDelegate),this._readyPromise.promise.catch(this._noOp),this._readyPromise.reject("Kernel is dead");break;default:return void console.error("invalid kernel status:",e)}e!==this._status&&(this._status=e,g.logKernelStatus(this),this._statusChanged.emit(e),"dead"===e&&this.dispose())}_sendPending(){for(;this._ws&&this._pendingMessages.length>0;){let e=p.serialize(this._pendingMessages[0]);this._ws.send(e),this._pendingMessages.shift()}}async _clearState(){this._pendingMessages=[];const e=[];this._futures.forEach(t=>{e.push(t.done.then(this._noOp,this._noOp)),t.dispose()}),this._comms.forEach(e=>{e.dispose()}),this._msgChain=Promise.resolve(),this._kernelSession="",this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear(),await Promise.all(e)}_assertCurrentMessage(e){if(this.isDisposed)throw new Error("Kernel object is disposed");if(e.header.session!==this._kernelSession)throw new Error("Canceling handling of old message: "+e.header.msg_type)}async _handleCommOpen(e){this._assertCurrentMessage(e);let t=e.content,n=new u.CommHandler(t.target_name,t.comm_id,this,()=>{this._unregisterComm(t.comm_id)});this._comms.set(t.comm_id,n);try{let r=await g.loadObject(t.target_name,t.target_module,this._targetRegistry);await r(n,e)}catch(e){throw n.close(),console.error("Exception opening new comm"),e}}async _handleCommClose(e){this._assertCurrentMessage(e);let t=e.content,n=this._comms.get(t.comm_id);if(!n)return void console.error("Comm not found for comm id "+t.comm_id);this._unregisterComm(n.commId);let r=n.onClose;r&&await r(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);let t=e.content,n=this._comms.get(t.comm_id);if(!n)return;let r=n.onMsg;r&&await r(e)}_unregisterComm(e){this._comms.delete(e)}async _handleMessage(e){let t=!1;if(e.parent_header&&"iopub"===e.channel&&(d.KernelMessage.isDisplayDataMsg(e)||d.KernelMessage.isUpdateDisplayDataMsg(e)||d.KernelMessage.isExecuteResultMsg(e))){let n=(e.content.transient||{}).display_id;n&&(t=await this._handleDisplayId(n,e),this._assertCurrentMessage(e))}if(!t&&e.parent_header){let t=e.parent_header,n=this._futures&&this._futures.get(t.msg_id);if(n)await n.handleMsg(e),this._assertCurrentMessage(e);else{let n=t.session===this.clientId;"iopub"!==e.channel&&n&&this._unhandledMessage.emit(e)}}if("iopub"===e.channel){switch(e.header.msg_type){case"status":let t=e.content.execution_state;this._updateStatus(t),"restarting"===t&&Promise.resolve().then(async()=>{await this.handleRestart(),this._updateStatus("autorestarting")});break;case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e)}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}}var g;t.DefaultKernel=m,function(e){e.findById=function(e,t){return g.findById(e,t)},e.getSpecs=function(e){return g.getSpecs(e)},e.listRunning=function(e){return g.listRunning(e)},e.startNew=function(e){return g.startNew(e)},e.connectTo=function(e,t){return g.connectTo(e,t)},e.shutdown=function(e,t){return g.shutdownKernel(e,t)},e.shutdownAll=function(e){return g.shutdownAll(e)}}(m=t.DefaultKernel||(t.DefaultKernel={})),function(e){function t(t){t=t||l.ServerConnection.makeSettings();let n=i.URLExt.join(t.baseUrl,"api/kernelspecs"),r=l.ServerConnection.makeRequest(n,{},t).then(e=>{if(200!==e.status)throw new l.ServerConnection.ResponseError(e);return e.json()}).then(e=>f.validateSpecModels(e));return e.specs[t.baseUrl]=r,r}function n(e){e=e||l.ServerConnection.makeSettings();let t=i.URLExt.join(e.baseUrl,"api/kernels");return l.ServerConnection.makeRequest(t,{},e).then(e=>{if(200!==e.status)throw new l.ServerConnection.ResponseError(e);return e.json()}).then(e=>{if(!Array.isArray(e))throw new Error("Invalid kernel list");for(let t=0;t<e.length;t++)f.validateModel(e[t]);return r(e)})}function r(t){return s.each(e.runningKernels.slice(),e=>{s.find(t,t=>e.id===t.id)||"dead"===e.status||e.dispose()}),t}async function o(t,n){n=n||l.ServerConnection.makeSettings();let r=i.URLExt.join(n.baseUrl,"api/kernels",encodeURIComponent(t)),o=await l.ServerConnection.makeRequest(r,{method:"DELETE"},n);if(404===o.status){let e=`The kernel "${t}" does not exist on the server`;console.warn(e)}else if(204!==o.status)throw new l.ServerConnection.ResponseError(o);!function(t){e.runningKernels.slice().forEach(e=>{e.id===t&&e.dispose()})}(t)}async function a(e,t){t=t||l.ServerConnection.makeSettings();let n=i.URLExt.join(t.baseUrl,"api/kernels",encodeURIComponent(e)),r=await l.ServerConnection.makeRequest(n,{},t);if(200!==r.status)throw new l.ServerConnection.ResponseError(r);let o=await r.json();return f.validateModel(o),o}e.runningKernels=[],e.specs=Object.create(null),e.findById=function(t,n){let r=s.find(e.runningKernels,e=>e.id===t);return r?Promise.resolve(r.model):a(t,n).catch(()=>{throw new Error("No running kernel with id: "+t)})},e.findSpecs=function(n){n=n||l.ServerConnection.makeSettings();let r=e.specs[n.baseUrl];return r||t(n)},e.getSpecs=t,e.listRunning=n,e.updateRunningKernels=r,e.startNew=async function(e){let t=e.serverSettings||l.ServerConnection.makeSettings(),n=i.URLExt.join(t.baseUrl,"api/kernels"),r={method:"POST",body:JSON.stringify({name:e.name})},o=await l.ServerConnection.makeRequest(n,r,t);if(201!==o.status)throw new l.ServerConnection.ResponseError(o);let s=await o.json();return f.validateModel(s),new m(Object.assign({},e,{name:s.name,serverSettings:t}),s.id)},e.connectTo=function(t,n){let r=n||l.ServerConnection.makeSettings(),i=s.find(e.runningKernels,e=>e.id===t.id);if(i){const n=!s.some(e.runningKernels,e=>e.id===t.id&&e.handleComms);return i.clone({handleComms:n})}return new m({name:t.name,serverSettings:r},t.id)},e.restartKernel=async function(t,n){if("dead"===t.status)throw new Error("Kernel is dead");n=n||l.ServerConnection.makeSettings();let r=i.URLExt.join(n.baseUrl,"api/kernels",encodeURIComponent(t.id),"restart");await Promise.all(e.runningKernels.filter(e=>e.id===t.id).map(e=>e.handleRestart()));let o=await l.ServerConnection.makeRequest(r,{method:"POST"},n);if(200!==o.status)throw new l.ServerConnection.ResponseError(o);let s=await o.json();f.validateModel(s)},e.interruptKernel=async function(e,t){if("dead"===e.status)throw new Error("Kernel is dead");t=t||l.ServerConnection.makeSettings();let n=i.URLExt.join(t.baseUrl,"api/kernels",encodeURIComponent(e.id),"interrupt"),r=await l.ServerConnection.makeRequest(n,{method:"POST"},t);if(204!==r.status)throw new l.ServerConnection.ResponseError(r)},e.shutdownKernel=o,e.shutdownAll=async function(e){e=e||l.ServerConnection.makeSettings();let t=await n(e);await Promise.all(t.map(t=>o(t.id,e)))},e.getKernelModel=a,e.logKernelStatus=function(e){switch(e.status){case"idle":case"busy":case"unknown":return;default:console.log(`Kernel: ${e.status} (${e.id})`)}},e.handleShellMessage=async function(e,t){return e.sendShellMessage(t,!0).done},e.loadObject=function(e,t,n){return new Promise((r,i)=>{if(t){if("undefined"==typeof requirejs)throw new Error("requirejs not found");requirejs([t],n=>{if(void 0===n[e]){i(new Error(`Object '${e}' not found in module '${t}'`))}else r(n[e])},i)}else n&&n[e]?r(n[e]):i(new Error(`Object '${e}' not found in registry`))})}}(g||(g={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(91),o=n(52),s=n(57),a=n(120),c=n(656);t.KernelManager=class{constructor(e={}){this._isDisposed=!1,this._isReady=!1,this._kernels=new Set,this._models=[],this._runningChanged=new s.Signal(this),this._specs=null,this._specsChanged=new s.Signal(this),this._connectionFailure=new s.Signal(this),this.serverSettings=e.serverSettings||a.ServerConnection.makeSettings(),this._ready=Promise.all([this.requestRunning(),this.requestSpecs()]).then(e=>{}).catch(e=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollModels=new r.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#models",standby:e.standby||"when-hidden"}),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:KernelManager#specs",standby:e.standby||"when-hidden"}),this.ready.then(()=>{this._pollModels.start(),this._pollSpecs.start()})}get isDisposed(){return this._isDisposed}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}connectTo(e){let t=c.Kernel.connectTo(e,this.serverSettings);return this._onStarted(t),t}dispose(){this._isDisposed||(this._isDisposed=!0,this._models.length=0,this._pollModels.dispose(),this._pollSpecs.dispose(),s.Signal.clearData(this))}findById(e){return c.Kernel.findById(e,this.serverSettings)}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}running(){return i.iter(this._models)}async shutdown(e){const t=this._models,n=this._kernels,r=i.ArrayExt.findFirstIndex(t,t=>t.id===e);-1!==r&&(t.splice(r,1),this._runningChanged.emit(t.slice()),n.forEach(t=>{t.id===e&&(n.delete(t),t.dispose())}),await c.Kernel.shutdown(e,this.serverSettings))}async shutdownAll(){try{await this.requestRunning(),await Promise.all(this._models.map(({id:e})=>c.Kernel.shutdown(e,this.serverSettings)))}finally{this._kernels.forEach(e=>{e.dispose()}),this._kernels.clear(),this._models.length&&(this._models.length=0,this._runningChanged.emit([]))}}async startNew(e={}){const t=Object.assign({},e,{serverSettings:this.serverSettings}),n=await c.Kernel.startNew(t);return this._onStarted(n),n}async requestRunning(){const e=await c.Kernel.listRunning(this.serverSettings).catch(e=>{if(e instanceof a.ServerConnection.NetworkError||e.response&&503===e.response.status)return this._connectionFailure.emit(e),[];throw e});if(!this._isDisposed&&!o.JSONExt.deepEqual(e,this._models)){const t=e.map(({id:e})=>e),n=this._kernels;n.forEach(e=>{-1===t.indexOf(e.id)&&(e.dispose(),n.delete(e))}),this._models=e.slice(),this._runningChanged.emit(e)}}async requestSpecs(){const e=await c.Kernel.getSpecs(this.serverSettings);this._isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}_onStarted(e){let t=e.id;this._kernels.add(e),-1===i.ArrayExt.findFirstIndex(this._models,e=>e.id===t)&&(this._models.push(e.model),this._runningChanged.emit(this._models.slice())),e.terminated.connect(()=>{this._onTerminated(t)})}_onTerminated(e){let t=i.ArrayExt.findFirstIndex(this._models,t=>t.id===e);-1!==t&&(this._models.splice(t,1),this._runningChanged.emit(this._models.slice()))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57),i=n(1317),o=n(668),s=n(655),a=n(669),c=n(671),l=n(672),u=n(134),d=n(673);t.ServiceManager=class{constructor(e={}){this._isDisposed=!1,this._specsChanged=new r.Signal(this),this._connectionFailure=new r.Signal(this),this._isReady=!1;const t=e.defaultDrive,n=e.serverSettings||u.ServerConnection.makeSettings(),h={defaultDrive:t,serverSettings:n,standby:e.standby||"when-hidden"};this.serverSettings=n,this.contents=new s.ContentsManager(h),this.sessions=new a.SessionManager(h),this.settings=new c.SettingManager(h),this.terminals=new l.TerminalManager(h),this.builder=new i.BuildManager(h),this.workspaces=new d.WorkspaceManager(h),this.nbconvert=new o.NbConvertManager(h),this.sessions.specsChanged.connect((e,t)=>{this._specsChanged.emit(t)}),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this),this._readyPromise=this.sessions.ready.then(()=>{if(this.terminals.isAvailable())return this.terminals.ready}),this._readyPromise.then(()=>{this._isReady=!0})}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())}get specs(){return this.sessions.specs}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(134);t.BuildManager=class{constructor(e={}){this._url="",this.serverSettings=e.serverSettings||i.ServerConnection.makeSettings();const{baseUrl:t,appUrl:n}=this.serverSettings;this._url=r.URLExt.join(t,n,"api/build")}get isAvailable(){return"true"===r.PageConfig.getOption("buildAvailable").toLowerCase()}get shouldCheck(){return"true"===r.PageConfig.getOption("buildCheck").toLowerCase()}getStatus(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{},t).then(e=>{if(200!==e.status)throw new i.ServerConnection.ResponseError(e);return e.json()}).then(e=>{if("string"!=typeof e.status)throw new Error("Invalid data");if("string"!=typeof e.message)throw new Error("Invalid data");return e})}build(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"POST"},t).then(e=>{if(400===e.status)throw new i.ServerConnection.ResponseError(e,"Build aborted");if(200!==e.status){let t=`Build failed with ${e.status}, please run 'jupyter lab build' on the server for full output`;throw new i.ServerConnection.ResponseError(e,t)}})}cancel(){const{_url:e,serverSettings:t}=this;return i.ServerConnection.makeRequest(e,{method:"DELETE"},t).then(e=>{if(204!==e.status)throw new i.ServerConnection.ResponseError(e)})}}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(17)),o=r(n(48)),s=r(n(31)),a=r(n(58)),c=r(n(44));const l=i.Readable,u=Symbol("buffer"),d=Symbol("type");class h{constructor(){this[d]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof h?i[u]:Buffer.from("string"==typeof i?i:String(i)),r+=o.length,n.push(o)}}this[u]=Buffer.concat(n);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[d]=i)}get size(){return this[u].length}get type(){return this[d]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new l;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,i;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(i-r,0),s=this[u].slice(r,r+o),a=new h([],{type:arguments[2]});return a[u]=s,a}}function p(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(h.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(h.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="FetchError";try{f=n(1319).convert}catch(e){}const m=Symbol("Body internals"),g=i.PassThrough;function v(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.size;let o=void 0===r?0:r;var s=n.timeout;let a=void 0===s?0:s;null==e?e=null:b(e)?e=Buffer.from(e.toString()):_(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof i||(e=Buffer.from(String(e)))),this[m]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=a,e instanceof i&&e.on("error",(function(e){const n="AbortError"===e.name?e:new p(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[m].error=n}))}function y(){var e=this;if(this[m].disturbed)return v.Promise.reject(new TypeError("body used already for: "+this.url));if(this[m].disturbed=!0,this[m].error)return v.Promise.reject(this[m].error);let t=this.body;if(null===t)return v.Promise.resolve(Buffer.alloc(0));if(_(t)&&(t=t.stream()),Buffer.isBuffer(t))return v.Promise.resolve(t);if(!(t instanceof i))return v.Promise.resolve(Buffer.alloc(0));let n=[],r=0,o=!1;return new v.Promise((function(i,s){let a;e.timeout&&(a=setTimeout((function(){o=!0,s(new p(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(o=!0,s(t)):s(new p(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!o&&null!==t){if(e.size&&r+t.length>e.size)return o=!0,void s(new p(`content size at ${e.url} over limit: ${e.size}`,"max-size"));r+=t.length,n.push(t)}})),t.on("end",(function(){if(!o){clearTimeout(a);try{i(Buffer.concat(n,r))}catch(t){s(new p(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function b(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function _(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(e){let t,n,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof i&&"function"!=typeof r.getBoundary&&(t=new g,n=new g,r.pipe(t),r.pipe(n),e[m].body=t,r=n),r}function S(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":b(e)?"application/x-www-form-urlencoded;charset=UTF-8":_(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof i?null:"text/plain;charset=UTF-8"}function E(e){const t=e.body;return null===t?0:_(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}v.prototype={get body(){return this[m].body},get bodyUsed(){return this[m].disturbed},arrayBuffer(){return y.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return y.call(this).then((function(t){return Object.assign(new h([],{type:e.toLowerCase()}),{[u]:t})}))},json(){var e=this;return y.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return v.Promise.reject(new p(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return y.call(this).then((function(e){return e.toString()}))},buffer(){return y.call(this)},textConverted(){var e=this;return y.call(this).then((function(t){return function(e,t){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,i,o="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));i=e.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));r&&(o=r.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return f(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(v.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),v.mixIn=function(e){for(const t of Object.getOwnPropertyNames(v.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(v.prototype,t);Object.defineProperty(e,t,n)}},v.Promise=global.Promise;const x=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,C=/[^\t\x20-\x7e\x80-\xff]/;function k(e){if(e=""+e,x.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function D(e){if(e=""+e,C.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function T(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const I=Symbol("map");class M{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[I]=Object.create(null),e instanceof M){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){k(e=""+e);const t=T(this[I],e);return void 0===t?null:this[I][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=P(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],s=i[1];e.call(t,s,o,this),n=P(this),r++}}set(e,t){t=""+t,k(e=""+e),D(t);const n=T(this[I],e);this[I][void 0!==n?n:e]=[t]}append(e,t){t=""+t,k(e=""+e),D(t);const n=T(this[I],e);void 0!==n?this[I][n].push(t):this[I][e]=[t]}has(e){return k(e=""+e),void 0!==T(this[I],e)}delete(e){k(e=""+e);const t=T(this[I],e);void 0!==t&&delete this[I][t]}raw(){return this[I]}keys(){return L(this,"key")}values(){return L(this,"value")}[Symbol.iterator](){return L(this,"key+value")}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[I]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[I][t].join(", ")}:function(t){return[t.toLowerCase(),e[I][t].join(", ")]})}M.prototype.entries=M.prototype[Symbol.iterator],Object.defineProperty(M.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(M.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const j=Symbol("internal");function L(e,t){const n=Object.create(O);return n[j]={target:e,kind:t,index:0},n}const O=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==O)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[j];const t=e.target,n=e.kind,r=e.index,i=P(t,n);return r>=i.length?{value:void 0,done:!0}:(this[j].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function A(e){const t=Object.assign({__proto__:null},e[I]),n=T(e[I],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(O,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const N=Symbol("Response internals"),R=o.STATUS_CODES;class F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.call(this,e,t);const n=t.status||200,r=new M(t.headers);if(null!=e&&!r.has("Content-Type")){const t=S(e);t&&r.append("Content-Type",t)}this[N]={url:t.url,status:n,statusText:t.statusText||R[n],headers:r,counter:t.counter}}get url(){return this[N].url||""}get status(){return this[N].status}get ok(){return this[N].status>=200&&this[N].status<300}get redirected(){return this[N].counter>0}get statusText(){return this[N].statusText}get headers(){return this[N].headers}clone(){return new F(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}v.mixIn(F.prototype),Object.defineProperties(F.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(F.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const B=Symbol("Request internals"),U=s.parse,Y=s.format,W="destroy"in i.Readable.prototype;function H(e){return"object"==typeof e&&"object"==typeof e[B]}class V{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(e)?t=U(e.url):(t=e&&e.href?U(e.href):U(""+e),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||H(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:H(e)&&null!==e.body?w(e):null;v.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new M(n.headers||e.headers||{});if(null!=i&&!o.has("Content-Type")){const e=S(i);e&&o.append("Content-Type",e)}let s=H(e)?e.signal:null;if("signal"in n&&(s=n.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[B]={method:r,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:s},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[B].method}get url(){return Y(this[B].parsedURL)}get headers(){return this[B].headers}get redirect(){return this[B].redirect}get signal(){return this[B].signal}clone(){return new V(this)}}function K(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}v.mixIn(V.prototype),Object.defineProperty(V.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(V.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K.prototype.name="AbortError";const q=i.PassThrough,J=s.resolve;function $(e,t){if(!$.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return v.Promise=$.Promise,new $.Promise((function(n,r){const s=new V(e,t),l=function(e){const t=e[B].parsedURL,n=new M(e[B].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof i.Readable&&!W)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=E(e);"number"==typeof t&&(r=String(t))}r&&n.set("Content-Length",r),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(t)),n.has("Connection")||o||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:A(n),agent:o})}(s),u=("https:"===l.protocol?a:o).request,d=s.signal;let h=null;const f=function(){let e=new K("The user aborted a request.");r(e),s.body&&s.body instanceof i.Readable&&s.body.destroy(e),h&&h.body&&h.body.emit("error",e)};if(d&&d.aborted)return void f();const m=function(){f(),y()},g=u(l);let v;function y(){g.abort(),d&&d.removeEventListener("abort",m),clearTimeout(v)}d&&d.addEventListener("abort",m),s.timeout&&g.once("socket",(function(e){v=setTimeout((function(){r(new p("network timeout at: "+s.url,"request-timeout")),y()}),s.timeout)})),g.on("error",(function(e){r(new p(`request to ${s.url} failed, reason: ${e.message}`,"system",e)),y()})),g.on("response",(function(e){clearTimeout(v);const t=function(e){const t=new M;for(const n of Object.keys(e))if(!x.test(n))if(Array.isArray(e[n]))for(const r of e[n])C.test(r)||(void 0===t[I][n]?t[I][n]=[r]:t[I][n].push(r));else C.test(e[n])||(t[I][n]=[e[n]]);return t}(e.headers);if($.isRedirect(e.statusCode)){const i=t.get("Location"),o=null===i?null:J(s.url,i);switch(s.redirect){case"error":return r(new p("uri requested responds with a redirect, redirect mode is set to error: "+s.url,"no-redirect")),void y();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){r(e)}break;case"follow":if(null===o)break;if(s.counter>=s.follow)return r(new p("maximum redirect reached at: "+s.url,"max-redirect")),void y();const i={headers:new M(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:s.body,signal:s.signal,timeout:s.timeout,size:s.size};return 303!==e.statusCode&&s.body&&null===E(s)?(r(new p("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void y()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==s.method)||(i.method="GET",i.body=void 0,i.headers.delete("content-length")),n($(new V(o,i))),void y())}}e.once("end",(function(){d&&d.removeEventListener("abort",m)}));let i=e.pipe(new q);const o={url:s.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:s.size,timeout:s.timeout,counter:s.counter},a=t.get("Content-Encoding");if(!s.compress||"HEAD"===s.method||null===a||204===e.statusCode||304===e.statusCode)return h=new F(i,o),void n(h);const l={flush:c.Z_SYNC_FLUSH,finishFlush:c.Z_SYNC_FLUSH};if("gzip"==a||"x-gzip"==a)return i=i.pipe(c.createGunzip(l)),h=new F(i,o),void n(h);if("deflate"!=a&&"x-deflate"!=a){if("br"==a&&"function"==typeof c.createBrotliDecompress)return i=i.pipe(c.createBrotliDecompress()),h=new F(i,o),void n(h);h=new F(i,o),n(h)}else{e.pipe(new q).once("data",(function(e){i=8==(15&e[0])?i.pipe(c.createInflate()):i.pipe(c.createInflateRaw()),h=new F(i,o),n(h)}))}})),function(e,t){const n=t.body;null===n?e.end():_(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(g,s)}))}$.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},$.Promise=global.Promise,e.exports=t=$,Object.defineProperty(t,"__esModule",{value:!0}),t.default=t,t.Headers=M,t.Request=V,t.Response=F,t.FetchError=p},function(e,t,n){"use strict";var r=n(1320);function i(e){return(e||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}e.exports.convert=function(e,t,n){var o;n=i(n||"UTF-8"),t=i(t||"UTF-8"),e=e||"","UTF-8"!==n&&"string"==typeof e&&(e=Buffer.from(e,"binary"));if(n===t)o="string"==typeof e?Buffer.from(e):e;else try{o=function(e,t,n){return"UTF-8"===t?r.decode(e,n):"UTF-8"===n?r.encode(e,t):r.encode(r.decode(e,n),t)}(e,t,n)}catch(t){console.error(t),o=e}"string"==typeof o&&(o=Buffer.from(o,"utf-8"));return o}},function(e,t,n){"use strict";var r,i=n(63).Buffer,o=n(1321),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,n){e=""+(e||"");var r=s.getEncoder(t,n),o=r.write(e),a=r.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,n){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var r=s.getDecoder(t,n),o=r.write(e),a=r.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=n(1322));for(var t=s._canonicalizeEncoding(e),r={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)r[a]=o[a];r.encodingName||(r.encodingName=t),t=o.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new o(r,s),s._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var n=s.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new o.PrependBOM(r,t)),r},s.getDecoder=function(e,t){var n=s.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new o.StripBOM(r,t)),r},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=n(1337)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{r=n(17)}catch(e){}r&&r.Transform?s.enableStreamingAPI(r):s.encodeStream=s.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},function(e,t,n){"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function i(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=i,i.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},i.prototype.end=function(){return this.decoder.end()}},function(e,t,n){"use strict";for(var r=[n(1323),n(1324),n(1325),n(1326),n(1327),n(1328),n(1329),n(1330),n(1331)],i=0;i<r.length;i++){e=r[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=l,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(212).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function l(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return r.isBuffer(e)||(e=r.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},l.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=192+(o>>>6),t[n++]=128+(63&o)):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63),t[n++]=128+(63&o))}return t.slice(0,n)},l.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,n=1,r=1):s<240?(t=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&s,r++,0===--n&&(i+=2===r&&t<128&&t>0||3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,n,r){if((n<0||n>1114111)&&(n=r),n>=65536){var i=55296|(n-=65536)>>10;e[t++]=255&i,e[t++]=i>>8;n=56320|1023&n}return e[t++]=255&n,e[t++]=n>>8,t}function c(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function d(e,t){var n=[],r=0,i=0,o=0,s=0,a=0;e:for(var c=0;c<e.length;c++)for(var l=e[c],u=0;u<l.length;u++)if(n.push(l[u]),4===n.length){if(0===r){if(255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])return"utf-32le";if(0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])return"utf-32be"}if((0!==n[0]||n[1]>16)&&o++,(0!==n[3]||n[2]>16)&&i++,0!==n[0]||0!==n[1]||0===n[2]&&0===n[3]||a++,0===n[0]&&0===n[1]||0!==n[2]||0!==n[3]||s++,n.length=0,++r>=100)break e}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=r.alloc(2*t.length),i=this.isLE?n.writeUInt32LE:n.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),c=55296<=a&&a<56320,l=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&l){var u=65536+(this.highSurrogate-55296<<10|a-56320);i.call(n,u,o),o+=4,this.highSurrogate=0;continue}i.call(n,this.highSurrogate,o),o+=4}c?this.highSurrogate=a:(i.call(n,a,o),o+=4,this.highSurrogate=0)}return o<n.length&&(n=n.slice(0,o)),n},o.prototype.end=function(){if(this.highSurrogate){var e=r.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,n=0,i=r.alloc(e.length+4),o=0,s=this.isLE,c=this.overflow,l=this.badChar;if(c.length>0){for(;t<e.length&&c.length<4;t++)c.push(e[t]);4===c.length&&(n=s?c[t]|c[t+1]<<8|c[t+2]<<16|c[t+3]<<24:c[t+3]|c[t+2]<<8|c[t+1]<<16|c[t]<<24,c.length=0,o=a(i,o,n,l))}for(;t<e.length-3;t+=4)o=a(i,o,n=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,l);for(;t<e.length;t++)c.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=c,t.ucs4="utf32",c.prototype.encoder=l,c.prototype.decoder=u,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function l(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var n=[],r=0,i=0,o=0;e:for(var s=0;s<e.length;s++)for(var a=e[s],c=0;c<a.length;c++)if(n.push(a[c]),2===n.length){if(0===r){if(255===n[0]&&254===n[1])return"utf-16le";if(254===n[0]&&255===n[1])return"utf-16be"}if(0===n[0]&&0!==n[1]&&o++,0!==n[0]&&0===n[1]&&i++,n.length=0,++r>=100)break e}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=l,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return r.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,l=[],u=0;u<256;u++)l[u]=c.test(String.fromCharCode(u));var d="+".charCodeAt(0),h="-".charCodeAt(0),p="&".charCodeAt(0);function f(e,t){this.iconv=t}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!l[e[s]]){if(s==n&&e[s]==h)t+="+";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=h&&s--,n=s+1,i=!1,o=""}}else e[s]==d&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(n),"ascii")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=m,f.prototype.decoder=g,f.prototype.bomAware=!0,m.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=h,t=!1),t||(o[s++]=c,c===p&&(o[s++]=h))):(t||(o[s++]=p,t=!0),t&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},m.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=h,this.inBase64=!1),e.slice(0,t)};var v=l.slice();v[",".charCodeAt(0)]=!0,g.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!v[e[s]]){if(s==n&&e[s]==h)t+="&";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=h&&s--,n=s+1,i=!1,o=""}}else e[s]==p&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(n),"ascii").replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},g.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},function(e,t,n){"use strict";var r=n(63).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");var o=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],n[o=2*s]=t[i],n[o+1]=t[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},function(e,t,n){"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(e,t,n){"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(e,t,n){"use strict";var r=n(63).Buffer;t._dbcs=s;for(var i=new Array(256),o=0;o<256;o++)i[o]=-1;function s(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=i.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(i.slice(0));var s=this.decodeTables.length;this.decodeTables.push(i.slice(0));var a=this.decodeTables[0];for(r=129;r<=254;r++)for(var c=this.decodeTables[-1e3-a[r]],l=48;l<=57;l++){if(-1===c[l])c[l]=-1e3-o;else if(c[l]>-1e3)throw new Error("gb18030 decode tables conflict at byte 2");for(var u=this.decodeTables[-1e3-c[l]],d=129;d<=254;d++){if(-1===u[d])u[d]=-1e3-s;else{if(u[d]===-1e3-s)continue;if(u[d]>-1e3)throw new Error("gb18030 decode tables conflict at byte 3")}for(var h=this.decodeTables[-1e3-u[d]],p=48;p<=57;p++)-1===h[p]&&(h[p]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var f={};if(e.encodeSkipVals)for(r=0;r<e.encodeSkipVals.length;r++){var m=e.encodeSkipVals[r];if("number"==typeof m)f[m]=!0;else for(l=m.from;l<=m.to;l++)f[l]=!0}if(this._fillEncodeTable(0,0,f),e.encodeAdd)for(var g in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,g)&&this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB="?".charCodeAt(0))}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function c(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function l(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var i=n+(r-n+1>>1);e[i]<=t?n=i:r=i}return n}s.prototype.encoder=a,s.prototype.decoder=c,s.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var o=n[t[r]];if(-1==o)n[t[r]]=-1e3-this.decodeTables.length,this.decodeTables.push(n=i.slice(0));else{if(!(o<=-1e3))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[-1e3-o]}}return n},s.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(!(56320<=a&&a<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(s-55296)+(a-56320)}else if(4080<s&&s<=4095){for(var c=4095-s+2,l=[],u=0;u<c;u++)l.push(i.charCodeAt(o++));n[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else n[t++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var d=n[t-1]+1;for(o=0;o<i;o++)n[t++]=d++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},s.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=i.slice(0)),this.encodeTable[t]},s.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=t:-1==n[r]&&(n[r]=t)},s.prototype._setEncodeSequence=function(e,t){var n,r=e[0],i=this._getEncodeBucket(r),o=255&r;i[o]<=-10?n=this.encodeTableSeq[-10-i[o]]:(n={},-1!==i[o]&&(n[-1]=i[o]),i[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var s=1;s<e.length-1;s++){var a=n[r];"object"==typeof a?n=a:(n=n[r]={},void 0!==a&&(n[-1]=a))}n[r=e[e.length-1]]=t},s.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=!1,o={},s=0;s<256;s++){var a=r[s],c=t+s;if(!n[c])if(a>=0)this._setEncodeChar(a,c),i=!0;else if(a<=-1e3){var l=-1e3-a;if(!o[l]){var u=c<<8>>>0;this._fillEncodeTable(l,u,n)?i=!0:o[l]=!0}}else a<=-10&&(this._setEncodeSequence(this.decodeTableSeq[-10-a],c),i=!0)}return i},a.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,i=this.seqObj,o=-1,s=0,a=0;;){if(-1===o){if(s==e.length)break;var c=e.charCodeAt(s++)}else{c=o;o=-1}if(55296<=c&&c<57344)if(c<56320){if(-1===n){n=c;continue}n=c,c=-1}else-1!==n?(c=65536+1024*(n-55296)+(c-56320),n=-1):c=-1;else-1!==n&&(o=c,c=-1,n=-1);var u=-1;if(void 0!==i&&-1!=c){var d=i[c];if("object"==typeof d){i=d;continue}"number"==typeof d?u=d:null==d&&void 0!==(d=i[-1])&&(u=d,o=c),i=void 0}else if(c>=0){var h=this.encodeTable[c>>8];if(void 0!==h&&(u=h[255&c]),u<=-10){i=this.encodeTableSeq[-10-u];continue}if(-1==u&&this.gb18030){var p=l(this.gb18030.uChars,c);if(-1!=p){u=this.gb18030.gbChars[p]+(c-this.gb18030.uChars[p]);t[a++]=129+Math.floor(u/12600),u%=12600,t[a++]=48+Math.floor(u/1260),u%=1260,t[a++]=129+Math.floor(u/10),u%=10,t[a++]=48+u;continue}}}-1===u&&(u=this.defaultCharSingleByte),u<256?t[a++]=u:u<65536?(t[a++]=u>>8,t[a++]=255&u):u<16777216?(t[a++]=u>>16,t[a++]=u>>8&255,t[a++]=255&u):(t[a++]=u>>>24,t[a++]=u>>>16&255,t[a++]=u>>>8&255,t[a++]=255&u)}return this.seqObj=i,this.leadSurrogate=n,t.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=l,c.prototype.write=function(e){for(var t=r.alloc(2*e.length),n=this.nodeIdx,i=this.prevBytes,o=this.prevBytes.length,s=-this.prevBytes.length,a=0,c=0;a<e.length;a++){var u,d=a>=0?e[a]:i[a+o];if((u=this.decodeTables[n][d])>=0);else if(-1===u)u=this.defaultCharUnicode.charCodeAt(0),a=s;else if(-2===u){if(a>=3)var h=12600*(e[a-3]-129)+1260*(e[a-2]-48)+10*(e[a-1]-129)+(d-48);else h=12600*(i[a-3+o]-129)+1260*((a-2>=0?e[a-2]:i[a-2+o])-48)+10*((a-1>=0?e[a-1]:i[a-1+o])-129)+(d-48);var p=l(this.gb18030.gbChars,h);u=this.gb18030.uChars[p]+h-this.gb18030.gbChars[p]}else{if(u<=-1e3){n=-1e3-u;continue}if(!(u<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+u+" at "+n+"/"+d);for(var f=this.decodeTableSeq[-10-u],m=0;m<f.length-1;m++)u=f[m],t[c++]=255&u,t[c++]=u>>8;u=f[f.length-1]}if(u>=65536){var g=55296|(u-=65536)>>10;t[c++]=255&g,t[c++]=g>>8,u=56320|1023&u}t[c++]=255&u,t[c++]=u>>8,n=0,s=a+1}return this.nodeIdx=n,this.prevBytes=s>=0?Array.prototype.slice.call(e,s):i.slice(s+o).concat(Array.prototype.slice.call(e)),t.slice(0,c).toString("ucs2")},c.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},function(e,t,n){"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(1332)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(1333)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(333)}},gbk:{type:"_dbcs",table:function(){return n(333).concat(n(659))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(333).concat(n(659))},gb18030:function(){return n(1334)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(1335)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(660)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(660).concat(n(1336))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(e){e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},function(e){e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},function(e){e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},function(e){e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},function(e,t,n){"use strict";var r=n(63).Buffer;e.exports=function(e){var t=e.Transform;function n(e,n){this.conv=e,(n=n||{}).decodeStrings=!1,t.call(this,n)}function i(e,n){this.conv=e,(n=n||{}).encoding=this.encoding="utf8",t.call(this,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},n.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,r.concat(t))})),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,n){if(!(r.isBuffer(e)||e instanceof Uint8Array))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:n,IconvLiteDecoderStream:i}}},function(e,t,n){"use strict";const r=n(661);r.createWebSocketStream=n(1340),r.Server=n(1341),r.Receiver=n(664),r.Sender=n(666),e.exports=r},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class o extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class s extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function n(e){t.call(this,new i(e,this))}function r(e,n){t.call(this,new o(e,n,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new s(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(let r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=c},function(e,t,n){"use strict";const{Duplex:r}=n(17);function i(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;function a(){n&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(n=!1,e._socket.pause())})),e.once("error",(function(e){c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(i,c);e.once("close",(function(){n(t),process.nextTick(i,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once("finish",(function(){t()})),e.close()):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||n||(n=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){c._write(t,n,r)}))},c.on("end",o),c.on("error",s),c}},function(e,t,n){"use strict";const r=n(35),{createHash:i}=n(61),{createServer:o,STATUS_CODES:s}=n(48),a=n(239),c=n(661),{format:l,parse:u}=n(667),{GUID:d}=n(151),h=/^[+/0-9A-Za-z]{22}==$/,p=Symbol("kUsedByWebSocketServer");function f(e){e.emit("close")}function m(){this.destroy()}function g(e,t,n,r){e.writable&&(n=n||s[t],r={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",m),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port)this._server=o((e,t)=>{const n=s[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[p])throw new Error("The HTTP/S server is already being used by another WebSocket server");e.server[p]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit("close"));delete t[p]}process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",m);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!h.test(i)||8!==o&&13!==o||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const n=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(n.accept(t[a.extensionName]),s[a.extensionName]=n)}catch(e){return g(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[""+(8===o?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(o,a,c,l)=>{if(!o)return g(t,a||401,c,l);this.completeUpgrade(i,s,e,t,n,r)});if(!this.options.verifyClient(a))return g(t,401)}this.completeUpgrade(i,s,e,t,n,r)}completeUpgrade(e,t,n,r,o,s){if(!r.readable||!r.writable)return r.destroy();const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+i("sha1").update(e+d).digest("base64")],h=new c(null);let p=n.headers["sec-websocket-protocol"];if(p&&(p=p.trim().split(/ *, */),p=this.options.handleProtocols?this.options.handleProtocols(p,n):p[0],p&&(u.push("Sec-WebSocket-Protocol: "+p),h.protocol=p)),t[a.extensionName]){const e=t[a.extensionName].params,n=l({[a.extensionName]:[e]});u.push("Sec-WebSocket-Extensions: "+n),h._extensions=t}this.emit("headers",u,n),r.write(u.concat("\r\n").join("\r\n")),r.removeListener("error",m),h.setSocket(r,o,this.options.maxPayload),this.clients&&(this.clients.add(h),h.on("close",()=>this.clients.delete(h))),s(h)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(91),o=n(52),s=n(57),a=n(331),c=n(134),l=n(670);t.SessionManager=class{constructor(e={}){this._isDisposed=!1,this._isReady=!1,this._models=[],this._runningChanged=new s.Signal(this),this._connectionFailure=new s.Signal(this),this._sessions=new Set,this._specs=null,this._specsChanged=new s.Signal(this),this.serverSettings=e.serverSettings||c.ServerConnection.makeSettings(),this._ready=Promise.all([this.requestRunning(),this.requestSpecs()]).then(e=>{}).catch(e=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollModels=new r.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#models",standby:e.standby||"when-hidden"}),this._pollSpecs=new r.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61e3,backoff:!0,max:3e5},name:"@jupyterlab/services:SessionManager#specs",standby:e.standby||"when-hidden"}),this.ready.then(()=>{this._pollModels.start(),this._pollSpecs.start()})}get specsChanged(){return this._specsChanged}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}get specs(){return this._specs}get isReady(){return this._isReady}get ready(){return this._ready}dispose(){this.isDisposed||(this._isDisposed=!0,this._models.length=0,this._pollModels.dispose(),this._pollSpecs.dispose(),s.Signal.clearData(this))}running(){return i.iter(this._models)}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e){const{serverSettings:t}=this,n=await l.Session.startNew(Object.assign({},e,{serverSettings:t}));return this._onStarted(n),n}async stopIfNeeded(e){try{const t=(await l.Session.listRunning(this.serverSettings)).filter(t=>t.path===e);if(1===t.length){const e=t[0].id;return this.shutdown(e).catch(()=>{})}}catch(e){}}findById(e){return l.Session.findById(e,this.serverSettings)}findByPath(e){return l.Session.findByPath(e,this.serverSettings)}connectTo(e){const t=l.Session.connectTo(e,this.serverSettings);return this._onStarted(t),t}async shutdown(e){const t=this._models,n=this._sessions,r=i.ArrayExt.findFirstIndex(t,t=>t.id===e);-1!==r&&(t.splice(r,1),this._runningChanged.emit(t.slice()),n.forEach(t=>{t.id===e&&(n.delete(t),t.dispose())}),await l.Session.shutdown(e,this.serverSettings))}async shutdownAll(){try{await this.requestRunning(),await Promise.all(this._models.map(({id:e})=>l.Session.shutdown(e,this.serverSettings)))}finally{this._sessions.forEach(e=>{e.dispose()}),this._sessions.clear(),this._models.length&&(this._models.length=0,this._runningChanged.emit([]))}}async requestRunning(){const e=await l.Session.listRunning(this.serverSettings).catch(e=>{if(e instanceof c.ServerConnection.NetworkError||e.response&&503===e.response.status)return this._connectionFailure.emit(e),[];throw e});if(!this.isDisposed&&!o.JSONExt.deepEqual(e,this._models)){const t=e.map(e=>e.id),n=this._sessions;n.forEach(e=>{-1===t.indexOf(e.id)&&(e.dispose(),n.delete(e))}),this._models=e.slice(),this._runningChanged.emit(e)}}async requestSpecs(){const e=await a.Kernel.getSpecs(this.serverSettings);this.isDisposed||o.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}_onTerminated(e){this.refreshRunning().catch(e=>{if(!this.isDisposed)throw e})}_onStarted(e){let t=e.id,n=i.ArrayExt.findFirstIndex(this._models,e=>e.id===t);this._sessions.add(e),-1===n&&(this._models.push(e.model),this._runningChanged.emit(this._models.slice())),e.terminated.connect(e=>{this._onTerminated(t)}),e.propertyChanged.connect((t,n)=>{this._onChanged(e.model)}),e.kernelChanged.connect(()=>{this._onChanged(e.model)})}_onChanged(e){let t=i.ArrayExt.findFirstIndex(this._models,t=>t.id===e.id);-1!==t&&(this._models[t]=e,this._runningChanged.emit(this._models.slice()))}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(65),o=n(91),s=n(57),a=n(331),c=n(120),l=r(n(1344));class u{constructor(e,t,n){this._id="",this._path="",this._name="",this._type="",this._isDisposed=!1,this._updating=!1,this._kernelChanged=new s.Signal(this),this._statusChanged=new s.Signal(this),this._iopubMessage=new s.Signal(this),this._unhandledMessage=new s.Signal(this),this._anyMessage=new s.Signal(this),this._propertyChanged=new s.Signal(this),this._terminated=new s.Signal(this),this._id=t,this._path=e.path,this._type=e.type||"file",this._name=e.name||"",this.serverSettings=e.serverSettings||c.ServerConnection.makeSettings(),d.addRunning(this),this.setupKernel(n)}get terminated(){return this._terminated}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel.model,path:this._path,type:this._type,name:this._name}}get status(){return this._kernel?this._kernel.status:"dead"}get isDisposed(){return!0===this._isDisposed}clone(){return new u({path:this._path,name:this._name,type:this._type,serverSettings:this.serverSettings},this._id,this.kernel.model)}update(e){if(this._updating)return;let t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,this._kernel.isDisposed||e.kernel.id!==this._kernel.id){let t=this._kernel;this.setupKernel(e.kernel);let n=this._kernel;t.dispose(),this._kernelChanged.emit({oldValue:t,newValue:n})}this._handleModelChange(t)}dispose(){this.isDisposed||(this._isDisposed=!0,this._kernel.dispose(),this._statusChanged.emit("dead"),this._terminated.emit(void 0),d.removeRunning(this),s.Signal.clearData(this))}setPath(e){if(this.isDisposed)return Promise.reject(new Error("Session is disposed"));let t=JSON.stringify({path:e});return this._patch(t).then(()=>{})}setName(e){if(this.isDisposed)return Promise.reject(new Error("Session is disposed"));let t=JSON.stringify({name:e});return this._patch(t).then(()=>{})}setType(e){if(this.isDisposed)return Promise.reject(new Error("Session is disposed"));let t=JSON.stringify({type:e});return this._patch(t).then(()=>{})}changeKernel(e){if(this.isDisposed)return Promise.reject(new Error("Session is disposed"));let t=JSON.stringify({kernel:e});return this._kernel.dispose(),this._statusChanged.emit("restarting"),this._patch(t).then(()=>this.kernel)}shutdown(){return this.isDisposed?Promise.reject(new Error("Session is disposed")):d.shutdownSession(this.id,this.serverSettings)}setupKernel(e){const t=a.Kernel.connectTo(e,this.serverSettings);this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}_patch(e){this._updating=!0;let t=this.serverSettings,n=d.getSessionUrl(t.baseUrl,this._id),r={method:"PATCH",body:e};return c.ServerConnection.makeRequest(n,r,t).then(e=>{if(this._updating=!1,200!==e.status)throw new c.ServerConnection.ResponseError(e);return e.json()}).then(e=>{let n=l.validateModel(e);return d.updateFromServer(n,t.baseUrl)},e=>{throw this._updating=!1,e})}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}}var d;t.DefaultSession=u,function(e){e.listRunning=function(e){return d.listRunning(e)},e.startNew=function(e){return d.startNew(e)},e.findById=function(e,t){return d.findById(e,t)},e.findByPath=function(e,t){return d.findByPath(e,t)},e.connectTo=function(e,t){return d.connectTo(e,t)},e.shutdown=function(e,t){return d.shutdownSession(e,t)},e.shutdownAll=function(e){return d.shutdownAll(e)}}(u=t.DefaultSession||(t.DefaultSession={})),function(e){const t=new Map;function n(e,t){return t=t||c.ServerConnection.makeSettings(),new u({path:e.path,type:e.type,name:e.name,serverSettings:t},e.id,e.kernel)}function r(e,t){let n=s((t=t||c.ServerConnection.makeSettings()).baseUrl,e);return c.ServerConnection.makeRequest(n,{},t).then(e=>{if(200!==e.status)throw new c.ServerConnection.ResponseError(e);return e.json()}).then(e=>p(l.validateModel(e),t.baseUrl))}function s(e,t){return i.URLExt.join(e,"api/sessions",t)}function a(e){e=e||c.ServerConnection.makeSettings();let t=i.URLExt.join(e.baseUrl,"api/sessions");return c.ServerConnection.makeRequest(t,{},e).then(e=>{if(200!==e.status)throw new c.ServerConnection.ResponseError(e);return e.json()}).then(t=>{if(!Array.isArray(t))throw new Error("Invalid Session list");for(let e=0;e<t.length;e++)t[e]=l.validateModel(t[e]);return f(t,e.baseUrl)})}function d(e,n){let r=s((n=n||c.ServerConnection.makeSettings()).baseUrl,e);return c.ServerConnection.makeRequest(r,{method:"DELETE"},n).then(r=>{if(404===r.status)return r.json().then(t=>{let n=t.message||`The session "${e}"" does not exist on the server`;console.warn(n)});if(410===r.status)throw new c.ServerConnection.ResponseError(r,"The kernel was deleted but the session was not");if(204!==r.status)throw new c.ServerConnection.ResponseError(r);!function(e,n){let r=t.get(n)||[];o.each(r.slice(),t=>{t.id===e&&t.dispose()})}(e,n.baseUrl)})}function h(e){let t=e.serverSettings||c.ServerConnection.makeSettings(),n={kernel:{name:e.kernelName,id:e.kernelId},path:e.path,type:e.type||"",name:e.name||""},r=i.URLExt.join(t.baseUrl,"api/sessions"),o={method:"POST",body:JSON.stringify(n)};return c.ServerConnection.makeRequest(r,o,t).then(e=>{if(201!==e.status)throw new c.ServerConnection.ResponseError(e);return e.json()}).then(e=>p(l.validateModel(e),t.baseUrl))}function p(e,n){let r=t.get(n)||[];return o.each(r.slice(),t=>{t.id===e.id&&t.update(e)}),e}function f(e,n){let r=t.get(n)||[];return o.each(r.slice(),t=>{o.find(e,e=>t.id===e.id&&(t.update(e),!0))||"dead"===t.status||t.dispose()}),e}e.addRunning=function(e){let n=t.get(e.serverSettings.baseUrl)||[];n.push(e),t.set(e.serverSettings.baseUrl,n)},e.removeRunning=function(e){let n=t.get(e.serverSettings.baseUrl);n&&o.ArrayExt.removeFirstOf(n,e)},e.connectTo=function(e,r){r=r||c.ServerConnection.makeSettings();let i=t.get(r.baseUrl)||[],s=o.find(i,t=>t.id===e.id);return s?s.clone():n(e,r)},e.createSession=n,e.findById=function(e,n){n=n||c.ServerConnection.makeSettings();let i=t.get(n.baseUrl)||[],s=o.find(i,t=>t.id===e);return s?Promise.resolve(s.model):r(e,n).catch(()=>{throw new Error("No running session for id: "+e)})},e.findByPath=function(e,n){n=n||c.ServerConnection.makeSettings();let r=t.get(n.baseUrl)||[],i=o.find(r,t=>t.path===e);return i?Promise.resolve(i.model):a(n).then(t=>{let n=o.find(t,t=>t.path===e);if(n)return n;throw new Error("No running session for path: "+e)})},e.getSessionModel=r,e.getSessionUrl=s,e.listRunning=a,e.shutdownSession=d,e.shutdownAll=async function(e){e=e||c.ServerConnection.makeSettings();const t=await a(e);await Promise.all(t.map(t=>d(t.id,e)))},e.startNew=function(e){return void 0===e.path?Promise.reject(new Error("Must specify a path")):h(e).then(t=>n(t,e.serverSettings))},e.startSession=h,e.updateFromServer=p,e.updateRunningSessions=f}(d||(d={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(332);function i(e,t,n){if(!e.hasOwnProperty(t))throw Error(`Missing property '${t}'`);if(void 0!==n){let r=!0,i=e[t];switch(n){case"array":r=Array.isArray(i);break;case"object":r=void 0!==i;break;default:r=typeof i===n}if(!r)throw new Error(`Property '${t}' is not of type '${n}'`)}}t.validateModel=function(e){let t={id:e.id,kernel:e.kernel,name:e.name,path:e.path,type:e.type};return void 0===e.path&&void 0!==e.notebook&&(t.path=e.notebook.path,t.type="notebook",t.name=""),i(t,"id","string"),i(t,"type","string"),i(t,"name","string"),i(t,"path","string"),i(t,"kernel","object"),r.validateModel(t.kernel),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(91),o=n(52),s=n(57),a=n(120),c=n(334);t.TerminalManager=class{constructor(e={}){if(this._isDisposed=!1,this._isReady=!1,this._models=[],this._sessions=new Set,this._runningChanged=new s.Signal(this),this._connectionFailure=new s.Signal(this),this.serverSettings=e.serverSettings||a.ServerConnection.makeSettings(),!c.TerminalSession.isAvailable())return this._ready=Promise.reject("Terminals unavailable"),void this._ready.catch(e=>{});this._ready=this.requestRunning().then(e=>{}).catch(e=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollModels=new r.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:1e4,backoff:!0,max:3e5},name:"@jupyterlab/services:TerminalManager#models",standby:e.standby||"when-hidden"}),this.ready.then(()=>{this._pollModels.start()})}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}get isReady(){return this._isReady}dispose(){this.isDisposed||(this._isDisposed=!0,this._models.length=0,this._pollModels.dispose(),s.Signal.clearData(this))}get ready(){return this._ready}isAvailable(){return c.TerminalSession.isAvailable()}running(){return i.iter(this._models)}async startNew(e){const t=await c.TerminalSession.startNew(this._getOptions(e));return this._onStarted(t),t}async connectTo(e,t){const n=await c.TerminalSession.connectTo(e,this._getOptions(t));return this._onStarted(n),n}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async shutdown(e){const t=this._models,n=this._sessions,r=i.ArrayExt.findFirstIndex(t,t=>t.name===e);-1!==r&&(t.splice(r,1),this._runningChanged.emit(t.slice()),n.forEach(t=>{t.name===e&&(n.delete(t),t.dispose())}),await c.TerminalSession.shutdown(e,this.serverSettings))}async shutdownAll(){try{await this.requestRunning(),await Promise.all(this._models.map(({name:e})=>c.TerminalSession.shutdown(e,this.serverSettings)))}finally{this._sessions.forEach(e=>{e.dispose()}),this._sessions.clear(),this._models.length&&(this._models.length=0,this._runningChanged.emit([]))}}async requestRunning(){const e=await c.TerminalSession.listRunning(this.serverSettings).catch(e=>{if(e instanceof a.ServerConnection.NetworkError||e.response&&503===e.response.status)return this._connectionFailure.emit(e),[];throw e});if(!this.isDisposed&&!o.JSONExt.deepEqual(e,this._models)){const t=e.map(({name:e})=>e),n=this._sessions;n.forEach(e=>{-1===t.indexOf(e.name)&&(e.dispose(),n.delete(e))}),this._models=e.slice(),this._runningChanged.emit(e)}}_getOptions(e={}){return Object.assign({},e,{serverSettings:this.serverSettings})}_onStarted(e){let t=e.name;this._sessions.add(e),-1===i.ArrayExt.findFirstIndex(this._models,e=>e.name===t)&&(this._models.push(e.model),this._runningChanged.emit(this._models.slice())),e.terminated.connect(()=>{this._onTerminated(t)})}_onTerminated(e){let t=i.ArrayExt.findFirstIndex(this._models,t=>t.name===e);-1!==t&&(this._models.splice(t,1),this._runningChanged.emit(this._models.slice()));const n=this._sessions;n.forEach(t=>{t.name===e&&n.delete(t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(91),o=n(57),s=n(120),a=n(334);class c{constructor(e,t={}){this._isDisposed=!1,this._isReady=!1,this._messageReceived=new o.Signal(this),this._terminated=new o.Signal(this),this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._disconnected=!1,this._name=e,this.serverSettings=t.serverSettings||s.ServerConnection.makeSettings(),this._readyPromise=this._initializeSocket()}get terminated(){return this._terminated}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isReady(){return this._isReady}get ready(){return this._readyPromise}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this.terminated.emit(void 0),this._isDisposed=!0,this._ws&&(this._ws.close(),this._ws=null),delete l.running[this._url],o.Signal.clearData(this))}send(e){if(this._isDisposed||!e.content)return;const t=[e.type,...e.content],n=this._ws,r=JSON.stringify(t);this._isReady&&n?n.send(r):this.ready.then(()=>{const e=this._ws;e&&e.send(r)})}reconnect(){return this._reconnectAttempt=0,this._readyPromise=this._initializeSocket(),this._readyPromise}shutdown(){const{name:e,serverSettings:t}=this;return c.shutdown(e,t)}clone(){const{name:e,serverSettings:t}=this;return new c(e,{serverSettings:t})}_initializeSocket(){const e=this._name;let t=this._ws;return t&&(t.onopen=this._noOp,t.onclose=this._noOp,t.onerror=this._noOp,t.onmessage=this._noOp,t.close(),this._ws=null),this._isReady=!1,new Promise((n,i)=>{const o=this.serverSettings,s=this.serverSettings.token;this._url=l.getTermUrl(o.baseUrl,this._name),l.running[this._url]=this;let a=r.URLExt.join(o.wsUrl,"terminals/websocket/"+e);s&&(a=a+"?token="+encodeURIComponent(s)),t=this._ws=new o.WebSocket(a),t.onmessage=e=>{if(this._isDisposed)return;const t=JSON.parse(e.data);"disconnect"===t[0]&&(this._disconnected=!0),this._reconnectAttempt>0?"setup"===t[0]&&(this._reconnectAttempt=0):this._messageReceived.emit({type:t[0],content:t.slice(1)})},t.onopen=e=>{this._isDisposed||(this._isReady=!0,this._disconnected=!1,n(void 0))},t.onerror=e=>{this._isDisposed||i(e)},t.onclose=e=>{console.warn("Terminal websocket closed: "+e.code),this._disconnected&&this.dispose(),this._reconnectSocket()}})}_reconnectSocket(){if(this._isDisposed||!this._ws||this._disconnected)return;const e=this._reconnectAttempt;if(e>=this._reconnectLimit)return void console.log(`Terminal reconnect aborted: ${e} attempts`);const t=Math.pow(2,e);console.log(`Terminal will attempt to reconnect in ${t}s`),this._isReady=!1,this._reconnectAttempt+=1,setTimeout(()=>{this.isDisposed||this._initializeSocket().then(()=>{console.log("Terminal reconnected")}).catch(e=>{console.warn("Terminal reconnect failed",e)})},1e3*t)}}var l;t.DefaultTerminalSession=c,function(e){function t(e){if(!a.TerminalSession.isAvailable())return Promise.reject(l.unavailableMsg);e=e||s.ServerConnection.makeSettings();let t=l.getServiceUrl(e.baseUrl);return s.ServerConnection.makeRequest(t,{},e).then(e=>{if(200!==e.status)throw new s.ServerConnection.ResponseError(e);return e.json()}).then(e=>{if(!Array.isArray(e))throw new Error("Invalid terminal data");let n=i.toArray(i.map(e,e=>r.URLExt.join(t,e.name)));return i.each(Object.keys(l.running),e=>{if(-1===n.indexOf(e)){l.running[e].dispose()}}),e})}function n(e,t){if(!a.TerminalSession.isAvailable())return Promise.reject(l.unavailableMsg);t=t||s.ServerConnection.makeSettings();let n=l.getTermUrl(t.baseUrl,e);return s.ServerConnection.makeRequest(n,{method:"DELETE"},t).then(e=>{if(404===e.status)return e.json().then(e=>{console.warn(e.message)});if(204!==e.status)throw new s.ServerConnection.ResponseError(e)})}e.isAvailable=function(){return"true"===String(r.PageConfig.getOption("terminalsAvailable")).toLowerCase()},e.startNew=function(t={}){if(!a.TerminalSession.isAvailable())throw l.unavailableMsg;let n=t.serverSettings||s.ServerConnection.makeSettings(),r=l.getServiceUrl(n.baseUrl);return s.ServerConnection.makeRequest(r,{method:"POST"},n).then(e=>{if(200!==e.status)throw new s.ServerConnection.ResponseError(e);return e.json()}).then(r=>{let i=r.name;return new e(i,Object.assign({},t,{serverSettings:n}))})},e.connectTo=function(n,r={}){if(!a.TerminalSession.isAvailable())return Promise.reject(l.unavailableMsg);let o=r.serverSettings||s.ServerConnection.makeSettings(),c=l.getTermUrl(o.baseUrl,n);return c in l.running?Promise.resolve(l.running[c].clone()):t(o).then(t=>{if(-1!==i.ArrayExt.findFirstIndex(t,e=>e.name===n)){let t=new e(n,Object.assign({},r,{serverSettings:o}));return Promise.resolve(t)}return Promise.reject("Could not find session")})},e.listRunning=t,e.shutdown=n,e.shutdownAll=async function(e){e=e||s.ServerConnection.makeSettings();const r=await t(e);await Promise.all(r.map(t=>n(t.name,e)))}}(c=t.DefaultTerminalSession||(t.DefaultTerminalSession={})),function(e){e.running=Object.create(null),e.unavailableMsg="Terminals Unavailable",e.getTermUrl=function(e,t){return r.URLExt.join(e,"api/terminals",t)},e.getServiceUrl=function(e){return r.URLExt.join(e,"api/terminals")}}(l||(l={}))},function(e,t,n){"use strict";const r=n(675);r.Server=n(1349),r.Receiver=n(677),r.Sender=n(679),e.exports=r},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class o extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class s extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function n(e){t.call(this,new i(e,this))}function r(e,n){t.call(this,new o(e,n,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new s(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=c},function(e,t,n){"use strict";const r=n(35),i=n(61),o=n(48),s=n(241),a=n(676),c=n(675),{GUID:l}=n(152),u=/^[+/0-9A-Za-z]{22}==$/;function d(e){e.emit("close")}function h(){this.destroy()}function p(e,t,n,r){e.writable&&(n=n||o.STATUS_CODES[t],r=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n)},r),e.write(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",h),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=o.createServer((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(d,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",h);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],c={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!u.test(i)||8!==o&&13!==o||!this.shouldHandle(e))return p(t,400);if(this.options.perMessageDeflate){const n=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=a.parse(e.headers["sec-websocket-extensions"]);t[s.extensionName]&&(n.accept(t[s.extensionName]),c[s.extensionName]=n)}catch(e){return p(t,400)}}if(this.options.verifyClient){const s={origin:e.headers[""+(8===o?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(o,s,a,l)=>{if(!o)return p(t,s||401,a,l);this.completeUpgrade(i,c,e,t,n,r)});if(!this.options.verifyClient(s))return p(t,401)}this.completeUpgrade(i,c,e,t,n,r)}completeUpgrade(e,t,n,r,o,u){if(!r.readable||!r.writable)return r.destroy();const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+i.createHash("sha1").update(e+l).digest("base64")],p=new c(null);var f=n.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),(f=this.options.handleProtocols?this.options.handleProtocols(f,n):f[0])&&(d.push("Sec-WebSocket-Protocol: "+f),p.protocol=f)),t[s.extensionName]){const e=t[s.extensionName].params,n=a.format({[s.extensionName]:[e]});d.push("Sec-WebSocket-Extensions: "+n),p._extensions=t}this.emit("headers",d,n),r.write(d.concat("\r\n").join("\r\n")),r.removeListener("error",h),p.setSocket(r,o,this.options.maxPayload),this.clients&&(this.clients.add(p),p.on("close",()=>this.clients.delete(p))),u(p)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSocketWrapper=void 0,t.KernelSocketWrapper=function(e){return class extends e{constructor(...e){super(...e),this.msgChain=Promise.resolve(),this.sendChain=Promise.resolve(),this.receiveHooks=[],this.sendHooks=[]}sendToRealKernel(e,t){super.send(e,t)}send(e,t){this.sendHooks?this.sendChain=this.sendChain.then(()=>Promise.all(this.sendHooks.map(n=>n(e,t)))).then(()=>super.send(e,t)):super.send(e,t)}emit(e,...t){return"message"===e&&this.receiveHooks.length?(this.msgChain=this.msgChain.then(()=>Promise.all(this.receiveHooks.map(e=>e(t[0])))).then(()=>super.emit(e,...t)),!0):super.emit(e,...t)}addReceiveHook(e){this.receiveHooks.push(e)}removeReceiveHook(e){this.receiveHooks=this.receiveHooks.filter(t=>t!==e)}addSendHook(e){this.sendHooks.push(e)}removeSendHook(e){this.sendHooks=this.sendHooks.filter(t=>t!==e)}}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterVariables=void 0;const o=n(0),s=n(1),a=n(3),c=n(8),l=n(5),u=n(13);let d=class{constructor(e,t,n){this.kernelVariables=t,this.debuggerVariables=n,this.refreshEventEmitter=new s.EventEmitter,e.push(n.refreshRequired(this.fireRefresh.bind(this))),e.push(t.refreshRequired(this.fireRefresh.bind(this)))}get refreshRequired(){return this.refreshEventEmitter.event}async getVariables(e,t){return(await this.getVariableHandler()).getVariables(e,t)}async getFullVariable(e,t){return(await this.getVariableHandler()).getFullVariable(e,t)}async getMatchingVariable(e,t,n){return(await this.getVariableHandler()).getMatchingVariable(e,t,n)}async getDataFrameInfo(e,t,n,r){return(await this.getVariableHandler()).getDataFrameInfo(e,t,n,r)}async getDataFrameRows(e,t,n,r,i){return(await this.getVariableHandler()).getDataFrameRows(e,t,n,r,i)}async getVariableHandler(){return this.debuggerVariables.active?this.debuggerVariables:this.kernelVariables}fireRefresh(){this.refreshEventEmitter.fire()}};r([c.captureTelemetry(l.Telemetry.VariableExplorerFetchTime,void 0,!0)],d.prototype,"getVariables",null),d=r([o.injectable(),i(0,o.inject(a.IDisposableRegistry)),i(1,o.inject(u.IJupyterVariables)),i(1,o.named(l.Identifiers.KERNEL_VARIABLES)),i(2,o.inject(u.IJupyterVariables)),i(2,o.named(l.Identifiers.DEBUGGER_VARIABLES))],d),t.JupyterVariables=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDependencyService=void 0;const o=n(0),s=n(7),a=n(37),c=n(309),l=n(192),u=n(4),d=n(3),h=n(10),p=n(9),f=n(283),m=n(8),g=n(54),v=n(5),y=n(74),b=n(13);let _=class{constructor(e,t,n,r,i){this.appShell=e,this.installer=t,this.memento=n,this.isCodeSpace=r,this.commandManager=i,this.installPromises=new Map}async installMissingDependencies(e,t,n,r){if(u.traceInfo("installMissingDependencies "+t.path),await this.areDependenciesInstalled(t,n))return;let i=this.installPromises.get(t.path);i||(i=this.runInstaller(t,n,r,e),this.installPromises.set(t.path,i));try{const e=await i;this.handleKernelDependencyResponse(e,t)}finally{this.installPromises.delete(t.path)}}areDependenciesInstalled(e,t){return this.installer.isInstalled(d.Product.ipykernel,e).then(e=>!0===e)}handleKernelDependencyResponse(e,t){if(e!==b.KernelInterpreterDependencyResponse.ok)throw e===b.KernelInterpreterDependencyResponse.selectDifferentKernel&&this.commandManager.executeCommand("notebook.selectKernel").then(p.noop,p.noop),new y.IpyKernelNotInstalledError(h.DataScience.ipykernelNotInstalled().format(`${t.displayName||t.path}:${t.path}`),e)}async runInstaller(e,t,n,r){if(n)return b.KernelInterpreterDependencyResponse.cancel;const i=a.wrapCancellationTokens(t),o=await c.isModulePresentInEnvironment(this.memento,d.Product.ipykernel,e),s=(o?h.DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreterAndRequiresUpdate():h.DataScience.libraryRequiredToLaunchJupyterKernelNotInstalledInterpreter()).format(e.displayName||e.path,l.ProductNames.get(d.Product.ipykernel));m.sendTelemetryEvent(v.Telemetry.PythonModuleInstal,void 0,{action:"displayed",moduleName:l.ProductNames.get(d.Product.ipykernel)});const u=a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:void 0,token:t}),p=o?h.Common.reInstall():h.Common.install(),f=h.DataScience.selectKernel(),y=r?[p,f]:[p],_="notebook"===g.getResourceType(r),w=this.isCodeSpace?p:await Promise.race([this.appShell.showErrorMessage(s,{modal:_},...y),u]);if(i.isCancellationRequested)return b.KernelInterpreterDependencyResponse.cancel;if(w===f)return b.KernelInterpreterDependencyResponse.selectDifferentKernel;if(w===p){const n=a.createPromiseFromCancellation({cancelAction:"resolve",defaultValue:d.InstallerResponse.Ignore,token:t}),r=await Promise.race([this.installer.install(d.Product.ipykernel,e,i,!0===o),n]);if(r===d.InstallerResponse.Installed)return b.KernelInterpreterDependencyResponse.ok;if(r===d.InstallerResponse.Ignore)return b.KernelInterpreterDependencyResponse.failed}return b.KernelInterpreterDependencyResponse.cancel}};r([u.traceDecorators.verbose("Install Missing Dependencies",f.TraceOptions.ReturnValue)],_.prototype,"installMissingDependencies",null),_=r([o.injectable(),i(0,o.inject(s.IApplicationShell)),i(1,o.inject(d.IInstaller)),i(2,o.inject(d.IMemento)),i(2,o.named(d.GLOBAL_MEMENTO)),i(3,o.inject(d.IsCodeSpace)),i(4,o.inject(s.ICommandManager))],_),t.KernelDependencyService=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelVariables=void 0;const o=n(0),s=n(1),a=n(14),c=n(473),l=n(3),u=n(5),d=n(13),h=n(22),p=/.*?\[.*?;31mType:.*?\[0m\s+(\w+)/,f=/.*?\[.*?;31mValue:.*?\[0m\s+(.*)/,m=/.*?\[.*?;31mString form:.*?\[0m\s*?([\s\S]+?)\n(.*\[.*;31m?)/,g=/.*?\[.*?;31mDocstring:.*?\[0m\s+(.*)/,v=/.*?\[.*?;31mLength:.*?\[0m\s+(.*)/,y=/^\s+\[(\d+) rows x (\d+) columns\]/m,b=new Set(["DataFrame","list","dict","ndarray","Series","Tensor","EagerTensor","DataArray"]);let _=class{constructor(e,t,n){this.configService=e,this.experimentService=t,this.variableRequesters=new Map,this.notebookState=new Map,this.refreshEventEmitter=new s.EventEmitter,this.variableRequesters.set(a.PYTHON_LANGUAGE,n)}get refreshRequired(){return this.refreshEventEmitter.event}async getVariables(e,t){return this.getVariablesBasedOnKernel(t,e)}async getMatchingVariable(e,t,n){const r=this.notebookState.get(t.identity);if(r){let i=r.variables.find(t=>t.name===e);return i&&!i.value&&(i=await this.getVariableValueFromKernel(i,t,n)),i}{const r=await this.getVariableNamesAndTypesFromKernel(t,n);if(r){const i=r.find(t=>t.name===e);if(i)return this.getVariableValueFromKernel({name:e,value:void 0,supportsDataExplorer:!1,type:i.type,size:0,count:0,shape:"",truncated:!0},t,n)}}}async getDataFrameInfo(e,t,n,r){const i=h.getKernelConnectionLanguage(null==t?void 0:t.getKernelConnection())||a.PYTHON_LANGUAGE,o=this.variableRequesters.get(i);if(o){r&&(e=await this.getFullVariable(e,t));let i=e.name;return n&&(i=`${e.name}${n}`),o.getDataFrameInfo(e,t,i)}return e}async getDataFrameRows(e,t,n,r,i){const o=h.getKernelConnectionLanguage(null==r?void 0:r.getKernelConnection())||a.PYTHON_LANGUAGE,s=this.variableRequesters.get(o);if(s){let o=e.name;return i&&(o=`${e.name}${i}`),s.getDataFrameRows(t,n,r,o)}return{}}async getFullVariable(e,t,n){const r=h.getKernelConnectionLanguage(null==t?void 0:t.getKernelConnection())||a.PYTHON_LANGUAGE,i=this.variableRequesters.get(r);return i?i.getFullVariable(e,t,n):e}async getVariablesBasedOnKernel(e,t){var n;let r=this.notebookState.get(e.identity);r&&r.currentExecutionCount===t.executionCount||(r={currentExecutionCount:t.executionCount,variables:(await this.getVariableNamesAndTypesFromKernel(e)).map(e=>({name:e.name,value:void 0,supportsDataExplorer:!1,type:e.type,size:0,shape:"",count:0,truncated:!0}))});const i=this.configService.getSettings(e.resource).variableExplorerExclude?null===(n=this.configService.getSettings().variableExplorerExclude)||void 0===n?void 0:n.split(";"):[],o={executionCount:t.executionCount,pageStartIndex:-1,pageResponse:[],totalCount:0,refreshCount:t.refreshCount};if(r){const n=t.sortColumn,s=(e,r)=>{const i=e[n]?e[n]:"",o=r[n]?r[n]:"";return t.sortAscending?i.localeCompare(o,void 0,{sensitivity:"base"}):o.localeCompare(i,void 0,{sensitivity:"base"})};r.variables.sort(s);const a=t.startIndex?t.startIndex:0,c=t.pageSize?t.pageSize:100;o.pageStartIndex=a;for(let t=a;t<a+c&&t<r.variables.length;){const n=r.variables[t].value?r.variables[t]:await this.getVariableValueFromKernel(r.variables[t],e);i&&i.indexOf(n.type)>=0?r.variables.splice(t,1):(r.variables[t]=n,o.pageResponse.push(n),t+=1)}this.notebookState.set(e.identity,r),o.totalCount=r.variables.length}return o}async getVariableProperties(e,t,n){const r=await this.getMatchingVariable(e,t,n),i=this.configService.getSettings().variableTooltipFields,o=h.getKernelConnectionLanguage(null==t?void 0:t.getKernelConnection())||a.PYTHON_LANGUAGE,s=i[o],c=await this.inEnhancedTooltipsExperiment(),l=this.variableRequesters.get(o);return l?l.getVariableProperties(e,t,n,r,s,c):{}}async getVariableNamesAndTypesFromKernel(e,t){const n=h.getKernelConnectionLanguage(null==e?void 0:e.getKernelConnection())||a.PYTHON_LANGUAGE,r=this.variableRequesters.get(n);return r?r.getVariableNamesAndTypesFromKernel(e,t):[]}async getVariableValueFromKernel(e,t,n){let r={...e};if(t){const i=await t.inspect(e.name,0,n);if(i&&i.hasOwnProperty("text/plain")){const e=i["text/plain"].toString(),t=p.exec(e),n=f.exec(e),o=m.exec(e),s=g.exec(e),a=v.exec(e),c=y.exec(e);t&&(r.type=t[1]),r.value=n?n[1]:o?o[1]:s?s[1]:"",a&&(r.count=parseInt(a[1],10)),c&&(r.shape=`(${c[1]}, ${c[2]})`)}i&&i.type&&(r.type=i.type.toString()),i&&i.value&&(r.value=i.value.toString()),b.has(r.type)&&(r.supportsDataExplorer=!0)}return r.type&&r.count&&!r.shape&&h.isPythonKernelConnection(t.getKernelConnection())&&r.supportsDataExplorer&&"list"!==r.type&&(r=await this.getFullVariable(r,t)),r}async inEnhancedTooltipsExperiment(){return this.enhancedTooltipsExperimentPromise||(this.enhancedTooltipsExperimentPromise=await this.experimentService.inExperiment(c.Experiments.EnhancedTooltips)),this.enhancedTooltipsExperimentPromise}};_=r([o.injectable(),i(0,o.inject(l.IConfigurationService)),i(1,o.inject(l.IExperimentService)),i(2,o.inject(d.IKernelVariableRequester)),i(2,o.named(u.Identifiers.PYTHON_VARIABLES_REQUESTER))],_),t.KernelVariables=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerPreload=void 0;const o=n(0),s=n(7),a=n(4),c=n(3),l=n(24),u=n(13);let d=class{constructor(e,t,n,r,i,o,s){this.tracker=e,this.interactiveProvider=n,this.configService=r,this.notebookProvider=i,this.workspace=o,t.onDidOpenNotebookDocument(this.onDidOpenNotebook.bind(this),this,s),this.interactiveProvider.onDidChangeActiveInteractiveWindow(this.onDidOpenOrCloseInteractive.bind(this))}activate(){return this.checkDateForServerStart(),Promise.resolve()}checkDateForServerStart(){this.shouldAutoStartStartServer(this.tracker.lastNotebookCreated)&&this.createServerIfNecessary().ignoreErrors()}shouldAutoStartStartServer(e){if(!e)return!1;const t=(new Date).getTime()-e.getTime();return Math.floor(t/864e5)<=7}async createServerIfNecessary(){if(this.workspace.isTrusted)try{a.traceInfo("Attempting to start a server because of preload conditions ...");let e=await this.notebookProvider.connect({getOnly:!0,disableUI:!0,resource:void 0});e||this.configService.getSettings(void 0).disableJupyterAutoStart||(e=await this.notebookProvider.connect({getOnly:!1,resource:void 0,disableUI:!0,localOnly:!0}))}catch(e){a.traceError("Error starting server in serverPreload: ",e)}}onDidOpenNotebook(e){l.isJupyterNotebook(e)&&this.createServerIfNecessary().ignoreErrors()}onDidOpenOrCloseInteractive(e){e&&this.createServerIfNecessary().ignoreErrors()}};d=r([o.injectable(),i(0,o.inject(u.INotebookCreationTracker)),i(1,o.inject(s.IVSCodeNotebook)),i(2,o.inject(u.IInteractiveWindowProvider)),i(3,o.inject(c.IConfigurationService)),i(4,o.inject(u.INotebookProvider)),i(5,o.inject(s.IWorkspaceService)),i(6,o.inject(c.IDisposableRegistry))],d),t.ServerPreload=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerUriStorage=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(5);let u=class{constructor(e,t,n,r,i,o){this.configService=e,this.workspaceService=t,this.crypto=n,this.encryptedStorage=r,this.appEnv=i,this.globalMemento=o,this._onDidChangeUri=new s.EventEmitter,this.getUri().ignoreErrors()}get onDidChangeUri(){return this._onDidChangeUri.event}async addToUriList(e,t,n){const r=(await this.getSavedUriList()).filter((t,n)=>t.uri!==e&&n<l.Settings.JupyterServerUriListMax-1);r.push({uri:e,time:t,displayName:n||e});const i=r.sort((e,t)=>t.time-e.time),o=i.map((e,t)=>({index:t,time:e.time}));await this.globalMemento.update(l.Settings.JupyterServerUriList,o);const s=i.map(e=>`${e.uri}${l.Settings.JupyterServerRemoteLaunchNameSeparator}${e.displayName&&e.displayName!==e.uri?e.displayName:l.Settings.JupyterServerRemoteLaunchUriEqualsDisplayName}`).join(l.Settings.JupyterServerRemoteLaunchUriSeparator);return this.encryptedStorage.store(l.Settings.JupyterServerRemoteLaunchService,l.Settings.JupyterServerRemoteLaunchUriListKey,s)}async getSavedUriList(){const e=this.globalMemento.get(l.Settings.JupyterServerUriList);if(e&&e.length>0){const t=await this.encryptedStorage.retrieve(l.Settings.JupyterServerRemoteLaunchService,l.Settings.JupyterServerRemoteLaunchUriListKey);if(t){const n=t.split(l.Settings.JupyterServerRemoteLaunchUriSeparator),r=[];for(let t=0;t<n.length&&t<e.length;t+=1){const i=n[t].split(l.Settings.JupyterServerRemoteLaunchNameSeparator),o=i[0],s=i[1]!==l.Settings.JupyterServerRemoteLaunchUriEqualsDisplayName&&i[1]?i[1]:o;r.push({time:e[t].time,displayName:s,uri:o})}return r}}return[]}async clearUriList(){await this.globalMemento.update(l.Settings.JupyterServerUriList,[]),await this.encryptedStorage.store(l.Settings.JupyterServerRemoteLaunchService,l.Settings.JupyterServerRemoteLaunchUriListKey,void 0)}getUri(){return this.currentUriPromise||(this.currentUriPromise=this.getUriInternal()),this.currentUriPromise}async setUri(e){if(this.currentUriPromise=Promise.resolve(e),e===l.Settings.JupyterServerLocalLaunch)await this.updateServerType(l.Settings.JupyterServerLocalLaunch);else{await this.updateServerType(l.Settings.JupyterServerRemoteLaunch);const t=this.getUriAccountKey();await this.encryptedStorage.store(l.Settings.JupyterServerRemoteLaunchService,t,e)}this._onDidChangeUri.fire()}async updateServerType(e){return this.workspaceService.hasWorkspaceFolders?this.configService.updateSetting("jupyterServerType",e,void 0,s.ConfigurationTarget.Workspace):this.configService.updateSetting("jupyterServerType",e,void 0,s.ConfigurationTarget.Global)}async getUriInternal(){const e=this.configService.getSettings(void 0).jupyterServerType;if(e===l.Settings.JupyterServerLocalLaunch||0===e.length)return l.Settings.JupyterServerLocalLaunch;{e!==l.Settings.JupyterServerRemoteLaunch&&await this.setUri(e);const t=this.getUriAccountKey();return await this.encryptedStorage.retrieve(l.Settings.JupyterServerRemoteLaunchService,t)||e}}getUriAccountKey(){return this.workspaceService.rootPath?this.crypto.createHash(this.workspaceService.rootPath,"string","SHA512"):this.workspaceService.workspaceFile?this.crypto.createHash(this.workspaceService.workspaceFile.fsPath,"string","SHA512"):this.appEnv.machineId}};u=r([o.injectable(),i(0,o.inject(c.IConfigurationService)),i(1,o.inject(a.IWorkspaceService)),i(2,o.inject(c.ICryptoUtils)),i(3,o.inject(a.IEncryptedStorage)),i(4,o.inject(a.IApplicationEnvironment)),i(5,o.inject(c.IMemento)),i(5,o.named(c.GLOBAL_MEMENTO))],u),t.JupyterServerUriStorage=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterDebugService=void 0;const o=n(0),s=n(110),a=n(6),c=n(41),l=n(1),u=n(4),d=n(3),h=n(19),p=n(9),f=n(107),m=n(480);class g{constructor(e,t,n){this._id=e,this._configuration=t,this.customRequestHandler=n,this._name="JupyterDebugSession",p.noop()}get id(){return this._id}get type(){return"python"}get name(){return this._name}get workspaceFolder(){}get configuration(){return this._configuration}customRequest(e,t){return this.customRequestHandler(e,t)}getDebugProtocolBreakpoint(e){return Promise.resolve(void 0)}}let v=class{constructor(e,t){this.protocolParser=e,this.sequence=1,this.breakpointEmitter=new l.EventEmitter,this.debugAdapterTrackerFactories=[],this.debugAdapterTrackers=[],this.sessionChangedEvent=new l.EventEmitter,this.sessionStartedEvent=new l.EventEmitter,this.sessionTerminatedEvent=new l.EventEmitter,this.sessionCustomEvent=new l.EventEmitter,this.breakpointsChangedEvent=new l.EventEmitter,this._breakpoints=[],t.push(this)}dispose(){this.socket&&(this.socket.end(),this.socket=void 0)}get activeDebugSession(){return this.session}get activeDebugConsole(){return{append(e){p.noop()},appendLine(e){p.noop()}}}get breakpoints(){return this._breakpoints}get onDidChangeActiveDebugSession(){return this.sessionChangedEvent.event}get onDidStartDebugSession(){return this.sessionStartedEvent.event}get onDidReceiveDebugSessionCustomEvent(){return this.sessionCustomEvent.event}get onDidTerminateDebugSession(){return this.sessionTerminatedEvent.event}get onDidChangeBreakpoints(){return this.breakpointsChangedEvent.event}registerDebugConfigurationProvider(e,t){return{dispose:()=>{p.noop()}}}registerDebugAdapterTrackerFactory(e,t){return this.debugAdapterTrackerFactories.push(t),{dispose:()=>{this.debugAdapterTrackerFactories=this.debugAdapterTrackerFactories.filter(e=>e!==t)}}}startRunByLine(e){return this.startDebugging(void 0,e)}startDebugging(e,t,n){const r=t;return r.port?(this.session=new g(c(),r,this.sendCustomRequest.bind(this)),this.sessionChangedEvent.fire(this.session),this.debugAdapterTrackers=this.debugAdapterTrackerFactories.map(e=>e.createDebugAdapterTracker(this.session)),this.socket=s.createConnection(r.port),this.protocolParser.connect(this.socket),this.protocolParser.on("event_stopped",this.onBreakpoint.bind(this)),this.protocolParser.on("event_output",this.onOutput.bind(this)),this.protocolParser.on("event_terminated",this.sendToTrackers.bind(this)),this.socket.on("error",this.onError.bind(this)),this.socket.on("close",this.onClose.bind(this)),this.sendStartSequence(r,this.session.id).then(()=>!0)):Promise.resolve(!0)}addBreakpoints(e){this._breakpoints=this._breakpoints.concat(e)}removeBreakpoints(e){p.noop()}get onBreakpointHit(){return this.breakpointEmitter.event}async continue(){await this.sendMessage("continue",{threadId:0}),this.sendToTrackers({type:"event",event:"continue"})}async step(){await this.sendMessage("stepIn",{threadId:this._stoppedThreadId?this._stoppedThreadId:1}),this.sendToTrackers({type:"event",event:"stepIn"})}async getStack(){const e=h.createDeferred();return this.protocolParser.once("response_stackTrace",t=>{var n;this.sendToTrackers(t);const r=t,i=r.body.stackFrames?r.body.stackFrames:[];e.resolve(i),this._topFrameId=null===(n=i[0])||void 0===n?void 0:n.id}),await this.emitMessage("stackTrace",{threadId:this._stoppedThreadId?this._stoppedThreadId:1,startFrame:0,levels:1}),e.promise}async requestVariables(){await this.getStack();const e=h.createDeferred();let t=0;return this.protocolParser.once("response_scopes",e=>{this.sendToTrackers(e);e&&(t=e.body.scopes[0].variablesReference),this.emitMessage("variables",{threadId:this._stoppedThreadId?this._stoppedThreadId:1,variablesReference:t}).ignoreErrors()}),this.protocolParser.once("response_variables",t=>{this.sendToTrackers(t),e.resolve()}),await this.emitMessage("scopes",{frameId:this._topFrameId?this._topFrameId:1}),e.promise}stop(){this.onClose()}sendToTrackers(e){switch(e.type){case"request":this.debugAdapterTrackers.forEach(t=>{t.onWillReceiveMessage&&t.onWillReceiveMessage(e)});break;default:this.debugAdapterTrackers.forEach(t=>t.onDidSendMessage(e))}}sendCustomRequest(e,t){return this.sendMessage(e,t)}async sendStartSequence(e,t){u.traceInfo("Sending debugger initialize..."),await this.sendInitialize(),this._breakpoints.length>0&&(u.traceInfo("Sending breakpoints"),await this.sendBreakpoints()),u.traceInfo("Sending debugger attach...");const n=this.sendAttach(e,t);return u.traceInfo("Sending configuration done"),await this.sendConfigurationDone(),u.traceInfo("Session started."),n.then(()=>{this.sessionStartedEvent.fire(this.session)})}sendBreakpoints(){const e=this._breakpoints.map(e=>e),t=e[0].location.uri.fsPath;return this.sendMessage("setBreakpoints",{source:{name:a.basename(t),path:t},lines:e.map(e=>e.location.range.start.line),breakpoints:e.map(e=>({line:e.location.range.start.line})),sourceModified:!0})}sendAttach(e,t){return this.sendMessage("attach",{debugOptions:["RedirectOutput","FixFilePathCase","WindowsClient","ShowReturnValue"],workspaceFolder:f.EXTENSION_ROOT_DIR,__sessionId:t,...e})}sendConfigurationDone(){return this.sendMessage("configurationDone")}sendInitialize(){return this.sendMessage("initialize",{clientID:"vscode",clientName:"Visual Studio Code",adapterID:"python",pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!0,locale:"en-us"})}sendDisconnect(){return this.sendMessage("disconnect",{})}sendMessage(e,t){var n;const r=h.createDeferred(),i=this.sessionTerminatedEvent.event(()=>{r.resolve({body:{}})}),o=this.sequence;return this.protocolParser.on("response_"+e,e=>{e.request_seq===o&&(this.sendToTrackers(e),u.traceInfo("Received response from debugger: "+JSON.stringify(t)),i.dispose(),r.resolve(e.body))}),null===(n=this.socket)||void 0===n||n.on("error",e=>r.reject(e)),this.emitMessage(e,t).catch(t=>{u.traceError(`Exception attempting to emit ${e} to debugger: `,t)}),r.promise}emitMessage(e,t){return new Promise((n,r)=>{try{if(this.socket){const r={command:e,arguments:t,type:"request",seq:this.sequence};this.sequence+=1;const i=JSON.stringify(r);u.traceInfo("Sending request to debugger: "+i);const o=`Content-Length: ${i.length}\r\n\r\n${i}`;this.socket.write(o,e=>{this.sendToTrackers(r),n()})}}catch(e){r(e)}})}onBreakpoint(e){this._stoppedThreadId=e.body.threadId,this.sendToTrackers(e),this.breakpointEmitter.fire()}onOutput(e){this.sendToTrackers(e),u.traceInfo(JSON.stringify(e))}onError(e){this.sendToTrackers(e),u.traceInfo(JSON.stringify(e))}onClose(){this.socket&&(this.sessionTerminatedEvent.fire(this.activeDebugSession),this.session=void 0,this.sessionChangedEvent.fire(void 0),this.debugAdapterTrackers.forEach(e=>e.onExit?e.onExit(0,void 0):p.noop()),this.debugAdapterTrackers=[],this.sendDisconnect().ignoreErrors(),this.socket.destroy(),this.socket=void 0)}};v=r([o.injectable(),i(0,o.inject(m.IProtocolParser)),i(1,o.inject(d.IDisposableRegistry))],v),t.JupyterDebugService=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterUriProviderRegistration=void 0;const o=n(0),s=n(3),a=n(10),c=n(1358);let l=class{constructor(e){this.extensions=e,this.providers=new Map}async getProviders(){return await this.checkOtherExtensions(),Promise.all([...this.providers.values()])}registerProvider(e){if(this.providers.has(e.id))throw new Error("IJupyterUriProvider already exists with id "+e.id);this.providers.set(e.id,this.createProvider(e))}async getJupyterServerUri(e,t){await this.checkOtherExtensions();const n=this.providers.get(e);if(n){return(await n).getServerUri(t)}throw new Error(a.DataScience.unknownServerUri())}checkOtherExtensions(){return this.loadedOtherExtensionsPromise||(this.loadedOtherExtensionsPromise=this.loadOtherExtensions()),this.loadedOtherExtensionsPromise}async loadOtherExtensions(){const e=this.extensions.all.filter(e=>{var t,n;return null===(n=null===(t=e.packageJSON)||void 0===t?void 0:t.contributes)||void 0===n?void 0:n.pythonRemoteServerProvider}).map(e=>e.isActive?Promise.resolve():e.activate());await Promise.all(e)}async createProvider(e){const t=await this.extensions.determineExtensionFromCallStack();return new c.JupyterUriProviderWrapper(e,t.extensionId)}};l=r([o.injectable(),i(0,o.inject(s.IExtensions))],l),t.JupyterUriProviderRegistration=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterUriProviderWrapper=void 0;const r=n(10);t.JupyterUriProviderWrapper=class{constructor(e,t){this.provider=e,this.packageName=t}get id(){return this.provider.id}getQuickPickEntryItems(){return this.provider.getQuickPickEntryItems().map(e=>({...e,description:r.DataScience.uriProviderDescriptionFormat().format(e.description||"",this.packageName),original:e}))}handleQuickPick(e,t){return e.original?this.provider.handleQuickPick(e.original,t):this.provider.handleQuickPick(e,t)}getServerUri(e){return this.provider.getServerUri(e)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalKernelFinder=void 0;const o=n(0),s=n(26),a=n(14),c=n(4),l=n(3),u=n(33),d=n(8),h=n(5),p=n(22),f=n(54),m=n(24),g=n(68),v=n(242),y=n(304),b=n(305),_=n(230),w=n(16),S=n(9),E=n(37);let x=class{constructor(e,t,n,r,i,o,s,a){this.interpreterService=e,this.extensionChecker=t,this.extensions=n,this.nonPythonkernelFinder=r,this.pythonKernelFinder=i,this.jupyterPaths=o,this.globalState=s,this.fs=a,this.lastFetchedKernelsWithoutCache=[]}async findKernel(e,t,n){const r=f.getResourceType(e),i="interactive"===r?a.PYTHON_LANGUAGE:g.getTelemetrySafeLanguage(p.getLanguageInNotebookMetadata(t)||"");try{const o=await this.listKernels(e,n,"useCache"),s=(m.isPythonNotebook(t)||"interactive"===r)&&this.extensionChecker.isPythonExtensionInstalled?await this.interpreterService.getActiveInterpreter(e):void 0,a=p.findPreferredKernel(o,e,[],t,s,void 0);if(d.sendTelemetryEvent(h.Telemetry.PreferredKernel,void 0,{result:a?"found":"notfound",resourceType:r,language:i,hasActiveInterpreter:!!s}),a)return c.traceInfo("findKernel found "+p.getDisplayNameOrNameOfKernelConnection(a)),a}catch(e){return d.sendTelemetryEvent(h.Telemetry.PreferredKernel,void 0,{result:"failed",resourceType:r,language:i},e,!0),void c.traceError("findKernel crashed",e)}}async listNonPythonKernels(e){return this.filterKernels(await this.nonPythonkernelFinder.listKernelSpecs(!1,e))}async listKernels(e,t,n="ignoreCache"){const r="ignoreCache"===n?Promise.resolve([]):this.listValidKernelsFromGlobalCache(t),i=this.listKernelsWithoutCache(e,t);let o=[];if("ignoreCache"===n)o=await i;else{let e;r.then(t=>e=t).catch(S.noop),await Promise.race([r,i]),o=Array.isArray(e)&&e.length>0?e:await i}return o=this.filterKernels(o),v.sendKernelListTelemetry(e,o),o}async getKernelSpecRootPath(){return this.jupyterPaths.getKernelSpecRootPath()}async listKernelsWithoutCache(e,t){let[n,r]=await Promise.all([this.nonPythonkernelFinder.listKernelSpecs(!1,t),this.pythonKernelFinder.listKernelSpecs(e,t)]);const i=this.filterKernels(n.concat(r));return this.lastFetchedKernelsWithoutCache=i,this.globalState.update("JUPYTER_GLOBAL_KERNELSPECS",i).then(S.noop,e=>{console.error("Failed to update global kernel cache",e)}),i}async listValidKernelsFromGlobalCache(e){const t=this.lastFetchedKernelsWithoutCache.length?this.lastFetchedKernelsWithoutCache:this.globalState.get("JUPYTER_GLOBAL_KERNELSPECS",[]),n=[],r=Promise.all(t.map(async e=>{var t,r;let i=!1;const o=[];(null===(t=e.interpreter)||void 0===t?void 0:t.path)&&o.push(this.fs.localFileExists(e.interpreter.path).then(e=>{e||(i=!0)}).catch(S.noop)),"startUsingKernelSpec"===e.kind&&(null===(r=e.kernelSpec)||void 0===r?void 0:r.specFile)&&o.push(this.fs.localFileExists(e.kernelSpec.specFile).then(e=>{e||(i=!0)}).catch(S.noop)),await Promise.all(o),i||n.push(e)}));return e?await Promise.race([r,E.createPromiseFromCancellation({token:e,cancelAction:"resolve",defaultValue:void 0})]):await r,n}filterKernels(e){return e.filter(({kernelSpec:e})=>{var t,n;if(!e)return!0;if(e.argv[0].toLowerCase().endsWith("xpython"))return c.traceInfo("Hiding xeus kernelspec"),!1;const r=null===(n=null===(t=e.metadata)||void 0===t?void 0:t.vscode)||void 0===n?void 0:n.extension_id;return!r||!this.extensions.getExtension(r)||(c.traceInfo(`Hiding kernelspec ${e.display_name}, better support by ${r}`),!1)})}};r([c.traceDecorators.verbose("Find kernel spec"),d.captureTelemetry(h.Telemetry.KernelFinderPerf)],x.prototype,"findKernel",null),r([c.traceDecorators.error("List kernels failed")],x.prototype,"listKernels",null),r([d.captureTelemetry(h.Telemetry.KernelListingPerf,{kind:"local"})],x.prototype,"listKernelsWithoutCache",null),x=r([o.injectable(),i(0,o.inject(u.IInterpreterService)),i(1,o.inject(s.IPythonExtensionChecker)),i(2,o.inject(l.IExtensions)),i(3,o.inject(b.LocalKnownPathKernelSpecFinder)),i(4,o.inject(y.LocalPythonAndRelatedNonPythonKernelSpecFinder)),i(5,o.inject(_.JupyterPaths)),i(6,o.inject(l.IMemento)),i(6,o.named(l.GLOBAL_MEMENTO)),i(7,o.inject(w.IFileSystem))],x),t.LocalKernelFinder=x},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplexingDebugService=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(5),u=n(13);let d=class{constructor(e,t,n,r){this.commandManager=t,this.vscodeDebugService=n,this.jupyterDebugService=r,this.sessionChangedEvent=new s.EventEmitter,this.sessionStartedEvent=new s.EventEmitter,this.sessionTerminatedEvent=new s.EventEmitter,this.sessionCustomEvent=new s.EventEmitter,e.push(n.onDidTerminateDebugSession(this.endedDebugSession.bind(this))),e.push(r.onDidTerminateDebugSession(this.endedDebugSession.bind(this))),e.push(n.onDidStartDebugSession(this.startedDebugSession.bind(this))),e.push(r.onDidStartDebugSession(this.startedDebugSession.bind(this))),e.push(n.onDidChangeActiveDebugSession(this.changedDebugSession.bind(this))),e.push(r.onDidChangeActiveDebugSession(this.changedDebugSession.bind(this))),e.push(n.onDidReceiveDebugSessionCustomEvent(this.gotCustomEvent.bind(this))),e.push(r.onDidReceiveDebugSessionCustomEvent(this.gotCustomEvent.bind(this)))}get activeDebugSession(){return this.activeService.activeDebugSession}get activeDebugConsole(){return this.activeService.activeDebugConsole}get breakpoints(){return this.activeService.breakpoints}get onDidChangeActiveDebugSession(){return this.sessionChangedEvent.event}get onDidStartDebugSession(){return this.sessionStartedEvent.event}get onDidReceiveDebugSessionCustomEvent(){return this.sessionCustomEvent.event}get onDidTerminateDebugSession(){return this.sessionTerminatedEvent.event}get onDidChangeBreakpoints(){return this.activeService.onDidChangeBreakpoints}get onBreakpointHit(){return this.jupyterDebugService.onBreakpointHit}startRunByLine(e){return this.lastStartedService=this.jupyterDebugService,this.jupyterDebugService.startRunByLine(e)}registerDebugConfigurationProvider(e,t){const n=this.vscodeDebugService.registerDebugConfigurationProvider(e,t),r=this.jupyterDebugService.registerDebugConfigurationProvider(e,t);return this.combineDisposables(n,r)}registerDebugAdapterTrackerFactory(e,t){const n=this.vscodeDebugService.registerDebugAdapterTrackerFactory(e,t),r=this.jupyterDebugService.registerDebugAdapterTrackerFactory(e,t);return this.combineDisposables(n,r)}startDebugging(e,t,n){return this.lastStartedService=this.vscodeDebugService,this.vscodeDebugService.startDebugging(e,t,n)}addBreakpoints(e){return this.activeService.addBreakpoints(e)}removeBreakpoints(e){return this.activeService.removeBreakpoints(e)}getStack(){if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.getStack();throw new Error("Requesting jupyter specific stack when not debugging.")}step(){if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.step();throw new Error("Requesting jupyter specific step when not debugging.")}continue(){if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.continue();throw new Error("Requesting jupyter specific step when not debugging.")}requestVariables(){if(this.lastStartedService===this.jupyterDebugService)return this.jupyterDebugService.requestVariables();throw new Error("Requesting jupyter specific variables when not debugging.")}stop(){this.lastStartedService===this.jupyterDebugService?this.jupyterDebugService.stop():this.commandManager.executeCommand("workbench.action.debug.stop")}get activeService(){return this.lastStartedService?this.lastStartedService:this.vscodeDebugService}combineDisposables(e,t){return{dispose:()=>{e.dispose(),t.dispose()}}}endedDebugSession(e){this.sessionTerminatedEvent.fire(e),this.lastStartedService=void 0}startedDebugSession(e){this.sessionStartedEvent.fire(e)}changedDebugSession(e){this.sessionChangedEvent.fire(e)}gotCustomEvent(e){this.sessionCustomEvent.fire(e)}};d=r([o.injectable(),i(0,o.inject(c.IDisposableRegistry)),i(1,o.inject(a.ICommandManager)),i(2,o.inject(a.IDebugService)),i(3,o.inject(u.IJupyterDebugService)),i(3,o.named(l.Identifiers.RUN_BY_LINE_DEBUGSERVICE))],d),t.MultiplexingDebugService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookEditorProvider=void 0;const o=n(0),s=n(1),a=n(7);n(15);const c=n(16),l=n(3),u=n(19),d=n(9),h=n(8),p=n(5),f=n(100),m=n(336),g=n(24),v=n(1362),y=n(14);let b=class{constructor(e,t,n,r,i,o){this.vscodeNotebook=e,this.commandManager=t,this.disposables=n,this.fs=r,this.cellLanguageService=i,this.extensions=o,this._onDidChangeActiveNotebookEditor=new s.EventEmitter,this._onDidOpenNotebookEditor=new s.EventEmitter,this._onDidCloseNotebookEditor=new s.EventEmitter,this.openedEditors=new Set,this.trackedVSCodeNotebookEditors=new Set,this.notebookEditorsByUri=new Map,this.notebooksWaitingToBeOpenedByUri=new Map,n.push(this);for(const e of this.vscodeNotebook.notebookDocuments)this.onDidOpenNotebookDocument(e);this.disposables.push(this.vscodeNotebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this)),this.disposables.push(this.vscodeNotebook.onDidCloseNotebookDocument(this.onDidCloseNotebookDocument,this)),this.disposables.push(this.vscodeNotebook.onDidChangeActiveNotebookEditor(this.onDidChangeActiveVsCodeNotebookEditor,this)),this.disposables.push(this.commandManager.registerCommand(p.Commands.OpenNotebookInPreviewEditor,async e=>{e&&(h.captureTelemetry(p.Telemetry.OpenNotebook,{scope:"command"},!1),this.open(e).ignoreErrors())}))}get onDidChangeActiveNotebookEditor(){return this._onDidChangeActiveNotebookEditor.event}get onDidCloseNotebookEditor(){return this._onDidCloseNotebookEditor.event}get onDidOpenNotebookEditor(){return this._onDidOpenNotebookEditor.event}get activeEditor(){return this.vscodeNotebook.activeNotebookEditor&&this.editors.find(e=>{var t;return e.file.toString()===(null===(t=this.vscodeNotebook.activeNotebookEditor)||void 0===t?void 0:t.document.uri.toString())})}get editors(){return[...this.openedEditors]}dispose(){Array.from(this.openedEditors.keys()).map(e=>{try{e.dispose()}catch(e){d.noop}}),this.openedEditors.clear()}async open(e){if(this.notebooksWaitingToBeOpenedByUri.get(e.toString()))return this.notebooksWaitingToBeOpenedByUri.get(e.toString()).promise;this.notebooksWaitingToBeOpenedByUri.set(e.toString(),u.createDeferred());const t=this.notebooksWaitingToBeOpenedByUri.get(e.toString());return await this.commandManager.executeCommand("vscode.openWith",e,f.JupyterNotebookView),t.promise}async show(e){}async createNew(e){var t;const n=null!==(t=null==e?void 0:e.defaultCellLanguage)&&void 0!==t?t:y.PYTHON_LANGUAGE,r=new s.NotebookCellData(s.NotebookCellKind.Code,"",n),i=new s.NotebookData([r]);i.metadata={custom:{cells:[],metadata:{orig_nbformat:p.defaultNotebookFormat.major},nbformat:p.defaultNotebookFormat.major,nbformat_minor:p.defaultNotebookFormat.minor}};const o=await this.vscodeNotebook.openNotebookDocument(f.JupyterNotebookView,i);return await this.vscodeNotebook.showNotebookDocument(o),this.open(o.uri)}onEditorOpened(e){this.openedEditors.add(e),e.closed(this.closedEditor,this,this.disposables),this._onDidOpenNotebookEditor.fire(e),this._onDidChangeActiveNotebookEditor.fire(e)}closedEditor(e){var t;if(this.openedEditors.has(e)){this.openedEditors.delete(e),this._onDidCloseNotebookEditor.fire(e),this._onDidChangeActiveNotebookEditor.fire(this.activeEditor);0===this.editors.filter(t=>this.fs.areLocalPathsSame(t.file.fsPath,e.file.fsPath)&&t!==e).length&&(null===(t=e.notebook)||void 0===t||t.dispose().catch(d.noop))}}async onDidOpenNotebookDocument(e){if(!g.isJupyterNotebook(e))return;const t=e.uri;let n=this.notebookEditorsByUri.get(t.toString());n||(n=new v.NotebookEditor(e,this.vscodeNotebook,this.commandManager,this.disposables,this.cellLanguageService,this.extensions),this.onEditorOpened(n)),this.notebooksWaitingToBeOpenedByUri.get(t.toString())||this.notebooksWaitingToBeOpenedByUri.set(t.toString(),u.createDeferred());this.notebooksWaitingToBeOpenedByUri.get(t.toString()).resolve(n),this.notebookEditorsByUri.set(t.toString(),n)}onDidChangeActiveVsCodeNotebookEditor(e){if(e)if(g.isJupyterNotebook(e.document))if(this.trackedVSCodeNotebookEditors.has(e)){const t=this.editors.find(t=>t.file.toString()===e.document.uri.toString());this._onDidChangeActiveNotebookEditor.fire(t)}else this.trackedVSCodeNotebookEditors.add(e);else this._onDidChangeActiveNotebookEditor.fire(void 0);else this._onDidChangeActiveNotebookEditor.fire(void 0)}async onDidCloseNotebookDocument(e){this.disposeResourceRelatedToNotebookEditor(e.uri)}disposeResourceRelatedToNotebookEditor(e){const t=this.notebookEditorsByUri.get(e.toString());t&&(this.closedEditor(t),t.dispose(),t.model&&t.model.dispose()),this.notebookEditorsByUri.delete(e.toString()),this.notebooksWaitingToBeOpenedByUri.delete(e.toString())}};r([h.captureTelemetry(p.Telemetry.CreateNewNotebook,void 0,!1)],b.prototype,"createNew",null),b=r([o.injectable(),i(0,o.inject(a.IVSCodeNotebook)),i(1,o.inject(a.ICommandManager)),i(2,o.inject(l.IDisposableRegistry)),i(3,o.inject(c.IFileSystem)),i(4,o.inject(m.NotebookCellLanguageService)),i(5,o.inject(l.IExtensions))],b),t.NotebookEditorProvider=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookEditor=void 0;const r=n(1),i=n(9),o=n(232),s=n(24);t.NotebookEditor=class{constructor(e,t,n,i,o,s){this.document=e,this.vscodeNotebook=t,this.commandManager=n,this.cellLanguageService=o,this.extensions=s,this._closed=new r.EventEmitter,t.onDidCloseNotebookDocument(this.onClosedDocument,this,i)}get closed(){return this._closed.event}get file(){return this.document.uri}get notebookMetadata(){return s.getNotebookMetadata(this.document)}getContent(){const e=this.extensions.getExtension("vscode.ipynb");if(!e)throw new Error("Unable to export notebook as the built-in vscode.ipynb extension is currently unavailable.");const t=this.document.getCells().map(e=>{const t=new r.NotebookCellData(e.kind,e.document.getText(),e.document.languageId);return t.metadata=e.metadata,t.mime=e.mime,t.outputs=[...e.outputs],t}),n=new r.NotebookData(t);return n.metadata=this.document.metadata,e.exports.exportNotebook(n)}runAllCells(){this.commandManager.executeCommand("notebook.execute").then(i.noop,i.noop)}addCellBelow(){this.commandManager.executeCommand("notebook.cell.insertCodeCellBelow").then(i.noop,i.noop)}hasCell(){return Promise.resolve(this.document.cellCount>0)}undoCells(){this.commandManager.executeCommand("notebook.undo").then(i.noop,i.noop)}redoCells(){this.commandManager.executeCommand("notebook.redo").then(i.noop,i.noop)}removeAllCells(){if(!this.vscodeNotebook.activeNotebookEditor)return;const e=this.cellLanguageService.getPreferredLanguage(s.getNotebookMetadata(this.document)),t=this.vscodeNotebook.notebookEditors.find(e=>e.document===this.document);t&&o.chainWithPendingUpdates(t.document,n=>n.replaceNotebookCells(t.document.uri,new r.NotebookRange(0,this.document.cellCount),[new r.NotebookCellData(r.NotebookCellKind.Code,"",e)])).then(i.noop,i.noop)}expandAllCells(){if(!this.vscodeNotebook.activeNotebookEditor)return;const e=this.vscodeNotebook.activeNotebookEditor.document,t=this.vscodeNotebook.notebookEditors.find(e=>e.document===this.document);t&&o.chainWithPendingUpdates(t.document,n=>{e.getCells().forEach((e,r)=>{const i={...e.metadata||{},inputCollapsed:!1,outputCollapsed:!1};n.replaceNotebookCellMetadata(t.document.uri,r,i)})}).then(i.noop,i.noop)}collapseAllCells(){if(!this.vscodeNotebook.activeNotebookEditor)return;const e=this.vscodeNotebook.activeNotebookEditor.document,t=this.vscodeNotebook.notebookEditors.find(e=>e.document===this.document);t&&o.chainWithPendingUpdates(t.document,n=>{e.getCells().forEach((e,r)=>{const i={...e.metadata||{},inputCollapsed:!0,outputCollapsed:!0};n.replaceNotebookCellMetadata(t.document.uri,r,i)})}).then(i.noop,i.noop)}dispose(){this._closed.fire(this)}onClosedDocument(e){this.document===e&&this._closed.fire(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(116),i=n(1364),o=n(1365),s=n(56),a=n(492),c=n(491),l=n(336),u=n(1366),d=n(1367),h=n(684),p=n(1369),f=n(1370),m=n(1488),g=n(1489),v=n(115),y=n(1490),b=n(718),_=n(720),w=n(683);t.registerTypes=function(e){e.addSingleton(r.IExtensionSingleActivationService,d.NotebookIntegration),e.addSingleton(r.IExtensionSingleActivationService,m.NotebookDisposeService),e.addSingleton(r.IExtensionSingleActivationService,g.RemoteSwitcher),e.addSingleton(r.IExtensionSingleActivationService,p.IntroduceNativeNotebookStartPage),e.addSingleton(r.IExtensionSingleActivationService,u.EmptyNotebookCellLanguageService),e.addSingleton(d.NotebookIntegration,d.NotebookIntegration),e.addSingleton(s.IKernelProvider,o.KernelProvider),e.addSingleton(w.CellOutputDisplayIdTracker,w.CellOutputDisplayIdTracker),e.addSingleton(r.IExtensionSingleActivationService,i.GitHubIssueCodeLensProvider),e.addSingleton(r.IExtensionSingleActivationService,l.NotebookCellLanguageService),e.addSingleton(l.NotebookCellLanguageService,l.NotebookCellLanguageService),e.addSingleton(h.NotebookCompletionProvider,h.NotebookCompletionProvider),e.addSingleton(a.CreationOptionService,a.CreationOptionService),e.addSingleton(c.NotebookCreator,c.NotebookCreator),e.addSingleton(v.INotebookControllerManager,f.NotebookControllerManager),e.addSingleton(b.PlotSaveHandler,b.PlotSaveHandler),e.addSingleton(_.PlotViewHandler,_.PlotViewHandler),e.addSingleton(r.IExtensionSyncActivationService,y.RendererCommunication),e.addBinding(v.INotebookControllerManager,r.IExtensionSyncActivationService)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GitHubIssueCodeLensProvider=void 0;const o=n(0),s=n(1),a=n(14),c=n(3),l=n(10),u=n(5),d=n(501);let h=class{constructor(e){this.extensionContext=e}async activate(){this.extensionContext.subscriptions.push(s.languages.registerCodeLensProvider(a.GITHUB_ISSUE_MARKDOWN_FILE,this))}provideCodeLenses(e,t){const n=d.generateCommand(u.Commands.SubmitGitHubIssue,l.GitHubIssue.submitGitHubIssue()),r=[];for(let t=0;t<e.lineCount;t+=1){const i=e.lineAt(t);if(i.text.startsWith("<details>"))break;if(i.text.startsWith("# ")){const e=new s.Range(new s.Position(i.lineNumber,0),new s.Position(i.lineNumber,1));r.push(new s.CodeLens(e,n))}}return r}};h=r([o.injectable(),i(0,o.inject(c.IExtensionContext))],h),t.GitHubIssueCodeLensProvider=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(4),l=n(16),u=n(3),d=n(9),h=n(323),p=n(100),f=n(13),m=n(683),g=n(191);let v=class{constructor(e,t,n,r,i,o,a,c,l,u,d,h,p){this.asyncDisposables=e,this.disposables=t,this.notebookProvider=n,this.configService=r,this.errorHandler=i,this.editorProvider=o,this.appShell=a,this.fs=c,this.serverStorage=l,this.outputTracker=u,this.workspaceService=d,this.cellHashProviderFactory=h,this.notebook=p,this.kernelsByNotebook=new WeakMap,this.pendingDisposables=new Set,this._onDidRestartKernel=new s.EventEmitter,this._onDidDisposeKernel=new s.EventEmitter,this.asyncDisposables.push(this)}get kernels(){const e=new Set;return this.notebook.notebookDocuments.forEach(t=>{const n=this.get(t);n&&e.add(n)}),Array.from(e)}get onDidDisposeKernel(){return this._onDidDisposeKernel.event}get onDidRestartKernel(){return this._onDidRestartKernel.event}get(e){var t;return null===(t=this.kernelsByNotebook.get(e))||void 0===t?void 0:t.kernel}async dispose(){const e=Array.from(this.pendingDisposables.values());this.pendingDisposables.clear(),await Promise.all(e)}getOrCreate(e,t){const n=this.kernelsByNotebook.get(e);if(n&&n.options.metadata.id===t.metadata.id)return n.kernel;const r=e.notebookType===p.InteractiveWindowView?t.resourceUri:e.uri;this.disposeOldKernel(e);const i=this.configService.getSettings(r).jupyterLaunchTimeout,o=this.configService.getSettings(r).jupyterInterruptTimeout,s=new g.Kernel(e.uri,r,t.metadata,this.notebookProvider,this.disposables,i,o,this.errorHandler,this.editorProvider,this.appShell,this.fs,this.serverStorage,t.controller,this.configService,this.outputTracker,this.workspaceService,this.cellHashProviderFactory);return s.onRestarted(()=>this._onDidRestartKernel.fire(s),this,this.disposables),s.onDisposed(()=>this._onDidDisposeKernel.fire(s),this,this.disposables),this.asyncDisposables.push(s),this.kernelsByNotebook.set(e,{options:t,kernel:s}),this.deleteMappingIfKernelIsDisposed(e,s),s}deleteMappingIfKernelIsDisposed(e,t){t.onDisposed(()=>{var n;(null===(n=this.kernelsByNotebook.get(e))||void 0===n?void 0:n.kernel)===t&&(this.kernelsByNotebook.delete(e),c.traceInfo("Kernel got disposed, hence there is no longer a kernel associated with "+e.uri.toString(),t.notebookUri.toString()))},this,this.disposables)}disposeOldKernel(e){const t=this.kernelsByNotebook.get(e);t&&(this.pendingDisposables.add(t.kernel),t.kernel.dispose().catch(e=>c.traceWarning("Failed to dispose old kernel",e)).finally(()=>this.pendingDisposables.delete(t.kernel)).catch(d.noop)),this.kernelsByNotebook.delete(e)}};v=r([o.injectable(),i(0,o.inject(u.IAsyncDisposableRegistry)),i(1,o.inject(u.IDisposableRegistry)),i(2,o.inject(f.INotebookProvider)),i(3,o.inject(u.IConfigurationService)),i(4,o.inject(f.IDataScienceErrorHandler)),i(5,o.inject(f.INotebookEditorProvider)),i(6,o.inject(a.IApplicationShell)),i(7,o.inject(l.IFileSystem)),i(8,o.inject(f.IJupyterServerUriStorage)),i(9,o.inject(m.CellOutputDisplayIdTracker)),i(10,o.inject(a.IWorkspaceService)),i(11,o.inject(h.CellHashProviderFactory)),i(12,o.inject(a.IVSCodeNotebook))],v),t.KernelProvider=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyNotebookCellLanguageService=void 0;const o=n(0),s=n(1),a=n(7),c=n(14),l=n(4),u=n(3),d=n(9),h=n(54),p=n(24),f=n(232),m=n(115);let g=class{constructor(e,t,n){this.notebook=e,this.disposables=t,this.notebookControllerManager=n}async activate(){this.notebookControllerManager.onNotebookControllerSelected(this.onDidChangeNotebookController,this,this.disposables)}async onDidChangeNotebookController(e){const t=e.notebook,n=e.controller.connection;if(!p.isJupyterNotebook(t))return;if("startUsingDefaultKernel"===n.kind)return;const r=this.notebook.notebookEditors.find(e=>e.document===t);if(!r)return;const i=t.getCells().filter(e=>e.kind===s.NotebookCellKind.Code&&0===e.document.getText().trim().length),o=t.getCells().filter(e=>e.kind===s.NotebookCellKind.Code).length;if(0===i.length||i.length!==o)return;let a;const u=n.kind;switch(n.kind){case"connectToLiveKernel":a=n.kernelModel.language;break;case"startUsingKernelSpec":a=n.kernelSpec.language;break;case"startUsingPythonInterpreter":a=c.PYTHON_LANGUAGE;break;default:return void l.traceError("Unsupported kernel kind encountered "+u)}if(!a)return;const m=h.translateKernelLanguageToMonaco(a);f.chainWithPendingUpdates(r.document,async()=>{await i.map(async e=>{if(m.toLowerCase()!==e.document.languageId)return s.languages.setTextDocumentLanguage(e.document,m).then(d.noop,d.noop)})}).then(d.noop,d.noop)}};g=r([o.injectable(),i(0,o.inject(a.IVSCodeNotebook)),i(1,o.inject(u.IDisposableRegistry)),i(2,o.inject(m.INotebookControllerManager))],g),t.EmptyNotebookCellLanguageService=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookIntegration=t.HAS_EXTENSION_CONFIGURED_CELL_TOOLBAR_SETTING=void 0;const o=n(0),s=n(1),a=n(14),c=n(3),l=n(684);t.HAS_EXTENSION_CONFIGURED_CELL_TOOLBAR_SETTING="CELL_TOOLBAR_SETTING_MEMENTO_KEY";let u=class{constructor(e,t){this.disposables=e,this.completionProvider=t}async activate(){this.registerCompletionItemProvider()}registerCompletionItemProvider(){const e=s.languages.registerCompletionItemProvider({language:a.PYTHON_LANGUAGE,scheme:a.NotebookCellScheme},this.completionProvider,".",'"',"'",",");this.disposables.push(e)}};u=r([o.injectable(),i(0,o.inject(c.IDisposableRegistry)),i(1,o.inject(l.NotebookCompletionProvider))],u),t.NotebookIntegration=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.mapJupyterKind=void 0,n(15),function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.Snippet=25]="Snippet"}(r||(r={})),t.mapJupyterKind=new Map([["method",r.Method],["function",r.Function],["constructor",r.Constructor],["field",r.Field],["variable",r.Variable],["class",r.Class],["struct",r.Struct],["interface",r.Interface],["module",r.Module],["property",r.Property],["event",r.Event],["operator",r.Operator],["unit",r.Unit],["value",r.Value],["constant",r.Constant],["enum",r.Enum],["enumMember",r.EnumMember],["keyword",r.Keyword],["text",r.Text],["color",r.Color],["file",r.File],["reference",r.Reference],["customcolor",r.Customcolor],["folder",r.Folder],["typeParameter",r.TypeParameter],["snippet",r.Snippet],["<unknown>",r.Field]])},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntroduceNativeNotebookStartPage=t.IntroduceNativeNotebookDisplayed=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(10),u=n(9),d=n(24);t.IntroduceNativeNotebookDisplayed="JVSC_INTRO_NATIVE_NB_DISPLAYED";let h=class{constructor(e,t,n,r){this.appShell=e,this.memento=t,this.vscodeNotebook=n,this.disposables=r}async activate(){this.memento.get(t.IntroduceNativeNotebookDisplayed,!1)||(this.vscodeNotebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this,this.disposables),this.vscodeNotebook.notebookDocuments.length&&this.notify())}onDidOpenNotebookDocument(e){d.isJupyterNotebook(e)&&this.notify()}async notify(){if(this.messageDisplayed)return;this.messageDisplayed=!0,this.memento.update(t.IntroduceNativeNotebookDisplayed,!0).then(u.noop,u.noop);const e=l.DataScience.customizeLayout();switch(await this.appShell.showInformationMessage(l.DataScience.newNotebookUI(),e)){case e:s.commands.executeCommand("workbench.action.openSettings","@tag:notebookLayout").then(u.noop,u.noop)}}};h=r([o.injectable(),i(0,o.inject(a.IApplicationShell)),i(1,o.inject(c.IMemento)),i(1,o.named(c.GLOBAL_MEMENTO)),i(2,o.inject(a.IVSCodeNotebook)),i(3,o.inject(c.IDisposableRegistry))],h),t.IntroduceNativeNotebookStartPage=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookControllerManager=void 0;const o=n(0),s=n(1),a=n(1),c=n(7),l=n(4),u=n(3),d=n(32),h=n(5),p=n(22),f=n(56),m=n(74),g=n(337),v=n(13),y=n(24),b=n(1371),_=n(100),w=n(685),S=n(130),E=n(8),x=n(336),C=n(242),k=n(9),D=n(26),T=n(14),I=n(1487);let M=class{constructor(e,t,n,r,i,o,s,c,l,u,d,h,f,m,g,v,y,b,_,w){this.notebook=e,this.disposables=t,this.extensions=n,this.localKernelFinder=r,this.configuration=i,this.notebookProvider=o,this.commandManager=s,this.context=c,this.kernelProvider=l,this.preferredRemoteKernelIdProvider=u,this.remoteKernelFinder=d,this.pathUtils=h,this.widgetCoordinator=f,this.interpreterPackages=m,this.languageService=g,this.workspace=v,this.extensionChecker=y,this.docManager=b,this.pythonApi=_,this.appShell=w,this.registeredControllers=new Map,this._onNotebookControllerSelected=new a.EventEmitter,this.disposables.push(this._onNotebookControllerSelected),this.isLocalLaunch=p.isLocalLaunch(this.configuration)}async getInteractiveController(){return this.isLocalLaunch?this.createActiveInterpreterController(_.InteractiveWindowView):this.createDefaultRemoteControllerForInteractiveWindow()}get onNotebookControllerSelected(){return this._onNotebookControllerSelected.event}getSelectedNotebookController(e){return Array.from(this.registeredControllers.values()).find(t=>t.isAssociatedWithDocument(e))}activate(){this.notebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this,this.disposables),this.notebook.notebookDocuments.forEach(e=>this.onDidOpenNotebookDocument(e).catch(k.noop)),this.extensions.onDidChange(this.onDidChangeExtensions,this,this.disposables)}registeredNotebookControllers(){return Array.from(this.registeredControllers.values())}async loadNotebookControllers(){if(!this.controllersPromise){const e=new d.StopWatch;Promise.all([this.loadNotebookControllersImpl(!0,"ignoreCache"),this.loadNotebookControllersImpl(!1,"ignoreCache")]).catch(e=>console.error("Failed to fetch controllers without cache",e)),this.controllersPromise=Promise.all([this.loadNotebookControllersImpl(!0,"useCache"),this.loadNotebookControllersImpl(!1,"useCache")]).then(()=>k.noop()).catch(e=>{throw l.traceError("Error loading notebook controllers",e),e}).finally(()=>{C.sendKernelListTelemetry(s.Uri.file("test.ipynb"),Array.from(this.registeredControllers.values()).map(e=>e.connection),e),l.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,`Providing notebook controllers with length ${this.registeredControllers.size}.`)})}return this.controllersPromise}getOrCreateController(e,t){const n=p.createInterpreterKernelSpec(e),r={kind:"startUsingPythonInterpreter",kernelSpec:n,interpreter:e,id:p.getKernelId(n,e)};return this.createNotebookControllers([r]),this.registeredNotebookControllers().find(e=>e.controller.notebookType===t&&"startUsingPythonInterpreter"===e.connection.kind&&e.connection.id===r.id)}async createActiveInterpreterController(e){const t=await this.pythonApi.getApi(),n=await t.getActiveInterpreter();if(n)return this.getOrCreateController(n,e)}async createDefaultRemoteControllerForInteractiveWindow(){await this.loadNotebookControllers();const e=this.registeredNotebookControllers();if(0===e.length)return void l.traceError("No remote controllers");let t,n,r;return e.forEach(e=>{"startUsingKernelSpec"===e.connection.kind&&"python"===e.connection.kernelSpec.name?n=e:"startUsingKernelSpec"===e.connection.kind&&"python3"===e.connection.kernelSpec.name?t=e:"startUsingKernelSpec"===e.connection.kind&&e.connection.kernelSpec.language===T.PYTHON_LANGUAGE&&(r=e)}),t||n||r||e[0]}async loadNotebookControllersImpl(e,t){const n=new a.CancellationTokenSource;this.wasPythonInstalledWhenFetchingControllers=this.extensionChecker.isPythonExtensionInstalled;const r=await this.getKernelConnectionMetadata(e,n.token,t);this.createNotebookControllers(r),e||(r.some(e=>p.isPythonKernelConnection(e))?this.removeNoPythonControllers():this.regsiterNoPythonControllers())}removeNoPythonControllers(){var e,t;null===(e=this.notbeookNoPythonController)||void 0===e||e.dispose(),null===(t=this.interactiveNoPythonController)||void 0===t||t.dispose(),this.notbeookNoPythonController=void 0,this.interactiveNoPythonController=void 0}regsiterNoPythonControllers(){this.notbeookNoPythonController||(this.notbeookNoPythonController=new I.NoPythonKernelsNotebookController(_.JupyterNotebookView,this.notebook,this.commandManager,this.disposables,this.extensionChecker,this.appShell),this.interactiveNoPythonController=new I.NoPythonKernelsNotebookController(_.InteractiveWindowView,this.notebook,this.commandManager,this.disposables,this.extensionChecker,this.appShell),this.disposables.push(this.interactiveNoPythonController),this.disposables.push(this.notbeookNoPythonController))}async onDidChangeExtensions(){this.isLocalLaunch&&this.controllersPromise&&!this.wasPythonInstalledWhenFetchingControllers&&this.extensionChecker.isPythonExtensionInstalled&&(this.controllersPromise=void 0,await this.loadNotebookControllers())}async onDidOpenNotebookDocument(e){if(e.notebookType!==_.JupyterNotebookView&&e.notebookType!==_.InteractiveWindowView||!this.workspace.isTrusted)return;const t=new a.CancellationTokenSource,n=this.notebook.onDidCloseNotebookDocument(n=>n===e?t.cancel():void 0,this,this.disposables);l.traceInfoIf(T.isCI,"Clear controller mapping for "+e.uri.toString());const r=this.loadNotebookControllers();y.isPythonNotebook(y.getNotebookMetadata(e))&&this.extensionChecker.isPythonExtensionInstalled&&this.isLocalLaunch&&this.createActiveInterpreterController(_.JupyterNotebookView).catch(k.noop);try{let i;if(e.notebookType===_.JupyterNotebookView){if(this.isLocalLaunch)i=await this.localKernelFinder.findKernel(e.uri,y.getNotebookMetadata(e),t.token);else{await this.updateRemoteConnections(t.token);const n=await this.notebookProvider.connect({getOnly:!1,resource:e.uri,disableUI:!1,localOnly:!1});i=await this.remoteKernelFinder.findKernel(e.uri,n,y.getNotebookMetadata(e),t.token)}if(t.token.isCancellationRequested)return void l.traceInfo("Find preferred kernel cancelled");if(!i)return void l.traceInfoIf(T.isCI,"PreferredConnection not found for NotebookDocument: "+e.uri.toString());l.traceInfo(`PreferredConnection: ${i.id} found for NotebookDocument: ${e.uri.toString()}`)}await r;const o=Array.from(this.registeredControllers.values()).find(e=>(null==i?void 0:i.id)===e.connection.id);o?(l.traceInfo(`TargetController found ID: ${o.id} for document ${e.uri.toString()}`),await o.updateNotebookAffinity(e,s.NotebookControllerAffinity.Preferred)):l.traceInfoIf(T.isCI,`TargetController not found ID: ${null==i?void 0:i.id} for document ${e.uri.toString()}`)}catch(e){l.traceError("Failed to find & set preferred controllers",e)}finally{n.dispose()}}createNotebookControllers(e){const t=e.map(e=>({connection:e,label:p.getDisplayNameOrNameOfKernelConnection(e)}));t.sort((e,t)=>e.label>t.label?1:e.label===t.label?0:-1),t.forEach(e=>{this.createNotebookController(e.connection,e.label)})}createNotebookController(e,t){try{[[e.id,_.JupyterNotebookView],[e.id+" (Interactive)",_.InteractiveWindowView]].filter(([e])=>!this.registeredControllers.has(e)).forEach(([n,r])=>{const i=new b.VSCodeNotebookController(e,n,r,t,this.notebook,this.commandManager,this.kernelProvider,this.preferredRemoteKernelIdProvider,this.context,this.pathUtils,this.disposables,this.languageService,this.workspace,this.isLocalLaunch?"local":"remote",this.interpreterPackages,this.configuration,this.widgetCoordinator,this.docManager);i.onNotebookControllerSelected(this.handleOnNotebookControllerSelected,this,this.disposables),this.disposables.push(i),this.registeredControllers.set(i.id,i)})}catch(t){E.sendTelemetryEvent(h.Telemetry.FailedToCreateNotebookController,void 0,{kind:e.kind},t,!0),l.traceError("Failed to create notebook controller for "+e.id,t)}}async handleOnNotebookControllerSelected(e){this._onNotebookControllerSelected.fire(e)}async getKernelConnectionMetadata(e,t,n="ignoreCache"){if(this.isLocalLaunch)return e?this.localKernelFinder.listNonPythonKernels(t,n):this.localKernelFinder.listKernels(void 0,t,n);{if(e)return[];const n=await this.notebookProvider.connect({getOnly:!1,resource:void 0,disableUI:!1,localOnly:!1});return this.remoteKernelFinder.listKernels(void 0,n,t)}}async updateRemoteConnections(e){await this.loadNotebookControllers();const t=await this.getKernelConnectionMetadata(!1,e);if(e.isCancellationRequested)return l.traceInfo("Cancelled loading notebook controllers"),[];const n=t.filter(e=>!this.registeredControllers.has(e.id)),r=Array.from(this.registeredControllers.values()).filter(e=>!t.some(t=>t.id===e.connection.id));if(n.length>0){n.map(e=>({connection:e,label:p.getDisplayNameOrNameOfKernelConnection(e)})).forEach(e=>{this.createNotebookController(e.connection,e.label)})}r.forEach(e=>{this.registeredControllers.delete(e.id),l.traceInfoIf(T.isCI,"Disposing controller "+e.id),e.dispose()})}};M=r([o.injectable(),i(0,o.inject(c.IVSCodeNotebook)),i(1,o.inject(u.IDisposableRegistry)),i(2,o.inject(u.IExtensions)),i(3,o.inject(m.ILocalKernelFinder)),i(4,o.inject(u.IConfigurationService)),i(5,o.inject(v.INotebookProvider)),i(6,o.inject(c.ICommandManager)),i(7,o.inject(u.IExtensionContext)),i(8,o.inject(f.IKernelProvider)),i(9,o.inject(g.PreferredRemoteKernelIdProvider)),i(10,o.inject(m.IRemoteKernelFinder)),i(11,o.inject(u.IPathUtils)),i(12,o.inject(w.NotebookIPyWidgetCoordinator)),i(13,o.inject(S.InterpreterPackages)),i(14,o.inject(x.NotebookCellLanguageService)),i(15,o.inject(c.IWorkspaceService)),i(16,o.inject(D.IPythonExtensionChecker)),i(17,o.inject(c.IDocumentManager)),i(18,o.inject(D.IPythonApiProvider)),i(19,o.inject(c.IApplicationShell))],M),t.NotebookControllerManager=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeNotebookController=void 0;const r=n(6),i=n(1),o=n(14),s=n(99),a=n(4),c=n(9),l=n(138),u=n(54),d=n(5),h=n(73),p=n(22),f=n(55),m=n(100),g=n(24);class v{constructor(e,t,n,r,o,s,a,c,l,u,d,h,f,m,g,v,y,b){this.kernelConnection=e,this.notebookApi=o,this.commandManager=s,this.kernelProvider=a,this.preferredRemoteKernelIdProvider=c,this.context=l,this.pathUtils=u,this.languageService=h,this.workspace=f,this.localOrRemoteKernel=m,this.interpreterPackages=g,this.configuration=v,this.widgetCoordinator=y,this.documentManager=b,this.disposables=[],this.notebookKernels=new WeakMap,this.isDisposed=!1,this.associatedDocuments=new WeakSet,d.push(this),this._onNotebookControllerSelected=new i.EventEmitter,this.controller=this.notebookApi.createNotebookController(t,n,r,this.handleExecution.bind(this),this.getRendererScripts()),this.controller.interruptHandler=this.handleInterrupt.bind(this),this.controller.description=p.getDescriptionOfKernelConnection(e),this.controller.detail=p.getDetailOfKernelConnection(e,this.pathUtils),this.controller.supportsExecutionOrder=!0,this.controller.supportedLanguages=this.languageService.getSupportedLanguages(e),this.controller.onDidChangeSelectedNotebooks(this.onDidChangeSelectedNotebooks,this,this.disposables)}get id(){return this.controller.id}get label(){return this.controller.label}get connection(){return this.kernelConnection}get onNotebookControllerSelected(){return this._onNotebookControllerSelected.event}get onDidReceiveMessage(){return this.controller.onDidReceiveMessage}isAssociatedWithDocument(e){return this.associatedDocuments.has(e)}asWebviewUri(e){return this.controller.asWebviewUri(e)}postMessage(e,t){const n=e&&"message"in e?e.message:"";return a.traceInfoIf(o.isCI,`${l.ConsoleForegroundColors.Green}Posting message to Notebook UI ${n}`),this.controller.postMessage(e,t)}dispose(){this.isDisposed||(this.isDisposed=!0,this._onNotebookControllerSelected.dispose(),this.controller.dispose()),s.disposeAllDisposables(this.disposables)}async updateNotebookAffinity(e,t){a.traceInfo(`Setting controller affinity for ${e.uri.toString()} ${this.id}`),this.controller.updateNotebookAffinity(e,t),this.context.extensionMode===i.ExtensionMode.Test&&await this.setAsActiveControllerForTests(e)}async handleExecution(e,t){e.length<1?a.traceInfoIf(o.isCI,"No cells passed to handleExecution"):this.workspace.isTrusted&&(a.traceInfo(`Execute Cells request ${e.length} ${e.map(e=>e.index).join(", ")}`),await Promise.all(e.map(e=>this.executeCell(t,e))))}async onDidChangeSelectedNotebooks(e){this.associatedDocuments.has(e.notebook)&&e.selected||(e.selected?(g.isJupyterNotebook(e.notebook)||e.notebook.notebookType===m.InteractiveWindowView)&&this.workspace.isTrusted&&(a.traceInfoIf(o.isCI,`Notebook Controller set ${e.notebook.uri.toString()}, ${this.id}`),this.associatedDocuments.add(e.notebook),this.widgetCoordinator.setActiveController(e.notebook,this),await this.onDidSelectController(e.notebook),await this.updateCellLanguages(e.notebook),this._onNotebookControllerSelected.fire({notebook:e.notebook,controller:this})):this.associatedDocuments.delete(e.notebook))}async updateCellLanguages(e){const t=this.controller.supportedLanguages;if(!t||0===(null==t?void 0:t.length))return;const n=p.isPythonKernelConnection(this.kernelConnection)?o.PYTHON_LANGUAGE:t[0];await Promise.all(e.getCells().filter(e=>e.kind===i.NotebookCellKind.Code).map(async e=>{t.includes(e.document.languageId)||await i.languages.setTextDocumentLanguage(e.document,n).then(c.noop,c.noop)}))}getRendererScripts(){return[r.join(this.context.extensionPath,"out","datascience-ui","ipywidgetsKernel","require.js"),r.join(this.context.extensionPath,"out","ipywidgets","dist","ipywidgets.js"),r.join(this.context.extensionPath,"out","datascience-ui","ipywidgetsKernel","ipywidgetsKernel.js"),r.join(this.context.extensionPath,"out","fontAwesome","fontAwesomeLoader.js")].map(e=>new i.NotebookRendererScript(i.Uri.file(e)))}handleInterrupt(e){e.getCells().forEach(e=>g.traceCellMessage(e,"Cell cancellation requested")),this.commandManager.executeCommand(d.Commands.NotebookEditorInterruptKernel,e.uri).then(c.noop,e=>console.error(e))}executeCell(e,t){a.traceInfo(`Execute Cell ${t.index} ${t.notebook.uri.toString()}`);const n=this.kernelProvider.getOrCreate(t.notebook,{metadata:this.kernelConnection,controller:this.controller,resourceUri:e.uri});if(n)return this.updateKernelInfoInNotebookWhenAvailable(n,e),n.executeCell(t)}updateKernelInfoInNotebookWhenAvailable(e,t){if(this.notebookKernels.get(t)===e)return;let n;this.notebookKernels.set(t,e);const r=[];this.notebookApi.onDidCloseNotebookDocument(e=>{e===t&&s.disposeAllDisposables(r)},this,r);const i=()=>{const e=null==n?void 0:n.options.id;e&&(a.traceInfo("Updating preferred kernel for remote notebook "+e),this.preferredRemoteKernelIdProvider.storePreferredRemoteKernelId(t.uri,e).catch(c.noop))},o=e.onDisposed(()=>s.disposeAllDisposables(r)),l=e.kernelSocket.subscribe(e=>{n=e,i()}),u=e.onStatusChanged(async()=>{!e.disposed&&e.info&&this.associatedDocuments.has(t)&&(await g.updateNotebookDocumentMetadata(t,this.documentManager,e.kernelConnectionMetadata,e.info),"startUsingKernelSpec"===this.kernelConnection.kind&&"ok"===e.info.status?i():s.disposeAllDisposables(r))});r.push({dispose:()=>l.unsubscribe()}),r.push({dispose:()=>u.dispose()}),r.push({dispose:()=>null==o?void 0:o.dispose()})}async onDidSelectController(e){const t=this.connection,n=this.kernelProvider.get(e);if(n&&p.areKernelConnectionsEqual(n.kernelConnectionMetadata,t))return void a.traceInfo("Switch kernel did not change kernel.");switch(this.connection.kind){case"startUsingPythonInterpreter":u.sendNotebookOrKernelLanguageTelemetry(d.Telemetry.SwitchToExistingKernel,o.PYTHON_LANGUAGE);break;case"connectToLiveKernel":u.sendNotebookOrKernelLanguageTelemetry(d.Telemetry.SwitchToExistingKernel,this.connection.kernelModel.language);break;case"startUsingKernelSpec":u.sendNotebookOrKernelLanguageTelemetry(d.Telemetry.SwitchToExistingKernel,this.connection.kernelSpec.language)}if(f.trackKernelResourceInformation(e.uri,{kernelConnection:this.connection}),f.sendKernelTelemetryEvent(e.uri,d.Telemetry.SwitchKernel),n){const t="local"===this.localOrRemoteKernel?d.Telemetry.SelectLocalJupyterKernel:d.Telemetry.SelectRemoteJupyterKernel;f.sendKernelTelemetryEvent(e.uri,t),this.notebookApi.notebookEditors.filter(t=>t.document===e).forEach(e=>this.postMessage({message:h.IPyWidgetMessages.IPyWidgets_onKernelChanged,payload:void 0},e))}if(t.interpreter&&this.interpreterPackages.trackPackages(t.interpreter),await g.updateNotebookDocumentMetadata(e,this.documentManager,t),e.notebookType===m.InteractiveWindowView)return;const r=this.kernelProvider.getOrCreate(e,{metadata:t,controller:this.controller,resourceUri:e.uri});a.traceInfo("KernelProvider switched kernel to id = "+(null==r?void 0:r.kernelConnectionMetadata.id)),r&&!this.configuration.getSettings(void 0).disableJupyterAutoStart&&"local"===this.localOrRemoteKernel&&await r.start({disableUI:!0,document:e}).catch(c.noop)}async setAsActiveControllerForTests(e){this.context.extensionMode===i.ExtensionMode.Test&&e.notebookType===m.JupyterNotebookView&&(a.traceInfoIf(o.isCI,`Command notebook.selectKernel executing for ${e.uri.toString()} ${this.id}`),await this.commandManager.executeCommand("notebook.selectKernel",{id:this.id,extension:o.JVSC_EXTENSION_ID}),a.traceInfoIf(o.isCI,`Command notebook.selectKernel exected for ${e.uri.toString()} ${this.id}`),v.kernelAssociatedWithDocument=!0,this.associatedDocuments.has(e)||(this.associatedDocuments.add(e),this._onNotebookControllerSelected.fire({notebook:e,controller:this})))}}t.VSCodeNotebookController=v},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonMessageCoordinator=void 0;const o=n(0),s=n(324),a=n(1),c=n(7),l=n(14),u=n(4),d=n(16),h=n(39),p=n(3),f=n(10),m=n(9),g=n(33),v=n(138),y=n(8),b=n(68),_=n(5),w=n(73),S=n(13),E=n(510),x=n(1373);let C=r=class{constructor(e,t){this.identity=e,this.serviceContainer=t,this.cachedMessages=[],this.postEmitter=new a.EventEmitter,this.disposables=this.serviceContainer.get(p.IDisposableRegistry),this.jupyterOutput=this.serviceContainer.get(p.IOutputChannel,l.STANDARD_OUTPUT_CHANNEL),this.appShell=this.serviceContainer.get(c.IApplicationShell,c.IApplicationShell),this.commandManager=this.serviceContainer.get(c.ICommandManager)}get postMessage(){return this.listeningToPostMessageEvent=!0,this.postEmitter.event}static async create(e,t){const n=new r(e,t);return await n.initialize(),u.traceInfo("Created and initailized CommonMessageCoordinator"),n}dispose(){var e,t;null===(e=this.ipyWidgetMessageDispatcher)||void 0===e||e.dispose(),null===(t=this.ipyWidgetScriptSource)||void 0===t||t.dispose()}onMessage(e,t){var n,r;e===w.InteractiveWindowMessages.IPyWidgetLoadSuccess?this.sendLoadSucceededTelemetry(t):e===w.InteractiveWindowMessages.IPyWidgetLoadFailure?this.handleWidgetLoadFailure(t):e===w.InteractiveWindowMessages.IPyWidgetWidgetVersionNotSupported?this.sendUnsupportedWidgetVersionFailureTelemetry(t):e===w.InteractiveWindowMessages.IPyWidgetRenderFailure?this.sendRenderFailureTelemetry(t):e===w.InteractiveWindowMessages.IPyWidgetUnhandledKernelMessage&&this.handleUnhandledMessage(t),null===(n=this.getIPyWidgetMessageDispatcher())||void 0===n||n.receiveMessage({message:e,payload:t}),null===(r=this.getIPyWidgetScriptSource())||void 0===r||r.onMessage(e,t)}async initialize(){var e;u.traceInfo("initialize CommonMessageCoordinator");const t=null===(e=this.getIPyWidgetScriptSource())||void 0===e?void 0:e.initialize();await t.then(()=>{var e;return null===(e=this.getIPyWidgetMessageDispatcher())||void 0===e?void 0:e.initialize()})}sendLoadSucceededTelemetry(e){try{y.sendTelemetryEvent(_.Telemetry.IPyWidgetLoadSuccess,0,{moduleHash:b.getTelemetrySafeHashedString(e.moduleName),moduleVersion:e.moduleVersion})}catch(e){}}handleWidgetLoadFailure(e){try{let t=e.error.toString();if(e.isOnline){if(!e.cdnsUsed){const n=f.Common.moreInfo(),r=f.DataScience.enableCDNForWidgetsButton();t=f.DataScience.enableCDNForWidgetsSetting().format(e.moduleName,e.moduleVersion),this.appShell.showErrorMessage(t,r,n).then(e=>{switch(e){case n:this.appShell.openUrl("https://aka.ms/PVSCIPyWidgets");break;case r:this.commandManager.executeCommand(_.Commands.EnableLoadingWidgetsFrom3rdPartySource)}},m.noop)}}else t=f.DataScience.loadClassFailedWithNoInternet().format(e.moduleName,e.moduleVersion),this.appShell.showErrorMessage(t).then(m.noop,m.noop);u.traceError("Widget load failure "+t,e),y.sendTelemetryEvent(_.Telemetry.IPyWidgetLoadFailure,0,{isOnline:e.isOnline,moduleHash:b.getTelemetrySafeHashedString(e.moduleName),moduleVersion:e.moduleVersion,timedout:e.timedout})}catch(e){}}sendUnsupportedWidgetVersionFailureTelemetry(e){try{y.sendTelemetryEvent(_.Telemetry.IPyWidgetWidgetVersionNotSupportedLoadFailure,0,{moduleHash:b.getTelemetrySafeHashedString(e.moduleName),moduleVersion:e.moduleVersion})}catch(e){}}sendRenderFailureTelemetry(e){try{u.traceError("Error rendering a widget: ",e),y.sendTelemetryEvent(_.Telemetry.IPyWidgetRenderFailure)}catch(e){}}handleUnhandledMessage(e){if("status"!==e.header.msg_type)try{if("error"===e.header.msg_type){const t=e;t.content.traceback=t.content.traceback.map(s.default)}u.traceInfo(`Unhandled widget kernel message: ${e.header.msg_type} ${e.content}`),this.jupyterOutput.appendLine(f.DataScience.unhandledMessage().format(e.header.msg_type,JSON.stringify(e.content))),y.sendTelemetryEvent(_.Telemetry.IPyWidgetUnhandledMessage,void 0,{msg_type:e.header.msg_type})}catch(e){}}getIPyWidgetMessageDispatcher(){return this.ipyWidgetMessageDispatcher||(this.ipyWidgetMessageDispatcher=this.serviceContainer.get(E.IPyWidgetMessageDispatcherFactory).create(this.identity),this.disposables.push(this.ipyWidgetMessageDispatcher.postMessage(this.cacheOrSend,this))),this.ipyWidgetMessageDispatcher}getIPyWidgetScriptSource(){return this.ipyWidgetScriptSource||(this.ipyWidgetScriptSource=new x.IPyWidgetScriptSource(this.identity,this.serviceContainer.get(S.INotebookProvider),this.serviceContainer.get(p.IDisposableRegistry),this.serviceContainer.get(d.IFileSystem),this.serviceContainer.get(g.IInterpreterService),this.serviceContainer.get(p.IConfigurationService),this.serviceContainer.get(p.IHttpClient),this.serviceContainer.get(c.IApplicationShell),this.serviceContainer.get(c.IWorkspaceService),this.serviceContainer.get(p.IPersistentStateFactory),this.serviceContainer.get(p.IExtensionContext),this.serviceContainer.get(h.IPythonExecutionFactory)),this.disposables.push(this.ipyWidgetScriptSource.postMessage(this.cacheOrSend,this))),this.ipyWidgetScriptSource}cacheOrSend(e){if(!this.listeningToPostMessageEvent)return u.traceInfoIf(l.isCI,v.ConsoleForegroundColors.Green+"Queuing messages (no listenerts)"),void this.cachedMessages.push(e);this.cachedMessages.forEach(e=>this.postEmitter.fire(e)),this.cachedMessages=[],this.postEmitter.fire(e)}};C=r=i([o.injectable()],C),t.CommonMessageCoordinator=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetScriptSource=void 0;const r=n(180),i=n(6),o=n(1),s=n(4),a=n(19),c=n(129),l=n(138),u=n(8),d=n(5),h=n(73),p=n(1374),f=n(717);t.IPyWidgetScriptSource=class{constructor(e,t,n,r,a,c,l,u,d,h,p,f){this.identity=e,this.notebookProvider=t,this.fs=r,this.interpreterService=a,this.configurationSettings=c,this.httpClient=l,this.appShell=u,this.workspaceService=d,this.stateFactory=h,this.factory=f,this.resourcesMappedToExtensionFolder=new Map,this.postEmitter=new o.EventEmitter,this.disposables=[],this.pendingModuleRequests=new Map,this.uriConversionPromises=new Map,this._rootScriptFolder=i.join(p.extensionPath,"tmp","scripts"),this.targetWidgetScriptsFolder=i.join(this._rootScriptFolder,"nbextensions"),this.createTargetWidgetScriptsFolder=this.fs.localDirectoryExists(this.targetWidgetScriptsFolder).then(async e=>(e||await this.fs.createLocalDirectory(this.targetWidgetScriptsFolder),this.targetWidgetScriptsFolder)),n.push(this),this.notebookProvider.onNotebookCreated(e=>{e.identity.toString()===this.identity.toString()&&this.initialize().catch(s.traceError.bind("Failed to initialize"))},this,this.disposables)}get postMessage(){return this.postEmitter.event}get rootScriptFolder(){return o.Uri.file(this._rootScriptFolder)}async asWebviewUri(e){if(!this.isInScriptPath(e.fsPath)){if(this.identity&&!this.resourcesMappedToExtensionFolder.has(e.fsPath)){const t=a.createDeferred();this.resourcesMappedToExtensionFolder.set(e.fsPath,t.promise);try{const n=await this.fs.getFileHash(e.fsPath),a=f(r.sha256().update(`${e.fsPath}${n}`).digest("hex")),c=await this.createTargetWidgetScriptsFolder,l=o.Uri.file(i.join(c,`${a}${i.basename(e.fsPath)}`));await this.fs.localFileExists(l.fsPath)||await this.fs.copyLocal(e.fsPath,l.fsPath),s.traceInfo(`Widget Script file ${e.fsPath} mapped to ${l.fsPath}`),t.resolve(l)}catch(n){s.traceError("Failed to map widget Script file "+e.fsPath),t.reject(n)}}e=await this.resourcesMappedToExtensionFolder.get(e.fsPath)}const t=e.toString();return this.uriConversionPromises.has(t)||(this.uriConversionPromises.set(t,a.createDeferred()),this.postEmitter.fire({message:h.InteractiveWindowMessages.ConvertUriForUseInWebViewRequest,payload:e})),this.uriConversionPromises.get(t).promise}dispose(){for(var e;this.disposables.length;)null===(e=this.disposables.shift())||void 0===e||e.dispose()}onMessage(e,t){if(e===h.InteractiveWindowMessages.ConvertUriForUseInWebViewResponse){const e=t;e&&this.uriConversionPromises.get(e.request.toString())&&this.uriConversionPromises.get(e.request.toString()).resolve(e.response)}else if(e===h.IPyWidgetMessages.IPyWidgets_WidgetScriptSourceRequest&&t){const{moduleName:e,moduleVersion:n}=t;s.traceInfo(`${l.ConsoleForegroundColors.Green}Fetch Script for ${JSON.stringify(t)}`),this.sendWidgetSource(e,n).catch(s.traceError.bind(void 0,"Failed to send widget sources upon ready"))}}async initialize(){this.jupyterLab||(this.jupyterLab=n(89)),this.notebook||(this.notebook=await this.notebookProvider.getOrCreateNotebook({identity:this.identity,resource:this.identity,disableUI:!0,getOnly:!0})),this.notebook&&(this.scriptProvider||(this.scriptProvider=new p.IPyWidgetScriptSourceProvider(this.notebook,this,this.fs,this.interpreterService,this.appShell,this.configurationSettings,this.workspaceService,this.stateFactory,this.httpClient,this.factory),this.initializeNotebook(),s.traceInfo("IPyWidgetScriptSource.initialize")))}async sendWidgetSource(e,t="*"){if(!e||e.startsWith("@jupyter"))return;if(!this.notebook||!this.scriptProvider)return void this.pendingModuleRequests.set(e,t);let n={moduleName:e};try{s.traceInfo(`${l.ConsoleForegroundColors.Green}Fetch Script for ${e}`),n=await this.scriptProvider.getWidgetScriptSource(e,t)}catch(e){s.traceError("Failed to get widget source due to an error",e),u.sendTelemetryEvent(d.Telemetry.HashedIPyWidgetScriptDiscoveryError)}finally{s.traceInfo(`${l.ConsoleForegroundColors.Green}Script for ${e}, is ${n.scriptUri} from ${n.source}`),this.postEmitter.fire({message:h.IPyWidgetMessages.IPyWidgets_WidgetScriptSourceResponse,payload:n})}}initializeNotebook(){this.notebook&&(this.notebook.onDisposed(()=>this.dispose()),this.notebook.onKernelChanged(()=>{var e,t;(null===(e=this.notebook)||void 0===e?void 0:e.getMatchingInterpreter())&&(null===(t=this.notebook)||void 0===t?void 0:t.getMatchingInterpreter())===this.interpreterForWhichWidgetSourcesWereFetched||this.postEmitter.fire({message:h.IPyWidgetMessages.IPyWidgets_onKernelChanged,payload:void 0})},this,this.disposables),this.handlePendingRequests())}handlePendingRequests(){const e=Array.from(this.pendingModuleRequests.keys());for(;e.length;){const t=e.shift();if(t){const e=this.pendingModuleRequests.get(t);this.pendingModuleRequests.delete(t),this.sendWidgetSource(t,e).catch(s.traceError.bind("Failed to send WidgetScript for "+t))}}}isInScriptPath(e){const t=i.normalize(this._rootScriptFolder);return e=i.normalize(e),c.getOSType()===c.OSType.Windows?e.toUpperCase().startsWith(t.toUpperCase()):e.startsWith(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPyWidgetScriptSourceProvider=void 0;const r=n(1);n(15);const i=n(4),o=n(19),s=n(10),a=n(9),c=n(8),l=n(68),u=n(5),d=n(1375),h=n(1485),p=n(1486);t.IPyWidgetScriptSourceProvider=class{constructor(e,t,n,r,i,o,s,a,c,l){this.notebook=e,this.localResourceUriConverter=t,this.fs=n,this.interpreterService=r,this.appShell=i,this.configurationSettings=o,this.workspaceService=s,this.stateFactory=a,this.httpClient=c,this.factory=l,this.notifiedUserAboutWidgetScriptNotFound=new Set,this.userConfiguredCDNAtLeastOnce=this.stateFactory.createGlobalPersistentState("IPYWidgetCDNConfigured",!1),this.neverWarnAboutScriptsNotFoundOnCDN=this.stateFactory.createGlobalPersistentState("IPYWidgetNotFoundOnCDN",!1)}get configuredScriptSources(){return this.configurationSettings.getSettings(void 0).widgetScriptSources}initialize(){this.workspaceService.onDidChangeConfiguration(this.onSettingsChagned.bind(this))}dispose(){this.disposeScriptProviders()}async getWidgetScriptSource(e,t){await this.configureWidgets(),this.scriptProviders||this.rebuildProviders();const n=(this.scriptProviders||[]).slice();let r={moduleName:e};for(;n.length;){const i=n.shift();if(!i)continue;const o=await i.getWidgetScriptSource(e,t);if(o.scriptUri){r=o;break}}return c.sendTelemetryEvent(u.Telemetry.HashedIPyWidgetNameUsed,void 0,{hashedName:l.getTelemetrySafeHashedString(r.moduleName),source:r.source,cdnSearched:this.configuredScriptSources.length>0}),r.scriptUri||i.traceError(`Script source for Widget ${e}@${t} not found`),this.handleWidgetSourceNotFoundOnCDN(r).ignoreErrors(),r}async handleWidgetSourceNotFoundOnCDN(e){if("cdn"===e.source||!0===this.neverWarnAboutScriptsNotFoundOnCDN.value)return;if(this.notifiedUserAboutWidgetScriptNotFound.has(e.moduleName)||0===this.configuredScriptSources.length)return;this.notifiedUserAboutWidgetScriptNotFound.add(e.moduleName);switch(await this.appShell.showWarningMessage(s.DataScience.widgetScriptNotFoundOnCDNWidgetMightNotWork().format(e.moduleName),s.Common.ok(),s.Common.doNotShowAgain(),s.Common.reportThisIssue())){case s.Common.doNotShowAgain():return this.neverWarnAboutScriptsNotFoundOnCDN.updateValue(!0);case s.Common.reportThisIssue():return this.appShell.openUrl("https://aka.ms/CreatePVSCDataScienceIssue");default:a.noop()}}onSettingsChagned(e){e.affectsConfiguration("jupyter.widgetScriptSources")&&this.rebuildProviders()}disposeScriptProviders(){for(;this.scriptProviders&&this.scriptProviders.length;){const e=this.scriptProviders.shift();e&&e.dispose()}}rebuildProviders(){this.disposeScriptProviders();const e=[];this.configuredScriptSources.length>0&&e.push(new d.CDNWidgetScriptSourceProvider(this.configurationSettings,this.localResourceUriConverter,this.fs)),this.notebook.connection&&this.notebook.connection.localLaunch?e.push(new h.LocalWidgetScriptSourceProvider(this.notebook,this.localResourceUriConverter,this.fs,this.interpreterService,this.factory)):this.notebook.connection&&e.push(new p.RemoteWidgetScriptSourceProvider(this.notebook.connection,this.httpClient)),this.scriptProviders=e}async configureWidgets(){if(0!==this.configuredScriptSources.length)return;if(this.userConfiguredCDNAtLeastOnce.value)return;if(this.configurationPromise)return this.configurationPromise.promise;this.configurationPromise=o.createDeferred(),c.sendTelemetryEvent(u.Telemetry.IPyWidgetPromptToUseCDN);const e=await this.appShell.showInformationMessage(s.DataScience.useCDNForWidgets(),s.Common.ok(),s.Common.cancel(),s.Common.doNotShowAgain());let t="dismissed";switch(e){case s.Common.ok():t="ok",await Promise.all([this.updateScriptSources(["jsdelivr.com","unpkg.com"]),this.userConfiguredCDNAtLeastOnce.updateValue(!0)]);break;case s.Common.doNotShowAgain():t="doNotShowAgain",await Promise.all([this.updateScriptSources([]),this.userConfiguredCDNAtLeastOnce.updateValue(!0)]);break;default:t=e===s.Common.cancel()?"cancel":"dismissed"}c.sendTelemetryEvent(u.Telemetry.IPyWidgetPromptToUseCDNSelection,void 0,{selection:t}),this.configurationPromise.resolve()}async updateScriptSources(e){await this.configurationSettings.updateSetting("widgetScriptSources",e,void 0,r.ConfigurationTarget.Global)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CDNWidgetScriptSourceProvider=void 0;const r=n(1376),i=n(180),o=n(6),s=n(1),a=n(4),c=n(19),l=n(138),u=n(717);t.CDNWidgetScriptSourceProvider=class{constructor(e,t,n){this.configurationSettings=e,this.localResourceUriConverter=t,this.fs=n,this.cache=new Map}get cdnProviders(){return this.configurationSettings.getSettings(void 0).widgetScriptSources}dispose(){this.cache.clear()}async getWidgetScriptSource(e,t){const n=this.getModuleKey(e,t);return this.cache.get(n)||this.cache.set(n,this.getWidgetScriptSourceImplementation(e,t)),this.cache.get(n)}async getWidgetScriptSourceImplementation(e,t){const n=this.getModuleKey(e,t),r=o.join(this.localResourceUriConverter.rootScriptFolder.fsPath,n,"index.js");let i;if(a.traceInfo(`${l.ConsoleForegroundColors.Green}Searching for Widget Script ${e}#${t} at path: ${r}`),r&&await this.fs.localFileExists(r)){a.traceInfo(`${l.ConsoleForegroundColors.Green}Widget Script ${e}#${t} found at path: ${r}`);return{moduleName:e,scriptUri:(await this.localResourceUriConverter.asWebviewUri(s.Uri.file(r))).toString(),source:"cdn"}}try{if(a.traceInfo(`${l.ConsoleForegroundColors.Green}Widget Script ${e}#${t} searching`),await this.fs.createLocalDirectory(o.dirname(r)),i=await this.downloadFastestCDN(e,t),i){a.traceInfo(`${l.ConsoleForegroundColors.Green}Wiget ${e} successfully downloaded to temp file ${i.filePath}`),a.traceInfoIf(!!process.env.VSC_JUPYTER_FORCE_LOGGING,`Widget Script downloaded for ${e}:${t}, already downloaded ${await this.fs.localFileExists(r)}`),await this.fs.localFileExists(r)||(a.traceInfo(`${l.ConsoleForegroundColors.Green}Wiget ${e} being copied into ${r}`),await this.fs.copyLocal(i.filePath,r));const n=(await this.localResourceUriConverter.asWebviewUri(s.Uri.file(r))).toString();return a.traceInfo(`${l.ConsoleForegroundColors.Green}Wiget ${e} downloaded into ${n} from cdn (${r})`),{moduleName:e,scriptUri:n,source:"cdn"}}return{moduleName:e}}catch(t){return a.traceError("Error downloading from CDN: ",t),{moduleName:e}}finally{if(i)try{i.dispose()}catch(e){}}}async downloadFastestCDN(e,t){const n=c.createDeferred();return Promise.all(this.cdnProviders.map(r=>this.downloadFromCDN(e,t,r).then(e=>{!n.resolved&&e&&n.resolve(e)}))).then(e=>{n.resolved||n.resolve(void 0)}).ignoreErrors(),n.promise}async downloadFromCDN(e,t,n){const r=await this.generateDownloadUri(e,t,n);if(r)try{return await this.downloadFile(r)}catch(e){}}async generateDownloadUri(e,t,n){const r=function(e){switch(e){case"unpkg.com":return"https://unpkg.com/";case"jsdelivr.com":return"https://cdn.jsdelivr.net/npm/"}}(n);if(r)return function(e,t,n){let r=t,i="index",o=t.indexOf("/");return-1!==o&&"@"===t[0]&&(o=t.indexOf("/",o+1)),-1!==o&&(i=t.substr(o+1),r=t.substr(0,o)),"https://cdn.jsdelivr.net/npm/"===e&&(n.startsWith("^")&&(n=n.slice(1)),i.endsWith(".js")||(i=i.concat(".js"))),`${e}${r}@${n}/dist/${i}`}(r,e,t)}getModuleKey(e,t){return u(i.sha256().update(`${e}${t}`).digest("hex"))}async downloadFile(e){const t=await this.fs.createTemporaryLocalFile(".js");let n=5,i=!1;for(;n>0&&!i;)try{a.traceInfo(`${l.ConsoleForegroundColors.Green}Downloading from CDN ${e} into ${t.filePath}`),await r(e,o.dirname(t.filePath),{filename:o.basename(t.filePath)}),a.traceInfo(`${l.ConsoleForegroundColors.Green}Successfully downloaded from CDN ${e} into ${t.filePath}`),i=!0}catch(t){a.traceInfo(`Error downloading from ${e}: `,t)}finally{n-=1}if(i)return t;t.dispose()}}},function(e,t,n){"use strict";const r=n(25),i=n(6),{URL:o}=n(31),s=n(1377),a=n(1378),c=n(1380),l=n(1425),u=n(1429),d=n(1432),h=n(1473),p=n(716),f=n(1474),m=n(1475),g=n(1477),v=p(r),y=(e,t)=>{const n=e.headers["content-disposition"];if(n){const e=s.parse(n);if(e.parameters&&e.parameters.filename)return e.parameters.filename}let r=(e=>i.basename(new o(e.requestUrl).pathname))(e);if(!i.extname(r)){const n=(m(t)||{}).ext||(e=>{const t=e.headers["content-type"];if(!t)return null;const n=g.mime(t);return 1!==n.length?null:n[0].ext})(e);n&&(r=`${r}.${n}`)}return r};e.exports=(e,t,n)=>{"object"==typeof t&&(n=t,t=null),n=Object.assign({encoding:null,rejectUnauthorized:"false"!==process.env.npm_config_strict_ssl},n);const r=d.stream(e,n),o=f(r,"response").then(e=>{const t=null===n.encoding?"buffer":n.encoding;return Promise.all([u(r,{encoding:t}),e])}).then(e=>{const[r,o]=e;if(!t)return n.extract&&a(r)?c(r,n):r;const s=n.filename||l(y(o,r)),u=i.join(t,s);return n.extract&&a(r)?c(r,i.dirname(u),n):h(i.dirname(u)).then(()=>v.writeFile(u,r)).then(()=>r)});return r.then=o.then.bind(o),r.catch=o.catch.bind(o),r}},function(e,t,n){"use strict";
/*!
 * content-disposition
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=function(e,t){var n=t||{},i=n.type||"attachment",o=function(e,t){if(void 0===e)return;var n={};if("string"!=typeof e)throw new TypeError("filename must be a string");void 0===t&&(t=!0);if("string"!=typeof t&&"boolean"!=typeof t)throw new TypeError("fallback must be a string or boolean");if("string"==typeof t&&c.test(t))throw new TypeError("fallback must be ISO-8859-1 string");var i=r(e),o=h.test(i),a="string"!=typeof t?t&&v(i):r(t),l="string"==typeof a&&a!==i;(l||!o||s.test(i))&&(n["filename*"]=i);(o||l)&&(n.filename=l?a:i);return n}(e,n.fallback);return function(e){var t=e.parameters,n=e.type;if(!n||"string"!=typeof n||!p.test(n))throw new TypeError("invalid type");var r=String(n).toLowerCase();if(t&&"object"==typeof t)for(var i,o=Object.keys(t).sort(),s=0;s<o.length;s++){var a="*"===(i=o[s]).substr(-1)?w(t[i]):_(t[i]);r+="; "+i+"="+a}return r}(new S(i,o))},e.exports.parse=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=m.exec(e);if(!t)throw new TypeError("invalid type format");var n,r,i=t[0].length,o=t[1].toLowerCase(),s=[],a={};i=d.lastIndex=";"===t[0].substr(-1)?i-1:i;for(;t=d.exec(e);){if(t.index!==i)throw new TypeError("invalid parameter format");if(i+=t[0].length,n=t[1].toLowerCase(),r=t[2],-1!==s.indexOf(n))throw new TypeError("invalid duplicate parameter");s.push(n),n.indexOf("*")+1!==n.length?"string"!=typeof a[n]&&('"'===r[0]&&(r=r.substr(1,r.length-2).replace(l,"$1")),a[n]=r):(n=n.slice(0,-1),r=g(r),a[n]=r)}if(-1!==i&&i!==e.length)throw new TypeError("invalid parameter format");return new S(o,a)};var r=n(6).basename,i=n(34).Buffer,o=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,s=/%[0-9A-Fa-f]{2}/,a=/%([0-9A-Fa-f]{2})/g,c=/[^\x20-\x7e\xa0-\xff]/g,l=/\\([\u0000-\u007f])/g,u=/([\\"])/g,d=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,h=/^[\x20-\x7e\x80-\xff]+$/,p=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,f=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,m=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function g(e){var t=f.exec(e);if(!t)throw new TypeError("invalid extended field value");var n,r=t[1].toLowerCase(),o=t[2].replace(a,y);switch(r){case"iso-8859-1":n=v(o);break;case"utf-8":n=i.from(o,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function v(e){return String(e).replace(c,"?")}function y(e,t){return String.fromCharCode(parseInt(t,16))}function b(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function _(e){return'"'+String(e).replace(u,"\\$1")+'"'}function w(e){var t=String(e);return"UTF-8''"+encodeURIComponent(t).replace(o,b)}function S(e,t){this.type=e,this.parameters=t}},function(e,t,n){"use strict";const r=n(1379),i=new Set(["7z","bz2","gz","rar","tar","zip","xz","gz"]);e.exports=e=>{const t=r(e);return i.has(t&&t.ext)?t:null}},function(e,t,n){"use strict";e.exports=e=>{const t=new Uint8Array(e);if(!(t&&t.length>1))return null;const n=(e,n)=>{n=Object.assign({offset:0},n);for(let r=0;r<e.length;r++)if(e[r]!==t[r+n.offset])return!1;return!0};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])&&n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n([80,75,3,4])&&n([77,69,84,65,45,73,78,70,47,109,111,122,105,108,108,97,46,114,115,97],{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([0,0,0])&&(24===t[3]||32===t[3])&&n([102,116,121,112],{offset:4})||n([51,103,112,53])||n([0,0,0,28,102,116,121,112,109,112,52,50])&&n([109,112,52,49,109,112,52,50,105,115,111,109],{offset:16})||n([0,0,0,28,102,116,121,112,105,115,111,109])||n([0,0,0,28,102,116,121,112,109,112,52,50,0,0,0,0]))return{ext:"mp4",mime:"video/mp4"};if(n([0,0,0,28,102,116,121,112,77,52,86]))return{ext:"m4v",mime:"video/x-m4v"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){const e=t.subarray(4,4100),n=e.findIndex((e,t,n)=>66===n[t]&&130===n[t+1]);if(n>=0){const t=n+3,r=n=>Array.from(n).every((n,r)=>e[t+r]===n.charCodeAt(0));if(r("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(r("webm"))return{ext:"webm",mime:"video/webm"}}}return n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4})?{ext:"mov",mime:"video/quicktime"}:n([82,73,70,70])&&n([65,86,73],{offset:8})?{ext:"avi",mime:"video/x-msvideo"}:n([48,38,178,117,142,102,207,17,166,217])?{ext:"wmv",mime:"video/x-ms-wmv"}:n([0,0,1,186])?{ext:"mpg",mime:"video/mpeg"}:n([73,68,51])||n([255,251])?{ext:"mp3",mime:"audio/mpeg"}:n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:n([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:n([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:n([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:n([82,73,70,70])&&n([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:n([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:n([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:n([77,90])?{ext:"exe",mime:"application/x-msdownload"}:67!==t[0]&&70!==t[0]||!n([87,83],{offset:1})?n([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:n([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff",mime:"application/font-woff"}:n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"application/font-woff"}:n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:n([0,1,0,0,0])?{ext:"ttf",mime:"application/font-sfnt"}:n([79,84,84,79,0])?{ext:"otf",mime:"application/font-sfnt"}:n([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:n([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:n([37,33])?{ext:"ps",mime:"application/postscript"}:n([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:n([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:n([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:n([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:n([77,83,67,70])||n([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:n([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:n([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:n([31,160])||n([31,157])?{ext:"Z",mime:"application/x-compress"}:n([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:n([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:n([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}}},function(e,t,n){"use strict";const r=n(6),i=n(36),o=n(338),s=n(1396),a=n(1407),c=n(1409),l=n(1420),u=n(1422),d=n(1423),h=u(i),p=(e,t)=>h.realpath(e).catch(n=>{const i=r.dirname(e);return p(i,t)}).then(n=>{if(0!==n.indexOf(t))throw new Error("Refusing to create a directory outside the output path.");return l(e).then(h.realpath)}),f=(e,t,n)=>((e,t)=>0===t.plugins.length?Promise.resolve([]):Promise.all(t.plugins.map(n=>n(e,t))).then(e=>e.reduce((e,t)=>e.concat(t))))(e,n).then(e=>(n.strip>0&&(e=e.map(e=>(e.path=d(e.path,n.strip),e)).filter(e=>"."!==e.path)),"function"==typeof n.filter&&(e=e.filter(n.filter)),"function"==typeof n.map&&(e=e.map(n.map)),t?Promise.all(e.map(e=>{const n=r.join(t,e.path),i=e.mode&~process.umask(),o=new Date;return"directory"===e.type?l(t).then(e=>h.realpath(e)).then(e=>p(n,e)).then(()=>h.utimes(n,o,e.mtime)).then(()=>e):l(t).then(e=>h.realpath(e)).then(e=>p(r.dirname(n),e).then(()=>e)).then(t=>"file"===e.type?((e,t)=>h.readlink(e).catch(e=>null).then(e=>{if(e)throw new Error("Refusing to write into a symlink");return t}))(n,t):t).then(e=>h.realpath(r.dirname(n)).then(t=>{if(0!==t.indexOf(e))throw new Error("Refusing to write outside output directory: "+t)})).then(()=>"link"===e.type||"symlink"===e.type&&"win32"===process.platform?h.link(e.linkname,n):"symlink"===e.type?h.symlink(e.linkname,n):h.writeFile(n,e.data,{mode:i})).then(()=>"file"===e.type&&h.utimes(n,o,e.mtime)).then(()=>e)})):e));e.exports=(e,t,n)=>{if("string"!=typeof e&&!Buffer.isBuffer(e))return Promise.reject(new TypeError("Input file required"));"object"==typeof t&&(n=t,t=null),n=Object.assign({plugins:[o(),s(),a(),c()]},n);return("string"==typeof e?h.readFile(e):Promise.resolve(e)).then(e=>f(e,t,n))}},function(e,t,n){"use strict";e.exports=e=>{const t=new Uint8Array(e);if(!(t&&t.length>1))return null;const n=(e,n)=>{n=Object.assign({offset:0},n);for(let r=0;r<e.length;r++)if(e[r]!==t[r+n.offset])return!1;return!0};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])&&n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n([80,75,3,4])&&n([77,69,84,65,45,73,78,70,47,109,111,122,105,108,108,97,46,114,115,97],{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([0,0,0])&&(24===t[3]||32===t[3])&&n([102,116,121,112],{offset:4})||n([51,103,112,53])||n([0,0,0,28,102,116,121,112,109,112,52,50])&&n([109,112,52,49,109,112,52,50,105,115,111,109],{offset:16})||n([0,0,0,28,102,116,121,112,105,115,111,109])||n([0,0,0,28,102,116,121,112,109,112,52,50,0,0,0,0]))return{ext:"mp4",mime:"video/mp4"};if(n([0,0,0,28,102,116,121,112,77,52,86]))return{ext:"m4v",mime:"video/x-m4v"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){const e=t.subarray(4,4100),n=e.findIndex((e,t,n)=>66===n[t]&&130===n[t+1]);if(n>=0){const t=n+3,r=n=>Array.from(n).every((n,r)=>e[t+r]===n.charCodeAt(0));if(r("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(r("webm"))return{ext:"webm",mime:"video/webm"}}}return n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4})?{ext:"mov",mime:"video/quicktime"}:n([82,73,70,70])&&n([65,86,73],{offset:8})?{ext:"avi",mime:"video/x-msvideo"}:n([48,38,178,117,142,102,207,17,166,217])?{ext:"wmv",mime:"video/x-ms-wmv"}:n([0,0,1,186])?{ext:"mpg",mime:"video/mpeg"}:n([73,68,51])||n([255,251])?{ext:"mp3",mime:"audio/mpeg"}:n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:n([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:n([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:n([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:n([82,73,70,70])&&n([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:n([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:n([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:n([77,90])?{ext:"exe",mime:"application/x-msdownload"}:67!==t[0]&&70!==t[0]||!n([87,83],{offset:1})?n([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:n([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff",mime:"font/woff"}:n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"font/woff2"}:n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:n([0,1,0,0,0])?{ext:"ttf",mime:"font/ttf"}:n([79,84,84,79,0])?{ext:"otf",mime:"font/otf"}:n([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:n([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:n([37,33])?{ext:"ps",mime:"application/postscript"}:n([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:n([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:n([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:n([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:n([77,83,67,70])||n([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:n([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:n([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:n([31,160])||n([31,157])?{ext:"Z",mime:"application/x-compress"}:n([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:n([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:n([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:n([66,80,71,251])?{ext:"bpg",mime:"image/bpg"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}}},function(e,t,n){t.extract=n(1383),t.pack=n(1394)},function(e,t,n){var r=n(18),i=n(1384),o=n(1389),s=n(692),a=n(244).Writable,c=n(244).PassThrough,l=function(){},u=function(e){return(e&=511)&&512-e},d=function(e,t){this._parent=e,this.offset=t,c.call(this)};r.inherits(d,c),d.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);a.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=l,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},c=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},p=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,f):t._parse(512,b),t._locked||r()},f=function(){t._buffer.consume(u(t._header.size)),t._parse(512,b),r()},m=function(){var e=t._header.size;t._paxGlobal=s.decodePax(n.slice(0,e)),n.consume(e),p()},g=function(){var e=t._header.size;t._pax=s.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=o(t._paxGlobal,t._pax)),n.consume(e),p()},v=function(){var r=t._header.size;this._gnuLongPath=s.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),p()},y=function(){var r=t._header.size;this._gnuLongLinkPath=s.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),p()},b=function(){var i,o=t._offset;try{i=t._header=s.decode(n.slice(0,512),e.filenameEncoding)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,v),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void r()):"pax-global-header"===i.type?(t._parse(i.size,m),void r()):"pax-header"===i.type?(t._parse(i.size,g),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new d(t,o),t.emit("entry",i,t._stream,c),t._parse(i.size,p),void r()):(t._parse(512,b),void t.emit("entry",i,function(e,t){var n=new d(e,t);return n.end(),n}(t,o),c))):(t._parse(512,b),void r())};this._onheader=b,this._parse(512,b)};r.inherits(h,a),h.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},h.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},h.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=l,this._overflow?this._write(this._overflow,void 0,e):e()}},h.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),r?r.end(e):i.append(e),this._overflow=s,this._onparse()}},h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=h},function(e,t,n){var r=n(1385),i=n(18),o=n(34).Buffer;function s(e){if(!(this instanceof s))return new s(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)}))}else this.append(e);r.call(this)}i.inherits(s,r),s.prototype._offset=function(e){var t,n=0,r=0;if(0===e)return[0,0];for(;r<this._bufs.length;r++){if(e<(t=n+this._bufs[r].length)||r==this._bufs.length-1)return[r,e-n];n=t}},s.prototype.append=function(e){var t=0;if(o.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof s)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(o.from(e)));return this},s.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},s.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype.get=function(e){return this.slice(e,e+1)[0]},s.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},s.prototype.copy=function(e,t,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return e||o.alloc(0);if(r<=0)return e||o.alloc(0);var i,s,a=!!e,c=this._offset(n),l=r-n,u=l,d=a&&t||0,h=c[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:o.concat(this._bufs,this.length);for(s=0;s<this._bufs.length;s++)this._bufs[s].copy(e,d),d+=this._bufs[s].length;return e}if(u<=this._bufs[c[0]].length-h)return a?this._bufs[c[0]].copy(e,t,h,h+u):this._bufs[c[0]].slice(h,h+u);for(a||(e=o.allocUnsafe(l)),s=c[0];s<this._bufs.length;s++){if(!(u>(i=this._bufs[s].length-h))){this._bufs[s].copy(e,d,h,h+u),d+=i;break}this._bufs[s].copy(e,d,h),d+=i,u-=i,h&&(h=0)}return e.length>d?e.slice(0,d):e},s.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0==r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!=n[1]&&(i[0]=i[0].slice(n[1])),new s(i)},s.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},s.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){for(var e=0,t=new s;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},s.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){s.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),e.exports=s},function(e,t,n){e.exports=n(1386).Duplex},function(e,t,n){var r=n(17);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(686)).Stream=r||t,t.Readable=t,t.Writable=n(689),t.Duplex=n(153),t.Transform=n(691),t.PassThrough=n(1388))},function(e,t,n){"use strict";var r=n(34).Buffer,i=n(18);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";e.exports=o;var r=n(691),i=Object.create(n(42));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(27),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){var n=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var e=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return e.fill("ab","ucs2"),"61006200"===e.toString("hex")}catch(e){return!1}}();function r(e,t,n,r){if(n<0||r>e.length)throw new RangeError("Out of range index");return n>>>=0,(r=void 0===r?e.length:r>>>0)>n&&e.fill(t,n,r),e}e.exports=function(e,t,i,o,s){if(n)return e.fill(t,i,o,s);if("number"==typeof t)return r(e,t,i,o);if("string"==typeof t){if("string"==typeof i?(s=i,i=0,o=e.length):"string"==typeof o&&(s=o,o=e.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("latin1"===s&&(s="binary"),"string"==typeof s&&!Buffer.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(""===t)return r(e,0,i,o);if(function(e){return 1===e.length&&e.charCodeAt(0)<256}(t))return r(e,t.charCodeAt(0),i,o);t=new Buffer(t,s)}return Buffer.isBuffer(t)?function(e,t,n,r){if(n<0||r>e.length)throw new RangeError("Out of range index");if(r<=n)return e;n>>>=0,r=void 0===r?e.length:r>>>0;for(var i=n,o=t.length;i<=r-o;)t.copy(e,i),i+=o;return i!==r&&t.copy(e,i,0,r-i),e}(e,t,i,o):r(e,0,i,o)}},function(e,t){e.exports=function(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e)}},function(e,t,n){"use strict";var r=n(34).Buffer,i=n(18);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";e.exports=o;var r=n(700),i=Object.create(n(42));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(27),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(1395),i=n(701),o=n(18),s=n(694),a=n(693),c=n(244).Readable,l=n(244).Writable,u=n(212).StringDecoder,d=n(692),h=parseInt("755",8),p=parseInt("644",8),f=s(1024),m=function(){},g=function(e,t){(t&=511)&&e.push(f.slice(0,512-t))};var v=function(e){l.call(this),this.written=0,this._to=e,this._destroyed=!1};o.inherits(v,l),v.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){l.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o.inherits(y,l),y.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(){l.call(this),this._destroyed=!1};o.inherits(b,l),b.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},b.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(e){if(!(this instanceof _))return new _(e);c.call(this,e),this._drain=m,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o.inherits(_,c),_.prototype.entry=function(e,t,n){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(n=t,t=null),n||(n=m);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?h:p),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=a(t)),Buffer.isBuffer(t))return e.size=t.length,this._encode(e),this.push(t),g(o,e.size),process.nextTick(n),new b;if("symlink"===e.type&&!e.linkname){var s=new y;return i(s,(function(t){if(t)return o.destroy(),n(t);e.linkname=s.linkname,o._encode(e),n()})),s}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(n),new b;var c=new v(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),n(t)):c.written!==e.size?(o.destroy(),n(new Error("size mismatch"))):(g(o,e.size),o._finalizing&&o.finalize(),void n())})),c}},_.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(f),this.push(null))},_.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},_.prototype._encode=function(e){if(!e.pax){var t=d.encode(e);if(t)return void this.push(t)}this._encodePax(e)},_.prototype._encodePax=function(e){var t=d.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(d.encode(n)),this.push(t),g(this,t.length),n.size=e.size,n.type=e.type,this.push(d.encode(n))},_.prototype._read=function(e){var t=this._drain;this._drain=m,t()},e.exports=_},function(e,t,n){e.exports=n(25).constants||n(222)},function(e,t,n){"use strict";const r=n(338),i=n(1397),o=n(179),s=n(1398),a=n(1403);e.exports=()=>e=>Buffer.isBuffer(e)||o(e)?!Buffer.isBuffer(e)||i(e)&&"bz2"===i(e).ext?Buffer.isBuffer(e)?r()(s.decode(e)):r()(e.pipe(a())):Promise.resolve([]):Promise.reject(new TypeError("Expected a Buffer or Stream, got "+typeof e))},function(e,t,n){"use strict";const r=e=>Array.from(e).map(e=>e.charCodeAt(0)),i=r("META-INF/mozilla.rsa"),o=r("[Content_Types].xml"),s=r("_rels/.rels");e.exports=e=>{const t=new Uint8Array(e);if(!(t&&t.length>1))return null;const n=(e,n)=>{n=Object.assign({offset:0},n);for(let r=0;r<e.length;r++)if(n.mask){if(e[r]!==(n.mask[r]&t[r+n.offset]))return!1}else if(e[r]!==t[r+n.offset])return!1;return!0};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(i,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n(o,{offset:30})||n(s,{offset:30})){const e=e=>e.findIndex((e,t,n)=>80===n[t]&&75===n[t+1]&&3===n[t+2]&&4===n[t+3]),i=e(t.subarray(4,2004));if(-1!==i){const o=e(t.subarray(i+8,i+8+1e3));if(-1!==o){const e=8+i+o+30;if(n(r("word/"),{offset:e}))return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};if(n(r("ppt/"),{offset:e}))return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};if(n(r("xl/"),{offset:e}))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}}}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){const e=t.subarray(4,4100),n=e.findIndex((e,t,n)=>66===n[t]&&130===n[t+1]);if(-1!==n){const t=n+3,r=n=>Array.from(n).every((n,r)=>e[t+r]===n.charCodeAt(0));if(r("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(r("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])&&n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/x-msvideo"};if(n([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(n([0,0,1,186]))return{ext:"mpg",mime:"video/mpeg"};for(let e=0;e<2&&e<t.length-16;e++)if(n([73,68,51],{offset:e})||n([255,226],{offset:e,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};return n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:n([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:n([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:n([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:n([82,73,70,70])&&n([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:n([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:n([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:n([77,90])?{ext:"exe",mime:"application/x-msdownload"}:67!==t[0]&&70!==t[0]||!n([87,83],{offset:1})?n([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:n([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff",mime:"font/woff"}:n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"font/woff2"}:n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:n([0,1,0,0,0])?{ext:"ttf",mime:"font/ttf"}:n([79,84,84,79,0])?{ext:"otf",mime:"font/otf"}:n([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:n([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:n([37,33])?{ext:"ps",mime:"application/postscript"}:n([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:n([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:n([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:n([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:n([77,83,67,70])||n([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:n([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:n([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:n([31,160])||n([31,157])?{ext:"Z",mime:"application/x-compress"}:n([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:n([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:n([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:n([66,80,71,251])?{ext:"bpg",mime:"image/bpg"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}}},function(e,t,n){var r=n(1399),i=n(1400),o=n(1401),s=n(1402),a=function(e,t){var n,r=e[t];for(n=t;n>0;n--)e[n]=e[n-1];return e[0]=r,r},c={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},l={};l[c.LAST_BLOCK]="Bad file checksum",l[c.NOT_BZIP_DATA]="Not bzip data",l[c.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",l[c.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",l[c.DATA_ERROR]="Data error",l[c.OUT_OF_MEMORY]="Out of memory",l[c.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var u=function(e,t){var n=l[e]||"unknown error";t&&(n+=": "+t);var r=new TypeError(n);throw r.errorCode=e,r},d=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};d.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new o,!0):(this.writeCount=-1,!1)},d.prototype._start_bunzip=function(e,t){var n=new Buffer(4);4===e.read(n,0,4)&&"BZh"===String.fromCharCode(n[0],n[1],n[2])||u(c.NOT_BZIP_DATA,"bad magic");var i=n[3]-48;(i<1||i>9)&&u(c.NOT_BZIP_DATA,"level out of range"),this.reader=new r(e),this.dbufSize=1e5*i,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},d.prototype._get_next_block=function(){var e,t,n,r=this.reader,i=r.pi();if("177245385090"===i)return!1;"314159265359"!==i&&u(c.NOT_BZIP_DATA),this.targetBlockCRC=r.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,r.read(1)&&u(c.OBSOLETE_INPUT);var o=r.read(24);o>this.dbufSize&&u(c.DATA_ERROR,"initial position out of bounds");var s=r.read(16),l=new Buffer(256),d=0;for(e=0;e<16;e++)if(s&1<<15-e){var h=16*e;for(n=r.read(16),t=0;t<16;t++)n&1<<15-t&&(l[d++]=h+t)}var p=r.read(3);(p<2||p>6)&&u(c.DATA_ERROR);var f=r.read(15);0===f&&u(c.DATA_ERROR);var m=new Buffer(256);for(e=0;e<p;e++)m[e]=e;var g=new Buffer(f);for(e=0;e<f;e++){for(t=0;r.read(1);t++)t>=p&&u(c.DATA_ERROR);g[e]=a(m,t)}var v,y=d+2,b=[];for(t=0;t<p;t++){var _,w,S=new Buffer(y),E=new Uint16Array(21);for(s=r.read(5),e=0;e<y;e++){for(;(s<1||s>20)&&u(c.DATA_ERROR),r.read(1);)r.read(1)?s--:s++;S[e]=s}for(_=w=S[0],e=1;e<y;e++)S[e]>w?w=S[e]:S[e]<_&&(_=S[e]);v={},b.push(v),v.permute=new Uint16Array(258),v.limit=new Uint32Array(22),v.base=new Uint32Array(21),v.minLen=_,v.maxLen=w;var x=0;for(e=_;e<=w;e++)for(E[e]=v.limit[e]=0,s=0;s<y;s++)S[s]===e&&(v.permute[x++]=s);for(e=0;e<y;e++)E[S[e]]++;for(x=s=0,e=_;e<w;e++)x+=E[e],v.limit[e]=x-1,x<<=1,s+=E[e],v.base[e+1]=x-s;v.limit[w+1]=Number.MAX_VALUE,v.limit[w]=x+E[w]-1,v.base[_]=0}var C=new Uint32Array(256);for(e=0;e<256;e++)m[e]=e;var k,D=0,T=0,I=0,M=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,I>=f&&u(c.DATA_ERROR),v=b[g[I++]]),e=v.minLen,t=r.read(e);e>v.maxLen&&u(c.DATA_ERROR),!(t<=v.limit[e]);e++)t=t<<1|r.read(1);((t-=v.base[e])<0||t>=258)&&u(c.DATA_ERROR);var P=v.permute[t];if(0!==P&&1!==P){if(D)for(D=0,T+s>this.dbufSize&&u(c.DATA_ERROR),C[k=l[m[0]]]+=s;s--;)M[T++]=k;if(P>d)break;T>=this.dbufSize&&u(c.DATA_ERROR),C[k=l[k=a(m,e=P-1)]]++,M[T++]=k}else D||(D=1,s=0),s+=0===P?D:2*D,D<<=1}for((o<0||o>=T)&&u(c.DATA_ERROR),t=0,e=0;e<256;e++)n=t+C[e],C[e]=t,t=n;for(e=0;e<T;e++)M[C[k=255&M[e]]]|=e<<8,C[k]++;var j=0,L=0,O=0;return T&&(L=255&(j=M[o]),j>>=8,O=-1),this.writePos=j,this.writeCurrent=L,this.writeCount=T,this.writeRun=O,!0},d.prototype._read_bunzip=function(e,t){var n,r,i;if(this.writeCount<0)return 0;for(var o=this.dbuf,s=this.writePos,a=this.writeCurrent,l=this.writeCount,d=(this.outputsize,this.writeRun);l;){for(l--,r=a,a=255&(s=o[s]),s>>=8,3==d++?(n=a,i=r,a=-1):(n=1,i=a),this.blockCRC.updateCRCRun(i,n);n--;)this.outputStream.writeByte(i),this.nextoutput++;a!=r&&(d=0)}return this.writeCount=l,this.blockCRC.getCRC()!==this.targetBlockCRC&&u(c.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var h=function(e){if("readByte"in e)return e;var t=new i;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t},p=function(e){var t=new i,n=!0;if(e)if("number"==typeof e)t.buffer=new Buffer(e),n=!1;else{if("writeByte"in e)return e;t.buffer=e,n=!1}else t.buffer=new Buffer(16384);return t.pos=0,t.writeByte=function(e){if(n&&this.pos>=this.buffer.length){var t=new Buffer(2*this.buffer.length);this.buffer.copy(t),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!n)throw new TypeError("outputsize does not match decoded input");var e=new Buffer(this.pos);this.buffer.copy(e,0,0,this.pos),this.buffer=e}return this.buffer},t._coerced=!0,t};d.Err=c,d.decode=function(e,t,n){for(var r=h(e),i=p(t),o=new d(r,i);!("eof"in r)||!r.eof();)if(o._init_block())o._read_bunzip();else{var s=o.reader.read(32)>>>0;if(s!==o.streamCRC&&u(c.DATA_ERROR,"Bad stream CRC (got "+o.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!n||!("eof"in r)||r.eof())break;o._start_bunzip(r,i)}if("getBuffer"in i)return i.getBuffer()},d.decodeBlock=function(e,t,n){var r=h(e),i=p(n),s=new d(r,i);if(s.reader.seek(t),s._get_next_block()&&(s.blockCRC=new o,s.writeCopies=0,s._read_bunzip()),"getBuffer"in i)return i.getBuffer()},d.table=function(e,t,n){var r=new i;r.delegate=h(e),r.pos=0,r.readByte=function(){return this.pos++,this.delegate.readByte()},r.delegate.eof&&(r.eof=r.delegate.eof.bind(r.delegate));var o=new i;o.pos=0,o.writeByte=function(){this.pos++};for(var s=new d(r,o),a=s.dbufSize;!("eof"in r)||!r.eof();){var c=8*r.pos+s.reader.bitOffset;if(s.reader.hasByte&&(c-=8),s._init_block()){var l=o.pos;s._read_bunzip(),t(c,o.pos-l)}else{s.reader.read(32);if(!n||!("eof"in r)||r.eof())break;s._start_bunzip(r,o),console.assert(s.dbufSize===a,"shouldn't change block size within multistream file")}}},d.Stream=i,d.version=s.version,d.license=s.license,e.exports=d},function(e,t){var n=[0,1,3,7,15,31,63,127,255],r=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};r.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},r.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=n[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var i=r-e;t|=(this.curByte&n[e]<<i)>>i,this.bitOffset+=e,e=0}}return t},r.prototype.seek=function(e){var t=e%8,n=(e-t)/8;this.bitOffset=t,this.stream.seek(n),this.hasByte=!1},r.prototype.pi=function(){var e,t=new Buffer(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return t.toString("hex")},e.exports=r},function(e,t){var n=function(){};n.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")},n.prototype.read=function(e,t,n){for(var r=0;r<n;){var i=this.readByte();if(i<0)return 0===r?-1:r;e[t++]=i,r++}return r},n.prototype.seek=function(e){throw new Error("abstract method seek() not implemented")},n.prototype.writeByte=function(e){throw new Error("abstract method readByte() not implemented")},n.prototype.write=function(e,t,n){var r;for(r=0;r<n;r++)this.writeByte(e[t++]);return n},n.prototype.flush=function(){},e.exports=n},function(e,t){var n;e.exports=(n=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^n[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^n[255&(e>>>24^t)]}})},function(e){e.exports=JSON.parse('{"name":"seek-bzip","version":"1.0.6","contributors":["C. Scott Ananian (http://cscott.net)","Eli Skeggs","Kevin Kwok","Rob Landley (http://landley.net)"],"description":"a pure-JavaScript Node.JS module for random-access decoding bzip2 data","main":"./lib/index.js","repository":{"type":"git","url":"https://github.com/cscott/seek-bzip.git"},"license":"MIT","bin":{"seek-bunzip":"./bin/seek-bunzip","seek-table":"./bin/seek-bzip-table"},"directories":{"test":"test"},"dependencies":{"commander":"^2.8.1"},"devDependencies":{"fibers":"~1.0.6","mocha":"~2.2.5"},"scripts":{"test":"mocha"},"_resolved":"https://registry.npmjs.org/seek-bzip/-/seek-bzip-1.0.6.tgz","_integrity":"sha512-e1QtP3YL5tWww8uKaOCQ18UxIT2laNBXHjV/S2WYCiK4udiv8lkG89KRIoCjUagnAmCBurjF4zEVX2ByBbnCjQ==","_from":"seek-bzip@1.0.6"}')},function(e,t,n){var r=n(1404),i=n(1405),o=n(1406);e.exports=function(){var e=[],t=0,n=0,s=!1,a=null,c=null;function l(e){if(!s)try{return function(e){if(n){var t=1e5*n,r=new Int32Array(t),o=[];return null===(c=i.decompress(a,(function(e){o.push(e)}),r,t,c))?(n=0,!1):(e(Buffer.from(o)),!0)}return n=i.header(a),c=0,!0}((function(t){e.queue(t),null!==t&&t.length}))}catch(t){return e.emit("error",t),s=!0,!1}}return r((function(r){for(e.push(r),t+=r.length,null===a&&(a=o((function(){return e.shift()})));!s&&t-a.bytesRead+1>=(25e3+1e5*n||4);)l(this)}),(function(e){for(;!s&&a&&t>a.bytesRead;)l(this);s||(null!==c&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))}))}},function(e,t,n){var r=n(17);function i(e,t,n){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var i=!1,o=!1,s=[],a=!1,c=new r;function l(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}function u(){c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(n&&!1===n.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return a||(null===e&&(a=!0),s.push(e),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!i)return i=!0,arguments.length&&c.write(e),u(),c},c.destroy=function(){if(!o)return o=!0,i=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}e.exports=i,i.through=i},function(e,t){function n(e){this.name="Bzip2Error",this.message=e,this.stack=(new Error).stack}n.prototype=new Error;var r=function(e){throw new n(e)},i={};i.Bzip2Error=n,i.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],i.array=function(e){var t=0,n=0,r=[0,1,3,7,15,31,63,127,255];return function(i){for(var o=0;i>0;){var s=8-t;i>=s?(o<<=s,o|=r[s]&e[n++],t=0,i-=s):(o<<=i,o|=(e[n]&r[i]<<8-i-t)>>8-i-t,t+=i,i=0)}return o}},i.simple=function(e,t){var n=i.array(e),r=!1,o=1e5*i.header(n),s=new Int32Array(o);do{r=i.decompress(n,t,s,o)}while(!r)},i.header=function(e){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),4348520!=e(24)&&r("No magic number found");var t=e(8)-48;return(t<1||t>9)&&r("Not a BZIP archive"),t},i.decompress=function(e,t,n,i,o){for(var s=-1,a="",c=0;c<6;c++)a+=e(8).toString(16);if("177245385090"==a)return(0|e(32))!==o&&r("Error in bzip2: crc32 do not match"),e(null),null;"314159265359"!=a&&r("eek not valid bzip data");var l=0|e(32);e(1)&&r("unsupported obsolete version");var u=e(24);u>i&&r("Initial position larger than buffer size");var d=e(16),h=0;for(c=0;c<16;c++)if(d&1<<15-c){var p=e(16);for(g=0;g<16;g++)p&1<<15-g&&(this.symToByte[h++]=16*c+g)}var f=e(3);(f<2||f>6)&&r("another error");var m=e(15);0==m&&r("meh");for(c=0;c<f;c++)this.mtfSymbol[c]=c;for(c=0;c<m;c++){for(var g=0;e(1);g++)g>=f&&r("whoops another error");var v=this.mtfSymbol[g];for(p=g-1;p>=0;p--)this.mtfSymbol[p+1]=this.mtfSymbol[p];this.mtfSymbol[0]=v,this.selectors[c]=v}var y,b,_,w,S=h+2,E=[],x=new Uint8Array(258),C=new Uint16Array(21);for(g=0;g<f;g++){d=e(5);for(c=0;c<S;c++){for(;(d<1||d>20)&&r("I gave up a while ago on writing error messages"),e(1);)e(1)?d--:d++;x[c]=d}var k,D;k=D=x[0];for(c=1;c<S;c++)x[c]>D?D=x[c]:x[c]<k&&(k=x[c]);(y=E[g]={}).permute=new Int32Array(258),y.limit=new Int32Array(21),y.base=new Int32Array(21),y.minLen=k,y.maxLen=D;var T=y.base,I=y.limit,M=0;for(c=k;c<=D;c++)for(d=0;d<S;d++)x[d]==c&&(y.permute[M++]=d);for(c=k;c<=D;c++)C[c]=I[c]=0;for(c=0;c<S;c++)C[x[c]]++;for(M=d=0,c=k;c<D;c++)M+=C[c],I[c]=M-1,M<<=1,T[c+1]=M-(d+=C[c]);I[D]=M+C[D]-1,T[k]=0}for(c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;for(b=_=S=w=0;;){for(S--||(S=49,w>=m&&r("meow i'm a kitty, that's an error"),T=(y=E[this.selectors[w++]]).base,I=y.limit),g=e(c=y.minLen);c>y.maxLen&&r("rawr i'm a dinosaur"),!(g<=I[c]);)c++,g=g<<1|e(1);((g-=T[c])<0||g>=258)&&r("moo i'm a cow");var P=y.permute[g];if(0!=P&&1!=P){if(b)for(b=0,_+d>i&&r("Boom."),v=this.symToByte[this.mtfSymbol[0]],this.byteCount[v]+=d;d--;)n[_++]=v;if(P>h)break;_>=i&&r("I can't think of anything. Error"),c=P-1,v=this.mtfSymbol[c];for(p=c-1;p>=0;p--)this.mtfSymbol[p+1]=this.mtfSymbol[p];this.mtfSymbol[0]=v,v=this.symToByte[v],this.byteCount[v]++,n[_++]=v}else b||(b=1,d=0),d+=0==P?b:2*b,b<<=1}(u<0||u>=_)&&r("I'm a monkey and I'm throwing something at someone, namely you");for(g=0,c=0;c<256;c++)p=g+this.byteCount[c],this.byteCount[c]=g,g=p;for(c=0;c<_;c++)v=255&n[c],n[this.byteCount[v]]|=c<<8,this.byteCount[v]++;var j,L,O,A=0,N=0,R=0;for(_&&(N=255&(A=n[u]),A>>=8,R=-1),_=_;_;){for(_--,L=N,N=255&(A=n[A]),A>>=8,3==R++?(j=N,O=L,N=-1):(j=1,O=N);j--;)s=4294967295&(s<<8^this.crcTable[255&(s>>24^O)]),t(O);N!=L&&(R=0)}return(0|(s=(-1^s)>>>0))!=(0|l)&&r("Error in bzip2: crc32 do not match"),o=4294967295&(s^(o<<1|o>>>31))},e.exports=i},function(e,t){var n=[0,1,3,7,15,31,63,127,255];e.exports=function(e){var t=0,r=0,i=e(),o=function(s){if(null===s&&0!=t)return t=0,void r++;for(var a=0;s>0;){r>=i.length&&(r=0,i=e());var c=8-t;0===t&&s>0&&o.bytesRead++,s>=c?(a<<=c,a|=n[c]&i[r++],t=0,s-=c):(a<<=s,a|=(i[r]&n[s]<<8-s-t)>>8-s-t,t+=s,s=0)}return a};return o.bytesRead=0,o}},function(e,t,n){"use strict";const r=n(44),i=n(338),o=n(1408),s=n(179);e.exports=()=>e=>{if(!Buffer.isBuffer(e)&&!s(e))return Promise.reject(new TypeError("Expected a Buffer or Stream, got "+typeof e));if(Buffer.isBuffer(e)&&(!o(e)||"gz"!==o(e).ext))return Promise.resolve([]);const t=r.createGunzip(),n=i()(t);return Buffer.isBuffer(e)?t.end(e):e.pipe(t),n}},function(e,t,n){"use strict";e.exports=e=>{const t=new Uint8Array(e);if(!(t&&t.length>1))return null;const n=(e,n)=>{n=Object.assign({offset:0},n);for(let r=0;r<e.length;r++)if(e[r]!==t[r+n.offset])return!1;return!0};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])&&n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n([80,75,3,4])&&n([77,69,84,65,45,73,78,70,47,109,111,122,105,108,108,97,46,114,115,97],{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([0,0,0])&&(24===t[3]||32===t[3])&&n([102,116,121,112],{offset:4})||n([51,103,112,53])||n([0,0,0,28,102,116,121,112,109,112,52,50])&&n([109,112,52,49,109,112,52,50,105,115,111,109],{offset:16})||n([0,0,0,28,102,116,121,112,105,115,111,109])||n([0,0,0,28,102,116,121,112,109,112,52,50,0,0,0,0]))return{ext:"mp4",mime:"video/mp4"};if(n([0,0,0,28,102,116,121,112,77,52,86]))return{ext:"m4v",mime:"video/x-m4v"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){const e=t.subarray(4,4100),n=e.findIndex((e,t,n)=>66===n[t]&&130===n[t+1]);if(n>=0){const t=n+3,r=n=>Array.from(n).every((n,r)=>e[t+r]===n.charCodeAt(0));if(r("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(r("webm"))return{ext:"webm",mime:"video/webm"}}}return n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4})?{ext:"mov",mime:"video/quicktime"}:n([82,73,70,70])&&n([65,86,73],{offset:8})?{ext:"avi",mime:"video/x-msvideo"}:n([48,38,178,117,142,102,207,17,166,217])?{ext:"wmv",mime:"video/x-ms-wmv"}:n([0,0,1,186])?{ext:"mpg",mime:"video/mpeg"}:n([73,68,51])||n([255,251])?{ext:"mp3",mime:"audio/mpeg"}:n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32])?{ext:"m4a",mime:"audio/m4a"}:n([79,112,117,115,72,101,97,100],{offset:28})?{ext:"opus",mime:"audio/opus"}:n([79,103,103,83])?{ext:"ogg",mime:"audio/ogg"}:n([102,76,97,67])?{ext:"flac",mime:"audio/x-flac"}:n([82,73,70,70])&&n([87,65,86,69],{offset:8})?{ext:"wav",mime:"audio/x-wav"}:n([35,33,65,77,82,10])?{ext:"amr",mime:"audio/amr"}:n([37,80,68,70])?{ext:"pdf",mime:"application/pdf"}:n([77,90])?{ext:"exe",mime:"application/x-msdownload"}:67!==t[0]&&70!==t[0]||!n([87,83],{offset:1})?n([123,92,114,116,102])?{ext:"rtf",mime:"application/rtf"}:n([0,97,115,109])?{ext:"wasm",mime:"application/wasm"}:n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff",mime:"font/woff"}:n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4}))?{ext:"woff2",mime:"font/woff2"}:n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8}))?{ext:"eot",mime:"application/octet-stream"}:n([0,1,0,0,0])?{ext:"ttf",mime:"font/ttf"}:n([79,84,84,79,0])?{ext:"otf",mime:"font/otf"}:n([0,0,1,0])?{ext:"ico",mime:"image/x-icon"}:n([70,76,86,1])?{ext:"flv",mime:"video/x-flv"}:n([37,33])?{ext:"ps",mime:"application/postscript"}:n([253,55,122,88,90,0])?{ext:"xz",mime:"application/x-xz"}:n([83,81,76,105])?{ext:"sqlite",mime:"application/x-sqlite3"}:n([78,69,83,26])?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:n([67,114,50,52])?{ext:"crx",mime:"application/x-google-chrome-extension"}:n([77,83,67,70])||n([73,83,99,40])?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])?{ext:"deb",mime:"application/x-deb"}:n([33,60,97,114,99,104,62])?{ext:"ar",mime:"application/x-unix-archive"}:n([237,171,238,219])?{ext:"rpm",mime:"application/x-rpm"}:n([31,160])||n([31,157])?{ext:"Z",mime:"application/x-compress"}:n([76,90,73,80])?{ext:"lz",mime:"application/x-lzip"}:n([208,207,17,224,161,177,26,225])?{ext:"msi",mime:"application/x-msi"}:n([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196}))?{ext:"mts",mime:"video/mp2t"}:n([66,76,69,78,68,69,82])?{ext:"blend",mime:"application/x-blender"}:n([66,80,71,251])?{ext:"bpg",mime:"image/bpg"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}}},function(e,t,n){"use strict";const r=n(1410),i=n(1411),o=n(1415),s=n(1416),a=e=>new Promise((t,n)=>{const r=[];e.readEntry(),e.on("entry",t=>{((e,t)=>{const n={mode:e.externalFileAttributes>>16&65535,mtime:e.getLastModDate(),path:e.fileName};return n.type=((e,t)=>{const n=e.versionMadeBy>>8;return 40960==(61440&t)?"symlink":16384==(61440&t)||0===n&&16===e.externalFileAttributes?"directory":"file"})(e,n.mode),0===n.mode&&"directory"===n.type&&(n.mode=493),0===n.mode&&(n.mode=420),o(t.openReadStream.bind(t))(e).then(i.buffer).then(e=>(n.data=e,"symlink"===n.type&&(n.linkname=e.toString()),n)).catch(e=>{throw t.close(),e})})(t,e).catch(n).then(t=>{r.push(t),e.readEntry()})}),e.on("error",n),e.on("end",()=>t(r))});e.exports=()=>e=>Buffer.isBuffer(e)?r(e)&&"zip"===r(e).ext?o(s.fromBuffer)(e,{lazyEntries:!0}).then(a):Promise.resolve([]):Promise.reject(new TypeError("Expected a Buffer, got "+typeof e))},function(e,t,n){"use strict";e.exports=function(e){return e&&e.length>1?255===e[0]&&216===e[1]&&255===e[2]?{ext:"jpg",mime:"image/jpeg"}:137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]?{ext:"png",mime:"image/png"}:71===e[0]&&73===e[1]&&70===e[2]?{ext:"gif",mime:"image/gif"}:87===e[8]&&69===e[9]&&66===e[10]&&80===e[11]?{ext:"webp",mime:"image/webp"}:70===e[0]&&76===e[1]&&73===e[2]&&70===e[3]?{ext:"flif",mime:"image/flif"}:(73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3])&&67===e[8]&&82===e[9]?{ext:"cr2",mime:"image/x-canon-cr2"}:73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]?{ext:"tif",mime:"image/tiff"}:66===e[0]&&77===e[1]?{ext:"bmp",mime:"image/bmp"}:73===e[0]&&73===e[1]&&188===e[2]?{ext:"jxr",mime:"image/vnd.ms-photo"}:56===e[0]&&66===e[1]&&80===e[2]&&83===e[3]?{ext:"psd",mime:"image/vnd.adobe.photoshop"}:80===e[0]&&75===e[1]&&3===e[2]&&4===e[3]&&109===e[30]&&105===e[31]&&109===e[32]&&101===e[33]&&116===e[34]&&121===e[35]&&112===e[36]&&101===e[37]&&97===e[38]&&112===e[39]&&112===e[40]&&108===e[41]&&105===e[42]&&99===e[43]&&97===e[44]&&116===e[45]&&105===e[46]&&111===e[47]&&110===e[48]&&47===e[49]&&101===e[50]&&112===e[51]&&117===e[52]&&98===e[53]&&43===e[54]&&122===e[55]&&105===e[56]&&112===e[57]?{ext:"epub",mime:"application/epub+zip"}:80===e[0]&&75===e[1]&&3===e[2]&&4===e[3]&&77===e[30]&&69===e[31]&&84===e[32]&&65===e[33]&&45===e[34]&&73===e[35]&&78===e[36]&&70===e[37]&&47===e[38]&&109===e[39]&&111===e[40]&&122===e[41]&&105===e[42]&&108===e[43]&&108===e[44]&&97===e[45]&&46===e[46]&&114===e[47]&&115===e[48]&&97===e[49]?{ext:"xpi",mime:"application/x-xpinstall"}:80!==e[0]||75!==e[1]||3!==e[2]&&5!==e[2]&&7!==e[2]||4!==e[3]&&6!==e[3]&&8!==e[3]?117===e[257]&&115===e[258]&&116===e[259]&&97===e[260]&&114===e[261]?{ext:"tar",mime:"application/x-tar"}:82!==e[0]||97!==e[1]||114!==e[2]||33!==e[3]||26!==e[4]||7!==e[5]||0!==e[6]&&1!==e[6]?31===e[0]&&139===e[1]&&8===e[2]?{ext:"gz",mime:"application/gzip"}:66===e[0]&&90===e[1]&&104===e[2]?{ext:"bz2",mime:"application/x-bzip2"}:55===e[0]&&122===e[1]&&188===e[2]&&175===e[3]&&39===e[4]&&28===e[5]?{ext:"7z",mime:"application/x-7z-compressed"}:120===e[0]&&1===e[1]?{ext:"dmg",mime:"application/x-apple-diskimage"}:0===e[0]&&0===e[1]&&0===e[2]&&(24===e[3]||32===e[3])&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]||51===e[0]&&103===e[1]&&112===e[2]&&53===e[3]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&109===e[8]&&112===e[9]&&52===e[10]&&50===e[11]&&109===e[16]&&112===e[17]&&52===e[18]&&49===e[19]&&109===e[20]&&112===e[21]&&52===e[22]&&50===e[23]&&105===e[24]&&115===e[25]&&111===e[26]&&109===e[27]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&105===e[8]&&115===e[9]&&111===e[10]&&109===e[11]||0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&109===e[8]&&112===e[9]&&52===e[10]&&50===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&0===e[15]?{ext:"mp4",mime:"video/mp4"}:0===e[0]&&0===e[1]&&0===e[2]&&28===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&77===e[8]&&52===e[9]&&86===e[10]?{ext:"m4v",mime:"video/x-m4v"}:77===e[0]&&84===e[1]&&104===e[2]&&100===e[3]?{ext:"mid",mime:"audio/midi"}:109===e[31]&&97===e[32]&&116===e[33]&&114===e[34]&&111===e[35]&&115===e[36]&&107===e[37]&&97===e[38]?{ext:"mkv",mime:"video/x-matroska"}:26===e[0]&&69===e[1]&&223===e[2]&&163===e[3]?{ext:"webm",mime:"video/webm"}:0===e[0]&&0===e[1]&&0===e[2]&&20===e[3]&&102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]?{ext:"mov",mime:"video/quicktime"}:82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]&&65===e[8]&&86===e[9]&&73===e[10]?{ext:"avi",mime:"video/x-msvideo"}:48===e[0]&&38===e[1]&&178===e[2]&&117===e[3]&&142===e[4]&&102===e[5]&&207===e[6]&&17===e[7]&&166===e[8]&&217===e[9]?{ext:"wmv",mime:"video/x-ms-wmv"}:0===e[0]&&0===e[1]&&1===e[2]&&"b"===e[3].toString(16)[0]?{ext:"mpg",mime:"video/mpeg"}:73===e[0]&&68===e[1]&&51===e[2]||255===e[0]&&251===e[1]?{ext:"mp3",mime:"audio/mpeg"}:102===e[4]&&116===e[5]&&121===e[6]&&112===e[7]&&77===e[8]&&52===e[9]&&65===e[10]||77===e[0]&&52===e[1]&&65===e[2]&&32===e[3]?{ext:"m4a",mime:"audio/m4a"}:79===e[28]&&112===e[29]&&117===e[30]&&115===e[31]&&72===e[32]&&101===e[33]&&97===e[34]&&100===e[35]?{ext:"opus",mime:"audio/opus"}:79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]?{ext:"ogg",mime:"audio/ogg"}:102===e[0]&&76===e[1]&&97===e[2]&&67===e[3]?{ext:"flac",mime:"audio/x-flac"}:82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]&&87===e[8]&&65===e[9]&&86===e[10]&&69===e[11]?{ext:"wav",mime:"audio/x-wav"}:35===e[0]&&33===e[1]&&65===e[2]&&77===e[3]&&82===e[4]&&10===e[5]?{ext:"amr",mime:"audio/amr"}:37===e[0]&&80===e[1]&&68===e[2]&&70===e[3]?{ext:"pdf",mime:"application/pdf"}:77===e[0]&&90===e[1]?{ext:"exe",mime:"application/x-msdownload"}:67!==e[0]&&70!==e[0]||87!==e[1]||83!==e[2]?123===e[0]&&92===e[1]&&114===e[2]&&116===e[3]&&102===e[4]?{ext:"rtf",mime:"application/rtf"}:119===e[0]&&79===e[1]&&70===e[2]&&70===e[3]&&(0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]||79===e[4]&&84===e[5]&&84===e[6]&&79===e[7])?{ext:"woff",mime:"application/font-woff"}:119===e[0]&&79===e[1]&&70===e[2]&&50===e[3]&&(0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]||79===e[4]&&84===e[5]&&84===e[6]&&79===e[7])?{ext:"woff2",mime:"application/font-woff"}:76===e[34]&&80===e[35]&&(0===e[8]&&0===e[9]&&1===e[10]||1===e[8]&&0===e[9]&&2===e[10]||2===e[8]&&0===e[9]&&2===e[10])?{ext:"eot",mime:"application/octet-stream"}:0===e[0]&&1===e[1]&&0===e[2]&&0===e[3]&&0===e[4]?{ext:"ttf",mime:"application/font-sfnt"}:79===e[0]&&84===e[1]&&84===e[2]&&79===e[3]&&0===e[4]?{ext:"otf",mime:"application/font-sfnt"}:0===e[0]&&0===e[1]&&1===e[2]&&0===e[3]?{ext:"ico",mime:"image/x-icon"}:70===e[0]&&76===e[1]&&86===e[2]&&1===e[3]?{ext:"flv",mime:"video/x-flv"}:37===e[0]&&33===e[1]?{ext:"ps",mime:"application/postscript"}:253===e[0]&&55===e[1]&&122===e[2]&&88===e[3]&&90===e[4]&&0===e[5]?{ext:"xz",mime:"application/x-xz"}:83===e[0]&&81===e[1]&&76===e[2]&&105===e[3]?{ext:"sqlite",mime:"application/x-sqlite3"}:78===e[0]&&69===e[1]&&83===e[2]&&26===e[3]?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:67===e[0]&&114===e[1]&&50===e[2]&&52===e[3]?{ext:"crx",mime:"application/x-google-chrome-extension"}:77===e[0]&&83===e[1]&&67===e[2]&&70===e[3]||73===e[0]&&83===e[1]&&99===e[2]&&40===e[3]?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:33===e[0]&&60===e[1]&&97===e[2]&&114===e[3]&&99===e[4]&&104===e[5]&&62===e[6]&&10===e[7]&&100===e[8]&&101===e[9]&&98===e[10]&&105===e[11]&&97===e[12]&&110===e[13]&&45===e[14]&&98===e[15]&&105===e[16]&&110===e[17]&&97===e[18]&&114===e[19]&&121===e[20]?{ext:"deb",mime:"application/x-deb"}:33===e[0]&&60===e[1]&&97===e[2]&&114===e[3]&&99===e[4]&&104===e[5]&&62===e[6]?{ext:"ar",mime:"application/x-unix-archive"}:237===e[0]&&171===e[1]&&238===e[2]&&219===e[3]?{ext:"rpm",mime:"application/x-rpm"}:31===e[0]&&160===e[1]||31===e[0]&&157===e[1]?{ext:"Z",mime:"application/x-compress"}:76===e[0]&&90===e[1]&&73===e[2]&&80===e[3]?{ext:"lz",mime:"application/x-lzip"}:208===e[0]&&207===e[1]&&17===e[2]&&224===e[3]&&161===e[4]&&177===e[5]&&26===e[6]&&225===e[7]?{ext:"msi",mime:"application/x-msi"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}:{ext:"rar",mime:"application/x-rar-compressed"}:{ext:"zip",mime:"application/zip"}:null}},function(e,t,n){"use strict";var r=n(1412),i=n(339),o=n(1414);function s(e,t){if(!e)return r.reject(new Error("Expected a stream"));var n,s,a=(t=i({maxBuffer:1/0},t)).maxBuffer,c=new r((function(r,i){function c(e){e&&(e.bufferedData=n.getBufferedValue()),i(e)}n=o(t),e.once("error",c),e.pipe(n),n.on("data",(function(){n.getBufferedLength()>a&&i(new Error("maxBuffer exceeded"))})),n.once("error",c),n.on("end",r),s=function(){e.unpipe&&e.unpipe(n)}}));return c.then(s,s),c.then((function(){return n.getBufferedValue()}))}e.exports=s,e.exports.buffer=function(e,t){return s(e,i({},t,{encoding:"buffer"}))},e.exports.array=function(e,t){return s(e,i({},t,{array:!0}))}},function(e,t,n){"use strict";e.exports="function"==typeof Promise?Promise:n(1413)},function(e,t,n){"use strict";var r,i=function(){},o="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,s="undefined"==typeof setImmediate?setTimeout:setImmediate,a=[];function c(){for(var e=0;e<a.length;e++)a[e][0](a[e][1]);a=[],r=!1}function l(e,t){a.push([e,t]),r||(r=!0,s(c,0))}function u(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"==typeof i){n="fulfilled";try{r=i(r)}catch(e){f(o,e)}}d(o,r)||("fulfilled"===n&&h(o,r),"rejected"===n&&f(o,r))}function d(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t===r?p(e,r):h(e,r))}),(function(t){n||(n=!0,f(e,t))})),!0}}catch(t){return n||f(e,t),!0}return!1}function h(e,t){e!==t&&d(e,t)||p(e,t)}function p(e,t){"pending"===e._state&&(e._state="settled",e._data=t,l(g,e))}function f(e,t){"pending"===e._state&&(e._state="settled",e._data=t,l(v,e))}function m(e){e._then=e._then.forEach(u)}function g(e){e._state="fulfilled",m(e)}function v(e){e._state="rejected",m(e),!e._handled&&o&&global.process.emit("unhandledRejection",e._data,e)}function y(e){global.process.emit("rejectionHandled",e)}function b(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof b==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){f(t,e)}try{e((function(e){h(t,e)}),n)}catch(e){n(e)}}(e,this)}b.prototype={constructor:b,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(i),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&o&&l(y,this)),"fulfilled"===this._state||"rejected"===this._state?l(u,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},b.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new b((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var s,a=0;a<e.length;a++)(s=e[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||t(r)}))},b.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new b((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}))},b.resolve=function(e){return e&&"object"==typeof e&&e.constructor===b?e:new b((function(t){t(e)}))},b.reject=function(e){return new b((function(t,n){n(e)}))},e.exports=b},function(e,t,n){var r=n(17).PassThrough,i=n(339);e.exports=function(e){var t=(e=i({},e)).array,n=e.encoding,o="buffer"===n,s=!1;t?s=!(n||o):n=n||"utf8",o&&(n=null);var a=0,c=[],l=new r({objectMode:s});return n&&l.setEncoding(n),l.on("data",(function(e){c.push(e),s?a=c.length:a+=e.length})),l.getBufferedValue=function(){return t?c:o?Buffer.concat(c,a):c.join("")},l.getBufferedLength=function(){return a},l}},function(e,t,n){"use strict";var r=function(e,t,n){return function(){for(var r=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new t((function(t,o){i.push((function(e,r){if(e)o(e);else if(n.multiArgs){for(var i=new Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];t(i)}else t(r)})),e.apply(r,i)}))}},i=e.exports=function(e,t,n){"function"!=typeof t&&(n=t,t=Promise),(n=n||{}).exclude=n.exclude||[/.+Sync$/];var i="function"==typeof e?function(){return n.excludeMain?e.apply(this,arguments):r(e,t,n).apply(this,arguments)}:{};return Object.keys(e).reduce((function(i,o){var s=e[o];return i[o]="function"==typeof s&&function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return n.include?n.include.some(t):!n.exclude.some(t)}(o)?r(s,t,n):s,i}),i)};i.all=i},function(e,t,n){var r=n(25),i=n(44),o=n(1417),s=n(1419),a=n(18),c=n(35).EventEmitter,l=n(17).Transform,u=n(17).PassThrough,d=n(17).Writable;function h(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=D),r.fstat(e,(function(r,i){if(r)return n(r);p(o.createFromFd(e,{autoClose:!0}),i.size,t,n)}))}function p(e,t,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0);var i=!!n.decodeStrings;if(null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=D),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var o=Math.min(65557,t),s=x(o),a=t-s.length;_(e,s,0,o,a,(function(c){if(c)return r(c);for(var l=o-22;l>=0;l-=1)if(101010256===s.readUInt32LE(l)){var u=s.slice(l),d=u.readUInt16LE(4);if(0!==d)return r(new Error("multi-disk zip files are not supported: found disk number: "+d));var h=u.readUInt16LE(10),p=u.readUInt32LE(16),m=u.readUInt16LE(20),g=u.length-22;if(m!==g)return r(new Error("invalid comment length. expected: "+g+". found: "+m));var v=i?C(u,22,u.length,!1):u.slice(22);if(65535!==h&&4294967295!==p)return r(null,new f(e,p,t,h,v,n.autoClose,n.lazyEntries,i,n.validateEntrySizes,n.strictFileNames));var y=x(20),b=a+l-y.length;return void _(e,y,0,y.length,b,(function(o){if(o)return r(o);if(117853008!==y.readUInt32LE(0))return r(new Error("invalid zip64 end of central directory locator signature"));var s=k(y,8),a=x(56);_(e,a,0,a.length,s,(function(o){return o?r(o):101075792!==a.readUInt32LE(0)?r(new Error("invalid zip64 end of central directory record signature")):(h=k(a,32),p=k(a,48),r(null,new f(e,p,t,h,v,n.autoClose,n.lazyEntries,i,n.validateEntrySizes,n.strictFileNames)))}))}))}r(new Error("end of central directory record signature not found"))}))}function f(e,t,n,r,i,o,s,a,l,u){var d=this;c.call(d),d.reader=e,d.reader.on("error",(function(e){g(d,e)})),d.reader.once("close",(function(){d.emit("close")})),d.readEntryCursor=t,d.fileSize=n,d.entryCount=r,d.comment=i,d.entriesRead=0,d.autoClose=!!o,d.lazyEntries=!!s,d.decodeStrings=!!a,d.validateEntrySizes=!!l,d.strictFileNames=!!u,d.isOpen=!0,d.emittedError=!1,d.lazyEntries||d._readEntry()}function m(e,t){e.autoClose&&e.close(),g(e,t)}function g(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function v(){}function y(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function b(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function _(e,t,n,r,i,o){if(0===r)return setImmediate((function(){o(null,x(0))}));e.read(t,n,r,i,(function(e,t){return e?o(e):t<r?o(new Error("unexpected EOF")):void o()}))}function w(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function S(){c.call(this),this.refCount=0}function E(e){u.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}t.open=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});null==t.autoClose&&(t.autoClose=!0);null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);null==n&&(n=D);r.open(e,"r",(function(e,i){if(e)return n(e);h(i,t,(function(e,t){e&&r.close(i,D),n(e,t)}))}))},t.fromFd=h,t.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);p(o.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,n)},t.fromRandomAccessReader=p,t.dosDateTimeToDate=y,t.validateFileName=b,t.ZipFile=f,t.Entry=v,t.RandomAccessReader=S,a.inherits(f,c),f.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},f.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},f.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=x(46);_(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return m(e,n);if(!e.emittedError){var r=new v,i=t.readUInt32LE(0);if(33639248!==i)return m(e,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(r.versionMadeBy=t.readUInt16LE(4),r.versionNeededToExtract=t.readUInt16LE(6),r.generalPurposeBitFlag=t.readUInt16LE(8),r.compressionMethod=t.readUInt16LE(10),r.lastModFileTime=t.readUInt16LE(12),r.lastModFileDate=t.readUInt16LE(14),r.crc32=t.readUInt32LE(16),r.compressedSize=t.readUInt32LE(20),r.uncompressedSize=t.readUInt32LE(24),r.fileNameLength=t.readUInt16LE(28),r.extraFieldLength=t.readUInt16LE(30),r.fileCommentLength=t.readUInt16LE(32),r.internalFileAttributes=t.readUInt16LE(36),r.externalFileAttributes=t.readUInt32LE(38),r.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&r.generalPurposeBitFlag)return m(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=x(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),_(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return m(e,n);if(!e.emittedError){var i=0!=(2048&r.generalPurposeBitFlag);r.fileName=e.decodeStrings?C(t,0,r.fileNameLength,i):t.slice(0,r.fileNameLength);var o=r.fileNameLength+r.extraFieldLength,a=t.slice(r.fileNameLength,o);r.extraFields=[];for(var c=0;c<a.length-3;){var l=a.readUInt16LE(c+0),u=a.readUInt16LE(c+2),d=c+4,h=d+u;if(h>a.length)return m(e,new Error("extra field length exceeds extra field buffer size"));var p=x(u);a.copy(p,0,d,h),r.extraFields.push({id:l,data:p}),c=h}if(r.fileComment=e.decodeStrings?C(t,o,o+r.fileCommentLength,i):t.slice(o,o+r.fileCommentLength),r.comment=r.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===r.uncompressedSize||4294967295===r.compressedSize||4294967295===r.relativeOffsetOfLocalHeader){var f=null;for(c=0;c<r.extraFields.length;c++){if(1===(v=r.extraFields[c]).id){f=v.data;break}}if(null==f)return m(e,new Error("expected zip64 extended information extra field"));var g=0;if(4294967295===r.uncompressedSize){if(g+8>f.length)return m(e,new Error("zip64 extended information extra field does not include uncompressed size"));r.uncompressedSize=k(f,g),g+=8}if(4294967295===r.compressedSize){if(g+8>f.length)return m(e,new Error("zip64 extended information extra field does not include compressed size"));r.compressedSize=k(f,g),g+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(g+8>f.length)return m(e,new Error("zip64 extended information extra field does not include relative header offset"));r.relativeOffsetOfLocalHeader=k(f,g),g+=8}}if(e.decodeStrings)for(c=0;c<r.extraFields.length;c++){var v;if(28789===(v=r.extraFields[c]).id){if(v.data.length<6)continue;if(1!==v.data.readUInt8(0))continue;var y=v.data.readUInt32LE(1);if(s.unsigned(t.slice(0,r.fileNameLength))!==y)continue;r.fileName=C(v.data,5,v.data.length,!0);break}}if(e.validateEntrySizes&&0===r.compressionMethod){var _=r.uncompressedSize;if(r.isEncrypted()&&(_+=12),r.compressedSize!==_){var w="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return m(e,new Error(w))}}if(e.decodeStrings){e.strictFileNames||(r.fileName=r.fileName.replace(/\\/g,"/"));var S=b(r.fileName,e.validateFileNameOptions);if(null!=S)return m(e,new Error(S))}e.emit("entry",r),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},f.prototype.openReadStream=function(e,t,n){var r=this,o=0,s=e.compressedSize;if(null==n)n=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((o=t.start)<0)throw new Error("options.start < 0");if(o>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((s=t.end)<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<o)throw new Error("options.end < options.start")}}if(!r.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));r.reader.ref();var a=x(30);_(r.reader,a,0,a.length,e.relativeOffsetOfLocalHeader,(function(c){try{if(c)return n(c);var l=a.readUInt32LE(0);if(67324752!==l)return n(new Error("invalid local file header signature: 0x"+l.toString(16)));var u,d=a.readUInt16LE(26),h=a.readUInt16LE(28),p=e.relativeOffsetOfLocalHeader+a.length+d+h;if(0===e.compressionMethod)u=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));u=null==t.decompress||t.decompress}var f=p,m=f+e.compressedSize;if(0!==e.compressedSize&&m>r.fileSize)return n(new Error("file data overflows file bounds: "+f+" + "+e.compressedSize+" > "+r.fileSize));var g=r.reader.createReadStream({start:f+o,end:f+s}),v=g;if(u){var y=!1,b=i.createInflateRaw();g.on("error",(function(e){setImmediate((function(){y||b.emit("error",e)}))})),g.pipe(b),r.validateEntrySizes?(v=new w(e.uncompressedSize),b.on("error",(function(e){setImmediate((function(){y||v.emit("error",e)}))})),b.pipe(v)):v=b,v.destroy=function(){y=!0,b!==v&&b.unpipe(v),g.unpipe(b),g.destroy()}}n(null,v)}finally{r.reader.unref()}}))},v.prototype.getLastModDate=function(){return y(this.lastModFileDate,this.lastModFileTime)},v.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},v.prototype.isCompressed=function(){return 8===this.compressionMethod},a.inherits(w,l),w.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},w.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},a.inherits(S,c),S.prototype.ref=function(){this.refCount+=1},S.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},S.prototype.createReadStream=function(e){var t=e.start,n=e.end;if(t===n){var r=new u;return setImmediate((function(){r.end()})),r}var i=this._readStreamForRange(t,n),o=!1,s=new E(this);i.on("error",(function(e){setImmediate((function(){o||s.emit("error",e)}))})),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new w(n-t);return s.on("error",(function(e){setImmediate((function(){o||a.emit("error",e)}))})),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)},S.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},S.prototype.read=function(e,t,n,r,i){var o=this.createReadStream({start:r,end:r+n}),s=new d,a=0;s._write=function(n,r,i){n.copy(e,t+a,0,n.length),a+=n.length,i()},s.on("finish",i),o.on("error",(function(e){i(e)})),o.pipe(s)},S.prototype.close=function(e){setImmediate(e)},a.inherits(E,u),E.prototype._flush=function(e){this.unref(),e()},E.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var x;function C(e,t,n,r){if(r)return e.toString("utf8",t,n);for(var i="",o=t;o<n;o++)i+="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"[e[o]];return i}function k(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function D(e){if(e)throw e}x="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},function(e,t,n){var r=n(25),i=n(18),o=n(17),s=o.Readable,a=o.Writable,c=o.PassThrough,l=n(1418),u=n(35).EventEmitter;function d(e,t){t=t||{},u.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function h(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function p(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function f(e,t){u.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new f(e,t)},t.createFromFd=function(e,t){return new d(e,t)},t.BufferSlicer=f,t.FdSlicer=d,i.inherits(d,u),d.prototype.read=function(e,t,n,i,o){var s=this;s.pend.go((function(a){r.read(s.fd,e,t,n,i,(function(e,t,n){a(),o(e,t,n)}))}))},d.prototype.write=function(e,t,n,i,o){var s=this;s.pend.go((function(a){r.write(s.fd,e,t,n,i,(function(e,t,n){a(),o(e,t,n)}))}))},d.prototype.createReadStream=function(e){return new h(this,e)},d.prototype.createWriteStream=function(e){return new p(this,e)},d.prototype.ref=function(){this.refCount+=1},d.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&r.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},i.inherits(h,s),h.prototype._read=function(e){var t=this;if(!t.destroyed){var n=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(n=Math.min(n,t.endOffset-t.pos)),n<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var i=new Buffer(n);r.read(t.context.fd,i,0,n,t.pos,(function(n,r){n?t.destroy(n):0===r?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=r,t.push(i.slice(0,r))),e()}))}))}},h.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},i.inherits(p,a),p.prototype._write=function(e,t,n){var i=this;if(!i.destroyed){if(i.pos+e.length>i.endOffset){var o=new Error("maximum file length exceeded");return o.code="ETOOBIG",i.destroy(),void n(o)}i.context.pend.go((function(t){if(i.destroyed)return t();r.write(i.context.fd,e,0,e.length,i.pos,(function(e,r){e?(i.destroy(),t(),n(e)):(i.bytesWritten+=r,i.pos+=r,i.emit("progress"),t(),n())}))}))}},p.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},i.inherits(f,u),f.prototype.read=function(e,t,n,r,i){var o=r+n,s=o-this.buffer.length,a=s>0?s:n;this.buffer.copy(e,t,r,o),setImmediate((function(){i(null,a)}))},f.prototype.write=function(e,t,n,r,i){e.copy(this.buffer,r,t,t+n),setImmediate((function(){i(null,n,e)}))},f.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var n=this.buffer.slice(t.start,t.pos),r=0;;){var i=r+this.maxChunkSize;if(i>=n.length){r<n.length&&t.write(n.slice(r,n.length));break}t.write(n.slice(r,i)),r=i}return t.end(),t.destroy=function(){t.destroyed=!0},t},f.prototype.createWriteStream=function(e){var t=this,n=new a(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,i){if(!n.destroyed){var o=n.pos+e.length;if(o>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroyed=!0,void i(s)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=o,n.emit("progress"),i()}},n.destroy=function(){n.destroyed=!0},n},f.prototype.ref=function(){this.refCount+=1},f.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},function(e,t){function n(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function r(e){e.pending+=1;var t=!1;return function(r){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||r,e.pending-=1,e.waiting.length>0&&e.pending<e.max)i(e,e.waiting.shift());else if(0===e.pending){var o=e.listeners;e.listeners=[],o.forEach(n)}};function n(t){t(e.error)}}function i(e,t){t(r(e))}e.exports=n,n.prototype.go=function(e){this.pending<this.max?i(this,e):this.waiting.push(e)},n.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},n.prototype.hold=function(){return r(this)}},function(e,t,n){var r=n(84).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e){var t=o(4);return t.writeInt32BE(e,0),t}function a(e,t){e=o(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,s=0;s<e.length;s++)n=i[255&(n^e[s])]^n>>>8;return-1^n}function c(){return s(a.apply(null,arguments))}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),c.signed=function(){return a.apply(null,arguments)},c.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=c},function(e,t,n){"use strict";const r=n(25),i=n(6),o=n(1421),s={mode:511&~process.umask(),fs:r},a=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}}};e.exports=(e,t)=>Promise.resolve().then(()=>{a(e),t=Object.assign({},s,t);const n=o(t.fs.mkdir),r=o(t.fs.stat),c=e=>n(e,t.mode).then(()=>e).catch(t=>{if("ENOENT"===t.code){if(t.message.includes("null bytes")||i.dirname(e)===e)throw t;return c(i.dirname(e)).then(()=>c(e))}return r(e).then(t=>t.isDirectory()?e:Promise.reject()).catch(()=>{throw t})});return c(i.resolve(e))}),e.exports.sync=(e,t)=>{a(e),t=Object.assign({},s,t);const n=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(r){if("ENOENT"===r.code){if(r.message.includes("null bytes")||i.dirname(e)===e)throw r;return n(i.dirname(e)),n(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw r}}return e};return n(i.resolve(e))}},function(e,t,n){"use strict";const r=(e,t)=>function(){const n=t.promiseModule,r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];return new n((n,i)=>{t.errorFirst?r.push((function(e,r){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),i(t)):n(t)}else e?i(e):n(r)})):r.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];n(e)}else n(e)})),e.apply(this,r)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(n):!t.exclude.some(n)};let i;i="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):r(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const o in e){const s=e[o];i[o]="function"==typeof s&&n(o)?r(s,t):s}return i}},function(e,t,n){"use strict";var r=function(e,t,n){return function(){for(var r=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new t((function(t,o){i.push((function(e,r){if(e)o(e);else if(n.multiArgs){for(var i=new Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];t(i)}else t(r)})),e.apply(r,i)}))}},i=e.exports=function(e,t,n){"function"!=typeof t&&(n=t,t=Promise),(n=n||{}).exclude=n.exclude||[/.+Sync$/];var i="function"==typeof e?function(){return n.excludeMain?e.apply(this,arguments):r(e,t,n).apply(this,arguments)}:{};return Object.keys(e).reduce((function(i,o){var s=e[o];return i[o]="function"==typeof s&&function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return n.include?n.include.some(t):!n.exclude.some(t)}(o)?r(s,t,n):s,i}),i)};i.all=i},function(e,t,n){"use strict";
/*!
 * strip-dirs | MIT (c) Shinnosuke Watanabe
 * https://github.com/shinnn/node-strip-dirs
*/const r=n(6),i=n(18),o=n(1424);e.exports=function(e,t,n){if("string"!=typeof e)throw new TypeError(i.inspect(e)+" is not a string. First argument to strip-dirs must be a path string.");if(r.posix.isAbsolute(e)||r.win32.isAbsolute(e))throw new Error(e+" is an absolute path. strip-dirs requires a relative path.");if(!o(t,{includeZero:!0}))throw new Error("The Second argument of strip-dirs must be a natural number or 0, but received "+i.inspect(t)+".");if(n){if("object"!=typeof n)throw new TypeError(i.inspect(n)+" is not an object. Expected an object with a boolean `disallowOverflow` property.");if(Array.isArray(n))throw new TypeError(i.inspect(n)+" is an array. Expected an object with a boolean `disallowOverflow` property.");if("disallowOverflow"in n&&"boolean"!=typeof n.disallowOverflow)throw new TypeError(i.inspect(n.disallowOverflow)+" is neither true nor false. `disallowOverflow` option must be a Boolean value.")}else n={disallowOverflow:!1};const s=r.normalize(e).split(r.sep);if(s.length>1&&"."===s[0]&&s.shift(),t>s.length-1){if(n.disallowOverflow)throw new RangeError("Cannot strip more directories than there are.");t=s.length-1}return r.join.apply(null,s.slice(t))}},function(e,t,n){"use strict";
/*!
 * is-natural-number.js | MIT (c) Shinnosuke Watanabe
 * https://github.com/shinnn/is-natural-number.js
*/e.exports=function(e,t){if(t){if("object"!=typeof t)throw new TypeError(String(t)+" is not an object. Expected an object that has boolean `includeZero` property.");if("includeZero"in t){if("boolean"!=typeof t.includeZero)throw new TypeError(String(t.includeZero)+" is neither true nor false. `includeZero` option must be a Boolean value.");if(t.includeZero&&0===e)return!0}}return Number.isSafeInteger(e)&&e>=1}},function(e,t,n){"use strict";const r=n(6),i=n(1426),o=n(1427),s=n(1428),a=/[\u0000-\u001f\u0080-\u009f]/g,c=/^\.+/,l=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const n=void 0===t.replacement?"!":t.replacement;if(o().test(n)&&a.test(n))throw new Error("Replacement string cannot contain reserved filename characters");return e=(e=(e=e.replace(o(),n)).replace(a,n)).replace(c,n),n.length>0&&(e=(e=i(e,n)).length>1?s(e,n):e),e=(e=o.windowsNames().test(e)?e+n:e).slice(0,100)};l.path=(e,t)=>(e=r.resolve(e),r.join(r.dirname(e),l(r.basename(e),t))),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var r=n(703);e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected a string");return e.replace(new RegExp("(?:"+r(t)+"){2,}","g"),t)}},function(e,t,n){"use strict";e.exports=()=>/[<>:"\/\\|?*\x00-\x1F]/g,e.exports.windowsNames=()=>/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i},function(e,t,n){"use strict";var r=n(703);e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError;return t=r(t),e.replace(new RegExp("^"+t+"|"+t+"$","g"),"")}},function(e,t,n){"use strict";const r=n(1430),i=n(1431);class o extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}function s(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t=Object.assign({maxBuffer:1/0},t);const{maxBuffer:n}=t;let s;return new Promise((a,c)=>{const l=e=>{e&&(e.bufferedData=s.getBufferedValue()),c(e)};s=r(e,i(t),e=>{e?l(e):a()}),s.on("data",()=>{s.getBufferedLength()>n&&l(new o)})}).then(()=>s.getBufferedValue())}e.exports=s,e.exports.buffer=(e,t)=>s(e,Object.assign({},t,{encoding:"buffer"})),e.exports.array=(e,t)=>s(e,Object.assign({},t,{array:!0})),e.exports.MaxBufferError=o},function(e,t,n){var r=n(246),i=n(701),o=n(25),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,n,l){l=r(l);var u=!1;e.on("close",(function(){u=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return l(e);u=!0,l()}));var d=!1;return function(t){if(!u&&!d)return d=!0,function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}},u=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var s=o<t.length-1;return l(i,s,o>0,(function(t){e||(e=t),t&&r.forEach(u),s||(r.forEach(u),n(e))}))}));return t.reduce(d)}},function(e,t,n){"use strict";const{PassThrough:r}=n(17);e.exports=e=>{e=Object.assign({},e);const{array:t}=e;let{encoding:n}=e;const i="buffer"===n;let o=!1;t?o=!(n||i):n=n||"utf8",i&&(n=null);let s=0;const a=[],c=new r({objectMode:o});return n&&c.setEncoding(n),c.on("data",e=>{a.push(e),o?s=a.length:s+=e.length}),c.getBufferedValue=()=>t?a:i?Buffer.concat(a,s):a.join(""),c.getBufferedLength=()=>s,c}},function(e,t,n){"use strict";const r=n(35),i=n(48),o=n(58),s=n(17).PassThrough,a=n(17).Transform,c=n(31),l=n(25),u=n(1433),d=n(1434),h=n(1450),p=n(1451),f=n(713),m=n(1457),g=n(1459),v=n(1460),y=n(1461),b=n(706),_=n(1462),w=n(340),S=n(1463),E=n(1464),x=n(714),C=n(715),k=n(1469),D=n(34).Buffer,T=n(1470),I=n(1471),M=new Set([300,301,302,303,304,305,307,308]),P=new Set([300,303,307,308]),j=e=>f.nodeStream(e)&&f.function(e.getBoundary);function L(e){e=e||{};const t=new r,s=e.href||c.resolve(c.format(e),e.path),u=[],h=f.object(e.agent)?e.agent:null;let p,m,v=0,y=0;const b=e=>{if("http:"!==e.protocol&&"https:"!==e.protocol)return void t.emit("error",new N.UnsupportedProtocolError(e));let r,l="https:"===e.protocol?o:i;if(h){const t="https:"===e.protocol?"https":"http";e.agent=h[t]||e.agent}if(e.useElectronNet&&process.versions.electron){const e=n(1472);l=e.net||e.remote.net}const S=new d(l.request,e.cache)(e,n=>{clearInterval(r),t.emit("uploadProgress",{percent:1,transferred:y,total:m});const i=n.statusCode;n.url=p||s,n.requestUrl=s;const o=e.followRedirect&&"location"in n.headers,l=o&&M.has(i);if(o&&P.has(i)||l&&("GET"===e.method||"HEAD"===e.method)){if(n.resume(),303===i&&(e.method="GET"),u.length>=10)return void t.emit("error",new N.MaxRedirectsError(i,u,e),null,n);const r=D.from(n.headers.location,"binary").toString();p=c.resolve(c.format(e),r),u.push(p);const o=Object.assign({},e,c.parse(p));return t.emit("redirect",n,o),void b(o)}setImmediate(()=>{try{!function(e,t,n,r){const i=Number(e.headers["content-length"])||null;let o=0;const s=new a({transform(e,t,r){o+=e.length;const s=i?o/i:0;s<1&&n.emit("downloadProgress",{percent:s,transferred:o,total:i}),r(null,e)},flush(e){n.emit("downloadProgress",{percent:1,transferred:o,total:i}),e()}});w(e,s),s.redirectUrls=r;const c=!0===t.decompress&&f.function(_)&&"HEAD"!==t.method?_(s):s;t.decompress||-1===["gzip","deflate"].indexOf(e.headers["content-encoding"])||(t.encoding=null);n.emit("response",c),n.emit("downloadProgress",{percent:0,transferred:0,total:i}),e.pipe(s)}(n,e,t,u)}catch(e){t.emit("error",e)}})});S.on("error",n=>{n instanceof d.RequestError?t.emit("error",new N.RequestError(n,e)):t.emit("error",new N.CacheError(n,e))}),S.once("request",n=>{let i=!1;n.once("abort",e=>{i=!0}),n.once("error",n=>{if(clearInterval(r),i)return;const o=e.retries(++v,n);o?setTimeout(b,o,e):t.emit("error",new N.RequestError(n,e))}),t.once("request",e=>{t.emit("uploadProgress",{percent:0,transferred:0,total:m});const n=e.connection;if(n){const i=()=>{r=setInterval(()=>{if(n.destroyed)return void clearInterval(r);const i=y,o=e._header?D.byteLength(e._header):0;y=n.bytesWritten-o,m&&y>m&&(y=m),y!==i&&y!==m&&t.emit("uploadProgress",{percent:m?y/m:0,transferred:y,total:m})},150)};(void 0===n.connecting?n._connecting:n.connecting)?n.once("connect",i):i()}}),e.gotTimeout&&(clearInterval(r),g(n,e.gotTimeout)),setImmediate(()=>{t.emit("request",n)})})};return setImmediate(()=>{Promise.resolve((e=>{const t=e.body;return e.headers["content-length"]?Number(e.headers["content-length"]):t||e.stream?f.string(t)?D.byteLength(t):j(t)?k(t.getLength.bind(t))():t instanceof l.ReadStream?k(l.stat)(t.path).then(e=>e.size):f.nodeStream(t)&&f.buffer(t._buffer)?t._buffer.length:null:0})(e)).then(t=>{m=t,f.undefined(e.headers["content-length"])&&f.undefined(e.headers["transfer-encoding"])&&j(e.body)&&(e.headers["content-length"]=t),b(e)}).catch(e=>{t.emit("error",e)})}),t}function O(e){e.stream=!0;const t=new s,n=new s,r=h(t,n);let i;if(e.gotTimeout&&e.gotTimeout.request&&(i=setTimeout(()=>{r.emit("error",new N.RequestError({message:"Request timed out",code:"ETIMEDOUT"},e))},e.gotTimeout.request)),e.json)throw new Error("Got can not be used as a stream when the `json` option is used");e.body&&(r.write=()=>{throw new Error("Got's stream is not writable when the `body` option is used")});const o=L(e);return o.on("request",n=>{r.emit("request",n),f.nodeStream(e.body)?e.body.pipe(n):e.body?n.end(e.body):"POST"!==e.method&&"PUT"!==e.method&&"PATCH"!==e.method?n.end():t.pipe(n)}),o.on("response",t=>{clearTimeout(i);const o=t.statusCode;t.on("error",t=>{r.emit("error",new N.ReadError(t,e))}),t.pipe(n),e.throwHttpErrors&&304!==o&&(o<200||o>299)?r.emit("error",new N.HTTPError(o,t.statusMessage,t.headers,e),null,t):r.emit("response",t)}),o.on("error",r.emit.bind(r,"error")),o.on("redirect",r.emit.bind(r,"redirect")),o.on("uploadProgress",r.emit.bind(r,"uploadProgress")),o.on("downloadProgress",r.emit.bind(r,"downloadProgress")),r}function A(e,t){if(!f.string(e)&&!f.object(e))throw new TypeError("Parameter `url` must be a string or object, not "+f(e));if(f.string(e)){e=e.replace(/^unix:/,"http://$&");try{decodeURI(e)}catch(e){throw new Error("Parameter `url` must contain valid UTF-8 character sequences")}if((e=v(e)).auth)throw new Error("Basic authentication must be done with the `auth` option")}else E.lenient(e)&&(e=y(e));t=Object.assign({path:"",retries:2,cache:!1,decompress:!0,useElectronNet:!1,throwHttpErrors:!0},e,{protocol:e.protocol||"http:"},t);const n=b(t.headers);for(const e of Object.keys(n))f.nullOrUndefined(n[e])&&delete n[e];t.headers=Object.assign({"user-agent":`${T.name}/${T.version} (https://github.com/sindresorhus/got)`},n),t.decompress&&f.undefined(t.headers["accept-encoding"])&&(t.headers["accept-encoding"]="gzip, deflate");const r=t.query;r&&(f.string(r)||(t.query=u.stringify(r)),t.path=`${t.path.split("?")[0]}?${t.query}`,delete t.query),t.json&&f.undefined(t.headers.accept)&&(t.headers.accept="application/json");const i=t.body;if(f.nullOrUndefined(i))t.method=(t.method||"GET").toUpperCase();else{const e=t.headers;if(!(f.nodeStream(i)||f.string(i)||f.buffer(i)||t.form||t.json))throw new TypeError("The `body` option must be a stream.Readable, string, Buffer or plain Object");const n=f.plainObject(i)||f.array(i);if((t.form||t.json)&&!n)throw new TypeError("The `body` option must be a plain Object or Array when the `form` or `json` option is used");if(j(i)?e["content-type"]=e["content-type"]||"multipart/form-data; boundary="+i.getBoundary():t.form&&n?(e["content-type"]=e["content-type"]||"application/x-www-form-urlencoded",t.body=u.stringify(i)):t.json&&n&&(e["content-type"]=e["content-type"]||"application/json",t.body=JSON.stringify(i)),f.undefined(e["content-length"])&&f.undefined(e["transfer-encoding"])&&!f.nodeStream(i)){const n=f.string(t.body)?D.byteLength(t.body):t.body.length;e["content-length"]=n}f.buffer(i)&&(t.body=p(i),t.body._buffer=i),t.method=(t.method||"POST").toUpperCase()}if("unix"===t.hostname){const e=/(.+?):(.+)/.exec(t.path);e&&(t.socketPath=e[1],t.path=e[2],t.host=null)}if(!f.function(t.retries)){const e=t.retries;t.retries=(t,n)=>{if(t>e||!S(n))return 0;return 1e3*(1<<t)+100*Math.random()}}return f.undefined(t.followRedirect)&&(t.followRedirect=!0),t.timeout&&(f.number(t.timeout)?t.gotTimeout={request:t.timeout}:t.gotTimeout=t.timeout,delete t.timeout),t}function N(e,t){try{const n=A(e,t);return n.stream?O(n):function(e){const t=new r,n=new x((n,r,i)=>{const o=L(e);let s=!1;i(()=>{s=!0}),o.on("request",t=>{if(s&&t.abort(),i(()=>{t.abort()}),f.nodeStream(e.body))return e.body.pipe(t),void(e.body=void 0);t.end(e.body)}),o.on("response",t=>{(f.null(e.encoding)?m.buffer(t):m(t,e)).catch(t=>r(new N.ReadError(t,e))).then(r=>{const i=t.statusCode,o=e.followRedirect?299:399;if(t.body=r,e.json&&t.body)try{t.body=JSON.parse(t.body)}catch(t){if(i>=200&&i<300)throw new N.ParseError(t,i,e,r)}if(e.throwHttpErrors&&304!==i&&(i<200||i>o))throw new N.HTTPError(i,t.statusMessage,t.headers,e);n(t)}).catch(e=>{Object.defineProperty(e,"response",{value:t}),r(e)})}),o.once("error",r),o.on("redirect",t.emit.bind(t,"redirect")),o.on("uploadProgress",t.emit.bind(t,"uploadProgress")),o.on("downloadProgress",t.emit.bind(t,"downloadProgress"))});Object.defineProperty(n,"canceled",{get:()=>n.isCanceled});const i=(o=n,e.gotTimeout&&e.gotTimeout.request?C(o,e.gotTimeout.request,new N.RequestError({message:"Request timed out",code:"ETIMEDOUT"},e)):o);var o;return i.cancel=n.cancel.bind(n),i.on=(e,n)=>(t.on(e,n),i),i}(n)}catch(e){return Promise.reject(e)}}N.stream=(e,t)=>O(A(e,t));const R=["get","post","put","patch","head","delete"];for(const e of R)N[e]=(t,n)=>N(t,Object.assign({},n,{method:e})),N.stream[e]=(t,n)=>N.stream(t,Object.assign({},n,{method:e}));Object.assign(N,I),e.exports=N},function(e,t){e.exports=require("querystring")},function(e,t,n){"use strict";const r=n(35),i=n(31),o=n(1435),s=n(1441),a=n(1443),c=n(1444),l=n(1445),u=n(1446),d=n(1447);class h{constructor(e,t){if("function"!=typeof e)throw new TypeError("Parameter `request` must be a function");return this.cache=new d({uri:"string"==typeof t&&t,store:"string"!=typeof t&&t,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(t,n)=>{"string"==typeof t&&(t=i.parse(t)),(t=Object.assign({headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1},t)).headers=l(t.headers);const d=new r,p=o(i.format(t)),f=`${t.method}:${p}`;let m=!1,g=!1;const v=t=>{g=!0;const r=e=>{if(m){const n=a.fromObject(m.cachePolicy).revalidatedPolicy(t,e);if(!n.modified){const t=n.policy.responseHeaders();(e=new c(e.statusCode,t,m.body,m.url)).cachePolicy=n.policy,e.fromCache=!0}}let r;e.fromCache||(e.cachePolicy=new a(t,e),e.fromCache=!1),t.cache&&e.cachePolicy.storable()?(r=u(e),s.buffer(e).then(n=>{const r={cachePolicy:e.cachePolicy.toObject(),url:e.url,statusCode:e.fromCache?m.statusCode:e.statusCode,body:n},i=t.strictTtl?e.cachePolicy.timeToLive():void 0;return this.cache.set(f,r,i)}).catch(e=>d.emit("error",new h.CacheError(e)))):t.cache&&m&&this.cache.delete(f).catch(e=>d.emit("error",new h.CacheError(e))),d.emit("response",r||e),"function"==typeof n&&n(r||e)};try{const n=e(t,r);d.emit("request",n)}catch(e){d.emit("error",new h.RequestError(e))}};return this.cache.on("error",e=>d.emit("error",new h.CacheError(e))),(e=>Promise.resolve().then(()=>e.cache?this.cache.get(f):void 0).then(t=>{if(void 0===t)return v(e);const r=a.fromObject(t.cachePolicy);if(r.satisfiesWithoutRevalidation(e)){const e=r.responseHeaders(),i=new c(t.statusCode,e,t.body,t.url);i.cachePolicy=r,i.fromCache=!0,d.emit("response",i),"function"==typeof n&&n(i)}else m=t,e.headers=r.revalidationHeaders(e),v(e)}))(t).catch(e=>{t.automaticFailover&&!g&&v(t),d.emit("error",new h.CacheError(e))}),d}}}h.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}},h.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}},e.exports=h},function(e,t,n){"use strict";const r=n(31),i=n(1436),o=n(1437),s=n(704),a=n(1440),c={"http:":80,"https:":443,"ftp:":21},l={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function u(e,t){return t.some(t=>t instanceof RegExp?t.test(e):t===e)}e.exports=(e,t)=>{if(t=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,stripFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),"string"!=typeof e)throw new TypeError("Expected a string");const n=e.startsWith("//");e=s(e.trim()).replace(/^\/\//,"http://");const d=r.parse(e);if(t.normalizeHttps&&"https:"===d.protocol&&(d.protocol="http:"),!d.hostname&&!d.pathname)throw new Error("Invalid URL");delete d.host,delete d.query,t.stripFragment&&delete d.hash;const h=c[d.protocol];if(Number(d.port)===h&&delete d.port,d.pathname&&(d.pathname=d.pathname.replace(/\/{2,}/g,"/")),d.pathname&&(d.pathname=decodeURI(d.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=d.pathname.split("/");u(e[e.length-1],t.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),d.pathname=e.slice(1).join("/")+"/")}if(l[d.protocol]){const e=d.protocol+"//"+d.hostname,t=r.resolve(e,d.pathname);d.pathname=t.replace(e,"")}d.hostname&&(d.hostname=i.toUnicode(d.hostname).toLowerCase(),d.hostname=d.hostname.replace(/\.$/,""),t.stripWWW&&(d.hostname=d.hostname.replace(/^www\./,""))),"?"===d.search&&delete d.search;const p=o.parse(d.search);if(Array.isArray(t.removeQueryParameters))for(const e in p)u(e,t.removeQueryParameters)&&delete p[e];return t.sortQueryParameters&&(d.search=o.stringify(a(p))),null!==d.search&&(d.search=decodeURIComponent(d.search)),e=r.format(d),(t.removeTrailingSlash||"/"===d.pathname)&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),e}},function(e,t){e.exports=require("punycode")},function(e,t,n){"use strict";var r=n(1438),i=n(339),o=n(1439);function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function a(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:o(s),n(o(i),s,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r}t.extract=a,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[s(t,e),"[",r,"]"].join(""):[s(t,e),"[",s(r,e),"]=",s(n,e)].join("")};case"bracket":return function(t,n){return null===n?s(t,e):[s(t,e),"[]=",s(n,e)].join("")};default:return function(t,n){return null===n?s(t,e):[s(t,e),"=",s(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return s(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return s(r,t)+"="+s(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(a(e),t)}}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){"use strict";const r=n(705);e.exports=(e,t)=>{if(!r(e))throw new TypeError("Expected a plain object");if("function"==typeof(t=t||{}))throw new TypeError("Specify the compare function as an option instead");const n=t.deep,i=[],o=[],s=e=>{const a=i.indexOf(e);if(-1!==a)return o[a];const c={},l=Object.keys(e).sort(t.compare);i.push(e),o.push(c);for(let t=0;t<l.length;t++){const i=l[t],o=e[i];if(n&&Array.isArray(o)){const e=[];for(let t=0;t<o.length;t++)e[t]=r(o[t])?s(o[t]):o[t];c[i]=e}else c[i]=n&&r(o)?s(o):o}return c};return s(e)}},function(e,t,n){"use strict";const r=n(1442);function i(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));const n=(t=Object.assign({maxBuffer:1/0},t)).maxBuffer;let i,o;const s=new Promise((s,a)=>{const c=e=>{e&&(e.bufferedData=i.getBufferedValue()),a(e)};i=r(t),e.once("error",c),e.pipe(i),i.on("data",()=>{i.getBufferedLength()>n&&a(new Error("maxBuffer exceeded"))}),i.once("error",c),i.on("end",s),o=()=>{e.unpipe&&e.unpipe(i)}});return s.then(o,o),s.then(()=>i.getBufferedValue())}e.exports=i,e.exports.buffer=(e,t)=>i(e,Object.assign({},t,{encoding:"buffer"})),e.exports.array=(e,t)=>i(e,Object.assign({},t,{array:!0}))},function(e,t,n){"use strict";const r=n(17).PassThrough;e.exports=e=>{const t=(e=Object.assign({},e)).array;let n=e.encoding;const i="buffer"===n;let o=!1;t?o=!(n||i):n=n||"utf8",i&&(n=null);let s=0;const a=[],c=new r({objectMode:o});return n&&c.setEncoding(n),c.on("data",e=>{a.push(e),o?s=a.length:s+=e.length}),c.getBufferedValue=()=>t?a:i?Buffer.concat(a,s):a.join(""),c.getBufferedLength=()=>s,c}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=[200,203,204,206,300,301,404,405,410,414,501],o=[200,203,204,300,301,302,303,307,308,404,405,410,414,501],s={connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},a={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function c(e){var t={};if(!e)return t;var n=e.trim().split(/\s*,\s*/),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o.split(/\s*=\s*/,2),a=s[0],c=s[1];t[a]=void 0===c||c.replace(/^"|"$/g,"")}return t}function l(e){var t=[];for(var n in e){var r=e[n];t.push(!0===r?n:n+"="+r)}if(t.length)return t.join(", ")}e.exports=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.shared,s=i.cacheHeuristic,a=i.immutableMinTimeToLive,u=i.ignoreCargoCult,d=i._fromObject;if(r(this,e),d)this._fromObject(d);else{if(!n||!n.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=!1!==o,this._cacheHeuristic=void 0!==s?s:.1,this._immutableMinTtl=void 0!==a?a:864e5,this._status="status"in n?n.status:200,this._resHeaders=n.headers,this._rescc=c(n.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=n.headers.vary?t.headers:null,this._reqcc=c(t.headers["cache-control"]),u&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":l(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),!n.headers["cache-control"]&&/no-cache/.test(n.headers.pragma)&&(this._rescc["no-cache"]=!0)}}return e.prototype.now=function(){return Date.now()},e.prototype.storable=function(){return!(this._reqcc["no-store"]||!("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())||-1===o.indexOf(this._status)||this._rescc["no-store"]||this._isShared&&this._rescc.private||this._isShared&&!this._noAuthorization&&!this._allowsStoringAuthenticated()||!(this._resHeaders.expires||this._rescc.public||this._rescc["max-age"]||this._rescc["s-maxage"]||-1!==i.indexOf(this._status)))},e.prototype._hasExplicitExpiration=function(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires},e.prototype._assertRequestHasHeaders=function(e){if(!e||!e.headers)throw Error("Request headers missing")},e.prototype.satisfiesWithoutRevalidation=function(e){this._assertRequestHasHeaders(e);var t=c(e.headers["cache-control"]);if(t["no-cache"]||/no-cache/.test(e.headers.pragma))return!1;if(t["max-age"]&&this.age()>t["max-age"])return!1;if(t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"])return!1;if(this.stale()&&!(t["max-stale"]&&!this._rescc["must-revalidate"]&&(!0===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge())))return!1;return this._requestMatches(e,!1)},e.prototype._requestMatches=function(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)},e.prototype._allowsStoringAuthenticated=function(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]},e.prototype._varyMatches=function(e){if(!this._resHeaders.vary)return!0;if("*"===this._resHeaders.vary)return!1;var t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i;if(e.headers[o]!==this._reqHeaders[o])return!1}return!0},e.prototype._copyWithoutHopByHopHeaders=function(e){var t={};for(var n in e)s[n]||(t[n]=e[n]);if(e.connection){var r=e.connection.trim().split(/\s*,\s*/),i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}delete t[a]}}if(t.warning){var c=t.warning.split(/,/).filter((function(e){return!/^\s*1[0-9][0-9]/.test(e)}));c.length?t.warning=c.join(",").trim():delete t.warning}return t},e.prototype.responseHeaders=function(){var e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400&&(e.warning=(e.warning?e.warning+", ":"")+'113 - "rfc7234 5.5.4"'),e.age=""+Math.round(t),e},e.prototype.date=function(){var e=Date.parse(this._resHeaders.date);return Number.isNaN(e)||e<this._responseTime-288e5||e>this._responseTime+288e5?this._responseTime:e},e.prototype.age=function(){var e=Math.max(0,(this._responseTime-this.date())/1e3);if(this._resHeaders.age){var t=this._ageValue();t>e&&(e=t)}return e+(this.now()-this._responseTime)/1e3},e.prototype._ageValue=function(){var e=parseInt(this._resHeaders.age);return isFinite(e)?e:0},e.prototype.maxAge=function(){if(!this.storable()||this._rescc["no-cache"])return 0;if(this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)return 0;if("*"===this._resHeaders.vary)return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return parseInt(this._rescc["s-maxage"],10)}if(this._rescc["max-age"])return parseInt(this._rescc["max-age"],10);var e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){var n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<t?0:Math.max(e,(n-t)/1e3)}if(this._resHeaders["last-modified"]){var r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&t>r)return Math.max(e,(t-r)/1e3*this._cacheHeuristic)}return e},e.prototype.timeToLive=function(){return 1e3*Math.max(0,this.maxAge()-this.age())},e.prototype.stale=function(){return this.maxAge()<=this.age()},e.fromObject=function(e){return new this(void 0,void 0,{_fromObject:e})},e.prototype._fromObject=function(e){if(this._responseTime)throw Error("Reinitialized");if(!e||1!==e.v)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=void 0!==e.imm?e.imm:864e5,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc},e.prototype.toObject=function(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}},e.prototype.revalidationHeaders=function(e){this._assertRequestHasHeaders(e);var t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&"GET"!=this._method){if(delete t["if-modified-since"],t["if-none-match"]){var n=t["if-none-match"].split(/,/).filter((function(e){return!/^\s*W\//.test(e)}));n.length?t["if-none-match"]=n.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t},e.prototype.revalidatedPolicy=function(e,t){if(this._assertRequestHasHeaders(e),!t||!t.headers)throw Error("Response headers missing");var n=!1;if(void 0!==t.status&&304!=t.status?n=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===t.headers["last-modified"]:this._resHeaders.etag||this._resHeaders["last-modified"]||t.headers.etag||t.headers["last-modified"]||(n=!0),!n)return{policy:new this.constructor(e,t),modified:!0};var r={};for(var i in this._resHeaders)r[i]=i in t.headers&&!a[i]?t.headers[i]:this._resHeaders[i];var o=Object.assign({},t,{status:this._status,method:this._method,headers:r});return{policy:new this.constructor(e,o),modified:!1}},e}()},function(e,t,n){"use strict";const r=n(17).Readable,i=n(706);e.exports=class extends r{constructor(e,t,n,r){if("number"!=typeof e)throw new TypeError("Argument `statusCode` should be a number");if("object"!=typeof t)throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if("string"!=typeof r)throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=i(t),this.body=n,this.url=r}_read(){this.push(this.body),this.push(null)}}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=Object.keys(Object(e)),r=0;r<n.length;r++)t[n[r].toLowerCase()]=e[n[r]];return t}},function(e,t,n){"use strict";const r=n(17).PassThrough,i=n(340);e.exports=e=>{if(!e||!e.pipe)throw new TypeError("Parameter `response` must be a response stream.");const t=new r;return i(e,t),e.pipe(t)}},function(e,t,n){"use strict";const r=n(35),i=n(1448);e.exports=class extends r{constructor(e,t){if(super(),this.opts=Object.assign({namespace:"keyv"},"string"==typeof e?{uri:e}:e,t),!this.opts.store){const e=Object.assign({},this.opts);this.opts.store=(e=>{const t={redis:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql"};if(e.adapter||e.uri){const r=e.adapter||/^[^:]*/.exec(e.uri)[0];return new(n(1449)(t[r]))(e)}return new Map})(e)}"function"==typeof this.opts.store.on&&this.opts.store.on("error",e=>this.emit("error",e)),this.opts.store.namespace=this.opts.namespace}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}get(e){e=this._getKeyPrefix(e);const t=this.opts.store;return Promise.resolve().then(()=>t.get(e)).then(t=>{if(void 0!==(t="string"==typeof t?i.parse(t):t)){if(!("number"==typeof t.expires&&Date.now()>t.expires))return t.value;this.delete(e)}})}set(e,t,n){e=this._getKeyPrefix(e),void 0===n&&(n=this.opts.ttl),0===n&&(n=void 0);const r=this.opts.store;return Promise.resolve().then(()=>{const o="number"==typeof n?Date.now()+n:null;return t={value:t,expires:o},r.set(e,i.stringify(t),n)}).then(()=>!0)}delete(e){e=this._getKeyPrefix(e);const t=this.opts.store;return Promise.resolve().then(()=>t.delete(e))}clear(){const e=this.opts.store;return Promise.resolve().then(()=>e.clear())}}},function(e,t){t.stringify=function e(t){if(void 0===t)return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&"object"==typeof t){var n="",r=Array.isArray(t);n=r?"[":"{";var i=!0;for(var o in t){var s="function"==typeof t[o]||!r&&void 0===t[o];Object.hasOwnProperty.call(t,o)&&!s&&(i||(n+=","),i=!1,r?null==t[o]?n+="null":n+=e(t[o]):void 0!==t[o]&&(n+=e(o)+":"+e(t[o])))}return n+=r?"]":"}"}return"string"==typeof t?JSON.stringify(/^:/.test(t)?":"+t:t):void 0===t?"null":JSON.stringify(t)},t.parse=function(e){return JSON.parse(e,(function(e,t){return"string"==typeof t?/^:base64:/.test(t)?new Buffer(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t}))}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1449},function(e,t,n){"use strict";var r=n(17);function i(e,t,n){void 0===n&&(n=t,t=e,e=null),r.Duplex.call(this,e),"function"!=typeof n.read&&(n=new r.Readable(e).wrap(n)),this._writable=t,this._readable=n,this._waiting=!1;var i=this;t.once("finish",(function(){i.end()})),this.once("finish",(function(){t.end()})),n.on("readable",(function(){i._waiting&&(i._waiting=!1,i._read())})),n.once("end",(function(){i.push(null)})),e&&void 0!==e.bubbleErrors&&!e.bubbleErrors||(t.on("error",(function(e){i.emit("error",e)})),n.on("error",(function(e){i.emit("error",e)})))}i.prototype=Object.create(r.Duplex.prototype,{constructor:{value:i}}),i.prototype._write=function(e,t,n){this._writable.write(e,t,n)},i.prototype._read=function(){for(var e,t=0;null!==(e=this._readable.read());)this.push(e),t++;0===t&&(this._waiting=!0)},e.exports=function(e,t,n){return new i(e,t,n)},e.exports.DuplexWrapper=i},function(e,t,n){"use strict";const r=n(1452),i=n(1456);e.exports=e=>{let t,n;function o(r){t=i(e=r)?e:null;const o=!t&&e[Symbol.iterator]&&"string"!=typeof e&&!Buffer.isBuffer(e);n=o?e[Symbol.iterator]():null}return Array.isArray(e)&&(e=e.slice()),o(e),r((function r(i,s){if(t)return void t.then(o).then(()=>r.call(this,i,s),s);if(n){const e=n.next();return void setImmediate(s,null,e.done?null:e.value)}if(0===e.length)return void setImmediate(s,null,null);const a=e.slice(0,i);e=e.slice(i),setImmediate(s,null,a)}))},e.exports.obj=e=>{let t,n;function o(r){t=i(e=r)?e:null,n=!t&&e[Symbol.iterator]?e[Symbol.iterator]():null}return Array.isArray(e)&&(e=e.slice()),o(e),r.obj((function r(i,s){if(t)t.then(o).then(()=>r.call(this,i,s),s);else if(n){const e=n.next();setImmediate(s,null,e.done?null:e.value)}else this.push(e),setImmediate(s,null,null)}))}},function(e,t,n){var r=n(1453).Readable,i=n(27);e.exports=s,s.ctor=a,s.obj=function(e,t){("function"==typeof e||Array.isArray(e))&&(t=e,e={});return(e=l(e)).objectMode=!0,e.highWaterMark=16,s(e,t)};var o=a();function s(e,t){("object"!=typeof e||Array.isArray(e))&&(t=e,e={});var n,r=new o(e);return r._from=Array.isArray(t)?(n=(n=t).slice(),function(e,t){var r=null,i=n.length?n.shift():null;i instanceof Error&&(r=i,i=null),t(r,i)}):t||c,r}function a(e,t){function n(t){if(!(this instanceof n))return new n(t);this._reading=!1,this._callback=function(e,t){if(i.destroyed)return;if(e)return i.destroy(e);if(null===t)return i.push(null);i._reading=!1,i.push(t)&&i._read(o)},this.destroyed=!1,r.call(this,t||e);var i=this,o=this._readableState.highWaterMark}return"function"==typeof e&&(t=e,e={}),e=l(e),i(n,r),n.prototype._from=t||c,n.prototype._read=function(e){this._reading||this.destroyed||(this._reading=!0,this._from(e,this._callback))},n.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;process.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},n}function c(){}function l(e){return e=e||{}}},function(e,t,n){var r=n(17);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(707)).Stream=r||t,t.Readable=t,t.Writable=n(710),t.Duplex=n(155),t.Transform=n(712),t.PassThrough=n(1455))},function(e,t,n){"use strict";var r=n(34).Buffer,i=n(18);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";e.exports=o;var r=n(712),i=n(42);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(27),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";e.exports=e=>e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},function(e,t,n){"use strict";const r=n(1458);function i(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));const n=(t=Object.assign({maxBuffer:1/0},t)).maxBuffer;let i,o;const s=new Promise((s,a)=>{const c=e=>{e&&(e.bufferedData=i.getBufferedValue()),a(e)};i=r(t),e.once("error",c),e.pipe(i),i.on("data",()=>{i.getBufferedLength()>n&&a(new Error("maxBuffer exceeded"))}),i.once("error",c),i.on("end",s),o=()=>{e.unpipe&&e.unpipe(i)}});return s.then(o,o),s.then(()=>i.getBufferedValue())}e.exports=i,e.exports.buffer=(e,t)=>i(e,Object.assign({},t,{encoding:"buffer"})),e.exports.array=(e,t)=>i(e,Object.assign({},t,{array:!0}))},function(e,t,n){"use strict";const r=n(17).PassThrough;e.exports=e=>{const t=(e=Object.assign({},e)).array;let n=e.encoding;const i="buffer"===n;let o=!1;t?o=!(n||i):n=n||"utf8",i&&(n=null);let s=0;const a=[],c=new r({objectMode:o});return n&&c.setEncoding(n),c.on("data",e=>{a.push(e),o?s=a.length:s+=e.length}),c.getBufferedValue=()=>t?a:i?Buffer.concat(a,s):a.join(""),c.getBufferedLength=()=>s,c}},function(e,t,n){"use strict";e.exports=function(e,t){if(e.timeoutTimer)return e;var n=isNaN(t)?t:{socket:t,connect:t},r=e._headers?" to "+e._headers.host:"";function i(){e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.timeoutTimer=null)}function o(){i(),void 0!==n.socket&&e.setTimeout(n.socket,(function(){e.abort();var t=new Error("Socket timed out on request"+r);t.code="ESOCKETTIMEDOUT",e.emit("error",t)}))}return void 0!==n.connect&&(e.timeoutTimer=setTimeout((function(){e.abort();var t=new Error("Connection timed out on request"+r);t.code="ETIMEDOUT",e.emit("error",t)}),n.connect)),e.on("socket",(function(e){e.connecting||e._connecting?e.once("connect",o):o()})),e.on("error",i)}},function(e,t,n){"use strict";const r=n(31),i=n(704);e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof e}\` instead.`);const n=i(e,Object.assign({https:!0},t));return r.parse(n)}},function(e,t,n){"use strict";e.exports=function(e){var t={protocol:e.protocol,hostname:e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname}${e.search}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username}:${e.password}`),t}},function(e,t,n){"use strict";const r=n(17).PassThrough,i=n(44),o=n(340);e.exports=e=>{if(-1===["gzip","deflate"].indexOf(e.headers["content-encoding"]))return e;const t=i.createUnzip(),n=new r;return o(e,n),t.on("error",e=>{"Z_BUF_ERROR"!==e.code?n.emit("error",e):n.end()}),e.pipe(t).pipe(n),n}},function(e,t,n){"use strict";var r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],i=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];e.exports=function(e){return!e||!e.code||(-1!==r.indexOf(e.code)||-1===i.indexOf(e.code))}},function(e,t,n){"use strict";const r=n(1465),i=n(1467),o=Object.prototype.toString,s=(e,t)=>!!i(e)&&(!r&&"[object URL]"===o.call(e)||"href"in e&&("protocol"in e&&("username"in e&&("password"in e&&("hostname"in e&&("port"in e&&("host"in e&&("pathname"in e&&("search"in e&&("hash"in e&&!(!0!==t&&!i(e.searchParams))))))))))));s.lenient=e=>s(e,!0),e.exports=s},function(e,t,n){"use strict";
/**
 * @file Tests if ES6 @@toStringTag is supported.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-@@tostringtag|26.3.1 @@toStringTag}
 * @version 1.4.1
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module has-to-string-tag-x
 */e.exports=n(1466)&&"symbol"==typeof Symbol.toStringTag},function(e,t,n){"use strict";
/**
 * @file Tests if ES6 Symbol is supported.
 * @version 1.4.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module has-symbol-support-x
 */e.exports="function"==typeof Symbol&&"symbol"==typeof Symbol("")},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},function(e,t,n){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},function(e,t,n){"use strict";const r=(e,t)=>function(){const n=t.promiseModule,r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];return new n((n,i)=>{t.errorFirst?r.push((function(e,r){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),i(t)):n(t)}else e?i(e):n(r)})):r.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];n(e)}else n(e)})),e.apply(this,r)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(n):!t.exclude.some(n)};let i;i="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):r(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const o in e){const s=e[o];i[o]="function"==typeof s&&n(o)?r(s,t):s}return i}},function(e){e.exports=JSON.parse('{"name":"got","version":"8.3.2","description":"Simplified HTTP requests","license":"MIT","repository":"sindresorhus/got","maintainers":[{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"sindresorhus.com"},{"name":"Vsevolod Strukchinsky","email":"floatdrop@gmail.com","url":"github.com/floatdrop"},{"name":"Alexander Tesfamichael","email":"alex.tesfamichael@gmail.com","url":"alextes.me"}],"engines":{"node":">=4"},"scripts":{"test":"xo && nyc ava","coveralls":"nyc report --reporter=text-lcov | coveralls"},"files":["index.js","errors.js"],"keywords":["http","https","get","got","url","uri","request","util","utility","simple","curl","wget","fetch","net","network","electron"],"dependencies":{"@sindresorhus/is":"^0.7.0","cacheable-request":"^2.1.1","decompress-response":"^3.3.0","duplexer3":"^0.1.4","get-stream":"^3.0.0","into-stream":"^3.1.0","is-retry-allowed":"^1.1.0","isurl":"^1.0.0-alpha5","lowercase-keys":"^1.0.0","mimic-response":"^1.0.0","p-cancelable":"^0.4.0","p-timeout":"^2.0.1","pify":"^3.0.0","safe-buffer":"^5.1.1","timed-out":"^4.0.1","url-parse-lax":"^3.0.0","url-to-options":"^1.0.1"},"devDependencies":{"ava":"^0.25.0","coveralls":"^3.0.0","form-data":"^2.1.1","get-port":"^3.0.0","nyc":"^11.0.2","p-event":"^1.3.0","pem":"^1.4.4","proxyquire":"^1.8.0","sinon":"^4.0.0","slow-stream":"0.0.4","tempfile":"^2.0.0","tempy":"^0.2.1","universal-url":"1.0.0-alpha","xo":"^0.20.0"},"ava":{"concurrency":4},"browser":{"decompress-response":false,"electron":false},"_resolved":"https://registry.npmjs.org/got/-/got-8.3.2.tgz","_integrity":"sha512-qjUJ5U/hawxosMryILofZCkm3C84PLJS/0grRIpjAwu+Lkxxj5cxeCU25BG0/3mDSpXKTyZr8oh8wIgLaH0QCw==","_from":"got@8.3.2"}')},function(e,t,n){"use strict";const r=n(31),i=n(48),o=n(714),s=n(713);class a extends Error{constructor(e,t,n){super(e),Error.captureStackTrace(this,this.constructor),this.name="GotError",s.undefined(t.code)||(this.code=t.code),Object.assign(this,{host:n.host,hostname:n.hostname,method:n.method,path:n.path,protocol:n.protocol,url:n.href})}}e.exports.GotError=a,e.exports.CacheError=class extends a{constructor(e,t){super(e.message,e,t),this.name="CacheError"}},e.exports.RequestError=class extends a{constructor(e,t){super(e.message,e,t),this.name="RequestError"}},e.exports.ReadError=class extends a{constructor(e,t){super(e.message,e,t),this.name="ReadError"}},e.exports.ParseError=class extends a{constructor(e,t,n,o){super(`${e.message} in "${r.format(n)}": \n${o.slice(0,77)}...`,e,n),this.name="ParseError",this.statusCode=t,this.statusMessage=i.STATUS_CODES[this.statusCode]}},e.exports.HTTPError=class extends a{constructor(e,t,n,r){super(`Response code ${e} (${t=t?t.replace(/\r?\n/g," ").trim():i.STATUS_CODES[e]})`,{},r),this.name="HTTPError",this.statusCode=e,this.statusMessage=t,this.headers=n}},e.exports.MaxRedirectsError=class extends a{constructor(e,t,n){super("Redirected 10 times. Aborting.",{},n),this.name="MaxRedirectsError",this.statusCode=e,this.statusMessage=i.STATUS_CODES[this.statusCode],this.redirectUrls=t}},e.exports.UnsupportedProtocolError=class extends a{constructor(e){super(`Unsupported protocol "${e.protocol}"`,{},e),this.name="UnsupportedProtocolError"}},e.exports.CancelError=o.CancelError},function(e,t){e.exports=require("electron")},function(e,t,n){"use strict";const r=n(25),i=n(6),o=n(716),s=n(108),a={mode:511&~process.umask(),fs:r},c=s.satisfies(process.version,">=10.12.0"),l=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}}},u=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},d=(e,t)=>Promise.resolve().then(()=>{l(e),t=Object.assign({},a,t);const n=o(t.fs.mkdir),s=o(t.fs.stat);if(c&&t.fs.mkdir===r.mkdir){const r=i.resolve(e);return n(r,{mode:t.mode,recursive:!0}).then(()=>r)}const d=e=>n(e,t.mode).then(()=>e).catch(t=>{if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw u(e);if(t.message.includes("null bytes"))throw t;return d(i.dirname(e)).then(()=>d(e))}return s(e).then(t=>t.isDirectory()?e:Promise.reject()).catch(()=>{throw t})});return d(i.resolve(e))});e.exports=d,e.exports.default=d,e.exports.sync=(e,t)=>{if(l(e),t=Object.assign({},a,t),c&&t.fs.mkdirSync===r.mkdirSync){const n=i.resolve(e);return r.mkdirSync(n,{mode:t.mode,recursive:!0}),n}const n=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(r){if("EPERM"===r.code)throw r;if("ENOENT"===r.code){if(i.dirname(e)===e)throw u(e);if(r.message.includes("null bytes"))throw r;return n(i.dirname(e)),n(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw r}}return e};return n(i.resolve(e))}},function(e,t,n){"use strict";const r=n(715),i=Symbol.asyncIterator||"@@asyncIterator",o=e=>{const t=e.on||e.addListener||e.addEventListener,n=e.off||e.removeListener||e.removeEventListener;if(!t||!n)throw new TypeError("Emitter is not compatible");return{addListener:t.bind(e),removeListener:n.bind(e)}},s=e=>Array.isArray(e)?e:[e],a=(e,t,n)=>{let i;const a=new Promise((r,a)=>{if(!((n=Object.assign({rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1},n)).count>=0)||n.count!==1/0&&!Number.isInteger(n.count))throw new TypeError("The `count` option should be at least 0 or more");const c=s(t),l=[],{addListener:u,removeListener:d}=o(e),h=(...e)=>{const t=n.multiArgs?e:e[0];n.filter&&!n.filter(t)||(l.push(t),n.count===l.length&&(i(),r(l)))},p=e=>{i(),a(e)};i=()=>{for(const e of c)d(e,h);for(const e of n.rejectionEvents)d(e,p)};for(const e of c)u(e,h);for(const e of n.rejectionEvents)u(e,p);n.resolveImmediately&&r(l)});if(a.cancel=i,"number"==typeof n.timeout){const e=r(a,n.timeout);return e.cancel=i,e}return a};e.exports=(e,t,n)=>{"function"==typeof n&&(n={filter:n}),n=Object.assign({},n,{count:1,resolveImmediately:!1});const r=a(e,t,n),i=r.then(e=>e[0]);return i.cancel=r.cancel,i},e.exports.multiple=a,e.exports.iterator=(e,t,n)=>{"function"==typeof n&&(n={filter:n});const r=s(t);n=Object.assign({rejectionEvents:["error"],resolutionEvents:[],limit:1/0,multiArgs:!1},n);const{limit:a}=n;if(!(a>=0&&(a===1/0||Number.isInteger(a))))throw new TypeError("The `limit` option should be a non-negative integer or Infinity");if(0===a)return{[Symbol.asyncIterator](){return this},next:()=>Promise.resolve({done:!0,value:void 0})};let c=!1;const{addListener:l,removeListener:u}=o(e);let d,h=!1,p=!1;const f=[],m=[];let g=0;const v=(...e)=>{g++,c=g===a;const t=n.multiArgs?e:e[0];if(f.length>0){const{resolve:e}=f.shift();return e({done:!1,value:t}),void(c&&y())}m.push(t),c&&y()},y=()=>{h=!0;for(const e of r)u(e,v);for(const e of n.rejectionEvents)u(e,b);for(const e of n.resolutionEvents)u(e,_);for(;f.length>0;){const{resolve:e}=f.shift();e({done:!0,value:void 0})}},b=(...e)=>{if(d=n.multiArgs?e:e[0],f.length>0){const{reject:e}=f.shift();e(d)}else p=!0;y()},_=(...e)=>{const t=n.multiArgs?e:e[0];if(!n.filter||n.filter(t)){if(f.length>0){const{resolve:e}=f.shift();e({done:!0,value:t})}else m.push(t);y()}};for(const e of r)l(e,v);for(const e of n.rejectionEvents)l(e,b);for(const e of n.resolutionEvents)l(e,_);return{[i](){return this},next(){if(m.length>0){const e=m.shift();return Promise.resolve({done:h&&0===m.length&&!c,value:e})}return p?(p=!1,Promise.reject(d)):h?Promise.resolve({done:!0,value:void 0}):new Promise((e,t)=>f.push({resolve:e,reject:t}))},return:e=>(y(),Promise.resolve({done:h,value:e}))}}},function(module,exports,__webpack_require__){"use strict";const{stringToBytes:stringToBytes,readUInt64LE:readUInt64LE,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint8ArrayUtf8ByteString:uint8ArrayUtf8ByteString}=__webpack_require__(1476),xpiZipFilename=stringToBytes("META-INF/mozilla.rsa"),oxmlContentTypes=stringToBytes("[Content_Types].xml"),oxmlRels=stringToBytes("_rels/.rels"),fileType=e=>{if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return;const n=(e,n)=>{n=Object.assign({offset:0},n);for(let r=0;r<e.length;r++)if(n.mask){if(e[r]!==(n.mask[r]&t[r+n.offset]))return!1}else if(e[r]!==t[r+n.offset])return!1;return!0},r=(e,t)=>n(stringToBytes(e),t);if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(n([73,73,42,0,16,251,134,1]))return{ext:"arw",mime:"image/x-sony-arw"};if(n([73,73,42,0,8,0,0,0,45]))return{ext:"dng",mime:"image/x-adobe-dng"};if(n([73,73,42,0,48,61,114,1,28]))return{ext:"nef",mime:"image/x-nikon-nef"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const e=(e,t=0)=>e.findIndex((e,n,r)=>n>=t&&80===r[n]&&75===r[n+1]&&3===r[n+2]&&4===r[n+3]);let i,o=0,s=!1;do{const a=o+30;if(s||(s=n(oxmlContentTypes,{offset:a})||n(oxmlRels,{offset:a})),i||(r("word/",{offset:a})?i={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:a})?i={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:a})&&(i={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),s&&i)return i;o=e(t,a)}while(o>=0);if(i)return i}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})&&tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([102,116,121,112],{offset:4})&&0!=(96&t[8])&&0!=(96&t[9])&&0!=(96&t[10])&&0!=(96&t[11])){const e=uint8ArrayUtf8ByteString(t,8,12);switch(e){case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt  ":return{ext:"mov",mime:"video/quicktime"};case"M4V ":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P ":return{ext:"m4p",mime:"video/mp4"};case"M4B ":return{ext:"m4b",mime:"audio/mp4"};case"M4A ":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V ":return{ext:"f4v",mime:"video/mp4"};case"F4P ":return{ext:"f4p",mime:"video/mp4"};case"F4A ":return{ext:"f4a",mime:"audio/mp4"};case"F4B ":return{ext:"f4b",mime:"audio/mp4"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){const e=t.subarray(4,4100),n=e.findIndex((e,t,n)=>66===n[t]&&130===n[t+1]);if(-1!==n){const t=n+3,r=n=>[...n].every((n,r)=>e[t+r]===n.charCodeAt(0));if(r("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(r("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217])){let e=30;do{const r=readUInt64LE(t,e+16);if(n([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:e})){if(n([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(n([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}e+=r}while(e+24<=t.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};for(let e=0;e<2&&e<t.length-16;e++){if(n([73,68,51],{offset:e})||n([255,226],{offset:e,mask:[255,230]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:e,mask:[255,230]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:e,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:e,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}return n([70,79,82,77])?{ext:"aif",mime:"audio/aiff"}:r("<?xml ")?{ext:"xml",mime:"application/xml"}:n([66,79,79,75,77,79,66,73],{offset:60})?{ext:"mobi",mime:"application/x-mobipocket-ebook"}:n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:n([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:n([77,80,43])||n([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:n([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:n([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:n([212,195,178,161])||n([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:n([68,83,68,32])?{ext:"dsf",mime:"audio/x-dsf"}:n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])?{ext:"lnk",mime:"application/x.ms.shortcut"}:n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])?{ext:"alias",mime:"application/x.apple.alias"}:r("Creative Voice File")?{ext:"voc",mime:"audio/x-voc"}:n([11,119])?{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"}:void 0};module.exports=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),fileType.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const e=new stream.PassThrough,t=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{e.fileType=fileType(t)}catch(e){reject(e)}readableStream.unshift(t),stream.pipeline?resolve(stream.pipeline(readableStream,e,()=>{})):resolve(readableStream.pipe(e))})})},function(e,t,n){"use strict";t.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0));const r=(e,t,n)=>String.fromCharCode(...e.slice(t,n));t.readUInt64LE=(e,t=0)=>{let n=e[t],r=1,i=0;for(;++i<8;)r*=256,n+=e[t+i]*r;return n},t.tarHeaderChecksumMatches=e=>{if(e.length<512)return!1;let t=256,n=0;for(let r=0;r<148;r++){const i=e[r];t+=i,n+=128&i}for(let r=156;r<512;r++){const i=e[r];t+=i,n+=128&i}const i=parseInt(r(e,148,154),8);return i===t||i===t-(n<<1)},t.uint8ArrayUtf8ByteString=r},function(e,t,n){"use strict";const r=n(1478),i=n(1481);e.exports=e=>{const t=i.desc(r()),n=Object.keys(t).filter(t=>e.endsWith(t));return 0===n.length?[]:n.map(e=>({ext:e,mime:t[e]}))},e.exports.mime=e=>{const t=i.desc(r()),n=Object.keys(t).filter(n=>t[n]===e);return 0===n.length?[]:n.map(e=>({ext:e,mime:t[e]}))}},function(e,t,n){"use strict";var r=n(1479);e.exports=function(){var e={};return Object.keys(r).forEach((function(t){var n=r[t];n.extensions&&n.extensions.length>0&&n.extensions.forEach((function(n){e[n]=t}))})),e}},function(e,t,n){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
e.exports=n(1480)},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true},"application/atsc-held+xml":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cbor":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma","es"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true},"application/fhir+json":{"source":"iana","compressible":true},"application/fhir+xml":{"source":"iana","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true},"application/mmt-usd+xml":{"source":"iana","compressible":true},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","compressible":true},"application/msc-mixer+xml":{"source":"iana","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana"},"application/news-groupinfo":{"source":"iana"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana"},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana","compressible":true},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","compressible":true},"application/pidf-diff+xml":{"source":"iana","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true},"application/route-s-tsid+xml":{"source":"iana","compressible":true},"application/route-usd+xml":{"source":"iana","compressible":true},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana"},"application/ttml+xml":{"source":"iana","compressible":true},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true},"application/urc-targetdesc+xml":{"source":"iana","compressible":true},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["keynote"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","compressible":true},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"apache","extensions":["der","crt","pem"]},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true},"application/xcap-caps+xml":{"source":"iana","compressible":true},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana"},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana"},"image/avcs":{"source":"iana"},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana","compressible":false},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shex":{"extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana"},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vp8":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,n){"use strict";var r=n(1482);e.exports.desc=function(e){return r(e,(function(e,t){return t.length-e.length}))},e.exports.asc=function(e){return r(e,(function(e,t){return e.length-t.length}))}},function(e,t,n){"use strict";var r=n(705);e.exports=function(e,t){if(!r(e))throw new TypeError("Expected a plain object");"function"==typeof(t=t||{})&&(t={compare:t});var n=t.deep,i=[],o=[],s=function(e){var a=i.indexOf(e);if(-1!==a)return o[a];var c={},l=Object.keys(e).sort(t.compare);i.push(e),o.push(c);for(var u=0;u<l.length;u++){var d=l[u],h=e[d];c[d]=n&&r(h)?s(h):h}return c};return s(e)}},function(e,t,n){"use strict";var r=n(1484),i=Buffer.byteLength.bind(Buffer);e.exports=r.bind(null,i)},function(e,t,n){"use strict";function r(e){return e>=55296&&e<=56319}function i(e){return e>=56320&&e<=57343}e.exports=function(e,t,n){if("string"!=typeof t)throw new Error("Input must be string");for(var o,s,a=t.length,c=0,l=0;l<a;l+=1){if(o=t.charCodeAt(l),s=t[l],r(o)&&i(t.charCodeAt(l+1))&&(s+=t[l+=1]),(c+=e(s))===n)return t.slice(0,l+1);if(c>n)return t.slice(0,l-s.length+1)}return t}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalWidgetScriptSourceProvider=void 0;const i=n(6),o=n(1),s=n(4),a=n(8),c=n(5),l=n(22);class u{constructor(e,t,n,r,i){this.notebook=e,this.localResourceUriConverter=t,this.fs=n,this.interpreterService=r,this.factory=i}async getWidgetScriptSource(e){return(await this.getWidgetScriptSources()).find(t=>t.moduleName.toLowerCase()===e.toLowerCase())||{moduleName:e}}dispose(){}async getWidgetScriptSources(e){return!e&&this.cachedWidgetScripts?this.cachedWidgetScripts:this.cachedWidgetScripts=this.getWidgetScriptSourcesWithoutCache()}async getWidgetScriptSourcesWithoutCache(){const e=await this.getSysPrefixOfKernel();if(!e)return[];const t=i.join(e,"share","jupyter","nbextensions"),n=(await this.fs.searchLocal(`*${i.sep}index.js`,t)).filter(e=>2===e.split("/").length||(s.traceError("Incorrect file found when searching for nnbextension entrypoints"),!1)).map(async e=>{const n=e.split("/")[0],r=o.Uri.file(i.join(t,e));return{moduleName:n,scriptUri:(await this.localResourceUriConverter.asWebviewUri(r)).toString(),source:"local"}});return Promise.all(n)}async getSysPrefixOfKernel(){const e=this.notebook.getKernelConnection();if(!e)return;const t=l.getInterpreterFromKernelConnectionMetadata(e);if(null==t?void 0:t.sysPrefix)return null==t?void 0:t.sysPrefix;if(!l.isPythonKernelConnection(e))return;const n=(null==t?void 0:t.path)||l.getKernelPathFromKernelConnection(e);if(!n)return;const r=await this.interpreterService.getInterpreterDetails(n).catch(s.traceError.bind("Failed to get interpreter details for Kernel/Interpreter "+n));if(r&&!r.sysPrefix){const e=await this.factory.createActivatedEnvironment({interpreter:r}),t=await e.getInterpreterInformation();return null==t?void 0:t.sysPrefix}return r?null==r?void 0:r.sysPrefix:void 0}}r([a.captureTelemetry(c.Telemetry.DiscoverIPyWidgetNamesLocalPerf)],u.prototype,"getWidgetScriptSourcesWithoutCache",null),t.LocalWidgetScriptSourceProvider=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteWidgetScriptSourceProvider=void 0;const r=n(4);class i{constructor(e,t){this.connection=e,this.httpClient=t}dispose(){}async getWidgetScriptSource(e,t){const n=`${this.connection.baseUrl}nbextensions/${e}/index.js`;return await this.getUrlForWidget(n)?{moduleName:e,scriptUri:n,source:"cdn"}:(r.traceWarning(`Widget Script not found for ${e}@${t}`),{moduleName:e})}async getUrlForWidget(e){if(i.validUrls.has(e))return i.validUrls.get(e);const t=await this.httpClient.exists(e);return i.validUrls.set(e,t),t}}t.RemoteWidgetScriptSourceProvider=i,i.validUrls=new Map},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoPythonKernelsNotebookController=void 0;const r=n(99),i=n(10),o=n(9),s=n(8),a=n(5),c=n(24);t.NoPythonKernelsNotebookController=class{constructor(e,t,n,r,i,o){this.notebookApi=t,this.commandManager=n,this.pythonExtensionChecker=i,this.appShell=o,this.disposables=[],r.push(this),this.controller=this.notebookApi.createNotebookController("NoPythonController_"+e,e,"Python 3",this.handleExecution.bind(this)),this.disposables.push(this.controller),this.controller.description="",this.controller.detail="python3",this.controller.supportedLanguages=a.LanguagesSupportedByPythonkernel}dispose(){r.disposeAllDisposables(this.disposables)}async updateNotebookAffinity(e,t){this.controller.updateNotebookAffinity(e,t),this.updateLabels(e)}updateLabels(e){var t,n;const r=c.getNotebookMetadata(e);c.isPythonNotebook(r)&&(this.controller.label=(null===(t=null==r?void 0:r.kernelspec)||void 0===t?void 0:t.display_name)||(null===(n=null==r?void 0:r.kernelspec)||void 0===n?void 0:n.name)||this.controller.label)}async handleExecution(e){this.pythonExtensionChecker.isPythonExtensionInstalled?await this.handleExecutionWithoutPython():await this.handleExecutionWithoutPythonExtension()}async handleExecutionWithoutPythonExtension(){s.sendTelemetryEvent(a.Telemetry.PythonExtensionNotInstalled,void 0,{action:"displayed"});await this.appShell.showErrorMessage(i.DataScience.pythonExtensionRequiredToRunNotebook(),{modal:!0},i.Common.install())===i.Common.install()?(s.sendTelemetryEvent(a.Telemetry.PythonExtensionNotInstalled,void 0,{action:"download"}),this.commandManager.executeCommand("extension.open",a.PythonExtension).then(o.noop,o.noop)):s.sendTelemetryEvent(a.Telemetry.PythonExtensionNotInstalled,void 0,{action:"dismissed"})}async handleExecutionWithoutPython(){s.sendTelemetryEvent(a.Telemetry.PythonNotInstalled,void 0,{action:"displayed"});await this.appShell.showErrorMessage(i.DataScience.pythonNotInstalledNonMarkdown(),{modal:!0},i.Common.install())===i.Common.install()?(s.sendTelemetryEvent(a.Telemetry.PythonNotInstalled,void 0,{action:"download"}),this.appShell.openUrl("https://www.python.org/downloads")):s.sendTelemetryEvent(a.Telemetry.PythonNotInstalled,void 0,{action:"dismissed"})}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDisposeService=void 0;const o=n(0),s=n(7),a=n(4),c=n(3),l=n(9),u=n(56),d=n(13);let h=class{constructor(e,t,n,r){this.vscNotebook=e,this.disposables=t,this.notebookProvider=n,this.kernelProvider=r}async activate(){this.vscNotebook.onDidCloseNotebookDocument(this.onDidCloseNotebookDocument,this,this.disposables)}onDidCloseNotebookDocument(e){a.traceInfo("Notebook Closed "+e.uri.toString());const t=this.kernelProvider.get(e);t&&(a.traceInfo("Kernel got disposed as a result of closing the notebook",t.notebookUri.toString()),t.dispose().catch(l.noop)),this.notebookProvider.disposeAssociatedNotebook({identity:e.uri})}};h=r([o.injectable(),i(0,o.inject(s.IVSCodeNotebook)),i(1,o.inject(c.IDisposableRegistry)),i(2,o.inject(d.INotebookProvider)),i(3,o.inject(u.IKernelProvider))],h),t.NotebookDisposeService=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSwitcher=void 0;const o=n(0),s=n(1),a=n(7),c=n(3),l=n(10),u=n(9),d=n(5),h=n(197),p=n(13),f=n(24),m=n(115);let g=class{constructor(e,t,n,r,i,o,s,a){this.serverUriStorage=e,this.documentManager=t,this.notebook=n,this.commandManager=r,this.disposableRegistry=i,this.appShell=o,this.serverSelector=s,this.notebookControllerManager=a,this.disposables=[],this.disposableRegistry.push(this)}dispose(){this.disposables.forEach(e=>e.dispose())}async activate(){this.disposables.push(this.commandManager.registerCommand(d.Commands.SelectNativeJupyterUriFromToolBar,this.onToolBarCommand,this)),this.statusBarItem=this.appShell.createStatusBarItem(s.StatusBarAlignment.Right,1e3),this.notebook.onDidChangeActiveNotebookEditor(this.updateStatusBar.bind(this),this.disposables),this.documentManager.onDidChangeActiveTextEditor(this.updateStatusBar.bind(this),this.disposables),this.serverUriStorage.onDidChangeUri(this.updateStatusBar.bind(this),this.disposables),this.notebookControllerManager.onNotebookControllerSelected(this.updateStatusBar.bind(this),this,this.disposables),this.disposables.push(this.statusBarItem),this.updateStatusBar().catch(u.noop)}async onToolBarCommand(){await this.serverSelector.selectJupyterURI(!0,"nativeNotebookToolbar")}async updateStatusBar(){if(!this.notebook.activeNotebookEditor||!f.isJupyterNotebook(this.notebook.activeNotebookEditor.document))return void this.statusBarItem.hide();this.statusBarItem.show();const e=await this.serverUriStorage.getUri(),t=e===d.Settings.JupyterServerLocalLaunch?l.DataScience.jupyterNativeNotebookUriStatusLabelForLocal():l.DataScience.jupyterNativeNotebookUriStatusLabelForRemote(),n=e===d.Settings.JupyterServerLocalLaunch?"":` (${e})`,r=`${l.DataScience.specifyLocalOrRemoteJupyterServerForConnections()}${n}`;this.statusBarItem.text="$(debug-disconnect) "+t,this.statusBarItem.tooltip=r,this.statusBarItem.command={command:d.Commands.SelectJupyterURI,title:t,tooltip:r,arguments:[void 0,"nativeNotebookStatusBar"]},this.statusBarItem.command}};g=r([o.injectable(),i(0,o.inject(p.IJupyterServerUriStorage)),i(1,o.inject(a.IDocumentManager)),i(2,o.inject(a.IVSCodeNotebook)),i(3,o.inject(a.ICommandManager)),i(4,o.inject(c.IDisposableRegistry)),i(5,o.inject(a.IApplicationShell)),i(6,o.inject(h.JupyterServerSelector)),i(7,o.inject(m.INotebookControllerManager))],g),t.RemoteSwitcher=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RendererCommunication=void 0;const o=n(0),s=n(1),a=n(99),c=n(9),l=n(100),u=n(718),d=n(720);let h=class{constructor(e,t){this.plotSaveHandler=e,this.plotViewHandler=t,this.disposables=[]}dispose(){a.disposeAllDisposables(this.disposables)}activate(){s.notebooks.createRendererMessaging(l.JupyterNotebookRenderer).onDidReceiveMessage(({editor:e,message:t})=>{"saveAs"===t.type?this.plotSaveHandler.savePlot(e,t.outputId,t.mimeType).catch(c.noop):"openPlot"===t.type&&this.plotViewHandler.openPlot(e,t.outputId).catch(c.noop)},this,this.disposables)}};h=r([o.injectable(),i(0,o.inject(u.PlotSaveHandler)),i(1,o.inject(d.PlotViewHandler))],h),t.RendererCommunication=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewerMessageListener=void 0,n(15);t.PlotViewerMessageListener=class{constructor(e,t,n){this.disposedCallback=n,this.callback=e,this.viewChanged=t}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}onChangeViewState(e){this.viewChanged&&this.viewChanged(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPlotViewerMapping=t.PlotViewerMessages=void 0;const r=n(187);var i;!function(e){e.Started=r.SharedMessages.Started,e.UpdateSettings=r.SharedMessages.UpdateSettings,e.SendPlot="send_plot",e.CopyPlot="copy_plot",e.ExportPlot="export_plot",e.RemovePlot="remove_plot"}(i=t.PlotViewerMessages||(t.PlotViewerMessages={}));t.IPlotViewerMapping=class{},i.Started,i.UpdateSettings,i.SendPlot,i.CopyPlot,i.ExportPlot,i.RemovePlot,r.CssMessages.GetCssRequest,r.CssMessages.GetCssResponse},function(e,t,n){(function(e){e&&void 0!==e.exports&&(e.exports=function(e,t,n,r,i){"use strict";const o={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgrey:[211,211,211],lightgreen:[144,238,144],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0]},s={black:[o.black,1],white:[o.white,1],transparent:[o.black,0]},a={quot:34,amp:38,lt:60,gt:62,apos:39,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},c={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},l={A3:!0,A4:!0,a3:!0,a4:!0},u={color:{inherit:!0,initial:void 0},visibility:{inherit:!0,initial:"visible",values:{hidden:"hidden",collapse:"hidden",visible:"visible"}},fill:{inherit:!0,initial:s.black},stroke:{inherit:!0,initial:"none"},"stop-color":{inherit:!1,initial:s.black},"fill-opacity":{inherit:!0,initial:1},"stroke-opacity":{inherit:!0,initial:1},"stop-opacity":{inherit:!1,initial:1},"fill-rule":{inherit:!0,initial:"nonzero",values:{nonzero:"nonzero",evenodd:"evenodd"}},"clip-rule":{inherit:!0,initial:"nonzero",values:{nonzero:"nonzero",evenodd:"evenodd"}},"stroke-width":{inherit:!0,initial:1},"stroke-dasharray":{inherit:!0,initial:[]},"stroke-dashoffset":{inherit:!0,initial:0},"stroke-miterlimit":{inherit:!0,initial:4},"stroke-linejoin":{inherit:!0,initial:"miter",values:{miter:"miter",round:"round",bevel:"bevel"}},"stroke-linecap":{inherit:!0,initial:"butt",values:{butt:"butt",round:"round",square:"square"}},"font-size":{inherit:!0,initial:16,values:{"xx-small":9,"x-small":10,small:13,medium:16,large:18,"x-large":24,"xx-large":32}},"font-family":{inherit:!0,initial:"sans-serif"},"font-weight":{inherit:!0,initial:"normal",values:{600:"bold",700:"bold",800:"bold",900:"bold",bold:"bold",bolder:"bold",500:"normal",400:"normal",300:"normal",200:"normal",100:"normal",normal:"normal",lighter:"normal"}},"font-style":{inherit:!0,initial:"normal",values:{italic:"italic",oblique:"italic",normal:"normal"}},"text-anchor":{inherit:!0,initial:"start",values:{start:"start",middle:"middle",end:"end"}},direction:{inherit:!0,initial:"ltr",values:{ltr:"ltr",rtl:"rtl"}},"dominant-baseline":{inherit:!0,initial:"baseline",values:{auto:"baseline",baseline:"baseline","before-edge":"before-edge","text-before-edge":"before-edge",middle:"middle",central:"central","after-edge":"after-edge","text-after-edge":"after-edge",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"mathematical"}},"alignment-baseline":{inherit:!1,initial:void 0,values:{auto:"baseline",baseline:"baseline","before-edge":"before-edge","text-before-edge":"before-edge",middle:"middle",central:"central","after-edge":"after-edge","text-after-edge":"after-edge",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"mathematical"}},"baseline-shift":{inherit:!0,initial:"baseline",values:{baseline:"baseline",sub:"sub",super:"super"}},"word-spacing":{inherit:!0,initial:0,values:{normal:0}},"letter-spacing":{inherit:!0,initial:0,values:{normal:0}},"text-decoration":{inherit:!1,initial:"none",values:{none:"none",underline:"underline",overline:"overline","line-through":"line-through"}},"xml:space":{inherit:!0,initial:"default",css:"white-space",values:{preserve:"preserve",default:"default",pre:"preserve","pre-line":"preserve","pre-wrap":"preserve",nowrap:"default"}},"marker-start":{inherit:!0,initial:"none"},"marker-mid":{inherit:!0,initial:"none"},"marker-end":{inherit:!0,initial:"none"},opacity:{inherit:!1,initial:1},transform:{inherit:!1,initial:[1,0,0,1,0,0]},display:{inherit:!1,initial:"inline",values:{none:"none",inline:"inline",block:"inline"}},"clip-path":{inherit:!1,initial:"none"},mask:{inherit:!1,initial:"none"},overflow:{inherit:!1,initial:"hidden",values:{hidden:"hidden",scroll:"hidden",visible:"visible"}}};function d(t){let n=new function(){};return n.name="G"+(e._groupCount=(e._groupCount||0)+1),n.resources=e.ref(),n.xobj=e.ref({Type:"XObject",Subtype:"Form",FormType:1,BBox:t,Group:{S:"Transparency",CS:"DeviceRGB",I:!0,K:!1},Resources:n.resources}),n.xobj.write(""),n.savedMatrix=e._ctm,n.savedPage=e.page,Ae.push(n),e._ctm=[1,0,0,1,0,0],e.page={width:e.page.width,height:e.page.height,write:function(e){n.xobj.write(e)},fonts:{},xobjects:{},ext_gstates:{},patterns:{}},n}function h(t){if(t!==Ae.pop())throw"Group not matching";Object.keys(e.page.fonts).length&&(t.resources.data.Font=e.page.fonts),Object.keys(e.page.xobjects).length&&(t.resources.data.XObject=e.page.xobjects),Object.keys(e.page.ext_gstates).length&&(t.resources.data.ExtGState=e.page.ext_gstates),Object.keys(e.page.patterns).length&&(t.resources.data.Pattern=e.page.patterns),t.resources.end(),t.xobj.end(),e._ctm=t.savedMatrix,e.page=t.savedPage}function p(t){e.page.xobjects[t.name]=t.xobj,e.addContent("/"+t.name+" Do")}function f(t,n){let r="M"+(e._maskCount=(e._maskCount||0)+1),i=e.ref({Type:"ExtGState",CA:1,ca:1,BM:"Normal",SMask:{S:"Luminosity",G:t.xobj,BC:n?[0,0,0]:[1,1,1]}});i.end(),e.page.ext_gstates[r]=i,e.addContent("/"+r+" gs")}function m(e,t,n,r){let i=new function(){};return i.group=e,i.dx=t,i.dy=n,i.matrix=r||[1,0,0,1,0,0],i}function g(t,n){let r="P"+(e._patternCount=(e._patternCount||0)+1),i=e.ref({Type:"Pattern",PatternType:1,PaintType:1,TilingType:2,BBox:[0,0,t.dx,t.dy],XStep:t.dx,YStep:t.dy,Matrix:x(e._ctm,t.matrix),Resources:{ProcSet:["PDF","Text","ImageB","ImageC","ImageI"],XObject:function(){let e={};return e[t.group.name]=t.group.xobj,e}()}});i.write("/"+t.group.name+" Do"),i.end(),e.page.patterns[r]=i,n?(e.addContent("/Pattern CS"),e.addContent("/"+r+" SCN")):(e.addContent("/Pattern cs"),e.addContent("/"+r+" scn"))}function v(t,n){let r=t&&n?2:n?1:t?0:3;e.addContent(r+" Tr")}function y(t){"PDFPattern"===t[0].constructor.name?(e.fillOpacity(t[1]),g(t[0],!1)):e.fillColor(t[0],t[1])}function b(t){"PDFPattern"===t[0].constructor.name?(e.strokeOpacity(t[1]),g(t[0],!0)):e.strokeColor(t[0],t[1])}function _(e){let t=function(e,t,n,r){this.error=r,this.nodeName=e,this.nodeValue=n,this.nodeType=t,this.attributes=Object.create(null),this.childNodes=[],this.parentNode=null,this.id="",this.textContent="",this.classList=[]};t.prototype.getAttribute=function(e){return null!=this.attributes[e]?this.attributes[e]:null},t.prototype.getElementById=function(e){let t=null;return function n(r){if(!t&&1===r.nodeType){r.id===e&&(t=r);for(let e=0;e<r.childNodes.length;e++)n(r.childNodes[e])}}(this),t},t.prototype.getElementsByTagName=function(e){let t=[];return function n(r){if(1===r.nodeType){r.nodeName===e&&t.push(r);for(let e=0;e<r.childNodes.length;e++)n(r.childNodes[e])}}(this),t};let n,r,i=new q(e.trim()),o=!1,s=function(){let e,n;if(e=i.match(/^<([\w:.-]+)\s*/,!0)){let r=new t(e[1],1,null,o);for(;e=i.match(/^([\w:.-]+)(?:\s*=\s*"([^"]*)"|\s*=\s*'([^']*)')?\s*/,!0);){let t=e[1],n=w(e[2]||e[3]||"");r.attributes[t]?(Ie('parseXml: duplicate attribute "'+t+'"'),o=!0):(r.attributes[t]=n,"id"===t&&(r.id=n),"class"===t&&(r.classList=n.split(" ")))}if(i.match(/^>/)){for(;n=s();)r.childNodes.push(n),n.parentNode=r,r.textContent+=3===n.nodeType||4===n.nodeType?n.nodeValue:n.textContent;return(e=i.match(/^<\/([\w:.-]+)\s*>/,!0))?(e[1]===r.nodeName||(Ie('parseXml: tag not matching, opening "'+r.nodeName+'" & closing "'+e[1]+'"'),o=!0),r):(Ie('parseXml: tag not matching, opening "'+r.nodeName+'" & not closing'),o=!0,r)}if(i.match(/^\/>/))return r;Ie('parseXml: tag could not be parsed "'+r.nodeName+'"'),o=!0}else{if(e=i.match(/^<!--[\s\S]*?-->/))return new t(null,8,e,o);if(e=i.match(/^<\?[\s\S]*?\?>/))return new t(null,7,e,o);if(e=i.match(/^<!DOCTYPE\s*([\s\S]*?)>/))return new t(null,10,e,o);if(e=i.match(/^<!\[CDATA\[([\s\S]*?)\]\]>/,!0))return new t("#cdata-section",4,e[1],o);if(e=i.match(/^([^<]+)/,!0))return new t("#text",3,w(e[1]),o)}};for(;r=s();)1!==r.nodeType||n?(1===r.nodeType||3===r.nodeType&&""!==r.nodeValue.trim())&&Ie("parseXml: data after document end has been discarded"):n=r;return i.matchAll()&&Ie("parseXml: parsing error"),n}function w(e){return e.replace(/&(?:#([0-9]+)|#[xX]([0-9A-Fa-f]+)|([0-9A-Za-z]+));/g,(function(e,t,n,r){return t?String.fromCharCode(parseInt(t,10)):n?String.fromCharCode(parseInt(n,16)):r&&a[r]?String.fromCharCode(a[r]):e}))}function S(e){let t,n;return e=(e||"").trim(),(t=o[e])?n=[t.slice(),1]:(t=e.match(/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)$/i))?(t[1]=parseInt(t[1]),t[2]=parseInt(t[2]),t[3]=parseInt(t[3]),t[4]=parseFloat(t[4]),t[1]<256&&t[2]<256&&t[3]<256&&t[4]<=1&&(n=[t.slice(1,4),t[4]])):(t=e.match(/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)$/i))?(t[1]=parseInt(t[1]),t[2]=parseInt(t[2]),t[3]=parseInt(t[3]),t[1]<256&&t[2]<256&&t[3]<256&&(n=[t.slice(1,4),1])):(t=e.match(/^rgb\(\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*\)$/i))?(t[1]=2.55*parseFloat(t[1]),t[2]=2.55*parseFloat(t[2]),t[3]=2.55*parseFloat(t[3]),t[1]<256&&t[2]<256&&t[3]<256&&(n=[t.slice(1,4),1])):(t=e.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i))?n=[[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)],1]:(t=e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i))&&(n=[[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16)],1]),je?je(n,e):n}function E(e,t,n){let r=e[0].slice(),i=e[1]*t;if(n){for(let t=0;t<e.length;t++)r[t]*=i;return[r,1]}return[r,i]}function x(){function e(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}let t=arguments[0];for(let n=1;n<arguments.length;n++)t=e(t,arguments[n]);return t}function C(e,t){return[t[0]*e[0]+t[2]*e[1]+t[4],t[1]*e[0]+t[3]*e[1]+t[5]]}function k(){let t=e._ctm;for(let e=Ae.length-1;e>=0;e--)t=x(Ae[e].savedMatrix,t);return t}function D(){return(new z).M(0,0).L(e.page.width,0).L(e.page.width,e.page.height).L(0,e.page.height).transform(T(k())).getBoundingBox()}function T(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[3]*e[4])/t,(e[1]*e[4]-e[0]*e[5])/t]}function I(e){let t=O(e[0]),n=O(e[1]),r=O(e[2]),i=O(e[3]),o=O(e[4]),s=O(e[5]);if(L(t*i-n*r,0))return[t,n,r,i,o,s]}function M(e){let t=e[2]||0,n=e[1]||0,r=e[0]||0;if(j(t,0)&&j(n,0))return[];if(j(t,0))return[-r/n];{let e=n*n-4*t*r;return L(e,0)&&e>0?[(-n+Math.sqrt(e))/(2*t),(-n-Math.sqrt(e))/(2*t)]:j(e,0)?[-n/(2*t)]:[]}}function P(e,t){return(t[0]||0)+(t[1]||0)*e+(t[2]||0)*e*e+(t[3]||0)*e*e*e}function j(e,t){return Math.abs(e-t)<1e-10}function L(e,t){return Math.abs(e-t)>=1e-10}function O(e){return e>-1e21&&e<1e21?Math.round(1e6*e)/1e6:0}function A(e){let t,n=new q((e||"").trim()),r=[1,0,0,1,0,0];for(;t=n.match(/^([A-Za-z]+)\s*[(]([^(]+)[)]/,!0);){let e,i=t[1],o=[],s=new q(t[2].trim());for(;e=s.matchNumber();)o.push(Number(e)),s.matchSeparator();if("matrix"===i&&6===o.length)r=x(r,[o[0],o[1],o[2],o[3],o[4],o[5]]);else if("translate"===i&&2===o.length)r=x(r,[1,0,0,1,o[0],o[1]]);else if("translate"===i&&1===o.length)r=x(r,[1,0,0,1,o[0],0]);else if("scale"===i&&2===o.length)r=x(r,[o[0],0,0,o[1],0,0]);else if("scale"===i&&1===o.length)r=x(r,[o[0],0,0,o[0],0,0]);else if("rotate"===i&&3===o.length){let e=o[0]*Math.PI/180;r=x(r,[1,0,0,1,o[1],o[2]],[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0],[1,0,0,1,-o[1],-o[2]])}else if("rotate"===i&&1===o.length){let e=o[0]*Math.PI/180;r=x(r,[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0])}else if("skewX"===i&&1===o.length){let e=o[0]*Math.PI/180;r=x(r,[1,0,Math.tan(e),1,0,0])}else{if("skewY"!==i||1!==o.length)return;{let e=o[0]*Math.PI/180;r=x(r,[1,Math.tan(e),0,1,0,0])}}n.matchSeparator()}if(!n.matchAll())return r}function N(e,t,n,r,i,o){let s=(e||"").trim().match(/^(none)$|^x(Min|Mid|Max)Y(Min|Mid|Max)(?:\s+(meet|slice))?$/)||[],a=s[1]||s[4]||"meet",c=s[2]||"Mid",l=s[3]||"Mid",u=t/r,d=n/i,h={Min:0,Mid:.5,Max:1}[c]-(o||0),p={Min:0,Mid:.5,Max:1}[l]-(o||0);return"slice"===a?d=u=Math.max(u,d):"meet"===a&&(d=u=Math.min(u,d)),[u,0,0,d,h*(t-r*u),p*(n-i*d)]}function R(e){let t=Object.create(null);e=(e||"").trim().split(/;/);for(let n=0;n<e.length;n++){let r=(e[n].split(":")[0]||"").trim(),i=(e[n].split(":")[1]||"").trim();r&&(t[r]=i)}if(t.marker&&(t["marker-start"]||(t["marker-start"]=t.marker),t["marker-mid"]||(t["marker-mid"]=t.marker),t["marker-end"]||(t["marker-end"]=t.marker)),t.font){let e=null,n=null,r="normal",i="normal",o="normal",s=t.font.split(/\s+/);for(let t=0;t<s.length;t++)switch(s[t]){case"normal":break;case"italic":case"oblique":r=s[t];break;case"small-caps":o=s[t];break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":i=s[t];break;default:n?e?e+=" "+s[t]:e=s[t]:n=s[t].split("/")[0]}t["font-style"]||(t["font-style"]=r),t["font-variant"]||(t["font-variant"]=o),t["font-weight"]||(t["font-weight"]=i),t["font-size"]||(t["font-size"]=n),t["font-family"]||(t["font-family"]=e)}return t}function F(e){let t,n=e.split(/(?=[.#])/g),r=[],i=[],o=[];for(let e=0;e<n.length;e++)if(t=n[e].match(/^[#]([_A-Za-z0-9-]+)$/))r.push(t[1]);else if(t=n[e].match(/^[.]([_A-Za-z0-9-]+)$/))i.push(t[1]);else if(t=n[e].match(/^([_A-Za-z0-9-]+)$/))o.push(t[1]);else if("*"!==n[e])return;return{tags:o,ids:r,classes:i,specificity:1e4*r.length+100*i.length+o.length}}function B(e){let t,n=new q(e.trim()),r=[];for(;t=n.match(/^\s*([^\{\}]*?)\s*\{([^\{\}]*?)\}/,!0);){let e=t[1].split(/\s*,\s*/g),n=R(t[2]);for(let t=0;t<e.length;t++){let i=F(e[t]);i&&r.push({selector:i,css:n})}}return r}function U(e,t){if(1!==e.nodeType)return!1;for(let n=0;n<t.tags.length;n++)if(t.tags[n]!==e.nodeName)return!1;for(let n=0;n<t.ids.length;n++)if(t.ids[n]!==e.id)return!1;for(let n=0;n<t.classes.length;n++)if(-1===e.classList.indexOf(t.classes[n]))return!1;return!0}function Y(e,t){return e.concat(t.slice(e.length))}function W(e,t){return Math.max(e.ascender,(e.bbox[3]||e.bbox.maxY)*(e.scale||1))*t/1e3}function H(e,t){return Math.min(e.descender,(e.bbox[1]||e.bbox.minY)*(e.scale||1))*t/1e3}function V(e,t,n){let r=e.encode(""+n),i=r[0],o=r[1],s=[];for(let r=0;r<i.length;r++){let a=e.unicode?e.unicode[parseInt(i[r],16)]:[n.charCodeAt(r)];s.push({glyph:i[r],unicode:a,width:o[r].advanceWidth*t/1e3,xOffset:o[r].xOffset*t/1e3,yOffset:o[r].yOffset*t/1e3,xAdvance:o[r].xAdvance*t/1e3,yAdvance:o[r].yAdvance*t/1e3})}return s}function K(e,t){switch(e.nodeName){case"use":return new ee(e,t);case"symbol":return new te(e,t);case"g":return new ne(e,t);case"a":return new re(e,t);case"svg":return new ie(e,t);case"image":return new oe(e,t);case"rect":return new le(e,t);case"circle":return new ue(e,t);case"ellipse":return new de(e,t);case"line":return new he(e,t);case"polyline":return new pe(e,t);case"polygon":return new fe(e,t);case"path":return new me(e,t);case"text":return new Ee(e,t);case"tspan":return new we(e,t);case"textPath":return new Se(e,t);case"#text":case"#cdata-section":return new _e(e,t);default:return new G(e,t)}}var q=function(e){this.match=function(t,n){let r=e.match(t);if(r&&0===r.index)return e=e.substring(r[0].length),n?r:r[0]},this.matchSeparator=function(){return this.match(/^(?:\s*,\s*|\s*|)/)},this.matchSpace=function(){return this.match(/^(?:\s*)/)},this.matchLengthUnit=function(){return this.match(/^(?:px|pt|cm|mm|in|pc|em|ex|%|)/)},this.matchNumber=function(){return this.match(/^(?:[-+]?(?:[0-9]+[.][0-9]+|[0-9]+[.]|[.][0-9]+|[0-9]+)(?:[eE][-+]?[0-9]+)?)/)},this.matchAll=function(){return this.match(/^[\s\S]+/)}},J=function(e,t,n,r,i,o,s,a){let c=6*Oe,l=[e,-3*e+3*n,3*e-6*n+3*i,3*n-e-3*i+s],u=[t,-3*t+3*r,3*t-6*r+3*o,3*r-t-3*o+a],d=[-3*e+3*n,6*e-12*n+6*i,-3*e+9*n-9*i+3*s],h=[-3*t+3*r,6*t-12*r+6*o,-3*t+9*r-9*o+3*a],p=[0];for(let e=1;e<=c;e++){let t=(e-.5)/c,n=P(t,d)/c,r=P(t,h)/c,i=Math.sqrt(n*n+r*r);p[e]=p[e-1]+i}this.totalLength=p[c],this.startPoint=[e,t,j(e,n)&&j(t,r)?Math.atan2(o-r,i-n):Math.atan2(r-t,n-e)],this.endPoint=[s,a,j(i,s)&&j(o,a)?Math.atan2(o-r,i-n):Math.atan2(a-o,s-i)],this.getBoundingBox=function(){let e,t=P(0,l),n=P(0,u),r=P(1,l),i=P(1,u);t>r&&(e=r,r=t,t=e),n>i&&(e=i,i=n,n=e);let o=M(d);for(let e=0;e<o.length;e++)if(o[e]>=0&&o[e]<=1){let n=P(o[e],l);n<t&&(t=n),n>r&&(r=n)}let s=M(h);for(let e=0;e<s.length;e++)if(s[e]>=0&&s[e]<=1){let t=P(s[e],u);t<n&&(n=t),t>i&&(i=t)}return[t,n,r,i]},this.getPointAtLength=function(e){if(j(e,0))return this.startPoint;if(j(e,this.totalLength))return this.endPoint;if(!(e<0||e>this.totalLength))for(let t=1;t<=c;t++){let n=p[t-1],r=p[t];if(n<=e&&e<=r){let i=(t-(r-e)/(r-n))/c,o=P(i,l),s=P(i,u),a=P(i,d),p=P(i,h);return[o,s,Math.atan2(p,a)]}}}},$=function(e,t,n,r){this.totalLength=Math.sqrt((n-e)*(n-e)+(r-t)*(r-t)),this.startPoint=[e,t,Math.atan2(r-t,n-e)],this.endPoint=[n,r,Math.atan2(r-t,n-e)],this.getBoundingBox=function(){return[Math.min(this.startPoint[0],this.endPoint[0]),Math.min(this.startPoint[1],this.endPoint[1]),Math.max(this.startPoint[0],this.endPoint[0]),Math.max(this.startPoint[1],this.endPoint[1])]},this.getPointAtLength=function(e){if(e>=0&&e<=this.totalLength){let t=e/this.totalLength||0;return[this.startPoint[0]+t*(this.endPoint[0]-this.startPoint[0]),this.startPoint[1]+t*(this.endPoint[1]-this.startPoint[1]),this.startPoint[2]]}}},z=function(){this.pathCommands=[],this.pathSegments=[],this.startPoint=null,this.endPoint=null,this.totalLength=0;let t,n,r,i=0,o=0,s=0,a=0;this.move=function(e,t){return i=s=e,o=a=t,null},this.line=function(e,t){let n=new $(s,a,e,t);return s=e,a=t,n},this.curve=function(e,t,n,r,i,o){let c=new J(s,a,e,t,n,r,i,o);return s=i,a=o,c},this.close=function(){let e=new $(s,a,i,o);return s=i,a=o,e},this.addCommand=function(e){this.pathCommands.push(e);let t=this[e[0]].apply(this,e.slice(3));t&&(t.hasStart=e[1],t.hasEnd=e[2],this.startPoint=this.startPoint||t.startPoint,this.endPoint=t.endPoint,this.pathSegments.push(t),this.totalLength+=t.totalLength)},this.M=function(e,n){return this.addCommand(["move",!0,!0,e,n]),t="M",this},this.m=function(e,t){return this.M(s+e,a+t)},this.Z=this.z=function(){return this.addCommand(["close",!0,!0]),t="Z",this},this.L=function(e,n){return this.addCommand(["line",!0,!0,e,n]),t="L",this},this.l=function(e,t){return this.L(s+e,a+t)},this.H=function(e){return this.L(e,a)},this.h=function(e){return this.L(s+e,a)},this.V=function(e){return this.L(s,e)},this.v=function(e){return this.L(s,a+e)},this.C=function(e,i,o,s,a,c){return this.addCommand(["curve",!0,!0,e,i,o,s,a,c]),t="C",n=o,r=s,this},this.c=function(e,t,n,r,i,o){return this.C(s+e,a+t,s+n,a+r,s+i,a+o)},this.S=function(e,i,o,c){return this.C(s+("C"===t?s-n:0),a+("C"===t?a-r:0),e,i,o,c)},this.s=function(e,i,o,c){return this.C(s+("C"===t?s-n:0),a+("C"===t?a-r:0),s+e,a+i,s+o,a+c)},this.Q=function(e,i,o,c){let l=s+2/3*(e-s),u=a+2/3*(i-a),d=o+2/3*(e-o),h=c+2/3*(i-c);return this.addCommand(["curve",!0,!0,l,u,d,h,o,c]),t="Q",n=e,r=i,this},this.q=function(e,t,n,r){return this.Q(s+e,a+t,s+n,a+r)},this.T=function(e,i){return this.Q(s+("Q"===t?s-n:0),a+("Q"===t?a-r:0),e,i)},this.t=function(e,i){return this.Q(s+("Q"===t?s-n:0),a+("Q"===t?a-r:0),s+e,a+i)},this.A=function(e,n,r,i,o,c,l){if(j(e,0)||j(n,0))this.addCommand(["line",!0,!0,c,l]);else{r*=Math.PI/180,e=Math.abs(e),n=Math.abs(n),i=1*!!i,o=1*!!o;let t=Math.cos(r)*(s-c)/2+Math.sin(r)*(a-l)/2,u=Math.cos(r)*(a-l)/2-Math.sin(r)*(s-c)/2,d=t*t/(e*e)+u*u/(n*n);d>1&&(e*=Math.sqrt(d),n*=Math.sqrt(d));let h=Math.sqrt(Math.max(0,e*e*n*n-e*e*u*u-n*n*t*t)/(e*e*u*u+n*n*t*t)),p=(i===o?-1:1)*h*e*u/n,f=(i===o?1:-1)*h*n*t/e,m=Math.cos(r)*p-Math.sin(r)*f+(s+c)/2,g=Math.sin(r)*p+Math.cos(r)*f+(a+l)/2,v=Math.atan2((u-f)/n,(t-p)/e),y=Math.atan2((-u-f)/n,(-t-p)/e);0===o&&y-v>0?y-=2*Math.PI:1===o&&y-v<0&&(y+=2*Math.PI);let b=Math.ceil(Math.abs(y-v)/(Math.PI/Oe));for(let t=0;t<b;t++){let i=v+t*(y-v)/b,o=v+(t+1)*(y-v)/b,s=4/3*Math.tan((o-i)/4),a=m+Math.cos(r)*e*(Math.cos(i)-s*Math.sin(i))-Math.sin(r)*n*(Math.sin(i)+s*Math.cos(i)),c=g+Math.sin(r)*e*(Math.cos(i)-s*Math.sin(i))+Math.cos(r)*n*(Math.sin(i)+s*Math.cos(i)),l=m+Math.cos(r)*e*(Math.cos(o)+s*Math.sin(o))-Math.sin(r)*n*(Math.sin(o)-s*Math.cos(o)),u=g+Math.sin(r)*e*(Math.cos(o)+s*Math.sin(o))+Math.cos(r)*n*(Math.sin(o)-s*Math.cos(o)),d=m+Math.cos(r)*e*Math.cos(o)-Math.sin(r)*n*Math.sin(o),h=g+Math.sin(r)*e*Math.cos(o)+Math.cos(r)*n*Math.sin(o);this.addCommand(["curve",0===t,t===b-1,a,c,l,u,d,h])}}return t="A",this},this.a=function(e,t,n,r,i,o,c){return this.A(e,t,n,r,i,s+o,a+c)},this.path=function(e){let t,n,r,i=new q((e||"").trim());for(;t=i.match(/^[astvzqmhlcASTVZQMHLC]/);){i.matchSeparator();let e=[];for(;n=l[t+e.length]?i.match(/^[01]/):i.matchNumber();)i.matchSeparator(),e.length===c[t]&&(this[t].apply(this,e),e=[],"M"===t?t="L":"m"===t&&(t="l")),e.push(Number(n));if(e.length!==c[t])return void Ie("SvgPath: command "+t+" with "+e.length+" numbers");this[t].apply(this,e)}return(r=i.matchAll())&&Ie("SvgPath: unexpected string "+r),this},this.getBoundingBox=function(){let e=[1/0,1/0,-1/0,-1/0];for(let n=0;n<this.pathSegments.length;n++)(t=this.pathSegments[n].getBoundingBox())[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]);var t;return e[0]===1/0&&(e[0]=0),e[1]===1/0&&(e[1]=0),e[2]===-1/0&&(e[2]=0),e[3]===-1/0&&(e[3]=0),e},this.getPointAtLength=function(e){if(e>=0&&e<=this.totalLength){let t;for(let n=0;n<this.pathSegments.length;n++){if(t=this.pathSegments[n].getPointAtLength(e))return t;e-=this.pathSegments[n].totalLength}return this.endPoint}},this.transform=function(e){this.pathSegments=[],this.startPoint=null,this.endPoint=null,this.totalLength=0;for(let t=0;t<this.pathCommands.length;t++){let t=this.pathCommands.shift();for(let n=3;n<t.length;n+=2){let r=C([t[n],t[n+1]],e);t[n]=r[0],t[n+1]=r[1]}this.addCommand(t)}return this},this.mergeShape=function(e){for(let t=0;t<e.pathCommands.length;t++)this.addCommand(e.pathCommands[t].slice());return this},this.clone=function(){return(new z).mergeShape(this)},this.insertInDocument=function(){for(let t=0;t<this.pathCommands.length;t++){let n=this.pathCommands[t][0],r=this.pathCommands[t].slice(3);switch(n){case"move":e.moveTo(r[0],r[1]);break;case"line":e.lineTo(r[0],r[1]);break;case"curve":e.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"close":e.closePath()}}},this.getSubPaths=function(){let e=[],t=new z;for(let n=0;n<this.pathCommands.length;n++){let r=this.pathCommands[n];"move"===this.pathCommands[n][0]&&0!==n&&(e.push(t),t=new z),t.addCommand(r)}return e.push(t),e},this.getMarkers=function(){let e=[],t=this.getSubPaths();for(let n=0;n<t.length;n++){let r=t[n],i=[];for(let e=0;e<r.pathSegments.length;e++){let t=r.pathSegments[e];if(L(t.totalLength,0)||0===e||e===r.pathSegments.length-1){if(t.hasStart){let e=t.getPointAtLength(0),n=i.pop();n&&(e[2]=.5*(n[2]+e[2])),i.push(e)}if(t.hasEnd){let e=t.getPointAtLength(t.totalLength);i.push(e)}}}e=e.concat(i)}return e}},G=function(e,n){let r=Object.create(null),i=null;this.name=e.nodeName,this.isOuterElement=e===t||!e.parentNode,this.inherits=n||(this.isOuterElement?null:K(e.parentNode,null)),this.stack=this.inherits?this.inherits.stack.concat(e):[e],this.style=R("function"==typeof e.getAttribute&&e.getAttribute("style")),this.css=Te?getComputedStyle(e):function(e){let t=Object.create(null),n=Object.create(null);for(let r=0;r<Fe.length;r++){let i=Fe[r];if(U(e,i.selector))for(let e in i.css)n[e]>i.selector.specificity||(t[e]=i.css[e],n[e]=i.selector.specificity)}return t}(e),this.allowedChildren=[],this.attr=function(t){if("function"==typeof e.getAttribute)return e.getAttribute(t)},this.resolveUrl=function(e){let n=(e||"").match(/^\s*(?:url\("(.*)#(.*)"\)|url\('(.*)#(.*)'\)|url\((.*)#(.*)\)|(.*)#(.*))\s*$/)||[],r=n[1]||n[3]||n[5]||n[7],i=n[2]||n[4]||n[6]||n[8];if(i){if(!r){let e=t.getElementById(i);if(e)return-1===this.stack.indexOf(e)?e:void Ie('SVGtoPDF: loop of circular references for id "'+i+'"')}if(Le){let e=Ne[r];if(!e){e=Le(r),("object"!=typeof(o=e)||null===o||"number"!=typeof o.length)&&(e=[e]);for(let t=0;t<e.length;t++)"string"==typeof e[t]&&(e[t]=_(e[t]));Ne[r]=e}for(let t=0;t<e.length;t++){let n=e[t].getElementById(i);if(n)return-1===this.stack.indexOf(n)?n:void Ie('SVGtoPDF: loop of circular references for id "'+r+"#"+i+'"')}}}var o},this.computeUnits=function(e,t,n,r){return"%"===t?parseFloat(e)/100*(r||null!=n?n:this.getViewport()):"ex"===t||"em"===t?e*{em:1,ex:.5}[t]*(r?n:this.get("font-size")):e*{"":1,px:1,pt:96/72,cm:96/2.54,mm:96/25.4,in:96,pc:16}[t]},this.computeLength=function(e,t,n,r){let i,o,s=new q((e||"").trim());return"string"!=typeof(i=s.matchNumber())||"string"!=typeof(o=s.matchLengthUnit())||s.matchAll()?n:this.computeUnits(i,o,t,r)},this.computeLengthList=function(e,t,n){let r,i,o=new q((e||"").trim()),s=[];for(;"string"==typeof(r=o.matchNumber())&&"string"==typeof(i=o.matchLengthUnit());)s.push(this.computeUnits(r,i,t)),o.matchSeparator();if(!n||!o.matchAll())return s},this.getLength=function(e,t,n){return this.computeLength(this.attr(e),t,n)},this.getLengthList=function(e,t){return this.computeLengthList(this.attr(e),t)},this.getUrl=function(e){return this.resolveUrl(this.attr(e))},this.getNumberList=function(e){let t,n=new q((this.attr(e)||"").trim()),r=[];for(;t=n.matchNumber();)r.push(Number(t)),n.matchSeparator();return r.error=n.matchAll(),r},this.getViewbox=function(e,t){let n=this.getNumberList(e);return 4===n.length&&n[2]>=0&&n[3]>=0?n:t},this.getPercent=function(e,t){let n=this.attr(e),r=new q((n||"").trim()),i=r.matchNumber();return i?(r.match("%")&&(i*=.01),r.matchAll()?t:Math.max(0,Math.min(1,i))):t},this.chooseValue=function(e){for(let e=0;e<arguments.length;e++)if(null!=arguments[e]&&arguments[e]==arguments[e])return arguments[e];return arguments[arguments.length-1]},this.get=function(e){if(void 0!==r[e])return r[e];let t,n,i=u[e]||{};for(let o=0;o<3;o++){switch(o){case 0:"transform"!==e&&(t=this.css[i.css||e]);break;case 1:t=this.style[e];break;case 2:t=this.attr(e)}if("inherit"===t&&(n=this.inherits?this.inherits.get(e):i.initial,null!=n))return r[e]=n;if(null!=i.values&&(n=i.values[t],null!=n))return r[e]=n;if(null!=t){let o;switch(e){case"font-size":n=this.computeLength(t,this.inherits?this.inherits.get(e):i.initial,void 0,!0);break;case"baseline-shift":n=this.computeLength(t,this.get("font-size"));break;case"font-family":n=t||void 0;break;case"opacity":case"stroke-opacity":case"fill-opacity":case"stop-opacity":o=parseFloat(t),isNaN(o)||(n=Math.max(0,Math.min(1,o)));break;case"transform":n=A(t);break;case"stroke-dasharray":if("none"===t)n=[];else if(o=this.computeLengthList(t,this.getViewport(),!0)){let e=0,t=!1;for(let n=0;n<o.length;n++)o[n]<0&&(t=!0),e+=o[n];t||(o.length%2==1&&(o=o.concat(o)),n=0===e?[]:o)}break;case"color":n="none"===t||"transparent"===t?"none":S(t);break;case"fill":case"stroke":if("none"===t||"transparent"===t)n="none";else if("currentColor"===t)n=this.get("color");else{if(o=S(t))return o;if(o=(t||"").split(" ")){let e=this.resolveUrl(o[0]),t=S(o[1]);n=null==e?t:"linearGradient"===e.nodeName||"radialGradient"===e.nodeName?new ae(e,null,t):"pattern"===e.nodeName?new se(e,null,t):t}}break;case"stop-color":n="none"===t||"transparent"===t?"none":"currentColor"===t?this.get("color"):S(t);break;case"marker-start":case"marker-mid":case"marker-end":case"clip-path":case"mask":n="none"===t?"none":this.resolveUrl(t);break;case"stroke-width":o=this.computeLength(t,this.getViewport()),null!=o&&o>=0&&(n=o);break;case"stroke-miterlimit":o=parseFloat(t),null!=o&&o>=1&&(n=o);break;case"word-spacing":case"letter-spacing":n=this.computeLength(t,this.getViewport());break;case"stroke-dashoffset":if(n=this.computeLength(t,this.getViewport()),null!=n&&n<0){let e=this.get("stroke-dasharray");for(let t=0;t<e.length;t++)n+=e[t]}}if(null!=n)return r[e]=n}}return r[e]=i.inherit&&this.inherits?this.inherits.get(e):i.initial},this.getChildren=function(){if(null!=i)return i;let t=[];for(let n=0;n<e.childNodes.length;n++){let r=e.childNodes[n];r.error||-1===this.allowedChildren.indexOf(r.nodeName)||t.push(K(r,this))}return i=t},this.getParentVWidth=function(){return this.inherits?this.inherits.getVWidth():Ce},this.getParentVHeight=function(){return this.inherits?this.inherits.getVHeight():ke},this.getParentViewport=function(){return Math.sqrt(.5*this.getParentVWidth()*this.getParentVWidth()+.5*this.getParentVHeight()*this.getParentVHeight())},this.getVWidth=function(){return this.getParentVWidth()},this.getVHeight=function(){return this.getParentVHeight()},this.getViewport=function(){return Math.sqrt(.5*this.getVWidth()*this.getVWidth()+.5*this.getVHeight()*this.getVHeight())},this.getBoundingBox=function(){return this.getBoundingShape().getBoundingBox()}},Q=function(t,n){G.call(this,t,n),this.transform=function(){e.transform.apply(e,this.getTransformation())},this.clip=function(){if("none"!==this.get("clip-path")){return new ve(this.get("clip-path"),null).useMask(this.getBoundingBox()),!0}},this.mask=function(){if("none"!==this.get("mask")){return new ye(this.get("mask"),null).useMask(this.getBoundingBox()),!0}},this.getFill=function(e,t){let n=this.get("opacity"),r=this.get("fill"),i=this.get("fill-opacity");return e?s.white:"none"!==r&&n&&i?r instanceof ae||r instanceof se?r.getPaint(this.getBoundingBox(),i*n,e,t):E(r,i*n,t):void 0},this.getStroke=function(e,t){let n=this.get("opacity"),r=this.get("stroke"),i=this.get("stroke-opacity");if(!e&&!j(this.get("stroke-width"),0))return"none"!==r&&n&&i?r instanceof ae||r instanceof se?r.getPaint(this.getBoundingBox(),i*n,e,t):E(r,i*n,t):void 0}},X=function(e,t){Q.call(this,e,t),this.allowedChildren=["use","g","a","svg","image","rect","circle","ellipse","line","polyline","polygon","path","text"],this.getBoundingShape=function(){let e=new z,t=this.getChildren();for(let n=0;n<t.length;n++)if("none"!==t[n].get("display")&&"function"==typeof t[n].getBoundingShape){let r=t[n].getBoundingShape().clone();"function"==typeof t[n].getTransformation&&r.transform(t[n].getTransformation()),e.mergeShape(r)}return e},this.drawChildren=function(e,t){let n=this.getChildren();for(let r=0;r<n.length;r++)"none"!==n[r].get("display")&&"function"==typeof n[r].drawInDocument&&n[r].drawInDocument(e,t)}},Z=function(t,n){X.call(this,t,n),this.drawContent=function(t,n){this.transform();let r,i=this.clip(),o=this.mask();(this.get("opacity")<1||i||o)&&!t&&(r=d(D())),this.drawChildren(t,n),r&&(h(r),e.fillOpacity(this.get("opacity")),p(r))}},ee=function(t,n){Z.call(this,t,n);let r=this.getLength("x",this.getVWidth(),0),i=this.getLength("y",this.getVHeight(),0),o=this.getUrl("href")||this.getUrl("xlink:href");o&&(o=K(o,this)),this.getChildren=function(){return o?[o]:[]},this.drawInDocument=function(t,n){e.save(),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return x(this.get("transform"),[1,0,0,1,r,i])}},te=function(t,n){Z.call(this,t,n);let r=this.getLength("width",this.getParentVWidth(),this.getParentVWidth()),i=this.getLength("height",this.getParentVHeight(),this.getParentVHeight());n instanceof ee&&(r=n.getLength("width",n.getParentVWidth(),r),i=n.getLength("height",n.getParentVHeight(),i));let o=(this.attr("preserveAspectRatio")||"").trim(),s=this.getViewbox("viewBox",[0,0,r,i]);this.getVWidth=function(){return s[2]},this.getVHeight=function(){return s[3]},this.drawInDocument=function(t,n){e.save(),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return x(N(o,r,i,s[2],s[3]),[1,0,0,1,-s[0],-s[1]])}},ne=function(t,n){Z.call(this,t,n),this.drawInDocument=function(t,n){e.save(),!this.link||t||n||this.addLink(),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return this.get("transform")}},re=function(t,n){n&&n.isText?(we.call(this,t,n),this.allowedChildren=["textPath","tspan","#text","#cdata-section","a"]):ne.call(this,t,n),this.link=this.attr("href")||this.attr("xlink:href"),this.addLink=function(){if(this.link.match(/^(?:[a-z][a-z0-9+.-]*:|\/\/)?/i)&&this.getChildren().length){let t=this.getBoundingShape().transform(k()).getBoundingBox();!function(t,n,r,i,o){let s=e.ref({Type:"Annot",Subtype:"Link",Rect:[t,n,r,i],Border:[0,0,0],A:{S:"URI",URI:new String(o)}});s.end(),Re.push(s)}(t[0],t[1],t[2],t[3],this.link)}}},ie=function(t,n){Z.call(this,t,n);let r=this.getLength("width",this.getParentVWidth(),this.getParentVWidth()),i=this.getLength("height",this.getParentVHeight(),this.getParentVHeight()),o=this.getLength("x",this.getParentVWidth(),0),s=this.getLength("y",this.getParentVHeight(),0);n instanceof ee&&(r=n.getLength("width",n.getParentVWidth(),r),i=n.getLength("height",n.getParentVHeight(),i));let a=this.attr("preserveAspectRatio"),c=this.getViewbox("viewBox",[0,0,r,i]);this.isOuterElement&&De&&(o=s=0,r=Ce,i=ke,a=De),this.getVWidth=function(){return c[2]},this.getVHeight=function(){return c[3]},this.drawInDocument=function(t,n){e.save(),"hidden"===this.get("overflow")&&((new z).M(o,s).L(o+r,s).L(o+r,s+i).L(o,s+i).Z().transform(this.get("transform")).insertInDocument(),e.clip()),this.drawContent(t,n),e.restore()},this.getTransformation=function(){return x(this.get("transform"),[1,0,0,1,o,s],N(a,r,i,c[2],c[3]),[1,0,0,1,-c[0],-c[1]])}},oe=function(t,n){Q.call(this,t,n);let r,i=Pe(this.attr("href")||this.attr("xlink:href")||""),o=this.getLength("x",this.getVWidth(),0),a=this.getLength("y",this.getVHeight(),0),c=this.getLength("width",this.getVWidth(),"auto"),l=this.getLength("height",this.getVHeight(),"auto");try{r=e.openImage(i)}catch(e){Ie('SVGElemImage: failed to open image "'+i+'" in PDFKit')}r&&("auto"===c&&"auto"!==l?c=l*r.width/r.height:"auto"===l&&"auto"!==c?l=c*r.height/r.width:"auto"===c&&"auto"===l&&(c=r.width,l=r.height)),("auto"===c||c<0)&&(c=0),("auto"===l||l<0)&&(l=0),this.getTransformation=function(){return this.get("transform")},this.getBoundingShape=function(){return(new z).M(o,a).L(o+c,a).M(o+c,a+l).L(o,a+l)},this.drawInDocument=function(t,n){"hidden"!==this.get("visibility")&&r&&(e.save(),this.transform(),"hidden"===this.get("overflow")&&e.rect(o,a,c,l).clip(),this.clip(),this.mask(),e.translate(o,a),e.transform.apply(e,N(this.attr("preserveAspectRatio"),c,l,r?r.width:c,r?r.height:l)),t?(e.rect(0,0,r.width,r.height),y(s.white).fill()):(e.fillOpacity(this.get("opacity")),e.image(r,0,0)),e.restore())}},se=function(t,n,r){X.call(this,t,n),this.ref=function(){let e=this.getUrl("href")||this.getUrl("xlink:href");if(e&&e.nodeName===t.nodeName)return new se(e,n,r)}.call(this);let i=this.attr;this.attr=function(e){let t=i.call(this,e);return null!=t||"href"===e||"xlink:href"===e?t:this.ref?this.ref.attr(e):null};let o=this.getChildren;this.getChildren=function(){let e=o.call(this);return e.length>0?e:this.ref?this.ref.getChildren():[]},this.getPaint=function(t,n,i,o){let s="userSpaceOnUse"!==this.attr("patternUnits"),a="objectBoundingBox"===this.attr("patternContentUnits"),c=this.getLength("x",s?1:this.getParentVWidth(),0),l=this.getLength("y",s?1:this.getParentVHeight(),0),u=this.getLength("width",s?1:this.getParentVWidth(),0),p=this.getLength("height",s?1:this.getParentVHeight(),0);a&&!s?(c=(c-t[0])/(t[2]-t[0])||0,l=(l-t[1])/(t[3]-t[1])||0,u=u/(t[2]-t[0])||0,p=p/(t[3]-t[1])||0):!a&&s&&(c=t[0]+c*(t[2]-t[0]),l=t[1]+l*(t[3]-t[1]),u*=t[2]-t[0],p*=t[3]-t[1]);let f=this.getViewbox("viewBox",[0,0,u,p]),g=x(N((this.attr("preserveAspectRatio")||"").trim(),u,p,f[2],f[3],0),[1,0,0,1,-f[0],-f[1]]),v=A(this.attr("patternTransform"));if(a&&(v=x([t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]],v)),v=x(v,[1,0,0,1,c,l]),(v=I(v))&&(g=I(g))&&(u=O(u))&&(p=O(p))){let t=d([0,0,u,p]);return e.transform.apply(e,g),this.drawChildren(i,o),h(t),[m(t,u,p,v),n]}return r?[r[0],r[1]*n]:void 0},this.getVWidth=function(){let e="userSpaceOnUse"!==this.attr("patternUnits"),t=this.getLength("width",e?1:this.getParentVWidth(),0);return this.getViewbox("viewBox",[0,0,t,0])[2]},this.getVHeight=function(){let e="userSpaceOnUse"!==this.attr("patternUnits"),t=this.getLength("height",e?1:this.getParentVHeight(),0);return this.getViewbox("viewBox",[0,0,0,t])[3]}},ae=function(t,n,r){G.call(this,t,n),this.allowedChildren=["stop"],this.ref=function(){let e=this.getUrl("href")||this.getUrl("xlink:href");if(e&&e.nodeName===t.nodeName)return new ae(e,n,r)}.call(this);let i=this.attr;this.attr=function(e){let t=i.call(this,e);return null!=t||"href"===e||"xlink:href"===e?t:this.ref?this.ref.attr(e):null};let o=this.getChildren;this.getChildren=function(){let e=o.call(this);return e.length>0?e:this.ref?this.ref.getChildren():[]},this.getPaint=function(t,n,i,o){let a=this.getChildren();if(0===a.length)return;if(1===a.length){let e=a[0],t=e.get("stop-color");if("none"===t)return;return E(t,e.get("stop-opacity")*n,o)}let c,l,u,d,h,p,f="userSpaceOnUse"!==this.attr("gradientUnits"),m=A(this.attr("gradientTransform")),g=this.attr("spreadMethod"),v=0,y=0,b=1;if(f&&(m=x([t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]],m)),m=I(m)){if("linearGradient"===this.name)l=this.getLength("x1",f?1:this.getVWidth(),0),u=this.getLength("x2",f?1:this.getVWidth(),f?1:this.getVWidth()),d=this.getLength("y1",f?1:this.getVHeight(),0),h=this.getLength("y2",f?1:this.getVHeight(),0);else{u=this.getLength("cx",f?1:this.getVWidth(),f?.5:.5*this.getVWidth()),h=this.getLength("cy",f?1:this.getVHeight(),f?.5:.5*this.getVHeight()),p=this.getLength("r",f?1:this.getViewport(),f?.5:.5*this.getViewport()),l=this.getLength("fx",f?1:this.getVWidth(),u),d=this.getLength("fy",f?1:this.getVHeight(),h),p<0&&Ie("SvgElemGradient: negative r value");let e=Math.sqrt(Math.pow(u-l,2)+Math.pow(h-d,2)),t=1;e>p&&(t=p/e,l=u+(l-u)*t,d=h+(d-h)*t),p=Math.max(p,e*t*1.000001)}if("reflect"===g||"repeat"===g){let e=T(m),n=C([t[0],t[1]],e),r=C([t[2],t[1]],e),i=C([t[2],t[3]],e),o=C([t[0],t[3]],e);"linearGradient"===this.name?(v=Math.max((n[0]-u)*(u-l)+(n[1]-h)*(h-d),(r[0]-u)*(u-l)+(r[1]-h)*(h-d),(i[0]-u)*(u-l)+(i[1]-h)*(h-d),(o[0]-u)*(u-l)+(o[1]-h)*(h-d))/(Math.pow(u-l,2)+Math.pow(h-d,2)),y=Math.max((n[0]-l)*(l-u)+(n[1]-d)*(d-h),(r[0]-l)*(l-u)+(r[1]-d)*(d-h),(i[0]-l)*(l-u)+(i[1]-d)*(d-h),(o[0]-l)*(l-u)+(o[1]-d)*(d-h))/(Math.pow(u-l,2)+Math.pow(h-d,2))):v=Math.sqrt(Math.max(Math.pow(n[0]-u,2)+Math.pow(n[1]-h,2),Math.pow(r[0]-u,2)+Math.pow(r[1]-h,2),Math.pow(i[0]-u,2)+Math.pow(i[1]-h,2),Math.pow(o[0]-u,2)+Math.pow(o[1]-h,2)))/p-1,v=Math.ceil(v+.5),y=Math.ceil(y+.5),b=y+1+v}c="linearGradient"===this.name?e.linearGradient(l-y*(u-l),d-y*(h-d),u+v*(u-l),h+v*(h-d)):e.radialGradient(l,d,0,u,h,p+v*p);for(let e=0;e<b;e++){let t=0,r="reflect"!==g||(e-y)%2==0;for(let i=0;i<a.length;i++){let l=a[r?i:a.length-1-i],u=l.get("stop-color");"none"===u&&(u=s.transparent),u=E(u,l.get("stop-opacity")*n,o),t=Math.max(t,r?l.getPercent("offset",0):1-l.getPercent("offset",0)),0===i&&4===u[0].length&&(c._colorSpace="DeviceCMYK"),0===i&&t>0&&c.stop((e+0)/b,u[0],u[1]),c.stop((e+t)/(v+y+1),u[0],u[1]),i===a.length-1&&t<1&&c.stop((e+1)/b,u[0],u[1])}}return c.setTransform.apply(c,m),[c,1]}return r?[r[0],r[1]*n]:void 0}},ce=function(t,n){Q.call(this,t,n),this.dashScale=1,this.getBoundingShape=function(){return this.shape},this.getTransformation=function(){return this.get("transform")},this.drawInDocument=function(t,n){if("hidden"!==this.get("visibility")&&this.shape){if(e.save(),this.transform(),this.clip(),t)this.shape.insertInDocument(),y(s.white),e.fill(this.get("clip-rule"));else{let r;this.mask()&&(r=d(D()));let i=this.shape.getSubPaths(),o=this.getFill(t,n),s=this.getStroke(t,n),a=this.get("stroke-width"),c=this.get("stroke-linecap");if(o||s){if(o&&y(o),s){for(let t=0;t<i.length;t++)if(j(i[t].totalLength,0)&&("square"===c||"round"===c)&&a>0&&i[t].startPoint&&i[t].startPoint.length>1){let n=i[t].startPoint[0],r=i[t].startPoint[1];y(s),"square"===c?e.rect(n-.5*a,r-.5*a,a,a):"round"===c&&e.circle(n,r,.5*a),e.fill()}let t=this.get("stroke-dasharray"),n=this.get("stroke-dashoffset");if(L(this.dashScale,1)){for(let e=0;e<t.length;e++)t[e]*=this.dashScale;n*=this.dashScale}b(s),e.lineWidth(a).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(c).dash(t,{phase:n})}for(let e=0;e<i.length;e++)i[e].totalLength>0&&i[e].insertInDocument();o&&s?e.fillAndStroke(this.get("fill-rule")):o?e.fill(this.get("fill-rule")):s&&e.stroke()}let l=this.get("marker-start"),u=this.get("marker-mid"),f=this.get("marker-end");if("none"!==l||"none"!==u||"none"!==f){let e=this.shape.getMarkers();if("none"!==l){new ge(l,null).drawMarker(!1,n,e[0],a)}if("none"!==u)for(let t=1;t<e.length-1;t++){new ge(u,null).drawMarker(!1,n,e[t],a)}if("none"!==f){new ge(f,null).drawMarker(!1,n,e[e.length-1],a)}}r&&(h(r),p(r))}e.restore()}}},le=function(e,t){ce.call(this,e,t);let n=this.getLength("x",this.getVWidth(),0),r=this.getLength("y",this.getVHeight(),0),i=this.getLength("width",this.getVWidth(),0),o=this.getLength("height",this.getVHeight(),0),s=this.getLength("rx",this.getVWidth()),a=this.getLength("ry",this.getVHeight());void 0===s&&void 0===a?s=a=0:void 0===s&&void 0!==a?s=a:void 0!==s&&void 0===a&&(a=s),i>0&&o>0?s&&a?(s=Math.min(s,.5*i),a=Math.min(a,.5*o),this.shape=(new z).M(n+s,r).L(n+i-s,r).A(s,a,0,0,1,n+i,r+a).L(n+i,r+o-a).A(s,a,0,0,1,n+i-s,r+o).L(n+s,r+o).A(s,a,0,0,1,n,r+o-a).L(n,r+a).A(s,a,0,0,1,n+s,r).Z()):this.shape=(new z).M(n,r).L(n+i,r).L(n+i,r+o).L(n,r+o).Z():this.shape=new z},ue=function(e,t){ce.call(this,e,t);let n=this.getLength("cx",this.getVWidth(),0),r=this.getLength("cy",this.getVHeight(),0),i=this.getLength("r",this.getViewport(),0);this.shape=i>0?(new z).M(n+i,r).A(i,i,0,0,1,n-i,r).A(i,i,0,0,1,n+i,r).Z():new z},de=function(e,t){ce.call(this,e,t);let n=this.getLength("cx",this.getVWidth(),0),r=this.getLength("cy",this.getVHeight(),0),i=this.getLength("rx",this.getVWidth(),0),o=this.getLength("ry",this.getVHeight(),0);this.shape=i>0&&o>0?(new z).M(n+i,r).A(i,o,0,0,1,n-i,r).A(i,o,0,0,1,n+i,r).Z():new z},he=function(e,t){ce.call(this,e,t);let n=this.getLength("x1",this.getVWidth(),0),r=this.getLength("y1",this.getVHeight(),0),i=this.getLength("x2",this.getVWidth(),0),o=this.getLength("y2",this.getVHeight(),0);this.shape=(new z).M(n,r).L(i,o)},pe=function(e,t){ce.call(this,e,t);let n=this.getNumberList("points");this.shape=new z;for(let e=0;e<n.length-1;e+=2)0===e?this.shape.M(n[e],n[e+1]):this.shape.L(n[e],n[e+1]);n.error&&Ie("SvgElemPolygon: unexpected string "+n.error),n.length%2==1&&Ie("SvgElemPolyline: uneven number of coordinates")},fe=function(e,t){ce.call(this,e,t);let n=this.getNumberList("points");this.shape=new z;for(let e=0;e<n.length-1;e+=2)0===e?this.shape.M(n[e],n[e+1]):this.shape.L(n[e],n[e+1]);this.shape.Z(),n.error&&Ie("SvgElemPolygon: unexpected string "+n.error),n.length%2==1&&Ie("SvgElemPolygon: uneven number of coordinates")},me=function(e,t){ce.call(this,e,t),this.shape=(new z).path(this.attr("d"));let n=this.getLength("pathLength",this.getViewport());this.pathLength=n>0?n:void 0,this.dashScale=void 0!==this.pathLength?this.shape.totalLength/this.pathLength:1},ge=function(t,n){X.call(this,t,n);let r=this.getLength("markerWidth",this.getParentVWidth(),3),i=this.getLength("markerHeight",this.getParentVHeight(),3),o=this.getViewbox("viewBox",[0,0,r,i]);this.getVWidth=function(){return o[2]},this.getVHeight=function(){return o[3]},this.drawMarker=function(t,n,s,a){e.save();let c=this.attr("orient"),l=this.attr("markerUnits"),u="auto"===c?s[2]:(parseFloat(c)||0)*Math.PI/180,f="userSpaceOnUse"===l?1:a;e.transform(Math.cos(u)*f,Math.sin(u)*f,-Math.sin(u)*f,Math.cos(u)*f,s[0],s[1]);let m,g=this.getLength("refX",this.getVWidth(),0),v=this.getLength("refY",this.getVHeight(),0),y=N(this.attr("preserveAspectRatio"),r,i,o[2],o[3],.5);"hidden"===this.get("overflow")&&e.rect(y[0]*(o[0]+o[2]/2-g)-r/2,y[3]*(o[1]+o[3]/2-v)-i/2,r,i).clip(),e.transform.apply(e,y),e.translate(-g,-v),this.get("opacity")<1&&!t&&(m=d(D())),this.drawChildren(t,n),m&&(h(m),e.fillOpacity(this.get("opacity")),p(m)),e.restore()}},ve=function(t,n){X.call(this,t,n),this.useMask=function(t){let n=d(D());e.save(),"objectBoundingBox"===this.attr("clipPathUnits")&&e.transform(t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]),this.clip(),this.drawChildren(!0,!1),e.restore(),h(n),f(n,!0)}},ye=function(t,n){X.call(this,t,n),this.useMask=function(t){let n,r,i,o,s=d(D());e.save(),"userSpaceOnUse"===this.attr("maskUnits")?(n=this.getLength("x",this.getVWidth(),-.1*(t[2]-t[0])+t[0]),r=this.getLength("y",this.getVHeight(),-.1*(t[3]-t[1])+t[1]),i=this.getLength("width",this.getVWidth(),1.2*(t[2]-t[0])),o=this.getLength("height",this.getVHeight(),1.2*(t[3]-t[1]))):(n=this.getLength("x",this.getVWidth(),-.1)*(t[2]-t[0])+t[0],r=this.getLength("y",this.getVHeight(),-.1)*(t[3]-t[1])+t[1],i=this.getLength("width",this.getVWidth(),1.2)*(t[2]-t[0]),o=this.getLength("height",this.getVHeight(),1.2)*(t[3]-t[1])),e.rect(n,r,i,o).clip(),"objectBoundingBox"===this.attr("maskContentUnits")&&e.transform(t[2]-t[0],0,0,t[3]-t[1],t[0],t[1]),this.clip(),this.drawChildren(!1,!0),e.restore(),h(s),f(s,!0)}},be=function(t,n){Q.call(this,t,n),this.allowedChildren=["tspan","#text","#cdata-section","a"],this.isText=!0,this.getBoundingShape=function(){let e=new z;for(let t=0;t<this._pos.length;t++){let n=this._pos[t];if(!n.hidden){let t=n.ascent*Math.sin(n.rotate),r=-n.ascent*Math.cos(n.rotate),i=n.descent*Math.sin(n.rotate),o=-n.descent*Math.cos(n.rotate),s=n.width*Math.cos(n.rotate),a=n.width*Math.sin(n.rotate);e.M(n.x+t,n.y+r).L(n.x+t+s,n.y+r+a).M(n.x+i+s,n.y+o+a).L(n.x+i,n.y+o)}}return e},this.drawTextInDocument=function(t,n){!this.link||t||n||this.addLink(),"underline"===this.get("text-decoration")&&this.decorate(.05*this._font.size,-.075*this._font.size,t,n),"overline"===this.get("text-decoration")&&this.decorate(.05*this._font.size,W(this._font.font,this._font.size)+.075*this._font.size,t,n);let r=this.getFill(t,n),i=this.getStroke(t,n),o=this.get("stroke-width");this._font.fauxBold&&(i?o+=.03*this._font.size:(i=r,o=.03*this._font.size));let s=this.getChildren();for(let g=0;g<s.length;g++){let _=s[g];switch(_.name){case"tspan":case"textPath":case"a":"none"!==_.get("display")&&_.drawTextInDocument(t,n);break;case"#text":case"#cdata-section":if("hidden"===this.get("visibility"))continue;if(r||i||t){r&&y(r),i&&o&&(b(i),e.lineWidth(o).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(this.get("stroke-linecap")).dash(this.get("stroke-dasharray"),{phase:this.get("stroke-dashoffset")})),f=this._font.font,m=this._font.size,e.page.fonts[f.id]||(e.page.fonts[f.id]=f.ref()),e.addContent("BT").addContent("/"+f.id+" "+m+" Tf"),v(!!r,!!i);for(let t=0,n=_._pos;t<n.length;t++)if(!n[t].hidden&&L(n[t].width,0)){let r=Math.cos(n[t].rotate),i=Math.sin(n[t].rotate),o=this._font.fauxItalic?-.25:0;c=r*n[t].scale,l=i*n[t].scale,u=r*o-i,d=i*o+r,h=n[t].x,p=n[t].y,e.addContent(O(c)+" "+O(l)+" "+O(-u)+" "+O(-d)+" "+O(h)+" "+O(p)+" Tm"),a=n[t].glyph,e.addContent("<"+a+"> Tj")}e.addContent("ET")}}}var a,c,l,u,d,h,p,f,m;"line-through"===this.get("text-decoration")&&this.decorate(.05*this._font.size,.5*(W(this._font.font,this._font.size)+H(this._font.font,this._font.size)),t,n)},this.decorate=function(t,n,r,i){let o=this.getFill(r,i),s=this.getStroke(r,i);o&&y(o),s&&(b(s),e.lineWidth(this.get("stroke-width")).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(this.get("stroke-linecap")).dash(this.get("stroke-dasharray"),{phase:this.get("stroke-dashoffset")}));for(let r=0,i=this._pos;r<i.length;r++)if(!i[r].hidden&&L(i[r].width,0)){let a=(n+t/2)*Math.sin(i[r].rotate),c=-(n+t/2)*Math.cos(i[r].rotate),l=(n-t/2)*Math.sin(i[r].rotate),u=-(n-t/2)*Math.cos(i[r].rotate),d=i[r].width*Math.cos(i[r].rotate),h=i[r].width*Math.sin(i[r].rotate);(new z).M(i[r].x+a,i[r].y+c).L(i[r].x+a+d,i[r].y+c+h).L(i[r].x+l+d,i[r].y+u+h).L(i[r].x+l,i[r].y+u).Z().insertInDocument(),o&&s?e.fillAndStroke():o?e.fill():s&&e.stroke()}}},_e=function(e,t){this.name=e.nodeName,this.textContent=e.nodeValue},we=function(e,t){be.call(this,e,t)},Se=function(e,t){let n;if(be.call(this,e,t),(n=this.attr("path"))&&""!==n.trim()){let e=this.getLength("pathLength",this.getViewport());this.pathObject=(new z).path(n),this.pathLength=e>0?e:this.pathObject.totalLength,this.pathScale=this.pathObject.totalLength/this.pathLength}else if((n=this.getUrl("href")||this.getUrl("xlink:href"))&&"path"===n.nodeName){let e=new me(n,this);this.pathObject=e.shape.clone().transform(e.get("transform")),this.pathLength=this.chooseValue(e.pathLength,this.pathObject.totalLength),this.pathScale=this.pathObject.totalLength/this.pathLength}},Ee=function(t,n){be.call(this,t,n),this.allowedChildren=["textPath","tspan","#text","#cdata-section","a"],function(n){let r,i,o="",s=t.textContent,a=[],c=[],l=0,u=0;function d(){if(c.length){let e=c[c.length-1],t=c[0],n=e.x+e.width-t.x,o={startltr:0,middleltr:.5,endltr:1,startrtl:1,middlertl:.5,endrtl:0}[r+i]*n||0;for(let e=0;e<c.length;e++)c[e].x-=o}c=[]}function h(e){let t=e.pathObject,n=e.pathLength,r=e.pathScale;if(t){let i=e.getLength("startOffset",n,0);for(let o=0;o<e._pos.length;o++){let s=i+e._pos[o].x+.5*e._pos[o].width;if(s>n||s<0)e._pos[o].hidden=!0;else{let n=t.getPointAtLength(s*r);L(r,1)&&(e._pos[o].scale*=r,e._pos[o].width*=r),e._pos[o].x=n[0]-.5*e._pos[o].width*Math.cos(n[2])-e._pos[o].y*Math.sin(n[2]),e._pos[o].y=n[1]-.5*e._pos[o].width*Math.sin(n[2])+e._pos[o].y*Math.cos(n[2]),e._pos[o].rotate=n[2]+e._pos[o].rotate,e._pos[o].continuous=!1}}}else for(let t=0;t<e._pos.length;t++)e._pos[t].hidden=!0}!function t(n,h){n._x=Y(n.getLengthList("x",n.getVWidth()),h?h._x.slice(h._pos.length):[]),n._y=Y(n.getLengthList("y",n.getVHeight()),h?h._y.slice(h._pos.length):[]),n._dx=Y(n.getLengthList("dx",n.getVWidth()),h?h._dx.slice(h._pos.length):[]),n._dy=Y(n.getLengthList("dy",n.getVHeight()),h?h._dy.slice(h._pos.length):[]),n._rot=Y(n.getNumberList("rotate"),h?h._rot.slice(h._pos.length):[]),n._defRot=n.chooseValue(n._rot[n._rot.length-1],h&&h._defRot,0),"textPath"===n.name&&(n._y=[]);let p={fauxItalic:!1,fauxBold:!1},f=Me(n.get("font-family"),"bold"===n.get("font-weight"),"italic"===n.get("font-style"),p);try{e.font(f)}catch(e){Ie('SVGElemText: failed to open font "'+f+'" in PDFKit')}n._pos=[],n._index=0,n._font={font:e._font,size:n.get("font-size"),fauxItalic:p.fauxItalic,fauxBold:p.fauxBold};let m=n.getLength("textLength",n.getVWidth(),void 0),g="spacingAndGlyphs"===n.attr("lengthAdjust"),v=n.get("word-spacing"),y=n.get("letter-spacing"),b=n.get("text-anchor"),_=n.get("direction"),w=function(e,t,n,r){let i,o;switch(n){case"middle":i=.5*function(e,t){return(e.xHeight||.5*(e.ascender-e.descender))*t/1e3}(e,t);break;case"central":i=.5*(H(e,t)+W(e,t));break;case"after-edge":case"text-after-edge":i=H(e,t);break;case"alphabetic":case"auto":case"baseline":i=0;break;case"mathematical":i=.5*W(e,t);break;case"hanging":i=.8*W(e,t);break;case"before-edge":case"text-before-edge":i=W(e,t);break;default:i=0}switch(r){case"baseline":o=0;break;case"super":o=.6*t;break;case"sub":o=-.6*t;break;default:o=r}return i-o}(n._font.font,n._font.size,n.get("alignment-baseline")||n.get("dominant-baseline"),n.get("baseline-shift"));"textPath"===n.name&&(d(),l=u=0);let S=n.getChildren();for(let e=0;e<S.length;e++){let a=S[e];switch(a.name){case"tspan":case"textPath":case"a":t(a,n);break;case"#text":case"#cdata-section":let e,h=a.textContent,p=h;a._font=n._font,a._pos=[],s=s.substring(h.length),"preserve"===n.get("xml:space")?p=p.replace(/[\s]/g," "):(p=p.replace(/[\s]+/g," "),o.match(/[\s]$|^$/)&&(p=p.replace(/^[\s]/,"")),s.match(/^[\s]*$/)&&(p=p.replace(/[\s]$/,""))),o+=h,e=0===v?[p]:p.split(/(\s)/);for(let t=0;t<e.length;t++){let o=V(n._font.font,n._font.size,e[t]);for(let e=0;e<o.length;e++){let s=n._index,h=n._x[s],p=n._y[s],f=n._dx[s],m=n._dy[s],g=n._rot[s],v=!(0===t&&0===e);void 0!==h&&(v=!1,d(),l=h),void 0!==p&&(v=!1,d(),u=p),void 0!==f&&(v=!1,l+=f),void 0!==m&&(v=!1,u+=m),void 0===g&&0===n._defRot||(v=!1);let S={glyph:o[e].glyph,rotate:Math.PI/180*n.chooseValue(g,n._defRot),x:l+o[e].xOffset,y:u+w+o[e].yOffset,width:o[e].width,ascent:W(n._font.font,n._font.size),descent:H(n._font.font,n._font.size),scale:1,hidden:!1,continuous:v};c.push(S),a._pos.push(S),n._pos.push(S),n._index+=o[e].unicode.length,1===c.length&&(r=b,i=_),l+=o[e].xAdvance+y,u+=o[e].yAdvance}" "===e[t]&&(l+=v)}break;default:s=s.substring(a.textContent.length)}}if(m&&n._pos.length&&function(e,t,n){let r=e[0],i=e[e.length-1],o=r.x,s=i.x+i.width;if(n){let n=t/(s-o);if(n>0&&n<1/0)for(let t=0;t<e.length;t++)e[t].x=o+n*(e[t].x-o),e[t].scale*=n,e[t].width*=n}else if(e.length>=2){let n=(t-(s-o))/(e.length-1);for(let t=0;t<e.length;t++)e[t].x+=t*n}l+=t-(s-o)}(n._pos,m,g),"textPath"!==n.name&&"text"!==n.name||d(),"textPath"===n.name){a.push(n);let e=n.pathObject;e&&(l=e.endPoint[0],u=e.endPoint[1])}h&&(h._pos=h._pos.concat(n._pos),h._index+=n._index)}(n,null);for(let e=0;e<a.length;e++)h(a[e])}(this),this.getTransformation=function(){return this.get("transform")},this.drawInDocument=function(t,n){let r;e.save(),this.transform(),this.clip(),this.mask()&&(r=d(D())),this.drawTextInDocument(t,n),r&&(h(r),p(r)),e.restore()}},xe=(i=i||{}).assumePt?1:.75,Ce=(i.width||e.page.width)/xe,ke=(i.height||e.page.height)/xe,De=i.preserveAspectRatio||null,Te=i.useCSS&&"undefined"!=typeof SVGElement&&t instanceof SVGElement&&"function"==typeof getComputedStyle,Ie=i.warningCallback,Me=i.fontCallback,Pe=i.imageCallback,je=i.colorCallback,Le=i.documentCallback,Oe=Math.ceil(Math.max(1,i.precision))||3,Ae=[],Ne={},Re=[],Fe=[];if("function"!=typeof Ie&&(Ie=function(e){void 0!==typeof console&&"function"==typeof console.warn&&console.warn(e)}),"function"!=typeof Me&&(Me=function(t,n,r,i){if(n&&r){if(e._registeredFonts.hasOwnProperty(t+"-BoldItalic"))return t+"-BoldItalic";if(e._registeredFonts.hasOwnProperty(t+"-Italic"))return i.fauxBold=!0,t+"-Italic";if(e._registeredFonts.hasOwnProperty(t+"-Bold"))return i.fauxItalic=!0,t+"-Bold";if(e._registeredFonts.hasOwnProperty(t))return i.fauxBold=!0,i.fauxItalic=!0,t}if(n&&!r){if(e._registeredFonts.hasOwnProperty(t+"-Bold"))return t+"-Bold";if(e._registeredFonts.hasOwnProperty(t))return i.fauxBold=!0,t}if(!n&&r){if(e._registeredFonts.hasOwnProperty(t+"-Italic"))return t+"-Italic";if(e._registeredFonts.hasOwnProperty(t))return i.fauxItalic=!0,t}if(!n&&!r&&e._registeredFonts.hasOwnProperty(t))return t;if(t.match(/(?:^|,)\s*serif\s*$/)){if(n&&r)return"Times-BoldItalic";if(n&&!r)return"Times-Bold";if(!n&&r)return"Times-Italic";if(!n&&!r)return"Times-Roman"}else if(t.match(/(?:^|,)\s*monospace\s*$/)){if(n&&r)return"Courier-BoldOblique";if(n&&!r)return"Courier-Bold";if(!n&&r)return"Courier-Oblique";if(!n&&!r)return"Courier"}else{if(t.match(/(?:^|,)\s*sans-serif\s*$/),n&&r)return"Helvetica-BoldOblique";if(n&&!r)return"Helvetica-Bold";if(!n&&r)return"Helvetica-Oblique";if(!n&&!r)return"Helvetica"}}),"function"!=typeof Pe&&(Pe=function(e){return e.replace(/\s+/g,"")}),"function"!=typeof je)je=null;else for(let e in s){let t=je(s[e]);s[e][0]=t[0],s[e][1]=t[1]}if("function"!=typeof Le&&(Le=null),"string"==typeof t&&(t=_(t)),t){let o=t.getElementsByTagName("style");for(let e=0;e<o.length;e++)Fe=Fe.concat(B(o[e].textContent));let s=K(t,null);if("function"==typeof s.drawInDocument){i.useCSS&&!Te&&Ie("SVGtoPDF: useCSS option can only be used for SVG *elements* in compatible browsers");let t=e._fillColor;e.save().translate(n||0,r||0).scale(xe),s.drawInDocument();for(let t=0;t<Re.length;t++)e.page.annotations.push(Re[t]);e.restore(),e._fillColor=t}else Ie("SVGtoPDF: this element can't be rendered directly: "+t.nodeName)}else Ie("SVGtoPDF: the input does not look like a valid SVG")})}).call(this,n(124)(e))},function(e,t){e.exports=require("./node_modules/pdfkit/js/pdfkit.standalone")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.disableTypes=t.disableFS=t.imageSize=void 0;const i=n(25),o=n(6),s=n(1496),a=n(721),c=n(1512),l=new s.default({concurrency:100,autostart:!0}),u={disabledFS:!1,disabledTypes:[]};function d(e,t){const n=c.detector(e);if(void 0!==n){if(u.disabledTypes.indexOf(n)>-1)throw new TypeError("disabled file type: "+n);if(n in a.typeHandlers){const r=a.typeHandlers[n].calculate(e,t);if(void 0!==r)return r.type=n,r}}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function h(e,t){if(Buffer.isBuffer(e))return d(e);if("string"!=typeof e||u.disabledFS)throw new TypeError("invalid invocation. input should be a Buffer");const n=o.resolve(e);if("function"!=typeof t){return d(function(e){const t=i.openSync(e,"r"),{size:n}=i.fstatSync(t);if(n<=0)throw i.closeSync(t),new Error("Empty file");const r=Math.min(n,524288),o=Buffer.alloc(r);return i.readSync(t,o,0,r,0),i.closeSync(t),o}(n),n)}l.push(()=>function(e){return r(this,void 0,void 0,(function*(){const t=yield i.promises.open(e,"r"),{size:n}=yield t.stat();if(n<=0)throw yield t.close(),new Error("Empty file");const r=Math.min(n,524288),o=Buffer.alloc(r);return yield t.read(o,0,r,0),yield t.close(),o}))}(n).then(e=>process.nextTick(t,null,d(e,n))).catch(t))}e.exports=t=h,t.default=h,t.imageSize=h;t.disableFS=e=>{u.disabledFS=e};t.disableTypes=e=>{u.disabledTypes=e};t.setConcurrency=e=>{l.concurrency=e},t.types=Object.keys(a.typeHandlers)},function(e,t,n){var r=n(27),i=n(35).EventEmitter;function o(e){if(!(this instanceof o))return new o(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}e.exports=o,e.exports.default=o,r(o,i);["pop","shift","indexOf","lastIndexOf"].forEach((function(e){o.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),o.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},o.prototype.reverse=function(){return this.jobs.reverse(),this};function s(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function a(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(i){t.removeListener("error",n),t.removeListener("end",r),e(i,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}["push","unshift","splice"].forEach((function(e){o.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(o.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),o.prototype.start=function(e){if(e&&a.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,i=this.session,o=null,s=!1,l=null,u=n.hasOwnProperty("timeout")?n.timeout:this.timeout;u&&(o=setTimeout((function(){s=!0,t.listeners("timeout").length>0?t.emit("timeout",h,n):h()}),u),this.timers[o]=o),this.results&&(l=this.results.length,this.results[l]=null),this.pending++,t.emit("start",n);var d=n(h);d&&d.then&&"function"==typeof d.then&&d.then((function(e){return h(null,e)})).catch((function(e){return h(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function h(e,a){r&&t.session===i&&(r=!1,t.pending--,null!==o&&(delete t.timers[o],clearTimeout(o)),e?t.emit("error",e,n):!1===s&&(null!==l&&(t.results[l]=Array.prototype.slice.call(arguments,1)),t.emit("success",a,n)),t.session===i&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},o.prototype.stop=function(){this.running=!1},o.prototype.end=function(e){s.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0,t.BMP={validate:e=>"BM"===e.toString("ascii",0,2),calculate:e=>({height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;const r=n(722);t.CUR={validate:e=>0===e.readUInt16LE(0)&&2===e.readUInt16LE(2),calculate:e=>r.ICO.calculate(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0,t.DDS={validate:e=>542327876===e.readUInt32LE(0),calculate:e=>({height:e.readUInt32LE(12),width:e.readUInt32LE(16)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;const r=/^GIF8[79]a/;t.GIF={validate(e){const t=e.toString("ascii",0,6);return r.test(t)},calculate:e=>({height:e.readUInt16LE(8),width:e.readUInt16LE(6)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;const r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(e,t){const n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function o(e){const t=r[e];return{width:t,height:t,type:e}}t.ICNS={validate:e=>"icns"===e.toString("ascii",0,4),calculate(e){const t=e.length,n=e.readUInt32BE(4);let r=8,s=i(e,r),a=o(s[0]);if(r+=s[1],r===n)return a;const c={height:a.height,images:[a],width:a.width};for(;r<n&&r<t;)s=i(e,r),a=o(s[0]),r+=s[1],c.images.push(a);return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0,t.J2C={validate:e=>"ff4fff51"===e.toString("hex",0,4),calculate:e=>({height:e.readUInt32BE(12),width:e.readUInt32BE(8)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;const r="66747970",i="6a703268",o="6a502020",s="72726571",a=e=>({height:e.readUInt32BE(4),width:e.readUInt32BE(8)});t.JP2={validate(e){const t=e.toString("hex",4,8),n=e.readUInt32BE(0);if(t!==o||n<1)return!1;const i=n+4,s=e.readUInt32BE(n);return e.slice(i,i+s).toString("hex",0,4)===r},calculate(e){const t=e.readUInt32BE(0);let n=t+4+e.readUInt16BE(t+2);switch(e.toString("hex",n,n+4)){case s:return n=n+4+4+(e=>{const t=e.readUInt8(0);let n=1+2*t;n=n+2+e.readUInt16BE(n)*(2+t);return n+2+e.readUInt16BE(n)*(16+t)})(e.slice(n+4)),a(e.slice(n+8,n+24));case i:return a(e.slice(n+8,n+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",n,n+4))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;const r=n(723);function i(e){return"45786966"===e.toString("hex",2,6)}function o(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function s(e,t){const n=e.slice(2,t),i=n.toString("hex",6,8),o="4d4d"===i;if(o||"4949"===i)return function(e,t){const n=r.readUInt(e,16,14,t);for(let i=0;i<n;i++){const n=16+12*i,o=n+12;if(n>e.length)return;const s=e.slice(n,o);if(274===r.readUInt(s,16,0,t)){if(3!==r.readUInt(s,16,2,t))return;if(1!==r.readUInt(s,32,4,t))return;return r.readUInt(s,16,8,t)}}}(n,o)}function a(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.JPG={validate:e=>"ffd8"===e.toString("hex",0,2),calculate(e){let t,n;for(e=e.slice(4);e.length;){const r=e.readUInt16BE(0);if(i(e)&&(t=s(e,r)),a(e,r),n=e[r+1],192===n||193===n||194===n){const n=o(e,r+5);return t?{height:n.height,orientation:t,width:n.width}:n}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0;t.KTX={validate:e=>"KTX 11"===e.toString("ascii",1,7),calculate:e=>({height:e.readUInt32LE(40),width:e.readUInt32LE(36)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;t.PNG={validate(e){if("PNG\r\n\n"===e.toString("ascii",1,8)){let t=e.toString("ascii",12,16);if("CgBI"===t&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>"CgBI"===e.toString("ascii",12,16)?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;const r={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},i=Object.keys(r),o={default:e=>{let t=[];for(;e.length>0;){const n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const t={};for(;e.length>0;){const n=e.shift();if(n.length>16||n.charCodeAt(0)>128)continue;const[r,i]=n.split(" ");if(r&&i&&(t[r.toLowerCase()]=parseInt(i,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate(e){const t=e.toString("ascii",0,2);return i.includes(t)},calculate(e){const t=e.toString("ascii",0,2),n=r[t],i=e.toString("ascii",3).split(/[\r\n]+/);return(o[n]||o.default)(i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0,t.PSD={validate:e=>"8BPS"===e.toString("ascii",0,4),calculate:e=>({height:e.readUInt32BE(14),width:e.readUInt32BE(18)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;const r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,i={height:/\sheight=(['"])([^%]+?)\1/,root:r,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},o={in:96,cm:96/2.54,em:16,ex:8,m:96/2.54*100,mm:96/2.54/10,pc:96/72/12,pt:96/72,px:1},s=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(o).join("|")})?$`);function a(e){const t=s.exec(e);if(t)return Math.round(Number(t[1])*(o[t[2]]||1))}function c(e){const t=e.split(" ");return{height:a(t[3]),width:a(t[2])}}t.SVG={validate(e){const t=String(e);return r.test(t)},calculate(e){const t=e.toString("utf8").match(i.root);if(t){const e=function(e){const t=e.match(i.width),n=e.match(i.height),r=e.match(i.viewbox);return{height:n&&a(n[2]),viewbox:r&&c(r[2]),width:t&&a(t[2])}}(t[0]);if(e.width&&e.height)return function(e){return{height:e.height,width:e.width}}(e);if(e.viewbox)return function(e,t){const n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(e,e.viewbox)}throw new TypeError("Invalid SVG")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;const r=n(25),i=n(723);function o(e,t){const n=i.readUInt(e,16,8,t);return(i.readUInt(e,16,10,t)<<16)+n}function s(e){if(e.length>24)return e.slice(12)}const a=["49492a00","4d4d002a"];t.TIFF={validate:e=>a.includes(e.toString("hex",0,4)),calculate(e,t){if(!t)throw new TypeError("Tiff doesn't support buffer");const n="BE"===function(e){const t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),a=function(e,t){const n={};let r=e;for(;r&&r.length;){const e=i.readUInt(r,16,0,t),a=i.readUInt(r,16,2,t),c=i.readUInt(r,32,4,t);if(0===e)break;1!==c||3!==a&&4!==a||(n[e]=o(r,t)),r=s(r)}return n}(function(e,t,n){const o=i.readUInt(e,32,4,n);let s=1024;const a=r.statSync(t).size;o+s>a&&(s=a-o-10);const c=Buffer.alloc(s),l=r.openSync(t,"r");return r.readSync(l,c,0,s,o),r.closeSync(l),c.slice(2)}(e,t,n),n),c=a[256],l=a[257];if(!c||!l)throw new TypeError("Invalid Tiff. Missing tags");return{height:l,width:c}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0,t.WEBP={validate(e){const t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate(e){const t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){const t=e[0],n=0==(1&t);if(0==(192&t)&&n)return function(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&e.readInt16LE(8),width:16383&e.readInt16LE(6)}}(e);const n=e.toString("hex",3,6);if("VP8L"===t&&"9d012a"!==n)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;const r=n(721),i=Object.keys(r.typeHandlers),o={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){const t=e[0];if(t in o){const n=o[t];if(n&&r.typeHandlers[n].validate(e))return n}return i.find(t=>r.typeHandlers[t].validate(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(116),i=n(481),o=n(440),s=n(130),a=n(1514),c=n(439);t.registerTypes=function(e){e.addSingleton(i.ActiveEditorContextService,i.ActiveEditorContextService),e.addSingleton(s.InterpreterPackages,s.InterpreterPackages),e.addSingleton(r.IExtensionSyncActivationService,c.WorkspaceInterpreterTracker),e.addSingleton(r.IExtensionSyncActivationService,a.InterpreterPackageTracker),e.addSingleton(r.IExtensionSingleActivationService,o.InterpreterCountTracker)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPackageTracker=void 0;const o=n(0),s=n(26),a=n(3),c=n(9),l=n(33),u=n(22),d=n(130),h=n(115);let p=class{constructor(e,t,n,r,i,o,s,a,c){this.packages=e,this.installer=t,this.extensions=n,this.pythonExtensionChecker=r,this.disposables=i,this.interpreterService=o,this.apiProvider=s,this.configurationService=a,this.notebookControllerManager=c}async activate(){u.isLocalLaunch(this.configurationService)&&(this.notebookControllerManager.onNotebookControllerSelected(this.onNotebookControllerSelected,this,this.disposables),this.interpreterService.onDidChangeInterpreter(this.trackPackagesOfActiveInterpreter,this,this.disposables),this.installer.onInstalled(this.onDidInstallPackage,this,this.disposables),this.extensions.onDidChange(this.trackUponActivation,this,this.disposables),this.trackUponActivation().catch(c.noop),this.apiProvider.onDidActivatePythonExtension(this.trackUponActivation,this,this.disposables))}async onNotebookControllerSelected(e){e.controller.connection.interpreter&&await this.packages.trackPackages(e.controller.connection.interpreter)}async trackUponActivation(){this.activeInterpreterTrackedUponActivation||this.pythonExtensionChecker.isPythonExtensionActive&&(this.activeInterpreterTrackedUponActivation=!0,await this.trackPackagesOfActiveInterpreter())}async trackPackagesOfActiveInterpreter(){if(!this.pythonExtensionChecker.isPythonExtensionActive)return;const e=await this.interpreterService.getActiveInterpreter(void 0);e&&await this.packages.trackPackages(e)}async onDidInstallPackage(e){if(this.pythonExtensionChecker.isPythonExtensionActive)if(c.isResource(e.resource)){const t=await this.interpreterService.getActiveInterpreter(e.resource);await this.packages.trackPackages(t,!0)}else await this.packages.trackPackages(e.resource,!0)}};p=r([o.injectable(),i(0,o.inject(d.InterpreterPackages)),i(1,o.inject(s.IPythonInstaller)),i(2,o.inject(a.IExtensions)),i(3,o.inject(s.IPythonExtensionChecker)),i(4,o.inject(a.IDisposableRegistry)),i(5,o.inject(l.IInterpreterService)),i(6,o.inject(s.IPythonApiProvider)),i(7,o.inject(a.IConfigurationService)),i(8,o.inject(h.INotebookControllerManager))],p),t.InterpreterPackageTracker=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCreationTracker=void 0;const o=n(0),s=n(14),a=n(3),c=n(22),l=n(13);let u=class{constructor(e,t,n){this.mementoStorage=e,this.notebookProvider=t,this.disposables=n}get lastPythonNotebookCreated(){const e=this.mementoStorage.get("last-python-notebook-created");return e?new Date(e):void 0}get lastNotebookCreated(){const e=this.mementoStorage.get("last-notebook-created");return e?new Date(e):void 0}async startTracking(){this.disposables.push(this.notebookProvider.onNotebookCreated(this.notebookCreated,this))}notebookCreated(e){const t=c.getKernelConnectionLanguage(e.notebook.getKernelConnection());this.mementoStorage.update("last-notebook-created",Date.now()),t===s.PYTHON_LANGUAGE&&this.mementoStorage.update("last-python-notebook-created",Date.now())}};u=r([o.injectable(),i(0,o.inject(a.IMemento)),i(0,o.named(a.WORKSPACE_MEMENTO)),i(1,o.inject(l.INotebookProvider)),i(2,o.inject(a.IDisposableRegistry))],u),t.NotebookCreationTracker=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlotViewerProvider=void 0,n(15);const o=n(0),s=n(3),a=n(40),c=n(8),l=n(5),u=n(13);let d=class{constructor(e,t){this.serviceContainer=e,this.imageList=[],this.closedViewer=()=>{this.currentViewer&&(this.currentViewer=void 0),this.currentViewerClosed&&(this.currentViewerClosed.dispose(),this.currentViewerClosed=void 0)},this.removedPlot=e=>{this.imageList.splice(e,1)},t.push(this)}async dispose(){this.currentViewer&&this.currentViewer.dispose()}async showPlot(e){this.imageList.push(e);const t=this.currentViewer?[e]:this.imageList,n=await this.getOrCreate();await Promise.all(t.map(n.addPlot))}async getOrCreate(){return this.currentViewer||(this.currentViewer=this.serviceContainer.get(u.IPlotViewer),this.currentViewerClosed=this.currentViewer.closed(this.closedViewer),this.currentViewer.removed(this.removedPlot),c.sendTelemetryEvent(l.Telemetry.OpenPlotViewer),await this.currentViewer.show()),this.currentViewer}};d=r([o.injectable(),i(0,o.inject(a.IServiceContainer)),i(1,o.inject(s.IAsyncDisposableRegistry))],d),t.PlotViewerProvider=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreWarmActivatedJupyterEnvironmentVariables=void 0;const o=n(0),s=n(26);n(15);const a=n(3),c=n(9),l=n(146),u=n(147),d=n(13);let h=class{constructor(e,t,n,r,i,o){this.activationService=e,this.jupyterInterpreterService=t,this.disposables=n,this.extensionChecker=r,this.apiProvider=i,this.rawNotebookSupported=o}async activate(){this.rawNotebookSupported.supported()||(this.disposables.push(this.jupyterInterpreterService.onDidChangeInterpreter(()=>this.preWarmInterpreterVariables().catch(c.noop))),this.preWarmInterpreterVariables().ignoreErrors()),this.apiProvider.onDidActivatePythonExtension(this.preWarmInterpreterVariables,this,this.disposables)}async preWarmInterpreterVariables(){if(!this.extensionChecker.isPythonExtensionActive)return;const e=await this.jupyterInterpreterService.getSelectedInterpreter();e&&this.activationService.getActivatedEnvironmentVariables(void 0,e).ignoreErrors()}};h=r([o.injectable(),i(0,o.inject(l.IEnvironmentActivationService)),i(1,o.inject(u.JupyterInterpreterService)),i(2,o.inject(a.IDisposableRegistry)),i(3,o.inject(s.IPythonExtensionChecker)),i(4,o.inject(s.IPythonApiProvider)),i(5,o.inject(d.IRawNotebookSupportedService))],h),t.PreWarmActivatedJupyterEnvironmentVariables=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawNotebookSupportedService=void 0;const o=n(0),s=n(461),a=n(4),c=n(3),l=n(8),u=n(5);let d=class{constructor(e){this.configuration=e}supported(){return!!this.localLaunch()&&this.isSupportedForLocalLaunch()}isSupportedForLocalLaunch(){return!this.isZQMDisabled()&&this.zmqSupported()}localLaunch(){const e=this.configuration.getSettings(void 0).jupyterServerType;return!e||e.toLowerCase()===u.Settings.JupyterServerLocalLaunch}isZQMDisabled(){return this.configuration.getSettings().disableZMQSupport}zmqSupported(){if("boolean"==typeof this.isSupported)return this.isSupported;if(s.IS_NON_RAW_NATIVE_TEST)return!1;try{n(515),a.traceInfo("ZMQ install verified."),l.sendTelemetryEvent(u.Telemetry.ZMQSupported),this.isSupported=!0}catch(e){a.traceError("Exception while attempting zmq :",e),l.sendTelemetryEvent(u.Telemetry.ZMQNotSupported),this.isSupported=!1}return this.isSupported}};d=r([o.injectable(),i(0,o.inject(c.IConfigurationService))],d),t.RawNotebookSupportedService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusProvider=void 0;const o=n(0),s=n(1),a=n(7),c=n(19);class l{constructor(e,t,n){this.disposed=!1,this.dispose=()=>{this.disposed||(this.disposed=!0,this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),this.disposeCallback(),this.deferred.completed||this.deferred.resolve())},this.promise=()=>this.deferred.promise,this.reject=()=>{this.deferred.reject(),this.dispose()},this.deferred=c.createDeferred(),this.disposeCallback=t,n&&(this.timeout=setTimeout(this.dispose,n))}}let u=class{constructor(e){this.applicationShell=e,this.statusCount=0,this.incrementCount=()=>{this.statusCount+=1},this.decrementCount=()=>{const e=this.statusCount-1;this.statusCount=Math.max(e,0)}}set(e,t,n){this.incrementCount();const r=new l(e,()=>this.decrementCount(),t),i={location:n?s.ProgressLocation.Notification:s.ProgressLocation.Window,title:e,cancellable:void 0!==n};return this.applicationShell.withProgress(i,(e,t)=>(t&&n&&t.onCancellationRequested(()=>{n(),r.reject()}),r.promise())),r}async waitWithStatus(e,t,n,r){const i=this.set(t,n,r);let o;try{o=await e()}finally{i.dispose()}return o}};u=r([o.injectable(),i(0,o.inject(a.IApplicationShell))],u),t.StatusProvider=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeFinder=void 0;const o=n(0),s=n(6),a=n(4),c=n(16),l=n(3);let u=class{constructor(e,t){this.extensions=e,this.fs=t,this.themeCache={}}async findThemeRootJson(e){const t=await this.findThemeData(e);if(t)return t.rootFile}async isThemeDark(e){const t=await this.findThemeData(e);if(t)return t.isDark}async findThemeData(e){if(!this.themeCache.hasOwnProperty(e))try{this.themeCache[e]=await this.findMatchingTheme(e)}catch(e){a.traceError(e)}return this.themeCache[e]}async findMatchingTheme(e){if(process.env.VSC_JUPYTER_MIMIC_REMOTE)return;const t=this.extensions.all;for(const n of t){const t=await this.findMatchingThemeFromJson(s.join(n.extensionPath,"package.json"),e);if(t)return t}const n=process.execPath;let r=s.dirname(n),i=s.join(r,"resources","app","extensions");await this.fs.localDirectoryExists(i)||(r=s.resolve(r,"../../../.."),i=s.join(r,"resources","app","extensions"));const o=await this.findMatchingThemes(i,e);return o||void 0}async findMatchingThemes(e,t){const n=await this.fs.searchLocal("**/package.json",e);if(n&&n.length>0)for(const r of n){const n=s.join(e,r),i=await this.findMatchingThemeFromJson(n,t);if(i)return i}}async findMatchingThemeFromJson(e,t){const n=await this.fs.readLocalFile(e),r=JSON.parse(n);if(r.hasOwnProperty("name")&&r.hasOwnProperty("contributes")){const n=r.contributes;if(n.hasOwnProperty("themes")){const r=n.themes;for(const n of r)if(n.hasOwnProperty("label")&&n.label===t||n.hasOwnProperty("id")&&n.id===t){return{isDark:n.hasOwnProperty("uiTheme")&&"vs-dark"===n.uiTheme,rootFile:n.hasOwnProperty("path")?s.join(s.dirname(e),n.path.toString()):""}}}}}};u=r([o.injectable(),i(0,o.inject(l.IExtensions)),i(1,o.inject(c.IFileSystem))],u),t.ThemeFinder=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookWatcher=void 0;const o=n(0),s=n(1);n(15);const a=n(16),c=n(3),l=n(56),u=n(24),d=n(1522),h=n(13);let p=class{constructor(e,t,n,r,i){this.notebookEditorProvider=e,this.interactiveWindowProvider=t,this.kernelProvider=n,this.fileSystem=r,this.disposables=i,this._onDidExecuteActiveNotebook=new s.EventEmitter,this._onDidChangeActiveNotebook=new s.EventEmitter,this._onDidRestartActiveNotebook=new s.EventEmitter,this._executionCountTracker=[],this.notebookEditorProvider.onDidChangeActiveNotebookEditor(this.activeEditorChanged,this,this.disposables),this.notebookEditorProvider.onDidCloseNotebookEditor(this.notebookEditorClosed,this,this.disposables),this.kernelProvider.onDidRestartKernel(e=>this.handleRestart({state:d.KernelState.restarted,resource:e.notebookUri}),this,this.disposables),s.notebooks.onDidChangeNotebookCellExecutionState(this.onDidChangeNotebookCellExecutionState,this,this.disposables)}get onDidChangeActiveNotebook(){return this._onDidChangeActiveNotebook.event}get onDidExecuteActiveNotebook(){return this._onDidExecuteActiveNotebook.event}get onDidRestartActiveNotebook(){return this._onDidRestartActiveNotebook.event}get activeNotebook(){var e;return(null===(e=this.notebookEditorProvider.activeEditor)||void 0===e?void 0:e.notebook)||this.getActiveInteractiveWindowNotebook()}get activeNotebookExecutionCount(){var e;const t=this.getActiveInteractiveWindow(),n=(null===(e=this.notebookEditorProvider.activeEditor)||void 0===e?void 0:e.file)||(null==t?void 0:t.notebookUri);if(n){const e=this.getExecutionCount(n);return null==e?void 0:e.executionCount}}async onDidChangeNotebookCellExecutionState(e){u.isJupyterNotebook(e.cell.notebook)&&e.state===s.NotebookCellExecutionState.Idle&&await this.handleExecute({resource:e.cell.notebook.uri,state:d.KernelState.executed,cell:e.cell,silent:!1})}async handleExecute(e){var t,n,r,i,o,s;this.isNonSilentExecution(e)&&(void 0!==(null===(n=null===(t=e.cell)||void 0===t?void 0:t.executionSummary)||void 0===n?void 0:n.executionOrder)&&this.updateExecutionCount(e.resource,null===(r=e.cell.executionSummary)||void 0===r?void 0:r.executionOrder),await this.isActiveNotebookEvent(e)&&void 0!==(null===(o=null===(i=e.cell)||void 0===i?void 0:i.executionSummary)||void 0===o?void 0:o.executionOrder)&&this._onDidExecuteActiveNotebook.fire({executionCount:null===(s=e.cell.executionSummary)||void 0===s?void 0:s.executionOrder}))}async handleRestart(e){this.deleteExecutionCount(e.resource),await this.isActiveNotebookEvent(e)&&this._onDidRestartActiveNotebook.fire()}notebookEditorClosed(e){this.deleteExecutionCount(e.file)}activeEditorChanged(e){const t={};if(e){t.notebook=e.notebook;const n=this.getExecutionCount(e.file);n&&(t.executionCount=n.executionCount)}this._onDidChangeActiveNotebook.fire(t)}isNonSilentExecution(e){var t;return!(e.state!==d.KernelState.executed||!e.cell||!(null===(t=e.cell.executionSummary)||void 0===t?void 0:t.executionOrder)||e.silent)}async isActiveNotebookEvent(e){if(this.notebookEditorProvider.activeEditor&&this.fileSystem.arePathsSame(this.notebookEditorProvider.activeEditor.file,e.resource))return!0;const t=this.getActiveInteractiveWindow();return!(void 0===(null==t?void 0:t.notebookUri)||!this.fileSystem.arePathsSame(t.notebookUri,e.resource))}getActiveInteractiveWindow(){if(void 0===s.window.activeTextEditor)return;const e=s.window.activeTextEditor.document.uri;return this.interactiveWindowProvider.get(e)}getActiveInteractiveWindowNotebook(){var e;const t=this.getActiveInteractiveWindow(),n=s.workspace.notebookDocuments.find(e=>{var n;return e.uri.toString()===(null===(n=null==t?void 0:t.notebookUri)||void 0===n?void 0:n.toString())});if(void 0!==n)return null===(e=this.kernelProvider.get(n))||void 0===e?void 0:e.notebook}getExecutionCount(e){return this._executionCountTracker.find(t=>this.fileSystem.arePathsSame(e,t.uri))}updateExecutionCount(e,t){const n=this.getExecutionCount(e);n?n.executionCount=t:this._executionCountTracker.push({uri:e,executionCount:t})}deleteExecutionCount(e){this._executionCountTracker=this._executionCountTracker.filter(t=>!this.fileSystem.arePathsSame(e,t.uri))}};p=r([o.injectable(),i(0,o.inject(h.INotebookEditorProvider)),i(1,o.inject(h.IInteractiveWindowProvider)),i(2,o.inject(l.IKernelProvider)),i(3,o.inject(a.IFileSystem)),i(4,o.inject(c.IDisposableRegistry))],p),t.NotebookWatcher=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelState=void 0,function(e){e[e.executed=0]="executed",e[e.restarted=1]="restarted"}(t.KernelState||(t.KernelState={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableViewActivationService=void 0;const o=n(0),s=n(1),a=n(3),c=n(341);let l=class{constructor(e,t){this.extensionContext=e,this.variableViewProvider=t}async activate(){this.extensionContext.subscriptions.push(s.window.registerWebviewViewProvider(this.variableViewProvider.viewType,this.variableViewProvider,{webviewOptions:{retainContextWhenHidden:!1}}))}};l=r([o.injectable(),i(0,o.inject(a.IExtensionContext)),i(1,o.inject(c.IVariableViewProvider))],l),t.VariableViewActivationService=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableViewProvider=void 0;const o=n(0),s=n(7),a=n(14),c=n(3),l=n(19),u=n(322),d=n(5),h=n(112),p=n(13),f=n(341),m=n(1525);let g=class{constructor(e,t,n,r,i,o,s,a,c,l,u,d,h){this.configuration=e,this.cssGenerator=t,this.themeFinder=n,this.workspaceService=r,this.webviewViewProvider=i,this.variables=o,this.disposables=s,this.appShell=a,this.jupyterVariableDataProviderFactory=c,this.dataViewerFactory=l,this.notebookWatcher=u,this.commandManager=d,this.debuggingManager=h,this.viewType="jupyterViewVariables"}get activeVariableView(){if(!a.isTestExecution())throw new Error("activeVariableView only for test code");return this.variableView?Promise.resolve(this.variableView):(this.activeVariableViewPromise=l.createDeferred(),this.activeVariableViewPromise.promise)}async resolveWebviewView(e,t,n){e.webview.options={enableScripts:!0},this.variableView=new m.VariableView(this.configuration,this.cssGenerator,this.themeFinder,this.workspaceService,this.webviewViewProvider,this.variables,this.disposables,this.appShell,this.jupyterVariableDataProviderFactory,this.dataViewerFactory,this.notebookWatcher,this.commandManager,this.debuggingManager),this.activeVariableViewPromise&&this.activeVariableViewPromise.resolve(this.variableView),await this.variableView.load(e)}};g=r([o.injectable(),i(0,o.inject(c.IConfigurationService)),i(1,o.inject(p.ICodeCssGenerator)),i(2,o.inject(p.IThemeFinder)),i(3,o.inject(s.IWorkspaceService)),i(4,o.inject(s.IWebviewViewProvider)),i(5,o.inject(p.IJupyterVariables)),i(5,o.named(d.Identifiers.ALL_VARIABLES)),i(6,o.inject(c.IDisposableRegistry)),i(7,o.inject(s.IApplicationShell)),i(8,o.inject(p.IJupyterVariableDataProviderFactory)),i(9,o.inject(h.IDataViewerFactory)),i(10,o.inject(f.INotebookWatcher)),i(11,o.inject(s.ICommandManager)),i(12,o.inject(u.IDebuggingManager))],g),t.VariableViewProvider=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableView=void 0,n(15);const o=n(0),s=n(6),a=n(14),c=n(4),l=n(10),u=n(73),d=n(8),h=n(5),p=n(488),f=n(1526),m=n(1527),g=n(132),v=s.join(a.EXTENSION_ROOT_DIR,"out","datascience-ui","viewers");let y=class extends f.WebviewViewHost{constructor(e,t,n,r,i,o,a,c,l,u,d,h,f){super(e,t,n,r,(e,t)=>new m.VariableViewMessageListener(e,t),i,v,[s.join(v,"variableView.js")]),this.variables=o,this.disposables=a,this.appShell=c,this.jupyterVariableDataProviderFactory=l,this.dataViewerFactory=u,this.notebookWatcher=d,this.commandManager=h,this.debuggingManager=f,this.notebookWatcher.onDidExecuteActiveNotebook(this.activeNotebookExecuted,this,this.disposables),this.notebookWatcher.onDidChangeActiveNotebook(this.activeNotebookChanged,this,this.disposables),this.notebookWatcher.onDidRestartActiveNotebook(this.activeNotebookRestarted,this,this.disposables),this.debuggingManager.onDidFireVariablesEvent(this.sendRefreshMessage,this,this.disposables),this.dataViewerChecker=new p.DataViewerChecker(e,c)}get owningResource(){}async load(e){await super.loadWebview(process.cwd(),e).catch(c.traceError),this.webviewView&&this.disposables.push(this.webviewView.onDidChangeVisiblity(()=>{this.handleVisibilityChanged()})),this.handleVisibilityChanged()}get title(){return"variableView"}onMessage(e,t){switch(e){case u.InteractiveWindowMessages.GetVariablesRequest:this.handleMessage(e,t,this.requestVariables);break;case u.InteractiveWindowMessages.ShowDataViewer:this.handleMessage(e,t,this.showDataViewer)}super.onMessage(e,t)}handleMessage(e,t,n){const r=t;n.bind(this)(r)}handleVisibilityChanged(){const e=new g.ContextKey("jupyter.variableViewVisible",this.commandManager);let t=!1;this.webviewView&&(t=this.webviewView.visible),e.set(t).ignoreErrors(),t&&(d.sendTelemetryEvent(h.Telemetry.NativeVariableViewMadeVisible),void 0!==this.notebookWatcher.activeNotebookExecutionCount?this.postMessage(u.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:this.notebookWatcher.activeNotebookExecutionCount}).ignoreErrors():this.postMessage(u.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors())}async showDataViewer(e){try{if(this.notebookWatcher.activeNotebook&&await this.dataViewerChecker.isRequestedColumnSizeAllowed(e.columnSize,this.owningResource)){const t=await this.jupyterVariableDataProviderFactory.create(e.variable,this.notebookWatcher.activeNotebook),n=`${l.DataScience.dataExplorerTitle()} - ${e.variable.name}`;await this.dataViewerFactory.create(t,n)}}catch(e){c.traceError(e),d.sendTelemetryEvent(h.Telemetry.FailedShowDataViewer),this.appShell.showErrorMessage(l.DataScience.showDataViewerFail())}}async requestVariables(e){const t=this.notebookWatcher.activeNotebook;if(t){const n=await this.variables.getVariables(e,t);this.postMessage(u.InteractiveWindowMessages.GetVariablesResponse,n).ignoreErrors(),d.sendTelemetryEvent(h.Telemetry.VariableExplorerVariableCount,void 0,{variableCount:n.totalCount})}else{const t={executionCount:e.executionCount,pageStartIndex:-1,pageResponse:[],totalCount:0,refreshCount:e.refreshCount};this.postMessage(u.InteractiveWindowMessages.GetVariablesResponse,t).ignoreErrors()}}async activeNotebookExecuted(e){this.postMessage(u.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:e.executionCount}).ignoreErrors()}async activeNotebookChanged(e){e.executionCount?this.postMessage(u.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:e.executionCount}).ignoreErrors():this.postMessage(u.InteractiveWindowMessages.UpdateVariableViewExecutionCount,{executionCount:0}).ignoreErrors(),this.postMessage(u.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors()}async activeNotebookRestarted(){this.postMessage(u.InteractiveWindowMessages.RestartKernel).ignoreErrors()}async sendRefreshMessage(){this.postMessage(u.InteractiveWindowMessages.ForceVariableRefresh).ignoreErrors()}};r([d.captureTelemetry(h.Telemetry.NativeVariableViewLoaded)],y.prototype,"load",null),y=r([o.injectable(),i(0,o.unmanaged()),i(1,o.unmanaged()),i(2,o.unmanaged()),i(3,o.unmanaged()),i(4,o.unmanaged()),i(5,o.unmanaged()),i(6,o.unmanaged()),i(7,o.unmanaged()),i(8,o.unmanaged()),i(9,o.unmanaged()),i(10,o.unmanaged()),i(11,o.unmanaged()),i(12,o.unmanaged())],y),t.VariableView=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewViewHost=void 0,n(15);const o=n(0),s=n(499);let a=class extends s.WebviewHost{constructor(e,t,n,r,i,o,s,a){super(e,t,n,r,s,a),this.configService=e,this.themeFinder=n,this.workspaceService=r,this.provider=o,this.messageListener=i(this.onMessage.bind(this),this.dispose.bind(this))}get isDisposed(){return this.disposed}get webviewView(){return this.webview&&this.webview}async provideWebview(e,t,n,r){if(!r)throw new Error("WebviewViews must be passed an initial VS Code Webview");return this.provider.create({additionalPaths:n?[n.fsPath]:[],rootPath:this.rootPath,cwd:e,listener:this.messageListener,scripts:this.scripts,settings:t,webviewHost:r})}};a=r([o.injectable(),i(0,o.unmanaged()),i(1,o.unmanaged()),i(2,o.unmanaged()),i(3,o.unmanaged()),i(4,o.unmanaged()),i(5,o.unmanaged()),i(6,o.unmanaged()),i(7,o.unmanaged())],a),t.WebviewViewHost=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariableViewMessageListener=void 0,n(15);t.VariableViewMessageListener=class{constructor(e,t){this.disposedCallback=t,this.callback=e}async dispose(){this.disposedCallback()}onMessage(e,t){this.callback(e,t)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteKernelFinder=void 0;const o=n(0),s=n(3),a=n(137),c=n(8),l=n(5),u=n(22),d=n(337),h=n(13),p=n(4),f=n(54),m=n(14),g=n(68),v=n(242);let y=class{constructor(e,t,n){this.preferredRemoteKernelIdProvider=t,this.jupyterSessionManagerFactory=n,this.kernelIdsToHide=new Set,e.push(this.jupyterSessionManagerFactory.onRestartSessionCreated(this.addKernelToIgnoreList.bind(this))),e.push(this.jupyterSessionManagerFactory.onRestartSessionUsed(this.removeKernelFromIgnoreList.bind(this)))}async findKernel(e,t,n,r){const i=f.getResourceType(e),o="interactive"===i?m.PYTHON_LANGUAGE:g.getTelemetrySafeLanguage(u.getLanguageInNotebookMetadata(n)||"");try{const r=await this.listKernels(e,t),s=u.findPreferredKernel(r,e,[],n,void 0,this.preferredRemoteKernelIdProvider);return c.sendTelemetryEvent(l.Telemetry.PreferredKernel,void 0,{result:s?"found":"notfound",resourceType:i,language:o}),s}catch(e){c.sendTelemetryEvent(l.Telemetry.PreferredKernel,void 0,{result:"failed",resourceType:i,language:o},e,!0),p.traceError("findKernel crashed",e)}}async listKernels(e,t){let n;if(t&&"jupyter"===t.type)try{n=await this.jupyterSessionManagerFactory.create(t);const[r,i,o]=await Promise.all([n.getRunningKernels(),n.getKernelSpecs(),n.getRunningSessions()]),s=i.map(e=>({kind:"startUsingKernelSpec",kernelSpec:e,id:u.getKernelId(e,void 0)})),a=o.map(e=>{const t=e.kernel,n=t.last_activity?new Date(Date.parse(t.last_activity.toString())):new Date,o=t.connections?parseInt(t.connections.toString(),10):0,s=r.find(t=>t.id===e.kernel.id)||{},a=i.find(t=>t.name===e.kernel.name)||{};return{kind:"connectToLiveKernel",kernelModel:{...e.kernel,...a,...s,lastActivityTime:n,numberOfConnections:o,session:e},id:e.kernel.id}}),c=[...a.filter(e=>!this.kernelIdsToHide.has(e.kernelModel.id||"")),...s];return p.traceInfoIf(!!process.env.VSC_JUPYTER_LOG_KERNEL_OUTPUT,`Kernel specs for ${(null==e?void 0:e.toString())||"undefined"} are \n ${JSON.stringify(c,void 0,4)}`),v.sendKernelListTelemetry(e,c),c}finally{n&&await n.dispose()}return v.sendKernelListTelemetry(e,[]),[]}addKernelToIgnoreList(e){this.kernelIdsToHide.add(e.id),this.kernelIdsToHide.add(e.clientId)}removeKernelFromIgnoreList(e){this.kernelIdsToHide.delete(e.id),this.kernelIdsToHide.delete(e.clientId)}};r([a.traceDecorators.verbose("Find remote kernel spec"),c.captureTelemetry(l.Telemetry.KernelFinderPerf),c.captureTelemetry(l.Telemetry.KernelListingPerf,{kind:"remote"})],y.prototype,"findKernel",null),y=r([o.injectable(),i(0,o.inject(s.IDisposableRegistry)),i(1,o.inject(d.PreferredRemoteKernelIdProvider)),i(2,o.inject(h.IJupyterSessionManagerFactory))],y),t.RemoteKernelFinder=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionRecommendationService=t.canOtherExtensionsRunCellsInNotebook=void 0;const o=n(0),s=n(7),a=n(99),c=n(3),l=n(10),u=n(9),d=n(8),h=n(5),p=n(22),f=n(24),m=n(115),g=new Map([["ms-dotnettools.dotnet-interactive-vscode",{displayName:".NET Interactive Notebooks Preview",extensionLink:"https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.dotnet-interactive-vscode"}]]),v=new Map([["c#","ms-dotnettools.dotnet-interactive-vscode"],["csharp","ms-dotnettools.dotnet-interactive-vscode"],["f#","ms-dotnettools.dotnet-interactive-vscode"],["fsharp","ms-dotnettools.dotnet-interactive-vscode"],["powershell","ms-dotnettools.dotnet-interactive-vscode"]]);t.canOtherExtensionsRunCellsInNotebook=function(e){const t=p.getLanguageInNotebookMetadata(f.getNotebookMetadata(e)),n=t?[t]:e.getCells().map(e=>e.document.languageId);return 0!==n.length&&n.some(e=>v.has(e))};let y=class{constructor(e,t,n,r,i,o,s){this.notebook=e,this.controllerManager=t,this.globalMemento=r,this.appShell=i,this.extensions=o,this.commandManager=s,this.disposables=[],this.recommendedInSession=new Set,n.push(this)}dispose(){a.disposeAllDisposables(this.disposables)}activate(){this.notebook.onDidOpenNotebookDocument(this.onDidOpenNotebookDocument,this,this.disposables),this.controllerManager.onNotebookControllerSelected(this.onNotebookControllerSelected,this,this.disposables)}onDidOpenNotebookDocument(e){if(!f.isJupyterNotebook(e))return;const t=p.getLanguageInNotebookMetadata(f.getNotebookMetadata(e));t&&this.recommendExtensionForLanguage(t).catch(u.noop)}onNotebookControllerSelected({controller:e}){if("startUsingKernelSpec"!==e.connection.kind)return;if(p.isPythonKernelConnection(e.connection))return;const t=p.getKernelConnectionLanguage(e.connection);t&&this.recommendExtensionForLanguage(t).catch(u.noop)}async recommendExtensionForLanguage(e){const t=v.get(e.toLowerCase());if(!t||this.extensions.getExtension(t))return;const n=g.get(t);if(!n)return;if(this.globalMemento.get("JVSC_NEVER_PROMPT_EXTENSIONS_LIST",[]).includes(t)||this.recommendedInSession.has(t))return;this.recommendedInSession.add(t);const r=l.DataScience.recommendExtensionForNotebookLanguage().format(`[${n.displayName}](${n.extensionLink})`,e);d.sendTelemetryEvent(h.Telemetry.RecommendExtension,void 0,{extensionId:t,action:"displayed"});switch(await this.appShell.showInformationMessage(r,l.Common.bannerLabelYes(),l.Common.bannerLabelNo(),l.Common.doNotShowAgain())){case l.Common.bannerLabelYes():d.sendTelemetryEvent(h.Telemetry.RecommendExtension,void 0,{extensionId:t,action:"ok"}),this.commandManager.executeCommand("extension.open",t).then(u.noop,u.noop);break;case l.Common.bannerLabelNo():d.sendTelemetryEvent(h.Telemetry.RecommendExtension,void 0,{extensionId:t,action:"cancel"});break;case l.Common.doNotShowAgain():{d.sendTelemetryEvent(h.Telemetry.RecommendExtension,void 0,{extensionId:t,action:"doNotShowAgain"});const e=this.globalMemento.get("JVSC_NEVER_PROMPT_EXTENSIONS_LIST",[]);e.includes(t)||(e.push(t),await this.globalMemento.update("JVSC_NEVER_PROMPT_EXTENSIONS_LIST",e));break}default:d.sendTelemetryEvent(h.Telemetry.RecommendExtension,void 0,{extensionId:t,action:"dismissed"})}}};y=r([o.injectable(),i(0,o.inject(s.IVSCodeNotebook)),i(1,o.inject(m.INotebookControllerManager)),i(2,o.inject(c.IDisposableRegistry)),i(3,o.inject(c.IMemento)),i(3,o.named(c.GLOBAL_MEMENTO)),i(4,o.inject(s.IApplicationShell)),i(5,o.inject(c.IExtensions)),i(6,o.inject(s.ICommandManager))],y),t.ExtensionRecommendationService=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonVariablesRequester=void 0;const o=n(0),s=n(6),a=n(324),c=n(4),l=n(16),u=n(10),d=n(5),h=n(497),p=n(191);let f=class{constructor(e){this.fs=e,this.importedDataFrameScripts=new Map,this.importedGetVariableInfoScripts=new Map}async getDataFrameInfo(e,t,n){await this.importDataFrameScripts(t);const r=await p.executeSilently(t.session,`print(${d.DataFrameLoading.DataFrameInfoFunc}(${n}))`),i=s.basename(t.identity.path);return{...e,...this.deserializeJupyterResult(r),fileName:i}}async getDataFrameRows(e,t,n,r){await this.importDataFrameScripts(n);const i=await p.executeSilently(n.session,`print(${d.DataFrameLoading.DataFrameRowFunc}(${r}, ${e}, ${t}))`);return this.deserializeJupyterResult(i)}async getVariableProperties(e,t,n,r,i,o){await this.importGetVariableInfoScripts(t);let s={};if(r&&r.value){const n=null==r?void 0:r.type;if(n&&n in i&&o){const e="["+i[n].reduce((e,t)=>e+`"${t}", `,"")+"]",o=await p.executeSilently(t.session,`print(${d.GetVariableInfo.VariablePropertiesFunc}(${r.name}, ${e}))`);s={...s,...this.deserializeJupyterResult(o)}}else s[""+e]=r.value}return s}async getVariableNamesAndTypesFromKernel(e,t){if(e){await this.importGetVariableInfoScripts(e);const t=await p.executeSilently(e.session,`_rwho_ls = %who_ls\nprint(${d.GetVariableInfo.VariableTypesFunc}(_rwho_ls))`),n=this.deserializeJupyterResult(t),r=[];for(const[e,t]of Object.entries(n)){const n={name:e,value:void 0,supportsDataExplorer:!1,type:t||"",size:0,shape:"",count:0,truncated:!0};r.push(n)}return r}return[]}async getFullVariable(e,t,n){await this.importGetVariableInfoScripts(t);const r=await p.executeSilently(t.session,`print(${d.GetVariableInfo.VariableInfoFunc}(${e.name}))`);return{...e,...this.deserializeJupyterResult(r)}}async importDataFrameScripts(e){const t=e.identity.toString();if(!this.importedDataFrameScripts.get(t)){const n=[],r=()=>{this.importedDataFrameScripts.delete(t),n.forEach(e=>e.dispose())};n.push(e.onDisposed(r)),n.push(e.onKernelChanged(r)),n.push(e.onKernelRestarted(r)),await this.runScriptFile(e,d.DataFrameLoading.ScriptPath),this.importedDataFrameScripts.set(e.identity.toString(),!0)}}async importGetVariableInfoScripts(e){const t=e.identity.toString();if(!this.importedGetVariableInfoScripts.get(t)){const n=[],r=()=>{this.importedGetVariableInfoScripts.delete(t),n.forEach(e=>e.dispose())};n.push(e.onDisposed(r)),n.push(e.onKernelChanged(r)),n.push(e.onKernelRestarted(r)),await this.runScriptFile(e,d.GetVariableInfo.ScriptPath),this.importedGetVariableInfoScripts.set(e.identity.toString(),!0)}}async runScriptFile(e,t){if(await this.fs.localFileExists(t)){const n=await this.fs.readLocalFile(t);return p.executeSilently(e.session,n)}c.traceError("Cannot run non-existant script file")}extractJupyterResultText(e){if(e.length>0){const t=e[0];if(t&&"stream"===t.output_type&&"stderr"===t.name&&t.hasOwnProperty("text")){const e=t.text;if(e.includes("iopub_data_rate_limit"))throw new h.JupyterDataRateLimitError;{const t=u.DataScience.jupyterGetVariablesExecutionError().format(e);throw c.traceError(t),new Error(t)}}if(t&&"execute_result"===t.output_type){const e=t.data;if(e&&e.hasOwnProperty("text/plain"))return e["text/plain"]}if(t&&"stream"===t.output_type&&t.hasOwnProperty("text"))return t.text;if(t&&"error"===t.output_type&&t.hasOwnProperty("traceback")){const e=t.traceback.map(a.default).join("\r\n"),n=u.DataScience.jupyterGetVariablesExecutionError().format(e);throw c.traceError(n),new Error(n)}}throw new Error(u.DataScience.jupyterGetVariablesBadResults())}deserializeJupyterResult(e){const t=this.extractJupyterResultText(e);return JSON.parse(t)}};f=r([o.injectable(),i(0,o.inject(l.IFileSystem))],f),t.PythonVariablesRequester=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeInteractiveWindowCommandListener=void 0,n(15);const o=n(0),s=n(41),a=n(1),c=n(193),l=n(7),u=n(37),d=n(14),h=n(4),p=n(16),f=n(3),m=n(10),g=n(8),v=n(509),y=n(133),b=n(5),_=n(90),w=n(196),S=n(13),E=n(502);let x=class{constructor(e,t,n,r,i,o,s,a,c,l,u,d,h,p,f){this.disposableRegistry=e,this.interactiveWindowProvider=t,this.jupyterExporter=n,this.jupyterExecution=r,this.notebookProvider=i,this.documentManager=o,this.applicationShell=s,this.fileSystem=a,this.configuration=c,this.statusProvider=l,this.dataScienceErrorHandler=u,this.ipynbProvider=d,this.exportManager=h,this.exportDialog=p,this.clipboard=f}register(e){let t=e.registerCommand(b.Commands.CreateNewInteractive,()=>this.createNewInteractiveWindow());this.disposableRegistry.push(t),t=e.registerCommand(b.Commands.ImportNotebook,(e,t=v.CommandSource.commandPalette)=>this.listenForErrors(()=>e?this.importNotebookOnFile(e):this.importNotebook())),this.disposableRegistry.push(t),t=e.registerCommand(b.Commands.ImportNotebookFile,(e,t=v.CommandSource.commandPalette)=>this.listenForErrors(()=>e?this.importNotebookOnFile(e):this.importNotebook())),this.disposableRegistry.push(t),t=e.registerCommand(b.Commands.ExportFileAsNotebook,(e,t=v.CommandSource.commandPalette)=>this.listenForErrors(()=>{if(e)return this.exportFile(e);{const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===d.PYTHON_LANGUAGE)return this.exportFile(e.document.uri)}return Promise.resolve()})),this.disposableRegistry.push(t),t=e.registerCommand(b.Commands.ExportFileAndOutputAsNotebook,(e,t=v.CommandSource.commandPalette)=>this.listenForErrors(()=>{if(e)return this.exportFileAndOutput(e);{const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===d.PYTHON_LANGUAGE)return this.exportFileAndOutput(e.document.uri)}return Promise.resolve()})),this.disposableRegistry.push(t),this.disposableRegistry.push(e.registerCommand(b.Commands.ExpandAllCells,e=>this.expandAllCells(null==e?void 0:e.notebookEditor.notebookUri))),this.disposableRegistry.push(e.registerCommand(b.Commands.CollapseAllCells,e=>this.collapseAllCells(null==e?void 0:e.notebookEditor.notebookUri))),this.disposableRegistry.push(e.registerCommand(b.Commands.ExportOutputAsNotebook,()=>this.exportCells())),this.disposableRegistry.push(e.registerCommand(b.Commands.InteractiveExportAsNotebook,e=>this.export(null==e?void 0:e.notebookEditor.notebookUri))),this.disposableRegistry.push(e.registerCommand(b.Commands.InteractiveExportAs,e=>this.exportAs(null==e?void 0:e.notebookEditor.notebookUri))),this.disposableRegistry.push(e.registerCommand(b.Commands.ScrollToCell,(e,t)=>this.scrollToCell(e,t))),this.disposableRegistry.push(e.registerCommand(b.Commands.InteractiveClearAll,this.clearAllCellsInInteractiveWindow,this)),this.disposableRegistry.push(e.registerCommand(b.Commands.InteractiveRemoveCell,this.removeCellInInteractiveWindow,this)),this.disposableRegistry.push(e.registerCommand(b.Commands.InteractiveGoToCode,this.goToCodeInInteractiveWindow,this)),this.disposableRegistry.push(e.registerCommand(b.Commands.InteractiveCopyCell,this.copyCellInInteractiveWindow,this))}async listenForErrors(e){let t;try{return t=await e(),t}catch(e){e instanceof u.CancellationError?h.traceInfo("Canceled"):e.message?(h.traceError(e.message),this.applicationShell.showErrorMessage(e.message)):(h.traceError(e.toString()),this.applicationShell.showErrorMessage(e.toString()))}return t}showInformationMessage(e,t){return t?this.applicationShell.showInformationMessage(e,t):this.applicationShell.showInformationMessage(e)}async exportFile(e){if(e&&e.fsPath&&e.fsPath.length>0){const t=this.documentManager.activeTextEditor;if(t&&this.fileSystem.arePathsSame(t.document.uri,e)){const n=y.generateCellsFromDocument(t.document,this.configuration.getSettings(t.document.uri));if(n){const r=await this.exportDialog.showDialog(_.ExportFormat.ipynb,e);if(await this.waitForStatus(async()=>{if(r){let e;this.configuration.getSettings(t.document.uri).changeDirOnImportExport&&(e=r);const i=await this.jupyterExporter.translateToNotebook(n,null==e?void 0:e.fsPath);await this.fileSystem.writeFile(r,JSON.stringify(i))}},m.DataScience.exportingFormat(),e.fsPath),r&&r.fsPath){const e=m.DataScience.exportOpenQuestion1();await this.applicationShell.showInformationMessage(m.DataScience.exportDialogComplete().format(r.fsPath),e)===e&&await this.ipynbProvider.open(r)}}}}}async exportFileAndOutput(e){if(e&&e.fsPath&&e.fsPath.length>0&&await this.jupyterExecution.isNotebookSupported()){const t=this.documentManager.activeTextEditor;if(t&&t.document&&this.fileSystem.arePathsSame(t.document.uri,e)){const n=y.generateCellRangesFromDocument(t.document);if(n.length>0){const r=await this.showExportDialog(e);if(r){const i=new c.CancellationTokenSource;await this.waitForStatus(()=>{try{return this.exportCellsWithOutput(n,t.document,r,i.token)}catch(e){e instanceof u.CancellationError||this.showInformationMessage(m.DataScience.exportDialogFailed().format(e))}return Promise.resolve()},m.DataScience.exportingFormat(),e.fsPath,()=>{i.cancel()});const o=m.DataScience.exportOpenQuestion1();return await this.applicationShell.showInformationMessage(m.DataScience.exportDialogComplete().format(r.fsPath),o)===o&&await this.ipynbProvider.open(r),r}}}}else await this.dataScienceErrorHandler.handleError(new w.JupyterInstallError(m.DataScience.jupyterNotSupported().format(await this.jupyterExecution.getNotebookError()),m.DataScience.pythonInteractiveHelpLink()))}async exportCellsWithOutput(e,t,n,r){let i;try{const o=this.configuration.getSettings(t.uri);i=await this.notebookProvider.getOrCreateNotebook({identity:E.createExportInteractiveIdentity(),resource:n});const a=Array.prototype.concat(...await Promise.all(e.map(e=>{const n=t.getText(e.range);return i?i.execute(n,t.fileName,e.range.start.line,s(),r):[]})));let c;o.changeDirOnImportExport&&(c=n);const l=await this.jupyterExporter.translateToNotebook(a,null==c?void 0:c.fsPath);await this.fileSystem.writeFile(n,JSON.stringify(l))}finally{i&&await i.dispose()}}async showExportDialog(e){return this.exportDialog.showDialog(_.ExportFormat.ipynb,e)}expandAllCells(e){const t=e?this.interactiveWindowProvider.windows.find(t=>{var n;return(null===(n=t.notebookUri)||void 0===n?void 0:n.toString())===e.toString()}):this.interactiveWindowProvider.activeWindow;t&&t.expandAllCells()}collapseAllCells(e){const t=e?this.interactiveWindowProvider.windows.find(t=>{var n;return(null===(n=t.notebookUri)||void 0===n?void 0:n.toString())===e.toString()}):this.interactiveWindowProvider.activeWindow;t&&t.collapseAllCells()}exportCells(){const e=this.interactiveWindowProvider.activeWindow;e&&e.exportCells()}exportAs(e){const t=e?this.interactiveWindowProvider.windows.find(t=>{var n;return(null===(n=t.notebookUri)||void 0===n?void 0:n.toString())===e.toString()}):this.interactiveWindowProvider.activeWindow;t&&t.exportAs()}export(e){const t=e?this.interactiveWindowProvider.windows.find(t=>{var n;return(null===(n=t.notebookUri)||void 0===n?void 0:n.toString())===e.toString()}):this.interactiveWindowProvider.activeWindow;t&&t.export()}async createNewInteractiveWindow(){await this.interactiveWindowProvider.getOrCreate(void 0)}waitForStatus(e,t,n,r){const i=n?t.format(n):t;return this.statusProvider.waitWithStatus(e,i,void 0,r)}async importNotebook(){const e={};e[m.DataScience.importDialogFilter()]=["ipynb"];const t=await this.applicationShell.showOpenDialog({openLabel:m.DataScience.importDialogTitle(),filters:e});t&&t.length>0&&await this.waitForStatus(async()=>{const e=await this.fileSystem.readFile(t[0]);await this.exportManager.export(_.ExportFormat.python,e,t[0])},m.DataScience.importingFormat(),t[0].fsPath)}async importNotebookOnFile(e){e.fsPath&&e.fsPath.length>0&&await this.waitForStatus(async()=>{const t=await this.fileSystem.readFile(e);await this.exportManager.export(_.ExportFormat.python,t,e)},m.DataScience.importingFormat(),e.fsPath)}async scrollToCell(e,t){if(t&&e){const n=this.interactiveWindowProvider.windows.filter(t=>t.submitters.findIndex(t=>this.fileSystem.areLocalPathsSame(t.fsPath,e.fsPath))>=0);for(let e=0;e<n.length;e+=1)if(await n[e].hasCell(t)){n[e].scrollToCell(t);break}}}async clearAllCellsInInteractiveWindow(e){var t,n;const r=null!==(t=null==e?void 0:e.notebookEditor.notebookUri)&&void 0!==t?t:null===(n=this.interactiveWindowProvider.activeWindow)||void 0===n?void 0:n.notebookUri;if(!r)return;const i=a.workspace.notebookDocuments.find(e=>e.uri.toString()===r.toString());if(!i)return;const o=new a.WorkspaceEdit;o.replaceNotebookCells(i.uri,new a.NotebookRange(0,i.cellCount),[]),await a.workspace.applyEdit(o)}async removeCellInInteractiveWindow(e){if(e){const t=new a.WorkspaceEdit;t.replaceNotebookCells(e.notebook.uri,new a.NotebookRange(e.index,e.index+1),[]),await a.workspace.applyEdit(t)}}async goToCodeInInteractiveWindow(e){var t;if(e&&(null===(t=e.metadata)||void 0===t?void 0:t.interactive)){const t=e.metadata.interactive.file,n=e.metadata.interactive.line;let r;await this.fileSystem.localFileExists(t)?r=await this.documentManager.showTextDocument(a.Uri.file(t),{viewColumn:a.ViewColumn.One}):(r=this.documentManager.visibleTextEditors.find(e=>e.document.fileName===t),r&&r.show()),r&&(r.revealRange(new a.Range(n,0,n,0)),r.selection=new a.Selection(new a.Position(n,0),new a.Position(n,0)))}}async copyCellInInteractiveWindow(e){var t;if(e){const n=this.configuration.getSettings(e.notebook.uri),r=[null!==(t=e.metadata.interactiveWindowCellMarker)&&void 0!==t?t:n.defaultCellMarker,e.document.getText()].join("\n");await this.clipboard.writeText(r)}}};r([g.captureTelemetry(b.Telemetry.ExportPythonFileInteractive,void 0,!1)],x.prototype,"exportFile",null),r([g.captureTelemetry(b.Telemetry.ExportPythonFileAndOutputInteractive,void 0,!1)],x.prototype,"exportFileAndOutput",null),r([g.captureTelemetry(b.Telemetry.CreateNewInteractive,void 0,!1)],x.prototype,"createNewInteractiveWindow",null),r([g.captureTelemetry(b.Telemetry.ImportNotebook,{scope:"command"},!1)],x.prototype,"importNotebook",null),r([g.captureTelemetry(b.Telemetry.ImportNotebook,{scope:"file"},!1)],x.prototype,"importNotebookOnFile",null),x=r([o.injectable(),i(0,o.inject(f.IDisposableRegistry)),i(1,o.inject(S.IInteractiveWindowProvider)),i(2,o.inject(S.INotebookExporter)),i(3,o.inject(S.IJupyterExecution)),i(4,o.inject(S.INotebookProvider)),i(5,o.inject(l.IDocumentManager)),i(6,o.inject(l.IApplicationShell)),i(7,o.inject(p.IFileSystem)),i(8,o.inject(f.IConfigurationService)),i(9,o.inject(S.IStatusProvider)),i(10,o.inject(S.IDataScienceErrorHandler)),i(11,o.inject(S.INotebookEditorProvider)),i(12,o.inject(_.IExportManager)),i(13,o.inject(_.IExportDialog)),i(14,o.inject(l.IClipboard))],x),t.NativeInteractiveWindowCommandListener=x},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeInteractiveWindowProvider=t.AskedForPerFileSettingKey=void 0;const o=n(0),s=n(1),a=n(26),c=n(7),l=n(4),u=n(16),d=n(3),h=n(10),p=n(9),f=n(40),m=n(90),g=n(56),v=n(115),y=n(13),b=n(237);t.AskedForPerFileSettingKey="ds_asked_per_file_interactive";let _=class{constructor(e,t,n,r,i,o,a,c,u,d){this.serviceContainer=e,this.disposables=n,this.fs=r,this.configService=i,this.globalMemento=o,this.appShell=a,this.workspaceService=c,this.kernelProvider=u,this.notebookControllerManager=d,this._onDidChangeActiveInteractiveWindow=new s.EventEmitter,this._onDidCreateInteractiveWindow=new s.EventEmitter,this._windows=[],this.onInteractiveWindowClosed=e=>{l.traceInfo("Closing interactive window: "+e.title),this._windows=this._windows.filter(t=>t!==e),this.lastActiveInteractiveWindow===e&&(this.lastActiveInteractiveWindow=this._windows[0]),this.raiseOnDidChangeActiveInteractiveWindow()},t.push(this)}get onDidChangeActiveInteractiveWindow(){return this._onDidChangeActiveInteractiveWindow.event}get onDidCreateInteractiveWindow(){return this._onDidCreateInteractiveWindow.event}get activeWindow(){return this._windows.find(e=>{var t,n;return void 0!==s.window.activeNotebookEditor&&(null===(t=e.notebookUri)||void 0===t?void 0:t.toString())===(null===(n=s.window.activeNotebookEditor)||void 0===n?void 0:n.document.uri.toString())})}get windows(){return this._windows}async getOrCreate(e){if(!this.workspaceService.isTrusted)throw new Error("Worksapce not trusted");const t=await this.getInteractiveMode(e);let n=this.getExisting(e,t);return n||(n=this.create(e,t)),await n.readyPromise,n}get(e){const t=this.configService.getSettings(e).interactiveWindowMode;return this.getExisting(e,t)}async dispose(){return p.noop()}create(e,t){const n=new b.NativeInteractiveWindow(this.serviceContainer.get(c.IApplicationShell),this.serviceContainer.get(c.IDocumentManager),this.serviceContainer.get(u.IFileSystem),this.serviceContainer.get(d.IConfigurationService),this.serviceContainer.get(c.ICommandManager),this.serviceContainer.get(y.INotebookExporter),this.serviceContainer.get(c.IWorkspaceService),e,t,this.serviceContainer.get(a.IPythonExtensionChecker),this.serviceContainer.get(m.IExportDialog),this.notebookControllerManager,this.kernelProvider,this.disposables,this.serviceContainer.get(y.IJupyterDebugger));this._windows.push(n),this.lastActiveInteractiveWindow=n;const r=n.closed(this.onInteractiveWindowClosed);return this.disposables.push(n),this.disposables.push(r),this.disposables.push(n.onDidChangeViewState(this.raiseOnDidChangeActiveInteractiveWindow.bind(this))),this._onDidCreateInteractiveWindow.fire(n),n}async getInteractiveMode(e){var n;let r=this.configService.getSettings(e).interactiveWindowMode;if("multiple"===r&&e&&!this.globalMemento.get(t.AskedForPerFileSettingKey)&&1===this._windows.length&&(null===(n=this._windows[0].owner)||void 0===n?void 0:n.fsPath)!==e.fsPath){this.globalMemento.update(t.AskedForPerFileSettingKey,!0).then(p.noop,p.noop);const n=[h.DataScience.interactiveWindowModeBannerSwitchYes(),h.DataScience.interactiveWindowModeBannerSwitchNo()];await this.appShell.showInformationMessage(h.DataScience.interactiveWindowModeBannerTitle(),...n)===n[0]&&(r="perFile",this._windows[0].changeMode(r),await this.configService.updateSetting("interactiveWindowMode",r,e,s.ConfigurationTarget.Global))}return r}getExisting(e,t){return"single"===t?this._windows.length>0?this._windows[0]:void 0:"multiple"===t?e?this.activeWindow||this.lastActiveInteractiveWindow||this._windows[0]:void 0:this._windows.find(t=>!e&&!t.owner||!!(e&&t.owner&&this.fs.areLocalPathsSame(e.fsPath,t.owner.fsPath)))}raiseOnDidChangeActiveInteractiveWindow(){this.lastActiveInteractiveWindow=this.activeWindow?this.activeWindow:this.lastActiveInteractiveWindow,this._onDidChangeActiveInteractiveWindow.fire(this.activeWindow)}};_=r([o.injectable(),i(0,o.inject(f.IServiceContainer)),i(1,o.inject(d.IAsyncDisposableRegistry)),i(2,o.inject(d.IDisposableRegistry)),i(3,o.inject(u.IFileSystem)),i(4,o.inject(d.IConfigurationService)),i(5,o.inject(d.IMemento)),i(5,o.named(d.GLOBAL_MEMENTO)),i(6,o.inject(c.IApplicationShell)),i(7,o.inject(c.IWorkspaceService)),i(8,o.inject(g.IKernelProvider)),i(9,o.inject(v.INotebookControllerManager))],_),t.NativeInteractiveWindowProvider=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggingManager=void 0;const o=n(0),s=n(1),a=n(6),c=n(56),l=n(3),u=n(1534),d=n(13),h=n(131),p=n(115),f=n(132),m=n(5),g=n(7),v=n(4),y=n(10),b=n(5),_=n(16),w=n(220),S=n(26),E=n(8);class x{constructor(e,t,n){this.document=e,this.config=t,this.session=new Promise((e,r)=>{this.resolveFunc=e,this.rejectFunc=r,s.debug.startDebugging(void 0,t,n).then(void 0,r)})}resolve(e){this.resolveFunc&&this.resolveFunc(e)}reject(e){this.rejectFunc&&this.rejectFunc(e)}async stop(){s.debug.stopDebugging(await this.session)}}let C=class{constructor(e,t,n,r,i,o,a,c,l){this.kernelProvider=e,this.notebookProvider=t,this.notebookControllerManager=n,this.commandManager=r,this.appShell=i,this.vscNotebook=o,this.fs=a,this.pythonInstaller=c,this.settings=l,this.notebookToDebugger=new Map,this.notebookToDebugAdapter=new Map,this.cache=new Map,this.disposables=[],this._onDidFireVariablesEvent=new s.EventEmitter,this.debuggingInProgress=new f.ContextKey(m.EditorContexts.DebuggingInProgress,this.commandManager),this.runByLineInProgress=new f.ContextKey(m.EditorContexts.RunByLineInProgress,this.commandManager),this.updateToolbar(!1),this.updateCellToolbar(!1)}get onDidFireVariablesEvent(){return this._onDidFireVariablesEvent.event}async activate(){this.disposables.push(s.debug.onDidTerminateDebugSession(this.endSession.bind(this)),s.workspace.onDidCloseNotebookDocument(async e=>{const t=this.notebookToDebugger.get(e);t&&(this.updateToolbar(!1),this.updateCellToolbar(!1),await t.stop())}),s.debug.registerDebugAdapterDescriptorFactory(w.pythonKernelDebugAdapter,{createDebugAdapterDescriptor:async e=>{if(this.vscNotebook.activeNotebookEditor){const t=this.vscNotebook.activeNotebookEditor.document,n=await this.ensureKernelIsRunning(t),r=this.getDebuggerByUri(t);if(r){const t=await this.notebookProvider.getOrCreateNotebook({resource:r.document.uri,identity:r.document.uri,getOnly:!0});if(t&&t.session){r.resolve(e);const i=new u.KernelDebugAdapter(e,r.document,t.session,this.commandManager,this.fs,n,this.settings);return this.disposables.push(i.onDidSendMessage(e=>{"variables"===e.command&&this._onDidFireVariablesEvent.fire()}),i.onDidEndSession(this.endSession.bind(this))),this.notebookToDebugAdapter.set(r.document,i),new s.DebugAdapterInlineImplementation(i)}this.appShell.showInformationMessage(y.DataScience.kernelWasNotStarted())}}v.traceError("Debug sessions should start only from the cell toolbar command")}}),this.commandManager.registerCommand(b.Commands.DebugNotebook,async()=>{const e=this.vscNotebook.activeNotebookEditor;e?await this.checkForIpykernel6(e.document)?(this.updateToolbar(!0),this.startDebugging(e.document)):this.installIpykernel6():this.appShell.showErrorMessage(y.DataScience.noNotebookToDebug())}),this.commandManager.registerCommand(b.Commands.RunByLine,async e=>{E.sendTelemetryEvent(w.DebuggingTelemetry.clickedRunByLine);const t=this.vscNotebook.activeNotebookEditor;if(!e){const n=null==t?void 0:t.selections[0];n&&(e=null==t?void 0:t.document.cellAt(n.start))}e&&(t?await this.checkForIpykernel6(t.document,y.DataScience.startingRunByLine())?(this.updateToolbar(!0),this.updateCellToolbar(!0),await this.startDebuggingCell(t.document,u.KernelDebugMode.RunByLine,e)):this.installIpykernel6():this.appShell.showErrorMessage(y.DataScience.noNotebookToDebug()))}),this.commandManager.registerCommand(b.Commands.RunByLineContinue,e=>{var t;const n=this.vscNotebook.activeNotebookEditor;if(!e){const t=null==n?void 0:n.selections[0];t&&(e=null==n?void 0:n.document.cellAt(t.start))}if(!e)return;const r=this.notebookToDebugAdapter.get(e.notebook);r&&(null===(t=r.debugCellUri)||void 0===t?void 0:t.toString())===e.document.uri.toString()&&r.runByLineContinue()}),this.commandManager.registerCommand(b.Commands.RunByLineStop,()=>{const e=this.vscNotebook.activeNotebookEditor;if(e){const t=this.notebookToDebugAdapter.get(e.document);t&&(E.sendTelemetryEvent(w.DebuggingTelemetry.endedSession,void 0,{reason:"withKeybinding"}),t.disconnect())}}),this.commandManager.registerCommand(b.Commands.RunAndDebugCell,async e=>{E.sendTelemetryEvent(w.DebuggingTelemetry.clickedRunAndDebugCell);const t=this.vscNotebook.activeNotebookEditor;if(!e){const n=null==t?void 0:t.selections[0];n&&(e=null==t?void 0:t.document.cellAt(n.start))}e&&(t?await this.checkForIpykernel6(t.document)?(this.updateToolbar(!0),this.startDebuggingCell(t.document,u.KernelDebugMode.Cell,e)):this.installIpykernel6():this.appShell.showErrorMessage(y.DataScience.noNotebookToDebug()))}))}dispose(){this.disposables.forEach(e=>e.dispose())}getDebugSession(e){const t=this.notebookToDebugAdapter.get(e);if(t)return t.debugSession}updateToolbar(e){this.debuggingInProgress.set(e).ignoreErrors()}updateCellToolbar(e){this.runByLineInProgress.set(e).ignoreErrors()}async startDebuggingCell(e,t,n){const r={type:w.pythonKernelDebugAdapter,name:a.basename(e.uri.toString()),request:"attach",internalConsoleOptions:"neverOpen",justMyCode:!0,__mode:t,__cellIndex:n.index},i=t===u.KernelDebugMode.RunByLine?{debugUI:{simple:!0}}:void 0;return this.startDebuggingConfig(e,r,i)}async startDebugging(e){const t={type:w.pythonKernelDebugAdapter,name:a.basename(e.uri.toString()),request:"attach",internalConsoleOptions:"neverOpen",justMyCode:!1,__mode:u.KernelDebugMode.Everything};return this.startDebuggingConfig(e,t)}async startDebuggingConfig(e,t,n){let r=this.notebookToDebugger.get(e);if(!r){r=new x(e,t,n),this.notebookToDebugger.set(e,r);try{await r.session}catch(e){v.traceError(`Can't start debugging (${e})`),this.appShell.showErrorMessage(y.DataScience.cantStartDebugging())}}}async endSession(e){this.updateToolbar(!1),this.updateCellToolbar(!1);for(const[t,n]of this.notebookToDebugger.entries())if(n&&e.id===(await n.session).id){this.notebookToDebugger.delete(t);break}}getDebuggerByUri(e){for(const[t,n]of this.notebookToDebugger.entries())if(e===t)return n}async ensureKernelIsRunning(e){await this.notebookControllerManager.loadNotebookControllers();const t=this.notebookControllerManager.getSelectedNotebookController(e);let n=this.kernelProvider.get(e);return!n&&t&&(n=this.kernelProvider.getOrCreate(e,{metadata:t.connection,controller:null==t?void 0:t.controller,resourceUri:e.uri})),n&&n.status===h.ServerStatus.NotStarted&&await n.start({document:e}),n}async checkForIpykernel6(e,t){try{const n=this.notebookControllerManager.getSelectedNotebookController(e),r=null==n?void 0:n.connection.interpreter;if(r){if(!0===this.cache.get(r))return!0;const e=()=>this.pythonInstaller.isProductVersionCompatible(l.Product.ipykernel,">=6.0.0",r),n=(t?await this.appShell.withProgress({location:s.ProgressLocation.Notification,title:t},e):await e())===l.ProductInstallStatus.Installed;return E.sendTelemetryEvent(w.DebuggingTelemetry.ipykernel6Status,void 0,{status:n?"installed":"notInstalled"}),this.cache.set(r,n),n}}catch(e){v.traceError("Debugging: Could not check for ipykernel 6")}return!1}async installIpykernel6(){await this.appShell.showInformationMessage(y.DataScience.needIpykernel6(),{modal:!0},y.DataScience.setup())===y.DataScience.setup()?(E.sendTelemetryEvent(w.DebuggingTelemetry.clickedOnSetup),this.appShell.openUrl("https://github.com/microsoft/vscode-jupyter/wiki/Setting-Up-Run-by-Line-and-Debugging-for-Notebooks")):E.sendTelemetryEvent(w.DebuggingTelemetry.closedModal)}};C=r([o.injectable(),i(0,o.inject(c.IKernelProvider)),i(1,o.inject(d.INotebookProvider)),i(2,o.inject(p.INotebookControllerManager)),i(3,o.inject(g.ICommandManager)),i(4,o.inject(g.IApplicationShell)),i(5,o.inject(g.IVSCodeNotebook)),i(6,o.inject(_.IFileSystem)),i(7,o.inject(S.IPythonInstaller)),i(8,o.inject(l.IConfigurationService))],C),t.DebuggingManager=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KernelDebugAdapter=t.KernelDebugMode=void 0;const r=n(1),i=n(6),o=n(4),s=n(5),a=n(8),c=n(220),l=n(62),u=n(9);var d;!function(e){e[e.RunByLine=0]="RunByLine",e[e.Cell=1]="Cell",e[e.Everything=2]="Everything"}(d=t.KernelDebugMode||(t.KernelDebugMode={}));t.KernelDebugAdapter=class{constructor(e,t,n,i,o,s,l){var u;this.session=e,this.notebookDocument=t,this.jupyterSession=n,this.commandManager=i,this.fs=o,this.kernel=s,this.settings=l,this.fileToCell=new Map,this.cellToFile=new Map,this.sendMessage=new r.EventEmitter,this.endSession=new r.EventEmitter,this.threadId=1,this.disposables=[],this.onDidSendMessage=this.sendMessage.event,this.onDidEndSession=this.endSession.event,this.dumpAllCells();const h=this.session.configuration;!function(e){const t=e;if(void 0===t.__mode||(t.__mode===d.Cell||t.__mode===d.RunByLine)&&void 0===t.__cellIndex)throw new Error("Invalid launch configuration")}(h),this.configuration=h,h.__mode!==d.Cell&&h.__mode!==d.RunByLine||(this.debugCellUri=null===(u=t.cellAt(h.__cellIndex))||void 0===u?void 0:u.document.uri),h.__mode===d.Cell&&a.sendTelemetryEvent(c.DebuggingTelemetry.successfullyStartedRunAndDebugCell),h.__mode===d.RunByLine&&a.sendTelemetryEvent(c.DebuggingTelemetry.successfullyStartedRunByLine),this.disposables.push(this.jupyterSession.onIOPubMessage(async e=>{const t=e;if(this.trace("event",JSON.stringify(e)),"debug_event"===t.header.msg_type){if("stopped"===t.content.event&&(this.threadId=t.content.body.threadId,await this.handleStoppedEvent()))return void this.trace("intercepted",JSON.stringify(t.content));this.sendMessage.fire(e.content)}})),this.kernel&&(this.disposables.push(this.kernel.onWillRestart(()=>{a.sendTelemetryEvent(c.DebuggingTelemetry.endedSession,void 0,{reason:"onARestart"}),this.disconnect()})),this.disposables.push(this.kernel.onWillInterrupt(()=>{a.sendTelemetryEvent(c.DebuggingTelemetry.endedSession,void 0,{reason:"onAnInterrupt"}),this.disconnect()})),this.disposables.push(this.kernel.onDisposed(()=>{r.debug.stopDebugging(this.session),this.endSession.fire(this.session),a.sendTelemetryEvent(c.DebuggingTelemetry.endedSession,void 0,{reason:"onKernelDisposed"})}))),this.disposables.push(r.notebooks.onDidChangeNotebookCellExecutionState(e=>{this.configuration.__cellIndex===e.cell.index&&e.state===r.NotebookCellExecutionState.Idle&&(a.sendTelemetryEvent(c.DebuggingTelemetry.endedSession,void 0,{reason:"normally"}),this.disconnect())},this,this.disposables))}async handleStoppedEvent(){return!!await this.shouldStepIn()&&(this.runByLineContinue(),!0)}async shouldStepIn(){if(this.configuration.__mode!==d.RunByLine)return!1;const e=(await this.getStackTrace({startFrame:0,levels:1})).stackFrames[0],t=this.notebookDocument.cellAt(this.configuration.__cellIndex);return!!e.source&&e.source.path!==t.document.uri.toString()}trace(e,t){o.traceVerbose(`[Debug] ${e}: ${t}`)}async handleMessage(e){if("request"===e.type&&"setBreakpoints"===e.command){const t=e.arguments;t.source&&t.source.path&&0===t.source.path.indexOf("vscode-notebook-cell:")&&await this.dumpCell(t.source.path)}"request"===e.type&&"attach"===e.command&&await this.debugInfo(),this.configuration.__mode!==d.RunByLine&&this.configuration.__mode!==d.Cell||"request"!==e.type||"configurationDone"!==e.command||await this.initializeExecute(e.seq),this.sendRequestToJupyterSession(e)}get debugSession(){return this.session}runByLineContinue(){this.configuration.__mode===d.RunByLine&&this.session.customRequest("stepIn",{threadId:this.threadId})}disconnect(){this.session.customRequest("disconnect",{restart:!1}),this.endSession.fire(this.session)}dispose(){this.disposables.forEach(e=>e.dispose()),this.cellToFile.forEach(e=>{const t=i.normalize(e);try{this.fs.deleteLocalFile(t)}catch(e){o.traceError("Error deleting temporary debug files")}})}getStackTrace(e){return this.session.customRequest("stackTrace",{threadId:this.threadId,startFrame:null==e?void 0:e.startFrame,levels:null==e?void 0:e.levels})}scopes(e){this.session.customRequest("scopes",{frameId:e})}variables(e){this.session.customRequest("variables",{variablesReference:e})}dumpAllCells(){this.notebookDocument.getCells().forEach(e=>{e.kind===r.NotebookCellKind.Code&&this.dumpCell(e.document.uri.toString())})}async dumpCell(e){const t=this.notebookDocument.getCells().find(t=>t.document.uri.toString()===e);if(t)try{const e=await this.session.customRequest("dumpCell",{code:t.document.getText()}),n=i.normalize(e.sourcePath);this.fileToCell.set(n,t),this.cellToFile.set(t.document.uri.toString(),n)}catch(e){o.traceError(e)}}async debugInfo(){(await this.session.customRequest("debugInfo")).stoppedThreads.forEach(e=>{this.jupyterSession.requestDebug({seq:0,type:"request",command:"continue",arguments:{threadId:e}})})}sendRequestToJupyterSession(e){if(this.getMessageSourceAndHookIt(e,e=>{if(e&&e.path){const t=this.cellToFile.get(e.path);t&&(e.path=t)}}),this.trace("to kernel",JSON.stringify(e)),"request"===e.type){const t=e,n=this.jupyterSession.requestDebug({seq:t.seq,type:"request",command:t.command,arguments:t.arguments});n&&(n.onReply=e=>this.controlCallback(e.content))}else if("response"===e.type){const t=e;this.jupyterSession.requestDebug({seq:t.seq,type:"request",command:t.command})}else o.traceError("Unknown message type to send "+e.type)}controlCallback(e){this.getMessageSourceAndHookIt(e,e=>{if(e&&e.path){const t=this.fileToCell.get(e.path);t&&(e.name=i.basename(t.document.uri.path),t.index>=0&&(e.name+=", Cell "+(t.index+1)),e.path=t.document.uri.toString())}}),"stackTrace"===e.command&&e.body.stackFrames.forEach(e=>{if(this.configuration.__mode===d.RunByLine)e.source&&this.debugCellUri&&e.source.path===this.debugCellUri.toString()&&this.scopes(e.id);else{const t=i.basename(this.notebookDocument.uri.toString());e.source&&e.source.path&&e.source.path.includes(t)&&this.scopes(e.id)}}),"scopes"===e.command&&e.body.scopes.forEach(e=>{this.variables(e.variablesReference)}),this.trace("response",JSON.stringify(e)),this.sendMessage.fire(e)}getMessageSourceAndHookIt(e,t){switch(e.type){case"event":const n=e;switch(n.event){case"output":case"loadedSource":t(n.body.source);break;case"breakpoint":t(n.body.breakpoint.source)}break;case"request":const r=e;switch(r.command){case"setBreakpoints":case"breakpointLocations":case"source":case"gotoTargets":t(r.arguments.source)}break;case"response":const i=e;if(i.success&&i.body)switch(i.command){case"stackTrace":i.body.stackFrames.forEach(e=>t(e.source));break;case"loadedSources":i.body.sources.forEach(e=>t(e));break;case"scopes":i.body.scopes.forEach(e=>t(e.source));break;case"setFunctionBreakpoints":case"setBreakpoints":i.body.breakpoints.forEach(e=>t(e.source))}}}async initializeExecute(e){if(this.kernel){const e="import debugpy\ndebugpy.debug_this_thread()";await this.kernel.executeHidden(e,this.notebookDocument)}const t=Number(this.configuration.__cellIndex),n=this.notebookDocument.cellAt(t);if(await this.dumpCell(n.document.uri.toString()),this.configuration.__mode===d.RunByLine){const t=n.document.getText().splitLines({trim:!1,removeEmptyEntries:!1}),r=[];if(l.parseForComments(t,()=>u.noop(),(e,t)=>{0!==e.trim().length&&r.push(t)}),r.sort(),0!==r.length){const t={line:r[0]+1},o={seq:e+1,type:"request",command:"setBreakpoints",arguments:{source:{name:i.basename(n.notebook.uri.path),path:n.document.uri.toString()},lines:[r[0]+1],breakpoints:[t],sourceModified:!1}};this.sendRequestToJupyterSession(o);this.settings.getSettings().showVariableViewWhenDebugging&&this.commandManager.executeCommand(s.Commands.OpenVariableView)}}this.commandManager.executeCommand("notebook.cell.execute",{ranges:[{start:n.index,end:n.index+1}],document:n.document.uri})}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HostJupyterExecution=void 0,n(15);const o=n(41),s=n(7),a=n(4),c=n(16),l=n(3),u=n(33),d=n(40),h=n(1536),p=n(682),f=n(317),m=n(1537),g=n(0),v=n(14);let y=class extends h.JupyterExecutionBase{constructor(e,t,n,r,i,s,a,c,l,u,d){super(e,t,i,s,a,c,l,u,d),this._disposed=!1,this._id=o(),this.serverCache=new m.ServerCache(s,i,r),n.push(this)}async dispose(){a.traceInfo("Disposing HostJupyterExecution "+this._id),this._disposed||(this._disposed=!0,a.traceInfo("Disposing super HostJupyterExecution "+this._id),await super.dispose(),this.serverCache&&(a.traceInfo("Cleaning up server cache "+this._id),await this.serverCache.dispose())),a.traceInfo("Finished disposing HostJupyterExecution  "+this._id)}async hostConnectToNotebookServer(e,t){if(!this._disposed)return super.connectToNotebookServer(await this.serverCache.generateDefaultOptions(e),t)}async connectToNotebookServer(e,t){if(!this._disposed)return this.serverCache.getOrCreate(this.hostConnectToNotebookServer.bind(this),e,t)}async getServer(e){if(!this._disposed)return this.serverCache.get(e)}};y=r([g.injectable(),i(0,g.inject(u.IInterpreterService)),i(1,g.inject(l.IDisposableRegistry)),i(2,g.inject(l.IAsyncDisposableRegistry)),i(3,g.inject(c.IFileSystem)),i(4,g.inject(s.IWorkspaceService)),i(5,g.inject(l.IConfigurationService)),i(6,g.inject(p.KernelSelector)),i(7,g.inject(f.NotebookStarter)),i(8,g.inject(s.IApplicationShell)),i(9,g.inject(l.IOutputChannel)),i(9,g.named(v.STANDARD_OUTPUT_CHANNEL)),i(10,g.inject(d.IServiceContainer))],y),t.HostJupyterExecution=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExecutionBase=void 0;const i=n(0),o=n(6),s=n(41),a=n(1),c=n(37),l=n(29),u=n(4),d=n(10),h=n(9),p=n(32),f=n(8),m=n(327),g=n(5),v=n(74),y=n(55),b=n(13),_=n(325),w=n(145),S=n(512),E=n(22),x=["localhost","127.0.0.1","::1"];let C=class{constructor(e,t,n,r,i,o,s,c,l){if(this.interpreterService=e,this.disposableRegistry=t,this.workspace=n,this.configuration=r,this.kernelSelector=i,this.notebookStarter=o,this.appShell=s,this.jupyterOutputChannel=c,this.serviceContainer=l,this.startedEmitter=new a.EventEmitter,this.disposed=!1,this.uriToJupyterServerUri=new Map,this.pendingTimeouts=[],this.jupyterInterpreterService=l.get(b.IJupyterSubCommandExecutionService),this.jupyterPickerRegistration=l.get(b.IJupyterUriProviderRegistration),this.disposableRegistry.push(this.interpreterService.onDidChangeInterpreter(()=>this.onSettingsChanged())),this.disposableRegistry.push(this),n){const e=n.onDidChangeConfiguration(e=>{e.affectsConfiguration("python.dataScience",void 0)&&this.onSettingsChanged(),e.affectsConfiguration("jupyter.jupyterServerType",void 0)&&this.clearTimeouts()});this.disposableRegistry.push(e)}}get serverStarted(){return this.startedEmitter.event}dispose(){return this.disposed=!0,this.clearTimeouts(),Promise.resolve()}async refreshCommands(){await this.jupyterInterpreterService.refreshCommands()}isNotebookSupported(e){return this.jupyterInterpreterService.isNotebookSupported(e)}async getNotebookError(){return this.jupyterInterpreterService.getReasonForJupyterNotebookNotBeingSupported()}async getUsableJupyterPython(e){return this.usablePythonInterpreter||this.disposed||(this.usablePythonInterpreter=await c.Cancellation.race(()=>this.jupyterInterpreterService.getSelectedInterpreter(e),e)),this.usablePythonInterpreter}isSpawnSupported(e){return this.isNotebookSupported(e)}connectToNotebookServer(e,t){return c.Cancellation.race(async()=>{let n,r,i=null==e?void 0:e.kernelConnection,o=Promise.resolve(i);u.traceInfo(`Connecting to ${e?e.purpose:"unknown type of"} server`);const c=!e||e.allowUI(),w=new a.CancellationTokenSource;t&&t.onCancellationRequested(()=>{w.cancel()});const C=!e||!e.uri;if(C&&!(null==e?void 0:e.kernelConnection)){const t=this.serviceContainer.get(v.ILocalKernelFinder);u.traceInfo(`Getting kernel specs for ${e?e.purpose:"unknown type of"} server`),o=t.findKernel(void 0,null==e?void 0:e.metadata,w.token)}let k=1;const D=this.configuration.getSettings(void 0).jupyterLaunchRetries,T=new p.StopWatch;for(;k<=D&&!this.disposed;)try{if([r,i]=await Promise.all([this.startOrConnect(e,t),o]),!r.localLaunch&&x.includes(r.hostName.toLowerCase())&&f.sendTelemetryEvent(g.Telemetry.ConnectRemoteJupyterViaLocalHost),n=this.serviceContainer.get(b.INotebookServer),(!i||!E.kernelConnectionMetadataHasKernelSpec(i))&&r&&!(null==e?void 0:e.skipSearchingForKernel)){const n=this.serviceContainer.get(v.IRemoteKernelFinder);i=await n.findKernel(null==e?void 0:e.resource,r,null==e?void 0:e.metadata,t)}const a={connectionInfo:r,kernelConnectionMetadata:i,workingDir:e?e.workingDir:void 0,uri:e?e.uri:void 0,purpose:e?e.purpose:s(),disableUI:!c};for((null==e?void 0:e.kernelConnection)||y.trackKernelResourceInformation(null==e?void 0:e.resource,{kernelConnection:a.kernelConnectionMetadata});;)try{u.traceInfo(`Connecting to process for ${e?e.purpose:"unknown type of"} server`),await n.connect(a,t),u.traceInfo(`Connection complete for ${e?e.purpose:"unknown type of"} server`);break}catch(t){if(u.traceError("Failed to connect to server",t),t instanceof m.JupyterSessionStartError&&C&&c){f.sendTelemetryEvent(g.Telemetry.AskUserForNewJupyterKernel);const t=await this.kernelSelector.askForLocalKernel(null==e?void 0:e.resource,r,a.kernelConnectionMetadata);if(t){a.kernelConnectionMetadata=t,y.trackKernelResourceInformation(null==e?void 0:e.resource,{kernelConnection:a.kernelConnectionMetadata});continue}}throw t}return f.sendTelemetryEvent(C?g.Telemetry.ConnectLocalJupyter:g.Telemetry.ConnectRemoteJupyter),n}catch(e){if(n&&(u.traceInfo("Killing server because of error "+e),await n.dispose()),!(e instanceof S.JupyterWaitForIdleError&&k<D)){if(r){if(w.cancel(),this.disposed)return;throw C?(f.sendTelemetryEvent(g.Telemetry.ConnectFailedJupyter,void 0,void 0,e,!0),l.WrappedError.from(d.DataScience.jupyterNotebookConnectFailed().format(r.baseUrl,e),e)):(f.sendTelemetryEvent(g.Telemetry.ConnectRemoteFailedJupyter,void 0,void 0,e,!0),e.message.indexOf("reason: self signed certificate")>=0?(f.sendTelemetryEvent(g.Telemetry.ConnectRemoteSelfCertFailedJupyter),new _.JupyterSelfCertsError(r.baseUrl)):l.WrappedError.from(d.DataScience.jupyterNotebookRemoteConnectFailed().format(r.baseUrl,e),e))}throw w.cancel(),e}u.traceInfo("Retry because of wait for idle problem."),null==r||r.dispose(),k+=1}null==r||r.dispose(),f.sendTelemetryEvent(g.Telemetry.JupyterStartTimeout,T.elapsedTime,{timeout:T.elapsedTime}),c&&this.appShell.showErrorMessage(d.DataScience.jupyterStartTimedout(),d.Common.openOutputPanel()).then(e=>{e===d.Common.openOutputPanel()&&this.jupyterOutputChannel.show()},h.noop)},t)}async spawnNotebook(e){return this.jupyterInterpreterService.openNotebook(e)}getServer(e){return Promise.resolve(void 0)}async startOrConnect(e,t){if(e&&e.uri)return await this.updateServerUri(e.uri),w.createRemoteConnectionInfo(e.uri,this.getServerUri.bind(this));{u.traceInfo(`Launching ${e?e.purpose:"unknown type of"} server`);const n=!(!e||e.skipUsingDefaultConfig),r=w.expandWorkingDir(null==e?void 0:e.workingDir,this.workspace.rootPath?o.join(this.workspace.rootPath,s()+".txt"):void 0,this.workspace),i=await this.startNotebookServer(n,this.configuration.getSettings(void 0).jupyterCommandLineArguments,r,t);if(i)return i;throw c.Cancellation.throwIfCanceled(t),new Error(d.DataScience.jupyterNotebookFailure().format(""))}}async startNotebookServer(e,t,n,r){return this.notebookStarter.start(e,t,n,r)}onSettingsChanged(){this.usablePythonInterpreter=void 0}extractJupyterServerHandleAndId(e){const t=new URL(e),n=t.searchParams.get(g.Identifiers.REMOTE_URI_ID_PARAM),r=t.searchParams.get(g.Identifiers.REMOTE_URI_HANDLE_PARAM);return n&&r?{handle:r,id:n}:void 0}clearTimeouts(){this.pendingTimeouts.forEach(e=>clearTimeout(e)),this.pendingTimeouts=[]}getServerUri(e){if(this.extractJupyterServerHandleAndId(e))return this.uriToJupyterServerUri.get(e)}async updateServerUri(e){const t=this.extractJupyterServerHandleAndId(e);if(t){const n=await this.jupyterPickerRegistration.getJupyterServerUri(t.id,t.handle);if(this.uriToJupyterServerUri.set(e,n),n.expiration){const t=n.expiration.getTime()-Date.now();t>0&&t<6048e5&&this.pendingTimeouts.push(setTimeout(()=>this.updateServerUri(e).ignoreErrors(),t))}}}};r([f.captureTelemetry(g.Telemetry.StartJupyter)],C.prototype,"startNotebookServer",null),C=r([i.injectable()],C),t.JupyterExecutionBase=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCache=void 0,n(15);const r=n(41),i=n(1),o=n(4),s=n(19),a=n(307);t.ServerCache=class{constructor(e,t,n){this.configService=e,this.workspace=t,this.fs=n,this.cache=new Map,this.emptyKey=r(),this.disposed=!1}async getOrCreate(e,t,n){const r=new i.CancellationTokenSource;n&&n.onCancellationRequested(()=>r.cancel());const o=await this.generateDefaultOptions(t),s=this.generateKey(o);let a;return a=this.cache.get(s),a||(a={promise:e(t,r.token),options:o,cancelSource:r,resolved:!1},this.cache.set(s,a)),a.promise.then(e=>{if(!e)return void this.cache.delete(s);const t=e.dispose.bind(e);return e.dispose=()=>(this.cache.delete(s),t()),a&&(a.resolved=!0),e}).catch(e=>{throw this.cache.delete(s),e})}async get(e){var t;const n=await this.generateDefaultOptions(e),r=this.generateKey(n);if(this.cache.has(r))return null===(t=this.cache.get(r))||void 0===t?void 0:t.promise}async dispose(){if(!this.disposed){this.disposed=!0;const e=[...this.cache.values()];this.cache.clear(),await Promise.all(e.map(async e=>{try{const t=await Promise.race([e.promise,s.sleep(1e3)]);"number"!=typeof t?await t.dispose():o.traceInfo("ServerCache Dispose, no server")}catch(e){o.traceError("Dispose error in ServerCache: ",e)}}))}}async generateDefaultOptions(e){return{uri:e?e.uri:void 0,resource:null==e?void 0:e.resource,skipUsingDefaultConfig:!!e&&e.skipUsingDefaultConfig,usingDarkTheme:e?e.usingDarkTheme:void 0,purpose:e?e.purpose:r(),workingDir:e&&e.workingDir?e.workingDir:await a.calculateWorkingDirectory(this.configService,this.workspace,this.fs),metadata:null==e?void 0:e.metadata,kernelConnection:null==e?void 0:e.kernelConnection,allowUI:(null==e?void 0:e.allowUI)?e.allowUI:()=>!1}}generateKey(e){if(e){const t=e.uri?e.uri:"",n=e.skipUsingDefaultConfig?"true":"false";return`${e.purpose}${t}${n}${e.workingDir}`}return this.emptyKey}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HostJupyterServer=void 0,n(15);const o=n(26),s=n(7),a=n(4),c=n(16),l=n(3),u=n(19),d=n(10),h=n(33),p=n(40),f=n(24),m=n(149),g=n(13),v=n(1539),y=n(145),b=n(22),_=n(74),w=n(14),S=n(0),E=n(724);let x=class extends v.JupyterServerBase{constructor(e,t,n,r,i,o,s,a,c,l,u,d,h,p,f){super(t,e,n,r,d,u),this.workspaceService=i,this.appService=o,this.fs=s,this.interpreterService=a,this.localKernelFinder=c,this.remoteKernelFinder=l,this.progressReporter=h,this.extensionChecker=p,this.vscodeNotebook=f,this.disposed=!1}async dispose(){this.disposed||(this.disposed=!0,a.traceInfo("Disposing HostJupyterServer"),await super.dispose(),a.traceInfo("Finished disposing HostJupyterServer"))}async connect(e,t){return super.connect(e,t)}get isDisposed(){return this.disposed}async createNotebookInstance(e,t,n,r,i,o,s,c,l,h){const p=await this.getNotebook(t);if(p)return r&&await r.dispose(),p;let f;const m=u.createDeferred();this.setNotebook(t,m.promise);const v=async()=>{const{info:t,changedKernel:i}=await this.computeLaunchInfo(e,c,l,h);f=this.progressReporter.createProgressIndicator(d.DataScience.connectingToKernel().format(b.getDisplayNameOrNameOfKernelConnection(t.kernelConnectionMetadata))),i&&r&&t.kernelConnectionMetadata&&(a.traceInfo("Changing Kernel to "+JSON.stringify(t.kernelConnectionMetadata.id)),await r.changeKernel(e,t.kernelConnectionMetadata,this.configService.getSettings(e).jupyterLaunchTimeout));const o=t.connectionInfo.localLaunch?await y.computeWorkingDirectory(e,this.workspaceService):"",s=!t.connectionInfo.localLaunch||!r||this.fs.areLocalPathsSame(r.workingDirectory,o),u=r&&s?r:await n.startNew(e,t.kernelConnectionMetadata,o,h);return a.traceInfo("Started session "+this.id),{info:t,session:u}};try{const{info:n,session:r}=await v();if(r){const c=new E.JupyterNotebookBase(r,o,i,n,s.getAll(g.INotebookExecutionLogger),e,t,this.getDisposedError.bind(this),this.workspaceService,this.appService,this.fs);a.traceInfo("Waiting for idle (session) "+this.id);const l=o.getSettings().jupyterLaunchTimeout;await c.waitForIdle(l),a.traceInfo("Finished connecting "+this.id),m.resolve(c)}else m.reject(this.getDisposedError())}catch(e){m.reject(e)}finally{null==f||f.dispose()}return m.promise}async computeLaunchInfo(e,t,n,r){var i,o,s,c,l,u;let d=await this.waitForConnect();if(!d)throw this.getDisposedError();a.traceInfo(`Compute Launch Info uri = ${null==e?void 0:e.fsPath}, kernelConnection id = ${null==n?void 0:n.id}`),d={...d};const h=this.extensionChecker.isPythonExtensionInstalled&&d.connectionInfo.localLaunch?await this.interpreterService.getActiveInterpreter(e):void 0;let p=!1;if(f.isResourceNativeNotebook(e,this.vscodeNotebook,this.fs)&&!d.connectionInfo.localLaunch||!n||(null==t?void 0:t.kernelspec)||(null==h?void 0:h.displayName)!==(null===(o=null===(i=d.kernelConnectionMetadata)||void 0===i?void 0:i.interpreter)||void 0===o?void 0:o.displayName)){let i;d.connectionInfo.localLaunch||"connectToLiveKernel"!==(null==n?void 0:n.kind)?d.connectionInfo.localLaunch||"startUsingKernelSpec"!==(null==n?void 0:n.kind)?d.connectionInfo.localLaunch&&n?(a.traceInfoIf(w.isCI,"launchInfo.connectionInfo.localLaunch && kernelConnection'"),i=n):(i=await(d.connectionInfo.localLaunch?this.localKernelFinder.findKernel(e,t,r):this.remoteKernelFinder.findKernel(e,d.connectionInfo,t,r)),a.traceInfoIf(w.isCI,"kernelInfo found "+(null==i?void 0:i.id))):(a.traceInfoIf(w.isCI,"kernelConnection?.kind === 'startUsingKernelSpec'"),i=n):(a.traceInfoIf(w.isCI,"kernelConnection?.kind === 'connectToLiveKernel'"),i=n),i&&i.id!==(null===(s=d.kernelConnectionMetadata)||void 0===s?void 0:s.id)&&(d.kernelConnectionMetadata=i,p=!0),a.traceInfo(`Compute Launch Info uri = ${null==e?void 0:e.fsPath}, changed ${p}, ${null===(c=d.kernelConnectionMetadata)||void 0===c?void 0:c.id}`)}return!p&&n&&n.id!==(null===(l=d.kernelConnectionMetadata)||void 0===l?void 0:l.id)&&(a.traceInfoIf(w.isCI,"kernelConnection provided is different from launch info "+n.id),d.kernelConnectionMetadata=n,p=!0),a.traceInfo(`Computed Launch Info uri = ${null==e?void 0:e.fsPath}, changed ${p}, ${null===(u=d.kernelConnectionMetadata)||void 0===u?void 0:u.id}`),{info:d,changedKernel:p}}};x=r([S.injectable(),i(0,S.inject(l.IDisposableRegistry)),i(1,S.inject(l.IAsyncDisposableRegistry)),i(2,S.inject(l.IConfigurationService)),i(3,S.inject(g.IJupyterSessionManagerFactory)),i(4,S.inject(s.IWorkspaceService)),i(5,S.inject(s.IApplicationShell)),i(6,S.inject(c.IFileSystem)),i(7,S.inject(h.IInterpreterService)),i(8,S.inject(_.ILocalKernelFinder)),i(9,S.inject(_.IRemoteKernelFinder)),i(10,S.inject(l.IOutputChannel)),i(10,S.named(w.STANDARD_OUTPUT_CHANNEL)),i(11,S.inject(p.IServiceContainer)),i(12,S.inject(m.ProgressReporter)),i(13,S.inject(o.IPythonExtensionChecker)),i(14,S.inject(s.IVSCodeNotebook))],x),t.HostJupyterServer=x},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterServerBase=void 0;const i=n(0),o=n(41);n(15);const s=n(4),a=n(19),c=n(10),l=n(9),u=n(32),d=n(5),h=n(55),p=n(22);let f=class{constructor(e,t,n,r,i,c){this.asyncRegistry=e,this.disposableRegistry=t,this.configService=n,this.sessionManagerFactory=r,this.serviceContainer=i,this.jupyterOutputChannel=c,this._id=o(),this.connectPromise=a.createDeferred(),this.notebooks=new Map,this.asyncRegistry.push(this),s.traceInfo("Creating jupyter server: "+this._id)}async connect(e,t){let n;s.traceInfo(`Connecting server ${this.id} kernelSpec ${p.getDisplayNameOrNameOfKernelConnection(e.kernelConnectionMetadata,"unknown")}`),this.launchInfo=e,this.connectPromise.resolve(e),this.launchInfo&&this.launchInfo.connectionInfo&&(this.connectionInfoDisconnectHandler=this.launchInfo.connectionInfo.disconnected(e=>{try{this.serverExitCode=e,s.traceError(c.DataScience.jupyterServerCrashed().format(e.toString())),this.shutdown().ignoreErrors()}catch(e){l.noop()}})),this.logRemoteOutput(c.DataScience.connectingToJupyterUri().format(e.connectionInfo.baseUrl)),this.sessionManager=await this.sessionManagerFactory.create(e.connectionInfo),n=await this.sessionManager.startNew(void 0,e.kernelConnectionMetadata,e.connectionInfo.rootDirectory,t,e.disableUI);const r=this.configService.getSettings().jupyterLaunchTimeout;await n.waitForIdle(r),this.launchInfo.connectionInfo.localLaunch?this.savedSession=n:await n.shutdown()}async createNotebook(e,t,n,r,i){var o;if(!this.sessionManager||this.isDisposed)throw new Error(c.DataScience.sessionDisposed());const s=this.savedSession;this.savedSession=void 0;const a=new u.StopWatch;try{const l=await this.createNotebookInstance(e,t,this.sessionManager,s,this.disposableRegistry,this.configService,this.serviceContainer,n,r,i),u=(null===(o=this.launchInfo)||void 0===o?void 0:o.connectionInfo.baseUrl)||"";return this.logRemoteOutput(c.DataScience.createdNewNotebook().format(u)),h.sendKernelTelemetryEvent(e,d.Telemetry.JupyterCreatingNotebook,a.elapsedTime),l}catch(t){throw h.sendKernelTelemetryEvent(e,d.Telemetry.JupyterCreatingNotebook,a.elapsedTime,void 0,t),t}}async shutdown(){try{this.connectionInfoDisconnectHandler&&(this.connectionInfoDisconnectHandler.dispose(),this.connectionInfoDisconnectHandler=void 0),await this.destroyKernelSpec(),this.savedSession&&(await this.savedSession.dispose(),this.savedSession=void 0),s.traceInfo("Shutting down notebooks for "+this.id);const e=await Promise.all([...this.notebooks.values()]);if(await Promise.all(e.map(e=>null==e?void 0:e.dispose())),s.traceInfo("Shut down session manager : "+(this.sessionManager?"existing":"undefined")),this.sessionManager){1e4===await Promise.race([a.sleep(1e4),this.sessionManager.dispose()])&&s.traceError("Session shutdown timed out."),this.sessionManager=void 0}this.launchInfo&&this.launchInfo.connectionInfo&&(s.traceInfo("Shutdown server - dispose conn info"),this.launchInfo.connectionInfo.dispose(),this.launchInfo=void 0)}catch(e){s.traceError("Error during shutdown: ",e)}}dispose(){return this.shutdown()}get id(){return this._id}waitForConnect(){return this.connectPromise.promise}getConnectionInfo(){if(this.launchInfo)return{...this.launchInfo.connectionInfo,dispose:l.noop}}getDisposedError(){return this.serverExitCode?new Error(c.DataScience.jupyterServerCrashed().format(this.serverExitCode.toString())):new Error(c.DataScience.sessionDisposed())}async getNotebook(e){return this.notebooks.get(e.toString())}getNotebooks(){return[...this.notebooks.values()]}setNotebook(e,t){t.then(t=>{const n=t.dispose.bind(t);t.dispose=()=>(this.notebooks.delete(e.toString()),n())}).catch(()=>{this.notebooks.get(e.toString())===t&&this.notebooks.delete(e.toString())}),this.notebooks.set(e.toString(),t)}createNotebookInstance(e,t,n,r,i,o,s,a,c,l){throw new Error("You forgot to override createNotebookInstance")}get isDisposed(){throw new Error("You forgot to override isDisposed")}async destroyKernelSpec(){this.launchInfo&&(this.launchInfo.kernelConnectionMetadata=void 0)}logRemoteOutput(e){this.launchInfo&&!this.launchInfo.connectionInfo.localLaunch&&this.jupyterOutputChannel.appendLine(e)}};f=r([i.injectable()],f),t.JupyterServerBase=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HostRawNotebookProvider=void 0,n(15);const o=n(26),s=n(7),a=n(4),c=n(16),l=n(3),u=n(19),d=n(10),h=n(9),p=n(40),f=n(8),m=n(5),g=n(145),v=n(22),y=n(74),b=n(149),_=n(13),w=n(307),S=n(1541),E=n(1560),x=n(55),C=n(505),k=n(54),D=n(68),T=n(0),I=n(14),M=n(724);let P=class extends E.RawNotebookProviderBase{constructor(e,t,n,r,i,o,s,a,c,l,u,d,h){super(t,d),this.disposableRegistry=e,this.configService=n,this.workspaceService=r,this.appShell=i,this.fs=o,this.serviceContainer=s,this.kernelLauncher=a,this.localKernelFinder=c,this.progressReporter=l,this.outputChannel=u,this.extensionChecker=h,this.disposed=!1}async dispose(){this.disposed||(this.disposed=!0,await super.dispose())}async createNotebookInstance(e,t,n,r,i,o){a.traceInfo("Creating raw notebook for "+t.toString());const s=u.createDeferred();let c,l;this.setNotebook(t,s.promise),a.traceInfo("Getting preferred kernel for "+t.toString());try{const u=!!i;i&&v.isPythonKernelConnection(i)&&"startUsingKernelSpec"===i.kind&&(i.interpreter||f.sendTelemetryEvent(m.Telemetry.AttemptedToLaunchRawKernelWithoutInterpreter,void 0,{pythonExtensionInstalled:this.extensionChecker.isPythonExtensionInstalled}));const p=i||await this.localKernelFinder.findKernel(e,r,o),y=v.getDisplayNameOrNameOfKernelConnection(p);c=n?void 0:this.progressReporter.createProgressIndicator(d.DataScience.connectingToKernel().format(y)),a.traceInfo("Computing working directory "+t.toString());const b=await g.computeWorkingDirectory(e,this.workspaceService),w=this.configService.getSettings().jupyterLaunchTimeout;if(l=new S.RawJupyterSession(this.kernelLauncher,e,this.outputChannel,h.noop,h.noop,b),!p||"startUsingKernelSpec"===(null==p?void 0:p.kind)&&!(null==p?void 0:p.kernelSpec))f.sendTelemetryEvent(m.Telemetry.KernelSpecNotFoundError,void 0,{resourceType:k.getResourceType(e),language:D.getTelemetrySafeLanguage(v.getLanguageInNotebookMetadata(r)),kernelConnectionProvided:!!i,notebookMetadataProvided:!!r,hasKernelSpecInMetadata:!!(null==r?void 0:r.kernelspec),kernelConnectionFound:!!p}),s.reject(new C.KernelSpecNotFoundError(r));else{u||x.trackKernelResourceInformation(e,{kernelConnection:p}),a.traceInfo(`Connecting to raw session for ${t.toString()} with connection ${JSON.stringify(p)}`),await l.connect(e,p,w,o,n);const r=await this.getExecutionInfo(p);if(l.isConnected){const n=new M.JupyterNotebookBase(l,this.configService,this.disposableRegistry,r,this.serviceContainer.getAll(_.INotebookExecutionLogger),e,t,this.getDisposedError.bind(this),this.workspaceService,this.appShell,this.fs);a.traceInfo("Finished connecting "+this.id),s.resolve(n)}else s.reject(this.getDisposedError())}}catch(e){null==l||l.dispose().catch(e=>{a.traceError(`Failed to dispose of raw session on launch error: ${e} `)}),s.reject(e)}finally{null==c||c.dispose()}return s.promise}async getExecutionInfo(e){return{connectionInfo:this.getConnection(),uri:m.Settings.JupyterServerLocalLaunch,kernelConnectionMetadata:e,workingDir:await w.calculateWorkingDirectory(this.configService,this.workspaceService,this.fs),purpose:m.Identifiers.RawPurpose}}};P=r([T.injectable(),i(0,T.inject(l.IDisposableRegistry)),i(1,T.inject(l.IAsyncDisposableRegistry)),i(2,T.inject(l.IConfigurationService)),i(3,T.inject(s.IWorkspaceService)),i(4,T.inject(s.IApplicationShell)),i(5,T.inject(c.IFileSystem)),i(6,T.inject(p.IServiceContainer)),i(7,T.inject(y.IKernelLauncher)),i(8,T.inject(y.ILocalKernelFinder)),i(9,T.inject(b.ProgressReporter)),i(10,T.inject(l.IOutputChannel)),i(10,T.named(I.STANDARD_OUTPUT_CHANNEL)),i(11,T.inject(_.IRawNotebookSupportedService)),i(12,T.inject(o.IPythonExtensionChecker))],P),t.HostRawNotebookProvider=P},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.RawJupyterSession=t.RawKernelSessionStartError=void 0;const i=n(37),o=n(29),s=n(4),a=n(19),c=n(10),l=n(9),u=n(32),d=n(8),h=n(327),p=n(5),f=n(22),m=n(74),g=n(118),v=n(119),y=n(1542),b=n(55);class _ extends o.WrappedError{constructor(e,t){super(c.DataScience.rawKernelSessionFailed().format(f.getDisplayNameOrNameOfKernelConnection(e)),t)}}t.RawKernelSessionStartError=_;class w extends h.BaseJupyterSession{constructor(e,t,n,r,i,o){super(t,i,o),this.kernelLauncher=e,this.outputChannel=n,this.restartSessionCreated=r,this._disposables=[]}async waitForIdle(e){return this.session?this.waitForIdleOnSession(this.session,e):Promise.resolve()}async dispose(){this._disposables.forEach(e=>e.dispose()),await super.dispose()}shutdown(){return this.processExitHandler&&(this.processExitHandler.dispose(),this.processExitHandler=void 0),super.shutdown()}async connect(e,t,n,r,o){var l,d;let h=null;b.trackKernelResourceInformation(e,{kernelConnection:t});const g=new u.StopWatch;try{h=await this.startRawSession(e,t,n,r,o),b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStartSuccess),b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStart,g.elapsedTime),s.traceInfo("Raw session started and connected"),this.setSession(h),null===(l=this.session)||void 0===l||l.statusChanged.connect(this.statusHandler),this.kernelConnectionMetadata=null===(d=h.kernelProcess)||void 0===d?void 0:d.kernelConnectionMetadata,this.outputChannel.appendLine(c.DataScience.kernelStarted().format(f.getDisplayNameOrNameOfKernelConnection(this.kernelConnectionMetadata)))}catch(n){throw this.connected=!1,n instanceof i.CancellationError?(b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStart,g.elapsedTime,void 0,n),b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStartUserCancel),s.traceInfo("Starting of raw session cancelled by user"),n):n instanceof a.TimedOutError?(b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStart,g.elapsedTime,void 0,n),b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStartTimeout),s.traceError("Raw session failed to start in given timeout"),new _(t,n)):n instanceof m.IpyKernelNotInstalledError?(b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStart,g.elapsedTime,void 0,n),b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStartNoIpykernel,{reason:n.reason}),s.traceError("Raw session failed to start because dependencies not installed"),n):(b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStart,g.elapsedTime,void 0,n),b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionStartException,void 0,void 0,n),s.traceError("Failed to connect raw kernel session: "+n),n)}finally{b.sendKernelTelemetryEvent(e,p.Telemetry.RawKernelSessionConnect,g.elapsedTime)}return this.connected=!0,h.kernelProcess.kernelConnectionMetadata}async createNewKernelSession(e,t,n,r,i){if(!t||"session"in t)throw new Error(c.DataScience.sessionDisposed());const o=f.getDisplayNameOrNameOfKernelConnection(t);this.outputChannel.appendLine(c.DataScience.kernelStarted().format(o));const s=await this.startRawSession(e,t,n,r,i);return await this.waitForIdleOnSession(s,n),s}shutdownSession(e,t,n){this.processExitHandler&&(this.processExitHandler.dispose(),this.processExitHandler=void 0);const r=(new Error).stack;return super.shutdownSession(e,t,n).then(()=>{if(d.sendTelemetryEvent(p.Telemetry.RawKernelSessionShutdown,void 0,{isRequestToShutdownRestartSession:n,stacktrace:r}),e)return e.kernelProcess.dispose()})}setSession(e){super.setSession(e),this.processExitHandler&&(this.processExitHandler.dispose(),this.processExitHandler=void 0),e&&e.kernelProcess&&(this.processExitHandler=e.kernelProcess.exited(({exitCode:e,reason:t})=>{d.sendTelemetryEvent(p.Telemetry.RawKernelSessionKernelProcessExited,void 0,{exitCode:e,reason:t}),s.traceError("Raw kernel process exited code: "+e),this.shutdown().catch(e=>{s.traceError("Error shutting down jupyter session: "+e)})}))}startRestartSession(e){this.restartSessionPromise||(this.restartSessionPromise=this.createRestartSession(e))}async createRestartSession(e,t){if(!this.kernelConnectionMetadata||"connectToLiveKernel"===this.kernelConnectionMetadata.kind)throw new Error(c.DataScience.sessionDisposed());return this.startRawSession(this.resource,this.kernelConnectionMetadata,e,t).then(e=>(this.restartSessionCreated(e.kernel),e))}async startRawSession(e,t,n,r,i){if("startUsingKernelSpec"!==t.kind&&"startUsingPythonInterpreter"!==t.kind)throw new Error("Unable to start Raw Kernels for Kernel Connection of type "+t.kind);s.traceInfo("Starting raw kernel "+f.getDisplayNameOrNameOfKernelConnection(t));const o=await this.kernelLauncher.launch(t,n,e,this.workingDirectory,r,i),a=new y.RawSession(o,this.resource);return await a.kernel.ready,a.kernel.registerCommTarget(p.Identifiers.DefaultCommTarget,l.noop),a}}r([g.reportAction(v.ReportableAction.JupyterSessionWaitForIdleSession)],w.prototype,"waitForIdle",null),r([d.captureTelemetry(p.Telemetry.RawKernelStartRawSession,void 0,!0)],w.prototype,"startRawSession",null),t.RawJupyterSession=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSession=void 0;const r=n(41);n(15);const i=n(4),o=n(9),s=n(8),a=n(5),c=n(514);t.RawSession=class{constructor(e,t){this.kernelProcess=e,this.resource=t,this.isDisposed=!1,this.kernelConnectionMetadata=e.kernelConnectionMetadata;const i=n(1543);this._statusChanged=new i.Signal(this),this._kernelChanged=new i.Signal(this),this._ioPubMessage=new i.Signal(this),this._id=r(),this._clientID=r(),this._kernel=c.createRawKernel(e,this._clientID),this._kernel.statusChanged.connect(this.onKernelStatus,this),this._kernel.iopubMessage.connect(this.onIOPubMessage,this),this.exitHandler=e.exited(this.handleUnhandledExitingOfKernelProcess,this)}async dispose(){const e=(new Error).stack;s.sendTelemetryEvent(a.Telemetry.RawKernelSessionDisposed,void 0,{stacktrace:e}),this.isDisposing=!0,this.isDisposed||(this.exitHandler.dispose(),await this._kernel.shutdown(),this._kernel.dispose(),await this.kernelProcess.dispose().catch(o.noop)),this.isDisposed=!0}get id(){return this._id}get kernel(){return this._kernel}get kernelSocketInformation(){return{socket:this._kernel.socket,options:{id:this._kernel.id,clientId:this._clientID,userName:"",model:this._kernel.model}}}get statusChanged(){return this._statusChanged}shutdown(){return this.dispose()}get terminated(){throw new Error("Not yet implemented")}get kernelChanged(){return this._kernelChanged}get propertyChanged(){throw new Error("Not yet implemented")}get iopubMessage(){return this._ioPubMessage}get unhandledMessage(){throw new Error("Not yet implemented")}get anyMessage(){throw new Error("Not yet implemented")}get path(){throw new Error("Not yet implemented")}get name(){throw new Error("Not yet implemented")}get type(){throw new Error("Not yet implemented")}get serverSettings(){throw new Error("Not yet implemented")}get model(){throw new Error("Not yet implemented")}get status(){return this.kernel.status}setPath(e){throw new Error("Not yet implemented")}setName(e){throw new Error("Not yet implemented")}setType(e){throw new Error("Not yet implemented")}changeKernel(e){throw new Error("Not yet implemented")}onKernelStatus(e,t){this._statusChanged.emit(t)}onIOPubMessage(e,t){this._ioPubMessage.emit(t)}handleUnhandledExitingOfKernelProcess(e){this.isDisposing||(i.traceError(`Disposing session as kernel process died ExitCode: ${e.exitCode}, Reason: ${e.reason}`),s.sendTelemetryEvent(a.Telemetry.RawKernelSessionKernelProcessExited,void 0,{reason:e.reason,exitCode:e.exitCode}),this.dispose().ignoreErrors())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1544),o=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return r.connect(this,e,t)},e.prototype.disconnect=function(e,t){return r.disconnect(this,e,t)},e.prototype.emit=function(e){r.emit(this,e)},e}();t.Signal=o,function(e){e.disconnectBetween=function(e,t){r.disconnectBetween(e,t)},e.disconnectSender=function(e){r.disconnectSender(e)},e.disconnectReceiver=function(e){r.disconnectReceiver(e)},e.disconnectAll=function(e){r.disconnectAll(e)},e.clearData=function(e){r.disconnectAll(e)},e.getExceptionHandler=function(){return r.exceptionHandler},e.setExceptionHandler=function(e){var t=r.exceptionHandler;return r.exceptionHandler=e,t}}(o=t.Signal||(t.Signal={})),t.Signal=o,function(e){e.exceptionHandler=function(e){console.error(e)},e.connect=function(e,r,i){i=i||void 0;var o=t.get(e.sender);if(o||(o=[],t.set(e.sender,o)),s(o,e,r,i))return!1;var a=i||r,c=n.get(a);c||(c=[],n.set(a,c));var l={signal:e,slot:r,thisArg:i};return o.push(l),c.push(l),!0},e.disconnect=function(e,r,i){i=i||void 0;var o=t.get(e.sender);if(!o||0===o.length)return!1;var a=s(o,e,r,i);if(!a)return!1;var l=i||r,u=n.get(l);return a.signal=null,c(o),c(u),!0},e.disconnectBetween=function(e,r){var o=t.get(e);if(o&&0!==o.length){var s=n.get(r);s&&0!==s.length&&(i.each(s,(function(t){t.signal&&t.signal.sender===e&&(t.signal=null)})),c(o),c(s))}},e.disconnectSender=function(e){var r=t.get(e);r&&0!==r.length&&(i.each(r,(function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,c(n.get(t))}})),c(r))},e.disconnectReceiver=function(e){var r=n.get(e);r&&0!==r.length&&(i.each(r,(function(e){if(e.signal){var n=e.signal.sender;e.signal=null,c(t.get(n))}})),c(r))},e.disconnectAll=function(e){var r=t.get(e);r&&r.length>0&&(i.each(r,(function(e){e.signal=null})),c(r));var o=n.get(e);o&&o.length>0&&(i.each(o,(function(e){e.signal=null})),c(o))},e.emit=function(e,n){var r=t.get(e.sender);if(r&&0!==r.length)for(var i=0,o=r.length;i<o;++i){var s=r[i];s.signal===e&&a(s,n)}};var t=new WeakMap,n=new WeakMap,r=new Set,o="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function s(e,t,n,r){return i.find(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===r}))}function a(t,n){var r=t.signal,i=t.slot,o=t.thisArg;try{i.call(o,r.sender,n)}catch(t){e.exceptionHandler(t)}}function c(e){0===r.size&&o(l),r.add(e)}function l(){r.forEach(u),r.clear()}function u(e){i.ArrayExt.removeAllWhere(e,d)}function d(e){return null===e.signal}}(r||(r={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1545)),r(n(1546)),r(n(1547)),r(n(1548)),r(n(1549)),r(n(92)),r(n(1550)),r(n(1551)),r(n(1552)),r(n(1553)),r(n(1554)),r(n(1555)),r(n(1556)),r(n(1557)),r(n(1558)),r(n(1559))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s){var a=(n+s)%o;if(e[a]===t)return a}return-1}function n(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var s=0;s<i;++s){var a=(n-s+o)%o;if(e[a]===t)return a}return-1}function r(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))<n?r+1+(o-n):r-n+1;for(var s=0;s<i;++s){var a=(n+s)%o;if(t(e[a],a))return a}return-1}function i(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var i,o=e.length;if(0===o)return-1;i=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(r=r<0?Math.max(0,r+o):Math.min(r,o-1))?n+1+(o-r):n-r+1;for(var s=0;s<i;++s){var a=(n-s+o)%o;if(t(e[a],a))return a}return-1}function o(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var r=e.length;if(!(r<=1))for(t=t<0?Math.max(0,t+r):Math.min(t,r-1),n=n<0?Math.max(0,n+r):Math.min(n,r-1);t<n;){var i=e[t],o=e[n];e[t++]=o,e[n--]=i}}function s(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var r=e[t],i=t+1;i<n;++i)e[i-1]=e[i];return e.length=n-1,r}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=r,e.findLastIndex=i,e.findFirstValue=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=r(e,t,n,i);return-1!==o?e[o]:void 0},e.findLastValue=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=0);var o=i(e,t,n,r);return-1!==o?e[o]:void 0},e.lowerBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var s=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)<0?(s=l+1,a-=c+1):a=c}return s},e.upperBound=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;for(var s=r=r<0?Math.max(0,r+o):Math.min(r,o-1),a=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))-r+1;a>0;){var c=a>>1,l=s+c;n(e[l],t)>0?a=c:(s=l+1,a-=c+1)}return s},e.move=function(e,t,n){var r=e.length;if(!(r<=1)&&(t=t<0?Math.max(0,t+r):Math.min(t,r-1))!==(n=n<0?Math.max(0,n+r):Math.min(n,r-1))){for(var i=e[t],o=t<n?1:-1,s=t;s!==n;s+=o)e[s]=e[s+o];e[n]=i}},e.reverse=o,e.rotate=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(!(i<=1||(n=n<0?Math.max(0,n+i):Math.min(n,i-1))>=(r=r<0?Math.max(0,r+i):Math.min(r,i-1)))){var s=r-n+1;if(t>0?t%=s:t<0&&(t=(t%s+s)%s),0!==t){var a=n+t;o(e,n,a-1),o(e,a,r),o(e,n,r)}}},e.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0!==i){var o;n=n<0?Math.max(0,n+i):Math.min(n,i-1),o=(r=r<0?Math.max(0,r+i):Math.min(r,i-1))<n?r+1+(i-n):r-n+1;for(var s=0;s<o;++s)e[(n+s)%i]=t}},e.insert=function(e,t,n){var r=e.length;t=t<0?Math.max(0,t+r):Math.min(t,r);for(var i=r;i>t;--i)e[i]=e[i-1];e[t]=n},e.removeAt=s,e.removeFirstOf=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=t(e,n,r,i);return-1!==o&&s(e,o),o},e.removeLastOf=function(e,t,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o=n(e,t,r,i);return-1!==o&&s(e,o),o},e.removeAllOf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,s=0;s<i;++s)n<=r&&s>=n&&s<=r&&e[s]===t||r<n&&(s<=r||s>=n)&&e[s]===t?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=i-o),o},e.removeFirstWhere=function(e,t,n,i){var o;void 0===n&&(n=0),void 0===i&&(i=-1);var a=r(e,t,n,i);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeLastWhere=function(e,t,n,r){var o;void 0===n&&(n=-1),void 0===r&&(r=0);var a=i(e,t,n,r);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeAllWhere=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(0===i)return 0;n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);for(var o=0,s=0;s<i;++s)n<=r&&s>=n&&s<=r&&t(e[s],s)||r<n&&(s<=r||s>=n)&&t(e[s],s)?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=i-o),o}}(t.ArrayExt||(t.ArrayExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i(r.iter(e.map(r.iter)))};var i=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();t.ChainIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(){return new r};var r=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();t.EmptyIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.filter=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();t.FilterIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.find=function(e,t){for(var n,i=0,o=r.iter(e);void 0!==(n=o.next());)if(t(n,i++))return n},t.min=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var o=i;void 0!==(i=n.next());)t(i,o)<0&&(o=i);return o}},t.max=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var o=i;void 0!==(i=n.next());)t(i,o)>0&&(o=i);return o}},t.minmax=function(e,t){var n=r.iter(e),i=n.next();if(void 0!==i){for(var o=i,s=i;void 0!==(i=n.next());)t(i,o)<0?o=i:t(i,s)>0&&(s=i);return[o,s]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.map=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();t.MapIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=function(e,t,n){return void 0===t?new i(0,e,1):new i(e,t,void 0===n?1:n)};var r,i=function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=r.rangeLength(e,t,n)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();t.RangeIterator=i,function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.reduce=function(e,t,n){var i=0,o=r.iter(e),s=o.next();if(void 0===s&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===s)return n;var a,c,l=o.next();if(void 0===l&&void 0===n)return s;if(void 0===l)return t(n,s,i++);for(a=t(void 0===n?s:t(n,s,i++),l,i++);void 0!==(c=o.next());)a=t(a,c,i++);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=function(e,t){return new r(e,t)},t.once=function(e){return new r(e,1)};var r=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();t.RepeatIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retro=function(e){return"function"==typeof e.retro?e.retro():new r(e)};var r=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();t.RetroArrayIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.topologicSort=function(e){var t=[],n=new Set,i=new Map;return r.each(e,(function(e){var t=e[0],n=e[1],r=i.get(n);r?r.push(t):i.set(n,[t])})),i.forEach((function(e,t){o(t)})),t;function o(e){if(!n.has(e)){n.add(e);var r=i.get(e);r&&r.forEach(o),t.push(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.stride=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._step=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e},e}();t.StrideIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n){void 0===n&&(n=0);for(var r=new Array(t.length),i=0,o=n,s=t.length;i<s;++i,++o){if(-1===(o=e.indexOf(t[i],o)))return null;r[i]=o}return r}e.findIndices=t,e.matchSumOfSquares=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,s=0,a=i.length;s<a;++s){var c=i[s]-r;o+=c*c}return{score:o,indices:i}},e.matchSumOfDeltas=function(e,n,r){void 0===r&&(r=0);var i=t(e,n,r);if(!i)return null;for(var o=0,s=r-1,a=0,c=i.length;a<c;++a){var l=i[a];o+=l-s-1,s=l}return{score:o,indices:i}},e.highlight=function(e,t,n){for(var r=[],i=0,o=0,s=t.length;i<s;){for(var a=t[i],c=t[i];++i<s&&t[i]===c+1;)c++;o<a&&r.push(e.slice(o,a)),a<c+1&&r.push(n(e.slice(a,c+1))),o=c+1}return o<e.length&&r.push(e.slice(o)),r}}(t.StringExt||(t.StringExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.take=function(e,t){return new i(r.iter(e),t)};var i=function(){function e(e,t){this._source=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();t.TakeIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new i(e.map(r.iter))};var i=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var r=this._source[t].next();if(void 0===r)return;e[t]=r}return e},e}();t.ZipIterator=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.RawNotebookProviderBase=t.RawConnection=void 0;const i=n(0),o=n(41),s=n(1);n(15);const a=n(4),c=n(10),l=n(9),u=n(8),d=n(5);class h{constructor(){this.type="raw",this.localLaunch=!0,this.valid=!0,this.displayName="",this.eventEmitter=new s.EventEmitter}dispose(){l.noop()}get disconnected(){return this.eventEmitter.event}}t.RawConnection=h;let p=class{constructor(e,t){this.asyncRegistry=e,this.rawNotebookSupportedService=t,this.notebooks=new Map,this._id=o(),this.asyncRegistry.push(this)}get id(){return this._id}connect(e){return e.getOnly||this.rawConnection||(this.rawConnection=new h,e.onConnectionMade&&e.onConnectionMade()),Promise.resolve(this.rawConnection)}async supported(){return this.rawNotebookSupportedService.supported()}async createNotebook(e,t,n,r,i,o){return this.createNotebookInstance(t,e,n,r,i,o)}async getNotebook(e){return this.notebooks.get(e.toString())}async dispose(){a.traceInfo("Shutting down notebooks for "+this.id);const e=await Promise.all([...this.notebooks.values()]);await Promise.all(e.map(e=>null==e?void 0:e.dispose()))}getDisposedError(){return new Error(c.DataScience.rawConnectionBrokenError())}getNotebooks(){return[...this.notebooks.values()]}getConnection(){return this.rawConnection||(this.rawConnection=new h),this.rawConnection}setNotebook(e,t){t.then(t=>{const n=t.dispose.bind(t);t.dispose=()=>(this.notebooks.delete(e.toString()),n())}).catch(()=>{this.notebooks.get(e.toString())===t&&this.notebooks.delete(e.toString())}),this.notebooks.set(e.toString(),t)}createNotebookInstance(e,t,n,r,i,o){throw new Error("You forgot to override createNotebookInstance")}};r([u.captureTelemetry(d.Telemetry.RawKernelCreatingNotebook,void 0,!0)],p.prototype,"createNotebook",null),p=r([i.injectable()],p),t.RawNotebookProviderBase=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelCommandListener=void 0;const o=n(0),s=n(1),a=n(7),c=n(4),l=n(3),u=n(10),d=n(32),h=n(8),p=n(5),f=n(24),m=n(55),g=n(13),v=n(513),y=n(56);let b=class{constructor(e,t,n,r,i,o,s){this.statusProvider=e,this.disposableRegistry=t,this.applicationShell=n,this.kernelProvider=r,this.interactiveWindowProvider=i,this.configurationService=o,this.notebookProvider=s,this.kernelInterruptedDontAskToRestart=!1}register(e){this.disposableRegistry.push(e.registerCommand(p.Commands.NotebookEditorInterruptKernel,e=>{e&&"notebookEditor"in e?this.interruptKernel(null==e?void 0:e.notebookEditor.notebookUri):this.interruptKernel(e)})),this.disposableRegistry.push(e.registerCommand(p.Commands.NotebookEditorRestartKernel,e=>{e&&"notebookEditor"in e?this.restartKernel(null==e?void 0:e.notebookEditor.notebookUri):this.restartKernel(e)})),this.disposableRegistry.push(e.registerCommand(p.Commands.InterruptKernel,e=>this.interruptKernel(null==e?void 0:e.notebookEditor.notebookUri))),this.disposableRegistry.push(e.registerCommand(p.Commands.RestartKernel,e=>this.restartKernel(null==e?void 0:e.notebookEditor.notebookUri)))}async interruptKernel(e){var t,n,r,i,o,a;const l=null!==(i=null!==(n=null!=e?e:null===(t=s.window.activeNotebookEditor)||void 0===t?void 0:t.document.uri)&&void 0!==n?n:null===(r=this.interactiveWindowProvider.activeWindow)||void 0===r?void 0:r.notebookUri)&&void 0!==i?i:(null===(o=s.window.activeTextEditor)||void 0===o?void 0:o.document.uri)&&(null===(a=this.interactiveWindowProvider.get(s.window.activeTextEditor.document.uri))||void 0===a?void 0:a.notebookUri),d=s.workspace.notebookDocuments.find(e=>e.uri.toString()===(null==l?void 0:l.toString()));if(void 0===d)return;const h=this.kernelProvider.get(d);if(!h)return c.traceInfo("Interrupt requested & no kernel."),void m.trackKernelResourceInformation(d.uri,{interruptKernel:!0});const p=this.statusProvider.set(u.DataScience.interruptKernelStatus());try{c.traceInfo(`Interrupt requested & sent for ${d.uri} in notebookEditor.`);if(await h.interrupt(d)===g.InterruptResult.TimedOut){const e=u.DataScience.restartKernelAfterInterruptMessage(),t=u.DataScience.restartKernelMessageYes(),n=u.DataScience.restartKernelMessageNo();await this.applicationShell.showInformationMessage(e,{modal:!0},t,n)===t&&(this.kernelInterruptedDontAskToRestart=!0,await this.restartKernel(d.uri))}}catch(e){c.traceError("Failed to interrupt kernel",e),this.applicationShell.showErrorMessage(e)}finally{this.kernelInterruptedDontAskToRestart=!1,p.dispose()}}async restartKernel(e){var t,n,r,i,o,a;const c=null!==(i=null!==(n=null!=e?e:null===(t=s.window.activeNotebookEditor)||void 0===t?void 0:t.document.uri)&&void 0!==n?n:null===(r=this.interactiveWindowProvider.activeWindow)||void 0===r?void 0:r.notebookUri)&&void 0!==i?i:(null===(o=s.window.activeTextEditor)||void 0===o?void 0:o.document.uri)&&(null===(a=this.interactiveWindowProvider.get(s.window.activeTextEditor.document.uri))||void 0===a?void 0:a.notebookUri),l=s.workspace.notebookDocuments.find(e=>e.uri.toString()===(null==c?void 0:c.toString()));if(void 0===l)return;m.trackKernelResourceInformation(l.uri,{restartKernel:!0}),h.sendTelemetryEvent(p.Telemetry.RestartKernelCommand);const d=this.kernelProvider.get(l);if(d)if(await this.shouldAskForRestart(l.uri)){const e=u.DataScience.restartKernelMessage(),t=u.DataScience.restartKernelMessageYes(),n=u.DataScience.restartKernelMessageDontAskAgain(),r=u.DataScience.restartKernelMessageNo(),i=await this.applicationShell.showInformationMessage(e,{modal:!0},t,n,r);i===n?(await this.disableAskForRestart(l.uri),this.applicationShell.withProgress({location:s.ProgressLocation.Notification,title:u.DataScience.restartingKernelStatus()},()=>this.restartKernelInternal(d,l))):i===t&&this.applicationShell.withProgress({location:s.ProgressLocation.Notification,title:u.DataScience.restartingKernelStatus()},()=>this.restartKernelInternal(d,l))}else this.applicationShell.withProgress({location:s.ProgressLocation.Notification,title:u.DataScience.restartingKernelStatus()},()=>this.restartKernelInternal(d,l))}async restartKernelInternal(e,t){const n=this.statusProvider.set(u.DataScience.restartingKernelStatus()),r=new d.StopWatch;try{await e.restart(t),m.sendKernelTelemetryEvent(t.uri,p.Telemetry.NotebookRestart,r.elapsedTime)}catch(n){if(m.sendKernelTelemetryEvent(t.uri,p.Telemetry.NotebookRestart,r.elapsedTime,void 0,n),n instanceof v.JupyterKernelPromiseFailedError&&e){const e=await this.notebookProvider.getOrCreateNotebook({resource:t.uri,identity:t.uri,getOnly:!0});e&&await e.dispose(),await this.notebookProvider.connect({getOnly:!1,disableUI:!1,resource:t.uri,metadata:f.getNotebookMetadata(t)})}else this.applicationShell.showErrorMessage(n),c.traceError(n)}finally{n.dispose()}}async shouldAskForRestart(e){if(this.kernelInterruptedDontAskToRestart)return!1;const t=this.configurationService.getSettings(e);return t&&!0===t.askForKernelRestart}async disableAskForRestart(e){this.configurationService.getSettings(e)&&this.configurationService.updateSetting("askForKernelRestart",!1,void 0,s.ConfigurationTarget.Global).ignoreErrors()}};b=r([o.injectable(),i(0,o.inject(g.IStatusProvider)),i(1,o.inject(l.IDisposableRegistry)),i(2,o.inject(a.IApplicationShell)),i(3,o.inject(y.IKernelProvider)),i(4,o.inject(g.IInteractiveWindowProvider)),i(5,o.inject(l.IConfigurationService)),i(6,o.inject(g.INotebookProvider))],b),t.KernelCommandListener=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoggerTypes=void 0;const r=n(1563),i=n(1564),o=n(7),s=n(725),a=n(1565),c=n(1567),l=n(16),u=n(3);t.registerLoggerTypes=function(e){e.addSingleton(l.IFileSystem,c.FileSystem),e.addSingleton(o.ICommandManager,i.CommandManager),e.addSingleton(o.IWorkspaceService,s.WorkspaceService),e.addSingleton(o.IApplicationShell,r.ApplicationShell),e.addSingleton(u.IConfigurationService,a.ConfigurationService)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationShell=void 0;const i=n(0),o=n(1);let s=class{get activeColorTheme(){return o.window.activeColorTheme}get onDidChangeWindowState(){return o.window.onDidChangeWindowState}showInformationMessage(e,t,...n){return o.window.showInformationMessage(e,t,...n)}showWarningMessage(e,t,...n){return o.window.showWarningMessage(e,t,...n)}showErrorMessage(e,t,...n){return o.window.showErrorMessage(e,t,...n)}showQuickPick(e,t,n){return o.window.showQuickPick(e,t,n)}showOpenDialog(e){return o.window.showOpenDialog(e)}showSaveDialog(e){return o.window.showSaveDialog(e)}showInputBox(e,t){return o.window.showInputBox(e,t)}openUrl(e){o.env.openExternal(o.Uri.parse(e))}setStatusBarMessage(e,t){return o.window.setStatusBarMessage(e,t)}createStatusBarItem(e,t){return o.window.createStatusBarItem(e,t)}showWorkspaceFolderPick(e){return o.window.showWorkspaceFolderPick(e)}withProgress(e,t){return o.window.withProgress(e,t)}withProgressCustomIcon(e,t){const n=(new o.CancellationTokenSource).token,r=this.createStatusBarItem(o.StatusBarAlignment.Left),i={report:t=>{r.text=`${e} ${t.message}`}};return r.show(),t(i,n).then(e=>(r.dispose(),e))}createQuickPick(){return o.window.createQuickPick()}createInputBox(){return o.window.createInputBox()}createTreeView(e,t){return o.window.createTreeView(e,t)}createOutputChannel(e){return o.window.createOutputChannel(e)}};s=r([i.injectable()],s),t.ApplicationShell=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;const i=n(0),o=n(1),s=n(5),a=n(8),c=new Set(["setContext"]);let l=class{registerCommand(e,t,n){return c.add(e),o.commands.registerCommand(e,(...r)=>(a.sendTelemetryEvent(s.Telemetry.CommandExecuted,void 0,{command:e}),n?t.call(n,...r):t(...r)),n)}registerTextEditorCommand(e,t,n){return c.add(e),o.commands.registerTextEditorCommand(e,(r,i,...o)=>(a.sendTelemetryEvent(s.Telemetry.CommandExecuted,void 0,{command:e}),n?t.call(n,r,i,...o):t(r,i,...o)),n)}executeCommand(e,...t){return c.has(e)||a.sendTelemetryEvent(s.Telemetry.CommandExecuted,void 0,{command:e}),o.commands.executeCommand(e,...t)}getCommands(e){return o.commands.getCommands(e)}};l=r([i.injectable()],l),t.CommandManager=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationService=void 0;const o=n(0),s=n(1),a=n(40),c=n(7),l=n(1566),u=n(14);let d=class{constructor(e){this.serviceContainer=e,this.workspaceService=this.serviceContainer.get(c.IWorkspaceService)}getSettings(e){return l.JupyterSettings.getInstance(e,this.workspaceService)}async updateSectionSetting(e,t,n,r,i){let o={uri:r,target:i||s.ConfigurationTarget.WorkspaceFolder};"jupyter"===e&&i!==s.ConfigurationTarget.Global&&(o=l.JupyterSettings.getSettingsUriAndTarget(r,this.workspaceService));const a=this.workspaceService.getConfiguration(e,o.uri),c=a.inspect(t);void 0!==c&&(i===s.ConfigurationTarget.Global&&c.globalValue===n||i===s.ConfigurationTarget.Workspace&&c.workspaceValue===n||i===s.ConfigurationTarget.WorkspaceFolder&&c.workspaceFolderValue===n)||(await a.update(t,n,i),i&&await this.verifySetting(a,i,t,n))}async updateSetting(e,t,n,r){return this.updateSectionSetting("jupyter",e,t,n,r)}isTestExecution(){return"1"===process.env.VSC_JUPYTER_CI_TEST}async verifySetting(e,t,n,r){if(this.isTestExecution()&&!u.isUnitTestExecution()){let i=0;do{const o=e.inspect(n);if(!o&&void 0===r)break;if(o&&void 0!==r){if((t===s.ConfigurationTarget.Global?o.globalValue:t===s.ConfigurationTarget.Workspace?o.workspaceValue:o.workspaceFolderValue)===r)break}await new Promise(e=>setTimeout(e,250)),i+=1}while(i<20)}}};d=r([o.injectable(),i(0,o.inject(a.IServiceContainer))],d),t.ConfigurationService=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterSettings=void 0;const i=n(1);n(15);const o=n(125),s=n(725),a=n(14),c=n(85),l=n(308);class u{constructor(e,t){this.logging={level:o.LogLevel.Error},this.allowImportFromNotebook=!1,this.allowUnauthorizedRemoteConnection=!1,this.jupyterInterruptTimeout=1e4,this.jupyterLaunchTimeout=6e4,this.jupyterLaunchRetries=3,this.jupyterServerType="local",this.notebookFileRoot="",this.changeDirOnImportExport=!1,this.useDefaultConfigForJupyter=!1,this.searchForJupyter=!1,this.allowInput=!1,this.showCellInputCode=!1,this.collapseCellInputCodeByDefault=!1,this.maxOutputSize=-1,this.enableScrollingForCellOutputs=!1,this.sendSelectionToInteractiveWindow=!1,this.markdownRegularExpression="",this.codeRegularExpression="",this.allowLiveShare=!1,this.errorBackgroundColor="",this.ignoreVscodeTheme=!1,this.variableExplorerExclude="",this.liveShareConnectionTimeout=0,this.decorateCells=!1,this.enableCellCodeLens=!1,this.askForLargeDataFrames=!1,this.enableAutoMoveToNextCell=!1,this.askForKernelRestart=!1,this.generateSVGPlots=!1,this.codeLenses="",this.debugCodeLenses="",this.debugpyDistPath="",this.stopOnFirstLineWhileDebugging=!1,this.textOutputLimit=0,this.magicCommandsAsComments=!1,this.stopOnError=!1,this.remoteDebuggerPort=0,this.colorizeInputBox=!1,this.addGotoCodeLenses=!1,this.runMagicCommands="",this.runStartupCommands=[],this.debugJustMyCode=!1,this.defaultCellMarker="",this.themeMatplotlibPlots=!1,this.variableQueries=[],this.disableJupyterAutoStart=!1,this.jupyterCommandLineArguments=[],this.widgetScriptSources=[],this.alwaysScrollOnNewCell=!1,this.interactiveWindowMode="multiple",this.disableZMQSupport=!1,this.verboseLogging=!1,this.showVariableViewWhenDebugging=!0,this.variableTooltipFields={python:{Tensor:["shape","dtype","device"]}},this._changeEmitter=new i.EventEmitter,this._disposables=[],this._workspace=t||new s.WorkspaceService,this._workspaceRoot=e,this.initialize(),t&&!1===t.isTrusted&&(this.disableJupyterAutoStart=!0)}get onDidChange(){return this._changeEmitter.event}static getInstance(e,t){t=t||new s.WorkspaceService;const n=u.getSettingsUriAndTarget(e,t).uri,r=n?n.fsPath:"";if(!u.jupyterSettings.has(r)){const e=new u(n,t);u.jupyterSettings.set(r,e)}return u.jupyterSettings.get(r)}static getSettingsUriAndTarget(e,t){t=t||new s.WorkspaceService;const n=e?t.getWorkspaceFolder(e):void 0;let r=n?n.uri:void 0;!r&&Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0&&(r=t.workspaceFolders[0].uri);return{uri:r,target:r?i.ConfigurationTarget.WorkspaceFolder:i.ConfigurationTarget.Global}}static dispose(){if(!a.isTestExecution())throw new Error("Dispose can only be called from unit tests");u.jupyterSettings.forEach(e=>e&&e.dispose()),u.jupyterSettings.clear()}dispose(){this._disposables.forEach(e=>e&&e.dispose()),this._disposables=[]}toJSON(){const e={};return this.getSerializableKeys().forEach(t=>e[t]=this[t]),e}update(e){var t;const n=null===(t=this._workspaceRoot)||void 0===t?void 0:t.fsPath,r=new l.SystemVariables(void 0,n,this._workspace),i=r.resolveAny(e.get("logging"));i&&(i.level=function(e){switch(e){case"info":return o.LogLevel.Info;case"warn":return o.LogLevel.Warn;case"off":return"off";case"debug":return o.LogLevel.Debug;case"verbose":return o.LogLevel.Trace;default:return o.LogLevel.Error}}(i.level),this.logging?Object.assign(this.logging,i):this.logging=i);const s=r.resolveAny(e.get("experiments"));this.experiments?Object.assign(this.experiments,s):this.experiments=s,this.experiments=this.experiments?this.experiments:{enabled:!0,optInto:[],optOutFrom:[]};this.getSerializableKeys().filter(e=>"experiments"!==e&&"logging"!==e).forEach(t=>{const n=r.resolveAny(e.get(t));("variableTooltipFields"!==t||n)&&(this[t]=n)})}onWorkspaceFoldersChanged(){const e=this._workspace.workspaceFolders.map(e=>e.uri.fsPath),t=Array.from(u.jupyterSettings.keys()).filter(t=>e.indexOf(t)<0);if(t.length>0)for(const e of t)u.jupyterSettings.delete(e)}initialize(){const e=()=>{const e=this._workspace.getConfiguration("jupyter",this._workspaceRoot);this.update(e),this.debounceChangeNotification()};this._disposables.push(this._workspace.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this)),this._disposables.push(this._workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("jupyter")&&e()}));const t=this._workspace.getConfiguration("jupyter",this._workspaceRoot);t&&this.update(t)}debounceChangeNotification(){this._changeEmitter.fire()}fireChangeNotification(){this._changeEmitter.fire()}getSerializableKeys(){return Object.getOwnPropertyNames(this).filter(e=>!e.startsWith("_"))}}u.jupyterSettings=new Map,r([c.debounceSync(1)],u.prototype,"debounceChangeNotification",null),t.JupyterSettings=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystem=void 0;const i=n(97),o=n(342),s=n(0),a=n(319),c=n(18),l=n(1),u=n(4),d=n(728),h=n(1574),p=n(234),f=n(16);let m=class{constructor(){this.globFiles=c.promisify(o),this.fsPathUtils=p.FileSystemPathUtils.withDefaults(),this.vscfs=l.workspace.fs}async appendLocalFile(e,t){return i.appendFile(e,t)}areLocalPathsSame(e,t){return this.fsPathUtils.arePathsSame(e,t)}async createLocalDirectory(e){await this.createDirectory(l.Uri.file(e))}createLocalWriteStream(e){return i.createWriteStream(e)}async copyLocal(e,t){const n=l.Uri.file(e),r=l.Uri.file(t);await this.vscfs.copy(n,r,{overwrite:!0})}async createTemporaryLocalFile(e,t){const n={postfix:e,mode:t};return new Promise((e,t)=>{a.file(n,(n,r,i,o)=>{if(n)return t(n);e({filePath:r,dispose:o})})})}async deleteLocalDirectory(e){const t=l.Uri.file(e),n=await this.vscfs.readDirectory(t);if(n&&n.length>0)throw d.createDirNotEmptyError(e);return this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async deleteLocalFile(e){const t=l.Uri.file(e);return this.vscfs.delete(t,{recursive:!1,useTrash:!1})}async ensureLocalDir(e){return i.ensureDir(e)}getDisplayName(e,t){return this.fsPathUtils.getDisplayName(e,t)}async getFileHash(e){const t=await this.lstat(e),n=`${t.ctime}-${t.mtime}`;return h.getHashString(n)}async localDirectoryExists(e){return this.localPathExists(e,f.FileType.Directory)}async localFileExists(e){return this.localPathExists(e,f.FileType.File)}async readLocalData(e){const t=l.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n)}async readLocalFile(e){const t=l.Uri.file(e);return this.readFile(t)}async searchLocal(e,t,n){let r;t&&(r={...r,cwd:t}),n&&(r={...r,dot:n});const i=await this.globFiles(e,r);return Array.isArray(i)?i:[]}async getFiles(e){return(await this.vscfs.readDirectory(e)).filter(e=>e[1]===f.FileType.File).map(e=>l.Uri.file(e[0]))}async writeLocalFile(e,t){const n=l.Uri.file(e);return this.writeFile(n,t)}arePathsSame(e,t){return"file"===e.scheme&&e.scheme===t.scheme?this.areLocalPathsSame(e.fsPath,t.fsPath):e.toString()===t.toString()}async copy(e,t){await this.vscfs.copy(e,t)}async createDirectory(e){await this.vscfs.createDirectory(e)}async delete(e){await this.vscfs.delete(e)}async readFile(e){const t=await this.vscfs.readFile(e);return Buffer.from(t).toString("utf8")}async stat(e){return this.vscfs.stat(e)}async writeFile(e,t){const n="string"==typeof t?Buffer.from(t):t;return this.vscfs.writeFile(e,n)}async lstat(e){const t=await i.lstat(e),n=h.convertFileType(t);return h.convertStat(t,n)}async localPathExists(e,t){let n;try{const t=l.Uri.file(e);n=await this.stat(t)}catch(t){return d.isFileNotFoundError(t)||u.traceError(`stat() failed for "${e}"`,t),!1}return void 0===t||(t===f.FileType.Unknown?n.type===f.FileType.Unknown:(n.type&t)===t)}};m=r([s.injectable()],m),t.FileSystem=m},function(e,t,n){var r=n(6),i="win32"===process.platform,o=n(25),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,u,d=e,h={},p={};function f(){var t=l.exec(e);n=t[0].length,s=t[0],a=t[0],u="",i&&!p[a]&&(o.lstatSync(a),p[a]=!0)}for(f();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(u=s,s+=m[0],a=u+m[1],n=c.lastIndex,!(p[a]||t&&t[a]===a)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,a))g=t[a];else{var v=o.lstatSync(a);if(!v.isSymbolicLink()){p[a]=!0,t&&(t[a]=a);continue}var y=null;if(!i){var b=v.dev.toString(32)+":"+v.ino.toString(32);h.hasOwnProperty(b)&&(y=h[b])}null===y&&(o.statSync(a),y=o.readlinkSync(a)),g=r.resolve(u,y),t&&(t[a]=g),i||(h[b]=y)}e=r.resolve(g,e.slice(n)),f()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,u,d,h,p=e,f={},m={};function g(){var t=l.exec(e);s=t[0].length,u=t[0],d=t[0],h="",i&&!m[d]?o.lstat(d,(function(e){if(e)return n(e);m[d]=!0,v()})):process.nextTick(v)}function v(){if(s>=e.length)return t&&(t[p]=e),n(null,e);c.lastIndex=s;var r=c.exec(e);return h=u,u+=r[0],d=h+r[1],s=c.lastIndex,m[d]||t&&t[d]===d?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,d)?_(t[d]):o.lstat(d,y)}function y(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[d]=!0,t&&(t[d]=d),process.nextTick(v);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(f.hasOwnProperty(s))return b(null,f[s],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){i||(f[s]=t),b(e,t)}))}))}function b(e,i,o){if(e)return n(e);var s=r.resolve(h,i);t&&(t[o]=s),_(s)}function _(t){e=r.resolve(t,e.slice(s)),g()}g()}},function(e,t,n){var r=n(1570),i=n(1571);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[],s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),g=l||d,v=s.body.indexOf(",")>=0;if(!g&&!v)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];if(g)c=s.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var n=[],r=i("{","}",t);if(!r)return t.split(",");var o=r.pre,s=r.body,a=r.post,c=o.split(",");c[c.length-1]+="{"+s+"}";var l=e(a);a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l));return n.push.apply(n,c),n}(s.body)).length)if(1===(c=e(c[0],!1).map(h)).length)return(_=s.post.length?e(s.post,!1):[""]).map((function(e){return s.pre+c[0]+e}))}var y,b=s.pre,_=s.post.length?e(s.post,!1):[""];if(g){var w=u(c[0]),S=u(c[1]),E=Math.max(c[0].length,c[1].length),x=3==c.length?Math.abs(u(c[2])):1,C=f;S<w&&(x*=-1,C=m);var k=c.some(p);y=[];for(var D=w;C(D,S);D+=x){var T;if(d)"\\"===(T=String.fromCharCode(D))&&(T="");else if(T=String(D),k){var I=E-T.length;if(I>0){var M=new Array(I+1).join("0");T=D<0?"-"+M+T.slice(1):M+T}}y.push(T)}}else y=r(c,(function(t){return e(t,!1)}));for(var P=0;P<y.length;P++)for(var j=0;j<_.length;j++){var L=b+y[P]+_[j];(!n||g||L)&&o.push(L)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(d)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<o&&(o=i,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}e.exports=r,r.range=o},function(e,t,n){e.exports=f,f.GlobSync=m;var r=n(25),i=n(726),o=n(343),s=(o.Minimatch,n(342).Glob,n(18),n(6)),a=n(109),c=n(344),l=n(727),u=(l.alphasort,l.alphasorti,l.setopts),d=l.ownProp,h=l.childrenIgnored,p=l.isIgnored;function f(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var e=this;this.matches.forEach((function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}}))}l.finish(this)},m.prototype._process=function(e,t,n){a(this instanceof m);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,l=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var u=this._makeAbs(s);h(this,s)||(l[0]===o.GLOBSTAR?this._processGlobStar(r,s,u,l,t,n):this._processReaddir(r,s,u,l,t,n))},m.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,d=this.dot||"."===u.charAt(0),h=[],p=0;p<a.length;p++){if("."!==(g=a[p]).charAt(0)||d)(l&&!e?!g.match(c):g.match(c))&&h.push(g)}var f=h.length;if(0!==f)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<f;p++){var m;g=h[p];m=e?[e,g]:[g],this._process(m.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<f;p++){var g=h[p];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}}}},m.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e);if(d(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=s.length;if(!this.symlinks[n]||!o)for(var d=0;d<u;d++){if("."!==s[d].charAt(0)||this.dot){var h=c.concat(s[d],a);this._process(h,i,!0);var p=c.concat(s[d],r);this._process(p,i,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&d(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(e){return l.mark(this,e)},m.prototype._makeAbs=function(e){return l.makeAbs(this,e)}},function(e,t,n){var r=n(702),i=Object.create(null),o=n(246);function s(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=s(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHashString=t.FileSystemUtils=t.RawFileSystem=t.convertStat=t.convertFileType=void 0;const r=n(61),i=n(97),o=n(342),s=n(18),a=n(1);n(15);const c=n(4),l=n(728),u=n(234),d=n(1575),h=n(16);function p(e){return e.isFile()?h.FileType.File:e.isDirectory()?h.FileType.Directory:e.isSymbolicLink()?h.FileType.SymbolicLink:h.FileType.Unknown}function f(e,t){return{type:t,size:e.size,ctime:Math.round(e.ctimeMs),mtime:Math.round(e.mtimeMs)}}function m(e,t){return t===h.FileType.Unknown?e.filter(([e,t])=>t===h.FileType.Unknown||t===(h.FileType.SymbolicLink&h.FileType.Unknown)):e.filter(([e,n])=>(n&t)>0)}t.convertFileType=p,t.convertStat=f;class g{constructor(e,t,n){this.paths=e,this.vscfs=t,this.fsExtra=n}static withDefaults(e,t,n){return new g(e||u.FileSystemPaths.withDefaults(),t||a.workspace.fs,n||i)}async stat(e){const t=a.Uri.file(e);return this.vscfs.stat(t)}async lstat(e){const t=await this.fsExtra.lstat(e);return f(t,p(t))}async chmod(e,t){return this.fsExtra.chmod(e,t)}async move(e,t){const n=a.Uri.file(e),r=a.Uri.file(t);await this.vscfs.stat(a.Uri.file(this.paths.dirname(t)));const i={overwrite:!1};try{await this.vscfs.rename(n,r,i)}catch(e){if(!l.isFileExistsError(e))throw e;if((await this.vscfs.stat(r)).type===h.FileType.Directory)throw e;i.overwrite=!0,await this.vscfs.rename(n,r,i)}}async readData(e){const t=a.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n)}async readText(e){const t=a.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n).toString("utf8")}async writeText(e,t){const n=a.Uri.file(e),r=Buffer.from(t);await this.vscfs.writeFile(n,r)}async appendText(e,t){return this.fsExtra.appendFile(e,t)}async copyFile(e,t){const n=a.Uri.file(e),r=a.Uri.file(t);await this.vscfs.stat(a.Uri.file(this.paths.dirname(t))),await this.vscfs.copy(n,r,{overwrite:!0})}async rmfile(e){const t=a.Uri.file(e);return this.vscfs.delete(t,{recursive:!1,useTrash:!1})}async rmdir(e){const t=a.Uri.file(e),n=await this.vscfs.readDirectory(t);if(n&&n.length>0)throw l.createDirNotEmptyError(e);return this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async rmtree(e){const t=a.Uri.file(e);return await this.vscfs.stat(t),this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async mkdirp(e){const t=a.Uri.file(e);await this.vscfs.createDirectory(t)}async listdir(e){const t=a.Uri.file(e);return(await this.vscfs.readDirectory(t)).map(([t,n])=>[this.paths.join(e,t),n])}statSync(e){let t=this.fsExtra.lstatSync(e),n=h.FileType.Unknown;return t.isSymbolicLink()&&(n=h.FileType.SymbolicLink,t=this.fsExtra.statSync(e)),n|=p(t),f(t,n)}readTextSync(e){return this.fsExtra.readFileSync(e,"utf8")}createReadStream(e){return this.fsExtra.createReadStream(e)}createWriteStream(e){return this.fsExtra.createWriteStream(e)}}t.RawFileSystem=g;class v{constructor(e,t,n,r,i,o){this.raw=e,this.pathUtils=t,this.paths=n,this.tmp=r,this.getHash=i,this.globFiles=o}static withDefaults(e,t,n,r,i){return t=t||u.FileSystemPathUtils.withDefaults(),new v(e||g.withDefaults(t.paths),t,t.paths,n||d.TemporaryFileSystem.withDefaults(),r||y,i||s.promisify(o))}async createDirectory(e){return this.raw.mkdirp(e)}async deleteDirectory(e){return this.raw.rmdir(e)}async deleteFile(e){return this.raw.rmfile(e)}async pathExists(e,t){let n;try{n=await this.raw.stat(e)}catch(t){return l.isFileNotFoundError(t)||c.traceError(`stat() failed for "${e}"`,t),!1}return void 0===t||(t===h.FileType.Unknown?n.type===h.FileType.Unknown:(n.type&t)===t)}async fileExists(e){return this.pathExists(e,h.FileType.File)}async directoryExists(e){return this.pathExists(e,h.FileType.Directory)}async listdir(e){try{return await this.raw.listdir(e)}catch(t){if(!await this.pathExists(e))return[];throw t}}async getSubDirectories(e){return m(await this.listdir(e),h.FileType.Directory).map(([e,t])=>e)}async getFiles(e){return m(await this.listdir(e),h.FileType.File).map(([e,t])=>e)}async isDirReadonly(e){const t=`${e}${this.paths.sep}___vscpTest___`;try{await this.raw.stat(e),await this.raw.writeText(t,"")}catch(e){if(l.isNoPermissionsError(e))return!0;throw e}return this.raw.rmfile(t).ignoreErrors(),!1}async getFileHash(e){const t=await this.raw.lstat(e),n=`${t.ctime}-${t.mtime}`;return this.getHash(n)}async search(e,t,n){let r;t&&(r={...r,cwd:t}),n&&(r={...r,dot:n});const i=await this.globFiles(e,r);return Array.isArray(i)?i:[]}fileExistsSync(e){try{this.raw.statSync(e)}catch(e){if(l.isFileNotFoundError(e))return!1;throw e}return!0}}function y(e){const t=r.createHash("sha512");return t.update(e),t.digest("hex")}t.FileSystemUtils=v,t.getHashString=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryFileSystem=void 0;const r=n(319);class i{constructor(e){this.raw=e}static withDefaults(){return new i(r)}createFile(e,t){const n={postfix:e,mode:t};return new Promise((e,t)=>{this.raw.file(n,(n,r,i,o)=>{if(n)return t(n);e({filePath:r,dispose:o})})})}}t.TemporaryFileSystem=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setExtensionInstallTelemetryProperties=void 0;const r=n(6),i=n(8),o=n(107);t.setExtensionInstallTelemetryProperties=async function(e){const t=r.join(r.dirname(o.EXTENSION_ROOT_DIR),"PythonCodingPack");await e.localFileExists(t)?i.setSharedProperty("installSource","pythonCodingPack"):i.setSharedProperty("installSource","marketPlace")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(1578),i=n(503);t.registerTypes=function(e){e.addSingleton(i.ICodeExecutionHelper,r.CodeExecutionHelper)}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionHelper=void 0,n(15);const o=n(0),s=n(1),a=n(7),c=n(14),l=n(4),u=n(295),d=n(39),h=n(19),p=n(33),f=n(40);let m=class{constructor(e){this.documentManager=e.get(a.IDocumentManager),this.applicationShell=e.get(a.IApplicationShell),this.processServiceFactory=e.get(d.IProcessServiceFactory),this.interpreterService=e.get(p.IInterpreterService)}async normalizeLines(e,t){var n,r,i,o;try{if(0===e.trim().length)return"";e=e.replace(new RegExp("\\r","g"),"");const s=await this.interpreterService.getActiveInterpreter(t),a=await this.processServiceFactory.create(t),[c,l]=u.normalizeSelection(),d=a.execObservable((null==s?void 0:s.path)||"python",c,{throwOnStdErr:!0}),p=h.createDeferred();let f="";d.out.subscribe({next:e=>{"stdout"===e.source&&(f+=e.out)},complete:()=>{p.resolve(f)}});const m=JSON.stringify({code:e});null===(r=null===(n=d.proc)||void 0===n?void 0:n.stdin)||void 0===r||r.write(m),null===(o=null===(i=d.proc)||void 0===i?void 0:i.stdin)||void 0===o||o.end();const g=await p.promise;return l(JSON.parse(g).normalized)}catch(t){return l.traceError(t,"Python: Failed to normalize code for execution in terminal"),e}}async getFileToExecute(){const e=this.documentManager.activeTextEditor;if(e)if(e.document.isUntitled)this.applicationShell.showErrorMessage("The active file needs to be saved before it can be run");else{if(e.document.languageId===c.PYTHON_LANGUAGE)return e.document.isDirty&&await e.document.save(),e.document.uri;this.applicationShell.showErrorMessage("The active file is not a Python source file")}else this.applicationShell.showErrorMessage("No open file to run in terminal")}async getSelectedTextToExecute(e){if(!e)return;const t=e.selection;let n;return n=t.isEmpty?e.document.lineAt(t.start.line).text:t.isSingleLine?this.getSingleLineSelectionText(e):this.getMultiLineSelectionText(e),n}async saveFileIfDirty(e){const t=this.documentManager.textDocuments.filter(t=>t.uri.path===e.path);1===t.length&&t[0].isDirty&&await t[0].save()}getSingleLineSelectionText(e){const t=e.selection,n=new s.Range(t.start,t.end),r=e.document.getText(n),i=e.document.lineAt(t.start.line).text;return r.trim()===i.trim()?i:r}getMultiLineSelectionText(e){const t=e.selection,n=new s.Range(t.start,t.end),r=e.document.getText(n),i=new s.Range(new s.Position(t.start.line,0),new s.Position(t.end.line,e.document.lineAt(t.end.line).text.length)),o=e.document.getText(i);if(r.trim()===o.trim())return o;const a=e.document.lineAt(t.start.line).text,c=new s.Range(t.start,new s.Position(t.start.line,a.length)),l=e.document.getText(c);return l.trimLeft()===a.trimLeft()?a+r.substr(l.length):r}};m=r([o.injectable(),i(0,o.inject(f.IServiceContainer))],m),t.CodeExecutionHelper=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeGlobals=void 0;const r=n(0),i=n(3),o=n(1580),s=n(1581),a=n(40);t.initializeGlobals=function(e){const t=new r.Container,n=new s.ServiceManager(t),c=new o.ServiceContainer(t);return n.addSingletonInstance(a.IServiceContainer,c),n.addSingletonInstance(a.IServiceManager,n),n.addSingletonInstance(i.IDisposableRegistry,e.subscriptions),n.addSingletonInstance(i.IMemento,e.globalState,i.GLOBAL_MEMENTO),n.addSingletonInstance(i.IMemento,e.workspaceState,i.WORKSPACE_MEMENTO),n.addSingletonInstance(i.IExtensionContext,e),[n,c]}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceContainer=void 0;const i=n(35),o=n(0),s=n(4);try{o.decorate(o.injectable(),i.EventEmitter)}catch(e){s.traceWarning("Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)",e)}let a=class{constructor(e){this.container=e}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}};a=r([o.injectable()],a),t.ServiceContainer=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const i=n(0);let o=class{constructor(e){this.container=e}add(e,t,n,r){n?this.container.bind(e).to(t).whenTargetNamed(n):this.container.bind(e).to(t),r&&r.forEach(t=>{this.addBinding(e,t)})}addFactory(e,t){this.container.bind(e).toFactory(t)}addBinding(e,t){this.container.bind(t).toService(e)}addSingleton(e,t,n,r){n?this.container.bind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.bind(e).to(t).inSingletonScope(),r&&r.forEach(t=>{this.addBinding(e,t)})}addSingletonInstance(e,t,n){n?this.container.bind(e).toConstantValue(t).whenTargetNamed(n):this.container.bind(e).toConstantValue(t)}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}rebind(e,t,n){n?this.container.rebind(e).to(t).whenTargetNamed(n):this.container.rebind(e).to(t)}rebindSingleton(e,t,n){n?this.container.rebind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.rebind(e).to(t).inSingletonScope()}rebindInstance(e,t,n){n?this.container.rebind(e).toConstantValue(t).whenTargetNamed(n):this.container.rebind(e).toConstantValue(t)}dispose(){this.container.unbindAll(),this.container.unload()}};o=r([i.injectable()],o),t.ServiceManager=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendErrorTelemetry=t.sendStartupTelemetry=void 0;const r=n(7),i=n(14),o=n(4),s=n(8),a=n(86);async function c(e){const t=e.get(r.IWorkspaceService);return{workspaceFolderCount:t.hasWorkspaceFolders?t.workspaceFolders.length:0}}t.sendStartupTelemetry=async function(e,t,n,r){if(!i.isTestExecution())try{await e,t.totalActivateTime=n.elapsedTime;const i=await c(r);s.sendTelemetryEvent(a.EventName.EXTENSION_LOAD,t,i)}catch(e){o.traceError("sendStartupTelemetry() failed.",e)}},t.sendErrorTelemetry=async function(e,t,n){try{let r={};if(n)try{r=await c(n)}catch(e){o.traceError("getActivationTelemetryProps() failed.",e)}s.sendTelemetryEvent(a.EventName.EXTENSION_LOAD,t,r,e)}catch(e){o.traceError("sendErrorTelemetry() failed.",e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"config",(function(){return r.a})),n.d(t,"InnerSubscriber",(function(){return i.a})),n.d(t,"OuterSubscriber",(function(){return o.a})),n.d(t,"Scheduler",(function(){return s.a})),n.d(t,"AnonymousSubject",(function(){return a.a})),n.d(t,"SubjectSubscription",(function(){return c.a})),n.d(t,"Subscriber",(function(){return l.a})),n.d(t,"fromPromise",(function(){return p})),n.d(t,"fromIterable",(function(){return g})),n.d(t,"ajax",(function(){return N})),n.d(t,"webSocket",(function(){return Y})),n.d(t,"ajaxGet",(function(){return E})),n.d(t,"ajaxPost",(function(){return x})),n.d(t,"ajaxDelete",(function(){return C})),n.d(t,"ajaxPut",(function(){return k})),n.d(t,"ajaxPatch",(function(){return D})),n.d(t,"ajaxGetJSON",(function(){return I})),n.d(t,"AjaxObservable",(function(){return M})),n.d(t,"AjaxSubscriber",(function(){return P})),n.d(t,"AjaxResponse",(function(){return j})),n.d(t,"AjaxError",(function(){return L})),n.d(t,"AjaxTimeoutError",(function(){return A})),n.d(t,"WebSocketSubject",(function(){return U})),n.d(t,"CombineLatestOperator",(function(){return W.a})),n.d(t,"dispatch",(function(){return H.a})),n.d(t,"SubscribeOnObservable",(function(){return q})),n.d(t,"Timestamp",(function(){return J})),n.d(t,"TimeInterval",(function(){return $})),n.d(t,"GroupedObservable",(function(){return z.a})),n.d(t,"defaultThrottleConfig",(function(){return Q})),n.d(t,"rxSubscriber",(function(){return X.a})),n.d(t,"iterator",(function(){return Z.a})),n.d(t,"observable",(function(){return ee.a})),n.d(t,"ArgumentOutOfRangeError",(function(){return te.a})),n.d(t,"EmptyError",(function(){return ne.a})),n.d(t,"Immediate",(function(){return re.a})),n.d(t,"ObjectUnsubscribedError",(function(){return ie.a})),n.d(t,"TimeoutError",(function(){return oe.a})),n.d(t,"UnsubscriptionError",(function(){return se.a})),n.d(t,"applyMixins",(function(){return ae})),n.d(t,"errorObject",(function(){return ce})),n.d(t,"hostReportError",(function(){return le.a})),n.d(t,"identity",(function(){return ue.a})),n.d(t,"isArray",(function(){return de.a})),n.d(t,"isArrayLike",(function(){return he.a})),n.d(t,"isDate",(function(){return pe})),n.d(t,"isFunction",(function(){return me.a})),n.d(t,"isIterable",(function(){return ge.a})),n.d(t,"isNumeric",(function(){return K.a})),n.d(t,"isObject",(function(){return ve.a})),n.d(t,"isObservable",(function(){return ye.a})),n.d(t,"isPromise",(function(){return be.a})),n.d(t,"isScheduler",(function(){return _e.a})),n.d(t,"noop",(function(){return we.a})),n.d(t,"not",(function(){return Se.a})),n.d(t,"pipe",(function(){return Ee.a})),n.d(t,"root",(function(){return w})),n.d(t,"subscribeTo",(function(){return xe.a})),n.d(t,"subscribeToArray",(function(){return Ce.a})),n.d(t,"subscribeToIterable",(function(){return f.a})),n.d(t,"subscribeToObservable",(function(){return ke.a})),n.d(t,"subscribeToPromise",(function(){return d.a})),n.d(t,"subscribeToResult",(function(){return G.a})),n.d(t,"toSubscriber",(function(){return De.a})),n.d(t,"tryCatch",(function(){return Ie}));var r=n(47),i=n(157),o=n(75),s=n(135),a=n(45),c=n(158),l=n(20),u=n(12),d=n(159),h=n(256);function p(e,t){return t?Object(h.a)(e,t):new u.a(Object(d.a)(e))}var f=n(160),m=n(257);function g(e,t){if(!e)throw new Error("Iterable cannot be null");return t?Object(m.a)(e,t):new u.a(Object(f.a)(e))}var v=n(11),y="undefined"!=typeof window&&window,b="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_="undefined"!=typeof global&&global,w=y||_||b,S=n(46);function E(e,t){return void 0===t&&(t=null),new M({method:"GET",url:e,headers:t})}function x(e,t,n){return new M({method:"POST",url:e,body:t,headers:n})}function C(e,t){return new M({method:"DELETE",url:e,headers:t})}function k(e,t,n){return new M({method:"PUT",url:e,body:t,headers:n})}function D(e,t,n){return new M({method:"PATCH",url:e,body:t,headers:n})}var T=Object(S.a)((function(e,t){return e.response}));function I(e,t){return T(new M({method:"GET",url:e,responseType:"json",headers:t}))}var M=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(w.XMLHttpRequest)return new w.XMLHttpRequest;if(w.XDomainRequest)return new w.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(w.XMLHttpRequest)return new w.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new w.ActiveXObject(e))break}catch(e){}return new w.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return n.request=r,n}var n;return v.b(t,e),t.prototype._subscribe=function(e){return new P(e,this.request)},t.create=((n=function(e){return new t(e)}).get=E,n.post=x,n.delete=C,n.put=k,n.patch=D,n.getJSON=I,n),t}(u.a),P=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var i=n.headers=n.headers||{};return n.crossDomain||r.getHeader(i,"X-Requested-With")||(i["X-Requested-With"]="XMLHttpRequest"),r.getHeader(i,"Content-Type")||w.FormData&&n.body instanceof w.FormData||void 0===n.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return v.b(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this.xhr,r=this.request,i=this.destination;try{t=new j(e,n,r)}catch(e){return i.error(e)}i.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,i=t.url,o=t.async,s=t.password,a=t.headers,c=t.body;try{var l=this.xhr=e.createXHR();this.setupEvents(l,e),n?l.open(r,i,o,n,s):l.open(r,i,o),o&&(l.timeout=e.timeout,l.responseType=e.responseType),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),this.setHeaders(l,a),c?l.send(c):l.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(w.FormData&&e instanceof w.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n=t.progressSubscriber;function r(e){var t,n=r,i=n.subscriber,o=n.progressSubscriber,s=n.request;o&&o.error(e);try{t=new A(this,s)}catch(e){t=e}i.error(t)}if(e.ontimeout=r,r.request=t,r.subscriber=this,r.progressSubscriber=n,e.upload&&"withCredentials"in e){var i,o;if(n)i=function(e){i.progressSubscriber.next(e)},w.XDomainRequest?e.onprogress=i:e.upload.onprogress=i,i.progressSubscriber=n;o=function(e){var t,n=o,r=n.progressSubscriber,i=n.subscriber,s=n.request;r&&r.error(e);try{t=new L("ajax error",this,s)}catch(e){t=e}i.error(t)},e.onerror=o,o.request=t,o.subscriber=this,o.progressSubscriber=n}function s(e){}function a(e){var t=a,n=t.subscriber,r=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===o&&(o=s?200:0),o<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var c=void 0;try{c=new L("ajax error "+o,this,i)}catch(e){c=e}n.error(c)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=n,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=n,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(l.a),j=function(){return function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=O(this.responseType,t)}}(),L=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=O(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function O(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}var A=function(e,t){return L.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},N=function(){return M.create}(),R=n(21),F=n(169),B={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}},U=function(e){function t(t,n){var r=e.call(this)||this;if(t instanceof u.a)r.destination=n,r.source=t;else{var i=r._config=v.a({},B);if(r._output=new a.b,"string"==typeof t)i.url=t;else for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");r.destination=new F.a}return r}return v.b(t,e),t.prototype.lift=function(e){var n=new t(this._config,this.destination);return n.operator=e,n.source=this,n},t.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new F.a),this._output=new a.b},t.prototype.multiplex=function(e,t,n){var r=this;return new u.a((function(i){try{r.next(e())}catch(e){i.error(e)}var o=r.subscribe((function(e){try{n(e)&&i.next(e)}catch(e){i.error(e)}}),(function(e){return i.error(e)}),(function(){return i.complete()}));return function(){try{r.next(t())}catch(e){i.error(e)}o.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this._config,n=t.WebSocketCtor,r=t.protocol,i=t.url,o=t.binaryType,s=this._output,a=null;try{a=r?new n(i,r):new n(i),this._socket=a,o&&(this._socket.binaryType=o)}catch(e){return void s.error(e)}var c=new R.a((function(){e._socket=null,a&&1===a.readyState&&a.close()}));a.onopen=function(t){if(!e._socket)return a.close(),void e._resetState();var n=e._config.openObserver;n&&n.next(t);var r=e.destination;e.destination=l.a.create((function(t){if(1===a.readyState)try{var n=e._config.serializer;a.send(n(t))}catch(t){e.destination.error(t)}}),(function(t){var n=e._config.closingObserver;n&&n.next(void 0),t&&t.code?a.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e._config.closingObserver;t&&t.next(void 0),a.close(),e._resetState()})),r&&r instanceof F.a&&c.add(r.subscribe(e.destination))},a.onerror=function(t){e._resetState(),s.error(t)},a.onclose=function(t){e._resetState();var n=e._config.closeObserver;n&&n.next(t),t.wasClean?s.complete():s.error(t)},a.onmessage=function(t){try{var n=e._config.deserializer;s.next(n(t))}catch(e){s.error(e)}}},t.prototype._subscribe=function(e){var t=this,n=this.source;return n?n.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((function(){var e=t._socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),e)},t.prototype.unsubscribe=function(){var t=this._socket;t&&1===t.readyState&&t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},t}(a.a);function Y(e){return new U(e)}var W=n(214),H=n(215),V=n(168),K=n(105),q=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=V.a);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(K.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=V.a),i}return v.b(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=V.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(u.a);n(82);var J=function(){return function(e,t){this.value=e,this.timestamp=t}}();l.a,n(165);var $=function(){return function(e,t){this.value=e,this.interval=t}}(),z=n(216),G=n(76),Q={leading:!0,trailing:!1};o.a;var X=n(102),Z=n(60),ee=n(66),te=n(217),ne=n(218),re=n(199),ie=n(67),oe=n(219),se=n(103);function ae(e,t){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];e.prototype[c]=i.prototype[c]}}var ce={e:{}},le=n(83),ue=n(101),de=n(30),he=n(163);function pe(e){return e instanceof Date&&!isNaN(+e)}var fe,me=n(81),ge=n(252),ve=n(122),ye=n(251),be=n(164),_e=n(49),we=n(121),Se=n(253),Ee=n(156),xe=n(104),Ce=n(162),ke=n(250),De=n(248);function Te(){ce.e=void 0;try{return fe.apply(this,arguments)}catch(e){return ce.e=e,ce}finally{fe=void 0}}function Ie(e){return fe=e,Te}}]);
//# sourceMappingURL=extension.js.map